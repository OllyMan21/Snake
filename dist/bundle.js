/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/call-bind/callBound.js":
/*!*********************************************!*\
  !*** ./node_modules/call-bind/callBound.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var GetIntrinsic = __webpack_require__(/*! get-intrinsic */ "./node_modules/get-intrinsic/index.js");

var callBind = __webpack_require__(/*! ./ */ "./node_modules/call-bind/index.js");

var $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));

module.exports = function callBoundIntrinsic(name, allowMissing) {
	var intrinsic = GetIntrinsic(name, !!allowMissing);
	if (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {
		return callBind(intrinsic);
	}
	return intrinsic;
};


/***/ }),

/***/ "./node_modules/call-bind/index.js":
/*!*****************************************!*\
  !*** ./node_modules/call-bind/index.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");
var GetIntrinsic = __webpack_require__(/*! get-intrinsic */ "./node_modules/get-intrinsic/index.js");

var $apply = GetIntrinsic('%Function.prototype.apply%');
var $call = GetIntrinsic('%Function.prototype.call%');
var $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);

var $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);
var $defineProperty = GetIntrinsic('%Object.defineProperty%', true);
var $max = GetIntrinsic('%Math.max%');

if ($defineProperty) {
	try {
		$defineProperty({}, 'a', { value: 1 });
	} catch (e) {
		// IE 8 has a broken defineProperty
		$defineProperty = null;
	}
}

module.exports = function callBind(originalFunction) {
	var func = $reflectApply(bind, $call, arguments);
	if ($gOPD && $defineProperty) {
		var desc = $gOPD(func, 'length');
		if (desc.configurable) {
			// original length, plus the receiver, minus any additional arguments (after the receiver)
			$defineProperty(
				func,
				'length',
				{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }
			);
		}
	}
	return func;
};

var applyBind = function applyBind() {
	return $reflectApply(bind, $apply, arguments);
};

if ($defineProperty) {
	$defineProperty(module.exports, 'apply', { value: applyBind });
} else {
	module.exports.apply = applyBind;
}


/***/ }),

/***/ "./node_modules/earcut/src/earcut.js":
/*!*******************************************!*\
  !*** ./node_modules/earcut/src/earcut.js ***!
  \*******************************************/
/***/ ((module) => {

"use strict";


module.exports = earcut;
module.exports["default"] = earcut;

function earcut(data, holeIndices, dim) {

    dim = dim || 2;

    var hasHoles = holeIndices && holeIndices.length,
        outerLen = hasHoles ? holeIndices[0] * dim : data.length,
        outerNode = linkedList(data, 0, outerLen, dim, true),
        triangles = [];

    if (!outerNode || outerNode.next === outerNode.prev) return triangles;

    var minX, minY, maxX, maxY, x, y, invSize;

    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);

    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox
    if (data.length > 80 * dim) {
        minX = maxX = data[0];
        minY = maxY = data[1];

        for (var i = dim; i < outerLen; i += dim) {
            x = data[i];
            y = data[i + 1];
            if (x < minX) minX = x;
            if (y < minY) minY = y;
            if (x > maxX) maxX = x;
            if (y > maxY) maxY = y;
        }

        // minX, minY and invSize are later used to transform coords into integers for z-order calculation
        invSize = Math.max(maxX - minX, maxY - minY);
        invSize = invSize !== 0 ? 32767 / invSize : 0;
    }

    earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);

    return triangles;
}

// create a circular doubly linked list from polygon points in the specified winding order
function linkedList(data, start, end, dim, clockwise) {
    var i, last;

    if (clockwise === (signedArea(data, start, end, dim) > 0)) {
        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);
    } else {
        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);
    }

    if (last && equals(last, last.next)) {
        removeNode(last);
        last = last.next;
    }

    return last;
}

// eliminate colinear or duplicate points
function filterPoints(start, end) {
    if (!start) return start;
    if (!end) end = start;

    var p = start,
        again;
    do {
        again = false;

        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {
            removeNode(p);
            p = end = p.prev;
            if (p === p.next) break;
            again = true;

        } else {
            p = p.next;
        }
    } while (again || p !== end);

    return end;
}

// main ear slicing loop which triangulates a polygon (given as a linked list)
function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {
    if (!ear) return;

    // interlink polygon nodes in z-order
    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);

    var stop = ear,
        prev, next;

    // iterate through ears, slicing them one by one
    while (ear.prev !== ear.next) {
        prev = ear.prev;
        next = ear.next;

        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {
            // cut off the triangle
            triangles.push(prev.i / dim | 0);
            triangles.push(ear.i / dim | 0);
            triangles.push(next.i / dim | 0);

            removeNode(ear);

            // skipping the next vertex leads to less sliver triangles
            ear = next.next;
            stop = next.next;

            continue;
        }

        ear = next;

        // if we looped through the whole remaining polygon and can't find any more ears
        if (ear === stop) {
            // try filtering points and slicing again
            if (!pass) {
                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);

            // if this didn't work, try curing all small self-intersections locally
            } else if (pass === 1) {
                ear = cureLocalIntersections(filterPoints(ear), triangles, dim);
                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);

            // as a last resort, try splitting the remaining polygon into two
            } else if (pass === 2) {
                splitEarcut(ear, triangles, dim, minX, minY, invSize);
            }

            break;
        }
    }
}

// check whether a polygon node forms a valid ear with adjacent nodes
function isEar(ear) {
    var a = ear.prev,
        b = ear,
        c = ear.next;

    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear

    // now make sure we don't have other points inside the potential ear
    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;

    // triangle bbox; min & max are calculated like this for speed
    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),
        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),
        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),
        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);

    var p = c.next;
    while (p !== a) {
        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 &&
            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) &&
            area(p.prev, p, p.next) >= 0) return false;
        p = p.next;
    }

    return true;
}

function isEarHashed(ear, minX, minY, invSize) {
    var a = ear.prev,
        b = ear,
        c = ear.next;

    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear

    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;

    // triangle bbox; min & max are calculated like this for speed
    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),
        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),
        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),
        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);

    // z-order range for the current triangle bbox;
    var minZ = zOrder(x0, y0, minX, minY, invSize),
        maxZ = zOrder(x1, y1, minX, minY, invSize);

    var p = ear.prevZ,
        n = ear.nextZ;

    // look for points inside the triangle in both directions
    while (p && p.z >= minZ && n && n.z <= maxZ) {
        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&
            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;
        p = p.prevZ;

        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&
            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;
        n = n.nextZ;
    }

    // look for remaining points in decreasing z-order
    while (p && p.z >= minZ) {
        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&
            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;
        p = p.prevZ;
    }

    // look for remaining points in increasing z-order
    while (n && n.z <= maxZ) {
        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&
            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;
        n = n.nextZ;
    }

    return true;
}

// go through all polygon nodes and cure small local self-intersections
function cureLocalIntersections(start, triangles, dim) {
    var p = start;
    do {
        var a = p.prev,
            b = p.next.next;

        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {

            triangles.push(a.i / dim | 0);
            triangles.push(p.i / dim | 0);
            triangles.push(b.i / dim | 0);

            // remove two nodes involved
            removeNode(p);
            removeNode(p.next);

            p = start = b;
        }
        p = p.next;
    } while (p !== start);

    return filterPoints(p);
}

// try splitting polygon into two and triangulate them independently
function splitEarcut(start, triangles, dim, minX, minY, invSize) {
    // look for a valid diagonal that divides the polygon into two
    var a = start;
    do {
        var b = a.next.next;
        while (b !== a.prev) {
            if (a.i !== b.i && isValidDiagonal(a, b)) {
                // split the polygon in two by the diagonal
                var c = splitPolygon(a, b);

                // filter colinear points around the cuts
                a = filterPoints(a, a.next);
                c = filterPoints(c, c.next);

                // run earcut on each half
                earcutLinked(a, triangles, dim, minX, minY, invSize, 0);
                earcutLinked(c, triangles, dim, minX, minY, invSize, 0);
                return;
            }
            b = b.next;
        }
        a = a.next;
    } while (a !== start);
}

// link every hole into the outer loop, producing a single-ring polygon without holes
function eliminateHoles(data, holeIndices, outerNode, dim) {
    var queue = [],
        i, len, start, end, list;

    for (i = 0, len = holeIndices.length; i < len; i++) {
        start = holeIndices[i] * dim;
        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;
        list = linkedList(data, start, end, dim, false);
        if (list === list.next) list.steiner = true;
        queue.push(getLeftmost(list));
    }

    queue.sort(compareX);

    // process holes from left to right
    for (i = 0; i < queue.length; i++) {
        outerNode = eliminateHole(queue[i], outerNode);
    }

    return outerNode;
}

function compareX(a, b) {
    return a.x - b.x;
}

// find a bridge between vertices that connects hole with an outer ring and and link it
function eliminateHole(hole, outerNode) {
    var bridge = findHoleBridge(hole, outerNode);
    if (!bridge) {
        return outerNode;
    }

    var bridgeReverse = splitPolygon(bridge, hole);

    // filter collinear points around the cuts
    filterPoints(bridgeReverse, bridgeReverse.next);
    return filterPoints(bridge, bridge.next);
}

// David Eberly's algorithm for finding a bridge between hole and outer polygon
function findHoleBridge(hole, outerNode) {
    var p = outerNode,
        hx = hole.x,
        hy = hole.y,
        qx = -Infinity,
        m;

    // find a segment intersected by a ray from the hole's leftmost point to the left;
    // segment's endpoint with lesser x will be potential connection point
    do {
        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {
            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);
            if (x <= hx && x > qx) {
                qx = x;
                m = p.x < p.next.x ? p : p.next;
                if (x === hx) return m; // hole touches outer segment; pick leftmost endpoint
            }
        }
        p = p.next;
    } while (p !== outerNode);

    if (!m) return null;

    // look for points inside the triangle of hole point, segment intersection and endpoint;
    // if there are no points found, we have a valid connection;
    // otherwise choose the point of the minimum angle with the ray as connection point

    var stop = m,
        mx = m.x,
        my = m.y,
        tanMin = Infinity,
        tan;

    p = m;

    do {
        if (hx >= p.x && p.x >= mx && hx !== p.x &&
                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {

            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential

            if (locallyInside(p, hole) &&
                (tan < tanMin || (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p)))))) {
                m = p;
                tanMin = tan;
            }
        }

        p = p.next;
    } while (p !== stop);

    return m;
}

// whether sector in vertex m contains sector in vertex p in the same coordinates
function sectorContainsSector(m, p) {
    return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;
}

// interlink polygon nodes in z-order
function indexCurve(start, minX, minY, invSize) {
    var p = start;
    do {
        if (p.z === 0) p.z = zOrder(p.x, p.y, minX, minY, invSize);
        p.prevZ = p.prev;
        p.nextZ = p.next;
        p = p.next;
    } while (p !== start);

    p.prevZ.nextZ = null;
    p.prevZ = null;

    sortLinked(p);
}

// Simon Tatham's linked list merge sort algorithm
// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html
function sortLinked(list) {
    var i, p, q, e, tail, numMerges, pSize, qSize,
        inSize = 1;

    do {
        p = list;
        list = null;
        tail = null;
        numMerges = 0;

        while (p) {
            numMerges++;
            q = p;
            pSize = 0;
            for (i = 0; i < inSize; i++) {
                pSize++;
                q = q.nextZ;
                if (!q) break;
            }
            qSize = inSize;

            while (pSize > 0 || (qSize > 0 && q)) {

                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {
                    e = p;
                    p = p.nextZ;
                    pSize--;
                } else {
                    e = q;
                    q = q.nextZ;
                    qSize--;
                }

                if (tail) tail.nextZ = e;
                else list = e;

                e.prevZ = tail;
                tail = e;
            }

            p = q;
        }

        tail.nextZ = null;
        inSize *= 2;

    } while (numMerges > 1);

    return list;
}

// z-order of a point given coords and inverse of the longer side of data bbox
function zOrder(x, y, minX, minY, invSize) {
    // coords are transformed into non-negative 15-bit integer range
    x = (x - minX) * invSize | 0;
    y = (y - minY) * invSize | 0;

    x = (x | (x << 8)) & 0x00FF00FF;
    x = (x | (x << 4)) & 0x0F0F0F0F;
    x = (x | (x << 2)) & 0x33333333;
    x = (x | (x << 1)) & 0x55555555;

    y = (y | (y << 8)) & 0x00FF00FF;
    y = (y | (y << 4)) & 0x0F0F0F0F;
    y = (y | (y << 2)) & 0x33333333;
    y = (y | (y << 1)) & 0x55555555;

    return x | (y << 1);
}

// find the leftmost node of a polygon ring
function getLeftmost(start) {
    var p = start,
        leftmost = start;
    do {
        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;
        p = p.next;
    } while (p !== start);

    return leftmost;
}

// check if a point lies within a convex triangle
function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {
    return (cx - px) * (ay - py) >= (ax - px) * (cy - py) &&
           (ax - px) * (by - py) >= (bx - px) * (ay - py) &&
           (bx - px) * (cy - py) >= (cx - px) * (by - py);
}

// check if a diagonal between two polygon nodes is valid (lies in polygon interior)
function isValidDiagonal(a, b) {
    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges
           (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible
            (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors
            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case
}

// signed area of a triangle
function area(p, q, r) {
    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);
}

// check if two points are equal
function equals(p1, p2) {
    return p1.x === p2.x && p1.y === p2.y;
}

// check if two segments intersect
function intersects(p1, q1, p2, q2) {
    var o1 = sign(area(p1, q1, p2));
    var o2 = sign(area(p1, q1, q2));
    var o3 = sign(area(p2, q2, p1));
    var o4 = sign(area(p2, q2, q1));

    if (o1 !== o2 && o3 !== o4) return true; // general case

    if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1
    if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1
    if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2
    if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2

    return false;
}

// for collinear points p, q, r, check if point q lies on segment pr
function onSegment(p, q, r) {
    return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);
}

function sign(num) {
    return num > 0 ? 1 : num < 0 ? -1 : 0;
}

// check if a polygon diagonal intersects any polygon segments
function intersectsPolygon(a, b) {
    var p = a;
    do {
        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&
                intersects(p, p.next, a, b)) return true;
        p = p.next;
    } while (p !== a);

    return false;
}

// check if a polygon diagonal is locally inside the polygon
function locallyInside(a, b) {
    return area(a.prev, a, a.next) < 0 ?
        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :
        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;
}

// check if the middle point of a polygon diagonal is inside the polygon
function middleInside(a, b) {
    var p = a,
        inside = false,
        px = (a.x + b.x) / 2,
        py = (a.y + b.y) / 2;
    do {
        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&
                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))
            inside = !inside;
        p = p.next;
    } while (p !== a);

    return inside;
}

// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;
// if one belongs to the outer ring and another to a hole, it merges it into a single ring
function splitPolygon(a, b) {
    var a2 = new Node(a.i, a.x, a.y),
        b2 = new Node(b.i, b.x, b.y),
        an = a.next,
        bp = b.prev;

    a.next = b;
    b.prev = a;

    a2.next = an;
    an.prev = a2;

    b2.next = a2;
    a2.prev = b2;

    bp.next = b2;
    b2.prev = bp;

    return b2;
}

// create a node and optionally link it with previous one (in a circular doubly linked list)
function insertNode(i, x, y, last) {
    var p = new Node(i, x, y);

    if (!last) {
        p.prev = p;
        p.next = p;

    } else {
        p.next = last.next;
        p.prev = last;
        last.next.prev = p;
        last.next = p;
    }
    return p;
}

function removeNode(p) {
    p.next.prev = p.prev;
    p.prev.next = p.next;

    if (p.prevZ) p.prevZ.nextZ = p.nextZ;
    if (p.nextZ) p.nextZ.prevZ = p.prevZ;
}

function Node(i, x, y) {
    // vertex index in coordinates array
    this.i = i;

    // vertex coordinates
    this.x = x;
    this.y = y;

    // previous and next vertex nodes in a polygon ring
    this.prev = null;
    this.next = null;

    // z-order curve value
    this.z = 0;

    // previous and next nodes in z-order
    this.prevZ = null;
    this.nextZ = null;

    // indicates whether this is a steiner point
    this.steiner = false;
}

// return a percentage difference between the polygon area and its triangulation area;
// used to verify correctness of triangulation
earcut.deviation = function (data, holeIndices, dim, triangles) {
    var hasHoles = holeIndices && holeIndices.length;
    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;

    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));
    if (hasHoles) {
        for (var i = 0, len = holeIndices.length; i < len; i++) {
            var start = holeIndices[i] * dim;
            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;
            polygonArea -= Math.abs(signedArea(data, start, end, dim));
        }
    }

    var trianglesArea = 0;
    for (i = 0; i < triangles.length; i += 3) {
        var a = triangles[i] * dim;
        var b = triangles[i + 1] * dim;
        var c = triangles[i + 2] * dim;
        trianglesArea += Math.abs(
            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -
            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));
    }

    return polygonArea === 0 && trianglesArea === 0 ? 0 :
        Math.abs((trianglesArea - polygonArea) / polygonArea);
};

function signedArea(data, start, end, dim) {
    var sum = 0;
    for (var i = start, j = end - dim; i < end; i += dim) {
        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);
        j = i;
    }
    return sum;
}

// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts
earcut.flatten = function (data) {
    var dim = data[0][0].length,
        result = {vertices: [], holes: [], dimensions: dim},
        holeIndex = 0;

    for (var i = 0; i < data.length; i++) {
        for (var j = 0; j < data[i].length; j++) {
            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);
        }
        if (i > 0) {
            holeIndex += data[i - 1].length;
            result.holes.push(holeIndex);
        }
    }
    return result;
};


/***/ }),

/***/ "./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/***/ ((module) => {

"use strict";


var has = Object.prototype.hasOwnProperty
  , prefix = '~';

/**
 * Constructor to create a storage for our `EE` objects.
 * An `Events` instance is a plain object whose properties are event names.
 *
 * @constructor
 * @private
 */
function Events() {}

//
// We try to not inherit from `Object.prototype`. In some engines creating an
// instance in this way is faster than calling `Object.create(null)` directly.
// If `Object.create(null)` is not supported we prefix the event names with a
// character to make sure that the built-in object properties are not
// overridden or used as an attack vector.
//
if (Object.create) {
  Events.prototype = Object.create(null);

  //
  // This hack is needed because the `__proto__` property is still inherited in
  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.
  //
  if (!new Events().__proto__) prefix = false;
}

/**
 * Representation of a single event listener.
 *
 * @param {Function} fn The listener function.
 * @param {*} context The context to invoke the listener with.
 * @param {Boolean} [once=false] Specify if the listener is a one-time listener.
 * @constructor
 * @private
 */
function EE(fn, context, once) {
  this.fn = fn;
  this.context = context;
  this.once = once || false;
}

/**
 * Add a listener for a given event.
 *
 * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn The listener function.
 * @param {*} context The context to invoke the listener with.
 * @param {Boolean} once Specify if the listener is a one-time listener.
 * @returns {EventEmitter}
 * @private
 */
function addListener(emitter, event, fn, context, once) {
  if (typeof fn !== 'function') {
    throw new TypeError('The listener must be a function');
  }

  var listener = new EE(fn, context || emitter, once)
    , evt = prefix ? prefix + event : event;

  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;
  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);
  else emitter._events[evt] = [emitter._events[evt], listener];

  return emitter;
}

/**
 * Clear event by name.
 *
 * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.
 * @param {(String|Symbol)} evt The Event name.
 * @private
 */
function clearEvent(emitter, evt) {
  if (--emitter._eventsCount === 0) emitter._events = new Events();
  else delete emitter._events[evt];
}

/**
 * Minimal `EventEmitter` interface that is molded against the Node.js
 * `EventEmitter` interface.
 *
 * @constructor
 * @public
 */
function EventEmitter() {
  this._events = new Events();
  this._eventsCount = 0;
}

/**
 * Return an array listing the events for which the emitter has registered
 * listeners.
 *
 * @returns {Array}
 * @public
 */
EventEmitter.prototype.eventNames = function eventNames() {
  var names = []
    , events
    , name;

  if (this._eventsCount === 0) return names;

  for (name in (events = this._events)) {
    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);
  }

  if (Object.getOwnPropertySymbols) {
    return names.concat(Object.getOwnPropertySymbols(events));
  }

  return names;
};

/**
 * Return the listeners registered for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @returns {Array} The registered listeners.
 * @public
 */
EventEmitter.prototype.listeners = function listeners(event) {
  var evt = prefix ? prefix + event : event
    , handlers = this._events[evt];

  if (!handlers) return [];
  if (handlers.fn) return [handlers.fn];

  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {
    ee[i] = handlers[i].fn;
  }

  return ee;
};

/**
 * Return the number of listeners listening to a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @returns {Number} The number of listeners.
 * @public
 */
EventEmitter.prototype.listenerCount = function listenerCount(event) {
  var evt = prefix ? prefix + event : event
    , listeners = this._events[evt];

  if (!listeners) return 0;
  if (listeners.fn) return 1;
  return listeners.length;
};

/**
 * Calls each of the listeners registered for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @returns {Boolean} `true` if the event had listeners, else `false`.
 * @public
 */
EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {
  var evt = prefix ? prefix + event : event;

  if (!this._events[evt]) return false;

  var listeners = this._events[evt]
    , len = arguments.length
    , args
    , i;

  if (listeners.fn) {
    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);

    switch (len) {
      case 1: return listeners.fn.call(listeners.context), true;
      case 2: return listeners.fn.call(listeners.context, a1), true;
      case 3: return listeners.fn.call(listeners.context, a1, a2), true;
      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;
      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;
      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;
    }

    for (i = 1, args = new Array(len -1); i < len; i++) {
      args[i - 1] = arguments[i];
    }

    listeners.fn.apply(listeners.context, args);
  } else {
    var length = listeners.length
      , j;

    for (i = 0; i < length; i++) {
      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);

      switch (len) {
        case 1: listeners[i].fn.call(listeners[i].context); break;
        case 2: listeners[i].fn.call(listeners[i].context, a1); break;
        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;
        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;
        default:
          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {
            args[j - 1] = arguments[j];
          }

          listeners[i].fn.apply(listeners[i].context, args);
      }
    }
  }

  return true;
};

/**
 * Add a listener for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn The listener function.
 * @param {*} [context=this] The context to invoke the listener with.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.on = function on(event, fn, context) {
  return addListener(this, event, fn, context, false);
};

/**
 * Add a one-time listener for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn The listener function.
 * @param {*} [context=this] The context to invoke the listener with.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.once = function once(event, fn, context) {
  return addListener(this, event, fn, context, true);
};

/**
 * Remove the listeners of a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn Only remove the listeners that match this function.
 * @param {*} context Only remove the listeners that have this context.
 * @param {Boolean} once Only remove one-time listeners.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {
  var evt = prefix ? prefix + event : event;

  if (!this._events[evt]) return this;
  if (!fn) {
    clearEvent(this, evt);
    return this;
  }

  var listeners = this._events[evt];

  if (listeners.fn) {
    if (
      listeners.fn === fn &&
      (!once || listeners.once) &&
      (!context || listeners.context === context)
    ) {
      clearEvent(this, evt);
    }
  } else {
    for (var i = 0, events = [], length = listeners.length; i < length; i++) {
      if (
        listeners[i].fn !== fn ||
        (once && !listeners[i].once) ||
        (context && listeners[i].context !== context)
      ) {
        events.push(listeners[i]);
      }
    }

    //
    // Reset the array, or remove it completely if we have no more listeners.
    //
    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;
    else clearEvent(this, evt);
  }

  return this;
};

/**
 * Remove all listeners, or those of the specified event.
 *
 * @param {(String|Symbol)} [event] The event name.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {
  var evt;

  if (event) {
    evt = prefix ? prefix + event : event;
    if (this._events[evt]) clearEvent(this, evt);
  } else {
    this._events = new Events();
    this._eventsCount = 0;
  }

  return this;
};

//
// Alias methods names because people roll like that.
//
EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
EventEmitter.prototype.addListener = EventEmitter.prototype.on;

//
// Expose the prefix.
//
EventEmitter.prefixed = prefix;

//
// Allow `EventEmitter` to be imported as module namespace.
//
EventEmitter.EventEmitter = EventEmitter;

//
// Expose the module.
//
if (true) {
  module.exports = EventEmitter;
}


/***/ }),

/***/ "./node_modules/function-bind/implementation.js":
/*!******************************************************!*\
  !*** ./node_modules/function-bind/implementation.js ***!
  \******************************************************/
/***/ ((module) => {

"use strict";


/* eslint no-invalid-this: 1 */

var ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';
var slice = Array.prototype.slice;
var toStr = Object.prototype.toString;
var funcType = '[object Function]';

module.exports = function bind(that) {
    var target = this;
    if (typeof target !== 'function' || toStr.call(target) !== funcType) {
        throw new TypeError(ERROR_MESSAGE + target);
    }
    var args = slice.call(arguments, 1);

    var bound;
    var binder = function () {
        if (this instanceof bound) {
            var result = target.apply(
                this,
                args.concat(slice.call(arguments))
            );
            if (Object(result) === result) {
                return result;
            }
            return this;
        } else {
            return target.apply(
                that,
                args.concat(slice.call(arguments))
            );
        }
    };

    var boundLength = Math.max(0, target.length - args.length);
    var boundArgs = [];
    for (var i = 0; i < boundLength; i++) {
        boundArgs.push('$' + i);
    }

    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);

    if (target.prototype) {
        var Empty = function Empty() {};
        Empty.prototype = target.prototype;
        bound.prototype = new Empty();
        Empty.prototype = null;
    }

    return bound;
};


/***/ }),

/***/ "./node_modules/function-bind/index.js":
/*!*********************************************!*\
  !*** ./node_modules/function-bind/index.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/function-bind/implementation.js");

module.exports = Function.prototype.bind || implementation;


/***/ }),

/***/ "./node_modules/get-intrinsic/index.js":
/*!*********************************************!*\
  !*** ./node_modules/get-intrinsic/index.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var undefined;

var $SyntaxError = SyntaxError;
var $Function = Function;
var $TypeError = TypeError;

// eslint-disable-next-line consistent-return
var getEvalledConstructor = function (expressionSyntax) {
	try {
		return $Function('"use strict"; return (' + expressionSyntax + ').constructor;')();
	} catch (e) {}
};

var $gOPD = Object.getOwnPropertyDescriptor;
if ($gOPD) {
	try {
		$gOPD({}, '');
	} catch (e) {
		$gOPD = null; // this is IE 8, which has a broken gOPD
	}
}

var throwTypeError = function () {
	throw new $TypeError();
};
var ThrowTypeError = $gOPD
	? (function () {
		try {
			// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties
			arguments.callee; // IE 8 does not throw here
			return throwTypeError;
		} catch (calleeThrows) {
			try {
				// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')
				return $gOPD(arguments, 'callee').get;
			} catch (gOPDthrows) {
				return throwTypeError;
			}
		}
	}())
	: throwTypeError;

var hasSymbols = __webpack_require__(/*! has-symbols */ "./node_modules/has-symbols/index.js")();
var hasProto = __webpack_require__(/*! has-proto */ "./node_modules/has-proto/index.js")();

var getProto = Object.getPrototypeOf || (
	hasProto
		? function (x) { return x.__proto__; } // eslint-disable-line no-proto
		: null
);

var needsEval = {};

var TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);

var INTRINSICS = {
	'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,
	'%Array%': Array,
	'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,
	'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,
	'%AsyncFromSyncIteratorPrototype%': undefined,
	'%AsyncFunction%': needsEval,
	'%AsyncGenerator%': needsEval,
	'%AsyncGeneratorFunction%': needsEval,
	'%AsyncIteratorPrototype%': needsEval,
	'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,
	'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,
	'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,
	'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,
	'%Boolean%': Boolean,
	'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,
	'%Date%': Date,
	'%decodeURI%': decodeURI,
	'%decodeURIComponent%': decodeURIComponent,
	'%encodeURI%': encodeURI,
	'%encodeURIComponent%': encodeURIComponent,
	'%Error%': Error,
	'%eval%': eval, // eslint-disable-line no-eval
	'%EvalError%': EvalError,
	'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,
	'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,
	'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,
	'%Function%': $Function,
	'%GeneratorFunction%': needsEval,
	'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,
	'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,
	'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,
	'%isFinite%': isFinite,
	'%isNaN%': isNaN,
	'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,
	'%JSON%': typeof JSON === 'object' ? JSON : undefined,
	'%Map%': typeof Map === 'undefined' ? undefined : Map,
	'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),
	'%Math%': Math,
	'%Number%': Number,
	'%Object%': Object,
	'%parseFloat%': parseFloat,
	'%parseInt%': parseInt,
	'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,
	'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,
	'%RangeError%': RangeError,
	'%ReferenceError%': ReferenceError,
	'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,
	'%RegExp%': RegExp,
	'%Set%': typeof Set === 'undefined' ? undefined : Set,
	'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),
	'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,
	'%String%': String,
	'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,
	'%Symbol%': hasSymbols ? Symbol : undefined,
	'%SyntaxError%': $SyntaxError,
	'%ThrowTypeError%': ThrowTypeError,
	'%TypedArray%': TypedArray,
	'%TypeError%': $TypeError,
	'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,
	'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,
	'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,
	'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,
	'%URIError%': URIError,
	'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,
	'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,
	'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet
};

if (getProto) {
	try {
		null.error; // eslint-disable-line no-unused-expressions
	} catch (e) {
		// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229
		var errorProto = getProto(getProto(e));
		INTRINSICS['%Error.prototype%'] = errorProto;
	}
}

var doEval = function doEval(name) {
	var value;
	if (name === '%AsyncFunction%') {
		value = getEvalledConstructor('async function () {}');
	} else if (name === '%GeneratorFunction%') {
		value = getEvalledConstructor('function* () {}');
	} else if (name === '%AsyncGeneratorFunction%') {
		value = getEvalledConstructor('async function* () {}');
	} else if (name === '%AsyncGenerator%') {
		var fn = doEval('%AsyncGeneratorFunction%');
		if (fn) {
			value = fn.prototype;
		}
	} else if (name === '%AsyncIteratorPrototype%') {
		var gen = doEval('%AsyncGenerator%');
		if (gen && getProto) {
			value = getProto(gen.prototype);
		}
	}

	INTRINSICS[name] = value;

	return value;
};

var LEGACY_ALIASES = {
	'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],
	'%ArrayPrototype%': ['Array', 'prototype'],
	'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],
	'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],
	'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],
	'%ArrayProto_values%': ['Array', 'prototype', 'values'],
	'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],
	'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],
	'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],
	'%BooleanPrototype%': ['Boolean', 'prototype'],
	'%DataViewPrototype%': ['DataView', 'prototype'],
	'%DatePrototype%': ['Date', 'prototype'],
	'%ErrorPrototype%': ['Error', 'prototype'],
	'%EvalErrorPrototype%': ['EvalError', 'prototype'],
	'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],
	'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],
	'%FunctionPrototype%': ['Function', 'prototype'],
	'%Generator%': ['GeneratorFunction', 'prototype'],
	'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],
	'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],
	'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],
	'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],
	'%JSONParse%': ['JSON', 'parse'],
	'%JSONStringify%': ['JSON', 'stringify'],
	'%MapPrototype%': ['Map', 'prototype'],
	'%NumberPrototype%': ['Number', 'prototype'],
	'%ObjectPrototype%': ['Object', 'prototype'],
	'%ObjProto_toString%': ['Object', 'prototype', 'toString'],
	'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],
	'%PromisePrototype%': ['Promise', 'prototype'],
	'%PromiseProto_then%': ['Promise', 'prototype', 'then'],
	'%Promise_all%': ['Promise', 'all'],
	'%Promise_reject%': ['Promise', 'reject'],
	'%Promise_resolve%': ['Promise', 'resolve'],
	'%RangeErrorPrototype%': ['RangeError', 'prototype'],
	'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],
	'%RegExpPrototype%': ['RegExp', 'prototype'],
	'%SetPrototype%': ['Set', 'prototype'],
	'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],
	'%StringPrototype%': ['String', 'prototype'],
	'%SymbolPrototype%': ['Symbol', 'prototype'],
	'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],
	'%TypedArrayPrototype%': ['TypedArray', 'prototype'],
	'%TypeErrorPrototype%': ['TypeError', 'prototype'],
	'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],
	'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],
	'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],
	'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],
	'%URIErrorPrototype%': ['URIError', 'prototype'],
	'%WeakMapPrototype%': ['WeakMap', 'prototype'],
	'%WeakSetPrototype%': ['WeakSet', 'prototype']
};

var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");
var hasOwn = __webpack_require__(/*! has */ "./node_modules/has/src/index.js");
var $concat = bind.call(Function.call, Array.prototype.concat);
var $spliceApply = bind.call(Function.apply, Array.prototype.splice);
var $replace = bind.call(Function.call, String.prototype.replace);
var $strSlice = bind.call(Function.call, String.prototype.slice);
var $exec = bind.call(Function.call, RegExp.prototype.exec);

/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */
var rePropName = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;
var reEscapeChar = /\\(\\)?/g; /** Used to match backslashes in property paths. */
var stringToPath = function stringToPath(string) {
	var first = $strSlice(string, 0, 1);
	var last = $strSlice(string, -1);
	if (first === '%' && last !== '%') {
		throw new $SyntaxError('invalid intrinsic syntax, expected closing `%`');
	} else if (last === '%' && first !== '%') {
		throw new $SyntaxError('invalid intrinsic syntax, expected opening `%`');
	}
	var result = [];
	$replace(string, rePropName, function (match, number, quote, subString) {
		result[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;
	});
	return result;
};
/* end adaptation */

var getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {
	var intrinsicName = name;
	var alias;
	if (hasOwn(LEGACY_ALIASES, intrinsicName)) {
		alias = LEGACY_ALIASES[intrinsicName];
		intrinsicName = '%' + alias[0] + '%';
	}

	if (hasOwn(INTRINSICS, intrinsicName)) {
		var value = INTRINSICS[intrinsicName];
		if (value === needsEval) {
			value = doEval(intrinsicName);
		}
		if (typeof value === 'undefined' && !allowMissing) {
			throw new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');
		}

		return {
			alias: alias,
			name: intrinsicName,
			value: value
		};
	}

	throw new $SyntaxError('intrinsic ' + name + ' does not exist!');
};

module.exports = function GetIntrinsic(name, allowMissing) {
	if (typeof name !== 'string' || name.length === 0) {
		throw new $TypeError('intrinsic name must be a non-empty string');
	}
	if (arguments.length > 1 && typeof allowMissing !== 'boolean') {
		throw new $TypeError('"allowMissing" argument must be a boolean');
	}

	if ($exec(/^%?[^%]*%?$/, name) === null) {
		throw new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');
	}
	var parts = stringToPath(name);
	var intrinsicBaseName = parts.length > 0 ? parts[0] : '';

	var intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);
	var intrinsicRealName = intrinsic.name;
	var value = intrinsic.value;
	var skipFurtherCaching = false;

	var alias = intrinsic.alias;
	if (alias) {
		intrinsicBaseName = alias[0];
		$spliceApply(parts, $concat([0, 1], alias));
	}

	for (var i = 1, isOwn = true; i < parts.length; i += 1) {
		var part = parts[i];
		var first = $strSlice(part, 0, 1);
		var last = $strSlice(part, -1);
		if (
			(
				(first === '"' || first === "'" || first === '`')
				|| (last === '"' || last === "'" || last === '`')
			)
			&& first !== last
		) {
			throw new $SyntaxError('property names with quotes must have matching quotes');
		}
		if (part === 'constructor' || !isOwn) {
			skipFurtherCaching = true;
		}

		intrinsicBaseName += '.' + part;
		intrinsicRealName = '%' + intrinsicBaseName + '%';

		if (hasOwn(INTRINSICS, intrinsicRealName)) {
			value = INTRINSICS[intrinsicRealName];
		} else if (value != null) {
			if (!(part in value)) {
				if (!allowMissing) {
					throw new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');
				}
				return void undefined;
			}
			if ($gOPD && (i + 1) >= parts.length) {
				var desc = $gOPD(value, part);
				isOwn = !!desc;

				// By convention, when a data property is converted to an accessor
				// property to emulate a data property that does not suffer from
				// the override mistake, that accessor's getter is marked with
				// an `originalValue` property. Here, when we detect this, we
				// uphold the illusion by pretending to see that original data
				// property, i.e., returning the value rather than the getter
				// itself.
				if (isOwn && 'get' in desc && !('originalValue' in desc.get)) {
					value = desc.get;
				} else {
					value = value[part];
				}
			} else {
				isOwn = hasOwn(value, part);
				value = value[part];
			}

			if (isOwn && !skipFurtherCaching) {
				INTRINSICS[intrinsicRealName] = value;
			}
		}
	}
	return value;
};


/***/ }),

/***/ "./node_modules/has-proto/index.js":
/*!*****************************************!*\
  !*** ./node_modules/has-proto/index.js ***!
  \*****************************************/
/***/ ((module) => {

"use strict";


var test = {
	foo: {}
};

var $Object = Object;

module.exports = function hasProto() {
	return { __proto__: test }.foo === test.foo && !({ __proto__: null } instanceof $Object);
};


/***/ }),

/***/ "./node_modules/has-symbols/index.js":
/*!*******************************************!*\
  !*** ./node_modules/has-symbols/index.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var origSymbol = typeof Symbol !== 'undefined' && Symbol;
var hasSymbolSham = __webpack_require__(/*! ./shams */ "./node_modules/has-symbols/shams.js");

module.exports = function hasNativeSymbols() {
	if (typeof origSymbol !== 'function') { return false; }
	if (typeof Symbol !== 'function') { return false; }
	if (typeof origSymbol('foo') !== 'symbol') { return false; }
	if (typeof Symbol('bar') !== 'symbol') { return false; }

	return hasSymbolSham();
};


/***/ }),

/***/ "./node_modules/has-symbols/shams.js":
/*!*******************************************!*\
  !*** ./node_modules/has-symbols/shams.js ***!
  \*******************************************/
/***/ ((module) => {

"use strict";


/* eslint complexity: [2, 18], max-statements: [2, 33] */
module.exports = function hasSymbols() {
	if (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }
	if (typeof Symbol.iterator === 'symbol') { return true; }

	var obj = {};
	var sym = Symbol('test');
	var symObj = Object(sym);
	if (typeof sym === 'string') { return false; }

	if (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }
	if (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }

	// temp disabled per https://github.com/ljharb/object.assign/issues/17
	// if (sym instanceof Symbol) { return false; }
	// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4
	// if (!(symObj instanceof Symbol)) { return false; }

	// if (typeof Symbol.prototype.toString !== 'function') { return false; }
	// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }

	var symVal = 42;
	obj[sym] = symVal;
	for (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop
	if (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }

	if (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }

	var syms = Object.getOwnPropertySymbols(obj);
	if (syms.length !== 1 || syms[0] !== sym) { return false; }

	if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }

	if (typeof Object.getOwnPropertyDescriptor === 'function') {
		var descriptor = Object.getOwnPropertyDescriptor(obj, sym);
		if (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }
	}

	return true;
};


/***/ }),

/***/ "./node_modules/has/src/index.js":
/*!***************************************!*\
  !*** ./node_modules/has/src/index.js ***!
  \***************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");

module.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);


/***/ }),

/***/ "./node_modules/ismobilejs/esm/index.js":
/*!**********************************************!*\
  !*** ./node_modules/ismobilejs/esm/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _isMobile__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _isMobile__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isMobile */ "./node_modules/ismobilejs/esm/isMobile.js");


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/ismobilejs/esm/isMobile.js":
/*!*************************************************!*\
  !*** ./node_modules/ismobilejs/esm/isMobile.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ isMobile)
/* harmony export */ });
var appleIphone = /iPhone/i;
var appleIpod = /iPod/i;
var appleTablet = /iPad/i;
var appleUniversal = /\biOS-universal(?:.+)Mac\b/i;
var androidPhone = /\bAndroid(?:.+)Mobile\b/i;
var androidTablet = /Android/i;
var amazonPhone = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i;
var amazonTablet = /Silk/i;
var windowsPhone = /Windows Phone/i;
var windowsTablet = /\bWindows(?:.+)ARM\b/i;
var otherBlackBerry = /BlackBerry/i;
var otherBlackBerry10 = /BB10/i;
var otherOpera = /Opera Mini/i;
var otherChrome = /\b(CriOS|Chrome)(?:.+)Mobile/i;
var otherFirefox = /Mobile(?:.+)Firefox\b/i;
var isAppleTabletOnIos13 = function (navigator) {
    return (typeof navigator !== 'undefined' &&
        navigator.platform === 'MacIntel' &&
        typeof navigator.maxTouchPoints === 'number' &&
        navigator.maxTouchPoints > 1 &&
        typeof MSStream === 'undefined');
};
function createMatch(userAgent) {
    return function (regex) { return regex.test(userAgent); };
}
function isMobile(param) {
    var nav = {
        userAgent: '',
        platform: '',
        maxTouchPoints: 0
    };
    if (!param && typeof navigator !== 'undefined') {
        nav = {
            userAgent: navigator.userAgent,
            platform: navigator.platform,
            maxTouchPoints: navigator.maxTouchPoints || 0
        };
    }
    else if (typeof param === 'string') {
        nav.userAgent = param;
    }
    else if (param && param.userAgent) {
        nav = {
            userAgent: param.userAgent,
            platform: param.platform,
            maxTouchPoints: param.maxTouchPoints || 0
        };
    }
    var userAgent = nav.userAgent;
    var tmp = userAgent.split('[FBAN');
    if (typeof tmp[1] !== 'undefined') {
        userAgent = tmp[0];
    }
    tmp = userAgent.split('Twitter');
    if (typeof tmp[1] !== 'undefined') {
        userAgent = tmp[0];
    }
    var match = createMatch(userAgent);
    var result = {
        apple: {
            phone: match(appleIphone) && !match(windowsPhone),
            ipod: match(appleIpod),
            tablet: !match(appleIphone) &&
                (match(appleTablet) || isAppleTabletOnIos13(nav)) &&
                !match(windowsPhone),
            universal: match(appleUniversal),
            device: (match(appleIphone) ||
                match(appleIpod) ||
                match(appleTablet) ||
                match(appleUniversal) ||
                isAppleTabletOnIos13(nav)) &&
                !match(windowsPhone)
        },
        amazon: {
            phone: match(amazonPhone),
            tablet: !match(amazonPhone) && match(amazonTablet),
            device: match(amazonPhone) || match(amazonTablet)
        },
        android: {
            phone: (!match(windowsPhone) && match(amazonPhone)) ||
                (!match(windowsPhone) && match(androidPhone)),
            tablet: !match(windowsPhone) &&
                !match(amazonPhone) &&
                !match(androidPhone) &&
                (match(amazonTablet) || match(androidTablet)),
            device: (!match(windowsPhone) &&
                (match(amazonPhone) ||
                    match(amazonTablet) ||
                    match(androidPhone) ||
                    match(androidTablet))) ||
                match(/\bokhttp\b/i)
        },
        windows: {
            phone: match(windowsPhone),
            tablet: match(windowsTablet),
            device: match(windowsPhone) || match(windowsTablet)
        },
        other: {
            blackberry: match(otherBlackBerry),
            blackberry10: match(otherBlackBerry10),
            opera: match(otherOpera),
            firefox: match(otherFirefox),
            chrome: match(otherChrome),
            device: match(otherBlackBerry) ||
                match(otherBlackBerry10) ||
                match(otherOpera) ||
                match(otherFirefox) ||
                match(otherChrome)
        },
        any: false,
        phone: false,
        tablet: false
    };
    result.any =
        result.apple.device ||
            result.android.device ||
            result.windows.device ||
            result.other.device;
    result.phone =
        result.apple.phone || result.android.phone || result.windows.phone;
    result.tablet =
        result.apple.tablet || result.android.tablet || result.windows.tablet;
    return result;
}
//# sourceMappingURL=isMobile.js.map

/***/ }),

/***/ "./node_modules/object-inspect/index.js":
/*!**********************************************!*\
  !*** ./node_modules/object-inspect/index.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var hasMap = typeof Map === 'function' && Map.prototype;
var mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;
var mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;
var mapForEach = hasMap && Map.prototype.forEach;
var hasSet = typeof Set === 'function' && Set.prototype;
var setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;
var setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;
var setForEach = hasSet && Set.prototype.forEach;
var hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;
var weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;
var hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;
var weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;
var hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;
var weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;
var booleanValueOf = Boolean.prototype.valueOf;
var objectToString = Object.prototype.toString;
var functionToString = Function.prototype.toString;
var $match = String.prototype.match;
var $slice = String.prototype.slice;
var $replace = String.prototype.replace;
var $toUpperCase = String.prototype.toUpperCase;
var $toLowerCase = String.prototype.toLowerCase;
var $test = RegExp.prototype.test;
var $concat = Array.prototype.concat;
var $join = Array.prototype.join;
var $arrSlice = Array.prototype.slice;
var $floor = Math.floor;
var bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;
var gOPS = Object.getOwnPropertySymbols;
var symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;
var hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';
// ie, `has-tostringtag/shams
var toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')
    ? Symbol.toStringTag
    : null;
var isEnumerable = Object.prototype.propertyIsEnumerable;

var gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (
    [].__proto__ === Array.prototype // eslint-disable-line no-proto
        ? function (O) {
            return O.__proto__; // eslint-disable-line no-proto
        }
        : null
);

function addNumericSeparator(num, str) {
    if (
        num === Infinity
        || num === -Infinity
        || num !== num
        || (num && num > -1000 && num < 1000)
        || $test.call(/e/, str)
    ) {
        return str;
    }
    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;
    if (typeof num === 'number') {
        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)
        if (int !== num) {
            var intStr = String(int);
            var dec = $slice.call(str, intStr.length + 1);
            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');
        }
    }
    return $replace.call(str, sepRegex, '$&_');
}

var utilInspect = __webpack_require__(/*! ./util.inspect */ "?4f7e");
var inspectCustom = utilInspect.custom;
var inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;

module.exports = function inspect_(obj, options, depth, seen) {
    var opts = options || {};

    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {
        throw new TypeError('option "quoteStyle" must be "single" or "double"');
    }
    if (
        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'
            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity
            : opts.maxStringLength !== null
        )
    ) {
        throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');
    }
    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;
    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {
        throw new TypeError('option "customInspect", if provided, must be `true`, `false`, or `\'symbol\'`');
    }

    if (
        has(opts, 'indent')
        && opts.indent !== null
        && opts.indent !== '\t'
        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)
    ) {
        throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');
    }
    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {
        throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');
    }
    var numericSeparator = opts.numericSeparator;

    if (typeof obj === 'undefined') {
        return 'undefined';
    }
    if (obj === null) {
        return 'null';
    }
    if (typeof obj === 'boolean') {
        return obj ? 'true' : 'false';
    }

    if (typeof obj === 'string') {
        return inspectString(obj, opts);
    }
    if (typeof obj === 'number') {
        if (obj === 0) {
            return Infinity / obj > 0 ? '0' : '-0';
        }
        var str = String(obj);
        return numericSeparator ? addNumericSeparator(obj, str) : str;
    }
    if (typeof obj === 'bigint') {
        var bigIntStr = String(obj) + 'n';
        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;
    }

    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;
    if (typeof depth === 'undefined') { depth = 0; }
    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {
        return isArray(obj) ? '[Array]' : '[Object]';
    }

    var indent = getIndent(opts, depth);

    if (typeof seen === 'undefined') {
        seen = [];
    } else if (indexOf(seen, obj) >= 0) {
        return '[Circular]';
    }

    function inspect(value, from, noIndent) {
        if (from) {
            seen = $arrSlice.call(seen);
            seen.push(from);
        }
        if (noIndent) {
            var newOpts = {
                depth: opts.depth
            };
            if (has(opts, 'quoteStyle')) {
                newOpts.quoteStyle = opts.quoteStyle;
            }
            return inspect_(value, newOpts, depth + 1, seen);
        }
        return inspect_(value, opts, depth + 1, seen);
    }

    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable
        var name = nameOf(obj);
        var keys = arrObjKeys(obj, inspect);
        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');
    }
    if (isSymbol(obj)) {
        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\(.*\))_[^)]*$/, '$1') : symToString.call(obj);
        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;
    }
    if (isElement(obj)) {
        var s = '<' + $toLowerCase.call(String(obj.nodeName));
        var attrs = obj.attributes || [];
        for (var i = 0; i < attrs.length; i++) {
            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);
        }
        s += '>';
        if (obj.childNodes && obj.childNodes.length) { s += '...'; }
        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';
        return s;
    }
    if (isArray(obj)) {
        if (obj.length === 0) { return '[]'; }
        var xs = arrObjKeys(obj, inspect);
        if (indent && !singleLineValues(xs)) {
            return '[' + indentedJoin(xs, indent) + ']';
        }
        return '[ ' + $join.call(xs, ', ') + ' ]';
    }
    if (isError(obj)) {
        var parts = arrObjKeys(obj, inspect);
        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {
            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';
        }
        if (parts.length === 0) { return '[' + String(obj) + ']'; }
        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';
    }
    if (typeof obj === 'object' && customInspect) {
        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {
            return utilInspect(obj, { depth: maxDepth - depth });
        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {
            return obj.inspect();
        }
    }
    if (isMap(obj)) {
        var mapParts = [];
        if (mapForEach) {
            mapForEach.call(obj, function (value, key) {
                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));
            });
        }
        return collectionOf('Map', mapSize.call(obj), mapParts, indent);
    }
    if (isSet(obj)) {
        var setParts = [];
        if (setForEach) {
            setForEach.call(obj, function (value) {
                setParts.push(inspect(value, obj));
            });
        }
        return collectionOf('Set', setSize.call(obj), setParts, indent);
    }
    if (isWeakMap(obj)) {
        return weakCollectionOf('WeakMap');
    }
    if (isWeakSet(obj)) {
        return weakCollectionOf('WeakSet');
    }
    if (isWeakRef(obj)) {
        return weakCollectionOf('WeakRef');
    }
    if (isNumber(obj)) {
        return markBoxed(inspect(Number(obj)));
    }
    if (isBigInt(obj)) {
        return markBoxed(inspect(bigIntValueOf.call(obj)));
    }
    if (isBoolean(obj)) {
        return markBoxed(booleanValueOf.call(obj));
    }
    if (isString(obj)) {
        return markBoxed(inspect(String(obj)));
    }
    if (!isDate(obj) && !isRegExp(obj)) {
        var ys = arrObjKeys(obj, inspect);
        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;
        var protoTag = obj instanceof Object ? '' : 'null prototype';
        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';
        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';
        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');
        if (ys.length === 0) { return tag + '{}'; }
        if (indent) {
            return tag + '{' + indentedJoin(ys, indent) + '}';
        }
        return tag + '{ ' + $join.call(ys, ', ') + ' }';
    }
    return String(obj);
};

function wrapQuotes(s, defaultStyle, opts) {
    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '"' : "'";
    return quoteChar + s + quoteChar;
}

function quote(s) {
    return $replace.call(String(s), /"/g, '&quot;');
}

function isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }
function isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }
function isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }
function isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }
function isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }
function isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }
function isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }

// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives
function isSymbol(obj) {
    if (hasShammedSymbols) {
        return obj && typeof obj === 'object' && obj instanceof Symbol;
    }
    if (typeof obj === 'symbol') {
        return true;
    }
    if (!obj || typeof obj !== 'object' || !symToString) {
        return false;
    }
    try {
        symToString.call(obj);
        return true;
    } catch (e) {}
    return false;
}

function isBigInt(obj) {
    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {
        return false;
    }
    try {
        bigIntValueOf.call(obj);
        return true;
    } catch (e) {}
    return false;
}

var hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };
function has(obj, key) {
    return hasOwn.call(obj, key);
}

function toStr(obj) {
    return objectToString.call(obj);
}

function nameOf(f) {
    if (f.name) { return f.name; }
    var m = $match.call(functionToString.call(f), /^function\s*([\w$]+)/);
    if (m) { return m[1]; }
    return null;
}

function indexOf(xs, x) {
    if (xs.indexOf) { return xs.indexOf(x); }
    for (var i = 0, l = xs.length; i < l; i++) {
        if (xs[i] === x) { return i; }
    }
    return -1;
}

function isMap(x) {
    if (!mapSize || !x || typeof x !== 'object') {
        return false;
    }
    try {
        mapSize.call(x);
        try {
            setSize.call(x);
        } catch (s) {
            return true;
        }
        return x instanceof Map; // core-js workaround, pre-v2.5.0
    } catch (e) {}
    return false;
}

function isWeakMap(x) {
    if (!weakMapHas || !x || typeof x !== 'object') {
        return false;
    }
    try {
        weakMapHas.call(x, weakMapHas);
        try {
            weakSetHas.call(x, weakSetHas);
        } catch (s) {
            return true;
        }
        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0
    } catch (e) {}
    return false;
}

function isWeakRef(x) {
    if (!weakRefDeref || !x || typeof x !== 'object') {
        return false;
    }
    try {
        weakRefDeref.call(x);
        return true;
    } catch (e) {}
    return false;
}

function isSet(x) {
    if (!setSize || !x || typeof x !== 'object') {
        return false;
    }
    try {
        setSize.call(x);
        try {
            mapSize.call(x);
        } catch (m) {
            return true;
        }
        return x instanceof Set; // core-js workaround, pre-v2.5.0
    } catch (e) {}
    return false;
}

function isWeakSet(x) {
    if (!weakSetHas || !x || typeof x !== 'object') {
        return false;
    }
    try {
        weakSetHas.call(x, weakSetHas);
        try {
            weakMapHas.call(x, weakMapHas);
        } catch (s) {
            return true;
        }
        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0
    } catch (e) {}
    return false;
}

function isElement(x) {
    if (!x || typeof x !== 'object') { return false; }
    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {
        return true;
    }
    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';
}

function inspectString(str, opts) {
    if (str.length > opts.maxStringLength) {
        var remaining = str.length - opts.maxStringLength;
        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');
        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;
    }
    // eslint-disable-next-line no-control-regex
    var s = $replace.call($replace.call(str, /(['\\])/g, '\\$1'), /[\x00-\x1f]/g, lowbyte);
    return wrapQuotes(s, 'single', opts);
}

function lowbyte(c) {
    var n = c.charCodeAt(0);
    var x = {
        8: 'b',
        9: 't',
        10: 'n',
        12: 'f',
        13: 'r'
    }[n];
    if (x) { return '\\' + x; }
    return '\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));
}

function markBoxed(str) {
    return 'Object(' + str + ')';
}

function weakCollectionOf(type) {
    return type + ' { ? }';
}

function collectionOf(type, size, entries, indent) {
    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');
    return type + ' (' + size + ') {' + joinedEntries + '}';
}

function singleLineValues(xs) {
    for (var i = 0; i < xs.length; i++) {
        if (indexOf(xs[i], '\n') >= 0) {
            return false;
        }
    }
    return true;
}

function getIndent(opts, depth) {
    var baseIndent;
    if (opts.indent === '\t') {
        baseIndent = '\t';
    } else if (typeof opts.indent === 'number' && opts.indent > 0) {
        baseIndent = $join.call(Array(opts.indent + 1), ' ');
    } else {
        return null;
    }
    return {
        base: baseIndent,
        prev: $join.call(Array(depth + 1), baseIndent)
    };
}

function indentedJoin(xs, indent) {
    if (xs.length === 0) { return ''; }
    var lineJoiner = '\n' + indent.prev + indent.base;
    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\n' + indent.prev;
}

function arrObjKeys(obj, inspect) {
    var isArr = isArray(obj);
    var xs = [];
    if (isArr) {
        xs.length = obj.length;
        for (var i = 0; i < obj.length; i++) {
            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';
        }
    }
    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];
    var symMap;
    if (hasShammedSymbols) {
        symMap = {};
        for (var k = 0; k < syms.length; k++) {
            symMap['$' + syms[k]] = syms[k];
        }
    }

    for (var key in obj) { // eslint-disable-line no-restricted-syntax
        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue
        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue
        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {
            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section
            continue; // eslint-disable-line no-restricted-syntax, no-continue
        } else if ($test.call(/[^\w$]/, key)) {
            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));
        } else {
            xs.push(key + ': ' + inspect(obj[key], obj));
        }
    }
    if (typeof gOPS === 'function') {
        for (var j = 0; j < syms.length; j++) {
            if (isEnumerable.call(obj, syms[j])) {
                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));
            }
        }
    }
    return xs;
}


/***/ }),

/***/ "./node_modules/qs/lib/formats.js":
/*!****************************************!*\
  !*** ./node_modules/qs/lib/formats.js ***!
  \****************************************/
/***/ ((module) => {

"use strict";


var replace = String.prototype.replace;
var percentTwenties = /%20/g;

var Format = {
    RFC1738: 'RFC1738',
    RFC3986: 'RFC3986'
};

module.exports = {
    'default': Format.RFC3986,
    formatters: {
        RFC1738: function (value) {
            return replace.call(value, percentTwenties, '+');
        },
        RFC3986: function (value) {
            return String(value);
        }
    },
    RFC1738: Format.RFC1738,
    RFC3986: Format.RFC3986
};


/***/ }),

/***/ "./node_modules/qs/lib/index.js":
/*!**************************************!*\
  !*** ./node_modules/qs/lib/index.js ***!
  \**************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var stringify = __webpack_require__(/*! ./stringify */ "./node_modules/qs/lib/stringify.js");
var parse = __webpack_require__(/*! ./parse */ "./node_modules/qs/lib/parse.js");
var formats = __webpack_require__(/*! ./formats */ "./node_modules/qs/lib/formats.js");

module.exports = {
    formats: formats,
    parse: parse,
    stringify: stringify
};


/***/ }),

/***/ "./node_modules/qs/lib/parse.js":
/*!**************************************!*\
  !*** ./node_modules/qs/lib/parse.js ***!
  \**************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var utils = __webpack_require__(/*! ./utils */ "./node_modules/qs/lib/utils.js");

var has = Object.prototype.hasOwnProperty;
var isArray = Array.isArray;

var defaults = {
    allowDots: false,
    allowPrototypes: false,
    allowSparse: false,
    arrayLimit: 20,
    charset: 'utf-8',
    charsetSentinel: false,
    comma: false,
    decoder: utils.decode,
    delimiter: '&',
    depth: 5,
    ignoreQueryPrefix: false,
    interpretNumericEntities: false,
    parameterLimit: 1000,
    parseArrays: true,
    plainObjects: false,
    strictNullHandling: false
};

var interpretNumericEntities = function (str) {
    return str.replace(/&#(\d+);/g, function ($0, numberStr) {
        return String.fromCharCode(parseInt(numberStr, 10));
    });
};

var parseArrayValue = function (val, options) {
    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {
        return val.split(',');
    }

    return val;
};

// This is what browsers will submit when the  character occurs in an
// application/x-www-form-urlencoded body and the encoding of the page containing
// the form is iso-8859-1, or when the submitted form has an accept-charset
// attribute of iso-8859-1. Presumably also with other charsets that do not contain
// the  character, such as us-ascii.
var isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')

// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.
var charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')

var parseValues = function parseQueryStringValues(str, options) {
    var obj = {};
    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\?/, '') : str;
    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;
    var parts = cleanStr.split(options.delimiter, limit);
    var skipIndex = -1; // Keep track of where the utf8 sentinel was found
    var i;

    var charset = options.charset;
    if (options.charsetSentinel) {
        for (i = 0; i < parts.length; ++i) {
            if (parts[i].indexOf('utf8=') === 0) {
                if (parts[i] === charsetSentinel) {
                    charset = 'utf-8';
                } else if (parts[i] === isoSentinel) {
                    charset = 'iso-8859-1';
                }
                skipIndex = i;
                i = parts.length; // The eslint settings do not allow break;
            }
        }
    }

    for (i = 0; i < parts.length; ++i) {
        if (i === skipIndex) {
            continue;
        }
        var part = parts[i];

        var bracketEqualsPos = part.indexOf(']=');
        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;

        var key, val;
        if (pos === -1) {
            key = options.decoder(part, defaults.decoder, charset, 'key');
            val = options.strictNullHandling ? null : '';
        } else {
            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');
            val = utils.maybeMap(
                parseArrayValue(part.slice(pos + 1), options),
                function (encodedVal) {
                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');
                }
            );
        }

        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {
            val = interpretNumericEntities(val);
        }

        if (part.indexOf('[]=') > -1) {
            val = isArray(val) ? [val] : val;
        }

        if (has.call(obj, key)) {
            obj[key] = utils.combine(obj[key], val);
        } else {
            obj[key] = val;
        }
    }

    return obj;
};

var parseObject = function (chain, val, options, valuesParsed) {
    var leaf = valuesParsed ? val : parseArrayValue(val, options);

    for (var i = chain.length - 1; i >= 0; --i) {
        var obj;
        var root = chain[i];

        if (root === '[]' && options.parseArrays) {
            obj = [].concat(leaf);
        } else {
            obj = options.plainObjects ? Object.create(null) : {};
            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;
            var index = parseInt(cleanRoot, 10);
            if (!options.parseArrays && cleanRoot === '') {
                obj = { 0: leaf };
            } else if (
                !isNaN(index)
                && root !== cleanRoot
                && String(index) === cleanRoot
                && index >= 0
                && (options.parseArrays && index <= options.arrayLimit)
            ) {
                obj = [];
                obj[index] = leaf;
            } else if (cleanRoot !== '__proto__') {
                obj[cleanRoot] = leaf;
            }
        }

        leaf = obj;
    }

    return leaf;
};

var parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {
    if (!givenKey) {
        return;
    }

    // Transform dot notation to bracket notation
    var key = options.allowDots ? givenKey.replace(/\.([^.[]+)/g, '[$1]') : givenKey;

    // The regex chunks

    var brackets = /(\[[^[\]]*])/;
    var child = /(\[[^[\]]*])/g;

    // Get the parent

    var segment = options.depth > 0 && brackets.exec(key);
    var parent = segment ? key.slice(0, segment.index) : key;

    // Stash the parent if it exists

    var keys = [];
    if (parent) {
        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties
        if (!options.plainObjects && has.call(Object.prototype, parent)) {
            if (!options.allowPrototypes) {
                return;
            }
        }

        keys.push(parent);
    }

    // Loop through children appending to the array until we hit depth

    var i = 0;
    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {
        i += 1;
        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {
            if (!options.allowPrototypes) {
                return;
            }
        }
        keys.push(segment[1]);
    }

    // If there's a remainder, just add whatever is left

    if (segment) {
        keys.push('[' + key.slice(segment.index) + ']');
    }

    return parseObject(keys, val, options, valuesParsed);
};

var normalizeParseOptions = function normalizeParseOptions(opts) {
    if (!opts) {
        return defaults;
    }

    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {
        throw new TypeError('Decoder has to be a function.');
    }

    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {
        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');
    }
    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;

    return {
        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,
        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,
        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,
        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,
        charset: charset,
        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,
        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,
        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,
        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,
        // eslint-disable-next-line no-implicit-coercion, no-extra-parens
        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,
        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,
        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,
        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,
        parseArrays: opts.parseArrays !== false,
        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,
        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling
    };
};

module.exports = function (str, opts) {
    var options = normalizeParseOptions(opts);

    if (str === '' || str === null || typeof str === 'undefined') {
        return options.plainObjects ? Object.create(null) : {};
    }

    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;
    var obj = options.plainObjects ? Object.create(null) : {};

    // Iterate over the keys and setup the new object

    var keys = Object.keys(tempObj);
    for (var i = 0; i < keys.length; ++i) {
        var key = keys[i];
        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');
        obj = utils.merge(obj, newObj, options);
    }

    if (options.allowSparse === true) {
        return obj;
    }

    return utils.compact(obj);
};


/***/ }),

/***/ "./node_modules/qs/lib/stringify.js":
/*!******************************************!*\
  !*** ./node_modules/qs/lib/stringify.js ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var getSideChannel = __webpack_require__(/*! side-channel */ "./node_modules/side-channel/index.js");
var utils = __webpack_require__(/*! ./utils */ "./node_modules/qs/lib/utils.js");
var formats = __webpack_require__(/*! ./formats */ "./node_modules/qs/lib/formats.js");
var has = Object.prototype.hasOwnProperty;

var arrayPrefixGenerators = {
    brackets: function brackets(prefix) {
        return prefix + '[]';
    },
    comma: 'comma',
    indices: function indices(prefix, key) {
        return prefix + '[' + key + ']';
    },
    repeat: function repeat(prefix) {
        return prefix;
    }
};

var isArray = Array.isArray;
var split = String.prototype.split;
var push = Array.prototype.push;
var pushToArray = function (arr, valueOrArray) {
    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);
};

var toISO = Date.prototype.toISOString;

var defaultFormat = formats['default'];
var defaults = {
    addQueryPrefix: false,
    allowDots: false,
    charset: 'utf-8',
    charsetSentinel: false,
    delimiter: '&',
    encode: true,
    encoder: utils.encode,
    encodeValuesOnly: false,
    format: defaultFormat,
    formatter: formats.formatters[defaultFormat],
    // deprecated
    indices: false,
    serializeDate: function serializeDate(date) {
        return toISO.call(date);
    },
    skipNulls: false,
    strictNullHandling: false
};

var isNonNullishPrimitive = function isNonNullishPrimitive(v) {
    return typeof v === 'string'
        || typeof v === 'number'
        || typeof v === 'boolean'
        || typeof v === 'symbol'
        || typeof v === 'bigint';
};

var sentinel = {};

var stringify = function stringify(
    object,
    prefix,
    generateArrayPrefix,
    commaRoundTrip,
    strictNullHandling,
    skipNulls,
    encoder,
    filter,
    sort,
    allowDots,
    serializeDate,
    format,
    formatter,
    encodeValuesOnly,
    charset,
    sideChannel
) {
    var obj = object;

    var tmpSc = sideChannel;
    var step = 0;
    var findFlag = false;
    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {
        // Where object last appeared in the ref tree
        var pos = tmpSc.get(object);
        step += 1;
        if (typeof pos !== 'undefined') {
            if (pos === step) {
                throw new RangeError('Cyclic object value');
            } else {
                findFlag = true; // Break while
            }
        }
        if (typeof tmpSc.get(sentinel) === 'undefined') {
            step = 0;
        }
    }

    if (typeof filter === 'function') {
        obj = filter(prefix, obj);
    } else if (obj instanceof Date) {
        obj = serializeDate(obj);
    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {
        obj = utils.maybeMap(obj, function (value) {
            if (value instanceof Date) {
                return serializeDate(value);
            }
            return value;
        });
    }

    if (obj === null) {
        if (strictNullHandling) {
            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;
        }

        obj = '';
    }

    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {
        if (encoder) {
            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);
            if (generateArrayPrefix === 'comma' && encodeValuesOnly) {
                var valuesArray = split.call(String(obj), ',');
                var valuesJoined = '';
                for (var i = 0; i < valuesArray.length; ++i) {
                    valuesJoined += (i === 0 ? '' : ',') + formatter(encoder(valuesArray[i], defaults.encoder, charset, 'value', format));
                }
                return [formatter(keyValue) + (commaRoundTrip && isArray(obj) && valuesArray.length === 1 ? '[]' : '') + '=' + valuesJoined];
            }
            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];
        }
        return [formatter(prefix) + '=' + formatter(String(obj))];
    }

    var values = [];

    if (typeof obj === 'undefined') {
        return values;
    }

    var objKeys;
    if (generateArrayPrefix === 'comma' && isArray(obj)) {
        // we need to join elements in
        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];
    } else if (isArray(filter)) {
        objKeys = filter;
    } else {
        var keys = Object.keys(obj);
        objKeys = sort ? keys.sort(sort) : keys;
    }

    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? prefix + '[]' : prefix;

    for (var j = 0; j < objKeys.length; ++j) {
        var key = objKeys[j];
        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];

        if (skipNulls && value === null) {
            continue;
        }

        var keyPrefix = isArray(obj)
            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, key) : adjustedPrefix
            : adjustedPrefix + (allowDots ? '.' + key : '[' + key + ']');

        sideChannel.set(object, step);
        var valueSideChannel = getSideChannel();
        valueSideChannel.set(sentinel, sideChannel);
        pushToArray(values, stringify(
            value,
            keyPrefix,
            generateArrayPrefix,
            commaRoundTrip,
            strictNullHandling,
            skipNulls,
            encoder,
            filter,
            sort,
            allowDots,
            serializeDate,
            format,
            formatter,
            encodeValuesOnly,
            charset,
            valueSideChannel
        ));
    }

    return values;
};

var normalizeStringifyOptions = function normalizeStringifyOptions(opts) {
    if (!opts) {
        return defaults;
    }

    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {
        throw new TypeError('Encoder has to be a function.');
    }

    var charset = opts.charset || defaults.charset;
    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {
        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');
    }

    var format = formats['default'];
    if (typeof opts.format !== 'undefined') {
        if (!has.call(formats.formatters, opts.format)) {
            throw new TypeError('Unknown format option provided.');
        }
        format = opts.format;
    }
    var formatter = formats.formatters[format];

    var filter = defaults.filter;
    if (typeof opts.filter === 'function' || isArray(opts.filter)) {
        filter = opts.filter;
    }

    return {
        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,
        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,
        charset: charset,
        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,
        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,
        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,
        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,
        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,
        filter: filter,
        format: format,
        formatter: formatter,
        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,
        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,
        sort: typeof opts.sort === 'function' ? opts.sort : null,
        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling
    };
};

module.exports = function (object, opts) {
    var obj = object;
    var options = normalizeStringifyOptions(opts);

    var objKeys;
    var filter;

    if (typeof options.filter === 'function') {
        filter = options.filter;
        obj = filter('', obj);
    } else if (isArray(options.filter)) {
        filter = options.filter;
        objKeys = filter;
    }

    var keys = [];

    if (typeof obj !== 'object' || obj === null) {
        return '';
    }

    var arrayFormat;
    if (opts && opts.arrayFormat in arrayPrefixGenerators) {
        arrayFormat = opts.arrayFormat;
    } else if (opts && 'indices' in opts) {
        arrayFormat = opts.indices ? 'indices' : 'repeat';
    } else {
        arrayFormat = 'indices';
    }

    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];
    if (opts && 'commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {
        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');
    }
    var commaRoundTrip = generateArrayPrefix === 'comma' && opts && opts.commaRoundTrip;

    if (!objKeys) {
        objKeys = Object.keys(obj);
    }

    if (options.sort) {
        objKeys.sort(options.sort);
    }

    var sideChannel = getSideChannel();
    for (var i = 0; i < objKeys.length; ++i) {
        var key = objKeys[i];

        if (options.skipNulls && obj[key] === null) {
            continue;
        }
        pushToArray(keys, stringify(
            obj[key],
            key,
            generateArrayPrefix,
            commaRoundTrip,
            options.strictNullHandling,
            options.skipNulls,
            options.encode ? options.encoder : null,
            options.filter,
            options.sort,
            options.allowDots,
            options.serializeDate,
            options.format,
            options.formatter,
            options.encodeValuesOnly,
            options.charset,
            sideChannel
        ));
    }

    var joined = keys.join(options.delimiter);
    var prefix = options.addQueryPrefix === true ? '?' : '';

    if (options.charsetSentinel) {
        if (options.charset === 'iso-8859-1') {
            // encodeURIComponent('&#10003;'), the "numeric entity" representation of a checkmark
            prefix += 'utf8=%26%2310003%3B&';
        } else {
            // encodeURIComponent('')
            prefix += 'utf8=%E2%9C%93&';
        }
    }

    return joined.length > 0 ? prefix + joined : '';
};


/***/ }),

/***/ "./node_modules/qs/lib/utils.js":
/*!**************************************!*\
  !*** ./node_modules/qs/lib/utils.js ***!
  \**************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var formats = __webpack_require__(/*! ./formats */ "./node_modules/qs/lib/formats.js");

var has = Object.prototype.hasOwnProperty;
var isArray = Array.isArray;

var hexTable = (function () {
    var array = [];
    for (var i = 0; i < 256; ++i) {
        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());
    }

    return array;
}());

var compactQueue = function compactQueue(queue) {
    while (queue.length > 1) {
        var item = queue.pop();
        var obj = item.obj[item.prop];

        if (isArray(obj)) {
            var compacted = [];

            for (var j = 0; j < obj.length; ++j) {
                if (typeof obj[j] !== 'undefined') {
                    compacted.push(obj[j]);
                }
            }

            item.obj[item.prop] = compacted;
        }
    }
};

var arrayToObject = function arrayToObject(source, options) {
    var obj = options && options.plainObjects ? Object.create(null) : {};
    for (var i = 0; i < source.length; ++i) {
        if (typeof source[i] !== 'undefined') {
            obj[i] = source[i];
        }
    }

    return obj;
};

var merge = function merge(target, source, options) {
    /* eslint no-param-reassign: 0 */
    if (!source) {
        return target;
    }

    if (typeof source !== 'object') {
        if (isArray(target)) {
            target.push(source);
        } else if (target && typeof target === 'object') {
            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {
                target[source] = true;
            }
        } else {
            return [target, source];
        }

        return target;
    }

    if (!target || typeof target !== 'object') {
        return [target].concat(source);
    }

    var mergeTarget = target;
    if (isArray(target) && !isArray(source)) {
        mergeTarget = arrayToObject(target, options);
    }

    if (isArray(target) && isArray(source)) {
        source.forEach(function (item, i) {
            if (has.call(target, i)) {
                var targetItem = target[i];
                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {
                    target[i] = merge(targetItem, item, options);
                } else {
                    target.push(item);
                }
            } else {
                target[i] = item;
            }
        });
        return target;
    }

    return Object.keys(source).reduce(function (acc, key) {
        var value = source[key];

        if (has.call(acc, key)) {
            acc[key] = merge(acc[key], value, options);
        } else {
            acc[key] = value;
        }
        return acc;
    }, mergeTarget);
};

var assign = function assignSingleSource(target, source) {
    return Object.keys(source).reduce(function (acc, key) {
        acc[key] = source[key];
        return acc;
    }, target);
};

var decode = function (str, decoder, charset) {
    var strWithoutPlus = str.replace(/\+/g, ' ');
    if (charset === 'iso-8859-1') {
        // unescape never throws, no try...catch needed:
        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);
    }
    // utf-8
    try {
        return decodeURIComponent(strWithoutPlus);
    } catch (e) {
        return strWithoutPlus;
    }
};

var encode = function encode(str, defaultEncoder, charset, kind, format) {
    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.
    // It has been adapted here for stricter adherence to RFC 3986
    if (str.length === 0) {
        return str;
    }

    var string = str;
    if (typeof str === 'symbol') {
        string = Symbol.prototype.toString.call(str);
    } else if (typeof str !== 'string') {
        string = String(str);
    }

    if (charset === 'iso-8859-1') {
        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {
            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';
        });
    }

    var out = '';
    for (var i = 0; i < string.length; ++i) {
        var c = string.charCodeAt(i);

        if (
            c === 0x2D // -
            || c === 0x2E // .
            || c === 0x5F // _
            || c === 0x7E // ~
            || (c >= 0x30 && c <= 0x39) // 0-9
            || (c >= 0x41 && c <= 0x5A) // a-z
            || (c >= 0x61 && c <= 0x7A) // A-Z
            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )
        ) {
            out += string.charAt(i);
            continue;
        }

        if (c < 0x80) {
            out = out + hexTable[c];
            continue;
        }

        if (c < 0x800) {
            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);
            continue;
        }

        if (c < 0xD800 || c >= 0xE000) {
            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);
            continue;
        }

        i += 1;
        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));
        /* eslint operator-linebreak: [2, "before"] */
        out += hexTable[0xF0 | (c >> 18)]
            + hexTable[0x80 | ((c >> 12) & 0x3F)]
            + hexTable[0x80 | ((c >> 6) & 0x3F)]
            + hexTable[0x80 | (c & 0x3F)];
    }

    return out;
};

var compact = function compact(value) {
    var queue = [{ obj: { o: value }, prop: 'o' }];
    var refs = [];

    for (var i = 0; i < queue.length; ++i) {
        var item = queue[i];
        var obj = item.obj[item.prop];

        var keys = Object.keys(obj);
        for (var j = 0; j < keys.length; ++j) {
            var key = keys[j];
            var val = obj[key];
            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {
                queue.push({ obj: obj, prop: key });
                refs.push(val);
            }
        }
    }

    compactQueue(queue);

    return value;
};

var isRegExp = function isRegExp(obj) {
    return Object.prototype.toString.call(obj) === '[object RegExp]';
};

var isBuffer = function isBuffer(obj) {
    if (!obj || typeof obj !== 'object') {
        return false;
    }

    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));
};

var combine = function combine(a, b) {
    return [].concat(a, b);
};

var maybeMap = function maybeMap(val, fn) {
    if (isArray(val)) {
        var mapped = [];
        for (var i = 0; i < val.length; i += 1) {
            mapped.push(fn(val[i]));
        }
        return mapped;
    }
    return fn(val);
};

module.exports = {
    arrayToObject: arrayToObject,
    assign: assign,
    combine: combine,
    compact: compact,
    decode: decode,
    encode: encode,
    isBuffer: isBuffer,
    isRegExp: isRegExp,
    maybeMap: maybeMap,
    merge: merge
};


/***/ }),

/***/ "./node_modules/side-channel/index.js":
/*!********************************************!*\
  !*** ./node_modules/side-channel/index.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var GetIntrinsic = __webpack_require__(/*! get-intrinsic */ "./node_modules/get-intrinsic/index.js");
var callBound = __webpack_require__(/*! call-bind/callBound */ "./node_modules/call-bind/callBound.js");
var inspect = __webpack_require__(/*! object-inspect */ "./node_modules/object-inspect/index.js");

var $TypeError = GetIntrinsic('%TypeError%');
var $WeakMap = GetIntrinsic('%WeakMap%', true);
var $Map = GetIntrinsic('%Map%', true);

var $weakMapGet = callBound('WeakMap.prototype.get', true);
var $weakMapSet = callBound('WeakMap.prototype.set', true);
var $weakMapHas = callBound('WeakMap.prototype.has', true);
var $mapGet = callBound('Map.prototype.get', true);
var $mapSet = callBound('Map.prototype.set', true);
var $mapHas = callBound('Map.prototype.has', true);

/*
 * This function traverses the list returning the node corresponding to the
 * given key.
 *
 * That node is also moved to the head of the list, so that if it's accessed
 * again we don't need to traverse the whole list. By doing so, all the recently
 * used nodes can be accessed relatively quickly.
 */
var listGetNode = function (list, key) { // eslint-disable-line consistent-return
	for (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {
		if (curr.key === key) {
			prev.next = curr.next;
			curr.next = list.next;
			list.next = curr; // eslint-disable-line no-param-reassign
			return curr;
		}
	}
};

var listGet = function (objects, key) {
	var node = listGetNode(objects, key);
	return node && node.value;
};
var listSet = function (objects, key, value) {
	var node = listGetNode(objects, key);
	if (node) {
		node.value = value;
	} else {
		// Prepend the new node to the beginning of the list
		objects.next = { // eslint-disable-line no-param-reassign
			key: key,
			next: objects.next,
			value: value
		};
	}
};
var listHas = function (objects, key) {
	return !!listGetNode(objects, key);
};

module.exports = function getSideChannel() {
	var $wm;
	var $m;
	var $o;
	var channel = {
		assert: function (key) {
			if (!channel.has(key)) {
				throw new $TypeError('Side channel does not contain ' + inspect(key));
			}
		},
		get: function (key) { // eslint-disable-line consistent-return
			if ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {
				if ($wm) {
					return $weakMapGet($wm, key);
				}
			} else if ($Map) {
				if ($m) {
					return $mapGet($m, key);
				}
			} else {
				if ($o) { // eslint-disable-line no-lonely-if
					return listGet($o, key);
				}
			}
		},
		has: function (key) {
			if ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {
				if ($wm) {
					return $weakMapHas($wm, key);
				}
			} else if ($Map) {
				if ($m) {
					return $mapHas($m, key);
				}
			} else {
				if ($o) { // eslint-disable-line no-lonely-if
					return listHas($o, key);
				}
			}
			return false;
		},
		set: function (key, value) {
			if ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {
				if (!$wm) {
					$wm = new $WeakMap();
				}
				$weakMapSet($wm, key, value);
			} else if ($Map) {
				if (!$m) {
					$m = new $Map();
				}
				$mapSet($m, key, value);
			} else {
				if (!$o) {
					/*
					 * Initialize the linked list as an empty node, so that we don't have
					 * to special-case handling of the first node: we can always refer to
					 * it as (previous node).next, instead of something like (list).head
					 */
					$o = { key: {}, next: null };
				}
				listSet($o, key, value);
			}
		}
	};
	return channel;
};


/***/ }),

/***/ "./node_modules/url/node_modules/punycode/punycode.js":
/*!************************************************************!*\
  !*** ./node_modules/url/node_modules/punycode/punycode.js ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

/* module decorator */ module = __webpack_require__.nmd(module);
var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */
;(function(root) {

	/** Detect free variables */
	var freeExports =  true && exports &&
		!exports.nodeType && exports;
	var freeModule =  true && module &&
		!module.nodeType && module;
	var freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g;
	if (
		freeGlobal.global === freeGlobal ||
		freeGlobal.window === freeGlobal ||
		freeGlobal.self === freeGlobal
	) {
		root = freeGlobal;
	}

	/**
	 * The `punycode` object.
	 * @name punycode
	 * @type Object
	 */
	var punycode,

	/** Highest positive signed 32-bit float value */
	maxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1

	/** Bootstring parameters */
	base = 36,
	tMin = 1,
	tMax = 26,
	skew = 38,
	damp = 700,
	initialBias = 72,
	initialN = 128, // 0x80
	delimiter = '-', // '\x2D'

	/** Regular expressions */
	regexPunycode = /^xn--/,
	regexNonASCII = /[^\x20-\x7E]/, // unprintable ASCII chars + non-ASCII chars
	regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g, // RFC 3490 separators

	/** Error messages */
	errors = {
		'overflow': 'Overflow: input needs wider integers to process',
		'not-basic': 'Illegal input >= 0x80 (not a basic code point)',
		'invalid-input': 'Invalid input'
	},

	/** Convenience shortcuts */
	baseMinusTMin = base - tMin,
	floor = Math.floor,
	stringFromCharCode = String.fromCharCode,

	/** Temporary variable */
	key;

	/*--------------------------------------------------------------------------*/

	/**
	 * A generic error utility function.
	 * @private
	 * @param {String} type The error type.
	 * @returns {Error} Throws a `RangeError` with the applicable error message.
	 */
	function error(type) {
		throw new RangeError(errors[type]);
	}

	/**
	 * A generic `Array#map` utility function.
	 * @private
	 * @param {Array} array The array to iterate over.
	 * @param {Function} callback The function that gets called for every array
	 * item.
	 * @returns {Array} A new array of values returned by the callback function.
	 */
	function map(array, fn) {
		var length = array.length;
		var result = [];
		while (length--) {
			result[length] = fn(array[length]);
		}
		return result;
	}

	/**
	 * A simple `Array#map`-like wrapper to work with domain name strings or email
	 * addresses.
	 * @private
	 * @param {String} domain The domain name or email address.
	 * @param {Function} callback The function that gets called for every
	 * character.
	 * @returns {Array} A new string of characters returned by the callback
	 * function.
	 */
	function mapDomain(string, fn) {
		var parts = string.split('@');
		var result = '';
		if (parts.length > 1) {
			// In email addresses, only the domain name should be punycoded. Leave
			// the local part (i.e. everything up to `@`) intact.
			result = parts[0] + '@';
			string = parts[1];
		}
		// Avoid `split(regex)` for IE8 compatibility. See #17.
		string = string.replace(regexSeparators, '\x2E');
		var labels = string.split('.');
		var encoded = map(labels, fn).join('.');
		return result + encoded;
	}

	/**
	 * Creates an array containing the numeric code points of each Unicode
	 * character in the string. While JavaScript uses UCS-2 internally,
	 * this function will convert a pair of surrogate halves (each of which
	 * UCS-2 exposes as separate characters) into a single code point,
	 * matching UTF-16.
	 * @see `punycode.ucs2.encode`
	 * @see <https://mathiasbynens.be/notes/javascript-encoding>
	 * @memberOf punycode.ucs2
	 * @name decode
	 * @param {String} string The Unicode input string (UCS-2).
	 * @returns {Array} The new array of code points.
	 */
	function ucs2decode(string) {
		var output = [],
		    counter = 0,
		    length = string.length,
		    value,
		    extra;
		while (counter < length) {
			value = string.charCodeAt(counter++);
			if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
				// high surrogate, and there is a next character
				extra = string.charCodeAt(counter++);
				if ((extra & 0xFC00) == 0xDC00) { // low surrogate
					output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
				} else {
					// unmatched surrogate; only append this code unit, in case the next
					// code unit is the high surrogate of a surrogate pair
					output.push(value);
					counter--;
				}
			} else {
				output.push(value);
			}
		}
		return output;
	}

	/**
	 * Creates a string based on an array of numeric code points.
	 * @see `punycode.ucs2.decode`
	 * @memberOf punycode.ucs2
	 * @name encode
	 * @param {Array} codePoints The array of numeric code points.
	 * @returns {String} The new Unicode string (UCS-2).
	 */
	function ucs2encode(array) {
		return map(array, function(value) {
			var output = '';
			if (value > 0xFFFF) {
				value -= 0x10000;
				output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);
				value = 0xDC00 | value & 0x3FF;
			}
			output += stringFromCharCode(value);
			return output;
		}).join('');
	}

	/**
	 * Converts a basic code point into a digit/integer.
	 * @see `digitToBasic()`
	 * @private
	 * @param {Number} codePoint The basic numeric code point value.
	 * @returns {Number} The numeric value of a basic code point (for use in
	 * representing integers) in the range `0` to `base - 1`, or `base` if
	 * the code point does not represent a value.
	 */
	function basicToDigit(codePoint) {
		if (codePoint - 48 < 10) {
			return codePoint - 22;
		}
		if (codePoint - 65 < 26) {
			return codePoint - 65;
		}
		if (codePoint - 97 < 26) {
			return codePoint - 97;
		}
		return base;
	}

	/**
	 * Converts a digit/integer into a basic code point.
	 * @see `basicToDigit()`
	 * @private
	 * @param {Number} digit The numeric value of a basic code point.
	 * @returns {Number} The basic code point whose value (when used for
	 * representing integers) is `digit`, which needs to be in the range
	 * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
	 * used; else, the lowercase form is used. The behavior is undefined
	 * if `flag` is non-zero and `digit` has no uppercase form.
	 */
	function digitToBasic(digit, flag) {
		//  0..25 map to ASCII a..z or A..Z
		// 26..35 map to ASCII 0..9
		return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
	}

	/**
	 * Bias adaptation function as per section 3.4 of RFC 3492.
	 * https://tools.ietf.org/html/rfc3492#section-3.4
	 * @private
	 */
	function adapt(delta, numPoints, firstTime) {
		var k = 0;
		delta = firstTime ? floor(delta / damp) : delta >> 1;
		delta += floor(delta / numPoints);
		for (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {
			delta = floor(delta / baseMinusTMin);
		}
		return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
	}

	/**
	 * Converts a Punycode string of ASCII-only symbols to a string of Unicode
	 * symbols.
	 * @memberOf punycode
	 * @param {String} input The Punycode string of ASCII-only symbols.
	 * @returns {String} The resulting string of Unicode symbols.
	 */
	function decode(input) {
		// Don't use UCS-2
		var output = [],
		    inputLength = input.length,
		    out,
		    i = 0,
		    n = initialN,
		    bias = initialBias,
		    basic,
		    j,
		    index,
		    oldi,
		    w,
		    k,
		    digit,
		    t,
		    /** Cached calculation results */
		    baseMinusT;

		// Handle the basic code points: let `basic` be the number of input code
		// points before the last delimiter, or `0` if there is none, then copy
		// the first basic code points to the output.

		basic = input.lastIndexOf(delimiter);
		if (basic < 0) {
			basic = 0;
		}

		for (j = 0; j < basic; ++j) {
			// if it's not a basic code point
			if (input.charCodeAt(j) >= 0x80) {
				error('not-basic');
			}
			output.push(input.charCodeAt(j));
		}

		// Main decoding loop: start just after the last delimiter if any basic code
		// points were copied; start at the beginning otherwise.

		for (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {

			// `index` is the index of the next character to be consumed.
			// Decode a generalized variable-length integer into `delta`,
			// which gets added to `i`. The overflow checking is easier
			// if we increase `i` as we go, then subtract off its starting
			// value at the end to obtain `delta`.
			for (oldi = i, w = 1, k = base; /* no condition */; k += base) {

				if (index >= inputLength) {
					error('invalid-input');
				}

				digit = basicToDigit(input.charCodeAt(index++));

				if (digit >= base || digit > floor((maxInt - i) / w)) {
					error('overflow');
				}

				i += digit * w;
				t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);

				if (digit < t) {
					break;
				}

				baseMinusT = base - t;
				if (w > floor(maxInt / baseMinusT)) {
					error('overflow');
				}

				w *= baseMinusT;

			}

			out = output.length + 1;
			bias = adapt(i - oldi, out, oldi == 0);

			// `i` was supposed to wrap around from `out` to `0`,
			// incrementing `n` each time, so we'll fix that now:
			if (floor(i / out) > maxInt - n) {
				error('overflow');
			}

			n += floor(i / out);
			i %= out;

			// Insert `n` at position `i` of the output
			output.splice(i++, 0, n);

		}

		return ucs2encode(output);
	}

	/**
	 * Converts a string of Unicode symbols (e.g. a domain name label) to a
	 * Punycode string of ASCII-only symbols.
	 * @memberOf punycode
	 * @param {String} input The string of Unicode symbols.
	 * @returns {String} The resulting Punycode string of ASCII-only symbols.
	 */
	function encode(input) {
		var n,
		    delta,
		    handledCPCount,
		    basicLength,
		    bias,
		    j,
		    m,
		    q,
		    k,
		    t,
		    currentValue,
		    output = [],
		    /** `inputLength` will hold the number of code points in `input`. */
		    inputLength,
		    /** Cached calculation results */
		    handledCPCountPlusOne,
		    baseMinusT,
		    qMinusT;

		// Convert the input in UCS-2 to Unicode
		input = ucs2decode(input);

		// Cache the length
		inputLength = input.length;

		// Initialize the state
		n = initialN;
		delta = 0;
		bias = initialBias;

		// Handle the basic code points
		for (j = 0; j < inputLength; ++j) {
			currentValue = input[j];
			if (currentValue < 0x80) {
				output.push(stringFromCharCode(currentValue));
			}
		}

		handledCPCount = basicLength = output.length;

		// `handledCPCount` is the number of code points that have been handled;
		// `basicLength` is the number of basic code points.

		// Finish the basic string - if it is not empty - with a delimiter
		if (basicLength) {
			output.push(delimiter);
		}

		// Main encoding loop:
		while (handledCPCount < inputLength) {

			// All non-basic code points < n have been handled already. Find the next
			// larger one:
			for (m = maxInt, j = 0; j < inputLength; ++j) {
				currentValue = input[j];
				if (currentValue >= n && currentValue < m) {
					m = currentValue;
				}
			}

			// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,
			// but guard against overflow
			handledCPCountPlusOne = handledCPCount + 1;
			if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
				error('overflow');
			}

			delta += (m - n) * handledCPCountPlusOne;
			n = m;

			for (j = 0; j < inputLength; ++j) {
				currentValue = input[j];

				if (currentValue < n && ++delta > maxInt) {
					error('overflow');
				}

				if (currentValue == n) {
					// Represent delta as a generalized variable-length integer
					for (q = delta, k = base; /* no condition */; k += base) {
						t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);
						if (q < t) {
							break;
						}
						qMinusT = q - t;
						baseMinusT = base - t;
						output.push(
							stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))
						);
						q = floor(qMinusT / baseMinusT);
					}

					output.push(stringFromCharCode(digitToBasic(q, 0)));
					bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
					delta = 0;
					++handledCPCount;
				}
			}

			++delta;
			++n;

		}
		return output.join('');
	}

	/**
	 * Converts a Punycode string representing a domain name or an email address
	 * to Unicode. Only the Punycoded parts of the input will be converted, i.e.
	 * it doesn't matter if you call it on a string that has already been
	 * converted to Unicode.
	 * @memberOf punycode
	 * @param {String} input The Punycoded domain name or email address to
	 * convert to Unicode.
	 * @returns {String} The Unicode representation of the given Punycode
	 * string.
	 */
	function toUnicode(input) {
		return mapDomain(input, function(string) {
			return regexPunycode.test(string)
				? decode(string.slice(4).toLowerCase())
				: string;
		});
	}

	/**
	 * Converts a Unicode string representing a domain name or an email address to
	 * Punycode. Only the non-ASCII parts of the domain name will be converted,
	 * i.e. it doesn't matter if you call it with a domain that's already in
	 * ASCII.
	 * @memberOf punycode
	 * @param {String} input The domain name or email address to convert, as a
	 * Unicode string.
	 * @returns {String} The Punycode representation of the given domain name or
	 * email address.
	 */
	function toASCII(input) {
		return mapDomain(input, function(string) {
			return regexNonASCII.test(string)
				? 'xn--' + encode(string)
				: string;
		});
	}

	/*--------------------------------------------------------------------------*/

	/** Define the public API */
	punycode = {
		/**
		 * A string representing the current Punycode.js version number.
		 * @memberOf punycode
		 * @type String
		 */
		'version': '1.4.1',
		/**
		 * An object of methods to convert from JavaScript's internal character
		 * representation (UCS-2) to Unicode code points, and back.
		 * @see <https://mathiasbynens.be/notes/javascript-encoding>
		 * @memberOf punycode
		 * @type Object
		 */
		'ucs2': {
			'decode': ucs2decode,
			'encode': ucs2encode
		},
		'decode': decode,
		'encode': encode,
		'toASCII': toASCII,
		'toUnicode': toUnicode
	};

	/** Expose `punycode` */
	// Some AMD build optimizers, like r.js, check for specific condition patterns
	// like the following:
	if (
		true
	) {
		!(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {
			return punycode;
		}).call(exports, __webpack_require__, exports, module),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}

}(this));


/***/ }),

/***/ "./node_modules/url/url.js":
/*!*********************************!*\
  !*** ./node_modules/url/url.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*
 * Copyright Joyent, Inc. and other Node contributors.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to permit
 * persons to whom the Software is furnished to do so, subject to the
 * following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
 * NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
 * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
 * USE OR OTHER DEALINGS IN THE SOFTWARE.
 */



var punycode = __webpack_require__(/*! punycode */ "./node_modules/url/node_modules/punycode/punycode.js");

function Url() {
  this.protocol = null;
  this.slashes = null;
  this.auth = null;
  this.host = null;
  this.port = null;
  this.hostname = null;
  this.hash = null;
  this.search = null;
  this.query = null;
  this.pathname = null;
  this.path = null;
  this.href = null;
}

// Reference: RFC 3986, RFC 1808, RFC 2396

/*
 * define these here so at least they only have to be
 * compiled once on the first module load.
 */
var protocolPattern = /^([a-z0-9.+-]+:)/i,
  portPattern = /:[0-9]*$/,

  // Special case for a simple path URL
  simplePathPattern = /^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,

  /*
   * RFC 2396: characters reserved for delimiting URLs.
   * We actually just auto-escape these.
   */
  delims = [
    '<', '>', '"', '`', ' ', '\r', '\n', '\t'
  ],

  // RFC 2396: characters not allowed for various reasons.
  unwise = [
    '{', '}', '|', '\\', '^', '`'
  ].concat(delims),

  // Allowed by RFCs, but cause of XSS attacks.  Always escape these.
  autoEscape = ['\''].concat(unwise),
  /*
   * Characters that are never ever allowed in a hostname.
   * Note that any invalid chars are also handled, but these
   * are the ones that are *expected* to be seen, so we fast-path
   * them.
   */
  nonHostChars = [
    '%', '/', '?', ';', '#'
  ].concat(autoEscape),
  hostEndingChars = [
    '/', '?', '#'
  ],
  hostnameMaxLen = 255,
  hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,
  hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
  // protocols that can allow "unsafe" and "unwise" chars.
  unsafeProtocol = {
    javascript: true,
    'javascript:': true
  },
  // protocols that never have a hostname.
  hostlessProtocol = {
    javascript: true,
    'javascript:': true
  },
  // protocols that always contain a // bit.
  slashedProtocol = {
    http: true,
    https: true,
    ftp: true,
    gopher: true,
    file: true,
    'http:': true,
    'https:': true,
    'ftp:': true,
    'gopher:': true,
    'file:': true
  },
  querystring = __webpack_require__(/*! qs */ "./node_modules/qs/lib/index.js");

function urlParse(url, parseQueryString, slashesDenoteHost) {
  if (url && typeof url === 'object' && url instanceof Url) { return url; }

  var u = new Url();
  u.parse(url, parseQueryString, slashesDenoteHost);
  return u;
}

Url.prototype.parse = function (url, parseQueryString, slashesDenoteHost) {
  if (typeof url !== 'string') {
    throw new TypeError("Parameter 'url' must be a string, not " + typeof url);
  }

  /*
   * Copy chrome, IE, opera backslash-handling behavior.
   * Back slashes before the query string get converted to forward slashes
   * See: https://code.google.com/p/chromium/issues/detail?id=25916
   */
  var queryIndex = url.indexOf('?'),
    splitter = queryIndex !== -1 && queryIndex < url.indexOf('#') ? '?' : '#',
    uSplit = url.split(splitter),
    slashRegex = /\\/g;
  uSplit[0] = uSplit[0].replace(slashRegex, '/');
  url = uSplit.join(splitter);

  var rest = url;

  /*
   * trim before proceeding.
   * This is to support parse stuff like "  http://foo.com  \n"
   */
  rest = rest.trim();

  if (!slashesDenoteHost && url.split('#').length === 1) {
    // Try fast path regexp
    var simplePath = simplePathPattern.exec(rest);
    if (simplePath) {
      this.path = rest;
      this.href = rest;
      this.pathname = simplePath[1];
      if (simplePath[2]) {
        this.search = simplePath[2];
        if (parseQueryString) {
          this.query = querystring.parse(this.search.substr(1));
        } else {
          this.query = this.search.substr(1);
        }
      } else if (parseQueryString) {
        this.search = '';
        this.query = {};
      }
      return this;
    }
  }

  var proto = protocolPattern.exec(rest);
  if (proto) {
    proto = proto[0];
    var lowerProto = proto.toLowerCase();
    this.protocol = lowerProto;
    rest = rest.substr(proto.length);
  }

  /*
   * figure out if it's got a host
   * user@server is *always* interpreted as a hostname, and url
   * resolution will treat //foo/bar as host=foo,path=bar because that's
   * how the browser resolves relative URLs.
   */
  if (slashesDenoteHost || proto || rest.match(/^\/\/[^@/]+@[^@/]+/)) {
    var slashes = rest.substr(0, 2) === '//';
    if (slashes && !(proto && hostlessProtocol[proto])) {
      rest = rest.substr(2);
      this.slashes = true;
    }
  }

  if (!hostlessProtocol[proto] && (slashes || (proto && !slashedProtocol[proto]))) {

    /*
     * there's a hostname.
     * the first instance of /, ?, ;, or # ends the host.
     *
     * If there is an @ in the hostname, then non-host chars *are* allowed
     * to the left of the last @ sign, unless some host-ending character
     * comes *before* the @-sign.
     * URLs are obnoxious.
     *
     * ex:
     * http://a@b@c/ => user:a@b host:c
     * http://a@b?@c => user:a host:c path:/?@c
     */

    /*
     * v0.12 TODO(isaacs): This is not quite how Chrome does things.
     * Review our test case against browsers more comprehensively.
     */

    // find the first instance of any hostEndingChars
    var hostEnd = -1;
    for (var i = 0; i < hostEndingChars.length; i++) {
      var hec = rest.indexOf(hostEndingChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) { hostEnd = hec; }
    }

    /*
     * at this point, either we have an explicit point where the
     * auth portion cannot go past, or the last @ char is the decider.
     */
    var auth, atSign;
    if (hostEnd === -1) {
      // atSign can be anywhere.
      atSign = rest.lastIndexOf('@');
    } else {
      /*
       * atSign must be in auth portion.
       * http://a@b/c@d => host:b auth:a path:/c@d
       */
      atSign = rest.lastIndexOf('@', hostEnd);
    }

    /*
     * Now we have a portion which is definitely the auth.
     * Pull that off.
     */
    if (atSign !== -1) {
      auth = rest.slice(0, atSign);
      rest = rest.slice(atSign + 1);
      this.auth = decodeURIComponent(auth);
    }

    // the host is the remaining to the left of the first non-host char
    hostEnd = -1;
    for (var i = 0; i < nonHostChars.length; i++) {
      var hec = rest.indexOf(nonHostChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) { hostEnd = hec; }
    }
    // if we still have not hit it, then the entire thing is a host.
    if (hostEnd === -1) { hostEnd = rest.length; }

    this.host = rest.slice(0, hostEnd);
    rest = rest.slice(hostEnd);

    // pull out port.
    this.parseHost();

    /*
     * we've indicated that there is a hostname,
     * so even if it's empty, it has to be present.
     */
    this.hostname = this.hostname || '';

    /*
     * if hostname begins with [ and ends with ]
     * assume that it's an IPv6 address.
     */
    var ipv6Hostname = this.hostname[0] === '[' && this.hostname[this.hostname.length - 1] === ']';

    // validate a little.
    if (!ipv6Hostname) {
      var hostparts = this.hostname.split(/\./);
      for (var i = 0, l = hostparts.length; i < l; i++) {
        var part = hostparts[i];
        if (!part) { continue; }
        if (!part.match(hostnamePartPattern)) {
          var newpart = '';
          for (var j = 0, k = part.length; j < k; j++) {
            if (part.charCodeAt(j) > 127) {
              /*
               * we replace non-ASCII char with a temporary placeholder
               * we need this to make sure size of hostname is not
               * broken by replacing non-ASCII by nothing
               */
              newpart += 'x';
            } else {
              newpart += part[j];
            }
          }
          // we test again with ASCII char only
          if (!newpart.match(hostnamePartPattern)) {
            var validParts = hostparts.slice(0, i);
            var notHost = hostparts.slice(i + 1);
            var bit = part.match(hostnamePartStart);
            if (bit) {
              validParts.push(bit[1]);
              notHost.unshift(bit[2]);
            }
            if (notHost.length) {
              rest = '/' + notHost.join('.') + rest;
            }
            this.hostname = validParts.join('.');
            break;
          }
        }
      }
    }

    if (this.hostname.length > hostnameMaxLen) {
      this.hostname = '';
    } else {
      // hostnames are always lower case.
      this.hostname = this.hostname.toLowerCase();
    }

    if (!ipv6Hostname) {
      /*
       * IDNA Support: Returns a punycoded representation of "domain".
       * It only converts parts of the domain name that
       * have non-ASCII characters, i.e. it doesn't matter if
       * you call it with a domain that already is ASCII-only.
       */
      this.hostname = punycode.toASCII(this.hostname);
    }

    var p = this.port ? ':' + this.port : '';
    var h = this.hostname || '';
    this.host = h + p;
    this.href += this.host;

    /*
     * strip [ and ] from the hostname
     * the host field still retains them, though
     */
    if (ipv6Hostname) {
      this.hostname = this.hostname.substr(1, this.hostname.length - 2);
      if (rest[0] !== '/') {
        rest = '/' + rest;
      }
    }
  }

  /*
   * now rest is set to the post-host stuff.
   * chop off any delim chars.
   */
  if (!unsafeProtocol[lowerProto]) {

    /*
     * First, make 100% sure that any "autoEscape" chars get
     * escaped, even if encodeURIComponent doesn't think they
     * need to be.
     */
    for (var i = 0, l = autoEscape.length; i < l; i++) {
      var ae = autoEscape[i];
      if (rest.indexOf(ae) === -1) { continue; }
      var esc = encodeURIComponent(ae);
      if (esc === ae) {
        esc = escape(ae);
      }
      rest = rest.split(ae).join(esc);
    }
  }

  // chop off from the tail first.
  var hash = rest.indexOf('#');
  if (hash !== -1) {
    // got a fragment string.
    this.hash = rest.substr(hash);
    rest = rest.slice(0, hash);
  }
  var qm = rest.indexOf('?');
  if (qm !== -1) {
    this.search = rest.substr(qm);
    this.query = rest.substr(qm + 1);
    if (parseQueryString) {
      this.query = querystring.parse(this.query);
    }
    rest = rest.slice(0, qm);
  } else if (parseQueryString) {
    // no query string, but parseQueryString still requested
    this.search = '';
    this.query = {};
  }
  if (rest) { this.pathname = rest; }
  if (slashedProtocol[lowerProto] && this.hostname && !this.pathname) {
    this.pathname = '/';
  }

  // to support http.request
  if (this.pathname || this.search) {
    var p = this.pathname || '';
    var s = this.search || '';
    this.path = p + s;
  }

  // finally, reconstruct the href based on what has been validated.
  this.href = this.format();
  return this;
};

// format a parsed object into a url string
function urlFormat(obj) {
  /*
   * ensure it's an object, and not a string url.
   * If it's an obj, this is a no-op.
   * this way, you can call url_format() on strings
   * to clean up potentially wonky urls.
   */
  if (typeof obj === 'string') { obj = urlParse(obj); }
  if (!(obj instanceof Url)) { return Url.prototype.format.call(obj); }
  return obj.format();
}

Url.prototype.format = function () {
  var auth = this.auth || '';
  if (auth) {
    auth = encodeURIComponent(auth);
    auth = auth.replace(/%3A/i, ':');
    auth += '@';
  }

  var protocol = this.protocol || '',
    pathname = this.pathname || '',
    hash = this.hash || '',
    host = false,
    query = '';

  if (this.host) {
    host = auth + this.host;
  } else if (this.hostname) {
    host = auth + (this.hostname.indexOf(':') === -1 ? this.hostname : '[' + this.hostname + ']');
    if (this.port) {
      host += ':' + this.port;
    }
  }

  if (this.query && typeof this.query === 'object' && Object.keys(this.query).length) {
    query = querystring.stringify(this.query);
  }

  var search = this.search || (query && ('?' + query)) || '';

  if (protocol && protocol.substr(-1) !== ':') { protocol += ':'; }

  /*
   * only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.
   * unless they had them to begin with.
   */
  if (this.slashes || (!protocol || slashedProtocol[protocol]) && host !== false) {
    host = '//' + (host || '');
    if (pathname && pathname.charAt(0) !== '/') { pathname = '/' + pathname; }
  } else if (!host) {
    host = '';
  }

  if (hash && hash.charAt(0) !== '#') { hash = '#' + hash; }
  if (search && search.charAt(0) !== '?') { search = '?' + search; }

  pathname = pathname.replace(/[?#]/g, function (match) {
    return encodeURIComponent(match);
  });
  search = search.replace('#', '%23');

  return protocol + host + pathname + search + hash;
};

function urlResolve(source, relative) {
  return urlParse(source, false, true).resolve(relative);
}

Url.prototype.resolve = function (relative) {
  return this.resolveObject(urlParse(relative, false, true)).format();
};

function urlResolveObject(source, relative) {
  if (!source) { return relative; }
  return urlParse(source, false, true).resolveObject(relative);
}

Url.prototype.resolveObject = function (relative) {
  if (typeof relative === 'string') {
    var rel = new Url();
    rel.parse(relative, false, true);
    relative = rel;
  }

  var result = new Url();
  var tkeys = Object.keys(this);
  for (var tk = 0; tk < tkeys.length; tk++) {
    var tkey = tkeys[tk];
    result[tkey] = this[tkey];
  }

  /*
   * hash is always overridden, no matter what.
   * even href="" will remove it.
   */
  result.hash = relative.hash;

  // if the relative url is empty, then there's nothing left to do here.
  if (relative.href === '') {
    result.href = result.format();
    return result;
  }

  // hrefs like //foo/bar always cut to the protocol.
  if (relative.slashes && !relative.protocol) {
    // take everything except the protocol from relative
    var rkeys = Object.keys(relative);
    for (var rk = 0; rk < rkeys.length; rk++) {
      var rkey = rkeys[rk];
      if (rkey !== 'protocol') { result[rkey] = relative[rkey]; }
    }

    // urlParse appends trailing / to urls like http://www.example.com
    if (slashedProtocol[result.protocol] && result.hostname && !result.pathname) {
      result.pathname = '/';
      result.path = result.pathname;
    }

    result.href = result.format();
    return result;
  }

  if (relative.protocol && relative.protocol !== result.protocol) {
    /*
     * if it's a known url protocol, then changing
     * the protocol does weird things
     * first, if it's not file:, then we MUST have a host,
     * and if there was a path
     * to begin with, then we MUST have a path.
     * if it is file:, then the host is dropped,
     * because that's known to be hostless.
     * anything else is assumed to be absolute.
     */
    if (!slashedProtocol[relative.protocol]) {
      var keys = Object.keys(relative);
      for (var v = 0; v < keys.length; v++) {
        var k = keys[v];
        result[k] = relative[k];
      }
      result.href = result.format();
      return result;
    }

    result.protocol = relative.protocol;
    if (!relative.host && !hostlessProtocol[relative.protocol]) {
      var relPath = (relative.pathname || '').split('/');
      while (relPath.length && !(relative.host = relPath.shift())) { }
      if (!relative.host) { relative.host = ''; }
      if (!relative.hostname) { relative.hostname = ''; }
      if (relPath[0] !== '') { relPath.unshift(''); }
      if (relPath.length < 2) { relPath.unshift(''); }
      result.pathname = relPath.join('/');
    } else {
      result.pathname = relative.pathname;
    }
    result.search = relative.search;
    result.query = relative.query;
    result.host = relative.host || '';
    result.auth = relative.auth;
    result.hostname = relative.hostname || relative.host;
    result.port = relative.port;
    // to support http.request
    if (result.pathname || result.search) {
      var p = result.pathname || '';
      var s = result.search || '';
      result.path = p + s;
    }
    result.slashes = result.slashes || relative.slashes;
    result.href = result.format();
    return result;
  }

  var isSourceAbs = result.pathname && result.pathname.charAt(0) === '/',
    isRelAbs = relative.host || relative.pathname && relative.pathname.charAt(0) === '/',
    mustEndAbs = isRelAbs || isSourceAbs || (result.host && relative.pathname),
    removeAllDots = mustEndAbs,
    srcPath = result.pathname && result.pathname.split('/') || [],
    relPath = relative.pathname && relative.pathname.split('/') || [],
    psychotic = result.protocol && !slashedProtocol[result.protocol];

  /*
   * if the url is a non-slashed url, then relative
   * links like ../.. should be able
   * to crawl up to the hostname, as well.  This is strange.
   * result.protocol has already been set by now.
   * Later on, put the first path part into the host field.
   */
  if (psychotic) {
    result.hostname = '';
    result.port = null;
    if (result.host) {
      if (srcPath[0] === '') { srcPath[0] = result.host; } else { srcPath.unshift(result.host); }
    }
    result.host = '';
    if (relative.protocol) {
      relative.hostname = null;
      relative.port = null;
      if (relative.host) {
        if (relPath[0] === '') { relPath[0] = relative.host; } else { relPath.unshift(relative.host); }
      }
      relative.host = null;
    }
    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');
  }

  if (isRelAbs) {
    // it's absolute.
    result.host = relative.host || relative.host === '' ? relative.host : result.host;
    result.hostname = relative.hostname || relative.hostname === '' ? relative.hostname : result.hostname;
    result.search = relative.search;
    result.query = relative.query;
    srcPath = relPath;
    // fall through to the dot-handling below.
  } else if (relPath.length) {
    /*
     * it's relative
     * throw away the existing file, and take the new path instead.
     */
    if (!srcPath) { srcPath = []; }
    srcPath.pop();
    srcPath = srcPath.concat(relPath);
    result.search = relative.search;
    result.query = relative.query;
  } else if (relative.search != null) {
    /*
     * just pull out the search.
     * like href='?foo'.
     * Put this after the other two cases because it simplifies the booleans
     */
    if (psychotic) {
      result.host = srcPath.shift();
      result.hostname = result.host;
      /*
       * occationaly the auth can get stuck only in host
       * this especially happens in cases like
       * url.resolveObject('mailto:local1@domain1', 'local2@domain2')
       */
      var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;
      if (authInHost) {
        result.auth = authInHost.shift();
        result.hostname = authInHost.shift();
        result.host = result.hostname;
      }
    }
    result.search = relative.search;
    result.query = relative.query;
    // to support http.request
    if (result.pathname !== null || result.search !== null) {
      result.path = (result.pathname ? result.pathname : '') + (result.search ? result.search : '');
    }
    result.href = result.format();
    return result;
  }

  if (!srcPath.length) {
    /*
     * no path at all.  easy.
     * we've already handled the other stuff above.
     */
    result.pathname = null;
    // to support http.request
    if (result.search) {
      result.path = '/' + result.search;
    } else {
      result.path = null;
    }
    result.href = result.format();
    return result;
  }

  /*
   * if a url ENDs in . or .., then it must get a trailing slash.
   * however, if it ends in anything else non-slashy,
   * then it must NOT get a trailing slash.
   */
  var last = srcPath.slice(-1)[0];
  var hasTrailingSlash = (result.host || relative.host || srcPath.length > 1) && (last === '.' || last === '..') || last === '';

  /*
   * strip single dots, resolve double dots to parent dir
   * if the path tries to go above the root, `up` ends up > 0
   */
  var up = 0;
  for (var i = srcPath.length; i >= 0; i--) {
    last = srcPath[i];
    if (last === '.') {
      srcPath.splice(i, 1);
    } else if (last === '..') {
      srcPath.splice(i, 1);
      up++;
    } else if (up) {
      srcPath.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (!mustEndAbs && !removeAllDots) {
    for (; up--; up) {
      srcPath.unshift('..');
    }
  }

  if (mustEndAbs && srcPath[0] !== '' && (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {
    srcPath.unshift('');
  }

  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {
    srcPath.push('');
  }

  var isAbsolute = srcPath[0] === '' || (srcPath[0] && srcPath[0].charAt(0) === '/');

  // put the host back
  if (psychotic) {
    result.hostname = isAbsolute ? '' : srcPath.length ? srcPath.shift() : '';
    result.host = result.hostname;
    /*
     * occationaly the auth can get stuck only in host
     * this especially happens in cases like
     * url.resolveObject('mailto:local1@domain1', 'local2@domain2')
     */
    var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;
    if (authInHost) {
      result.auth = authInHost.shift();
      result.hostname = authInHost.shift();
      result.host = result.hostname;
    }
  }

  mustEndAbs = mustEndAbs || (result.host && srcPath.length);

  if (mustEndAbs && !isAbsolute) {
    srcPath.unshift('');
  }

  if (srcPath.length > 0) {
    result.pathname = srcPath.join('/');
  } else {
    result.pathname = null;
    result.path = null;
  }

  // to support request.http
  if (result.pathname !== null || result.search !== null) {
    result.path = (result.pathname ? result.pathname : '') + (result.search ? result.search : '');
  }
  result.auth = relative.auth || result.auth;
  result.slashes = result.slashes || relative.slashes;
  result.href = result.format();
  return result;
};

Url.prototype.parseHost = function () {
  var host = this.host;
  var port = portPattern.exec(host);
  if (port) {
    port = port[0];
    if (port !== ':') {
      this.port = port.substr(1);
    }
    host = host.substr(0, host.length - port.length);
  }
  if (host) { this.hostname = host; }
};

exports.parse = urlParse;
exports.resolve = urlResolve;
exports.resolveObject = urlResolveObject;
exports.format = urlFormat;

exports.Url = Url;


/***/ }),

/***/ "?4f7e":
/*!********************************!*\
  !*** ./util.inspect (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "./node_modules/@pixi/accessibility/lib/AccessibilityManager.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/accessibility/lib/AccessibilityManager.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AccessibilityManager: () => (/* binding */ AccessibilityManager)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _pixi_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/events */ "./node_modules/@pixi/events/lib/index.mjs");
/* harmony import */ var _accessibleTarget_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./accessibleTarget.mjs */ "./node_modules/@pixi/accessibility/lib/accessibleTarget.mjs");





_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.mixin(_accessibleTarget_mjs__WEBPACK_IMPORTED_MODULE_3__.accessibleTarget);
const KEY_CODE_TAB = 9;
const DIV_TOUCH_SIZE = 100;
const DIV_TOUCH_POS_X = 0;
const DIV_TOUCH_POS_Y = 0;
const DIV_TOUCH_ZINDEX = 2;
const DIV_HOOK_SIZE = 1;
const DIV_HOOK_POS_X = -1e3;
const DIV_HOOK_POS_Y = -1e3;
const DIV_HOOK_ZINDEX = 2;
class AccessibilityManager {
  constructor(renderer) {
    this.debug = false;
    this._isActive = false;
    this._isMobileAccessibility = false;
    this.pool = [];
    this.renderId = 0;
    this.children = [];
    this.androidUpdateCount = 0;
    this.androidUpdateFrequency = 500;
    this._hookDiv = null;
    if (_pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.isMobile.tablet || _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.isMobile.phone) {
      this.createTouchHook();
    }
    const div = document.createElement("div");
    div.style.width = `${DIV_TOUCH_SIZE}px`;
    div.style.height = `${DIV_TOUCH_SIZE}px`;
    div.style.position = "absolute";
    div.style.top = `${DIV_TOUCH_POS_X}px`;
    div.style.left = `${DIV_TOUCH_POS_Y}px`;
    div.style.zIndex = DIV_TOUCH_ZINDEX.toString();
    this.div = div;
    this.renderer = renderer;
    this._onKeyDown = this._onKeyDown.bind(this);
    this._onMouseMove = this._onMouseMove.bind(this);
    globalThis.addEventListener("keydown", this._onKeyDown, false);
  }
  get isActive() {
    return this._isActive;
  }
  get isMobileAccessibility() {
    return this._isMobileAccessibility;
  }
  createTouchHook() {
    const hookDiv = document.createElement("button");
    hookDiv.style.width = `${DIV_HOOK_SIZE}px`;
    hookDiv.style.height = `${DIV_HOOK_SIZE}px`;
    hookDiv.style.position = "absolute";
    hookDiv.style.top = `${DIV_HOOK_POS_X}px`;
    hookDiv.style.left = `${DIV_HOOK_POS_Y}px`;
    hookDiv.style.zIndex = DIV_HOOK_ZINDEX.toString();
    hookDiv.style.backgroundColor = "#FF0000";
    hookDiv.title = "select to enable accessibility for this content";
    hookDiv.addEventListener("focus", () => {
      this._isMobileAccessibility = true;
      this.activate();
      this.destroyTouchHook();
    });
    document.body.appendChild(hookDiv);
    this._hookDiv = hookDiv;
  }
  destroyTouchHook() {
    if (!this._hookDiv) {
      return;
    }
    document.body.removeChild(this._hookDiv);
    this._hookDiv = null;
  }
  activate() {
    if (this._isActive) {
      return;
    }
    this._isActive = true;
    globalThis.document.addEventListener("mousemove", this._onMouseMove, true);
    globalThis.removeEventListener("keydown", this._onKeyDown, false);
    this.renderer.on("postrender", this.update, this);
    this.renderer.view.parentNode?.appendChild(this.div);
  }
  deactivate() {
    if (!this._isActive || this._isMobileAccessibility) {
      return;
    }
    this._isActive = false;
    globalThis.document.removeEventListener("mousemove", this._onMouseMove, true);
    globalThis.addEventListener("keydown", this._onKeyDown, false);
    this.renderer.off("postrender", this.update);
    this.div.parentNode?.removeChild(this.div);
  }
  updateAccessibleObjects(displayObject) {
    if (!displayObject.visible || !displayObject.accessibleChildren) {
      return;
    }
    if (displayObject.accessible && displayObject.isInteractive()) {
      if (!displayObject._accessibleActive) {
        this.addChild(displayObject);
      }
      displayObject.renderId = this.renderId;
    }
    const children = displayObject.children;
    if (children) {
      for (let i = 0; i < children.length; i++) {
        this.updateAccessibleObjects(children[i]);
      }
    }
  }
  update() {
    const now = performance.now();
    if (_pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.isMobile.android.device && now < this.androidUpdateCount) {
      return;
    }
    this.androidUpdateCount = now + this.androidUpdateFrequency;
    if (!this.renderer.renderingToScreen) {
      return;
    }
    if (this.renderer.lastObjectRendered) {
      this.updateAccessibleObjects(this.renderer.lastObjectRendered);
    }
    const { x, y, width, height } = this.renderer.view.getBoundingClientRect();
    const { width: viewWidth, height: viewHeight, resolution } = this.renderer;
    const sx = width / viewWidth * resolution;
    const sy = height / viewHeight * resolution;
    let div = this.div;
    div.style.left = `${x}px`;
    div.style.top = `${y}px`;
    div.style.width = `${viewWidth}px`;
    div.style.height = `${viewHeight}px`;
    for (let i = 0; i < this.children.length; i++) {
      const child = this.children[i];
      if (child.renderId !== this.renderId) {
        child._accessibleActive = false;
        _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.removeItems(this.children, i, 1);
        this.div.removeChild(child._accessibleDiv);
        this.pool.push(child._accessibleDiv);
        child._accessibleDiv = null;
        i--;
      } else {
        div = child._accessibleDiv;
        let hitArea = child.hitArea;
        const wt = child.worldTransform;
        if (child.hitArea) {
          div.style.left = `${(wt.tx + hitArea.x * wt.a) * sx}px`;
          div.style.top = `${(wt.ty + hitArea.y * wt.d) * sy}px`;
          div.style.width = `${hitArea.width * wt.a * sx}px`;
          div.style.height = `${hitArea.height * wt.d * sy}px`;
        } else {
          hitArea = child.getBounds();
          this.capHitArea(hitArea);
          div.style.left = `${hitArea.x * sx}px`;
          div.style.top = `${hitArea.y * sy}px`;
          div.style.width = `${hitArea.width * sx}px`;
          div.style.height = `${hitArea.height * sy}px`;
          if (div.title !== child.accessibleTitle && child.accessibleTitle !== null) {
            div.title = child.accessibleTitle;
          }
          if (div.getAttribute("aria-label") !== child.accessibleHint && child.accessibleHint !== null) {
            div.setAttribute("aria-label", child.accessibleHint);
          }
        }
        if (child.accessibleTitle !== div.title || child.tabIndex !== div.tabIndex) {
          div.title = child.accessibleTitle;
          div.tabIndex = child.tabIndex;
          if (this.debug)
            this.updateDebugHTML(div);
        }
      }
    }
    this.renderId++;
  }
  updateDebugHTML(div) {
    div.innerHTML = `type: ${div.type}</br> title : ${div.title}</br> tabIndex: ${div.tabIndex}`;
  }
  capHitArea(hitArea) {
    if (hitArea.x < 0) {
      hitArea.width += hitArea.x;
      hitArea.x = 0;
    }
    if (hitArea.y < 0) {
      hitArea.height += hitArea.y;
      hitArea.y = 0;
    }
    const { width: viewWidth, height: viewHeight } = this.renderer;
    if (hitArea.x + hitArea.width > viewWidth) {
      hitArea.width = viewWidth - hitArea.x;
    }
    if (hitArea.y + hitArea.height > viewHeight) {
      hitArea.height = viewHeight - hitArea.y;
    }
  }
  addChild(displayObject) {
    let div = this.pool.pop();
    if (!div) {
      div = document.createElement("button");
      div.style.width = `${DIV_TOUCH_SIZE}px`;
      div.style.height = `${DIV_TOUCH_SIZE}px`;
      div.style.backgroundColor = this.debug ? "rgba(255,255,255,0.5)" : "transparent";
      div.style.position = "absolute";
      div.style.zIndex = DIV_TOUCH_ZINDEX.toString();
      div.style.borderStyle = "none";
      if (navigator.userAgent.toLowerCase().includes("chrome")) {
        div.setAttribute("aria-live", "off");
      } else {
        div.setAttribute("aria-live", "polite");
      }
      if (navigator.userAgent.match(/rv:.*Gecko\//)) {
        div.setAttribute("aria-relevant", "additions");
      } else {
        div.setAttribute("aria-relevant", "text");
      }
      div.addEventListener("click", this._onClick.bind(this));
      div.addEventListener("focus", this._onFocus.bind(this));
      div.addEventListener("focusout", this._onFocusOut.bind(this));
    }
    div.style.pointerEvents = displayObject.accessiblePointerEvents;
    div.type = displayObject.accessibleType;
    if (displayObject.accessibleTitle && displayObject.accessibleTitle !== null) {
      div.title = displayObject.accessibleTitle;
    } else if (!displayObject.accessibleHint || displayObject.accessibleHint === null) {
      div.title = `displayObject ${displayObject.tabIndex}`;
    }
    if (displayObject.accessibleHint && displayObject.accessibleHint !== null) {
      div.setAttribute("aria-label", displayObject.accessibleHint);
    }
    if (this.debug)
      this.updateDebugHTML(div);
    displayObject._accessibleActive = true;
    displayObject._accessibleDiv = div;
    div.displayObject = displayObject;
    this.children.push(displayObject);
    this.div.appendChild(displayObject._accessibleDiv);
    displayObject._accessibleDiv.tabIndex = displayObject.tabIndex;
  }
  _dispatchEvent(e, type) {
    const { displayObject: target } = e.target;
    const boundry = this.renderer.events.rootBoundary;
    const event = Object.assign(new _pixi_events__WEBPACK_IMPORTED_MODULE_2__.FederatedEvent(boundry), { target });
    boundry.rootTarget = this.renderer.lastObjectRendered;
    type.forEach((type2) => boundry.dispatchEvent(event, type2));
  }
  _onClick(e) {
    this._dispatchEvent(e, ["click", "pointertap", "tap"]);
  }
  _onFocus(e) {
    if (!e.target.getAttribute("aria-live")) {
      e.target.setAttribute("aria-live", "assertive");
    }
    this._dispatchEvent(e, ["mouseover"]);
  }
  _onFocusOut(e) {
    if (!e.target.getAttribute("aria-live")) {
      e.target.setAttribute("aria-live", "polite");
    }
    this._dispatchEvent(e, ["mouseout"]);
  }
  _onKeyDown(e) {
    if (e.keyCode !== KEY_CODE_TAB) {
      return;
    }
    this.activate();
  }
  _onMouseMove(e) {
    if (e.movementX === 0 && e.movementY === 0) {
      return;
    }
    this.deactivate();
  }
  destroy() {
    this.destroyTouchHook();
    this.div = null;
    globalThis.document.removeEventListener("mousemove", this._onMouseMove, true);
    globalThis.removeEventListener("keydown", this._onKeyDown);
    this.pool = null;
    this.children = null;
    this.renderer = null;
  }
}
AccessibilityManager.extension = {
  name: "accessibility",
  type: [
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererPlugin,
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.CanvasRendererPlugin
  ]
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(AccessibilityManager);


//# sourceMappingURL=AccessibilityManager.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/accessibility/lib/accessibleTarget.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/accessibility/lib/accessibleTarget.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   accessibleTarget: () => (/* binding */ accessibleTarget)
/* harmony export */ });
const accessibleTarget = {
  accessible: false,
  accessibleTitle: null,
  accessibleHint: null,
  tabIndex: 0,
  _accessibleActive: false,
  _accessibleDiv: null,
  accessibleType: "button",
  accessiblePointerEvents: "auto",
  accessibleChildren: true,
  renderId: -1
};


//# sourceMappingURL=accessibleTarget.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/accessibility/lib/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/accessibility/lib/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AccessibilityManager: () => (/* reexport safe */ _AccessibilityManager_mjs__WEBPACK_IMPORTED_MODULE_0__.AccessibilityManager),
/* harmony export */   accessibleTarget: () => (/* reexport safe */ _accessibleTarget_mjs__WEBPACK_IMPORTED_MODULE_1__.accessibleTarget)
/* harmony export */ });
/* harmony import */ var _AccessibilityManager_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AccessibilityManager.mjs */ "./node_modules/@pixi/accessibility/lib/AccessibilityManager.mjs");
/* harmony import */ var _accessibleTarget_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./accessibleTarget.mjs */ "./node_modules/@pixi/accessibility/lib/accessibleTarget.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/app/lib/Application.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/app/lib/Application.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Application: () => (/* binding */ Application)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");



const _Application = class {
  constructor(options) {
    this.stage = new _pixi_display__WEBPACK_IMPORTED_MODULE_1__.Container();
    options = Object.assign({
      forceCanvas: false
    }, options);
    this.renderer = (0,_pixi_core__WEBPACK_IMPORTED_MODULE_0__.autoDetectRenderer)(options);
    _Application._plugins.forEach((plugin) => {
      plugin.init.call(this, options);
    });
  }
  render() {
    this.renderer.render(this.stage);
  }
  get view() {
    return this.renderer.view;
  }
  get screen() {
    return this.renderer.screen;
  }
  destroy(removeView, stageOptions) {
    const plugins = _Application._plugins.slice(0);
    plugins.reverse();
    plugins.forEach((plugin) => {
      plugin.destroy.call(this);
    });
    this.stage.destroy(stageOptions);
    this.stage = null;
    this.renderer.destroy(removeView);
    this.renderer = null;
  }
};
let Application = _Application;
Application._plugins = [];
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.handleByList(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.Application, Application._plugins);


//# sourceMappingURL=Application.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/app/lib/ResizePlugin.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/app/lib/ResizePlugin.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ResizePlugin: () => (/* binding */ ResizePlugin)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


class ResizePlugin {
  static init(options) {
    Object.defineProperty(this, "resizeTo", {
      set(dom) {
        globalThis.removeEventListener("resize", this.queueResize);
        this._resizeTo = dom;
        if (dom) {
          globalThis.addEventListener("resize", this.queueResize);
          this.resize();
        }
      },
      get() {
        return this._resizeTo;
      }
    });
    this.queueResize = () => {
      if (!this._resizeTo) {
        return;
      }
      this.cancelResize();
      this._resizeId = requestAnimationFrame(() => this.resize());
    };
    this.cancelResize = () => {
      if (this._resizeId) {
        cancelAnimationFrame(this._resizeId);
        this._resizeId = null;
      }
    };
    this.resize = () => {
      if (!this._resizeTo) {
        return;
      }
      this.cancelResize();
      let width;
      let height;
      if (this._resizeTo === globalThis.window) {
        width = globalThis.innerWidth;
        height = globalThis.innerHeight;
      } else {
        const { clientWidth, clientHeight } = this._resizeTo;
        width = clientWidth;
        height = clientHeight;
      }
      this.renderer.resize(width, height);
      this.render();
    };
    this._resizeId = null;
    this._resizeTo = null;
    this.resizeTo = options.resizeTo || null;
  }
  static destroy() {
    globalThis.removeEventListener("resize", this.queueResize);
    this.cancelResize();
    this.cancelResize = null;
    this.queueResize = null;
    this.resizeTo = null;
    this.resize = null;
  }
}
ResizePlugin.extension = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.Application;
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(ResizePlugin);


//# sourceMappingURL=ResizePlugin.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/app/lib/index.mjs":
/*!**********************************************!*\
  !*** ./node_modules/@pixi/app/lib/index.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Application: () => (/* reexport safe */ _Application_mjs__WEBPACK_IMPORTED_MODULE_0__.Application),
/* harmony export */   ResizePlugin: () => (/* reexport safe */ _ResizePlugin_mjs__WEBPACK_IMPORTED_MODULE_1__.ResizePlugin)
/* harmony export */ });
/* harmony import */ var _Application_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Application.mjs */ "./node_modules/@pixi/app/lib/Application.mjs");
/* harmony import */ var _ResizePlugin_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ResizePlugin.mjs */ "./node_modules/@pixi/app/lib/ResizePlugin.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/AssetExtension.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/AssetExtension.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const assetKeyMap = {
  loader: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
  resolver: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.ResolveParser,
  cache: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.CacheParser,
  detection: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.DetectionParser
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.handle(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.Asset, (extension) => {
  const ref = extension.ref;
  Object.entries(assetKeyMap).filter(([key]) => !!ref[key]).forEach(([key, type]) => _pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(Object.assign(ref[key], { extension: ref[key].extension ?? type })));
}, (extension) => {
  const ref = extension.ref;
  Object.keys(assetKeyMap).filter((key) => !!ref[key]).forEach((key) => _pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.remove(ref[key]));
});
//# sourceMappingURL=AssetExtension.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/Assets.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/Assets.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Assets: () => (/* binding */ Assets),
/* harmony export */   AssetsClass: () => (/* binding */ AssetsClass)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _BackgroundLoader_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BackgroundLoader.mjs */ "./node_modules/@pixi/assets/lib/BackgroundLoader.mjs");
/* harmony import */ var _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cache/Cache.mjs */ "./node_modules/@pixi/assets/lib/cache/Cache.mjs");
/* harmony import */ var _loader_Loader_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./loader/Loader.mjs */ "./node_modules/@pixi/assets/lib/loader/Loader.mjs");
/* harmony import */ var _loader_parsers_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./loader/parsers/index.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/index.mjs");
/* harmony import */ var _resolver_Resolver_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./resolver/Resolver.mjs */ "./node_modules/@pixi/assets/lib/resolver/Resolver.mjs");
/* harmony import */ var _utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/convertToList.mjs */ "./node_modules/@pixi/assets/lib/utils/convertToList.mjs");
/* harmony import */ var _utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/isSingleItem.mjs */ "./node_modules/@pixi/assets/lib/utils/isSingleItem.mjs");
/* harmony import */ var _loader_parsers_textures_loadTextures_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./loader/parsers/textures/loadTextures.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadTextures.mjs");










class AssetsClass {
  constructor() {
    this._detections = [];
    this._initialized = false;
    this.resolver = new _resolver_Resolver_mjs__WEBPACK_IMPORTED_MODULE_5__.Resolver();
    this.loader = new _loader_Loader_mjs__WEBPACK_IMPORTED_MODULE_3__.Loader();
    this.cache = _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_2__.Cache;
    this._backgroundLoader = new _BackgroundLoader_mjs__WEBPACK_IMPORTED_MODULE_1__.BackgroundLoader(this.loader);
    this._backgroundLoader.active = true;
    this.reset();
  }
  async init(options = {}) {
    if (this._initialized) {
      console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");
      return;
    }
    this._initialized = true;
    if (options.defaultSearchParams) {
      this.resolver.setDefaultSearchParams(options.defaultSearchParams);
    }
    if (options.basePath) {
      this.resolver.basePath = options.basePath;
    }
    if (options.bundleIdentifier) {
      this.resolver.setBundleIdentifier(options.bundleIdentifier);
    }
    if (options.manifest) {
      let manifest = options.manifest;
      if (typeof manifest === "string") {
        manifest = await this.load(manifest);
      }
      this.resolver.addManifest(manifest);
    }
    const resolutionPref = options.texturePreference?.resolution ?? 1;
    const resolution = typeof resolutionPref === "number" ? [resolutionPref] : resolutionPref;
    let formats = [];
    if (options.texturePreference?.format) {
      const formatPref = options.texturePreference?.format;
      formats = typeof formatPref === "string" ? [formatPref] : formatPref;
      for (const detection of this._detections) {
        if (!await detection.test()) {
          formats = await detection.remove(formats);
        }
      }
    } else {
      for (const detection of this._detections) {
        if (await detection.test()) {
          formats = await detection.add(formats);
        }
      }
    }
    this.resolver.prefer({
      params: {
        format: formats,
        resolution
      }
    });
    if (options.preferences) {
      this.setPreferences(options.preferences);
    }
  }
  add(keysIn, assetsIn, data) {
    this.resolver.add(keysIn, assetsIn, data);
  }
  async load(urls, onProgress) {
    if (!this._initialized) {
      await this.init();
    }
    const singleAsset = (0,_utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_7__.isSingleItem)(urls);
    const urlArray = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_6__.convertToList)(urls).map((url) => {
      if (typeof url !== "string") {
        this.resolver.add(url.src, url);
        return url.src;
      }
      if (!this.resolver.hasKey(url)) {
        this.resolver.add(url, url);
      }
      return url;
    });
    const resolveResults = this.resolver.resolve(urlArray);
    const out = await this._mapLoadToResolve(resolveResults, onProgress);
    return singleAsset ? out[urlArray[0]] : out;
  }
  addBundle(bundleId, assets) {
    this.resolver.addBundle(bundleId, assets);
  }
  async loadBundle(bundleIds, onProgress) {
    if (!this._initialized) {
      await this.init();
    }
    let singleAsset = false;
    if (typeof bundleIds === "string") {
      singleAsset = true;
      bundleIds = [bundleIds];
    }
    const resolveResults = this.resolver.resolveBundle(bundleIds);
    const out = {};
    const keys = Object.keys(resolveResults);
    let count = 0;
    let total = 0;
    const _onProgress = () => {
      onProgress?.(++count / total);
    };
    const promises = keys.map((bundleId) => {
      const resolveResult = resolveResults[bundleId];
      total += Object.keys(resolveResult).length;
      return this._mapLoadToResolve(resolveResult, _onProgress).then((resolveResult2) => {
        out[bundleId] = resolveResult2;
      });
    });
    await Promise.all(promises);
    return singleAsset ? out[bundleIds[0]] : out;
  }
  async backgroundLoad(urls) {
    if (!this._initialized) {
      await this.init();
    }
    if (typeof urls === "string") {
      urls = [urls];
    }
    const resolveResults = this.resolver.resolve(urls);
    this._backgroundLoader.add(Object.values(resolveResults));
  }
  async backgroundLoadBundle(bundleIds) {
    if (!this._initialized) {
      await this.init();
    }
    if (typeof bundleIds === "string") {
      bundleIds = [bundleIds];
    }
    const resolveResults = this.resolver.resolveBundle(bundleIds);
    Object.values(resolveResults).forEach((resolveResult) => {
      this._backgroundLoader.add(Object.values(resolveResult));
    });
  }
  reset() {
    this.resolver.reset();
    this.loader.reset();
    this.cache.reset();
    this._initialized = false;
  }
  get(keys) {
    if (typeof keys === "string") {
      return _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_2__.Cache.get(keys);
    }
    const assets = {};
    for (let i = 0; i < keys.length; i++) {
      assets[i] = _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_2__.Cache.get(keys[i]);
    }
    return assets;
  }
  async _mapLoadToResolve(resolveResults, onProgress) {
    const resolveArray = Object.values(resolveResults);
    const resolveKeys = Object.keys(resolveResults);
    this._backgroundLoader.active = false;
    const loadedAssets = await this.loader.load(resolveArray, onProgress);
    this._backgroundLoader.active = true;
    const out = {};
    resolveArray.forEach((resolveResult, i) => {
      const asset = loadedAssets[resolveResult.src];
      const keys = [resolveResult.src];
      if (resolveResult.alias) {
        keys.push(...resolveResult.alias);
      }
      out[resolveKeys[i]] = asset;
      _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_2__.Cache.set(keys, asset);
    });
    return out;
  }
  async unload(urls) {
    if (!this._initialized) {
      await this.init();
    }
    const urlArray = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_6__.convertToList)(urls).map((url) => typeof url !== "string" ? url.src : url);
    const resolveResults = this.resolver.resolve(urlArray);
    await this._unloadFromResolved(resolveResults);
  }
  async unloadBundle(bundleIds) {
    if (!this._initialized) {
      await this.init();
    }
    bundleIds = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_6__.convertToList)(bundleIds);
    const resolveResults = this.resolver.resolveBundle(bundleIds);
    const promises = Object.keys(resolveResults).map((bundleId) => this._unloadFromResolved(resolveResults[bundleId]));
    await Promise.all(promises);
  }
  async _unloadFromResolved(resolveResult) {
    const resolveArray = Object.values(resolveResult);
    resolveArray.forEach((resolveResult2) => {
      _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_2__.Cache.remove(resolveResult2.src);
    });
    await this.loader.unload(resolveArray);
  }
  get detections() {
    return this._detections;
  }
  get preferWorkers() {
    return _loader_parsers_textures_loadTextures_mjs__WEBPACK_IMPORTED_MODULE_8__.loadTextures.config.preferWorkers;
  }
  set preferWorkers(value) {
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.deprecation("7.2.0", "Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead.");
    this.setPreferences({ preferWorkers: value });
  }
  setPreferences(preferences) {
    this.loader.parsers.forEach((parser) => {
      if (!parser.config)
        return;
      Object.keys(parser.config).filter((key) => key in preferences).forEach((key) => {
        parser.config[key] = preferences[key];
      });
    });
  }
}
const Assets = new AssetsClass();
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.handleByList(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser, Assets.loader.parsers).handleByList(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.ResolveParser, Assets.resolver.parsers).handleByList(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.CacheParser, Assets.cache.parsers).handleByList(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.DetectionParser, Assets.detections);


//# sourceMappingURL=Assets.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/BackgroundLoader.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/BackgroundLoader.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BackgroundLoader: () => (/* binding */ BackgroundLoader)
/* harmony export */ });
class BackgroundLoader {
  constructor(loader, verbose = false) {
    this._loader = loader;
    this._assetList = [];
    this._isLoading = false;
    this._maxConcurrent = 1;
    this.verbose = verbose;
  }
  add(assetUrls) {
    assetUrls.forEach((a) => {
      this._assetList.push(a);
    });
    if (this.verbose)
      console.log("[BackgroundLoader] assets: ", this._assetList);
    if (this._isActive && !this._isLoading) {
      this._next();
    }
  }
  async _next() {
    if (this._assetList.length && this._isActive) {
      this._isLoading = true;
      const toLoad = [];
      const toLoadAmount = Math.min(this._assetList.length, this._maxConcurrent);
      for (let i = 0; i < toLoadAmount; i++) {
        toLoad.push(this._assetList.pop());
      }
      await this._loader.load(toLoad);
      this._isLoading = false;
      this._next();
    }
  }
  get active() {
    return this._isActive;
  }
  set active(value) {
    if (this._isActive === value)
      return;
    this._isActive = value;
    if (value && !this._isLoading) {
      this._next();
    }
  }
}


//# sourceMappingURL=BackgroundLoader.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/cache/Cache.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/cache/Cache.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Cache: () => (/* binding */ Cache)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/index.mjs */ "./node_modules/@pixi/assets/lib/utils/index.mjs");
/* harmony import */ var _utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/convertToList.mjs */ "./node_modules/@pixi/assets/lib/utils/convertToList.mjs");




class CacheClass {
  constructor() {
    this._parsers = [];
    this._cache = /* @__PURE__ */ new Map();
    this._cacheMap = /* @__PURE__ */ new Map();
  }
  reset() {
    this._cacheMap.clear();
    this._cache.clear();
  }
  has(key) {
    return this._cache.has(key);
  }
  get(key) {
    const result = this._cache.get(key);
    if (!result) {
      console.warn(`[Assets] Asset id ${key} was not found in the Cache`);
    }
    return result;
  }
  set(key, value) {
    const keys = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_2__.convertToList)(key);
    let cacheableAssets;
    for (let i = 0; i < this.parsers.length; i++) {
      const parser = this.parsers[i];
      if (parser.test(value)) {
        cacheableAssets = parser.getCacheableAssets(keys, value);
        break;
      }
    }
    if (!cacheableAssets) {
      cacheableAssets = {};
      keys.forEach((key2) => {
        cacheableAssets[key2] = value;
      });
    }
    const cacheKeys = Object.keys(cacheableAssets);
    const cachedAssets = {
      cacheKeys,
      keys
    };
    keys.forEach((key2) => {
      this._cacheMap.set(key2, cachedAssets);
    });
    cacheKeys.forEach((key2) => {
      if (this._cache.has(key2) && this._cache.get(key2) !== value) {
        console.warn("[Cache] already has key:", key2);
      }
      this._cache.set(key2, cacheableAssets[key2]);
    });
    if (value instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture) {
      const texture = value;
      keys.forEach((key2) => {
        if (texture.baseTexture !== _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.EMPTY.baseTexture) {
          _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture.addToCache(texture.baseTexture, key2);
        }
        _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.addToCache(texture, key2);
      });
    }
  }
  remove(key) {
    this._cacheMap.get(key);
    if (!this._cacheMap.has(key)) {
      console.warn(`[Assets] Asset id ${key} was not found in the Cache`);
      return;
    }
    const cacheMap = this._cacheMap.get(key);
    const cacheKeys = cacheMap.cacheKeys;
    cacheKeys.forEach((key2) => {
      this._cache.delete(key2);
    });
    cacheMap.keys.forEach((key2) => {
      this._cacheMap.delete(key2);
    });
  }
  get parsers() {
    return this._parsers;
  }
}
const Cache = new CacheClass();


//# sourceMappingURL=Cache.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/cache/CacheParser.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/cache/CacheParser.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=CacheParser.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/cache/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/cache/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Cache: () => (/* reexport safe */ _Cache_mjs__WEBPACK_IMPORTED_MODULE_0__.Cache)
/* harmony export */ });
/* harmony import */ var _Cache_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Cache.mjs */ "./node_modules/@pixi/assets/lib/cache/Cache.mjs");
/* harmony import */ var _CacheParser_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CacheParser.mjs */ "./node_modules/@pixi/assets/lib/cache/CacheParser.mjs");
/* harmony import */ var _parsers_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parsers/index.mjs */ "./node_modules/@pixi/assets/lib/cache/parsers/index.mjs");



//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/cache/parsers/cacheTextureArray.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/cache/parsers/cacheTextureArray.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cacheTextureArray: () => (/* binding */ cacheTextureArray)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const cacheTextureArray = {
  extension: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.CacheParser,
  test: (asset) => Array.isArray(asset) && asset.every((t) => t instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture),
  getCacheableAssets: (keys, asset) => {
    const out = {};
    keys.forEach((key) => {
      asset.forEach((item, i) => {
        out[key + (i === 0 ? "" : i + 1)] = item;
      });
    });
    return out;
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(cacheTextureArray);


//# sourceMappingURL=cacheTextureArray.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/cache/parsers/index.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/cache/parsers/index.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cacheTextureArray: () => (/* reexport safe */ _cacheTextureArray_mjs__WEBPACK_IMPORTED_MODULE_0__.cacheTextureArray)
/* harmony export */ });
/* harmony import */ var _cacheTextureArray_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cacheTextureArray.mjs */ "./node_modules/@pixi/assets/lib/cache/parsers/cacheTextureArray.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/detections/index.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/detections/index.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _parsers_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parsers/index.mjs */ "./node_modules/@pixi/assets/lib/detections/parsers/index.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/detections/parsers/detectAvif.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/detections/parsers/detectAvif.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   detectAvif: () => (/* binding */ detectAvif)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const detectAvif = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.DetectionParser,
    priority: 1
  },
  test: async () => {
    if (!globalThis.createImageBitmap)
      return false;
    const avifData = "data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=";
    const blob = await _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(avifData).then((r) => r.blob());
    return createImageBitmap(blob).then(() => true, () => false);
  },
  add: async (formats) => [...formats, "avif"],
  remove: async (formats) => formats.filter((f) => f !== "avif")
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(detectAvif);


//# sourceMappingURL=detectAvif.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/detections/parsers/detectDefaults.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/detections/parsers/detectDefaults.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   detectDefaults: () => (/* binding */ detectDefaults)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const imageFormats = ["png", "jpg", "jpeg"];
const detectDefaults = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.DetectionParser,
    priority: -1
  },
  test: () => Promise.resolve(true),
  add: async (formats) => [...formats, ...imageFormats],
  remove: async (formats) => formats.filter((f) => !imageFormats.includes(f))
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(detectDefaults);


//# sourceMappingURL=detectDefaults.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/detections/parsers/detectWebp.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/detections/parsers/detectWebp.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   detectWebp: () => (/* binding */ detectWebp)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const detectWebp = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.DetectionParser,
    priority: 0
  },
  test: async () => {
    if (!globalThis.createImageBitmap)
      return false;
    const webpData = "data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=";
    const blob = await _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(webpData).then((r) => r.blob());
    return createImageBitmap(blob).then(() => true, () => false);
  },
  add: async (formats) => [...formats, "webp"],
  remove: async (formats) => formats.filter((f) => f !== "webp")
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(detectWebp);


//# sourceMappingURL=detectWebp.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/detections/parsers/index.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/detections/parsers/index.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   detectAvif: () => (/* reexport safe */ _detectAvif_mjs__WEBPACK_IMPORTED_MODULE_0__.detectAvif),
/* harmony export */   detectDefaults: () => (/* reexport safe */ _detectDefaults_mjs__WEBPACK_IMPORTED_MODULE_2__.detectDefaults),
/* harmony export */   detectWebp: () => (/* reexport safe */ _detectWebp_mjs__WEBPACK_IMPORTED_MODULE_1__.detectWebp)
/* harmony export */ });
/* harmony import */ var _detectAvif_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./detectAvif.mjs */ "./node_modules/@pixi/assets/lib/detections/parsers/detectAvif.mjs");
/* harmony import */ var _detectWebp_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./detectWebp.mjs */ "./node_modules/@pixi/assets/lib/detections/parsers/detectWebp.mjs");
/* harmony import */ var _detectDefaults_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./detectDefaults.mjs */ "./node_modules/@pixi/assets/lib/detections/parsers/detectDefaults.mjs");



//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/index.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/index.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Assets: () => (/* reexport safe */ _Assets_mjs__WEBPACK_IMPORTED_MODULE_1__.Assets),
/* harmony export */   AssetsClass: () => (/* reexport safe */ _Assets_mjs__WEBPACK_IMPORTED_MODULE_1__.AssetsClass),
/* harmony export */   Cache: () => (/* reexport safe */ _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_7__.Cache),
/* harmony export */   LoaderParserPriority: () => (/* reexport safe */ _loader_parsers_LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_12__.LoaderParserPriority),
/* harmony export */   cacheTextureArray: () => (/* reexport safe */ _cache_parsers_cacheTextureArray_mjs__WEBPACK_IMPORTED_MODULE_8__.cacheTextureArray),
/* harmony export */   checkDataUrl: () => (/* reexport safe */ _utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_20__.checkDataUrl),
/* harmony export */   checkExtension: () => (/* reexport safe */ _utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_21__.checkExtension),
/* harmony export */   convertToList: () => (/* reexport safe */ _utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_22__.convertToList),
/* harmony export */   copySearchParams: () => (/* reexport safe */ _utils_copySearchParams_mjs__WEBPACK_IMPORTED_MODULE_23__.copySearchParams),
/* harmony export */   createStringVariations: () => (/* reexport safe */ _utils_createStringVariations_mjs__WEBPACK_IMPORTED_MODULE_24__.createStringVariations),
/* harmony export */   createTexture: () => (/* reexport safe */ _loader_parsers_textures_utils_createTexture_mjs__WEBPACK_IMPORTED_MODULE_18__.createTexture),
/* harmony export */   detectAvif: () => (/* reexport safe */ _detections_parsers_detectAvif_mjs__WEBPACK_IMPORTED_MODULE_9__.detectAvif),
/* harmony export */   detectDefaults: () => (/* reexport safe */ _detections_parsers_detectDefaults_mjs__WEBPACK_IMPORTED_MODULE_11__.detectDefaults),
/* harmony export */   detectWebp: () => (/* reexport safe */ _detections_parsers_detectWebp_mjs__WEBPACK_IMPORTED_MODULE_10__.detectWebp),
/* harmony export */   getFontFamilyName: () => (/* reexport safe */ _loader_parsers_loadWebFont_mjs__WEBPACK_IMPORTED_MODULE_15__.getFontFamilyName),
/* harmony export */   isSingleItem: () => (/* reexport safe */ _utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_25__.isSingleItem),
/* harmony export */   loadImageBitmap: () => (/* reexport safe */ _loader_parsers_textures_loadTextures_mjs__WEBPACK_IMPORTED_MODULE_17__.loadImageBitmap),
/* harmony export */   loadJson: () => (/* reexport safe */ _loader_parsers_loadJson_mjs__WEBPACK_IMPORTED_MODULE_13__.loadJson),
/* harmony export */   loadSVG: () => (/* reexport safe */ _loader_parsers_textures_loadSVG_mjs__WEBPACK_IMPORTED_MODULE_16__.loadSVG),
/* harmony export */   loadTextures: () => (/* reexport safe */ _loader_parsers_textures_loadTextures_mjs__WEBPACK_IMPORTED_MODULE_17__.loadTextures),
/* harmony export */   loadTxt: () => (/* reexport safe */ _loader_parsers_loadTxt_mjs__WEBPACK_IMPORTED_MODULE_14__.loadTxt),
/* harmony export */   loadWebFont: () => (/* reexport safe */ _loader_parsers_loadWebFont_mjs__WEBPACK_IMPORTED_MODULE_15__.loadWebFont),
/* harmony export */   resolveTextureUrl: () => (/* reexport safe */ _resolver_parsers_resolveTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_19__.resolveTextureUrl)
/* harmony export */ });
/* harmony import */ var _AssetExtension_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AssetExtension.mjs */ "./node_modules/@pixi/assets/lib/AssetExtension.mjs");
/* harmony import */ var _Assets_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Assets.mjs */ "./node_modules/@pixi/assets/lib/Assets.mjs");
/* harmony import */ var _cache_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cache/index.mjs */ "./node_modules/@pixi/assets/lib/cache/index.mjs");
/* harmony import */ var _detections_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./detections/index.mjs */ "./node_modules/@pixi/assets/lib/detections/index.mjs");
/* harmony import */ var _loader_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./loader/index.mjs */ "./node_modules/@pixi/assets/lib/loader/index.mjs");
/* harmony import */ var _resolver_index_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./resolver/index.mjs */ "./node_modules/@pixi/assets/lib/resolver/index.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/assets/lib/utils/index.mjs");
/* harmony import */ var _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cache/Cache.mjs */ "./node_modules/@pixi/assets/lib/cache/Cache.mjs");
/* harmony import */ var _cache_parsers_cacheTextureArray_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./cache/parsers/cacheTextureArray.mjs */ "./node_modules/@pixi/assets/lib/cache/parsers/cacheTextureArray.mjs");
/* harmony import */ var _detections_parsers_detectAvif_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./detections/parsers/detectAvif.mjs */ "./node_modules/@pixi/assets/lib/detections/parsers/detectAvif.mjs");
/* harmony import */ var _detections_parsers_detectWebp_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./detections/parsers/detectWebp.mjs */ "./node_modules/@pixi/assets/lib/detections/parsers/detectWebp.mjs");
/* harmony import */ var _detections_parsers_detectDefaults_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./detections/parsers/detectDefaults.mjs */ "./node_modules/@pixi/assets/lib/detections/parsers/detectDefaults.mjs");
/* harmony import */ var _loader_parsers_LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./loader/parsers/LoaderParser.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs");
/* harmony import */ var _loader_parsers_loadJson_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./loader/parsers/loadJson.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/loadJson.mjs");
/* harmony import */ var _loader_parsers_loadTxt_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./loader/parsers/loadTxt.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/loadTxt.mjs");
/* harmony import */ var _loader_parsers_loadWebFont_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./loader/parsers/loadWebFont.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/loadWebFont.mjs");
/* harmony import */ var _loader_parsers_textures_loadSVG_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./loader/parsers/textures/loadSVG.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadSVG.mjs");
/* harmony import */ var _loader_parsers_textures_loadTextures_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./loader/parsers/textures/loadTextures.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadTextures.mjs");
/* harmony import */ var _loader_parsers_textures_utils_createTexture_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./loader/parsers/textures/utils/createTexture.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/createTexture.mjs");
/* harmony import */ var _resolver_parsers_resolveTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./resolver/parsers/resolveTextureUrl.mjs */ "./node_modules/@pixi/assets/lib/resolver/parsers/resolveTextureUrl.mjs");
/* harmony import */ var _utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./utils/checkDataUrl.mjs */ "./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs");
/* harmony import */ var _utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./utils/checkExtension.mjs */ "./node_modules/@pixi/assets/lib/utils/checkExtension.mjs");
/* harmony import */ var _utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./utils/convertToList.mjs */ "./node_modules/@pixi/assets/lib/utils/convertToList.mjs");
/* harmony import */ var _utils_copySearchParams_mjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./utils/copySearchParams.mjs */ "./node_modules/@pixi/assets/lib/utils/copySearchParams.mjs");
/* harmony import */ var _utils_createStringVariations_mjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./utils/createStringVariations.mjs */ "./node_modules/@pixi/assets/lib/utils/createStringVariations.mjs");
/* harmony import */ var _utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./utils/isSingleItem.mjs */ "./node_modules/@pixi/assets/lib/utils/isSingleItem.mjs");


























//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/Loader.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/Loader.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Loader: () => (/* binding */ Loader)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/index.mjs */ "./node_modules/@pixi/assets/lib/utils/index.mjs");
/* harmony import */ var _utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/isSingleItem.mjs */ "./node_modules/@pixi/assets/lib/utils/isSingleItem.mjs");
/* harmony import */ var _utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/convertToList.mjs */ "./node_modules/@pixi/assets/lib/utils/convertToList.mjs");





class Loader {
  constructor() {
    this._parsers = [];
    this._parsersValidated = false;
    this.parsers = new Proxy(this._parsers, {
      set: (target, key, value) => {
        this._parsersValidated = false;
        target[key] = value;
        return true;
      }
    });
    this.promiseCache = {};
  }
  reset() {
    this._parsersValidated = false;
    this.promiseCache = {};
  }
  _getLoadPromiseAndParser(url, data) {
    const result = {
      promise: null,
      parser: null
    };
    result.promise = (async () => {
      let asset = null;
      let parser = null;
      if (data.loadParser) {
        parser = this._parserHash[data.loadParser];
        if (!parser) {
          console.warn(`[Assets] specified load parser "${data.loadParser}" not found while loading ${url}`);
        }
      }
      if (!parser) {
        for (let i = 0; i < this.parsers.length; i++) {
          const parserX = this.parsers[i];
          if (parserX.load && parserX.test?.(url, data, this)) {
            parser = parserX;
            break;
          }
        }
        if (!parser) {
          console.warn(`[Assets] ${url} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`);
          return null;
        }
      }
      asset = await parser.load(url, data, this);
      result.parser = parser;
      for (let i = 0; i < this.parsers.length; i++) {
        const parser2 = this.parsers[i];
        if (parser2.parse) {
          if (parser2.parse && await parser2.testParse?.(asset, data, this)) {
            asset = await parser2.parse(asset, data, this) || asset;
            result.parser = parser2;
          }
        }
      }
      return asset;
    })();
    return result;
  }
  async load(assetsToLoadIn, onProgress) {
    if (!this._parsersValidated) {
      this._validateParsers();
    }
    let count = 0;
    const assets = {};
    const singleAsset = (0,_utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_2__.isSingleItem)(assetsToLoadIn);
    const assetsToLoad = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_3__.convertToList)(assetsToLoadIn, (item) => ({
      src: item
    }));
    const total = assetsToLoad.length;
    const promises = assetsToLoad.map(async (asset) => {
      const url = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.toAbsolute(asset.src);
      if (!assets[asset.src]) {
        try {
          if (!this.promiseCache[url]) {
            this.promiseCache[url] = this._getLoadPromiseAndParser(url, asset);
          }
          assets[asset.src] = await this.promiseCache[url].promise;
          if (onProgress)
            onProgress(++count / total);
        } catch (e) {
          delete this.promiseCache[url];
          delete assets[asset.src];
          throw new Error(`[Loader.load] Failed to load ${url}.
${e}`);
        }
      }
    });
    await Promise.all(promises);
    return singleAsset ? assets[assetsToLoad[0].src] : assets;
  }
  async unload(assetsToUnloadIn) {
    const assetsToUnload = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_3__.convertToList)(assetsToUnloadIn, (item) => ({
      src: item
    }));
    const promises = assetsToUnload.map(async (asset) => {
      const url = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.toAbsolute(asset.src);
      const loadPromise = this.promiseCache[url];
      if (loadPromise) {
        const loadedAsset = await loadPromise.promise;
        loadPromise.parser?.unload?.(loadedAsset, asset, this);
        delete this.promiseCache[url];
      }
    });
    await Promise.all(promises);
  }
  _validateParsers() {
    this._parsersValidated = true;
    this._parserHash = this._parsers.filter((parser) => parser.name).reduce((hash, parser) => {
      if (hash[parser.name]) {
        console.warn(`[Assets] loadParser name conflict "${parser.name}"`);
      }
      return { ...hash, [parser.name]: parser };
    }, {});
  }
}


//# sourceMappingURL=Loader.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _parsers_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parsers/index.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/index.mjs");
/* harmony import */ var _types_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types.mjs */ "./node_modules/@pixi/assets/lib/loader/types.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LoaderParserPriority: () => (/* binding */ LoaderParserPriority)
/* harmony export */ });
var LoaderParserPriority = /* @__PURE__ */ ((LoaderParserPriority2) => {
  LoaderParserPriority2[LoaderParserPriority2["Low"] = 0] = "Low";
  LoaderParserPriority2[LoaderParserPriority2["Normal"] = 1] = "Normal";
  LoaderParserPriority2[LoaderParserPriority2["High"] = 2] = "High";
  return LoaderParserPriority2;
})(LoaderParserPriority || {});


//# sourceMappingURL=LoaderParser.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/WorkerManager.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/WorkerManager.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WorkerManager: () => (/* binding */ WorkerManager)
/* harmony export */ });
let UUID = 0;
let MAX_WORKERS;
const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
const checkImageBitmapCode = {
  id: "checkImageBitmap",
  code: `
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${WHITE_PNG}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `
};
const workerCode = {
  id: "loadImageBitmap",
  code: `
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`
};
let workerURL;
class WorkerManagerClass {
  constructor() {
    this._initialized = false;
    this._createdWorkers = 0;
    this.workerPool = [];
    this.queue = [];
    this.resolveHash = {};
  }
  isImageBitmapSupported() {
    if (this._isImageBitmapSupported !== void 0)
      return this._isImageBitmapSupported;
    this._isImageBitmapSupported = new Promise((resolve) => {
      const workerURL2 = URL.createObjectURL(new Blob([checkImageBitmapCode.code], { type: "application/javascript" }));
      const worker = new Worker(workerURL2);
      worker.addEventListener("message", (event) => {
        worker.terminate();
        URL.revokeObjectURL(workerURL2);
        resolve(event.data);
      });
    });
    return this._isImageBitmapSupported;
  }
  loadImageBitmap(src) {
    return this._run("loadImageBitmap", [src]);
  }
  async _initWorkers() {
    if (this._initialized)
      return;
    this._initialized = true;
  }
  getWorker() {
    if (MAX_WORKERS === void 0) {
      MAX_WORKERS = navigator.hardwareConcurrency || 4;
    }
    let worker = this.workerPool.pop();
    if (!worker && this._createdWorkers < MAX_WORKERS) {
      if (!workerURL) {
        workerURL = URL.createObjectURL(new Blob([workerCode.code], { type: "application/javascript" }));
      }
      this._createdWorkers++;
      worker = new Worker(workerURL);
      worker.addEventListener("message", (event) => {
        this.complete(event.data);
        this.returnWorker(event.target);
        this.next();
      });
    }
    return worker;
  }
  returnWorker(worker) {
    this.workerPool.push(worker);
  }
  complete(data) {
    if (data.error !== void 0) {
      this.resolveHash[data.uuid].reject(data.error);
    } else {
      this.resolveHash[data.uuid].resolve(data.data);
    }
    this.resolveHash[data.uuid] = null;
  }
  async _run(id, args) {
    await this._initWorkers();
    const promise = new Promise((resolve, reject) => {
      this.queue.push({ id, arguments: args, resolve, reject });
    });
    this.next();
    return promise;
  }
  next() {
    if (!this.queue.length)
      return;
    const worker = this.getWorker();
    if (!worker) {
      return;
    }
    const toDo = this.queue.pop();
    const id = toDo.id;
    this.resolveHash[UUID] = { resolve: toDo.resolve, reject: toDo.reject };
    worker.postMessage({
      data: toDo.arguments,
      uuid: UUID++,
      id
    });
  }
}
const WorkerManager = new WorkerManagerClass();


//# sourceMappingURL=WorkerManager.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/index.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/index.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LoaderParserPriority: () => (/* reexport safe */ _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_0__.LoaderParserPriority),
/* harmony export */   getFontFamilyName: () => (/* reexport safe */ _loadWebFont_mjs__WEBPACK_IMPORTED_MODULE_3__.getFontFamilyName),
/* harmony export */   loadJson: () => (/* reexport safe */ _loadJson_mjs__WEBPACK_IMPORTED_MODULE_1__.loadJson),
/* harmony export */   loadTxt: () => (/* reexport safe */ _loadTxt_mjs__WEBPACK_IMPORTED_MODULE_2__.loadTxt),
/* harmony export */   loadWebFont: () => (/* reexport safe */ _loadWebFont_mjs__WEBPACK_IMPORTED_MODULE_3__.loadWebFont)
/* harmony export */ });
/* harmony import */ var _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LoaderParser.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs");
/* harmony import */ var _loadJson_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loadJson.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/loadJson.mjs");
/* harmony import */ var _loadTxt_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loadTxt.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/loadTxt.mjs");
/* harmony import */ var _loadWebFont_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./loadWebFont.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/loadWebFont.mjs");
/* harmony import */ var _textures_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./textures/index.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/index.mjs");





//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/loadJson.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/loadJson.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadJson: () => (/* binding */ loadJson)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/checkDataUrl.mjs */ "./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs");
/* harmony import */ var _utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/checkExtension.mjs */ "./node_modules/@pixi/assets/lib/utils/checkExtension.mjs");
/* harmony import */ var _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LoaderParser.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs");





const validJSONExtension = ".json";
const validJSONMIME = "application/json";
const loadJson = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
    priority: _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_3__.LoaderParserPriority.Low
  },
  name: "loadJson",
  test(url) {
    return (0,_utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_1__.checkDataUrl)(url, validJSONMIME) || (0,_utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_2__.checkExtension)(url, validJSONExtension);
  },
  async load(url) {
    const response = await _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(url);
    const json = await response.json();
    return json;
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(loadJson);


//# sourceMappingURL=loadJson.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/loadTxt.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/loadTxt.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadTxt: () => (/* binding */ loadTxt)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/checkDataUrl.mjs */ "./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs");
/* harmony import */ var _utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/checkExtension.mjs */ "./node_modules/@pixi/assets/lib/utils/checkExtension.mjs");
/* harmony import */ var _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LoaderParser.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs");





const validTXTExtension = ".txt";
const validTXTMIME = "text/plain";
const loadTxt = {
  name: "loadTxt",
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
    priority: _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_3__.LoaderParserPriority.Low
  },
  test(url) {
    return (0,_utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_1__.checkDataUrl)(url, validTXTMIME) || (0,_utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_2__.checkExtension)(url, validTXTExtension);
  },
  async load(url) {
    const response = await _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(url);
    const txt = await response.text();
    return txt;
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(loadTxt);


//# sourceMappingURL=loadTxt.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/loadWebFont.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/loadWebFont.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFontFamilyName: () => (/* binding */ getFontFamilyName),
/* harmony export */   loadWebFont: () => (/* binding */ loadWebFont)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/checkDataUrl.mjs */ "./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs");
/* harmony import */ var _utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/checkExtension.mjs */ "./node_modules/@pixi/assets/lib/utils/checkExtension.mjs");
/* harmony import */ var _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LoaderParser.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs");





const validWeights = [
  "normal",
  "bold",
  "100",
  "200",
  "300",
  "400",
  "500",
  "600",
  "700",
  "800",
  "900"
];
const validFontExtensions = [".ttf", ".otf", ".woff", ".woff2"];
const validFontMIMEs = [
  "font/ttf",
  "font/otf",
  "font/woff",
  "font/woff2"
];
const CSS_IDENT_TOKEN_REGEX = /^(--|-?[A-Z_])[0-9A-Z_-]*$/i;
function getFontFamilyName(url) {
  const ext = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.extname(url);
  const name = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.basename(url, ext);
  const nameWithSpaces = name.replace(/(-|_)/g, " ");
  const nameTokens = nameWithSpaces.toLowerCase().split(" ").map((word) => word.charAt(0).toUpperCase() + word.slice(1));
  let valid = nameTokens.length > 0;
  for (const token of nameTokens) {
    if (!token.match(CSS_IDENT_TOKEN_REGEX)) {
      valid = false;
      break;
    }
  }
  let fontFamilyName = nameTokens.join(" ");
  if (!valid) {
    fontFamilyName = `"${fontFamilyName.replace(/[\\"]/g, "\\$&")}"`;
  }
  return fontFamilyName;
}
const loadWebFont = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
    priority: _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_3__.LoaderParserPriority.Low
  },
  name: "loadWebFont",
  test(url) {
    return (0,_utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_1__.checkDataUrl)(url, validFontMIMEs) || (0,_utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_2__.checkExtension)(url, validFontExtensions);
  },
  async load(url, options) {
    const fonts = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.getFontFaceSet();
    if (fonts) {
      const fontFaces = [];
      const name = options.data?.family ?? getFontFamilyName(url);
      const weights = options.data?.weights?.filter((weight) => validWeights.includes(weight)) ?? ["normal"];
      const data = options.data ?? {};
      for (let i = 0; i < weights.length; i++) {
        const weight = weights[i];
        const font = new FontFace(name, `url(${encodeURI(url)})`, {
          ...data,
          weight
        });
        await font.load();
        fonts.add(font);
        fontFaces.push(font);
      }
      return fontFaces.length === 1 ? fontFaces[0] : fontFaces;
    }
    console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font");
    return null;
  },
  unload(font) {
    (Array.isArray(font) ? font : [font]).forEach((t) => _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.getFontFaceSet().delete(t));
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(loadWebFont);


//# sourceMappingURL=loadWebFont.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/textures/index.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/textures/index.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadImageBitmap: () => (/* reexport safe */ _loadTextures_mjs__WEBPACK_IMPORTED_MODULE_1__.loadImageBitmap),
/* harmony export */   loadSVG: () => (/* reexport safe */ _loadSVG_mjs__WEBPACK_IMPORTED_MODULE_0__.loadSVG),
/* harmony export */   loadTextures: () => (/* reexport safe */ _loadTextures_mjs__WEBPACK_IMPORTED_MODULE_1__.loadTextures)
/* harmony export */ });
/* harmony import */ var _loadSVG_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loadSVG.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadSVG.mjs");
/* harmony import */ var _loadTextures_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loadTextures.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadTextures.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/index.mjs");



//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadSVG.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/textures/loadSVG.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadSVG: () => (/* binding */ loadSVG)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/checkDataUrl.mjs */ "./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs");
/* harmony import */ var _utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/checkExtension.mjs */ "./node_modules/@pixi/assets/lib/utils/checkExtension.mjs");
/* harmony import */ var _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../LoaderParser.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs");
/* harmony import */ var _loadTextures_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./loadTextures.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadTextures.mjs");
/* harmony import */ var _utils_createTexture_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/createTexture.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/createTexture.mjs");







const validSVGExtension = ".svg";
const validSVGMIME = "image/svg+xml";
const loadSVG = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
    priority: _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_3__.LoaderParserPriority.High
  },
  name: "loadSVG",
  test(url) {
    return (0,_utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_1__.checkDataUrl)(url, validSVGMIME) || (0,_utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_2__.checkExtension)(url, validSVGExtension);
  },
  async testParse(data) {
    return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SVGResource.test(data);
  },
  async parse(asset, data, loader) {
    const src = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SVGResource(asset, data?.data?.resourceOptions);
    await src.load();
    const base = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture(src, {
      resolution: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.getResolutionOfUrl(asset),
      ...data?.data
    });
    base.resource.src = asset;
    const texture = (0,_utils_createTexture_mjs__WEBPACK_IMPORTED_MODULE_5__.createTexture)(base, loader, asset);
    return texture;
  },
  async load(url, _options) {
    const response = await _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(url);
    return response.text();
  },
  unload: _loadTextures_mjs__WEBPACK_IMPORTED_MODULE_4__.loadTextures.unload
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(loadSVG);


//# sourceMappingURL=loadSVG.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadTextures.mjs":
/*!********************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/textures/loadTextures.mjs ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadImageBitmap: () => (/* binding */ loadImageBitmap),
/* harmony export */   loadTextures: () => (/* binding */ loadTextures)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/checkDataUrl.mjs */ "./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs");
/* harmony import */ var _utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/checkExtension.mjs */ "./node_modules/@pixi/assets/lib/utils/checkExtension.mjs");
/* harmony import */ var _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../LoaderParser.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs");
/* harmony import */ var _WorkerManager_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../WorkerManager.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/WorkerManager.mjs");
/* harmony import */ var _utils_createTexture_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/createTexture.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/createTexture.mjs");







const validImageExtensions = [".jpeg", ".jpg", ".png", ".webp", ".avif"];
const validImageMIMEs = [
  "image/jpeg",
  "image/png",
  "image/webp",
  "image/avif"
];
async function loadImageBitmap(url) {
  const response = await _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(url);
  if (!response.ok) {
    throw new Error(`[loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);
  }
  const imageBlob = await response.blob();
  const imageBitmap = await createImageBitmap(imageBlob);
  return imageBitmap;
}
const loadTextures = {
  name: "loadTextures",
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
    priority: _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_3__.LoaderParserPriority.High
  },
  config: {
    preferWorkers: true,
    preferCreateImageBitmap: true,
    crossOrigin: "anonymous"
  },
  test(url) {
    return (0,_utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_1__.checkDataUrl)(url, validImageMIMEs) || (0,_utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_2__.checkExtension)(url, validImageExtensions);
  },
  async load(url, asset, loader) {
    let src = null;
    if (globalThis.createImageBitmap && this.config.preferCreateImageBitmap) {
      if (this.config.preferWorkers && await _WorkerManager_mjs__WEBPACK_IMPORTED_MODULE_4__.WorkerManager.isImageBitmapSupported()) {
        src = await _WorkerManager_mjs__WEBPACK_IMPORTED_MODULE_4__.WorkerManager.loadImageBitmap(url);
      } else {
        src = await loadImageBitmap(url);
      }
    } else {
      src = await new Promise((resolve) => {
        src = new Image();
        src.crossOrigin = this.config.crossOrigin;
        src.src = url;
        if (src.complete) {
          resolve(src);
        } else {
          src.onload = () => {
            resolve(src);
          };
        }
      });
    }
    const base = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture(src, {
      resolution: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.getResolutionOfUrl(url),
      ...asset.data
    });
    base.resource.src = url;
    return (0,_utils_createTexture_mjs__WEBPACK_IMPORTED_MODULE_5__.createTexture)(base, loader, url);
  },
  unload(texture) {
    texture.destroy(true);
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(loadTextures);


//# sourceMappingURL=loadTextures.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/createTexture.mjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/createTexture.mjs ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createTexture: () => (/* binding */ createTexture)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


function createTexture(base, loader, url) {
  const texture = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture(base);
  texture.baseTexture.on("dispose", () => {
    delete loader.promiseCache[url];
  });
  return texture;
}


//# sourceMappingURL=createTexture.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/index.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/index.mjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createTexture: () => (/* reexport safe */ _createTexture_mjs__WEBPACK_IMPORTED_MODULE_0__.createTexture)
/* harmony export */ });
/* harmony import */ var _createTexture_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createTexture.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/createTexture.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/types.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/types.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=types.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/resolver/Resolver.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/resolver/Resolver.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Resolver: () => (/* binding */ Resolver)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/convertToList.mjs */ "./node_modules/@pixi/assets/lib/utils/convertToList.mjs");
/* harmony import */ var _utils_createStringVariations_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/createStringVariations.mjs */ "./node_modules/@pixi/assets/lib/utils/createStringVariations.mjs");
/* harmony import */ var _utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/isSingleItem.mjs */ "./node_modules/@pixi/assets/lib/utils/isSingleItem.mjs");





class Resolver {
  constructor() {
    this._defaultBundleIdentifierOptions = {
      connector: "-",
      createBundleAssetId: (bundleId, assetId) => `${bundleId}${this._bundleIdConnector}${assetId}`,
      extractAssetIdFromBundle: (bundleId, assetBundleId) => assetBundleId.replace(`${bundleId}${this._bundleIdConnector}`, "")
    };
    this._bundleIdConnector = this._defaultBundleIdentifierOptions.connector;
    this._createBundleAssetId = this._defaultBundleIdentifierOptions.createBundleAssetId;
    this._extractAssetIdFromBundle = this._defaultBundleIdentifierOptions.extractAssetIdFromBundle;
    this._assetMap = {};
    this._preferredOrder = [];
    this._parsers = [];
    this._resolverHash = {};
    this._bundles = {};
  }
  setBundleIdentifier(bundleIdentifier) {
    this._bundleIdConnector = bundleIdentifier.connector ?? this._bundleIdConnector;
    this._createBundleAssetId = bundleIdentifier.createBundleAssetId ?? this._createBundleAssetId;
    this._extractAssetIdFromBundle = bundleIdentifier.extractAssetIdFromBundle ?? this._extractAssetIdFromBundle;
    if (this._extractAssetIdFromBundle("foo", this._createBundleAssetId("foo", "bar")) !== "bar") {
      throw new Error("[Resolver] GenerateBundleAssetId are not working correctly");
    }
  }
  prefer(...preferOrders) {
    preferOrders.forEach((prefer) => {
      this._preferredOrder.push(prefer);
      if (!prefer.priority) {
        prefer.priority = Object.keys(prefer.params);
      }
    });
    this._resolverHash = {};
  }
  set basePath(basePath) {
    this._basePath = basePath;
  }
  get basePath() {
    return this._basePath;
  }
  set rootPath(rootPath) {
    this._rootPath = rootPath;
  }
  get rootPath() {
    return this._rootPath;
  }
  get parsers() {
    return this._parsers;
  }
  reset() {
    this.setBundleIdentifier(this._defaultBundleIdentifierOptions);
    this._assetMap = {};
    this._preferredOrder = [];
    this._resolverHash = {};
    this._rootPath = null;
    this._basePath = null;
    this._manifest = null;
    this._bundles = {};
    this._defaultSearchParams = null;
  }
  setDefaultSearchParams(searchParams) {
    if (typeof searchParams === "string") {
      this._defaultSearchParams = searchParams;
    } else {
      const queryValues = searchParams;
      this._defaultSearchParams = Object.keys(queryValues).map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(queryValues[key])}`).join("&");
    }
  }
  addManifest(manifest) {
    if (this._manifest) {
      console.warn("[Resolver] Manifest already exists, this will be overwritten");
    }
    this._manifest = manifest;
    manifest.bundles.forEach((bundle) => {
      this.addBundle(bundle.name, bundle.assets);
    });
  }
  addBundle(bundleId, assets) {
    const assetNames = [];
    if (Array.isArray(assets)) {
      assets.forEach((asset) => {
        if (typeof asset.name === "string") {
          const bundleAssetId = this._createBundleAssetId(bundleId, asset.name);
          assetNames.push(bundleAssetId);
          this.add([asset.name, bundleAssetId], asset.srcs, asset.data);
        } else {
          const bundleIds = asset.name.map((name) => this._createBundleAssetId(bundleId, name));
          bundleIds.forEach((bundleId2) => {
            assetNames.push(bundleId2);
          });
          this.add([...asset.name, ...bundleIds], asset.srcs);
        }
      });
    } else {
      Object.keys(assets).forEach((key) => {
        assetNames.push(this._createBundleAssetId(bundleId, key));
        this.add([key, this._createBundleAssetId(bundleId, key)], assets[key]);
      });
    }
    this._bundles[bundleId] = assetNames;
  }
  add(keysIn, assetsIn, data) {
    const keys = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_1__.convertToList)(keysIn);
    keys.forEach((key) => {
      if (this.hasKey(key)) {
        console.warn(`[Resolver] already has key: ${key} overwriting`);
      }
    });
    if (!Array.isArray(assetsIn)) {
      if (typeof assetsIn === "string") {
        assetsIn = (0,_utils_createStringVariations_mjs__WEBPACK_IMPORTED_MODULE_2__.createStringVariations)(assetsIn);
      } else {
        assetsIn = [assetsIn];
      }
    }
    const assetMap = assetsIn.map((asset) => {
      let formattedAsset = asset;
      if (typeof asset === "string") {
        let parsed = false;
        for (let i = 0; i < this._parsers.length; i++) {
          const parser = this._parsers[i];
          if (parser.test(asset)) {
            formattedAsset = parser.parse(asset);
            parsed = true;
            break;
          }
        }
        if (!parsed) {
          formattedAsset = {
            src: asset
          };
        }
      }
      if (!formattedAsset.format) {
        formattedAsset.format = formattedAsset.src.split(".").pop();
      }
      if (!formattedAsset.alias) {
        formattedAsset.alias = keys;
      }
      if (this._basePath || this._rootPath) {
        formattedAsset.src = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.toAbsolute(formattedAsset.src, this._basePath, this._rootPath);
      }
      formattedAsset.src = this._appendDefaultSearchParams(formattedAsset.src);
      formattedAsset.data = formattedAsset.data ?? data;
      return formattedAsset;
    });
    keys.forEach((key) => {
      this._assetMap[key] = assetMap;
    });
  }
  resolveBundle(bundleIds) {
    const singleAsset = (0,_utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_3__.isSingleItem)(bundleIds);
    bundleIds = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_1__.convertToList)(bundleIds);
    const out = {};
    bundleIds.forEach((bundleId) => {
      const assetNames = this._bundles[bundleId];
      if (assetNames) {
        const results = this.resolve(assetNames);
        const assets = {};
        for (const key in results) {
          const asset = results[key];
          assets[this._extractAssetIdFromBundle(bundleId, key)] = asset;
        }
        out[bundleId] = assets;
      }
    });
    return singleAsset ? out[bundleIds[0]] : out;
  }
  resolveUrl(key) {
    const result = this.resolve(key);
    if (typeof key !== "string") {
      const out = {};
      for (const i in result) {
        out[i] = result[i].src;
      }
      return out;
    }
    return result.src;
  }
  resolve(keys) {
    const singleAsset = (0,_utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_3__.isSingleItem)(keys);
    keys = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_1__.convertToList)(keys);
    const result = {};
    keys.forEach((key) => {
      if (!this._resolverHash[key]) {
        if (this._assetMap[key]) {
          let assets = this._assetMap[key];
          const preferredOrder = this._getPreferredOrder(assets);
          const bestAsset = assets[0];
          preferredOrder?.priority.forEach((priorityKey) => {
            preferredOrder.params[priorityKey].forEach((value) => {
              const filteredAssets = assets.filter((asset) => {
                if (asset[priorityKey]) {
                  return asset[priorityKey] === value;
                }
                return false;
              });
              if (filteredAssets.length) {
                assets = filteredAssets;
              }
            });
          });
          this._resolverHash[key] = assets[0] ?? bestAsset;
        } else {
          let src = key;
          if (this._basePath || this._rootPath) {
            src = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.toAbsolute(src, this._basePath, this._rootPath);
          }
          src = this._appendDefaultSearchParams(src);
          this._resolverHash[key] = {
            src
          };
        }
      }
      result[key] = this._resolverHash[key];
    });
    return singleAsset ? result[keys[0]] : result;
  }
  hasKey(key) {
    return !!this._assetMap[key];
  }
  hasBundle(key) {
    return !!this._bundles[key];
  }
  _getPreferredOrder(assets) {
    for (let i = 0; i < assets.length; i++) {
      const asset = assets[0];
      const preferred = this._preferredOrder.find((preference) => preference.params.format.includes(asset.format));
      if (preferred) {
        return preferred;
      }
    }
    return this._preferredOrder[0];
  }
  _appendDefaultSearchParams(url) {
    if (!this._defaultSearchParams)
      return url;
    const paramConnector = /\?/.test(url) ? "&" : "?";
    return `${url}${paramConnector}${this._defaultSearchParams}`;
  }
}


//# sourceMappingURL=Resolver.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/resolver/index.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/resolver/index.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _parsers_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parsers/index.mjs */ "./node_modules/@pixi/assets/lib/resolver/parsers/index.mjs");
/* harmony import */ var _types_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types.mjs */ "./node_modules/@pixi/assets/lib/resolver/types.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/resolver/parsers/index.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/resolver/parsers/index.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   resolveTextureUrl: () => (/* reexport safe */ _resolveTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_0__.resolveTextureUrl)
/* harmony export */ });
/* harmony import */ var _resolveTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./resolveTextureUrl.mjs */ "./node_modules/@pixi/assets/lib/resolver/parsers/resolveTextureUrl.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/resolver/parsers/resolveTextureUrl.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/resolver/parsers/resolveTextureUrl.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   resolveTextureUrl: () => (/* binding */ resolveTextureUrl)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _loader_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../loader/index.mjs */ "./node_modules/@pixi/assets/lib/loader/index.mjs");
/* harmony import */ var _loader_parsers_textures_loadTextures_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../loader/parsers/textures/loadTextures.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadTextures.mjs");




const resolveTextureUrl = {
  extension: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.ResolveParser,
  test: _loader_parsers_textures_loadTextures_mjs__WEBPACK_IMPORTED_MODULE_2__.loadTextures.test,
  parse: (value) => ({
    resolution: parseFloat(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RETINA_PREFIX.exec(value)?.[1] ?? "1"),
    format: value.split(".").pop(),
    src: value
  })
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(resolveTextureUrl);


//# sourceMappingURL=resolveTextureUrl.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/resolver/types.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/resolver/types.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=types.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   checkDataUrl: () => (/* binding */ checkDataUrl)
/* harmony export */ });
function checkDataUrl(url, mimes) {
  if (Array.isArray(mimes)) {
    for (const mime of mimes) {
      if (url.startsWith(`data:${mime}`))
        return true;
    }
    return false;
  }
  return url.startsWith(`data:${mimes}`);
}


//# sourceMappingURL=checkDataUrl.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/utils/checkExtension.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/utils/checkExtension.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   checkExtension: () => (/* binding */ checkExtension)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


function checkExtension(url, extension) {
  const tempURL = url.split("?")[0];
  const ext = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.extname(tempURL).toLowerCase();
  if (Array.isArray(extension)) {
    return extension.includes(ext);
  }
  return ext === extension;
}


//# sourceMappingURL=checkExtension.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/utils/convertToList.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/utils/convertToList.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertToList: () => (/* binding */ convertToList)
/* harmony export */ });
const convertToList = (input, transform) => {
  if (!Array.isArray(input)) {
    input = [input];
  }
  if (!transform) {
    return input;
  }
  return input.map((item) => {
    if (typeof item === "string") {
      return transform(item);
    }
    return item;
  });
};


//# sourceMappingURL=convertToList.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/utils/copySearchParams.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/utils/copySearchParams.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   copySearchParams: () => (/* binding */ copySearchParams)
/* harmony export */ });
const copySearchParams = (targetUrl, sourceUrl) => {
  const searchParams = sourceUrl.split("?")[1];
  if (searchParams) {
    targetUrl += `?${searchParams}`;
  }
  return targetUrl;
};


//# sourceMappingURL=copySearchParams.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/utils/createStringVariations.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/utils/createStringVariations.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createStringVariations: () => (/* binding */ createStringVariations)
/* harmony export */ });
function processX(base, ids, depth, result, tags) {
  const id = ids[depth];
  for (let i = 0; i < id.length; i++) {
    const value = id[i];
    if (depth < ids.length - 1) {
      processX(base.replace(result[depth], value), ids, depth + 1, result, tags);
    } else {
      tags.push(base.replace(result[depth], value));
    }
  }
}
function createStringVariations(string) {
  const regex = /\{(.*?)\}/g;
  const result = string.match(regex);
  const tags = [];
  if (result) {
    const ids = [];
    result.forEach((vars) => {
      const split = vars.substring(1, vars.length - 1).split(",");
      ids.push(split);
    });
    processX(string, ids, 0, result, tags);
  } else {
    tags.push(string);
  }
  return tags;
}


//# sourceMappingURL=createStringVariations.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/utils/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/utils/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   checkDataUrl: () => (/* reexport safe */ _checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_0__.checkDataUrl),
/* harmony export */   checkExtension: () => (/* reexport safe */ _checkExtension_mjs__WEBPACK_IMPORTED_MODULE_1__.checkExtension),
/* harmony export */   convertToList: () => (/* reexport safe */ _convertToList_mjs__WEBPACK_IMPORTED_MODULE_2__.convertToList),
/* harmony export */   copySearchParams: () => (/* reexport safe */ _copySearchParams_mjs__WEBPACK_IMPORTED_MODULE_3__.copySearchParams),
/* harmony export */   createStringVariations: () => (/* reexport safe */ _createStringVariations_mjs__WEBPACK_IMPORTED_MODULE_4__.createStringVariations),
/* harmony export */   isSingleItem: () => (/* reexport safe */ _isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_5__.isSingleItem)
/* harmony export */ });
/* harmony import */ var _checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./checkDataUrl.mjs */ "./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs");
/* harmony import */ var _checkExtension_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./checkExtension.mjs */ "./node_modules/@pixi/assets/lib/utils/checkExtension.mjs");
/* harmony import */ var _convertToList_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./convertToList.mjs */ "./node_modules/@pixi/assets/lib/utils/convertToList.mjs");
/* harmony import */ var _copySearchParams_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./copySearchParams.mjs */ "./node_modules/@pixi/assets/lib/utils/copySearchParams.mjs");
/* harmony import */ var _createStringVariations_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./createStringVariations.mjs */ "./node_modules/@pixi/assets/lib/utils/createStringVariations.mjs");
/* harmony import */ var _isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./isSingleItem.mjs */ "./node_modules/@pixi/assets/lib/utils/isSingleItem.mjs");






//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/utils/isSingleItem.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/utils/isSingleItem.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isSingleItem: () => (/* binding */ isSingleItem)
/* harmony export */ });
const isSingleItem = (item) => !Array.isArray(item);


//# sourceMappingURL=isSingleItem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/color/lib/Color.mjs":
/*!************************************************!*\
  !*** ./node_modules/@pixi/color/lib/Color.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Color: () => (/* binding */ Color)
/* harmony export */ });
/* harmony import */ var colord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! colord */ "./node_modules/colord/index.mjs");
/* harmony import */ var colord_plugins_names__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! colord/plugins/names */ "./node_modules/colord/plugins/names.mjs");



(0,colord__WEBPACK_IMPORTED_MODULE_0__.extend)([colord_plugins_names__WEBPACK_IMPORTED_MODULE_1__["default"]]);
const _Color = class {
  constructor(value = 16777215) {
    this._value = null;
    this._components = new Float32Array(4);
    this._components.fill(1);
    this._int = 16777215;
    this.value = value;
  }
  get red() {
    return this._components[0];
  }
  get green() {
    return this._components[1];
  }
  get blue() {
    return this._components[2];
  }
  get alpha() {
    return this._components[3];
  }
  setValue(value) {
    this.value = value;
    return this;
  }
  set value(value) {
    if (value instanceof _Color) {
      this._value = this.cloneSource(value._value);
      this._int = value._int;
      this._components.set(value._components);
    } else if (value === null) {
      throw new Error("Cannot set PIXI.Color#value to null");
    } else if (this._value === null || !this.isSourceEqual(this._value, value)) {
      this.normalize(value);
      this._value = this.cloneSource(value);
    }
  }
  get value() {
    return this._value;
  }
  cloneSource(value) {
    if (typeof value === "string" || typeof value === "number" || value instanceof Number || value === null) {
      return value;
    } else if (Array.isArray(value) || ArrayBuffer.isView(value)) {
      return value.slice(0);
    } else if (typeof value === "object" && value !== null) {
      return { ...value };
    }
    return value;
  }
  isSourceEqual(value1, value2) {
    const type1 = typeof value1;
    const type2 = typeof value2;
    if (type1 !== type2) {
      return false;
    } else if (type1 === "number" || type1 === "string" || value1 instanceof Number) {
      return value1 === value2;
    } else if (Array.isArray(value1) && Array.isArray(value2) || ArrayBuffer.isView(value1) && ArrayBuffer.isView(value2)) {
      if (value1.length !== value2.length) {
        return false;
      }
      return value1.every((v, i) => v === value2[i]);
    } else if (value1 !== null && value2 !== null) {
      const keys1 = Object.keys(value1);
      const keys2 = Object.keys(value2);
      if (keys1.length !== keys2.length) {
        return false;
      }
      return keys1.every((key) => value1[key] === value2[key]);
    }
    return value1 === value2;
  }
  toRgba() {
    const [r, g, b, a] = this._components;
    return { r, g, b, a };
  }
  toRgb() {
    const [r, g, b] = this._components;
    return { r, g, b };
  }
  toRgbaString() {
    const [r, g, b] = this.toUint8RgbArray();
    return `rgba(${r},${g},${b},${this.alpha})`;
  }
  toUint8RgbArray(out) {
    const [r, g, b] = this._components;
    out = out ?? [];
    out[0] = Math.round(r * 255);
    out[1] = Math.round(g * 255);
    out[2] = Math.round(b * 255);
    return out;
  }
  toRgbArray(out) {
    out = out ?? [];
    const [r, g, b] = this._components;
    out[0] = r;
    out[1] = g;
    out[2] = b;
    return out;
  }
  toNumber() {
    return this._int;
  }
  toLittleEndianNumber() {
    const value = this._int;
    return (value >> 16) + (value & 65280) + ((value & 255) << 16);
  }
  multiply(value) {
    const [r, g, b, a] = _Color.temp.setValue(value)._components;
    this._components[0] *= r;
    this._components[1] *= g;
    this._components[2] *= b;
    this._components[3] *= a;
    this.refreshInt();
    this._value = null;
    return this;
  }
  premultiply(alpha, applyToRGB = true) {
    if (applyToRGB) {
      this._components[0] *= alpha;
      this._components[1] *= alpha;
      this._components[2] *= alpha;
    }
    this._components[3] = alpha;
    this.refreshInt();
    this._value = null;
    return this;
  }
  toPremultiplied(alpha, applyToRGB = true) {
    if (alpha === 1) {
      return (255 << 24) + this._int;
    }
    if (alpha === 0) {
      return applyToRGB ? 0 : this._int;
    }
    let r = this._int >> 16 & 255;
    let g = this._int >> 8 & 255;
    let b = this._int & 255;
    if (applyToRGB) {
      r = r * alpha + 0.5 | 0;
      g = g * alpha + 0.5 | 0;
      b = b * alpha + 0.5 | 0;
    }
    return (alpha * 255 << 24) + (r << 16) + (g << 8) + b;
  }
  toHex() {
    const hexString = this._int.toString(16);
    return `#${"000000".substring(0, 6 - hexString.length) + hexString}`;
  }
  toHexa() {
    const alphaValue = Math.round(this._components[3] * 255);
    const alphaString = alphaValue.toString(16);
    return this.toHex() + "00".substring(0, 2 - alphaString.length) + alphaString;
  }
  setAlpha(alpha) {
    this._components[3] = this._clamp(alpha);
    return this;
  }
  round(steps) {
    const [r, g, b] = this._components;
    this._components[0] = Math.round(r * steps) / steps;
    this._components[1] = Math.round(g * steps) / steps;
    this._components[2] = Math.round(b * steps) / steps;
    this.refreshInt();
    this._value = null;
    return this;
  }
  toArray(out) {
    out = out ?? [];
    const [r, g, b, a] = this._components;
    out[0] = r;
    out[1] = g;
    out[2] = b;
    out[3] = a;
    return out;
  }
  normalize(value) {
    let r;
    let g;
    let b;
    let a;
    if ((typeof value === "number" || value instanceof Number) && value >= 0 && value <= 16777215) {
      const int = value;
      r = (int >> 16 & 255) / 255;
      g = (int >> 8 & 255) / 255;
      b = (int & 255) / 255;
      a = 1;
    } else if ((Array.isArray(value) || value instanceof Float32Array) && value.length >= 3 && value.length <= 4) {
      value = this._clamp(value);
      [r, g, b, a = 1] = value;
    } else if ((value instanceof Uint8Array || value instanceof Uint8ClampedArray) && value.length >= 3 && value.length <= 4) {
      value = this._clamp(value, 0, 255);
      [r, g, b, a = 255] = value;
      r /= 255;
      g /= 255;
      b /= 255;
      a /= 255;
    } else if (typeof value === "string" || typeof value === "object") {
      if (typeof value === "string") {
        const match = _Color.HEX_PATTERN.exec(value);
        if (match) {
          value = `#${match[2]}`;
        }
      }
      const color = (0,colord__WEBPACK_IMPORTED_MODULE_0__.colord)(value);
      if (color.isValid()) {
        ({ r, g, b, a } = color.rgba);
        r /= 255;
        g /= 255;
        b /= 255;
      }
    }
    if (r !== void 0) {
      this._components[0] = r;
      this._components[1] = g;
      this._components[2] = b;
      this._components[3] = a;
      this.refreshInt();
    } else {
      throw new Error(`Unable to convert color ${value}`);
    }
  }
  refreshInt() {
    this._clamp(this._components);
    const [r, g, b] = this._components;
    this._int = (r * 255 << 16) + (g * 255 << 8) + (b * 255 | 0);
  }
  _clamp(value, min = 0, max = 1) {
    if (typeof value === "number") {
      return Math.min(Math.max(value, min), max);
    }
    value.forEach((v, i) => {
      value[i] = Math.min(Math.max(v, min), max);
    });
    return value;
  }
};
let Color = _Color;
Color.shared = new _Color();
Color.temp = new _Color();
Color.HEX_PATTERN = /^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;


//# sourceMappingURL=Color.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/color/lib/index.mjs":
/*!************************************************!*\
  !*** ./node_modules/@pixi/color/lib/index.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Color: () => (/* reexport safe */ _Color_mjs__WEBPACK_IMPORTED_MODULE_0__.Color)
/* harmony export */ });
/* harmony import */ var _Color_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Color.mjs */ "./node_modules/@pixi/color/lib/Color.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/const.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/const.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   INTERNAL_FORMATS: () => (/* binding */ INTERNAL_FORMATS),
/* harmony export */   INTERNAL_FORMAT_TO_BYTES_PER_PIXEL: () => (/* binding */ INTERNAL_FORMAT_TO_BYTES_PER_PIXEL)
/* harmony export */ });
var INTERNAL_FORMATS = /* @__PURE__ */ ((INTERNAL_FORMATS2) => {
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB_S3TC_DXT1_EXT"] = 33776] = "COMPRESSED_RGB_S3TC_DXT1_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_S3TC_DXT1_EXT"] = 33777] = "COMPRESSED_RGBA_S3TC_DXT1_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_S3TC_DXT3_EXT"] = 33778] = "COMPRESSED_RGBA_S3TC_DXT3_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_S3TC_DXT5_EXT"] = 33779] = "COMPRESSED_RGBA_S3TC_DXT5_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT"] = 35917] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT"] = 35918] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT"] = 35919] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB_S3TC_DXT1_EXT"] = 35916] = "COMPRESSED_SRGB_S3TC_DXT1_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_R11_EAC"] = 37488] = "COMPRESSED_R11_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SIGNED_R11_EAC"] = 37489] = "COMPRESSED_SIGNED_R11_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RG11_EAC"] = 37490] = "COMPRESSED_RG11_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SIGNED_RG11_EAC"] = 37491] = "COMPRESSED_SIGNED_RG11_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB8_ETC2"] = 37492] = "COMPRESSED_RGB8_ETC2";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA8_ETC2_EAC"] = 37496] = "COMPRESSED_RGBA8_ETC2_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB8_ETC2"] = 37493] = "COMPRESSED_SRGB8_ETC2";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"] = 37497] = "COMPRESSED_SRGB8_ALPHA8_ETC2_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2"] = 37494] = "COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2"] = 37495] = "COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB_PVRTC_4BPPV1_IMG"] = 35840] = "COMPRESSED_RGB_PVRTC_4BPPV1_IMG";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_PVRTC_4BPPV1_IMG"] = 35842] = "COMPRESSED_RGBA_PVRTC_4BPPV1_IMG";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB_PVRTC_2BPPV1_IMG"] = 35841] = "COMPRESSED_RGB_PVRTC_2BPPV1_IMG";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_PVRTC_2BPPV1_IMG"] = 35843] = "COMPRESSED_RGBA_PVRTC_2BPPV1_IMG";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB_ETC1_WEBGL"] = 36196] = "COMPRESSED_RGB_ETC1_WEBGL";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB_ATC_WEBGL"] = 35986] = "COMPRESSED_RGB_ATC_WEBGL";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL"] = 35986] = "COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"] = 34798] = "COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_ASTC_4x4_KHR"] = 37808] = "COMPRESSED_RGBA_ASTC_4x4_KHR";
  return INTERNAL_FORMATS2;
})(INTERNAL_FORMATS || {});
const INTERNAL_FORMAT_TO_BYTES_PER_PIXEL = {
  [33776 /* COMPRESSED_RGB_S3TC_DXT1_EXT */]: 0.5,
  [33777 /* COMPRESSED_RGBA_S3TC_DXT1_EXT */]: 0.5,
  [33778 /* COMPRESSED_RGBA_S3TC_DXT3_EXT */]: 1,
  [33779 /* COMPRESSED_RGBA_S3TC_DXT5_EXT */]: 1,
  [35916 /* COMPRESSED_SRGB_S3TC_DXT1_EXT */]: 0.5,
  [35917 /* COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT */]: 0.5,
  [35918 /* COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT */]: 1,
  [35919 /* COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT */]: 1,
  [37488 /* COMPRESSED_R11_EAC */]: 0.5,
  [37489 /* COMPRESSED_SIGNED_R11_EAC */]: 0.5,
  [37490 /* COMPRESSED_RG11_EAC */]: 1,
  [37491 /* COMPRESSED_SIGNED_RG11_EAC */]: 1,
  [37492 /* COMPRESSED_RGB8_ETC2 */]: 0.5,
  [37496 /* COMPRESSED_RGBA8_ETC2_EAC */]: 1,
  [37493 /* COMPRESSED_SRGB8_ETC2 */]: 0.5,
  [37497 /* COMPRESSED_SRGB8_ALPHA8_ETC2_EAC */]: 1,
  [37494 /* COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 */]: 0.5,
  [37495 /* COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2 */]: 0.5,
  [35840 /* COMPRESSED_RGB_PVRTC_4BPPV1_IMG */]: 0.5,
  [35842 /* COMPRESSED_RGBA_PVRTC_4BPPV1_IMG */]: 0.5,
  [35841 /* COMPRESSED_RGB_PVRTC_2BPPV1_IMG */]: 0.25,
  [35843 /* COMPRESSED_RGBA_PVRTC_2BPPV1_IMG */]: 0.25,
  [36196 /* COMPRESSED_RGB_ETC1_WEBGL */]: 0.5,
  [35986 /* COMPRESSED_RGB_ATC_WEBGL */]: 0.5,
  [35986 /* COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL */]: 1,
  [34798 /* COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL */]: 1,
  [37808 /* COMPRESSED_RGBA_ASTC_4x4_KHR */]: 1
};


//# sourceMappingURL=const.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/index.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/index.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlobResource: () => (/* reexport safe */ _resources_BlobResource_mjs__WEBPACK_IMPORTED_MODULE_10__.BlobResource),
/* harmony export */   CompressedTextureResource: () => (/* reexport safe */ _resources_CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_11__.CompressedTextureResource),
/* harmony export */   FORMATS_TO_COMPONENTS: () => (/* reexport safe */ _parsers_parseKTX_mjs__WEBPACK_IMPORTED_MODULE_9__.FORMATS_TO_COMPONENTS),
/* harmony export */   INTERNAL_FORMATS: () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMATS),
/* harmony export */   INTERNAL_FORMAT_TO_BYTES_PER_PIXEL: () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL),
/* harmony export */   TYPES_TO_BYTES_PER_COMPONENT: () => (/* reexport safe */ _parsers_parseKTX_mjs__WEBPACK_IMPORTED_MODULE_9__.TYPES_TO_BYTES_PER_COMPONENT),
/* harmony export */   TYPES_TO_BYTES_PER_PIXEL: () => (/* reexport safe */ _parsers_parseKTX_mjs__WEBPACK_IMPORTED_MODULE_9__.TYPES_TO_BYTES_PER_PIXEL),
/* harmony export */   detectCompressedTextures: () => (/* reexport safe */ _loaders_detectCompressedTextures_mjs__WEBPACK_IMPORTED_MODULE_4__.detectCompressedTextures),
/* harmony export */   loadDDS: () => (/* reexport safe */ _loaders_loadDDS_mjs__WEBPACK_IMPORTED_MODULE_5__.loadDDS),
/* harmony export */   loadKTX: () => (/* reexport safe */ _loaders_loadKTX_mjs__WEBPACK_IMPORTED_MODULE_6__.loadKTX),
/* harmony export */   parseDDS: () => (/* reexport safe */ _parsers_parseDDS_mjs__WEBPACK_IMPORTED_MODULE_8__.parseDDS),
/* harmony export */   parseKTX: () => (/* reexport safe */ _parsers_parseKTX_mjs__WEBPACK_IMPORTED_MODULE_9__.parseKTX),
/* harmony export */   resolveCompressedTextureUrl: () => (/* reexport safe */ _loaders_resolveCompressedTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_7__.resolveCompressedTextureUrl)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/compressed-textures/lib/const.mjs");
/* harmony import */ var _loaders_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loaders/index.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/index.mjs");
/* harmony import */ var _parsers_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parsers/index.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/index.mjs");
/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resources/index.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/index.mjs");
/* harmony import */ var _loaders_detectCompressedTextures_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./loaders/detectCompressedTextures.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/detectCompressedTextures.mjs");
/* harmony import */ var _loaders_loadDDS_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./loaders/loadDDS.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/loadDDS.mjs");
/* harmony import */ var _loaders_loadKTX_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./loaders/loadKTX.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/loadKTX.mjs");
/* harmony import */ var _loaders_resolveCompressedTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./loaders/resolveCompressedTextureUrl.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/resolveCompressedTextureUrl.mjs");
/* harmony import */ var _parsers_parseDDS_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parsers/parseDDS.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/parseDDS.mjs");
/* harmony import */ var _parsers_parseKTX_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./parsers/parseKTX.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/parseKTX.mjs");
/* harmony import */ var _resources_BlobResource_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./resources/BlobResource.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/BlobResource.mjs");
/* harmony import */ var _resources_CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./resources/CompressedTextureResource.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/CompressedTextureResource.mjs");












//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/loaders/compressedTextureExtensions.mjs":
/*!********************************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/loaders/compressedTextureExtensions.mjs ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=compressedTextureExtensions.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/loaders/detectCompressedTextures.mjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/loaders/detectCompressedTextures.mjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   detectCompressedTextures: () => (/* binding */ detectCompressedTextures)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


let storedGl;
let extensions;
function getCompressedTextureExtensions() {
  extensions = {
    s3tc: storedGl.getExtension("WEBGL_compressed_texture_s3tc"),
    s3tc_sRGB: storedGl.getExtension("WEBGL_compressed_texture_s3tc_srgb"),
    etc: storedGl.getExtension("WEBGL_compressed_texture_etc"),
    etc1: storedGl.getExtension("WEBGL_compressed_texture_etc1"),
    pvrtc: storedGl.getExtension("WEBGL_compressed_texture_pvrtc") || storedGl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
    atc: storedGl.getExtension("WEBGL_compressed_texture_atc"),
    astc: storedGl.getExtension("WEBGL_compressed_texture_astc")
  };
}
const detectCompressedTextures = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.DetectionParser,
    priority: 2
  },
  test: async () => {
    const canvas = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.createCanvas();
    const gl = canvas.getContext("webgl");
    if (!gl) {
      console.warn("WebGL not available for compressed textures.");
      return false;
    }
    storedGl = gl;
    return true;
  },
  add: async (formats) => {
    if (!extensions)
      getCompressedTextureExtensions();
    const textureFormats = [];
    for (const extensionName in extensions) {
      const extension = extensions[extensionName];
      if (!extension) {
        continue;
      }
      textureFormats.push(extensionName);
    }
    return [...textureFormats, ...formats];
  },
  remove: async (formats) => {
    if (!extensions)
      getCompressedTextureExtensions();
    return formats.filter((f) => !(f in extensions));
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(detectCompressedTextures);


//# sourceMappingURL=detectCompressedTextures.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/loaders/index.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/loaders/index.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   detectCompressedTextures: () => (/* reexport safe */ _detectCompressedTextures_mjs__WEBPACK_IMPORTED_MODULE_1__.detectCompressedTextures),
/* harmony export */   loadDDS: () => (/* reexport safe */ _loadDDS_mjs__WEBPACK_IMPORTED_MODULE_2__.loadDDS),
/* harmony export */   loadKTX: () => (/* reexport safe */ _loadKTX_mjs__WEBPACK_IMPORTED_MODULE_3__.loadKTX),
/* harmony export */   resolveCompressedTextureUrl: () => (/* reexport safe */ _resolveCompressedTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_4__.resolveCompressedTextureUrl)
/* harmony export */ });
/* harmony import */ var _compressedTextureExtensions_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compressedTextureExtensions.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/compressedTextureExtensions.mjs");
/* harmony import */ var _detectCompressedTextures_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./detectCompressedTextures.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/detectCompressedTextures.mjs");
/* harmony import */ var _loadDDS_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loadDDS.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/loadDDS.mjs");
/* harmony import */ var _loadKTX_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./loadKTX.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/loadKTX.mjs");
/* harmony import */ var _resolveCompressedTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resolveCompressedTextureUrl.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/resolveCompressedTextureUrl.mjs");





//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/loaders/loadDDS.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/loaders/loadDDS.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadDDS: () => (/* binding */ loadDDS)
/* harmony export */ });
/* harmony import */ var _pixi_assets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/assets */ "./node_modules/@pixi/assets/lib/index.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _parsers_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parsers/index.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/index.mjs");
/* harmony import */ var _parsers_parseDDS_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../parsers/parseDDS.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/parseDDS.mjs");





const loadDDS = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.LoadParser,
    priority: _pixi_assets__WEBPACK_IMPORTED_MODULE_0__.LoaderParserPriority.High
  },
  name: "loadDDS",
  test(url) {
    return (0,_pixi_assets__WEBPACK_IMPORTED_MODULE_0__.checkExtension)(url, ".dds");
  },
  async load(url, asset, loader) {
    const response = await _pixi_core__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.fetch(url);
    const arrayBuffer = await response.arrayBuffer();
    const resources = (0,_parsers_parseDDS_mjs__WEBPACK_IMPORTED_MODULE_3__.parseDDS)(arrayBuffer);
    const textures = resources.map((resource) => {
      const base = new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.BaseTexture(resource, {
        mipmap: _pixi_core__WEBPACK_IMPORTED_MODULE_1__.MIPMAP_MODES.OFF,
        alphaMode: _pixi_core__WEBPACK_IMPORTED_MODULE_1__.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,
        resolution: _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.getResolutionOfUrl(url),
        ...asset.data
      });
      return (0,_pixi_assets__WEBPACK_IMPORTED_MODULE_0__.createTexture)(base, loader, url);
    });
    return textures.length === 1 ? textures[0] : textures;
  },
  unload(texture) {
    if (Array.isArray(texture)) {
      texture.forEach((t) => t.destroy(true));
    } else {
      texture.destroy(true);
    }
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_1__.extensions.add(loadDDS);


//# sourceMappingURL=loadDDS.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/loaders/loadKTX.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/loaders/loadKTX.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadKTX: () => (/* binding */ loadKTX)
/* harmony export */ });
/* harmony import */ var _pixi_assets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/assets */ "./node_modules/@pixi/assets/lib/index.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _parsers_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parsers/index.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/index.mjs");
/* harmony import */ var _parsers_parseKTX_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../parsers/parseKTX.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/parseKTX.mjs");





const loadKTX = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.LoadParser,
    priority: _pixi_assets__WEBPACK_IMPORTED_MODULE_0__.LoaderParserPriority.High
  },
  name: "loadKTX",
  test(url) {
    return (0,_pixi_assets__WEBPACK_IMPORTED_MODULE_0__.checkExtension)(url, ".ktx");
  },
  async load(url, asset, loader) {
    const response = await _pixi_core__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.fetch(url);
    const arrayBuffer = await response.arrayBuffer();
    const { compressed, uncompressed, kvData } = (0,_parsers_parseKTX_mjs__WEBPACK_IMPORTED_MODULE_3__.parseKTX)(url, arrayBuffer);
    const resources = compressed ?? uncompressed;
    const options = {
      mipmap: _pixi_core__WEBPACK_IMPORTED_MODULE_1__.MIPMAP_MODES.OFF,
      alphaMode: _pixi_core__WEBPACK_IMPORTED_MODULE_1__.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,
      resolution: _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.getResolutionOfUrl(url),
      ...asset.data
    };
    const textures = resources.map((resource) => {
      if (resources === uncompressed) {
        Object.assign(options, {
          type: resource.type,
          format: resource.format
        });
      }
      const base = new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.BaseTexture(resource, options);
      base.ktxKeyValueData = kvData;
      return (0,_pixi_assets__WEBPACK_IMPORTED_MODULE_0__.createTexture)(base, loader, url);
    });
    return textures.length === 1 ? textures[0] : textures;
  },
  unload(texture) {
    if (Array.isArray(texture)) {
      texture.forEach((t) => t.destroy(true));
    } else {
      texture.destroy(true);
    }
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_1__.extensions.add(loadKTX);


//# sourceMappingURL=loadKTX.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/loaders/resolveCompressedTextureUrl.mjs":
/*!********************************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/loaders/resolveCompressedTextureUrl.mjs ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   resolveCompressedTextureUrl: () => (/* binding */ resolveCompressedTextureUrl)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const resolveCompressedTextureUrl = {
  extension: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.ResolveParser,
  test: (value) => {
    const temp = value.split("?")[0];
    const extension = temp.split(".").pop();
    return ["basis", "ktx", "dds"].includes(extension);
  },
  parse: (value) => {
    const temp = value.split("?")[0];
    const extension = temp.split(".").pop();
    if (extension === "ktx") {
      const extensions2 = [
        ".s3tc.ktx",
        ".s3tc_sRGB.ktx",
        ".etc.ktx",
        ".etc1.ktx",
        ".pvrt.ktx",
        ".atc.ktx",
        ".astc.ktx"
      ];
      if (extensions2.some((ext) => value.endsWith(ext))) {
        return {
          resolution: parseFloat(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RETINA_PREFIX.exec(value)?.[1] ?? "1"),
          format: extensions2.find((ext) => value.endsWith(ext)),
          src: value
        };
      }
    }
    return {
      resolution: parseFloat(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RETINA_PREFIX.exec(value)?.[1] ?? "1"),
      format: value.split(".").pop(),
      src: value
    };
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(resolveCompressedTextureUrl);


//# sourceMappingURL=resolveCompressedTextureUrl.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/parsers/index.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/parsers/index.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FORMATS_TO_COMPONENTS: () => (/* reexport safe */ _parseKTX_mjs__WEBPACK_IMPORTED_MODULE_1__.FORMATS_TO_COMPONENTS),
/* harmony export */   TYPES_TO_BYTES_PER_COMPONENT: () => (/* reexport safe */ _parseKTX_mjs__WEBPACK_IMPORTED_MODULE_1__.TYPES_TO_BYTES_PER_COMPONENT),
/* harmony export */   TYPES_TO_BYTES_PER_PIXEL: () => (/* reexport safe */ _parseKTX_mjs__WEBPACK_IMPORTED_MODULE_1__.TYPES_TO_BYTES_PER_PIXEL),
/* harmony export */   parseDDS: () => (/* reexport safe */ _parseDDS_mjs__WEBPACK_IMPORTED_MODULE_0__.parseDDS),
/* harmony export */   parseKTX: () => (/* reexport safe */ _parseKTX_mjs__WEBPACK_IMPORTED_MODULE_1__.parseKTX)
/* harmony export */ });
/* harmony import */ var _parseDDS_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parseDDS.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/parseDDS.mjs");
/* harmony import */ var _parseKTX_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parseKTX.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/parseKTX.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/parsers/parseDDS.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/parsers/parseDDS.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parseDDS: () => (/* binding */ parseDDS)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/compressed-textures/lib/const.mjs");
/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../resources/index.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/index.mjs");
/* harmony import */ var _resources_CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../resources/CompressedTextureResource.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/CompressedTextureResource.mjs");




const DDS_MAGIC_SIZE = 4;
const DDS_HEADER_SIZE = 124;
const DDS_HEADER_PF_SIZE = 32;
const DDS_HEADER_DX10_SIZE = 20;
const DDS_MAGIC = 542327876;
const DDS_FIELDS = {
  SIZE: 1,
  FLAGS: 2,
  HEIGHT: 3,
  WIDTH: 4,
  MIPMAP_COUNT: 7,
  PIXEL_FORMAT: 19
};
const DDS_PF_FIELDS = {
  SIZE: 0,
  FLAGS: 1,
  FOURCC: 2,
  RGB_BITCOUNT: 3,
  R_BIT_MASK: 4,
  G_BIT_MASK: 5,
  B_BIT_MASK: 6,
  A_BIT_MASK: 7
};
const DDS_DX10_FIELDS = {
  DXGI_FORMAT: 0,
  RESOURCE_DIMENSION: 1,
  MISC_FLAG: 2,
  ARRAY_SIZE: 3,
  MISC_FLAGS2: 4
};
var DXGI_FORMAT = /* @__PURE__ */ ((DXGI_FORMAT2) => {
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_UNKNOWN"] = 0] = "DXGI_FORMAT_UNKNOWN";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32A32_TYPELESS"] = 1] = "DXGI_FORMAT_R32G32B32A32_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32A32_FLOAT"] = 2] = "DXGI_FORMAT_R32G32B32A32_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32A32_UINT"] = 3] = "DXGI_FORMAT_R32G32B32A32_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32A32_SINT"] = 4] = "DXGI_FORMAT_R32G32B32A32_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32_TYPELESS"] = 5] = "DXGI_FORMAT_R32G32B32_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32_FLOAT"] = 6] = "DXGI_FORMAT_R32G32B32_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32_UINT"] = 7] = "DXGI_FORMAT_R32G32B32_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32_SINT"] = 8] = "DXGI_FORMAT_R32G32B32_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16B16A16_TYPELESS"] = 9] = "DXGI_FORMAT_R16G16B16A16_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16B16A16_FLOAT"] = 10] = "DXGI_FORMAT_R16G16B16A16_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16B16A16_UNORM"] = 11] = "DXGI_FORMAT_R16G16B16A16_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16B16A16_UINT"] = 12] = "DXGI_FORMAT_R16G16B16A16_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16B16A16_SNORM"] = 13] = "DXGI_FORMAT_R16G16B16A16_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16B16A16_SINT"] = 14] = "DXGI_FORMAT_R16G16B16A16_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32_TYPELESS"] = 15] = "DXGI_FORMAT_R32G32_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32_FLOAT"] = 16] = "DXGI_FORMAT_R32G32_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32_UINT"] = 17] = "DXGI_FORMAT_R32G32_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32_SINT"] = 18] = "DXGI_FORMAT_R32G32_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G8X24_TYPELESS"] = 19] = "DXGI_FORMAT_R32G8X24_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_D32_FLOAT_S8X24_UINT"] = 20] = "DXGI_FORMAT_D32_FLOAT_S8X24_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS"] = 21] = "DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_X32_TYPELESS_G8X24_UINT"] = 22] = "DXGI_FORMAT_X32_TYPELESS_G8X24_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R10G10B10A2_TYPELESS"] = 23] = "DXGI_FORMAT_R10G10B10A2_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R10G10B10A2_UNORM"] = 24] = "DXGI_FORMAT_R10G10B10A2_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R10G10B10A2_UINT"] = 25] = "DXGI_FORMAT_R10G10B10A2_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R11G11B10_FLOAT"] = 26] = "DXGI_FORMAT_R11G11B10_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8B8A8_TYPELESS"] = 27] = "DXGI_FORMAT_R8G8B8A8_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8B8A8_UNORM"] = 28] = "DXGI_FORMAT_R8G8B8A8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8B8A8_UNORM_SRGB"] = 29] = "DXGI_FORMAT_R8G8B8A8_UNORM_SRGB";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8B8A8_UINT"] = 30] = "DXGI_FORMAT_R8G8B8A8_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8B8A8_SNORM"] = 31] = "DXGI_FORMAT_R8G8B8A8_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8B8A8_SINT"] = 32] = "DXGI_FORMAT_R8G8B8A8_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16_TYPELESS"] = 33] = "DXGI_FORMAT_R16G16_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16_FLOAT"] = 34] = "DXGI_FORMAT_R16G16_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16_UNORM"] = 35] = "DXGI_FORMAT_R16G16_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16_UINT"] = 36] = "DXGI_FORMAT_R16G16_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16_SNORM"] = 37] = "DXGI_FORMAT_R16G16_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16_SINT"] = 38] = "DXGI_FORMAT_R16G16_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32_TYPELESS"] = 39] = "DXGI_FORMAT_R32_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_D32_FLOAT"] = 40] = "DXGI_FORMAT_D32_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32_FLOAT"] = 41] = "DXGI_FORMAT_R32_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32_UINT"] = 42] = "DXGI_FORMAT_R32_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32_SINT"] = 43] = "DXGI_FORMAT_R32_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R24G8_TYPELESS"] = 44] = "DXGI_FORMAT_R24G8_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_D24_UNORM_S8_UINT"] = 45] = "DXGI_FORMAT_D24_UNORM_S8_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R24_UNORM_X8_TYPELESS"] = 46] = "DXGI_FORMAT_R24_UNORM_X8_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_X24_TYPELESS_G8_UINT"] = 47] = "DXGI_FORMAT_X24_TYPELESS_G8_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8_TYPELESS"] = 48] = "DXGI_FORMAT_R8G8_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8_UNORM"] = 49] = "DXGI_FORMAT_R8G8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8_UINT"] = 50] = "DXGI_FORMAT_R8G8_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8_SNORM"] = 51] = "DXGI_FORMAT_R8G8_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8_SINT"] = 52] = "DXGI_FORMAT_R8G8_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16_TYPELESS"] = 53] = "DXGI_FORMAT_R16_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16_FLOAT"] = 54] = "DXGI_FORMAT_R16_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_D16_UNORM"] = 55] = "DXGI_FORMAT_D16_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16_UNORM"] = 56] = "DXGI_FORMAT_R16_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16_UINT"] = 57] = "DXGI_FORMAT_R16_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16_SNORM"] = 58] = "DXGI_FORMAT_R16_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16_SINT"] = 59] = "DXGI_FORMAT_R16_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8_TYPELESS"] = 60] = "DXGI_FORMAT_R8_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8_UNORM"] = 61] = "DXGI_FORMAT_R8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8_UINT"] = 62] = "DXGI_FORMAT_R8_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8_SNORM"] = 63] = "DXGI_FORMAT_R8_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8_SINT"] = 64] = "DXGI_FORMAT_R8_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_A8_UNORM"] = 65] = "DXGI_FORMAT_A8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R1_UNORM"] = 66] = "DXGI_FORMAT_R1_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R9G9B9E5_SHAREDEXP"] = 67] = "DXGI_FORMAT_R9G9B9E5_SHAREDEXP";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8_B8G8_UNORM"] = 68] = "DXGI_FORMAT_R8G8_B8G8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_G8R8_G8B8_UNORM"] = 69] = "DXGI_FORMAT_G8R8_G8B8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC1_TYPELESS"] = 70] = "DXGI_FORMAT_BC1_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC1_UNORM"] = 71] = "DXGI_FORMAT_BC1_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC1_UNORM_SRGB"] = 72] = "DXGI_FORMAT_BC1_UNORM_SRGB";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC2_TYPELESS"] = 73] = "DXGI_FORMAT_BC2_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC2_UNORM"] = 74] = "DXGI_FORMAT_BC2_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC2_UNORM_SRGB"] = 75] = "DXGI_FORMAT_BC2_UNORM_SRGB";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC3_TYPELESS"] = 76] = "DXGI_FORMAT_BC3_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC3_UNORM"] = 77] = "DXGI_FORMAT_BC3_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC3_UNORM_SRGB"] = 78] = "DXGI_FORMAT_BC3_UNORM_SRGB";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC4_TYPELESS"] = 79] = "DXGI_FORMAT_BC4_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC4_UNORM"] = 80] = "DXGI_FORMAT_BC4_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC4_SNORM"] = 81] = "DXGI_FORMAT_BC4_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC5_TYPELESS"] = 82] = "DXGI_FORMAT_BC5_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC5_UNORM"] = 83] = "DXGI_FORMAT_BC5_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC5_SNORM"] = 84] = "DXGI_FORMAT_BC5_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B5G6R5_UNORM"] = 85] = "DXGI_FORMAT_B5G6R5_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B5G5R5A1_UNORM"] = 86] = "DXGI_FORMAT_B5G5R5A1_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B8G8R8A8_UNORM"] = 87] = "DXGI_FORMAT_B8G8R8A8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B8G8R8X8_UNORM"] = 88] = "DXGI_FORMAT_B8G8R8X8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM"] = 89] = "DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B8G8R8A8_TYPELESS"] = 90] = "DXGI_FORMAT_B8G8R8A8_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B8G8R8A8_UNORM_SRGB"] = 91] = "DXGI_FORMAT_B8G8R8A8_UNORM_SRGB";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B8G8R8X8_TYPELESS"] = 92] = "DXGI_FORMAT_B8G8R8X8_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B8G8R8X8_UNORM_SRGB"] = 93] = "DXGI_FORMAT_B8G8R8X8_UNORM_SRGB";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC6H_TYPELESS"] = 94] = "DXGI_FORMAT_BC6H_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC6H_UF16"] = 95] = "DXGI_FORMAT_BC6H_UF16";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC6H_SF16"] = 96] = "DXGI_FORMAT_BC6H_SF16";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC7_TYPELESS"] = 97] = "DXGI_FORMAT_BC7_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC7_UNORM"] = 98] = "DXGI_FORMAT_BC7_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC7_UNORM_SRGB"] = 99] = "DXGI_FORMAT_BC7_UNORM_SRGB";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_AYUV"] = 100] = "DXGI_FORMAT_AYUV";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_Y410"] = 101] = "DXGI_FORMAT_Y410";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_Y416"] = 102] = "DXGI_FORMAT_Y416";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_NV12"] = 103] = "DXGI_FORMAT_NV12";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_P010"] = 104] = "DXGI_FORMAT_P010";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_P016"] = 105] = "DXGI_FORMAT_P016";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_420_OPAQUE"] = 106] = "DXGI_FORMAT_420_OPAQUE";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_YUY2"] = 107] = "DXGI_FORMAT_YUY2";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_Y210"] = 108] = "DXGI_FORMAT_Y210";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_Y216"] = 109] = "DXGI_FORMAT_Y216";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_NV11"] = 110] = "DXGI_FORMAT_NV11";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_AI44"] = 111] = "DXGI_FORMAT_AI44";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_IA44"] = 112] = "DXGI_FORMAT_IA44";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_P8"] = 113] = "DXGI_FORMAT_P8";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_A8P8"] = 114] = "DXGI_FORMAT_A8P8";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B4G4R4A4_UNORM"] = 115] = "DXGI_FORMAT_B4G4R4A4_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_P208"] = 116] = "DXGI_FORMAT_P208";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_V208"] = 117] = "DXGI_FORMAT_V208";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_V408"] = 118] = "DXGI_FORMAT_V408";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE"] = 119] = "DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE"] = 120] = "DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_FORCE_UINT"] = 121] = "DXGI_FORMAT_FORCE_UINT";
  return DXGI_FORMAT2;
})(DXGI_FORMAT || {});
var D3D10_RESOURCE_DIMENSION = /* @__PURE__ */ ((D3D10_RESOURCE_DIMENSION2) => {
  D3D10_RESOURCE_DIMENSION2[D3D10_RESOURCE_DIMENSION2["DDS_DIMENSION_TEXTURE1D"] = 2] = "DDS_DIMENSION_TEXTURE1D";
  D3D10_RESOURCE_DIMENSION2[D3D10_RESOURCE_DIMENSION2["DDS_DIMENSION_TEXTURE2D"] = 3] = "DDS_DIMENSION_TEXTURE2D";
  D3D10_RESOURCE_DIMENSION2[D3D10_RESOURCE_DIMENSION2["DDS_DIMENSION_TEXTURE3D"] = 6] = "DDS_DIMENSION_TEXTURE3D";
  return D3D10_RESOURCE_DIMENSION2;
})(D3D10_RESOURCE_DIMENSION || {});
const PF_FLAGS = 1;
const DDPF_ALPHA = 2;
const DDPF_FOURCC = 4;
const DDPF_RGB = 64;
const DDPF_YUV = 512;
const DDPF_LUMINANCE = 131072;
const FOURCC_DXT1 = 827611204;
const FOURCC_DXT3 = 861165636;
const FOURCC_DXT5 = 894720068;
const FOURCC_DX10 = 808540228;
const DDS_RESOURCE_MISC_TEXTURECUBE = 4;
const FOURCC_TO_FORMAT = {
  [FOURCC_DXT1]: _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,
  [FOURCC_DXT3]: _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,
  [FOURCC_DXT5]: _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT
};
const DXGI_TO_FORMAT = {
  [70 /* DXGI_FORMAT_BC1_TYPELESS */]: _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,
  [71 /* DXGI_FORMAT_BC1_UNORM */]: _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,
  [73 /* DXGI_FORMAT_BC2_TYPELESS */]: _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,
  [74 /* DXGI_FORMAT_BC2_UNORM */]: _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,
  [76 /* DXGI_FORMAT_BC3_TYPELESS */]: _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,
  [77 /* DXGI_FORMAT_BC3_UNORM */]: _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,
  [72 /* DXGI_FORMAT_BC1_UNORM_SRGB */]: _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,
  [75 /* DXGI_FORMAT_BC2_UNORM_SRGB */]: _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,
  [78 /* DXGI_FORMAT_BC3_UNORM_SRGB */]: _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT
};
function parseDDS(arrayBuffer) {
  const data = new Uint32Array(arrayBuffer);
  const magicWord = data[0];
  if (magicWord !== DDS_MAGIC) {
    throw new Error("Invalid DDS file magic word");
  }
  const header = new Uint32Array(arrayBuffer, 0, DDS_HEADER_SIZE / Uint32Array.BYTES_PER_ELEMENT);
  const height = header[DDS_FIELDS.HEIGHT];
  const width = header[DDS_FIELDS.WIDTH];
  const mipmapCount = header[DDS_FIELDS.MIPMAP_COUNT];
  const pixelFormat = new Uint32Array(arrayBuffer, DDS_FIELDS.PIXEL_FORMAT * Uint32Array.BYTES_PER_ELEMENT, DDS_HEADER_PF_SIZE / Uint32Array.BYTES_PER_ELEMENT);
  const formatFlags = pixelFormat[PF_FLAGS];
  if (formatFlags & DDPF_FOURCC) {
    const fourCC = pixelFormat[DDS_PF_FIELDS.FOURCC];
    if (fourCC !== FOURCC_DX10) {
      const internalFormat2 = FOURCC_TO_FORMAT[fourCC];
      const dataOffset2 = DDS_MAGIC_SIZE + DDS_HEADER_SIZE;
      const texData = new Uint8Array(arrayBuffer, dataOffset2);
      const resource = new _resources_CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_2__.CompressedTextureResource(texData, {
        format: internalFormat2,
        width,
        height,
        levels: mipmapCount
      });
      return [resource];
    }
    const dx10Offset = DDS_MAGIC_SIZE + DDS_HEADER_SIZE;
    const dx10Header = new Uint32Array(data.buffer, dx10Offset, DDS_HEADER_DX10_SIZE / Uint32Array.BYTES_PER_ELEMENT);
    const dxgiFormat = dx10Header[DDS_DX10_FIELDS.DXGI_FORMAT];
    const resourceDimension = dx10Header[DDS_DX10_FIELDS.RESOURCE_DIMENSION];
    const miscFlag = dx10Header[DDS_DX10_FIELDS.MISC_FLAG];
    const arraySize = dx10Header[DDS_DX10_FIELDS.ARRAY_SIZE];
    const internalFormat = DXGI_TO_FORMAT[dxgiFormat];
    if (internalFormat === void 0) {
      throw new Error(`DDSParser cannot parse texture data with DXGI format ${dxgiFormat}`);
    }
    if (miscFlag === DDS_RESOURCE_MISC_TEXTURECUBE) {
      throw new Error("DDSParser does not support cubemap textures");
    }
    if (resourceDimension === 6 /* DDS_DIMENSION_TEXTURE3D */) {
      throw new Error("DDSParser does not supported 3D texture data");
    }
    const imageBuffers = new Array();
    const dataOffset = DDS_MAGIC_SIZE + DDS_HEADER_SIZE + DDS_HEADER_DX10_SIZE;
    if (arraySize === 1) {
      imageBuffers.push(new Uint8Array(arrayBuffer, dataOffset));
    } else {
      const pixelSize = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[internalFormat];
      let imageSize = 0;
      let levelWidth = width;
      let levelHeight = height;
      for (let i = 0; i < mipmapCount; i++) {
        const alignedLevelWidth = Math.max(1, levelWidth + 3 & ~3);
        const alignedLevelHeight = Math.max(1, levelHeight + 3 & ~3);
        const levelSize = alignedLevelWidth * alignedLevelHeight * pixelSize;
        imageSize += levelSize;
        levelWidth = levelWidth >>> 1;
        levelHeight = levelHeight >>> 1;
      }
      let imageOffset = dataOffset;
      for (let i = 0; i < arraySize; i++) {
        imageBuffers.push(new Uint8Array(arrayBuffer, imageOffset, imageSize));
        imageOffset += imageSize;
      }
    }
    return imageBuffers.map((buffer) => new _resources_CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_2__.CompressedTextureResource(buffer, {
      format: internalFormat,
      width,
      height,
      levels: mipmapCount
    }));
  }
  if (formatFlags & DDPF_RGB) {
    throw new Error("DDSParser does not support uncompressed texture data.");
  }
  if (formatFlags & DDPF_YUV) {
    throw new Error("DDSParser does not supported YUV uncompressed texture data.");
  }
  if (formatFlags & DDPF_LUMINANCE) {
    throw new Error("DDSParser does not support single-channel (lumninance) texture data!");
  }
  if (formatFlags & DDPF_ALPHA) {
    throw new Error("DDSParser does not support single-channel (alpha) texture data!");
  }
  throw new Error("DDSParser failed to load a texture file due to an unknown reason!");
}


//# sourceMappingURL=parseDDS.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/parsers/parseKTX.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/parsers/parseKTX.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FORMATS_TO_COMPONENTS: () => (/* binding */ FORMATS_TO_COMPONENTS),
/* harmony export */   TYPES_TO_BYTES_PER_COMPONENT: () => (/* binding */ TYPES_TO_BYTES_PER_COMPONENT),
/* harmony export */   TYPES_TO_BYTES_PER_PIXEL: () => (/* binding */ TYPES_TO_BYTES_PER_PIXEL),
/* harmony export */   parseKTX: () => (/* binding */ parseKTX)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/compressed-textures/lib/const.mjs");
/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../resources/index.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/index.mjs");
/* harmony import */ var _resources_CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../resources/CompressedTextureResource.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/CompressedTextureResource.mjs");





const FILE_IDENTIFIER = [171, 75, 84, 88, 32, 49, 49, 187, 13, 10, 26, 10];
const ENDIANNESS = 67305985;
const KTX_FIELDS = {
  FILE_IDENTIFIER: 0,
  ENDIANNESS: 12,
  GL_TYPE: 16,
  GL_TYPE_SIZE: 20,
  GL_FORMAT: 24,
  GL_INTERNAL_FORMAT: 28,
  GL_BASE_INTERNAL_FORMAT: 32,
  PIXEL_WIDTH: 36,
  PIXEL_HEIGHT: 40,
  PIXEL_DEPTH: 44,
  NUMBER_OF_ARRAY_ELEMENTS: 48,
  NUMBER_OF_FACES: 52,
  NUMBER_OF_MIPMAP_LEVELS: 56,
  BYTES_OF_KEY_VALUE_DATA: 60
};
const FILE_HEADER_SIZE = 64;
const TYPES_TO_BYTES_PER_COMPONENT = {
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE]: 1,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT]: 2,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.INT]: 4,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_INT]: 4,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT]: 4,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.HALF_FLOAT]: 8
};
const FORMATS_TO_COMPONENTS = {
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: 4,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: 3,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG]: 2,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED]: 1,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.LUMINANCE]: 1,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.LUMINANCE_ALPHA]: 2,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.ALPHA]: 1
};
const TYPES_TO_BYTES_PER_PIXEL = {
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_4_4_4_4]: 2,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_5_5_5_1]: 2,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_5_6_5]: 2
};
function parseKTX(url, arrayBuffer, loadKeyValueData = false) {
  const dataView = new DataView(arrayBuffer);
  if (!validate(url, dataView)) {
    return null;
  }
  const littleEndian = dataView.getUint32(KTX_FIELDS.ENDIANNESS, true) === ENDIANNESS;
  const glType = dataView.getUint32(KTX_FIELDS.GL_TYPE, littleEndian);
  const glFormat = dataView.getUint32(KTX_FIELDS.GL_FORMAT, littleEndian);
  const glInternalFormat = dataView.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT, littleEndian);
  const pixelWidth = dataView.getUint32(KTX_FIELDS.PIXEL_WIDTH, littleEndian);
  const pixelHeight = dataView.getUint32(KTX_FIELDS.PIXEL_HEIGHT, littleEndian) || 1;
  const pixelDepth = dataView.getUint32(KTX_FIELDS.PIXEL_DEPTH, littleEndian) || 1;
  const numberOfArrayElements = dataView.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS, littleEndian) || 1;
  const numberOfFaces = dataView.getUint32(KTX_FIELDS.NUMBER_OF_FACES, littleEndian);
  const numberOfMipmapLevels = dataView.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS, littleEndian);
  const bytesOfKeyValueData = dataView.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA, littleEndian);
  if (pixelHeight === 0 || pixelDepth !== 1) {
    throw new Error("Only 2D textures are supported");
  }
  if (numberOfFaces !== 1) {
    throw new Error("CubeTextures are not supported by KTXLoader yet!");
  }
  if (numberOfArrayElements !== 1) {
    throw new Error("WebGL does not support array textures");
  }
  const blockWidth = 4;
  const blockHeight = 4;
  const alignedWidth = pixelWidth + 3 & ~3;
  const alignedHeight = pixelHeight + 3 & ~3;
  const imageBuffers = new Array(numberOfArrayElements);
  let imagePixels = pixelWidth * pixelHeight;
  if (glType === 0) {
    imagePixels = alignedWidth * alignedHeight;
  }
  let imagePixelByteSize;
  if (glType !== 0) {
    if (TYPES_TO_BYTES_PER_COMPONENT[glType]) {
      imagePixelByteSize = TYPES_TO_BYTES_PER_COMPONENT[glType] * FORMATS_TO_COMPONENTS[glFormat];
    } else {
      imagePixelByteSize = TYPES_TO_BYTES_PER_PIXEL[glType];
    }
  } else {
    imagePixelByteSize = _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[glInternalFormat];
  }
  if (imagePixelByteSize === void 0) {
    throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");
  }
  const kvData = loadKeyValueData ? parseKvData(dataView, bytesOfKeyValueData, littleEndian) : null;
  const imageByteSize = imagePixels * imagePixelByteSize;
  let mipByteSize = imageByteSize;
  let mipWidth = pixelWidth;
  let mipHeight = pixelHeight;
  let alignedMipWidth = alignedWidth;
  let alignedMipHeight = alignedHeight;
  let imageOffset = FILE_HEADER_SIZE + bytesOfKeyValueData;
  for (let mipmapLevel = 0; mipmapLevel < numberOfMipmapLevels; mipmapLevel++) {
    const imageSize = dataView.getUint32(imageOffset, littleEndian);
    let elementOffset = imageOffset + 4;
    for (let arrayElement = 0; arrayElement < numberOfArrayElements; arrayElement++) {
      let mips = imageBuffers[arrayElement];
      if (!mips) {
        mips = imageBuffers[arrayElement] = new Array(numberOfMipmapLevels);
      }
      mips[mipmapLevel] = {
        levelID: mipmapLevel,
        levelWidth: numberOfMipmapLevels > 1 || glType !== 0 ? mipWidth : alignedMipWidth,
        levelHeight: numberOfMipmapLevels > 1 || glType !== 0 ? mipHeight : alignedMipHeight,
        levelBuffer: new Uint8Array(arrayBuffer, elementOffset, mipByteSize)
      };
      elementOffset += mipByteSize;
    }
    imageOffset += imageSize + 4;
    imageOffset = imageOffset % 4 !== 0 ? imageOffset + 4 - imageOffset % 4 : imageOffset;
    mipWidth = mipWidth >> 1 || 1;
    mipHeight = mipHeight >> 1 || 1;
    alignedMipWidth = mipWidth + blockWidth - 1 & ~(blockWidth - 1);
    alignedMipHeight = mipHeight + blockHeight - 1 & ~(blockHeight - 1);
    mipByteSize = alignedMipWidth * alignedMipHeight * imagePixelByteSize;
  }
  if (glType !== 0) {
    return {
      uncompressed: imageBuffers.map((levelBuffers) => {
        let buffer = levelBuffers[0].levelBuffer;
        let convertToInt = false;
        if (glType === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT) {
          buffer = new Float32Array(levelBuffers[0].levelBuffer.buffer, levelBuffers[0].levelBuffer.byteOffset, levelBuffers[0].levelBuffer.byteLength / 4);
        } else if (glType === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_INT) {
          convertToInt = true;
          buffer = new Uint32Array(levelBuffers[0].levelBuffer.buffer, levelBuffers[0].levelBuffer.byteOffset, levelBuffers[0].levelBuffer.byteLength / 4);
        } else if (glType === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.INT) {
          convertToInt = true;
          buffer = new Int32Array(levelBuffers[0].levelBuffer.buffer, levelBuffers[0].levelBuffer.byteOffset, levelBuffers[0].levelBuffer.byteLength / 4);
        }
        return {
          resource: new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BufferResource(buffer, {
            width: levelBuffers[0].levelWidth,
            height: levelBuffers[0].levelHeight
          }),
          type: glType,
          format: convertToInt ? convertFormatToInteger(glFormat) : glFormat
        };
      }),
      kvData
    };
  }
  return {
    compressed: imageBuffers.map((levelBuffers) => new _resources_CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_3__.CompressedTextureResource(null, {
      format: glInternalFormat,
      width: pixelWidth,
      height: pixelHeight,
      levels: numberOfMipmapLevels,
      levelBuffers
    })),
    kvData
  };
}
function validate(url, dataView) {
  for (let i = 0; i < FILE_IDENTIFIER.length; i++) {
    if (dataView.getUint8(i) !== FILE_IDENTIFIER[i]) {
      console.error(`${url} is not a valid *.ktx file!`);
      return false;
    }
  }
  return true;
}
function convertFormatToInteger(format) {
  switch (format) {
    case _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA:
      return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER;
    case _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB:
      return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB_INTEGER;
    case _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG:
      return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG_INTEGER;
    case _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED:
      return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED_INTEGER;
    default:
      return format;
  }
}
function parseKvData(dataView, bytesOfKeyValueData, littleEndian) {
  const kvData = /* @__PURE__ */ new Map();
  let bytesIntoKeyValueData = 0;
  while (bytesIntoKeyValueData < bytesOfKeyValueData) {
    const keyAndValueByteSize = dataView.getUint32(FILE_HEADER_SIZE + bytesIntoKeyValueData, littleEndian);
    const keyAndValueByteOffset = FILE_HEADER_SIZE + bytesIntoKeyValueData + 4;
    const valuePadding = 3 - (keyAndValueByteSize + 3) % 4;
    if (keyAndValueByteSize === 0 || keyAndValueByteSize > bytesOfKeyValueData - bytesIntoKeyValueData) {
      console.error("KTXLoader: keyAndValueByteSize out of bounds");
      break;
    }
    let keyNulByte = 0;
    for (; keyNulByte < keyAndValueByteSize; keyNulByte++) {
      if (dataView.getUint8(keyAndValueByteOffset + keyNulByte) === 0) {
        break;
      }
    }
    if (keyNulByte === -1) {
      console.error("KTXLoader: Failed to find null byte terminating kvData key");
      break;
    }
    const key = new TextDecoder().decode(new Uint8Array(dataView.buffer, keyAndValueByteOffset, keyNulByte));
    const value = new DataView(dataView.buffer, keyAndValueByteOffset + keyNulByte + 1, keyAndValueByteSize - keyNulByte - 1);
    kvData.set(key, value);
    bytesIntoKeyValueData += 4 + keyAndValueByteSize + valuePadding;
  }
  return kvData;
}


//# sourceMappingURL=parseKTX.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/resources/BlobResource.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/resources/BlobResource.mjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlobResource: () => (/* binding */ BlobResource)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


class BlobResource extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BufferResource {
  constructor(source, options = { width: 1, height: 1, autoLoad: true }) {
    let origin;
    let data;
    if (typeof source === "string") {
      origin = source;
      data = new Uint8Array();
    } else {
      origin = null;
      data = source;
    }
    super(data, options);
    this.origin = origin;
    this.buffer = data ? new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ViewableBuffer(data) : null;
    this._load = null;
    this.loaded = false;
    if (this.origin !== null && options.autoLoad !== false) {
      this.load();
    }
    if (this.origin === null && this.buffer) {
      this._load = Promise.resolve(this);
      this.loaded = true;
      this.onBlobLoaded(this.buffer.rawBinaryData);
    }
  }
  onBlobLoaded(_data) {
  }
  load() {
    if (this._load) {
      return this._load;
    }
    this._load = fetch(this.origin).then((response) => response.blob()).then((blob) => blob.arrayBuffer()).then((arrayBuffer) => {
      this.data = new Uint32Array(arrayBuffer);
      this.buffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ViewableBuffer(arrayBuffer);
      this.loaded = true;
      this.onBlobLoaded(arrayBuffer);
      this.update();
      return this;
    });
    return this._load;
  }
}


//# sourceMappingURL=BlobResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/resources/CompressedTextureResource.mjs":
/*!********************************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/resources/CompressedTextureResource.mjs ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CompressedTextureResource: () => (/* binding */ CompressedTextureResource)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/compressed-textures/lib/const.mjs");
/* harmony import */ var _BlobResource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BlobResource.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/BlobResource.mjs");



class CompressedTextureResource extends _BlobResource_mjs__WEBPACK_IMPORTED_MODULE_1__.BlobResource {
  constructor(source, options) {
    super(source, options);
    this.format = options.format;
    this.levels = options.levels || 1;
    this._width = options.width;
    this._height = options.height;
    this._extension = CompressedTextureResource._formatToExtension(this.format);
    if (options.levelBuffers || this.buffer) {
      this._levelBuffers = options.levelBuffers || CompressedTextureResource._createLevelBuffers(source instanceof Uint8Array ? source : this.buffer.uint8View, this.format, this.levels, 4, 4, this.width, this.height);
    }
  }
  upload(renderer, _texture, _glTexture) {
    const gl = renderer.gl;
    const extension = renderer.context.extensions[this._extension];
    if (!extension) {
      throw new Error(`${this._extension} textures are not supported on the current machine`);
    }
    if (!this._levelBuffers) {
      return false;
    }
    for (let i = 0, j = this.levels; i < j; i++) {
      const { levelID, levelWidth, levelHeight, levelBuffer } = this._levelBuffers[i];
      gl.compressedTexImage2D(gl.TEXTURE_2D, levelID, this.format, levelWidth, levelHeight, 0, levelBuffer);
    }
    return true;
  }
  onBlobLoaded() {
    this._levelBuffers = CompressedTextureResource._createLevelBuffers(this.buffer.uint8View, this.format, this.levels, 4, 4, this.width, this.height);
  }
  static _formatToExtension(format) {
    if (format >= 33776 && format <= 33779) {
      return "s3tc";
    } else if (format >= 37488 && format <= 37497) {
      return "etc";
    } else if (format >= 35840 && format <= 35843) {
      return "pvrtc";
    } else if (format >= 36196) {
      return "etc1";
    } else if (format >= 35986 && format <= 34798) {
      return "atc";
    }
    throw new Error("Invalid (compressed) texture format given!");
  }
  static _createLevelBuffers(buffer, format, levels, blockWidth, blockHeight, imageWidth, imageHeight) {
    const buffers = new Array(levels);
    let offset = buffer.byteOffset;
    let levelWidth = imageWidth;
    let levelHeight = imageHeight;
    let alignedLevelWidth = levelWidth + blockWidth - 1 & ~(blockWidth - 1);
    let alignedLevelHeight = levelHeight + blockHeight - 1 & ~(blockHeight - 1);
    let levelSize = alignedLevelWidth * alignedLevelHeight * _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[format];
    for (let i = 0; i < levels; i++) {
      buffers[i] = {
        levelID: i,
        levelWidth: levels > 1 ? levelWidth : alignedLevelWidth,
        levelHeight: levels > 1 ? levelHeight : alignedLevelHeight,
        levelBuffer: new Uint8Array(buffer.buffer, offset, levelSize)
      };
      offset += levelSize;
      levelWidth = levelWidth >> 1 || 1;
      levelHeight = levelHeight >> 1 || 1;
      alignedLevelWidth = levelWidth + blockWidth - 1 & ~(blockWidth - 1);
      alignedLevelHeight = levelHeight + blockHeight - 1 & ~(blockHeight - 1);
      levelSize = alignedLevelWidth * alignedLevelHeight * _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[format];
    }
    return buffers;
  }
}


//# sourceMappingURL=CompressedTextureResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/resources/index.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/resources/index.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlobResource: () => (/* reexport safe */ _BlobResource_mjs__WEBPACK_IMPORTED_MODULE_0__.BlobResource),
/* harmony export */   CompressedTextureResource: () => (/* reexport safe */ _CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_1__.CompressedTextureResource)
/* harmony export */ });
/* harmony import */ var _BlobResource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BlobResource.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/BlobResource.mjs");
/* harmony import */ var _CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CompressedTextureResource.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/CompressedTextureResource.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/constants/lib/index.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/constants/lib/index.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ALPHA_MODES: () => (/* binding */ ALPHA_MODES),
/* harmony export */   BLEND_MODES: () => (/* binding */ BLEND_MODES),
/* harmony export */   BUFFER_BITS: () => (/* binding */ BUFFER_BITS),
/* harmony export */   BUFFER_TYPE: () => (/* binding */ BUFFER_TYPE),
/* harmony export */   CLEAR_MODES: () => (/* binding */ CLEAR_MODES),
/* harmony export */   COLOR_MASK_BITS: () => (/* binding */ COLOR_MASK_BITS),
/* harmony export */   DRAW_MODES: () => (/* binding */ DRAW_MODES),
/* harmony export */   ENV: () => (/* binding */ ENV),
/* harmony export */   FORMATS: () => (/* binding */ FORMATS),
/* harmony export */   GC_MODES: () => (/* binding */ GC_MODES),
/* harmony export */   MASK_TYPES: () => (/* binding */ MASK_TYPES),
/* harmony export */   MIPMAP_MODES: () => (/* binding */ MIPMAP_MODES),
/* harmony export */   MSAA_QUALITY: () => (/* binding */ MSAA_QUALITY),
/* harmony export */   PRECISION: () => (/* binding */ PRECISION),
/* harmony export */   RENDERER_TYPE: () => (/* binding */ RENDERER_TYPE),
/* harmony export */   SAMPLER_TYPES: () => (/* binding */ SAMPLER_TYPES),
/* harmony export */   SCALE_MODES: () => (/* binding */ SCALE_MODES),
/* harmony export */   TARGETS: () => (/* binding */ TARGETS),
/* harmony export */   TYPES: () => (/* binding */ TYPES),
/* harmony export */   WRAP_MODES: () => (/* binding */ WRAP_MODES)
/* harmony export */ });
var ENV = /* @__PURE__ */ ((ENV2) => {
  ENV2[ENV2["WEBGL_LEGACY"] = 0] = "WEBGL_LEGACY";
  ENV2[ENV2["WEBGL"] = 1] = "WEBGL";
  ENV2[ENV2["WEBGL2"] = 2] = "WEBGL2";
  return ENV2;
})(ENV || {});
var RENDERER_TYPE = /* @__PURE__ */ ((RENDERER_TYPE2) => {
  RENDERER_TYPE2[RENDERER_TYPE2["UNKNOWN"] = 0] = "UNKNOWN";
  RENDERER_TYPE2[RENDERER_TYPE2["WEBGL"] = 1] = "WEBGL";
  RENDERER_TYPE2[RENDERER_TYPE2["CANVAS"] = 2] = "CANVAS";
  return RENDERER_TYPE2;
})(RENDERER_TYPE || {});
var BUFFER_BITS = /* @__PURE__ */ ((BUFFER_BITS2) => {
  BUFFER_BITS2[BUFFER_BITS2["COLOR"] = 16384] = "COLOR";
  BUFFER_BITS2[BUFFER_BITS2["DEPTH"] = 256] = "DEPTH";
  BUFFER_BITS2[BUFFER_BITS2["STENCIL"] = 1024] = "STENCIL";
  return BUFFER_BITS2;
})(BUFFER_BITS || {});
var BLEND_MODES = /* @__PURE__ */ ((BLEND_MODES2) => {
  BLEND_MODES2[BLEND_MODES2["NORMAL"] = 0] = "NORMAL";
  BLEND_MODES2[BLEND_MODES2["ADD"] = 1] = "ADD";
  BLEND_MODES2[BLEND_MODES2["MULTIPLY"] = 2] = "MULTIPLY";
  BLEND_MODES2[BLEND_MODES2["SCREEN"] = 3] = "SCREEN";
  BLEND_MODES2[BLEND_MODES2["OVERLAY"] = 4] = "OVERLAY";
  BLEND_MODES2[BLEND_MODES2["DARKEN"] = 5] = "DARKEN";
  BLEND_MODES2[BLEND_MODES2["LIGHTEN"] = 6] = "LIGHTEN";
  BLEND_MODES2[BLEND_MODES2["COLOR_DODGE"] = 7] = "COLOR_DODGE";
  BLEND_MODES2[BLEND_MODES2["COLOR_BURN"] = 8] = "COLOR_BURN";
  BLEND_MODES2[BLEND_MODES2["HARD_LIGHT"] = 9] = "HARD_LIGHT";
  BLEND_MODES2[BLEND_MODES2["SOFT_LIGHT"] = 10] = "SOFT_LIGHT";
  BLEND_MODES2[BLEND_MODES2["DIFFERENCE"] = 11] = "DIFFERENCE";
  BLEND_MODES2[BLEND_MODES2["EXCLUSION"] = 12] = "EXCLUSION";
  BLEND_MODES2[BLEND_MODES2["HUE"] = 13] = "HUE";
  BLEND_MODES2[BLEND_MODES2["SATURATION"] = 14] = "SATURATION";
  BLEND_MODES2[BLEND_MODES2["COLOR"] = 15] = "COLOR";
  BLEND_MODES2[BLEND_MODES2["LUMINOSITY"] = 16] = "LUMINOSITY";
  BLEND_MODES2[BLEND_MODES2["NORMAL_NPM"] = 17] = "NORMAL_NPM";
  BLEND_MODES2[BLEND_MODES2["ADD_NPM"] = 18] = "ADD_NPM";
  BLEND_MODES2[BLEND_MODES2["SCREEN_NPM"] = 19] = "SCREEN_NPM";
  BLEND_MODES2[BLEND_MODES2["NONE"] = 20] = "NONE";
  BLEND_MODES2[BLEND_MODES2["SRC_OVER"] = 0] = "SRC_OVER";
  BLEND_MODES2[BLEND_MODES2["SRC_IN"] = 21] = "SRC_IN";
  BLEND_MODES2[BLEND_MODES2["SRC_OUT"] = 22] = "SRC_OUT";
  BLEND_MODES2[BLEND_MODES2["SRC_ATOP"] = 23] = "SRC_ATOP";
  BLEND_MODES2[BLEND_MODES2["DST_OVER"] = 24] = "DST_OVER";
  BLEND_MODES2[BLEND_MODES2["DST_IN"] = 25] = "DST_IN";
  BLEND_MODES2[BLEND_MODES2["DST_OUT"] = 26] = "DST_OUT";
  BLEND_MODES2[BLEND_MODES2["DST_ATOP"] = 27] = "DST_ATOP";
  BLEND_MODES2[BLEND_MODES2["ERASE"] = 26] = "ERASE";
  BLEND_MODES2[BLEND_MODES2["SUBTRACT"] = 28] = "SUBTRACT";
  BLEND_MODES2[BLEND_MODES2["XOR"] = 29] = "XOR";
  return BLEND_MODES2;
})(BLEND_MODES || {});
var DRAW_MODES = /* @__PURE__ */ ((DRAW_MODES2) => {
  DRAW_MODES2[DRAW_MODES2["POINTS"] = 0] = "POINTS";
  DRAW_MODES2[DRAW_MODES2["LINES"] = 1] = "LINES";
  DRAW_MODES2[DRAW_MODES2["LINE_LOOP"] = 2] = "LINE_LOOP";
  DRAW_MODES2[DRAW_MODES2["LINE_STRIP"] = 3] = "LINE_STRIP";
  DRAW_MODES2[DRAW_MODES2["TRIANGLES"] = 4] = "TRIANGLES";
  DRAW_MODES2[DRAW_MODES2["TRIANGLE_STRIP"] = 5] = "TRIANGLE_STRIP";
  DRAW_MODES2[DRAW_MODES2["TRIANGLE_FAN"] = 6] = "TRIANGLE_FAN";
  return DRAW_MODES2;
})(DRAW_MODES || {});
var FORMATS = /* @__PURE__ */ ((FORMATS2) => {
  FORMATS2[FORMATS2["RGBA"] = 6408] = "RGBA";
  FORMATS2[FORMATS2["RGB"] = 6407] = "RGB";
  FORMATS2[FORMATS2["RG"] = 33319] = "RG";
  FORMATS2[FORMATS2["RED"] = 6403] = "RED";
  FORMATS2[FORMATS2["RGBA_INTEGER"] = 36249] = "RGBA_INTEGER";
  FORMATS2[FORMATS2["RGB_INTEGER"] = 36248] = "RGB_INTEGER";
  FORMATS2[FORMATS2["RG_INTEGER"] = 33320] = "RG_INTEGER";
  FORMATS2[FORMATS2["RED_INTEGER"] = 36244] = "RED_INTEGER";
  FORMATS2[FORMATS2["ALPHA"] = 6406] = "ALPHA";
  FORMATS2[FORMATS2["LUMINANCE"] = 6409] = "LUMINANCE";
  FORMATS2[FORMATS2["LUMINANCE_ALPHA"] = 6410] = "LUMINANCE_ALPHA";
  FORMATS2[FORMATS2["DEPTH_COMPONENT"] = 6402] = "DEPTH_COMPONENT";
  FORMATS2[FORMATS2["DEPTH_STENCIL"] = 34041] = "DEPTH_STENCIL";
  return FORMATS2;
})(FORMATS || {});
var TARGETS = /* @__PURE__ */ ((TARGETS2) => {
  TARGETS2[TARGETS2["TEXTURE_2D"] = 3553] = "TEXTURE_2D";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP"] = 34067] = "TEXTURE_CUBE_MAP";
  TARGETS2[TARGETS2["TEXTURE_2D_ARRAY"] = 35866] = "TEXTURE_2D_ARRAY";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_POSITIVE_X"] = 34069] = "TEXTURE_CUBE_MAP_POSITIVE_X";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_NEGATIVE_X"] = 34070] = "TEXTURE_CUBE_MAP_NEGATIVE_X";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_POSITIVE_Y"] = 34071] = "TEXTURE_CUBE_MAP_POSITIVE_Y";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_NEGATIVE_Y"] = 34072] = "TEXTURE_CUBE_MAP_NEGATIVE_Y";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_POSITIVE_Z"] = 34073] = "TEXTURE_CUBE_MAP_POSITIVE_Z";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_NEGATIVE_Z"] = 34074] = "TEXTURE_CUBE_MAP_NEGATIVE_Z";
  return TARGETS2;
})(TARGETS || {});
var TYPES = /* @__PURE__ */ ((TYPES2) => {
  TYPES2[TYPES2["UNSIGNED_BYTE"] = 5121] = "UNSIGNED_BYTE";
  TYPES2[TYPES2["UNSIGNED_SHORT"] = 5123] = "UNSIGNED_SHORT";
  TYPES2[TYPES2["UNSIGNED_SHORT_5_6_5"] = 33635] = "UNSIGNED_SHORT_5_6_5";
  TYPES2[TYPES2["UNSIGNED_SHORT_4_4_4_4"] = 32819] = "UNSIGNED_SHORT_4_4_4_4";
  TYPES2[TYPES2["UNSIGNED_SHORT_5_5_5_1"] = 32820] = "UNSIGNED_SHORT_5_5_5_1";
  TYPES2[TYPES2["UNSIGNED_INT"] = 5125] = "UNSIGNED_INT";
  TYPES2[TYPES2["UNSIGNED_INT_10F_11F_11F_REV"] = 35899] = "UNSIGNED_INT_10F_11F_11F_REV";
  TYPES2[TYPES2["UNSIGNED_INT_2_10_10_10_REV"] = 33640] = "UNSIGNED_INT_2_10_10_10_REV";
  TYPES2[TYPES2["UNSIGNED_INT_24_8"] = 34042] = "UNSIGNED_INT_24_8";
  TYPES2[TYPES2["UNSIGNED_INT_5_9_9_9_REV"] = 35902] = "UNSIGNED_INT_5_9_9_9_REV";
  TYPES2[TYPES2["BYTE"] = 5120] = "BYTE";
  TYPES2[TYPES2["SHORT"] = 5122] = "SHORT";
  TYPES2[TYPES2["INT"] = 5124] = "INT";
  TYPES2[TYPES2["FLOAT"] = 5126] = "FLOAT";
  TYPES2[TYPES2["FLOAT_32_UNSIGNED_INT_24_8_REV"] = 36269] = "FLOAT_32_UNSIGNED_INT_24_8_REV";
  TYPES2[TYPES2["HALF_FLOAT"] = 36193] = "HALF_FLOAT";
  return TYPES2;
})(TYPES || {});
var SAMPLER_TYPES = /* @__PURE__ */ ((SAMPLER_TYPES2) => {
  SAMPLER_TYPES2[SAMPLER_TYPES2["FLOAT"] = 0] = "FLOAT";
  SAMPLER_TYPES2[SAMPLER_TYPES2["INT"] = 1] = "INT";
  SAMPLER_TYPES2[SAMPLER_TYPES2["UINT"] = 2] = "UINT";
  return SAMPLER_TYPES2;
})(SAMPLER_TYPES || {});
var SCALE_MODES = /* @__PURE__ */ ((SCALE_MODES2) => {
  SCALE_MODES2[SCALE_MODES2["NEAREST"] = 0] = "NEAREST";
  SCALE_MODES2[SCALE_MODES2["LINEAR"] = 1] = "LINEAR";
  return SCALE_MODES2;
})(SCALE_MODES || {});
var WRAP_MODES = /* @__PURE__ */ ((WRAP_MODES2) => {
  WRAP_MODES2[WRAP_MODES2["CLAMP"] = 33071] = "CLAMP";
  WRAP_MODES2[WRAP_MODES2["REPEAT"] = 10497] = "REPEAT";
  WRAP_MODES2[WRAP_MODES2["MIRRORED_REPEAT"] = 33648] = "MIRRORED_REPEAT";
  return WRAP_MODES2;
})(WRAP_MODES || {});
var MIPMAP_MODES = /* @__PURE__ */ ((MIPMAP_MODES2) => {
  MIPMAP_MODES2[MIPMAP_MODES2["OFF"] = 0] = "OFF";
  MIPMAP_MODES2[MIPMAP_MODES2["POW2"] = 1] = "POW2";
  MIPMAP_MODES2[MIPMAP_MODES2["ON"] = 2] = "ON";
  MIPMAP_MODES2[MIPMAP_MODES2["ON_MANUAL"] = 3] = "ON_MANUAL";
  return MIPMAP_MODES2;
})(MIPMAP_MODES || {});
var ALPHA_MODES = /* @__PURE__ */ ((ALPHA_MODES2) => {
  ALPHA_MODES2[ALPHA_MODES2["NPM"] = 0] = "NPM";
  ALPHA_MODES2[ALPHA_MODES2["UNPACK"] = 1] = "UNPACK";
  ALPHA_MODES2[ALPHA_MODES2["PMA"] = 2] = "PMA";
  ALPHA_MODES2[ALPHA_MODES2["NO_PREMULTIPLIED_ALPHA"] = 0] = "NO_PREMULTIPLIED_ALPHA";
  ALPHA_MODES2[ALPHA_MODES2["PREMULTIPLY_ON_UPLOAD"] = 1] = "PREMULTIPLY_ON_UPLOAD";
  ALPHA_MODES2[ALPHA_MODES2["PREMULTIPLIED_ALPHA"] = 2] = "PREMULTIPLIED_ALPHA";
  return ALPHA_MODES2;
})(ALPHA_MODES || {});
var CLEAR_MODES = /* @__PURE__ */ ((CLEAR_MODES2) => {
  CLEAR_MODES2[CLEAR_MODES2["NO"] = 0] = "NO";
  CLEAR_MODES2[CLEAR_MODES2["YES"] = 1] = "YES";
  CLEAR_MODES2[CLEAR_MODES2["AUTO"] = 2] = "AUTO";
  CLEAR_MODES2[CLEAR_MODES2["BLEND"] = 0] = "BLEND";
  CLEAR_MODES2[CLEAR_MODES2["CLEAR"] = 1] = "CLEAR";
  CLEAR_MODES2[CLEAR_MODES2["BLIT"] = 2] = "BLIT";
  return CLEAR_MODES2;
})(CLEAR_MODES || {});
var GC_MODES = /* @__PURE__ */ ((GC_MODES2) => {
  GC_MODES2[GC_MODES2["AUTO"] = 0] = "AUTO";
  GC_MODES2[GC_MODES2["MANUAL"] = 1] = "MANUAL";
  return GC_MODES2;
})(GC_MODES || {});
var PRECISION = /* @__PURE__ */ ((PRECISION2) => {
  PRECISION2["LOW"] = "lowp";
  PRECISION2["MEDIUM"] = "mediump";
  PRECISION2["HIGH"] = "highp";
  return PRECISION2;
})(PRECISION || {});
var MASK_TYPES = /* @__PURE__ */ ((MASK_TYPES2) => {
  MASK_TYPES2[MASK_TYPES2["NONE"] = 0] = "NONE";
  MASK_TYPES2[MASK_TYPES2["SCISSOR"] = 1] = "SCISSOR";
  MASK_TYPES2[MASK_TYPES2["STENCIL"] = 2] = "STENCIL";
  MASK_TYPES2[MASK_TYPES2["SPRITE"] = 3] = "SPRITE";
  MASK_TYPES2[MASK_TYPES2["COLOR"] = 4] = "COLOR";
  return MASK_TYPES2;
})(MASK_TYPES || {});
var COLOR_MASK_BITS = /* @__PURE__ */ ((COLOR_MASK_BITS2) => {
  COLOR_MASK_BITS2[COLOR_MASK_BITS2["RED"] = 1] = "RED";
  COLOR_MASK_BITS2[COLOR_MASK_BITS2["GREEN"] = 2] = "GREEN";
  COLOR_MASK_BITS2[COLOR_MASK_BITS2["BLUE"] = 4] = "BLUE";
  COLOR_MASK_BITS2[COLOR_MASK_BITS2["ALPHA"] = 8] = "ALPHA";
  return COLOR_MASK_BITS2;
})(COLOR_MASK_BITS || {});
var MSAA_QUALITY = /* @__PURE__ */ ((MSAA_QUALITY2) => {
  MSAA_QUALITY2[MSAA_QUALITY2["NONE"] = 0] = "NONE";
  MSAA_QUALITY2[MSAA_QUALITY2["LOW"] = 2] = "LOW";
  MSAA_QUALITY2[MSAA_QUALITY2["MEDIUM"] = 4] = "MEDIUM";
  MSAA_QUALITY2[MSAA_QUALITY2["HIGH"] = 8] = "HIGH";
  return MSAA_QUALITY2;
})(MSAA_QUALITY || {});
var BUFFER_TYPE = /* @__PURE__ */ ((BUFFER_TYPE2) => {
  BUFFER_TYPE2[BUFFER_TYPE2["ELEMENT_ARRAY_BUFFER"] = 34963] = "ELEMENT_ARRAY_BUFFER";
  BUFFER_TYPE2[BUFFER_TYPE2["ARRAY_BUFFER"] = 34962] = "ARRAY_BUFFER";
  BUFFER_TYPE2[BUFFER_TYPE2["UNIFORM_BUFFER"] = 35345] = "UNIFORM_BUFFER";
  return BUFFER_TYPE2;
})(BUFFER_TYPE || {});


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/IRenderer.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/core/lib/IRenderer.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=IRenderer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/Renderer.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/core/lib/Renderer.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Renderer: () => (/* binding */ Renderer)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./shader/UniformGroup.mjs */ "./node_modules/@pixi/core/lib/shader/UniformGroup.mjs");
/* harmony import */ var _system_SystemManager_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./system/SystemManager.mjs */ "./node_modules/@pixi/core/lib/system/SystemManager.mjs");








const _Renderer = class extends _system_SystemManager_mjs__WEBPACK_IMPORTED_MODULE_6__.SystemManager {
  constructor(options) {
    super();
    this.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.RENDERER_TYPE.WEBGL;
    options = Object.assign({}, _pixi_settings__WEBPACK_IMPORTED_MODULE_3__.settings.RENDER_OPTIONS, options);
    this.gl = null;
    this.CONTEXT_UID = 0;
    this.globalUniforms = new _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_5__.UniformGroup({
      projectionMatrix: new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Matrix()
    }, true);
    const systemConfig = {
      runners: [
        "init",
        "destroy",
        "contextChange",
        "resolutionChange",
        "reset",
        "update",
        "postrender",
        "prerender",
        "resize"
      ],
      systems: _Renderer.__systems,
      priority: [
        "_view",
        "textureGenerator",
        "background",
        "_plugin",
        "startup",
        "context",
        "state",
        "texture",
        "buffer",
        "geometry",
        "framebuffer",
        "transformFeedback",
        "mask",
        "scissor",
        "stencil",
        "projection",
        "textureGC",
        "filter",
        "renderTexture",
        "batch",
        "objectRenderer",
        "_multisample"
      ]
    };
    this.setup(systemConfig);
    if ("useContextAlpha" in options) {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_4__.deprecation)("7.0.0", "options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead");
      options.premultipliedAlpha = options.useContextAlpha && options.useContextAlpha !== "notMultiplied";
      options.backgroundAlpha = options.useContextAlpha === false ? 1 : options.backgroundAlpha;
    }
    this._plugin.rendererPlugins = _Renderer.__plugins;
    this.options = options;
    this.startup.run(this.options);
  }
  static test(options) {
    if (options?.forceCanvas) {
      return false;
    }
    return (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_4__.isWebGLSupported)();
  }
  render(displayObject, options) {
    this.objectRenderer.render(displayObject, options);
  }
  resize(desiredScreenWidth, desiredScreenHeight) {
    this._view.resizeView(desiredScreenWidth, desiredScreenHeight);
  }
  reset() {
    this.runners.reset.emit();
    return this;
  }
  clear() {
    this.renderTexture.bind();
    this.renderTexture.clear();
  }
  destroy(removeView = false) {
    this.runners.destroy.items.reverse();
    this.emitWithCustomOptions(this.runners.destroy, {
      _view: removeView
    });
    super.destroy();
  }
  get plugins() {
    return this._plugin.plugins;
  }
  get multisample() {
    return this._multisample.multisample;
  }
  get width() {
    return this._view.element.width;
  }
  get height() {
    return this._view.element.height;
  }
  get resolution() {
    return this._view.resolution;
  }
  set resolution(value) {
    this._view.resolution = value;
    this.runners.resolutionChange.emit(value);
  }
  get autoDensity() {
    return this._view.autoDensity;
  }
  get view() {
    return this._view.element;
  }
  get screen() {
    return this._view.screen;
  }
  get lastObjectRendered() {
    return this.objectRenderer.lastObjectRendered;
  }
  get renderingToScreen() {
    return this.objectRenderer.renderingToScreen;
  }
  get rendererLogId() {
    return `WebGL ${this.context.webGLVersion}`;
  }
  get clearBeforeRender() {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_4__.deprecation)("7.0.0", "renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead.");
    return this.background.clearBeforeRender;
  }
  get useContextAlpha() {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_4__.deprecation)("7.0.0", "renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead.");
    return this.context.useContextAlpha;
  }
  get preserveDrawingBuffer() {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_4__.deprecation)("7.0.0", "renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context");
    return this.context.preserveDrawingBuffer;
  }
  get backgroundColor() {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_4__.deprecation)("7.0.0", "renderer.backgroundColor has been deprecated, use renderer.background.color instead.");
    return this.background.color;
  }
  set backgroundColor(value) {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_4__.deprecation)("7.0.0", "renderer.backgroundColor has been deprecated, use renderer.background.color instead.");
    this.background.color = value;
  }
  get backgroundAlpha() {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_4__.deprecation)("7.0.0", "renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead.");
    return this.background.alpha;
  }
  set backgroundAlpha(value) {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_4__.deprecation)("7.0.0", "renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead.");
    this.background.alpha = value;
  }
  get powerPreference() {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_4__.deprecation)("7.0.0", "renderer.powerPreference has been deprecated, we can only know this if pixi creates the context");
    return this.context.powerPreference;
  }
  generateTexture(displayObject, options) {
    return this.textureGenerator.generateTexture(displayObject, options);
  }
};
let Renderer = _Renderer;
Renderer.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.Renderer,
  priority: 1
};
Renderer.__plugins = {};
Renderer.__systems = {};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.handleByMap(_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererPlugin, Renderer.__plugins);
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.handleByMap(_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem, Renderer.__systems);
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(Renderer);


//# sourceMappingURL=Renderer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/autoDetectRenderer.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/autoDetectRenderer.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   autoDetectRenderer: () => (/* binding */ autoDetectRenderer)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");


const renderers = [];
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.handleByList(_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.Renderer, renderers);
function autoDetectRenderer(options) {
  for (const RendererType of renderers) {
    if (RendererType.test(options)) {
      return new RendererType(options);
    }
  }
  throw new Error("Unable to auto-detect a suitable renderer.");
}


//# sourceMappingURL=autoDetectRenderer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/background/BackgroundSystem.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/background/BackgroundSystem.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BackgroundSystem: () => (/* binding */ BackgroundSystem)
/* harmony export */ });
/* harmony import */ var _pixi_color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/color */ "./node_modules/@pixi/color/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");



class BackgroundSystem {
  constructor() {
    this.clearBeforeRender = true;
    this._backgroundColor = new _pixi_color__WEBPACK_IMPORTED_MODULE_0__.Color(0);
    this.alpha = 1;
  }
  init(options) {
    this.clearBeforeRender = options.clearBeforeRender;
    const { backgroundColor, background, backgroundAlpha } = options;
    const color = background ?? backgroundColor;
    if (color !== void 0) {
      this.color = color;
    }
    this.alpha = backgroundAlpha;
  }
  get color() {
    return this._backgroundColor.value;
  }
  set color(value) {
    this._backgroundColor.setValue(value);
  }
  get alpha() {
    return this._backgroundColor.alpha;
  }
  set alpha(value) {
    this._backgroundColor.setAlpha(value);
  }
  get backgroundColor() {
    return this._backgroundColor;
  }
  destroy() {
  }
}
BackgroundSystem.defaultOptions = {
  backgroundAlpha: 1,
  backgroundColor: 0,
  clearBeforeRender: true
};
BackgroundSystem.extension = {
  type: [
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.CanvasRendererSystem
  ],
  name: "background"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(BackgroundSystem);


//# sourceMappingURL=BackgroundSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/BatchDrawCall.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/BatchDrawCall.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BatchDrawCall: () => (/* binding */ BatchDrawCall)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


class BatchDrawCall {
  constructor() {
    this.texArray = null;
    this.blend = 0;
    this.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.DRAW_MODES.TRIANGLES;
    this.start = 0;
    this.size = 0;
    this.data = null;
  }
}


//# sourceMappingURL=BatchDrawCall.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/BatchGeometry.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/BatchGeometry.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BatchGeometry: () => (/* binding */ BatchGeometry)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../geometry/Buffer.mjs */ "./node_modules/@pixi/core/lib/geometry/Buffer.mjs");
/* harmony import */ var _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../geometry/Geometry.mjs */ "./node_modules/@pixi/core/lib/geometry/Geometry.mjs");




class BatchGeometry extends _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_2__.Geometry {
  constructor(_static = false) {
    super();
    this._buffer = new _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Buffer(null, _static, false);
    this._indexBuffer = new _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Buffer(null, _static, true);
    this.addAttribute("aVertexPosition", this._buffer, 2, false, _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT).addAttribute("aTextureCoord", this._buffer, 2, false, _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT).addAttribute("aColor", this._buffer, 4, true, _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId", this._buffer, 1, true, _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT).addIndex(this._indexBuffer);
  }
}


//# sourceMappingURL=BatchGeometry.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/BatchRenderer.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/BatchRenderer.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BatchRenderer: () => (/* binding */ BatchRenderer)
/* harmony export */ });
/* harmony import */ var _pixi_color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/color */ "./node_modules/@pixi/color/lib/index.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _geometry_ViewableBuffer_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../geometry/ViewableBuffer.mjs */ "./node_modules/@pixi/core/lib/geometry/ViewableBuffer.mjs");
/* harmony import */ var _shader_utils_checkMaxIfStatementsInShader_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shader/utils/checkMaxIfStatementsInShader.mjs */ "./node_modules/@pixi/core/lib/shader/utils/checkMaxIfStatementsInShader.mjs");
/* harmony import */ var _state_State_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../state/State.mjs */ "./node_modules/@pixi/core/lib/state/State.mjs");
/* harmony import */ var _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../textures/BaseTexture.mjs */ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs");
/* harmony import */ var _BatchDrawCall_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BatchDrawCall.mjs */ "./node_modules/@pixi/core/lib/batch/BatchDrawCall.mjs");
/* harmony import */ var _BatchGeometry_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./BatchGeometry.mjs */ "./node_modules/@pixi/core/lib/batch/BatchGeometry.mjs");
/* harmony import */ var _BatchShaderGenerator_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./BatchShaderGenerator.mjs */ "./node_modules/@pixi/core/lib/batch/BatchShaderGenerator.mjs");
/* harmony import */ var _BatchTextureArray_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./BatchTextureArray.mjs */ "./node_modules/@pixi/core/lib/batch/BatchTextureArray.mjs");
/* harmony import */ var _canUploadSameBuffer_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./canUploadSameBuffer.mjs */ "./node_modules/@pixi/core/lib/batch/canUploadSameBuffer.mjs");
/* harmony import */ var _maxRecommendedTextures_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./maxRecommendedTextures.mjs */ "./node_modules/@pixi/core/lib/batch/maxRecommendedTextures.mjs");
/* harmony import */ var _ObjectRenderer_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ObjectRenderer.mjs */ "./node_modules/@pixi/core/lib/batch/ObjectRenderer.mjs");
/* harmony import */ var _texture_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./texture.mjs */ "./node_modules/@pixi/core/lib/batch/texture.mjs");
/* harmony import */ var _texture2_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./texture2.mjs */ "./node_modules/@pixi/core/lib/batch/texture2.mjs");



















const _BatchRenderer = class extends _ObjectRenderer_mjs__WEBPACK_IMPORTED_MODULE_15__.ObjectRenderer {
  constructor(renderer) {
    super(renderer);
    this.setShaderGenerator();
    this.geometryClass = _BatchGeometry_mjs__WEBPACK_IMPORTED_MODULE_10__.BatchGeometry;
    this.vertexSize = 6;
    this.state = _state_State_mjs__WEBPACK_IMPORTED_MODULE_7__.State.for2d();
    this.size = _BatchRenderer.defaultBatchSize * 4;
    this._vertexCount = 0;
    this._indexCount = 0;
    this._bufferedElements = [];
    this._bufferedTextures = [];
    this._bufferSize = 0;
    this._shader = null;
    this._packedGeometries = [];
    this._packedGeometryPoolSize = 2;
    this._flushId = 0;
    this._aBuffers = {};
    this._iBuffers = {};
    this.maxTextures = 1;
    this.renderer.on("prerender", this.onPrerender, this);
    renderer.runners.contextChange.add(this);
    this._dcIndex = 0;
    this._aIndex = 0;
    this._iIndex = 0;
    this._attributeBuffer = null;
    this._indexBuffer = null;
    this._tempBoundTextures = [];
  }
  static get defaultMaxTextures() {
    this._defaultMaxTextures = this._defaultMaxTextures ?? (0,_maxRecommendedTextures_mjs__WEBPACK_IMPORTED_MODULE_14__.maxRecommendedTextures)(32);
    return this._defaultMaxTextures;
  }
  static set defaultMaxTextures(value) {
    this._defaultMaxTextures = value;
  }
  static get canUploadSameBuffer() {
    this._canUploadSameBuffer = this._canUploadSameBuffer ?? (0,_canUploadSameBuffer_mjs__WEBPACK_IMPORTED_MODULE_13__.canUploadSameBuffer)();
    return this._canUploadSameBuffer;
  }
  static set canUploadSameBuffer(value) {
    this._canUploadSameBuffer = value;
  }
  get MAX_TEXTURES() {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_4__.deprecation)("7.1.0", "BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures");
    return this.maxTextures;
  }
  static get defaultVertexSrc() {
    return _texture2_mjs__WEBPACK_IMPORTED_MODULE_17__["default"];
  }
  static get defaultFragmentTemplate() {
    return _texture_mjs__WEBPACK_IMPORTED_MODULE_16__["default"];
  }
  setShaderGenerator({
    vertex = _BatchRenderer.defaultVertexSrc,
    fragment = _BatchRenderer.defaultFragmentTemplate
  } = {}) {
    this.shaderGenerator = new _BatchShaderGenerator_mjs__WEBPACK_IMPORTED_MODULE_11__.BatchShaderGenerator(vertex, fragment);
  }
  contextChange() {
    const gl = this.renderer.gl;
    if (_pixi_settings__WEBPACK_IMPORTED_MODULE_3__.settings.PREFER_ENV === _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.ENV.WEBGL_LEGACY) {
      this.maxTextures = 1;
    } else {
      this.maxTextures = Math.min(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS), _BatchRenderer.defaultMaxTextures);
      this.maxTextures = (0,_shader_utils_checkMaxIfStatementsInShader_mjs__WEBPACK_IMPORTED_MODULE_6__.checkMaxIfStatementsInShader)(this.maxTextures, gl);
    }
    this._shader = this.shaderGenerator.generateShader(this.maxTextures);
    for (let i = 0; i < this._packedGeometryPoolSize; i++) {
      this._packedGeometries[i] = new this.geometryClass();
    }
    this.initFlushBuffers();
  }
  initFlushBuffers() {
    const {
      _drawCallPool,
      _textureArrayPool
    } = _BatchRenderer;
    const MAX_SPRITES = this.size / 4;
    const MAX_TA = Math.floor(MAX_SPRITES / this.maxTextures) + 1;
    while (_drawCallPool.length < MAX_SPRITES) {
      _drawCallPool.push(new _BatchDrawCall_mjs__WEBPACK_IMPORTED_MODULE_9__.BatchDrawCall());
    }
    while (_textureArrayPool.length < MAX_TA) {
      _textureArrayPool.push(new _BatchTextureArray_mjs__WEBPACK_IMPORTED_MODULE_12__.BatchTextureArray());
    }
    for (let i = 0; i < this.maxTextures; i++) {
      this._tempBoundTextures[i] = null;
    }
  }
  onPrerender() {
    this._flushId = 0;
  }
  render(element) {
    if (!element._texture.valid) {
      return;
    }
    if (this._vertexCount + element.vertexData.length / 2 > this.size) {
      this.flush();
    }
    this._vertexCount += element.vertexData.length / 2;
    this._indexCount += element.indices.length;
    this._bufferedTextures[this._bufferSize] = element._texture.baseTexture;
    this._bufferedElements[this._bufferSize++] = element;
  }
  buildTexturesAndDrawCalls() {
    const {
      _bufferedTextures: textures,
      maxTextures
    } = this;
    const textureArrays = _BatchRenderer._textureArrayPool;
    const batch = this.renderer.batch;
    const boundTextures = this._tempBoundTextures;
    const touch = this.renderer.textureGC.count;
    let TICK = ++_textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_8__.BaseTexture._globalBatch;
    let countTexArrays = 0;
    let texArray = textureArrays[0];
    let start = 0;
    batch.copyBoundTextures(boundTextures, maxTextures);
    for (let i = 0; i < this._bufferSize; ++i) {
      const tex = textures[i];
      textures[i] = null;
      if (tex._batchEnabled === TICK) {
        continue;
      }
      if (texArray.count >= maxTextures) {
        batch.boundArray(texArray, boundTextures, TICK, maxTextures);
        this.buildDrawCalls(texArray, start, i);
        start = i;
        texArray = textureArrays[++countTexArrays];
        ++TICK;
      }
      tex._batchEnabled = TICK;
      tex.touched = touch;
      texArray.elements[texArray.count++] = tex;
    }
    if (texArray.count > 0) {
      batch.boundArray(texArray, boundTextures, TICK, maxTextures);
      this.buildDrawCalls(texArray, start, this._bufferSize);
      ++countTexArrays;
      ++TICK;
    }
    for (let i = 0; i < boundTextures.length; i++) {
      boundTextures[i] = null;
    }
    _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_8__.BaseTexture._globalBatch = TICK;
  }
  buildDrawCalls(texArray, start, finish) {
    const {
      _bufferedElements: elements,
      _attributeBuffer,
      _indexBuffer,
      vertexSize
    } = this;
    const drawCalls = _BatchRenderer._drawCallPool;
    let dcIndex = this._dcIndex;
    let aIndex = this._aIndex;
    let iIndex = this._iIndex;
    let drawCall = drawCalls[dcIndex];
    drawCall.start = this._iIndex;
    drawCall.texArray = texArray;
    for (let i = start; i < finish; ++i) {
      const sprite = elements[i];
      const tex = sprite._texture.baseTexture;
      const spriteBlendMode = _pixi_utils__WEBPACK_IMPORTED_MODULE_4__.premultiplyBlendMode[tex.alphaMode ? 1 : 0][sprite.blendMode];
      elements[i] = null;
      if (start < i && drawCall.blend !== spriteBlendMode) {
        drawCall.size = iIndex - drawCall.start;
        start = i;
        drawCall = drawCalls[++dcIndex];
        drawCall.texArray = texArray;
        drawCall.start = iIndex;
      }
      this.packInterleavedGeometry(sprite, _attributeBuffer, _indexBuffer, aIndex, iIndex);
      aIndex += sprite.vertexData.length / 2 * vertexSize;
      iIndex += sprite.indices.length;
      drawCall.blend = spriteBlendMode;
    }
    if (start < finish) {
      drawCall.size = iIndex - drawCall.start;
      ++dcIndex;
    }
    this._dcIndex = dcIndex;
    this._aIndex = aIndex;
    this._iIndex = iIndex;
  }
  bindAndClearTexArray(texArray) {
    const textureSystem = this.renderer.texture;
    for (let j = 0; j < texArray.count; j++) {
      textureSystem.bind(texArray.elements[j], texArray.ids[j]);
      texArray.elements[j] = null;
    }
    texArray.count = 0;
  }
  updateGeometry() {
    const {
      _packedGeometries: packedGeometries,
      _attributeBuffer: attributeBuffer,
      _indexBuffer: indexBuffer
    } = this;
    if (!_BatchRenderer.canUploadSameBuffer) {
      if (this._packedGeometryPoolSize <= this._flushId) {
        this._packedGeometryPoolSize++;
        packedGeometries[this._flushId] = new this.geometryClass();
      }
      packedGeometries[this._flushId]._buffer.update(attributeBuffer.rawBinaryData);
      packedGeometries[this._flushId]._indexBuffer.update(indexBuffer);
      this.renderer.geometry.bind(packedGeometries[this._flushId]);
      this.renderer.geometry.updateBuffers();
      this._flushId++;
    } else {
      packedGeometries[this._flushId]._buffer.update(attributeBuffer.rawBinaryData);
      packedGeometries[this._flushId]._indexBuffer.update(indexBuffer);
      this.renderer.geometry.updateBuffers();
    }
  }
  drawBatches() {
    const dcCount = this._dcIndex;
    const { gl, state: stateSystem } = this.renderer;
    const drawCalls = _BatchRenderer._drawCallPool;
    let curTexArray = null;
    for (let i = 0; i < dcCount; i++) {
      const { texArray, type, size, start, blend } = drawCalls[i];
      if (curTexArray !== texArray) {
        curTexArray = texArray;
        this.bindAndClearTexArray(texArray);
      }
      this.state.blendMode = blend;
      stateSystem.set(this.state);
      gl.drawElements(type, size, gl.UNSIGNED_SHORT, start * 2);
    }
  }
  flush() {
    if (this._vertexCount === 0) {
      return;
    }
    this._attributeBuffer = this.getAttributeBuffer(this._vertexCount);
    this._indexBuffer = this.getIndexBuffer(this._indexCount);
    this._aIndex = 0;
    this._iIndex = 0;
    this._dcIndex = 0;
    this.buildTexturesAndDrawCalls();
    this.updateGeometry();
    this.drawBatches();
    this._bufferSize = 0;
    this._vertexCount = 0;
    this._indexCount = 0;
  }
  start() {
    this.renderer.state.set(this.state);
    this.renderer.texture.ensureSamplerType(this.maxTextures);
    this.renderer.shader.bind(this._shader);
    if (_BatchRenderer.canUploadSameBuffer) {
      this.renderer.geometry.bind(this._packedGeometries[this._flushId]);
    }
  }
  stop() {
    this.flush();
  }
  destroy() {
    for (let i = 0; i < this._packedGeometryPoolSize; i++) {
      if (this._packedGeometries[i]) {
        this._packedGeometries[i].destroy();
      }
    }
    this.renderer.off("prerender", this.onPrerender, this);
    this._aBuffers = null;
    this._iBuffers = null;
    this._packedGeometries = null;
    this._attributeBuffer = null;
    this._indexBuffer = null;
    if (this._shader) {
      this._shader.destroy();
      this._shader = null;
    }
    super.destroy();
  }
  getAttributeBuffer(size) {
    const roundedP2 = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_4__.nextPow2)(Math.ceil(size / 8));
    const roundedSizeIndex = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_4__.log2)(roundedP2);
    const roundedSize = roundedP2 * 8;
    if (this._aBuffers.length <= roundedSizeIndex) {
      this._iBuffers.length = roundedSizeIndex + 1;
    }
    let buffer = this._aBuffers[roundedSize];
    if (!buffer) {
      this._aBuffers[roundedSize] = buffer = new _geometry_ViewableBuffer_mjs__WEBPACK_IMPORTED_MODULE_5__.ViewableBuffer(roundedSize * this.vertexSize * 4);
    }
    return buffer;
  }
  getIndexBuffer(size) {
    const roundedP2 = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_4__.nextPow2)(Math.ceil(size / 12));
    const roundedSizeIndex = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_4__.log2)(roundedP2);
    const roundedSize = roundedP2 * 12;
    if (this._iBuffers.length <= roundedSizeIndex) {
      this._iBuffers.length = roundedSizeIndex + 1;
    }
    let buffer = this._iBuffers[roundedSizeIndex];
    if (!buffer) {
      this._iBuffers[roundedSizeIndex] = buffer = new Uint16Array(roundedSize);
    }
    return buffer;
  }
  packInterleavedGeometry(element, attributeBuffer, indexBuffer, aIndex, iIndex) {
    const {
      uint32View,
      float32View
    } = attributeBuffer;
    const packedVertices = aIndex / this.vertexSize;
    const uvs = element.uvs;
    const indicies = element.indices;
    const vertexData = element.vertexData;
    const textureId = element._texture.baseTexture._batchLocation;
    const alpha = Math.min(element.worldAlpha, 1);
    const argb = _pixi_color__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(element._tintRGB).toPremultiplied(alpha, element._texture.baseTexture.alphaMode > 0);
    for (let i = 0; i < vertexData.length; i += 2) {
      float32View[aIndex++] = vertexData[i];
      float32View[aIndex++] = vertexData[i + 1];
      float32View[aIndex++] = uvs[i];
      float32View[aIndex++] = uvs[i + 1];
      uint32View[aIndex++] = argb;
      float32View[aIndex++] = textureId;
    }
    for (let i = 0; i < indicies.length; i++) {
      indexBuffer[iIndex++] = packedVertices + indicies[i];
    }
  }
};
let BatchRenderer = _BatchRenderer;
BatchRenderer.defaultBatchSize = 4096;
BatchRenderer.extension = {
  name: "batch",
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_2__.ExtensionType.RendererPlugin
};
BatchRenderer._drawCallPool = [];
BatchRenderer._textureArrayPool = [];
_pixi_extensions__WEBPACK_IMPORTED_MODULE_2__.extensions.add(BatchRenderer);


//# sourceMappingURL=BatchRenderer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/BatchShaderGenerator.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/BatchShaderGenerator.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BatchShaderGenerator: () => (/* binding */ BatchShaderGenerator)
/* harmony export */ });
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shader/Program.mjs */ "./node_modules/@pixi/core/lib/shader/Program.mjs");
/* harmony import */ var _shader_Shader_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shader/Shader.mjs */ "./node_modules/@pixi/core/lib/shader/Shader.mjs");
/* harmony import */ var _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shader/UniformGroup.mjs */ "./node_modules/@pixi/core/lib/shader/UniformGroup.mjs");





class BatchShaderGenerator {
  constructor(vertexSrc, fragTemplate) {
    this.vertexSrc = vertexSrc;
    this.fragTemplate = fragTemplate;
    this.programCache = {};
    this.defaultGroupCache = {};
    if (!fragTemplate.includes("%count%")) {
      throw new Error('Fragment template must contain "%count%".');
    }
    if (!fragTemplate.includes("%forloop%")) {
      throw new Error('Fragment template must contain "%forloop%".');
    }
  }
  generateShader(maxTextures) {
    if (!this.programCache[maxTextures]) {
      const sampleValues = new Int32Array(maxTextures);
      for (let i = 0; i < maxTextures; i++) {
        sampleValues[i] = i;
      }
      this.defaultGroupCache[maxTextures] = _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_3__.UniformGroup.from({ uSamplers: sampleValues }, true);
      let fragmentSrc = this.fragTemplate;
      fragmentSrc = fragmentSrc.replace(/%count%/gi, `${maxTextures}`);
      fragmentSrc = fragmentSrc.replace(/%forloop%/gi, this.generateSampleSrc(maxTextures));
      this.programCache[maxTextures] = new _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_1__.Program(this.vertexSrc, fragmentSrc);
    }
    const uniforms = {
      tint: new Float32Array([1, 1, 1, 1]),
      translationMatrix: new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Matrix(),
      default: this.defaultGroupCache[maxTextures]
    };
    return new _shader_Shader_mjs__WEBPACK_IMPORTED_MODULE_2__.Shader(this.programCache[maxTextures], uniforms);
  }
  generateSampleSrc(maxTextures) {
    let src = "";
    src += "\n";
    src += "\n";
    for (let i = 0; i < maxTextures; i++) {
      if (i > 0) {
        src += "\nelse ";
      }
      if (i < maxTextures - 1) {
        src += `if(vTextureId < ${i}.5)`;
      }
      src += "\n{";
      src += `
	color = texture2D(uSamplers[${i}], vTextureCoord);`;
      src += "\n}";
    }
    src += "\n";
    src += "\n";
    return src;
  }
}


//# sourceMappingURL=BatchShaderGenerator.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/BatchSystem.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/BatchSystem.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BatchSystem: () => (/* binding */ BatchSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _ObjectRenderer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ObjectRenderer.mjs */ "./node_modules/@pixi/core/lib/batch/ObjectRenderer.mjs");



class BatchSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.emptyRenderer = new _ObjectRenderer_mjs__WEBPACK_IMPORTED_MODULE_1__.ObjectRenderer(renderer);
    this.currentRenderer = this.emptyRenderer;
  }
  setObjectRenderer(objectRenderer) {
    if (this.currentRenderer === objectRenderer) {
      return;
    }
    this.currentRenderer.stop();
    this.currentRenderer = objectRenderer;
    this.currentRenderer.start();
  }
  flush() {
    this.setObjectRenderer(this.emptyRenderer);
  }
  reset() {
    this.setObjectRenderer(this.emptyRenderer);
  }
  copyBoundTextures(arr, maxTextures) {
    const { boundTextures } = this.renderer.texture;
    for (let i = maxTextures - 1; i >= 0; --i) {
      arr[i] = boundTextures[i] || null;
      if (arr[i]) {
        arr[i]._batchLocation = i;
      }
    }
  }
  boundArray(texArray, boundTextures, batchId, maxTextures) {
    const { elements, ids, count } = texArray;
    let j = 0;
    for (let i = 0; i < count; i++) {
      const tex = elements[i];
      const loc = tex._batchLocation;
      if (loc >= 0 && loc < maxTextures && boundTextures[loc] === tex) {
        ids[i] = loc;
        continue;
      }
      while (j < maxTextures) {
        const bound = boundTextures[j];
        if (bound && bound._batchEnabled === batchId && bound._batchLocation === j) {
          j++;
          continue;
        }
        ids[i] = j;
        tex._batchLocation = j;
        boundTextures[j] = tex;
        break;
      }
    }
  }
  destroy() {
    this.renderer = null;
  }
}
BatchSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
  name: "batch"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(BatchSystem);


//# sourceMappingURL=BatchSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/BatchTextureArray.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/BatchTextureArray.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BatchTextureArray: () => (/* binding */ BatchTextureArray)
/* harmony export */ });
class BatchTextureArray {
  constructor() {
    this.elements = [];
    this.ids = [];
    this.count = 0;
  }
  clear() {
    for (let i = 0; i < this.count; i++) {
      this.elements[i] = null;
    }
    this.count = 0;
  }
}


//# sourceMappingURL=BatchTextureArray.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/ObjectRenderer.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/ObjectRenderer.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ObjectRenderer: () => (/* binding */ ObjectRenderer)
/* harmony export */ });
class ObjectRenderer {
  constructor(renderer) {
    this.renderer = renderer;
  }
  flush() {
  }
  destroy() {
    this.renderer = null;
  }
  start() {
  }
  stop() {
    this.flush();
  }
  render(_object) {
  }
}


//# sourceMappingURL=ObjectRenderer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/canUploadSameBuffer.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/canUploadSameBuffer.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   canUploadSameBuffer: () => (/* binding */ canUploadSameBuffer)
/* harmony export */ });
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");


function canUploadSameBuffer() {
  return !_pixi_settings__WEBPACK_IMPORTED_MODULE_0__.isMobile.apple.device;
}


//# sourceMappingURL=canUploadSameBuffer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/maxRecommendedTextures.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/maxRecommendedTextures.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   maxRecommendedTextures: () => (/* binding */ maxRecommendedTextures)
/* harmony export */ });
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");


function maxRecommendedTextures(max) {
  let allowMax = true;
  const navigator = _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.getNavigator();
  if (_pixi_settings__WEBPACK_IMPORTED_MODULE_0__.isMobile.tablet || _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.isMobile.phone) {
    if (_pixi_settings__WEBPACK_IMPORTED_MODULE_0__.isMobile.apple.device) {
      const match = navigator.userAgent.match(/OS (\d+)_(\d+)?/);
      if (match) {
        const majorVersion = parseInt(match[1], 10);
        if (majorVersion < 11) {
          allowMax = false;
        }
      }
    }
    if (_pixi_settings__WEBPACK_IMPORTED_MODULE_0__.isMobile.android.device) {
      const match = navigator.userAgent.match(/Android\s([0-9.]*)/);
      if (match) {
        const majorVersion = parseInt(match[1], 10);
        if (majorVersion < 7) {
          allowMax = false;
        }
      }
    }
  }
  return allowMax ? max : 4;
}


//# sourceMappingURL=maxRecommendedTextures.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/texture.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/texture.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ defaultFragment)
/* harmony export */ });
var defaultFragment = "varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n";


//# sourceMappingURL=texture.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/texture2.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/texture2.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ defaultVertex)
/* harmony export */ });
var defaultVertex = "precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n";


//# sourceMappingURL=texture2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/context/ContextSystem.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/context/ContextSystem.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ContextSystem: () => (/* binding */ ContextSystem)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");




let CONTEXT_UID_COUNTER = 0;
class ContextSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.webGLVersion = 1;
    this.extensions = {};
    this.supports = {
      uint32Indices: false
    };
    this.handleContextLost = this.handleContextLost.bind(this);
    this.handleContextRestored = this.handleContextRestored.bind(this);
  }
  get isLost() {
    return !this.gl || this.gl.isContextLost();
  }
  contextChange(gl) {
    this.gl = gl;
    this.renderer.gl = gl;
    this.renderer.CONTEXT_UID = CONTEXT_UID_COUNTER++;
  }
  init(options) {
    if (options.context) {
      this.initFromContext(options.context);
    } else {
      const alpha = this.renderer.background.alpha < 1;
      const premultipliedAlpha = options.premultipliedAlpha;
      this.preserveDrawingBuffer = options.preserveDrawingBuffer;
      this.useContextAlpha = options.useContextAlpha;
      this.powerPreference = options.powerPreference;
      this.initFromOptions({
        alpha,
        premultipliedAlpha,
        antialias: options.antialias,
        stencil: true,
        preserveDrawingBuffer: options.preserveDrawingBuffer,
        powerPreference: options.powerPreference
      });
    }
  }
  initFromContext(gl) {
    this.gl = gl;
    this.validateContext(gl);
    this.renderer.gl = gl;
    this.renderer.CONTEXT_UID = CONTEXT_UID_COUNTER++;
    this.renderer.runners.contextChange.emit(gl);
    const view = this.renderer.view;
    if (view.addEventListener !== void 0) {
      view.addEventListener("webglcontextlost", this.handleContextLost, false);
      view.addEventListener("webglcontextrestored", this.handleContextRestored, false);
    }
  }
  initFromOptions(options) {
    const gl = this.createContext(this.renderer.view, options);
    this.initFromContext(gl);
  }
  createContext(canvas, options) {
    let gl;
    if (_pixi_settings__WEBPACK_IMPORTED_MODULE_2__.settings.PREFER_ENV >= _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ENV.WEBGL2) {
      gl = canvas.getContext("webgl2", options);
    }
    if (gl) {
      this.webGLVersion = 2;
    } else {
      this.webGLVersion = 1;
      gl = canvas.getContext("webgl", options) || canvas.getContext("experimental-webgl", options);
      if (!gl) {
        throw new Error("This browser does not support WebGL. Try using the canvas renderer");
      }
    }
    this.gl = gl;
    this.getExtensions();
    return this.gl;
  }
  getExtensions() {
    const { gl } = this;
    const common = {
      loseContext: gl.getExtension("WEBGL_lose_context"),
      anisotropicFiltering: gl.getExtension("EXT_texture_filter_anisotropic"),
      floatTextureLinear: gl.getExtension("OES_texture_float_linear"),
      s3tc: gl.getExtension("WEBGL_compressed_texture_s3tc"),
      s3tc_sRGB: gl.getExtension("WEBGL_compressed_texture_s3tc_srgb"),
      etc: gl.getExtension("WEBGL_compressed_texture_etc"),
      etc1: gl.getExtension("WEBGL_compressed_texture_etc1"),
      pvrtc: gl.getExtension("WEBGL_compressed_texture_pvrtc") || gl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
      atc: gl.getExtension("WEBGL_compressed_texture_atc"),
      astc: gl.getExtension("WEBGL_compressed_texture_astc")
    };
    if (this.webGLVersion === 1) {
      Object.assign(this.extensions, common, {
        drawBuffers: gl.getExtension("WEBGL_draw_buffers"),
        depthTexture: gl.getExtension("WEBGL_depth_texture"),
        vertexArrayObject: gl.getExtension("OES_vertex_array_object") || gl.getExtension("MOZ_OES_vertex_array_object") || gl.getExtension("WEBKIT_OES_vertex_array_object"),
        uint32ElementIndex: gl.getExtension("OES_element_index_uint"),
        floatTexture: gl.getExtension("OES_texture_float"),
        floatTextureLinear: gl.getExtension("OES_texture_float_linear"),
        textureHalfFloat: gl.getExtension("OES_texture_half_float"),
        textureHalfFloatLinear: gl.getExtension("OES_texture_half_float_linear")
      });
    } else if (this.webGLVersion === 2) {
      Object.assign(this.extensions, common, {
        colorBufferFloat: gl.getExtension("EXT_color_buffer_float")
      });
    }
  }
  handleContextLost(event) {
    event.preventDefault();
    setTimeout(() => {
      if (this.gl.isContextLost() && this.extensions.loseContext) {
        this.extensions.loseContext.restoreContext();
      }
    }, 0);
  }
  handleContextRestored() {
    this.renderer.runners.contextChange.emit(this.gl);
  }
  destroy() {
    const view = this.renderer.view;
    this.renderer = null;
    if (view.removeEventListener !== void 0) {
      view.removeEventListener("webglcontextlost", this.handleContextLost);
      view.removeEventListener("webglcontextrestored", this.handleContextRestored);
    }
    this.gl.useProgram(null);
    if (this.extensions.loseContext) {
      this.extensions.loseContext.loseContext();
    }
  }
  postrender() {
    if (this.renderer.objectRenderer.renderingToScreen) {
      this.gl.flush();
    }
  }
  validateContext(gl) {
    const attributes = gl.getContextAttributes();
    const isWebGl2 = "WebGL2RenderingContext" in globalThis && gl instanceof globalThis.WebGL2RenderingContext;
    if (isWebGl2) {
      this.webGLVersion = 2;
    }
    if (attributes && !attributes.stencil) {
      console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");
    }
    const hasuint32 = isWebGl2 || !!gl.getExtension("OES_element_index_uint");
    this.supports.uint32Indices = hasuint32;
    if (!hasuint32) {
      console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly");
    }
  }
}
ContextSystem.defaultOptions = {
  context: null,
  antialias: false,
  premultipliedAlpha: true,
  preserveDrawingBuffer: false,
  powerPreference: "default"
};
ContextSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "context"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(ContextSystem);


//# sourceMappingURL=ContextSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/Filter.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/Filter.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Filter: () => (/* binding */ Filter)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shader/Program.mjs */ "./node_modules/@pixi/core/lib/shader/Program.mjs");
/* harmony import */ var _shader_Shader_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shader/Shader.mjs */ "./node_modules/@pixi/core/lib/shader/Shader.mjs");
/* harmony import */ var _state_State_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../state/State.mjs */ "./node_modules/@pixi/core/lib/state/State.mjs");
/* harmony import */ var _defaultFilter_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./defaultFilter.mjs */ "./node_modules/@pixi/core/lib/filters/defaultFilter.mjs");
/* harmony import */ var _defaultFilter2_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./defaultFilter2.mjs */ "./node_modules/@pixi/core/lib/filters/defaultFilter2.mjs");







const _Filter = class extends _shader_Shader_mjs__WEBPACK_IMPORTED_MODULE_2__.Shader {
  constructor(vertexSrc, fragmentSrc, uniforms) {
    const program = _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_1__.Program.from(vertexSrc || _Filter.defaultVertexSrc, fragmentSrc || _Filter.defaultFragmentSrc);
    super(program, uniforms);
    this.padding = 0;
    this.resolution = _Filter.defaultResolution;
    this.multisample = _Filter.defaultMultisample;
    this.enabled = true;
    this.autoFit = true;
    this.state = new _state_State_mjs__WEBPACK_IMPORTED_MODULE_3__.State();
  }
  apply(filterManager, input, output, clearMode, _currentState) {
    filterManager.applyFilter(this, input, output, clearMode);
  }
  get blendMode() {
    return this.state.blendMode;
  }
  set blendMode(value) {
    this.state.blendMode = value;
  }
  get resolution() {
    return this._resolution;
  }
  set resolution(value) {
    this._resolution = value;
  }
  static get defaultVertexSrc() {
    return _defaultFilter2_mjs__WEBPACK_IMPORTED_MODULE_5__["default"];
  }
  static get defaultFragmentSrc() {
    return _defaultFilter_mjs__WEBPACK_IMPORTED_MODULE_4__["default"];
  }
};
let Filter = _Filter;
Filter.defaultResolution = 1;
Filter.defaultMultisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.NONE;


//# sourceMappingURL=Filter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/FilterState.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/FilterState.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FilterState: () => (/* binding */ FilterState)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");



class FilterState {
  constructor() {
    this.renderTexture = null;
    this.target = null;
    this.legacy = false;
    this.resolution = 1;
    this.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.NONE;
    this.sourceFrame = new _pixi_math__WEBPACK_IMPORTED_MODULE_1__.Rectangle();
    this.destinationFrame = new _pixi_math__WEBPACK_IMPORTED_MODULE_1__.Rectangle();
    this.bindingSourceFrame = new _pixi_math__WEBPACK_IMPORTED_MODULE_1__.Rectangle();
    this.bindingDestinationFrame = new _pixi_math__WEBPACK_IMPORTED_MODULE_1__.Rectangle();
    this.filters = [];
    this.transform = null;
  }
  clear() {
    this.target = null;
    this.filters = null;
    this.renderTexture = null;
  }
}


//# sourceMappingURL=FilterState.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/FilterSystem.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/FilterSystem.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FilterSystem: () => (/* binding */ FilterSystem)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _renderTexture_RenderTexturePool_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../renderTexture/RenderTexturePool.mjs */ "./node_modules/@pixi/core/lib/renderTexture/RenderTexturePool.mjs");
/* harmony import */ var _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../shader/UniformGroup.mjs */ "./node_modules/@pixi/core/lib/shader/UniformGroup.mjs");
/* harmony import */ var _utils_Quad_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/Quad.mjs */ "./node_modules/@pixi/core/lib/utils/Quad.mjs");
/* harmony import */ var _utils_QuadUv_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/QuadUv.mjs */ "./node_modules/@pixi/core/lib/utils/QuadUv.mjs");
/* harmony import */ var _FilterState_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FilterState.mjs */ "./node_modules/@pixi/core/lib/filters/FilterState.mjs");









const tempPoints = [new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Point(), new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Point(), new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Point(), new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Point()];
const tempMatrix = new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Matrix();
class FilterSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.defaultFilterStack = [{}];
    this.texturePool = new _renderTexture_RenderTexturePool_mjs__WEBPACK_IMPORTED_MODULE_3__.RenderTexturePool();
    this.statePool = [];
    this.quad = new _utils_Quad_mjs__WEBPACK_IMPORTED_MODULE_5__.Quad();
    this.quadUv = new _utils_QuadUv_mjs__WEBPACK_IMPORTED_MODULE_6__.QuadUv();
    this.tempRect = new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Rectangle();
    this.activeState = {};
    this.globalUniforms = new _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_4__.UniformGroup({
      outputFrame: new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Rectangle(),
      inputSize: new Float32Array(4),
      inputPixel: new Float32Array(4),
      inputClamp: new Float32Array(4),
      resolution: 1,
      filterArea: new Float32Array(4),
      filterClamp: new Float32Array(4)
    }, true);
    this.forceClear = false;
    this.useMaxPadding = false;
  }
  init() {
    this.texturePool.setScreenSize(this.renderer.view);
  }
  push(target, filters) {
    const renderer = this.renderer;
    const filterStack = this.defaultFilterStack;
    const state = this.statePool.pop() || new _FilterState_mjs__WEBPACK_IMPORTED_MODULE_7__.FilterState();
    const renderTextureSystem = this.renderer.renderTexture;
    let resolution = filters[0].resolution;
    let multisample = filters[0].multisample;
    let padding = filters[0].padding;
    let autoFit = filters[0].autoFit;
    let legacy = filters[0].legacy ?? true;
    for (let i = 1; i < filters.length; i++) {
      const filter = filters[i];
      resolution = Math.min(resolution, filter.resolution);
      multisample = Math.min(multisample, filter.multisample);
      padding = this.useMaxPadding ? Math.max(padding, filter.padding) : padding + filter.padding;
      autoFit = autoFit && filter.autoFit;
      legacy = legacy || (filter.legacy ?? true);
    }
    if (filterStack.length === 1) {
      this.defaultFilterStack[0].renderTexture = renderTextureSystem.current;
    }
    filterStack.push(state);
    state.resolution = resolution;
    state.multisample = multisample;
    state.legacy = legacy;
    state.target = target;
    state.sourceFrame.copyFrom(target.filterArea || target.getBounds(true));
    state.sourceFrame.pad(padding);
    const sourceFrameProjected = this.tempRect.copyFrom(renderTextureSystem.sourceFrame);
    if (renderer.projection.transform) {
      this.transformAABB(tempMatrix.copyFrom(renderer.projection.transform).invert(), sourceFrameProjected);
    }
    if (autoFit) {
      state.sourceFrame.fit(sourceFrameProjected);
      if (state.sourceFrame.width <= 0 || state.sourceFrame.height <= 0) {
        state.sourceFrame.width = 0;
        state.sourceFrame.height = 0;
      }
    } else if (!state.sourceFrame.intersects(sourceFrameProjected)) {
      state.sourceFrame.width = 0;
      state.sourceFrame.height = 0;
    }
    this.roundFrame(state.sourceFrame, renderTextureSystem.current ? renderTextureSystem.current.resolution : renderer.resolution, renderTextureSystem.sourceFrame, renderTextureSystem.destinationFrame, renderer.projection.transform);
    state.renderTexture = this.getOptimalFilterTexture(state.sourceFrame.width, state.sourceFrame.height, resolution, multisample);
    state.filters = filters;
    state.destinationFrame.width = state.renderTexture.width;
    state.destinationFrame.height = state.renderTexture.height;
    const destinationFrame = this.tempRect;
    destinationFrame.x = 0;
    destinationFrame.y = 0;
    destinationFrame.width = state.sourceFrame.width;
    destinationFrame.height = state.sourceFrame.height;
    state.renderTexture.filterFrame = state.sourceFrame;
    state.bindingSourceFrame.copyFrom(renderTextureSystem.sourceFrame);
    state.bindingDestinationFrame.copyFrom(renderTextureSystem.destinationFrame);
    state.transform = renderer.projection.transform;
    renderer.projection.transform = null;
    renderTextureSystem.bind(state.renderTexture, state.sourceFrame, destinationFrame);
    renderer.framebuffer.clear(0, 0, 0, 0);
  }
  pop() {
    const filterStack = this.defaultFilterStack;
    const state = filterStack.pop();
    const filters = state.filters;
    this.activeState = state;
    const globalUniforms = this.globalUniforms.uniforms;
    globalUniforms.outputFrame = state.sourceFrame;
    globalUniforms.resolution = state.resolution;
    const inputSize = globalUniforms.inputSize;
    const inputPixel = globalUniforms.inputPixel;
    const inputClamp = globalUniforms.inputClamp;
    inputSize[0] = state.destinationFrame.width;
    inputSize[1] = state.destinationFrame.height;
    inputSize[2] = 1 / inputSize[0];
    inputSize[3] = 1 / inputSize[1];
    inputPixel[0] = Math.round(inputSize[0] * state.resolution);
    inputPixel[1] = Math.round(inputSize[1] * state.resolution);
    inputPixel[2] = 1 / inputPixel[0];
    inputPixel[3] = 1 / inputPixel[1];
    inputClamp[0] = 0.5 * inputPixel[2];
    inputClamp[1] = 0.5 * inputPixel[3];
    inputClamp[2] = state.sourceFrame.width * inputSize[2] - 0.5 * inputPixel[2];
    inputClamp[3] = state.sourceFrame.height * inputSize[3] - 0.5 * inputPixel[3];
    if (state.legacy) {
      const filterArea = globalUniforms.filterArea;
      filterArea[0] = state.destinationFrame.width;
      filterArea[1] = state.destinationFrame.height;
      filterArea[2] = state.sourceFrame.x;
      filterArea[3] = state.sourceFrame.y;
      globalUniforms.filterClamp = globalUniforms.inputClamp;
    }
    this.globalUniforms.update();
    const lastState = filterStack[filterStack.length - 1];
    this.renderer.framebuffer.blit();
    if (filters.length === 1) {
      filters[0].apply(this, state.renderTexture, lastState.renderTexture, _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.CLEAR_MODES.BLEND, state);
      this.returnFilterTexture(state.renderTexture);
    } else {
      let flip = state.renderTexture;
      let flop = this.getOptimalFilterTexture(flip.width, flip.height, state.resolution);
      flop.filterFrame = flip.filterFrame;
      let i = 0;
      for (i = 0; i < filters.length - 1; ++i) {
        if (i === 1 && state.multisample > 1) {
          flop = this.getOptimalFilterTexture(flip.width, flip.height, state.resolution);
          flop.filterFrame = flip.filterFrame;
        }
        filters[i].apply(this, flip, flop, _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.CLEAR_MODES.CLEAR, state);
        const t = flip;
        flip = flop;
        flop = t;
      }
      filters[i].apply(this, flip, lastState.renderTexture, _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.CLEAR_MODES.BLEND, state);
      if (i > 1 && state.multisample > 1) {
        this.returnFilterTexture(state.renderTexture);
      }
      this.returnFilterTexture(flip);
      this.returnFilterTexture(flop);
    }
    state.clear();
    this.statePool.push(state);
  }
  bindAndClear(filterTexture, clearMode = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.CLEAR_MODES.CLEAR) {
    const {
      renderTexture: renderTextureSystem,
      state: stateSystem
    } = this.renderer;
    if (filterTexture === this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture) {
      this.renderer.projection.transform = this.activeState.transform;
    } else {
      this.renderer.projection.transform = null;
    }
    if (filterTexture?.filterFrame) {
      const destinationFrame = this.tempRect;
      destinationFrame.x = 0;
      destinationFrame.y = 0;
      destinationFrame.width = filterTexture.filterFrame.width;
      destinationFrame.height = filterTexture.filterFrame.height;
      renderTextureSystem.bind(filterTexture, filterTexture.filterFrame, destinationFrame);
    } else if (filterTexture !== this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture) {
      renderTextureSystem.bind(filterTexture);
    } else {
      this.renderer.renderTexture.bind(filterTexture, this.activeState.bindingSourceFrame, this.activeState.bindingDestinationFrame);
    }
    const autoClear = stateSystem.stateId & 1 || this.forceClear;
    if (clearMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.CLEAR_MODES.CLEAR || clearMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.CLEAR_MODES.BLIT && autoClear) {
      this.renderer.framebuffer.clear(0, 0, 0, 0);
    }
  }
  applyFilter(filter, input, output, clearMode) {
    const renderer = this.renderer;
    renderer.state.set(filter.state);
    this.bindAndClear(output, clearMode);
    filter.uniforms.uSampler = input;
    filter.uniforms.filterGlobals = this.globalUniforms;
    renderer.shader.bind(filter);
    filter.legacy = !!filter.program.attributeData.aTextureCoord;
    if (filter.legacy) {
      this.quadUv.map(input._frame, input.filterFrame);
      renderer.geometry.bind(this.quadUv);
      renderer.geometry.draw(_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.DRAW_MODES.TRIANGLES);
    } else {
      renderer.geometry.bind(this.quad);
      renderer.geometry.draw(_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.DRAW_MODES.TRIANGLE_STRIP);
    }
  }
  calculateSpriteMatrix(outputMatrix, sprite) {
    const { sourceFrame, destinationFrame } = this.activeState;
    const { orig } = sprite._texture;
    const mappedMatrix = outputMatrix.set(destinationFrame.width, 0, 0, destinationFrame.height, sourceFrame.x, sourceFrame.y);
    const worldTransform = sprite.worldTransform.copyTo(_pixi_math__WEBPACK_IMPORTED_MODULE_2__.Matrix.TEMP_MATRIX);
    worldTransform.invert();
    mappedMatrix.prepend(worldTransform);
    mappedMatrix.scale(1 / orig.width, 1 / orig.height);
    mappedMatrix.translate(sprite.anchor.x, sprite.anchor.y);
    return mappedMatrix;
  }
  destroy() {
    this.renderer = null;
    this.texturePool.clear(false);
  }
  getOptimalFilterTexture(minWidth, minHeight, resolution = 1, multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.NONE) {
    return this.texturePool.getOptimalTexture(minWidth, minHeight, resolution, multisample);
  }
  getFilterTexture(input, resolution, multisample) {
    if (typeof input === "number") {
      const swap = input;
      input = resolution;
      resolution = swap;
    }
    input = input || this.activeState.renderTexture;
    const filterTexture = this.texturePool.getOptimalTexture(input.width, input.height, resolution || input.resolution, multisample || _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.NONE);
    filterTexture.filterFrame = input.filterFrame;
    return filterTexture;
  }
  returnFilterTexture(renderTexture) {
    this.texturePool.returnTexture(renderTexture);
  }
  emptyPool() {
    this.texturePool.clear(true);
  }
  resize() {
    this.texturePool.setScreenSize(this.renderer.view);
  }
  transformAABB(matrix, rect) {
    const lt = tempPoints[0];
    const lb = tempPoints[1];
    const rt = tempPoints[2];
    const rb = tempPoints[3];
    lt.set(rect.left, rect.top);
    lb.set(rect.left, rect.bottom);
    rt.set(rect.right, rect.top);
    rb.set(rect.right, rect.bottom);
    matrix.apply(lt, lt);
    matrix.apply(lb, lb);
    matrix.apply(rt, rt);
    matrix.apply(rb, rb);
    const x0 = Math.min(lt.x, lb.x, rt.x, rb.x);
    const y0 = Math.min(lt.y, lb.y, rt.y, rb.y);
    const x1 = Math.max(lt.x, lb.x, rt.x, rb.x);
    const y1 = Math.max(lt.y, lb.y, rt.y, rb.y);
    rect.x = x0;
    rect.y = y0;
    rect.width = x1 - x0;
    rect.height = y1 - y0;
  }
  roundFrame(frame, resolution, bindingSourceFrame, bindingDestinationFrame, transform) {
    if (frame.width <= 0 || frame.height <= 0 || bindingSourceFrame.width <= 0 || bindingSourceFrame.height <= 0) {
      return;
    }
    if (transform) {
      const { a, b, c, d } = transform;
      if ((Math.abs(b) > 1e-4 || Math.abs(c) > 1e-4) && (Math.abs(a) > 1e-4 || Math.abs(d) > 1e-4)) {
        return;
      }
    }
    transform = transform ? tempMatrix.copyFrom(transform) : tempMatrix.identity();
    transform.translate(-bindingSourceFrame.x, -bindingSourceFrame.y).scale(bindingDestinationFrame.width / bindingSourceFrame.width, bindingDestinationFrame.height / bindingSourceFrame.height).translate(bindingDestinationFrame.x, bindingDestinationFrame.y);
    this.transformAABB(transform, frame);
    frame.ceil(resolution);
    this.transformAABB(transform.invert(), frame);
  }
}
FilterSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "filter"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(FilterSystem);


//# sourceMappingURL=FilterSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/IFilterTarget.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/IFilterTarget.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=IFilterTarget.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/defaultFilter.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/defaultFilter.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ defaultFragment)
/* harmony export */ });
var defaultFragment = "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n";


//# sourceMappingURL=defaultFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/defaultFilter2.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/defaultFilter2.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ defaultVertex)
/* harmony export */ });
var defaultVertex = "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";


//# sourceMappingURL=defaultFilter2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/spriteMask/SpriteMaskFilter.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/spriteMask/SpriteMaskFilter.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SpriteMaskFilter: () => (/* binding */ SpriteMaskFilter)
/* harmony export */ });
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _textures_TextureMatrix_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../textures/TextureMatrix.mjs */ "./node_modules/@pixi/core/lib/textures/TextureMatrix.mjs");
/* harmony import */ var _Filter_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Filter.mjs */ "./node_modules/@pixi/core/lib/filters/Filter.mjs");
/* harmony import */ var _spriteMaskFilter2_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./spriteMaskFilter2.mjs */ "./node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter2.mjs");
/* harmony import */ var _spriteMaskFilter3_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./spriteMaskFilter3.mjs */ "./node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter3.mjs");






class SpriteMaskFilter extends _Filter_mjs__WEBPACK_IMPORTED_MODULE_2__.Filter {
  constructor(vertexSrc, fragmentSrc, uniforms) {
    let sprite = null;
    if (typeof vertexSrc !== "string" && fragmentSrc === void 0 && uniforms === void 0) {
      sprite = vertexSrc;
      vertexSrc = void 0;
      fragmentSrc = void 0;
      uniforms = void 0;
    }
    super(vertexSrc || _spriteMaskFilter3_mjs__WEBPACK_IMPORTED_MODULE_4__["default"], fragmentSrc || _spriteMaskFilter2_mjs__WEBPACK_IMPORTED_MODULE_3__["default"], uniforms);
    this.maskSprite = sprite;
    this.maskMatrix = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Matrix();
  }
  get maskSprite() {
    return this._maskSprite;
  }
  set maskSprite(value) {
    this._maskSprite = value;
    if (this._maskSprite) {
      this._maskSprite.renderable = false;
    }
  }
  apply(filterManager, input, output, clearMode) {
    const maskSprite = this._maskSprite;
    const tex = maskSprite._texture;
    if (!tex.valid) {
      return;
    }
    if (!tex.uvMatrix) {
      tex.uvMatrix = new _textures_TextureMatrix_mjs__WEBPACK_IMPORTED_MODULE_1__.TextureMatrix(tex, 0);
    }
    tex.uvMatrix.update();
    this.uniforms.npmAlpha = tex.baseTexture.alphaMode ? 0 : 1;
    this.uniforms.mask = tex;
    this.uniforms.otherMatrix = filterManager.calculateSpriteMatrix(this.maskMatrix, maskSprite).prepend(tex.uvMatrix.mapCoord);
    this.uniforms.alpha = maskSprite.worldAlpha;
    this.uniforms.maskClamp = tex.uvMatrix.uClampFrame;
    filterManager.applyFilter(this, input, output, clearMode);
  }
}


//# sourceMappingURL=SpriteMaskFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter2.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter2.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n";


//# sourceMappingURL=spriteMaskFilter2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter3.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter3.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ vertex)
/* harmony export */ });
var vertex = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n";


//# sourceMappingURL=spriteMaskFilter3.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/fragments/default.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/fragments/default.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ $defaultVertex)
/* harmony export */ });
var $defaultVertex = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}";


//# sourceMappingURL=default.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/fragments/defaultFilter.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/fragments/defaultFilter.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ $defaultFilterVertex)
/* harmony export */ });
var $defaultFilterVertex = "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";


//# sourceMappingURL=defaultFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/fragments/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/fragments/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   defaultFilterVertex: () => (/* binding */ defaultFilterVertex),
/* harmony export */   defaultVertex: () => (/* binding */ defaultVertex)
/* harmony export */ });
/* harmony import */ var _default_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./default.mjs */ "./node_modules/@pixi/core/lib/fragments/default.mjs");
/* harmony import */ var _defaultFilter_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./defaultFilter.mjs */ "./node_modules/@pixi/core/lib/fragments/defaultFilter.mjs");



const defaultVertex = _default_mjs__WEBPACK_IMPORTED_MODULE_0__["default"];
const defaultFilterVertex = _defaultFilter_mjs__WEBPACK_IMPORTED_MODULE_1__["default"];


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/framebuffer/Framebuffer.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/framebuffer/Framebuffer.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Framebuffer: () => (/* binding */ Framebuffer)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");
/* harmony import */ var _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../textures/BaseTexture.mjs */ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs");
/* harmony import */ var _textures_resources_DepthResource_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../textures/resources/DepthResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/DepthResource.mjs");





class Framebuffer {
  constructor(width, height) {
    this.width = Math.round(width || 100);
    this.height = Math.round(height || 100);
    this.stencil = false;
    this.depth = false;
    this.dirtyId = 0;
    this.dirtyFormat = 0;
    this.dirtySize = 0;
    this.depthTexture = null;
    this.colorTextures = [];
    this.glFramebuffers = {};
    this.disposeRunner = new _pixi_runner__WEBPACK_IMPORTED_MODULE_1__.Runner("disposeFramebuffer");
    this.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.NONE;
  }
  get colorTexture() {
    return this.colorTextures[0];
  }
  addColorTexture(index = 0, texture) {
    this.colorTextures[index] = texture || new _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_2__.BaseTexture(null, {
      scaleMode: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.SCALE_MODES.NEAREST,
      resolution: 1,
      mipmap: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MIPMAP_MODES.OFF,
      width: this.width,
      height: this.height
    });
    this.dirtyId++;
    this.dirtyFormat++;
    return this;
  }
  addDepthTexture(texture) {
    this.depthTexture = texture || new _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_2__.BaseTexture(new _textures_resources_DepthResource_mjs__WEBPACK_IMPORTED_MODULE_3__.DepthResource(null, { width: this.width, height: this.height }), {
      scaleMode: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.SCALE_MODES.NEAREST,
      resolution: 1,
      width: this.width,
      height: this.height,
      mipmap: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MIPMAP_MODES.OFF,
      format: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.DEPTH_COMPONENT,
      type: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT
    });
    this.dirtyId++;
    this.dirtyFormat++;
    return this;
  }
  enableDepth() {
    this.depth = true;
    this.dirtyId++;
    this.dirtyFormat++;
    return this;
  }
  enableStencil() {
    this.stencil = true;
    this.dirtyId++;
    this.dirtyFormat++;
    return this;
  }
  resize(width, height) {
    width = Math.round(width);
    height = Math.round(height);
    if (width === this.width && height === this.height)
      return;
    this.width = width;
    this.height = height;
    this.dirtyId++;
    this.dirtySize++;
    for (let i = 0; i < this.colorTextures.length; i++) {
      const texture = this.colorTextures[i];
      const resolution = texture.resolution;
      texture.setSize(width / resolution, height / resolution);
    }
    if (this.depthTexture) {
      const resolution = this.depthTexture.resolution;
      this.depthTexture.setSize(width / resolution, height / resolution);
    }
  }
  dispose() {
    this.disposeRunner.emit(this, false);
  }
  destroyDepthTexture() {
    if (this.depthTexture) {
      this.depthTexture.destroy();
      this.depthTexture = null;
      ++this.dirtyId;
      ++this.dirtyFormat;
    }
  }
}


//# sourceMappingURL=Framebuffer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/framebuffer/FramebufferSystem.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/framebuffer/FramebufferSystem.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FramebufferSystem: () => (/* binding */ FramebufferSystem)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _Framebuffer_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Framebuffer.mjs */ "./node_modules/@pixi/core/lib/framebuffer/Framebuffer.mjs");
/* harmony import */ var _GLFramebuffer_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GLFramebuffer.mjs */ "./node_modules/@pixi/core/lib/framebuffer/GLFramebuffer.mjs");







const tempRectangle = new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Rectangle();
class FramebufferSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.managedFramebuffers = [];
    this.unknownFramebuffer = new _Framebuffer_mjs__WEBPACK_IMPORTED_MODULE_4__.Framebuffer(10, 10);
    this.msaaSamples = null;
  }
  contextChange() {
    this.disposeAll(true);
    const gl = this.gl = this.renderer.gl;
    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
    this.current = this.unknownFramebuffer;
    this.viewport = new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Rectangle();
    this.hasMRT = true;
    this.writeDepthTexture = true;
    if (this.renderer.context.webGLVersion === 1) {
      let nativeDrawBuffersExtension = this.renderer.context.extensions.drawBuffers;
      let nativeDepthTextureExtension = this.renderer.context.extensions.depthTexture;
      if (_pixi_settings__WEBPACK_IMPORTED_MODULE_3__.settings.PREFER_ENV === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ENV.WEBGL_LEGACY) {
        nativeDrawBuffersExtension = null;
        nativeDepthTextureExtension = null;
      }
      if (nativeDrawBuffersExtension) {
        gl.drawBuffers = (activeTextures) => nativeDrawBuffersExtension.drawBuffersWEBGL(activeTextures);
      } else {
        this.hasMRT = false;
        gl.drawBuffers = () => {
        };
      }
      if (!nativeDepthTextureExtension) {
        this.writeDepthTexture = false;
      }
    } else {
      this.msaaSamples = gl.getInternalformatParameter(gl.RENDERBUFFER, gl.RGBA8, gl.SAMPLES);
    }
  }
  bind(framebuffer, frame, mipLevel = 0) {
    const { gl } = this;
    if (framebuffer) {
      const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID] || this.initFramebuffer(framebuffer);
      if (this.current !== framebuffer) {
        this.current = framebuffer;
        gl.bindFramebuffer(gl.FRAMEBUFFER, fbo.framebuffer);
      }
      if (fbo.mipLevel !== mipLevel) {
        framebuffer.dirtyId++;
        framebuffer.dirtyFormat++;
        fbo.mipLevel = mipLevel;
      }
      if (fbo.dirtyId !== framebuffer.dirtyId) {
        fbo.dirtyId = framebuffer.dirtyId;
        if (fbo.dirtyFormat !== framebuffer.dirtyFormat) {
          fbo.dirtyFormat = framebuffer.dirtyFormat;
          fbo.dirtySize = framebuffer.dirtySize;
          this.updateFramebuffer(framebuffer, mipLevel);
        } else if (fbo.dirtySize !== framebuffer.dirtySize) {
          fbo.dirtySize = framebuffer.dirtySize;
          this.resizeFramebuffer(framebuffer);
        }
      }
      for (let i = 0; i < framebuffer.colorTextures.length; i++) {
        const tex = framebuffer.colorTextures[i];
        this.renderer.texture.unbind(tex.parentTextureArray || tex);
      }
      if (framebuffer.depthTexture) {
        this.renderer.texture.unbind(framebuffer.depthTexture);
      }
      if (frame) {
        const mipWidth = frame.width >> mipLevel;
        const mipHeight = frame.height >> mipLevel;
        const scale = mipWidth / frame.width;
        this.setViewport(frame.x * scale, frame.y * scale, mipWidth, mipHeight);
      } else {
        const mipWidth = framebuffer.width >> mipLevel;
        const mipHeight = framebuffer.height >> mipLevel;
        this.setViewport(0, 0, mipWidth, mipHeight);
      }
    } else {
      if (this.current) {
        this.current = null;
        gl.bindFramebuffer(gl.FRAMEBUFFER, null);
      }
      if (frame) {
        this.setViewport(frame.x, frame.y, frame.width, frame.height);
      } else {
        this.setViewport(0, 0, this.renderer.width, this.renderer.height);
      }
    }
  }
  setViewport(x, y, width, height) {
    const v = this.viewport;
    x = Math.round(x);
    y = Math.round(y);
    width = Math.round(width);
    height = Math.round(height);
    if (v.width !== width || v.height !== height || v.x !== x || v.y !== y) {
      v.x = x;
      v.y = y;
      v.width = width;
      v.height = height;
      this.gl.viewport(x, y, width, height);
    }
  }
  get size() {
    if (this.current) {
      return { x: 0, y: 0, width: this.current.width, height: this.current.height };
    }
    return { x: 0, y: 0, width: this.renderer.width, height: this.renderer.height };
  }
  clear(r, g, b, a, mask = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_BITS.COLOR | _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_BITS.DEPTH) {
    const { gl } = this;
    gl.clearColor(r, g, b, a);
    gl.clear(mask);
  }
  initFramebuffer(framebuffer) {
    const { gl } = this;
    const fbo = new _GLFramebuffer_mjs__WEBPACK_IMPORTED_MODULE_5__.GLFramebuffer(gl.createFramebuffer());
    fbo.multisample = this.detectSamples(framebuffer.multisample);
    framebuffer.glFramebuffers[this.CONTEXT_UID] = fbo;
    this.managedFramebuffers.push(framebuffer);
    framebuffer.disposeRunner.add(this);
    return fbo;
  }
  resizeFramebuffer(framebuffer) {
    const { gl } = this;
    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];
    if (fbo.stencil) {
      gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.stencil);
      if (fbo.msaaBuffer) {
        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, gl.DEPTH24_STENCIL8, framebuffer.width, framebuffer.height);
      } else {
        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, framebuffer.width, framebuffer.height);
      }
    }
    const colorTextures = framebuffer.colorTextures;
    let count = colorTextures.length;
    if (!gl.drawBuffers) {
      count = Math.min(count, 1);
    }
    for (let i = 0; i < count; i++) {
      const texture = colorTextures[i];
      const parentTexture = texture.parentTextureArray || texture;
      this.renderer.texture.bind(parentTexture, 0);
      if (i === 0 && fbo.msaaBuffer) {
        gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.msaaBuffer);
        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, parentTexture._glTextures[this.CONTEXT_UID].internalFormat, framebuffer.width, framebuffer.height);
      }
    }
    if (framebuffer.depthTexture && this.writeDepthTexture) {
      this.renderer.texture.bind(framebuffer.depthTexture, 0);
    }
  }
  updateFramebuffer(framebuffer, mipLevel) {
    const { gl } = this;
    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];
    const colorTextures = framebuffer.colorTextures;
    let count = colorTextures.length;
    if (!gl.drawBuffers) {
      count = Math.min(count, 1);
    }
    if (fbo.multisample > 1 && this.canMultisampleFramebuffer(framebuffer)) {
      fbo.msaaBuffer = fbo.msaaBuffer || gl.createRenderbuffer();
    } else if (fbo.msaaBuffer) {
      gl.deleteRenderbuffer(fbo.msaaBuffer);
      fbo.msaaBuffer = null;
      if (fbo.blitFramebuffer) {
        fbo.blitFramebuffer.dispose();
        fbo.blitFramebuffer = null;
      }
    }
    const activeTextures = [];
    for (let i = 0; i < count; i++) {
      const texture = colorTextures[i];
      const parentTexture = texture.parentTextureArray || texture;
      this.renderer.texture.bind(parentTexture, 0);
      if (i === 0 && fbo.msaaBuffer) {
        gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.msaaBuffer);
        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, parentTexture._glTextures[this.CONTEXT_UID].internalFormat, framebuffer.width, framebuffer.height);
        gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.RENDERBUFFER, fbo.msaaBuffer);
      } else {
        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i, texture.target, parentTexture._glTextures[this.CONTEXT_UID].texture, mipLevel);
        activeTextures.push(gl.COLOR_ATTACHMENT0 + i);
      }
    }
    if (activeTextures.length > 1) {
      gl.drawBuffers(activeTextures);
    }
    if (framebuffer.depthTexture) {
      const writeDepthTexture = this.writeDepthTexture;
      if (writeDepthTexture) {
        const depthTexture = framebuffer.depthTexture;
        this.renderer.texture.bind(depthTexture, 0);
        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, depthTexture._glTextures[this.CONTEXT_UID].texture, mipLevel);
      }
    }
    if ((framebuffer.stencil || framebuffer.depth) && !(framebuffer.depthTexture && this.writeDepthTexture)) {
      fbo.stencil = fbo.stencil || gl.createRenderbuffer();
      gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.stencil);
      if (fbo.msaaBuffer) {
        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, gl.DEPTH24_STENCIL8, framebuffer.width, framebuffer.height);
      } else {
        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, framebuffer.width, framebuffer.height);
      }
      gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, fbo.stencil);
    } else if (fbo.stencil) {
      gl.deleteRenderbuffer(fbo.stencil);
      fbo.stencil = null;
    }
  }
  canMultisampleFramebuffer(framebuffer) {
    return this.renderer.context.webGLVersion !== 1 && framebuffer.colorTextures.length <= 1 && !framebuffer.depthTexture;
  }
  detectSamples(samples) {
    const { msaaSamples } = this;
    let res = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.NONE;
    if (samples <= 1 || msaaSamples === null) {
      return res;
    }
    for (let i = 0; i < msaaSamples.length; i++) {
      if (msaaSamples[i] <= samples) {
        res = msaaSamples[i];
        break;
      }
    }
    if (res === 1) {
      res = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.NONE;
    }
    return res;
  }
  blit(framebuffer, sourcePixels, destPixels) {
    const { current, renderer, gl, CONTEXT_UID } = this;
    if (renderer.context.webGLVersion !== 2) {
      return;
    }
    if (!current) {
      return;
    }
    const fbo = current.glFramebuffers[CONTEXT_UID];
    if (!fbo) {
      return;
    }
    if (!framebuffer) {
      if (!fbo.msaaBuffer) {
        return;
      }
      const colorTexture = current.colorTextures[0];
      if (!colorTexture) {
        return;
      }
      if (!fbo.blitFramebuffer) {
        fbo.blitFramebuffer = new _Framebuffer_mjs__WEBPACK_IMPORTED_MODULE_4__.Framebuffer(current.width, current.height);
        fbo.blitFramebuffer.addColorTexture(0, colorTexture);
      }
      framebuffer = fbo.blitFramebuffer;
      if (framebuffer.colorTextures[0] !== colorTexture) {
        framebuffer.colorTextures[0] = colorTexture;
        framebuffer.dirtyId++;
        framebuffer.dirtyFormat++;
      }
      if (framebuffer.width !== current.width || framebuffer.height !== current.height) {
        framebuffer.width = current.width;
        framebuffer.height = current.height;
        framebuffer.dirtyId++;
        framebuffer.dirtySize++;
      }
    }
    if (!sourcePixels) {
      sourcePixels = tempRectangle;
      sourcePixels.width = current.width;
      sourcePixels.height = current.height;
    }
    if (!destPixels) {
      destPixels = sourcePixels;
    }
    const sameSize = sourcePixels.width === destPixels.width && sourcePixels.height === destPixels.height;
    this.bind(framebuffer);
    gl.bindFramebuffer(gl.READ_FRAMEBUFFER, fbo.framebuffer);
    gl.blitFramebuffer(sourcePixels.left, sourcePixels.top, sourcePixels.right, sourcePixels.bottom, destPixels.left, destPixels.top, destPixels.right, destPixels.bottom, gl.COLOR_BUFFER_BIT, sameSize ? gl.NEAREST : gl.LINEAR);
    gl.bindFramebuffer(gl.READ_FRAMEBUFFER, framebuffer.glFramebuffers[this.CONTEXT_UID].framebuffer);
  }
  disposeFramebuffer(framebuffer, contextLost) {
    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];
    const gl = this.gl;
    if (!fbo) {
      return;
    }
    delete framebuffer.glFramebuffers[this.CONTEXT_UID];
    const index = this.managedFramebuffers.indexOf(framebuffer);
    if (index >= 0) {
      this.managedFramebuffers.splice(index, 1);
    }
    framebuffer.disposeRunner.remove(this);
    if (!contextLost) {
      gl.deleteFramebuffer(fbo.framebuffer);
      if (fbo.msaaBuffer) {
        gl.deleteRenderbuffer(fbo.msaaBuffer);
      }
      if (fbo.stencil) {
        gl.deleteRenderbuffer(fbo.stencil);
      }
    }
    if (fbo.blitFramebuffer) {
      this.disposeFramebuffer(fbo.blitFramebuffer, contextLost);
    }
  }
  disposeAll(contextLost) {
    const list = this.managedFramebuffers;
    this.managedFramebuffers = [];
    for (let i = 0; i < list.length; i++) {
      this.disposeFramebuffer(list[i], contextLost);
    }
  }
  forceStencil() {
    const framebuffer = this.current;
    if (!framebuffer) {
      return;
    }
    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];
    if (!fbo || fbo.stencil) {
      return;
    }
    framebuffer.stencil = true;
    const w = framebuffer.width;
    const h = framebuffer.height;
    const gl = this.gl;
    const stencil = gl.createRenderbuffer();
    gl.bindRenderbuffer(gl.RENDERBUFFER, stencil);
    if (fbo.msaaBuffer) {
      gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, gl.DEPTH24_STENCIL8, w, h);
    } else {
      gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, w, h);
    }
    fbo.stencil = stencil;
    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, stencil);
  }
  reset() {
    this.current = this.unknownFramebuffer;
    this.viewport = new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Rectangle();
  }
  destroy() {
    this.renderer = null;
  }
}
FramebufferSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "framebuffer"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(FramebufferSystem);


//# sourceMappingURL=FramebufferSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/framebuffer/GLFramebuffer.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/framebuffer/GLFramebuffer.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GLFramebuffer: () => (/* binding */ GLFramebuffer)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


class GLFramebuffer {
  constructor(framebuffer) {
    this.framebuffer = framebuffer;
    this.stencil = null;
    this.dirtyId = -1;
    this.dirtyFormat = -1;
    this.dirtySize = -1;
    this.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.NONE;
    this.msaaBuffer = null;
    this.blitFramebuffer = null;
    this.mipLevel = 0;
  }
}


//# sourceMappingURL=GLFramebuffer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/framebuffer/MultisampleSystem.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/framebuffer/MultisampleSystem.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MultisampleSystem: () => (/* binding */ MultisampleSystem)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");



class MultisampleSystem {
  constructor(renderer) {
    this.renderer = renderer;
  }
  contextChange(gl) {
    let samples;
    if (this.renderer.context.webGLVersion === 1) {
      const framebuffer = gl.getParameter(gl.FRAMEBUFFER_BINDING);
      gl.bindFramebuffer(gl.FRAMEBUFFER, null);
      samples = gl.getParameter(gl.SAMPLES);
      gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);
    } else {
      const framebuffer = gl.getParameter(gl.DRAW_FRAMEBUFFER_BINDING);
      gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);
      samples = gl.getParameter(gl.SAMPLES);
      gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, framebuffer);
    }
    if (samples >= _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.HIGH) {
      this.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.HIGH;
    } else if (samples >= _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.MEDIUM) {
      this.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.MEDIUM;
    } else if (samples >= _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.LOW) {
      this.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.LOW;
    } else {
      this.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.NONE;
    }
  }
  destroy() {
  }
}
MultisampleSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "_multisample"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(MultisampleSystem);


//# sourceMappingURL=MultisampleSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/Attribute.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/Attribute.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Attribute: () => (/* binding */ Attribute)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


class Attribute {
  constructor(buffer, size = 0, normalized = false, type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT, stride, start, instance, divisor = 1) {
    this.buffer = buffer;
    this.size = size;
    this.normalized = normalized;
    this.type = type;
    this.stride = stride;
    this.start = start;
    this.instance = instance;
    this.divisor = divisor;
  }
  destroy() {
    this.buffer = null;
  }
  static from(buffer, size, normalized, type, stride) {
    return new Attribute(buffer, size, normalized, type, stride);
  }
}


//# sourceMappingURL=Attribute.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/Buffer.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/Buffer.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Buffer: () => (/* binding */ Buffer)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");



let UID = 0;
class Buffer {
  constructor(data, _static = true, index = false) {
    this.data = data || new Float32Array(1);
    this._glBuffers = {};
    this._updateID = 0;
    this.index = index;
    this.static = _static;
    this.id = UID++;
    this.disposeRunner = new _pixi_runner__WEBPACK_IMPORTED_MODULE_1__.Runner("disposeBuffer");
  }
  update(data) {
    if (data instanceof Array) {
      data = new Float32Array(data);
    }
    this.data = data || this.data;
    this._updateID++;
  }
  dispose() {
    this.disposeRunner.emit(this, false);
  }
  destroy() {
    this.dispose();
    this.data = null;
  }
  set index(value) {
    this.type = value ? _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER : _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_TYPE.ARRAY_BUFFER;
  }
  get index() {
    return this.type === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;
  }
  static from(data) {
    if (data instanceof Array) {
      data = new Float32Array(data);
    }
    return new Buffer(data);
  }
}


//# sourceMappingURL=Buffer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/BufferSystem.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/BufferSystem.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BufferSystem: () => (/* binding */ BufferSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _GLBuffer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GLBuffer.mjs */ "./node_modules/@pixi/core/lib/geometry/GLBuffer.mjs");



class BufferSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.managedBuffers = {};
    this.boundBufferBases = {};
  }
  destroy() {
    this.renderer = null;
  }
  contextChange() {
    this.disposeAll(true);
    this.gl = this.renderer.gl;
    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
  }
  bind(buffer) {
    const { gl, CONTEXT_UID } = this;
    const glBuffer = buffer._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer);
    gl.bindBuffer(buffer.type, glBuffer.buffer);
  }
  unbind(type) {
    const { gl } = this;
    gl.bindBuffer(type, null);
  }
  bindBufferBase(buffer, index) {
    const { gl, CONTEXT_UID } = this;
    if (this.boundBufferBases[index] !== buffer) {
      const glBuffer = buffer._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer);
      this.boundBufferBases[index] = buffer;
      gl.bindBufferBase(gl.UNIFORM_BUFFER, index, glBuffer.buffer);
    }
  }
  bindBufferRange(buffer, index, offset) {
    const { gl, CONTEXT_UID } = this;
    offset = offset || 0;
    const glBuffer = buffer._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer);
    gl.bindBufferRange(gl.UNIFORM_BUFFER, index || 0, glBuffer.buffer, offset * 256, 256);
  }
  update(buffer) {
    const { gl, CONTEXT_UID } = this;
    const glBuffer = buffer._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer);
    if (buffer._updateID === glBuffer.updateID) {
      return;
    }
    glBuffer.updateID = buffer._updateID;
    gl.bindBuffer(buffer.type, glBuffer.buffer);
    if (glBuffer.byteLength >= buffer.data.byteLength) {
      gl.bufferSubData(buffer.type, 0, buffer.data);
    } else {
      const drawType = buffer.static ? gl.STATIC_DRAW : gl.DYNAMIC_DRAW;
      glBuffer.byteLength = buffer.data.byteLength;
      gl.bufferData(buffer.type, buffer.data, drawType);
    }
  }
  dispose(buffer, contextLost) {
    if (!this.managedBuffers[buffer.id]) {
      return;
    }
    delete this.managedBuffers[buffer.id];
    const glBuffer = buffer._glBuffers[this.CONTEXT_UID];
    const gl = this.gl;
    buffer.disposeRunner.remove(this);
    if (!glBuffer) {
      return;
    }
    if (!contextLost) {
      gl.deleteBuffer(glBuffer.buffer);
    }
    delete buffer._glBuffers[this.CONTEXT_UID];
  }
  disposeAll(contextLost) {
    const all = Object.keys(this.managedBuffers);
    for (let i = 0; i < all.length; i++) {
      this.dispose(this.managedBuffers[all[i]], contextLost);
    }
  }
  createGLBuffer(buffer) {
    const { CONTEXT_UID, gl } = this;
    buffer._glBuffers[CONTEXT_UID] = new _GLBuffer_mjs__WEBPACK_IMPORTED_MODULE_1__.GLBuffer(gl.createBuffer());
    this.managedBuffers[buffer.id] = buffer;
    buffer.disposeRunner.add(this);
    return buffer._glBuffers[CONTEXT_UID];
  }
}
BufferSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
  name: "buffer"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(BufferSystem);


//# sourceMappingURL=BufferSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/GLBuffer.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/GLBuffer.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GLBuffer: () => (/* binding */ GLBuffer)
/* harmony export */ });
class GLBuffer {
  constructor(buffer) {
    this.buffer = buffer || null;
    this.updateID = -1;
    this.byteLength = -1;
    this.refCount = 0;
  }
}


//# sourceMappingURL=GLBuffer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/Geometry.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/Geometry.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Geometry: () => (/* binding */ Geometry)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _Attribute_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Attribute.mjs */ "./node_modules/@pixi/core/lib/geometry/Attribute.mjs");
/* harmony import */ var _Buffer_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Buffer.mjs */ "./node_modules/@pixi/core/lib/geometry/Buffer.mjs");
/* harmony import */ var _utils_interleaveTypedArrays_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/interleaveTypedArrays.mjs */ "./node_modules/@pixi/core/lib/geometry/utils/interleaveTypedArrays.mjs");







const byteSizeMap = { 5126: 4, 5123: 2, 5121: 1 };
let UID = 0;
const map = {
  Float32Array,
  Uint32Array,
  Int32Array,
  Uint8Array,
  Uint16Array
};
class Geometry {
  constructor(buffers = [], attributes = {}) {
    this.buffers = buffers;
    this.indexBuffer = null;
    this.attributes = attributes;
    this.glVertexArrayObjects = {};
    this.id = UID++;
    this.instanced = false;
    this.instanceCount = 1;
    this.disposeRunner = new _pixi_runner__WEBPACK_IMPORTED_MODULE_1__.Runner("disposeGeometry");
    this.refCount = 0;
  }
  addAttribute(id, buffer, size = 0, normalized = false, type, stride, start, instance = false) {
    if (!buffer) {
      throw new Error("You must pass a buffer when creating an attribute");
    }
    if (!(buffer instanceof _Buffer_mjs__WEBPACK_IMPORTED_MODULE_4__.Buffer)) {
      if (buffer instanceof Array) {
        buffer = new Float32Array(buffer);
      }
      buffer = new _Buffer_mjs__WEBPACK_IMPORTED_MODULE_4__.Buffer(buffer);
    }
    const ids = id.split("|");
    if (ids.length > 1) {
      for (let i = 0; i < ids.length; i++) {
        this.addAttribute(ids[i], buffer, size, normalized, type);
      }
      return this;
    }
    let bufferIndex = this.buffers.indexOf(buffer);
    if (bufferIndex === -1) {
      this.buffers.push(buffer);
      bufferIndex = this.buffers.length - 1;
    }
    this.attributes[id] = new _Attribute_mjs__WEBPACK_IMPORTED_MODULE_3__.Attribute(bufferIndex, size, normalized, type, stride, start, instance);
    this.instanced = this.instanced || instance;
    return this;
  }
  getAttribute(id) {
    return this.attributes[id];
  }
  getBuffer(id) {
    return this.buffers[this.getAttribute(id).buffer];
  }
  addIndex(buffer) {
    if (!(buffer instanceof _Buffer_mjs__WEBPACK_IMPORTED_MODULE_4__.Buffer)) {
      if (buffer instanceof Array) {
        buffer = new Uint16Array(buffer);
      }
      buffer = new _Buffer_mjs__WEBPACK_IMPORTED_MODULE_4__.Buffer(buffer);
    }
    buffer.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;
    this.indexBuffer = buffer;
    if (!this.buffers.includes(buffer)) {
      this.buffers.push(buffer);
    }
    return this;
  }
  getIndex() {
    return this.indexBuffer;
  }
  interleave() {
    if (this.buffers.length === 1 || this.buffers.length === 2 && this.indexBuffer)
      return this;
    const arrays = [];
    const sizes = [];
    const interleavedBuffer = new _Buffer_mjs__WEBPACK_IMPORTED_MODULE_4__.Buffer();
    let i;
    for (i in this.attributes) {
      const attribute = this.attributes[i];
      const buffer = this.buffers[attribute.buffer];
      arrays.push(buffer.data);
      sizes.push(attribute.size * byteSizeMap[attribute.type] / 4);
      attribute.buffer = 0;
    }
    interleavedBuffer.data = (0,_utils_interleaveTypedArrays_mjs__WEBPACK_IMPORTED_MODULE_5__.interleaveTypedArrays)(arrays, sizes);
    for (i = 0; i < this.buffers.length; i++) {
      if (this.buffers[i] !== this.indexBuffer) {
        this.buffers[i].destroy();
      }
    }
    this.buffers = [interleavedBuffer];
    if (this.indexBuffer) {
      this.buffers.push(this.indexBuffer);
    }
    return this;
  }
  getSize() {
    for (const i in this.attributes) {
      const attribute = this.attributes[i];
      const buffer = this.buffers[attribute.buffer];
      return buffer.data.length / (attribute.stride / 4 || attribute.size);
    }
    return 0;
  }
  dispose() {
    this.disposeRunner.emit(this, false);
  }
  destroy() {
    this.dispose();
    this.buffers = null;
    this.indexBuffer = null;
    this.attributes = null;
  }
  clone() {
    const geometry = new Geometry();
    for (let i = 0; i < this.buffers.length; i++) {
      geometry.buffers[i] = new _Buffer_mjs__WEBPACK_IMPORTED_MODULE_4__.Buffer(this.buffers[i].data.slice(0));
    }
    for (const i in this.attributes) {
      const attrib = this.attributes[i];
      geometry.attributes[i] = new _Attribute_mjs__WEBPACK_IMPORTED_MODULE_3__.Attribute(attrib.buffer, attrib.size, attrib.normalized, attrib.type, attrib.stride, attrib.start, attrib.instance);
    }
    if (this.indexBuffer) {
      geometry.indexBuffer = geometry.buffers[this.buffers.indexOf(this.indexBuffer)];
      geometry.indexBuffer.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;
    }
    return geometry;
  }
  static merge(geometries) {
    const geometryOut = new Geometry();
    const arrays = [];
    const sizes = [];
    const offsets = [];
    let geometry;
    for (let i = 0; i < geometries.length; i++) {
      geometry = geometries[i];
      for (let j = 0; j < geometry.buffers.length; j++) {
        sizes[j] = sizes[j] || 0;
        sizes[j] += geometry.buffers[j].data.length;
        offsets[j] = 0;
      }
    }
    for (let i = 0; i < geometry.buffers.length; i++) {
      arrays[i] = new map[(0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.getBufferType)(geometry.buffers[i].data)](sizes[i]);
      geometryOut.buffers[i] = new _Buffer_mjs__WEBPACK_IMPORTED_MODULE_4__.Buffer(arrays[i]);
    }
    for (let i = 0; i < geometries.length; i++) {
      geometry = geometries[i];
      for (let j = 0; j < geometry.buffers.length; j++) {
        arrays[j].set(geometry.buffers[j].data, offsets[j]);
        offsets[j] += geometry.buffers[j].data.length;
      }
    }
    geometryOut.attributes = geometry.attributes;
    if (geometry.indexBuffer) {
      geometryOut.indexBuffer = geometryOut.buffers[geometry.buffers.indexOf(geometry.indexBuffer)];
      geometryOut.indexBuffer.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;
      let offset = 0;
      let stride = 0;
      let offset2 = 0;
      let bufferIndexToCount = 0;
      for (let i = 0; i < geometry.buffers.length; i++) {
        if (geometry.buffers[i] !== geometry.indexBuffer) {
          bufferIndexToCount = i;
          break;
        }
      }
      for (const i in geometry.attributes) {
        const attribute = geometry.attributes[i];
        if ((attribute.buffer | 0) === bufferIndexToCount) {
          stride += attribute.size * byteSizeMap[attribute.type] / 4;
        }
      }
      for (let i = 0; i < geometries.length; i++) {
        const indexBufferData = geometries[i].indexBuffer.data;
        for (let j = 0; j < indexBufferData.length; j++) {
          geometryOut.indexBuffer.data[j + offset2] += offset;
        }
        offset += geometries[i].buffers[bufferIndexToCount].data.length / stride;
        offset2 += indexBufferData.length;
      }
    }
    return geometryOut;
  }
}


//# sourceMappingURL=Geometry.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/GeometrySystem.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/GeometrySystem.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GeometrySystem: () => (/* binding */ GeometrySystem)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");




const byteSizeMap = { 5126: 4, 5123: 2, 5121: 1 };
class GeometrySystem {
  constructor(renderer) {
    this.renderer = renderer;
    this._activeGeometry = null;
    this._activeVao = null;
    this.hasVao = true;
    this.hasInstance = true;
    this.canUseUInt32ElementIndex = false;
    this.managedGeometries = {};
  }
  contextChange() {
    this.disposeAll(true);
    const gl = this.gl = this.renderer.gl;
    const context = this.renderer.context;
    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
    if (context.webGLVersion !== 2) {
      let nativeVaoExtension = this.renderer.context.extensions.vertexArrayObject;
      if (_pixi_settings__WEBPACK_IMPORTED_MODULE_2__.settings.PREFER_ENV === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ENV.WEBGL_LEGACY) {
        nativeVaoExtension = null;
      }
      if (nativeVaoExtension) {
        gl.createVertexArray = () => nativeVaoExtension.createVertexArrayOES();
        gl.bindVertexArray = (vao) => nativeVaoExtension.bindVertexArrayOES(vao);
        gl.deleteVertexArray = (vao) => nativeVaoExtension.deleteVertexArrayOES(vao);
      } else {
        this.hasVao = false;
        gl.createVertexArray = () => null;
        gl.bindVertexArray = () => null;
        gl.deleteVertexArray = () => null;
      }
    }
    if (context.webGLVersion !== 2) {
      const instanceExt = gl.getExtension("ANGLE_instanced_arrays");
      if (instanceExt) {
        gl.vertexAttribDivisor = (a, b) => instanceExt.vertexAttribDivisorANGLE(a, b);
        gl.drawElementsInstanced = (a, b, c, d, e) => instanceExt.drawElementsInstancedANGLE(a, b, c, d, e);
        gl.drawArraysInstanced = (a, b, c, d) => instanceExt.drawArraysInstancedANGLE(a, b, c, d);
      } else {
        this.hasInstance = false;
      }
    }
    this.canUseUInt32ElementIndex = context.webGLVersion === 2 || !!context.extensions.uint32ElementIndex;
  }
  bind(geometry, shader) {
    shader = shader || this.renderer.shader.shader;
    const { gl } = this;
    let vaos = geometry.glVertexArrayObjects[this.CONTEXT_UID];
    let incRefCount = false;
    if (!vaos) {
      this.managedGeometries[geometry.id] = geometry;
      geometry.disposeRunner.add(this);
      geometry.glVertexArrayObjects[this.CONTEXT_UID] = vaos = {};
      incRefCount = true;
    }
    const vao = vaos[shader.program.id] || this.initGeometryVao(geometry, shader, incRefCount);
    this._activeGeometry = geometry;
    if (this._activeVao !== vao) {
      this._activeVao = vao;
      if (this.hasVao) {
        gl.bindVertexArray(vao);
      } else {
        this.activateVao(geometry, shader.program);
      }
    }
    this.updateBuffers();
  }
  reset() {
    this.unbind();
  }
  updateBuffers() {
    const geometry = this._activeGeometry;
    const bufferSystem = this.renderer.buffer;
    for (let i = 0; i < geometry.buffers.length; i++) {
      const buffer = geometry.buffers[i];
      bufferSystem.update(buffer);
    }
  }
  checkCompatibility(geometry, program) {
    const geometryAttributes = geometry.attributes;
    const shaderAttributes = program.attributeData;
    for (const j in shaderAttributes) {
      if (!geometryAttributes[j]) {
        throw new Error(`shader and geometry incompatible, geometry missing the "${j}" attribute`);
      }
    }
  }
  getSignature(geometry, program) {
    const attribs = geometry.attributes;
    const shaderAttributes = program.attributeData;
    const strings = ["g", geometry.id];
    for (const i in attribs) {
      if (shaderAttributes[i]) {
        strings.push(i, shaderAttributes[i].location);
      }
    }
    return strings.join("-");
  }
  initGeometryVao(geometry, shader, incRefCount = true) {
    const gl = this.gl;
    const CONTEXT_UID = this.CONTEXT_UID;
    const bufferSystem = this.renderer.buffer;
    const program = shader.program;
    if (!program.glPrograms[CONTEXT_UID]) {
      this.renderer.shader.generateProgram(shader);
    }
    this.checkCompatibility(geometry, program);
    const signature = this.getSignature(geometry, program);
    const vaoObjectHash = geometry.glVertexArrayObjects[this.CONTEXT_UID];
    let vao = vaoObjectHash[signature];
    if (vao) {
      vaoObjectHash[program.id] = vao;
      return vao;
    }
    const buffers = geometry.buffers;
    const attributes = geometry.attributes;
    const tempStride = {};
    const tempStart = {};
    for (const j in buffers) {
      tempStride[j] = 0;
      tempStart[j] = 0;
    }
    for (const j in attributes) {
      if (!attributes[j].size && program.attributeData[j]) {
        attributes[j].size = program.attributeData[j].size;
      } else if (!attributes[j].size) {
        console.warn(`PIXI Geometry attribute '${j}' size cannot be determined (likely the bound shader does not have the attribute)`);
      }
      tempStride[attributes[j].buffer] += attributes[j].size * byteSizeMap[attributes[j].type];
    }
    for (const j in attributes) {
      const attribute = attributes[j];
      const attribSize = attribute.size;
      if (attribute.stride === void 0) {
        if (tempStride[attribute.buffer] === attribSize * byteSizeMap[attribute.type]) {
          attribute.stride = 0;
        } else {
          attribute.stride = tempStride[attribute.buffer];
        }
      }
      if (attribute.start === void 0) {
        attribute.start = tempStart[attribute.buffer];
        tempStart[attribute.buffer] += attribSize * byteSizeMap[attribute.type];
      }
    }
    vao = gl.createVertexArray();
    gl.bindVertexArray(vao);
    for (let i = 0; i < buffers.length; i++) {
      const buffer = buffers[i];
      bufferSystem.bind(buffer);
      if (incRefCount) {
        buffer._glBuffers[CONTEXT_UID].refCount++;
      }
    }
    this.activateVao(geometry, program);
    vaoObjectHash[program.id] = vao;
    vaoObjectHash[signature] = vao;
    gl.bindVertexArray(null);
    bufferSystem.unbind(_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_TYPE.ARRAY_BUFFER);
    return vao;
  }
  disposeGeometry(geometry, contextLost) {
    if (!this.managedGeometries[geometry.id]) {
      return;
    }
    delete this.managedGeometries[geometry.id];
    const vaos = geometry.glVertexArrayObjects[this.CONTEXT_UID];
    const gl = this.gl;
    const buffers = geometry.buffers;
    const bufferSystem = this.renderer?.buffer;
    geometry.disposeRunner.remove(this);
    if (!vaos) {
      return;
    }
    if (bufferSystem) {
      for (let i = 0; i < buffers.length; i++) {
        const buf = buffers[i]._glBuffers[this.CONTEXT_UID];
        if (buf) {
          buf.refCount--;
          if (buf.refCount === 0 && !contextLost) {
            bufferSystem.dispose(buffers[i], contextLost);
          }
        }
      }
    }
    if (!contextLost) {
      for (const vaoId in vaos) {
        if (vaoId[0] === "g") {
          const vao = vaos[vaoId];
          if (this._activeVao === vao) {
            this.unbind();
          }
          gl.deleteVertexArray(vao);
        }
      }
    }
    delete geometry.glVertexArrayObjects[this.CONTEXT_UID];
  }
  disposeAll(contextLost) {
    const all = Object.keys(this.managedGeometries);
    for (let i = 0; i < all.length; i++) {
      this.disposeGeometry(this.managedGeometries[all[i]], contextLost);
    }
  }
  activateVao(geometry, program) {
    const gl = this.gl;
    const CONTEXT_UID = this.CONTEXT_UID;
    const bufferSystem = this.renderer.buffer;
    const buffers = geometry.buffers;
    const attributes = geometry.attributes;
    if (geometry.indexBuffer) {
      bufferSystem.bind(geometry.indexBuffer);
    }
    let lastBuffer = null;
    for (const j in attributes) {
      const attribute = attributes[j];
      const buffer = buffers[attribute.buffer];
      const glBuffer = buffer._glBuffers[CONTEXT_UID];
      if (program.attributeData[j]) {
        if (lastBuffer !== glBuffer) {
          bufferSystem.bind(buffer);
          lastBuffer = glBuffer;
        }
        const location = program.attributeData[j].location;
        gl.enableVertexAttribArray(location);
        gl.vertexAttribPointer(location, attribute.size, attribute.type || gl.FLOAT, attribute.normalized, attribute.stride, attribute.start);
        if (attribute.instance) {
          if (this.hasInstance) {
            gl.vertexAttribDivisor(location, attribute.divisor);
          } else {
            throw new Error("geometry error, GPU Instancing is not supported on this device");
          }
        }
      }
    }
  }
  draw(type, size, start, instanceCount) {
    const { gl } = this;
    const geometry = this._activeGeometry;
    if (geometry.indexBuffer) {
      const byteSize = geometry.indexBuffer.data.BYTES_PER_ELEMENT;
      const glType = byteSize === 2 ? gl.UNSIGNED_SHORT : gl.UNSIGNED_INT;
      if (byteSize === 2 || byteSize === 4 && this.canUseUInt32ElementIndex) {
        if (geometry.instanced) {
          gl.drawElementsInstanced(type, size || geometry.indexBuffer.data.length, glType, (start || 0) * byteSize, instanceCount || 1);
        } else {
          gl.drawElements(type, size || geometry.indexBuffer.data.length, glType, (start || 0) * byteSize);
        }
      } else {
        console.warn("unsupported index buffer type: uint32");
      }
    } else if (geometry.instanced) {
      gl.drawArraysInstanced(type, start, size || geometry.getSize(), instanceCount || 1);
    } else {
      gl.drawArrays(type, start, size || geometry.getSize());
    }
    return this;
  }
  unbind() {
    this.gl.bindVertexArray(null);
    this._activeVao = null;
    this._activeGeometry = null;
  }
  destroy() {
    this.renderer = null;
  }
}
GeometrySystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "geometry"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(GeometrySystem);


//# sourceMappingURL=GeometrySystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/ViewableBuffer.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/ViewableBuffer.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewableBuffer: () => (/* binding */ ViewableBuffer)
/* harmony export */ });
class ViewableBuffer {
  constructor(sizeOrBuffer) {
    if (typeof sizeOrBuffer === "number") {
      this.rawBinaryData = new ArrayBuffer(sizeOrBuffer);
    } else if (sizeOrBuffer instanceof Uint8Array) {
      this.rawBinaryData = sizeOrBuffer.buffer;
    } else {
      this.rawBinaryData = sizeOrBuffer;
    }
    this.uint32View = new Uint32Array(this.rawBinaryData);
    this.float32View = new Float32Array(this.rawBinaryData);
  }
  get int8View() {
    if (!this._int8View) {
      this._int8View = new Int8Array(this.rawBinaryData);
    }
    return this._int8View;
  }
  get uint8View() {
    if (!this._uint8View) {
      this._uint8View = new Uint8Array(this.rawBinaryData);
    }
    return this._uint8View;
  }
  get int16View() {
    if (!this._int16View) {
      this._int16View = new Int16Array(this.rawBinaryData);
    }
    return this._int16View;
  }
  get uint16View() {
    if (!this._uint16View) {
      this._uint16View = new Uint16Array(this.rawBinaryData);
    }
    return this._uint16View;
  }
  get int32View() {
    if (!this._int32View) {
      this._int32View = new Int32Array(this.rawBinaryData);
    }
    return this._int32View;
  }
  view(type) {
    return this[`${type}View`];
  }
  destroy() {
    this.rawBinaryData = null;
    this._int8View = null;
    this._uint8View = null;
    this._int16View = null;
    this._uint16View = null;
    this._int32View = null;
    this.uint32View = null;
    this.float32View = null;
  }
  static sizeOf(type) {
    switch (type) {
      case "int8":
      case "uint8":
        return 1;
      case "int16":
      case "uint16":
        return 2;
      case "int32":
      case "uint32":
      case "float32":
        return 4;
      default:
        throw new Error(`${type} isn't a valid view type`);
    }
  }
}


//# sourceMappingURL=ViewableBuffer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/utils/interleaveTypedArrays.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/utils/interleaveTypedArrays.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   interleaveTypedArrays: () => (/* binding */ interleaveTypedArrays)
/* harmony export */ });
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");


const map = {
  Float32Array,
  Uint32Array,
  Int32Array,
  Uint8Array
};
function interleaveTypedArrays(arrays, sizes) {
  let outSize = 0;
  let stride = 0;
  const views = {};
  for (let i = 0; i < arrays.length; i++) {
    stride += sizes[i];
    outSize += arrays[i].length;
  }
  const buffer = new ArrayBuffer(outSize * 4);
  let out = null;
  let littleOffset = 0;
  for (let i = 0; i < arrays.length; i++) {
    const size = sizes[i];
    const array = arrays[i];
    const type = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.getBufferType)(array);
    if (!views[type]) {
      views[type] = new map[type](buffer);
    }
    out = views[type];
    for (let j = 0; j < array.length; j++) {
      const indexStart = (j / size | 0) * stride + littleOffset;
      const index = j % size;
      out[indexStart + index] = array[j];
    }
    littleOffset += size;
  }
  return new Float32Array(buffer);
}


//# sourceMappingURL=interleaveTypedArrays.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/index.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/core/lib/index.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ALPHA_MODES: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.ALPHA_MODES),
/* harmony export */   AbstractMultiResource: () => (/* reexport safe */ _textures_resources_AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_81__.AbstractMultiResource),
/* harmony export */   ArrayResource: () => (/* reexport safe */ _textures_resources_ArrayResource_mjs__WEBPACK_IMPORTED_MODULE_82__.ArrayResource),
/* harmony export */   Attribute: () => (/* reexport safe */ _geometry_Attribute_mjs__WEBPACK_IMPORTED_MODULE_29__.Attribute),
/* harmony export */   BLEND_MODES: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.BLEND_MODES),
/* harmony export */   BUFFER_BITS: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.BUFFER_BITS),
/* harmony export */   BUFFER_TYPE: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.BUFFER_TYPE),
/* harmony export */   BackgroundSystem: () => (/* reexport safe */ _background_BackgroundSystem_mjs__WEBPACK_IMPORTED_MODULE_10__.BackgroundSystem),
/* harmony export */   BaseImageResource: () => (/* reexport safe */ _textures_resources_BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_79__.BaseImageResource),
/* harmony export */   BaseRenderTexture: () => (/* reexport safe */ _renderTexture_BaseRenderTexture_mjs__WEBPACK_IMPORTED_MODULE_44__.BaseRenderTexture),
/* harmony export */   BaseTexture: () => (/* reexport safe */ _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_65__.BaseTexture),
/* harmony export */   BatchDrawCall: () => (/* reexport safe */ _batch_BatchDrawCall_mjs__WEBPACK_IMPORTED_MODULE_11__.BatchDrawCall),
/* harmony export */   BatchGeometry: () => (/* reexport safe */ _batch_BatchGeometry_mjs__WEBPACK_IMPORTED_MODULE_12__.BatchGeometry),
/* harmony export */   BatchRenderer: () => (/* reexport safe */ _batch_BatchRenderer_mjs__WEBPACK_IMPORTED_MODULE_13__.BatchRenderer),
/* harmony export */   BatchShaderGenerator: () => (/* reexport safe */ _batch_BatchShaderGenerator_mjs__WEBPACK_IMPORTED_MODULE_14__.BatchShaderGenerator),
/* harmony export */   BatchSystem: () => (/* reexport safe */ _batch_BatchSystem_mjs__WEBPACK_IMPORTED_MODULE_15__.BatchSystem),
/* harmony export */   BatchTextureArray: () => (/* reexport safe */ _batch_BatchTextureArray_mjs__WEBPACK_IMPORTED_MODULE_16__.BatchTextureArray),
/* harmony export */   BrowserAdapter: () => (/* reexport safe */ _pixi_settings__WEBPACK_IMPORTED_MODULE_6__.BrowserAdapter),
/* harmony export */   Buffer: () => (/* reexport safe */ _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_30__.Buffer),
/* harmony export */   BufferResource: () => (/* reexport safe */ _textures_resources_BufferResource_mjs__WEBPACK_IMPORTED_MODULE_84__.BufferResource),
/* harmony export */   BufferSystem: () => (/* reexport safe */ _geometry_BufferSystem_mjs__WEBPACK_IMPORTED_MODULE_31__.BufferSystem),
/* harmony export */   CLEAR_MODES: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.CLEAR_MODES),
/* harmony export */   COLOR_MASK_BITS: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.COLOR_MASK_BITS),
/* harmony export */   CanvasResource: () => (/* reexport safe */ _textures_resources_CanvasResource_mjs__WEBPACK_IMPORTED_MODULE_85__.CanvasResource),
/* harmony export */   Circle: () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_4__.Circle),
/* harmony export */   Color: () => (/* reexport safe */ _pixi_color__WEBPACK_IMPORTED_MODULE_1__.Color),
/* harmony export */   ContextSystem: () => (/* reexport safe */ _context_ContextSystem_mjs__WEBPACK_IMPORTED_MODULE_18__.ContextSystem),
/* harmony export */   CubeResource: () => (/* reexport safe */ _textures_resources_CubeResource_mjs__WEBPACK_IMPORTED_MODULE_86__.CubeResource),
/* harmony export */   DEG_TO_RAD: () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_4__.DEG_TO_RAD),
/* harmony export */   DRAW_MODES: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.DRAW_MODES),
/* harmony export */   ENV: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.ENV),
/* harmony export */   Ellipse: () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_4__.Ellipse),
/* harmony export */   ExtensionType: () => (/* reexport safe */ _pixi_extensions__WEBPACK_IMPORTED_MODULE_3__.ExtensionType),
/* harmony export */   FORMATS: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.FORMATS),
/* harmony export */   Filter: () => (/* reexport safe */ _filters_Filter_mjs__WEBPACK_IMPORTED_MODULE_19__.Filter),
/* harmony export */   FilterState: () => (/* reexport safe */ _filters_FilterState_mjs__WEBPACK_IMPORTED_MODULE_20__.FilterState),
/* harmony export */   FilterSystem: () => (/* reexport safe */ _filters_FilterSystem_mjs__WEBPACK_IMPORTED_MODULE_21__.FilterSystem),
/* harmony export */   Framebuffer: () => (/* reexport safe */ _framebuffer_Framebuffer_mjs__WEBPACK_IMPORTED_MODULE_25__.Framebuffer),
/* harmony export */   FramebufferSystem: () => (/* reexport safe */ _framebuffer_FramebufferSystem_mjs__WEBPACK_IMPORTED_MODULE_26__.FramebufferSystem),
/* harmony export */   GC_MODES: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.GC_MODES),
/* harmony export */   GLFramebuffer: () => (/* reexport safe */ _framebuffer_GLFramebuffer_mjs__WEBPACK_IMPORTED_MODULE_27__.GLFramebuffer),
/* harmony export */   GLProgram: () => (/* reexport safe */ _shader_GLProgram_mjs__WEBPACK_IMPORTED_MODULE_49__.GLProgram),
/* harmony export */   GLTexture: () => (/* reexport safe */ _textures_GLTexture_mjs__WEBPACK_IMPORTED_MODULE_66__.GLTexture),
/* harmony export */   GenerateTextureSystem: () => (/* reexport safe */ _renderTexture_GenerateTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_45__.GenerateTextureSystem),
/* harmony export */   Geometry: () => (/* reexport safe */ _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_32__.Geometry),
/* harmony export */   GeometrySystem: () => (/* reexport safe */ _geometry_GeometrySystem_mjs__WEBPACK_IMPORTED_MODULE_33__.GeometrySystem),
/* harmony export */   IGLUniformData: () => (/* reexport safe */ _shader_GLProgram_mjs__WEBPACK_IMPORTED_MODULE_49__.IGLUniformData),
/* harmony export */   INSTALLED: () => (/* reexport safe */ _textures_resources_autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_83__.INSTALLED),
/* harmony export */   ImageBitmapResource: () => (/* reexport safe */ _textures_resources_ImageBitmapResource_mjs__WEBPACK_IMPORTED_MODULE_87__.ImageBitmapResource),
/* harmony export */   ImageResource: () => (/* reexport safe */ _textures_resources_ImageResource_mjs__WEBPACK_IMPORTED_MODULE_88__.ImageResource),
/* harmony export */   MASK_TYPES: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES),
/* harmony export */   MIPMAP_MODES: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MIPMAP_MODES),
/* harmony export */   MSAA_QUALITY: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MSAA_QUALITY),
/* harmony export */   MaskData: () => (/* reexport safe */ _mask_MaskData_mjs__WEBPACK_IMPORTED_MODULE_36__.MaskData),
/* harmony export */   MaskSystem: () => (/* reexport safe */ _mask_MaskSystem_mjs__WEBPACK_IMPORTED_MODULE_37__.MaskSystem),
/* harmony export */   Matrix: () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_4__.Matrix),
/* harmony export */   MultisampleSystem: () => (/* reexport safe */ _framebuffer_MultisampleSystem_mjs__WEBPACK_IMPORTED_MODULE_28__.MultisampleSystem),
/* harmony export */   ObjectRenderer: () => (/* reexport safe */ _batch_ObjectRenderer_mjs__WEBPACK_IMPORTED_MODULE_17__.ObjectRenderer),
/* harmony export */   ObjectRendererSystem: () => (/* reexport safe */ _render_ObjectRendererSystem_mjs__WEBPACK_IMPORTED_MODULE_42__.ObjectRendererSystem),
/* harmony export */   ObservablePoint: () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_4__.ObservablePoint),
/* harmony export */   PI_2: () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_4__.PI_2),
/* harmony export */   PRECISION: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.PRECISION),
/* harmony export */   PluginSystem: () => (/* reexport safe */ _plugin_PluginSystem_mjs__WEBPACK_IMPORTED_MODULE_40__.PluginSystem),
/* harmony export */   Point: () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_4__.Point),
/* harmony export */   Polygon: () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_4__.Polygon),
/* harmony export */   Program: () => (/* reexport safe */ _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_50__.Program),
/* harmony export */   ProjectionSystem: () => (/* reexport safe */ _projection_ProjectionSystem_mjs__WEBPACK_IMPORTED_MODULE_41__.ProjectionSystem),
/* harmony export */   Quad: () => (/* reexport safe */ _utils_Quad_mjs__WEBPACK_IMPORTED_MODULE_75__.Quad),
/* harmony export */   QuadUv: () => (/* reexport safe */ _utils_QuadUv_mjs__WEBPACK_IMPORTED_MODULE_76__.QuadUv),
/* harmony export */   RAD_TO_DEG: () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_4__.RAD_TO_DEG),
/* harmony export */   RENDERER_TYPE: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.RENDERER_TYPE),
/* harmony export */   Rectangle: () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_4__.Rectangle),
/* harmony export */   RenderTexture: () => (/* reexport safe */ _renderTexture_RenderTexture_mjs__WEBPACK_IMPORTED_MODULE_46__.RenderTexture),
/* harmony export */   RenderTexturePool: () => (/* reexport safe */ _renderTexture_RenderTexturePool_mjs__WEBPACK_IMPORTED_MODULE_47__.RenderTexturePool),
/* harmony export */   RenderTextureSystem: () => (/* reexport safe */ _renderTexture_RenderTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_48__.RenderTextureSystem),
/* harmony export */   Renderer: () => (/* reexport safe */ _Renderer_mjs__WEBPACK_IMPORTED_MODULE_43__.Renderer),
/* harmony export */   Resource: () => (/* reexport safe */ _textures_resources_Resource_mjs__WEBPACK_IMPORTED_MODULE_80__.Resource),
/* harmony export */   RoundedRectangle: () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_4__.RoundedRectangle),
/* harmony export */   Runner: () => (/* reexport safe */ _pixi_runner__WEBPACK_IMPORTED_MODULE_5__.Runner),
/* harmony export */   SAMPLER_TYPES: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.SAMPLER_TYPES),
/* harmony export */   SCALE_MODES: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.SCALE_MODES),
/* harmony export */   SHAPES: () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_4__.SHAPES),
/* harmony export */   SVGResource: () => (/* reexport safe */ _textures_resources_SVGResource_mjs__WEBPACK_IMPORTED_MODULE_89__.SVGResource),
/* harmony export */   ScissorSystem: () => (/* reexport safe */ _mask_ScissorSystem_mjs__WEBPACK_IMPORTED_MODULE_38__.ScissorSystem),
/* harmony export */   Shader: () => (/* reexport safe */ _shader_Shader_mjs__WEBPACK_IMPORTED_MODULE_51__.Shader),
/* harmony export */   ShaderSystem: () => (/* reexport safe */ _shader_ShaderSystem_mjs__WEBPACK_IMPORTED_MODULE_52__.ShaderSystem),
/* harmony export */   SpriteMaskFilter: () => (/* reexport safe */ _filters_spriteMask_SpriteMaskFilter_mjs__WEBPACK_IMPORTED_MODULE_23__.SpriteMaskFilter),
/* harmony export */   StartupSystem: () => (/* reexport safe */ _startup_StartupSystem_mjs__WEBPACK_IMPORTED_MODULE_60__.StartupSystem),
/* harmony export */   State: () => (/* reexport safe */ _state_State_mjs__WEBPACK_IMPORTED_MODULE_61__.State),
/* harmony export */   StateSystem: () => (/* reexport safe */ _state_StateSystem_mjs__WEBPACK_IMPORTED_MODULE_62__.StateSystem),
/* harmony export */   StencilSystem: () => (/* reexport safe */ _mask_StencilSystem_mjs__WEBPACK_IMPORTED_MODULE_39__.StencilSystem),
/* harmony export */   SystemManager: () => (/* reexport safe */ _system_SystemManager_mjs__WEBPACK_IMPORTED_MODULE_78__.SystemManager),
/* harmony export */   TARGETS: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.TARGETS),
/* harmony export */   TYPES: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.TYPES),
/* harmony export */   Texture: () => (/* reexport safe */ _textures_Texture_mjs__WEBPACK_IMPORTED_MODULE_68__.Texture),
/* harmony export */   TextureGCSystem: () => (/* reexport safe */ _textures_TextureGCSystem_mjs__WEBPACK_IMPORTED_MODULE_69__.TextureGCSystem),
/* harmony export */   TextureMatrix: () => (/* reexport safe */ _textures_TextureMatrix_mjs__WEBPACK_IMPORTED_MODULE_70__.TextureMatrix),
/* harmony export */   TextureSystem: () => (/* reexport safe */ _textures_TextureSystem_mjs__WEBPACK_IMPORTED_MODULE_71__.TextureSystem),
/* harmony export */   TextureUvs: () => (/* reexport safe */ _textures_TextureUvs_mjs__WEBPACK_IMPORTED_MODULE_72__.TextureUvs),
/* harmony export */   Ticker: () => (/* reexport safe */ _pixi_ticker__WEBPACK_IMPORTED_MODULE_7__.Ticker),
/* harmony export */   TickerPlugin: () => (/* reexport safe */ _pixi_ticker__WEBPACK_IMPORTED_MODULE_7__.TickerPlugin),
/* harmony export */   Transform: () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_4__.Transform),
/* harmony export */   TransformFeedback: () => (/* reexport safe */ _transformFeedback_TransformFeedback_mjs__WEBPACK_IMPORTED_MODULE_73__.TransformFeedback),
/* harmony export */   TransformFeedbackSystem: () => (/* reexport safe */ _transformFeedback_TransformFeedbackSystem_mjs__WEBPACK_IMPORTED_MODULE_74__.TransformFeedbackSystem),
/* harmony export */   UPDATE_PRIORITY: () => (/* reexport safe */ _pixi_ticker__WEBPACK_IMPORTED_MODULE_7__.UPDATE_PRIORITY),
/* harmony export */   UniformGroup: () => (/* reexport safe */ _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_53__.UniformGroup),
/* harmony export */   VERSION: () => (/* binding */ VERSION),
/* harmony export */   VideoResource: () => (/* reexport safe */ _textures_resources_VideoResource_mjs__WEBPACK_IMPORTED_MODULE_90__.VideoResource),
/* harmony export */   ViewSystem: () => (/* reexport safe */ _view_ViewSystem_mjs__WEBPACK_IMPORTED_MODULE_77__.ViewSystem),
/* harmony export */   ViewableBuffer: () => (/* reexport safe */ _geometry_ViewableBuffer_mjs__WEBPACK_IMPORTED_MODULE_34__.ViewableBuffer),
/* harmony export */   WRAP_MODES: () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.WRAP_MODES),
/* harmony export */   autoDetectRenderer: () => (/* reexport safe */ _autoDetectRenderer_mjs__WEBPACK_IMPORTED_MODULE_9__.autoDetectRenderer),
/* harmony export */   autoDetectResource: () => (/* reexport safe */ _textures_resources_autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_83__.autoDetectResource),
/* harmony export */   checkMaxIfStatementsInShader: () => (/* reexport safe */ _shader_utils_checkMaxIfStatementsInShader_mjs__WEBPACK_IMPORTED_MODULE_54__.checkMaxIfStatementsInShader),
/* harmony export */   createUBOElements: () => (/* reexport safe */ _shader_utils_generateUniformBufferSync_mjs__WEBPACK_IMPORTED_MODULE_56__.createUBOElements),
/* harmony export */   defaultFilterVertex: () => (/* reexport safe */ _fragments_index_mjs__WEBPACK_IMPORTED_MODULE_24__.defaultFilterVertex),
/* harmony export */   defaultVertex: () => (/* reexport safe */ _fragments_index_mjs__WEBPACK_IMPORTED_MODULE_24__.defaultVertex),
/* harmony export */   extensions: () => (/* reexport safe */ _pixi_extensions__WEBPACK_IMPORTED_MODULE_3__.extensions),
/* harmony export */   generateProgram: () => (/* reexport safe */ _shader_utils_generateProgram_mjs__WEBPACK_IMPORTED_MODULE_55__.generateProgram),
/* harmony export */   generateUniformBufferSync: () => (/* reexport safe */ _shader_utils_generateUniformBufferSync_mjs__WEBPACK_IMPORTED_MODULE_56__.generateUniformBufferSync),
/* harmony export */   getTestContext: () => (/* reexport safe */ _shader_utils_getTestContext_mjs__WEBPACK_IMPORTED_MODULE_57__.getTestContext),
/* harmony export */   getUBOData: () => (/* reexport safe */ _shader_utils_generateUniformBufferSync_mjs__WEBPACK_IMPORTED_MODULE_56__.getUBOData),
/* harmony export */   groupD8: () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_4__.groupD8),
/* harmony export */   isMobile: () => (/* reexport safe */ _pixi_settings__WEBPACK_IMPORTED_MODULE_6__.isMobile),
/* harmony export */   settings: () => (/* reexport safe */ _pixi_settings__WEBPACK_IMPORTED_MODULE_6__.settings),
/* harmony export */   uniformParsers: () => (/* reexport safe */ _shader_utils_uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_58__.uniformParsers),
/* harmony export */   unsafeEvalSupported: () => (/* reexport safe */ _shader_utils_unsafeEvalSupported_mjs__WEBPACK_IMPORTED_MODULE_59__.unsafeEvalSupported),
/* harmony export */   utils: () => (/* reexport module object */ _pixi_utils__WEBPACK_IMPORTED_MODULE_8__)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings.mjs */ "./node_modules/@pixi/core/lib/settings.mjs");
/* harmony import */ var _pixi_color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/color */ "./node_modules/@pixi/color/lib/index.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _pixi_ticker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @pixi/ticker */ "./node_modules/@pixi/ticker/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _autoDetectRenderer_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./autoDetectRenderer.mjs */ "./node_modules/@pixi/core/lib/autoDetectRenderer.mjs");
/* harmony import */ var _background_BackgroundSystem_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./background/BackgroundSystem.mjs */ "./node_modules/@pixi/core/lib/background/BackgroundSystem.mjs");
/* harmony import */ var _batch_BatchDrawCall_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./batch/BatchDrawCall.mjs */ "./node_modules/@pixi/core/lib/batch/BatchDrawCall.mjs");
/* harmony import */ var _batch_BatchGeometry_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./batch/BatchGeometry.mjs */ "./node_modules/@pixi/core/lib/batch/BatchGeometry.mjs");
/* harmony import */ var _batch_BatchRenderer_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./batch/BatchRenderer.mjs */ "./node_modules/@pixi/core/lib/batch/BatchRenderer.mjs");
/* harmony import */ var _batch_BatchShaderGenerator_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./batch/BatchShaderGenerator.mjs */ "./node_modules/@pixi/core/lib/batch/BatchShaderGenerator.mjs");
/* harmony import */ var _batch_BatchSystem_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./batch/BatchSystem.mjs */ "./node_modules/@pixi/core/lib/batch/BatchSystem.mjs");
/* harmony import */ var _batch_BatchTextureArray_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./batch/BatchTextureArray.mjs */ "./node_modules/@pixi/core/lib/batch/BatchTextureArray.mjs");
/* harmony import */ var _batch_ObjectRenderer_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./batch/ObjectRenderer.mjs */ "./node_modules/@pixi/core/lib/batch/ObjectRenderer.mjs");
/* harmony import */ var _context_ContextSystem_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./context/ContextSystem.mjs */ "./node_modules/@pixi/core/lib/context/ContextSystem.mjs");
/* harmony import */ var _filters_Filter_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./filters/Filter.mjs */ "./node_modules/@pixi/core/lib/filters/Filter.mjs");
/* harmony import */ var _filters_FilterState_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./filters/FilterState.mjs */ "./node_modules/@pixi/core/lib/filters/FilterState.mjs");
/* harmony import */ var _filters_FilterSystem_mjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./filters/FilterSystem.mjs */ "./node_modules/@pixi/core/lib/filters/FilterSystem.mjs");
/* harmony import */ var _filters_IFilterTarget_mjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./filters/IFilterTarget.mjs */ "./node_modules/@pixi/core/lib/filters/IFilterTarget.mjs");
/* harmony import */ var _filters_spriteMask_SpriteMaskFilter_mjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./filters/spriteMask/SpriteMaskFilter.mjs */ "./node_modules/@pixi/core/lib/filters/spriteMask/SpriteMaskFilter.mjs");
/* harmony import */ var _fragments_index_mjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./fragments/index.mjs */ "./node_modules/@pixi/core/lib/fragments/index.mjs");
/* harmony import */ var _framebuffer_Framebuffer_mjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./framebuffer/Framebuffer.mjs */ "./node_modules/@pixi/core/lib/framebuffer/Framebuffer.mjs");
/* harmony import */ var _framebuffer_FramebufferSystem_mjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./framebuffer/FramebufferSystem.mjs */ "./node_modules/@pixi/core/lib/framebuffer/FramebufferSystem.mjs");
/* harmony import */ var _framebuffer_GLFramebuffer_mjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./framebuffer/GLFramebuffer.mjs */ "./node_modules/@pixi/core/lib/framebuffer/GLFramebuffer.mjs");
/* harmony import */ var _framebuffer_MultisampleSystem_mjs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./framebuffer/MultisampleSystem.mjs */ "./node_modules/@pixi/core/lib/framebuffer/MultisampleSystem.mjs");
/* harmony import */ var _geometry_Attribute_mjs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./geometry/Attribute.mjs */ "./node_modules/@pixi/core/lib/geometry/Attribute.mjs");
/* harmony import */ var _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./geometry/Buffer.mjs */ "./node_modules/@pixi/core/lib/geometry/Buffer.mjs");
/* harmony import */ var _geometry_BufferSystem_mjs__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./geometry/BufferSystem.mjs */ "./node_modules/@pixi/core/lib/geometry/BufferSystem.mjs");
/* harmony import */ var _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./geometry/Geometry.mjs */ "./node_modules/@pixi/core/lib/geometry/Geometry.mjs");
/* harmony import */ var _geometry_GeometrySystem_mjs__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./geometry/GeometrySystem.mjs */ "./node_modules/@pixi/core/lib/geometry/GeometrySystem.mjs");
/* harmony import */ var _geometry_ViewableBuffer_mjs__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./geometry/ViewableBuffer.mjs */ "./node_modules/@pixi/core/lib/geometry/ViewableBuffer.mjs");
/* harmony import */ var _IRenderer_mjs__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./IRenderer.mjs */ "./node_modules/@pixi/core/lib/IRenderer.mjs");
/* harmony import */ var _mask_MaskData_mjs__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./mask/MaskData.mjs */ "./node_modules/@pixi/core/lib/mask/MaskData.mjs");
/* harmony import */ var _mask_MaskSystem_mjs__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./mask/MaskSystem.mjs */ "./node_modules/@pixi/core/lib/mask/MaskSystem.mjs");
/* harmony import */ var _mask_ScissorSystem_mjs__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./mask/ScissorSystem.mjs */ "./node_modules/@pixi/core/lib/mask/ScissorSystem.mjs");
/* harmony import */ var _mask_StencilSystem_mjs__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./mask/StencilSystem.mjs */ "./node_modules/@pixi/core/lib/mask/StencilSystem.mjs");
/* harmony import */ var _plugin_PluginSystem_mjs__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./plugin/PluginSystem.mjs */ "./node_modules/@pixi/core/lib/plugin/PluginSystem.mjs");
/* harmony import */ var _projection_ProjectionSystem_mjs__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./projection/ProjectionSystem.mjs */ "./node_modules/@pixi/core/lib/projection/ProjectionSystem.mjs");
/* harmony import */ var _render_ObjectRendererSystem_mjs__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./render/ObjectRendererSystem.mjs */ "./node_modules/@pixi/core/lib/render/ObjectRendererSystem.mjs");
/* harmony import */ var _Renderer_mjs__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./Renderer.mjs */ "./node_modules/@pixi/core/lib/Renderer.mjs");
/* harmony import */ var _renderTexture_BaseRenderTexture_mjs__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./renderTexture/BaseRenderTexture.mjs */ "./node_modules/@pixi/core/lib/renderTexture/BaseRenderTexture.mjs");
/* harmony import */ var _renderTexture_GenerateTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./renderTexture/GenerateTextureSystem.mjs */ "./node_modules/@pixi/core/lib/renderTexture/GenerateTextureSystem.mjs");
/* harmony import */ var _renderTexture_RenderTexture_mjs__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./renderTexture/RenderTexture.mjs */ "./node_modules/@pixi/core/lib/renderTexture/RenderTexture.mjs");
/* harmony import */ var _renderTexture_RenderTexturePool_mjs__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./renderTexture/RenderTexturePool.mjs */ "./node_modules/@pixi/core/lib/renderTexture/RenderTexturePool.mjs");
/* harmony import */ var _renderTexture_RenderTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./renderTexture/RenderTextureSystem.mjs */ "./node_modules/@pixi/core/lib/renderTexture/RenderTextureSystem.mjs");
/* harmony import */ var _shader_GLProgram_mjs__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./shader/GLProgram.mjs */ "./node_modules/@pixi/core/lib/shader/GLProgram.mjs");
/* harmony import */ var _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./shader/Program.mjs */ "./node_modules/@pixi/core/lib/shader/Program.mjs");
/* harmony import */ var _shader_Shader_mjs__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./shader/Shader.mjs */ "./node_modules/@pixi/core/lib/shader/Shader.mjs");
/* harmony import */ var _shader_ShaderSystem_mjs__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./shader/ShaderSystem.mjs */ "./node_modules/@pixi/core/lib/shader/ShaderSystem.mjs");
/* harmony import */ var _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./shader/UniformGroup.mjs */ "./node_modules/@pixi/core/lib/shader/UniformGroup.mjs");
/* harmony import */ var _shader_utils_checkMaxIfStatementsInShader_mjs__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./shader/utils/checkMaxIfStatementsInShader.mjs */ "./node_modules/@pixi/core/lib/shader/utils/checkMaxIfStatementsInShader.mjs");
/* harmony import */ var _shader_utils_generateProgram_mjs__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./shader/utils/generateProgram.mjs */ "./node_modules/@pixi/core/lib/shader/utils/generateProgram.mjs");
/* harmony import */ var _shader_utils_generateUniformBufferSync_mjs__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./shader/utils/generateUniformBufferSync.mjs */ "./node_modules/@pixi/core/lib/shader/utils/generateUniformBufferSync.mjs");
/* harmony import */ var _shader_utils_getTestContext_mjs__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./shader/utils/getTestContext.mjs */ "./node_modules/@pixi/core/lib/shader/utils/getTestContext.mjs");
/* harmony import */ var _shader_utils_uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./shader/utils/uniformParsers.mjs */ "./node_modules/@pixi/core/lib/shader/utils/uniformParsers.mjs");
/* harmony import */ var _shader_utils_unsafeEvalSupported_mjs__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./shader/utils/unsafeEvalSupported.mjs */ "./node_modules/@pixi/core/lib/shader/utils/unsafeEvalSupported.mjs");
/* harmony import */ var _startup_StartupSystem_mjs__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./startup/StartupSystem.mjs */ "./node_modules/@pixi/core/lib/startup/StartupSystem.mjs");
/* harmony import */ var _state_State_mjs__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./state/State.mjs */ "./node_modules/@pixi/core/lib/state/State.mjs");
/* harmony import */ var _state_StateSystem_mjs__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./state/StateSystem.mjs */ "./node_modules/@pixi/core/lib/state/StateSystem.mjs");
/* harmony import */ var _system_ISystem_mjs__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./system/ISystem.mjs */ "./node_modules/@pixi/core/lib/system/ISystem.mjs");
/* harmony import */ var _systems_mjs__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./systems.mjs */ "./node_modules/@pixi/core/lib/systems.mjs");
/* harmony import */ var _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./textures/BaseTexture.mjs */ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs");
/* harmony import */ var _textures_GLTexture_mjs__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./textures/GLTexture.mjs */ "./node_modules/@pixi/core/lib/textures/GLTexture.mjs");
/* harmony import */ var _textures_resources_index_mjs__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./textures/resources/index.mjs */ "./node_modules/@pixi/core/lib/textures/resources/index.mjs");
/* harmony import */ var _textures_Texture_mjs__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./textures/Texture.mjs */ "./node_modules/@pixi/core/lib/textures/Texture.mjs");
/* harmony import */ var _textures_TextureGCSystem_mjs__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./textures/TextureGCSystem.mjs */ "./node_modules/@pixi/core/lib/textures/TextureGCSystem.mjs");
/* harmony import */ var _textures_TextureMatrix_mjs__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./textures/TextureMatrix.mjs */ "./node_modules/@pixi/core/lib/textures/TextureMatrix.mjs");
/* harmony import */ var _textures_TextureSystem_mjs__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./textures/TextureSystem.mjs */ "./node_modules/@pixi/core/lib/textures/TextureSystem.mjs");
/* harmony import */ var _textures_TextureUvs_mjs__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ./textures/TextureUvs.mjs */ "./node_modules/@pixi/core/lib/textures/TextureUvs.mjs");
/* harmony import */ var _transformFeedback_TransformFeedback_mjs__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ./transformFeedback/TransformFeedback.mjs */ "./node_modules/@pixi/core/lib/transformFeedback/TransformFeedback.mjs");
/* harmony import */ var _transformFeedback_TransformFeedbackSystem_mjs__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ./transformFeedback/TransformFeedbackSystem.mjs */ "./node_modules/@pixi/core/lib/transformFeedback/TransformFeedbackSystem.mjs");
/* harmony import */ var _utils_Quad_mjs__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ./utils/Quad.mjs */ "./node_modules/@pixi/core/lib/utils/Quad.mjs");
/* harmony import */ var _utils_QuadUv_mjs__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ./utils/QuadUv.mjs */ "./node_modules/@pixi/core/lib/utils/QuadUv.mjs");
/* harmony import */ var _view_ViewSystem_mjs__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ./view/ViewSystem.mjs */ "./node_modules/@pixi/core/lib/view/ViewSystem.mjs");
/* harmony import */ var _system_SystemManager_mjs__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ./system/SystemManager.mjs */ "./node_modules/@pixi/core/lib/system/SystemManager.mjs");
/* harmony import */ var _textures_resources_BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ./textures/resources/BaseImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs");
/* harmony import */ var _textures_resources_Resource_mjs__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ./textures/resources/Resource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/Resource.mjs");
/* harmony import */ var _textures_resources_AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ./textures/resources/AbstractMultiResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/AbstractMultiResource.mjs");
/* harmony import */ var _textures_resources_ArrayResource_mjs__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ./textures/resources/ArrayResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/ArrayResource.mjs");
/* harmony import */ var _textures_resources_autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! ./textures/resources/autoDetectResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/autoDetectResource.mjs");
/* harmony import */ var _textures_resources_BufferResource_mjs__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! ./textures/resources/BufferResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BufferResource.mjs");
/* harmony import */ var _textures_resources_CanvasResource_mjs__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! ./textures/resources/CanvasResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/CanvasResource.mjs");
/* harmony import */ var _textures_resources_CubeResource_mjs__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! ./textures/resources/CubeResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/CubeResource.mjs");
/* harmony import */ var _textures_resources_ImageBitmapResource_mjs__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! ./textures/resources/ImageBitmapResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/ImageBitmapResource.mjs");
/* harmony import */ var _textures_resources_ImageResource_mjs__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! ./textures/resources/ImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/ImageResource.mjs");
/* harmony import */ var _textures_resources_SVGResource_mjs__WEBPACK_IMPORTED_MODULE_89__ = __webpack_require__(/*! ./textures/resources/SVGResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/SVGResource.mjs");
/* harmony import */ var _textures_resources_VideoResource_mjs__WEBPACK_IMPORTED_MODULE_90__ = __webpack_require__(/*! ./textures/resources/VideoResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/VideoResource.mjs");





























































































const VERSION = "7.2.4";


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/mask/AbstractMaskSystem.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/mask/AbstractMaskSystem.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AbstractMaskSystem: () => (/* binding */ AbstractMaskSystem)
/* harmony export */ });
class AbstractMaskSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.maskStack = [];
    this.glConst = 0;
  }
  getStackLength() {
    return this.maskStack.length;
  }
  setMaskStack(maskStack) {
    const { gl } = this.renderer;
    const curStackLen = this.getStackLength();
    this.maskStack = maskStack;
    const newStackLen = this.getStackLength();
    if (newStackLen !== curStackLen) {
      if (newStackLen === 0) {
        gl.disable(this.glConst);
      } else {
        gl.enable(this.glConst);
        this._useCurrent();
      }
    }
  }
  _useCurrent() {
  }
  destroy() {
    this.renderer = null;
    this.maskStack = null;
  }
}


//# sourceMappingURL=AbstractMaskSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/mask/MaskData.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/core/lib/mask/MaskData.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MaskData: () => (/* binding */ MaskData)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _filters_Filter_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../filters/Filter.mjs */ "./node_modules/@pixi/core/lib/filters/Filter.mjs");



class MaskData {
  constructor(maskObject = null) {
    this.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.NONE;
    this.autoDetect = true;
    this.maskObject = maskObject || null;
    this.pooled = false;
    this.isMaskData = true;
    this.resolution = null;
    this.multisample = _filters_Filter_mjs__WEBPACK_IMPORTED_MODULE_1__.Filter.defaultMultisample;
    this.enabled = true;
    this.colorMask = 15;
    this._filters = null;
    this._stencilCounter = 0;
    this._scissorCounter = 0;
    this._scissorRect = null;
    this._scissorRectLocal = null;
    this._colorMask = 15;
    this._target = null;
  }
  get filter() {
    return this._filters ? this._filters[0] : null;
  }
  set filter(value) {
    if (value) {
      if (this._filters) {
        this._filters[0] = value;
      } else {
        this._filters = [value];
      }
    } else {
      this._filters = null;
    }
  }
  reset() {
    if (this.pooled) {
      this.maskObject = null;
      this.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.NONE;
      this.autoDetect = true;
    }
    this._target = null;
    this._scissorRectLocal = null;
  }
  copyCountersOrReset(maskAbove) {
    if (maskAbove) {
      this._stencilCounter = maskAbove._stencilCounter;
      this._scissorCounter = maskAbove._scissorCounter;
      this._scissorRect = maskAbove._scissorRect;
    } else {
      this._stencilCounter = 0;
      this._scissorCounter = 0;
      this._scissorRect = null;
    }
  }
}


//# sourceMappingURL=MaskData.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/mask/MaskSystem.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/mask/MaskSystem.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MaskSystem: () => (/* binding */ MaskSystem)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _filters_spriteMask_SpriteMaskFilter_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../filters/spriteMask/SpriteMaskFilter.mjs */ "./node_modules/@pixi/core/lib/filters/spriteMask/SpriteMaskFilter.mjs");
/* harmony import */ var _MaskData_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MaskData.mjs */ "./node_modules/@pixi/core/lib/mask/MaskData.mjs");





class MaskSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.enableScissor = true;
    this.alphaMaskPool = [];
    this.maskDataPool = [];
    this.maskStack = [];
    this.alphaMaskIndex = 0;
  }
  setMaskStack(maskStack) {
    this.maskStack = maskStack;
    this.renderer.scissor.setMaskStack(maskStack);
    this.renderer.stencil.setMaskStack(maskStack);
  }
  push(target, maskDataOrTarget) {
    let maskData = maskDataOrTarget;
    if (!maskData.isMaskData) {
      const d = this.maskDataPool.pop() || new _MaskData_mjs__WEBPACK_IMPORTED_MODULE_3__.MaskData();
      d.pooled = true;
      d.maskObject = maskDataOrTarget;
      maskData = d;
    }
    const maskAbove = this.maskStack.length !== 0 ? this.maskStack[this.maskStack.length - 1] : null;
    maskData.copyCountersOrReset(maskAbove);
    maskData._colorMask = maskAbove ? maskAbove._colorMask : 15;
    if (maskData.autoDetect) {
      this.detect(maskData);
    }
    maskData._target = target;
    if (maskData.type !== _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.SPRITE) {
      this.maskStack.push(maskData);
    }
    if (maskData.enabled) {
      switch (maskData.type) {
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.SCISSOR:
          this.renderer.scissor.push(maskData);
          break;
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.STENCIL:
          this.renderer.stencil.push(maskData);
          break;
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.SPRITE:
          maskData.copyCountersOrReset(null);
          this.pushSpriteMask(maskData);
          break;
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.COLOR:
          this.pushColorMask(maskData);
          break;
        default:
          break;
      }
    }
    if (maskData.type === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.SPRITE) {
      this.maskStack.push(maskData);
    }
  }
  pop(target) {
    const maskData = this.maskStack.pop();
    if (!maskData || maskData._target !== target) {
      return;
    }
    if (maskData.enabled) {
      switch (maskData.type) {
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.SCISSOR:
          this.renderer.scissor.pop(maskData);
          break;
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.STENCIL:
          this.renderer.stencil.pop(maskData.maskObject);
          break;
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.SPRITE:
          this.popSpriteMask(maskData);
          break;
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.COLOR:
          this.popColorMask(maskData);
          break;
        default:
          break;
      }
    }
    maskData.reset();
    if (maskData.pooled) {
      this.maskDataPool.push(maskData);
    }
    if (this.maskStack.length !== 0) {
      const maskCurrent = this.maskStack[this.maskStack.length - 1];
      if (maskCurrent.type === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.SPRITE && maskCurrent._filters) {
        maskCurrent._filters[0].maskSprite = maskCurrent.maskObject;
      }
    }
  }
  detect(maskData) {
    const maskObject = maskData.maskObject;
    if (!maskObject) {
      maskData.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.COLOR;
    } else if (maskObject.isSprite) {
      maskData.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.SPRITE;
    } else if (this.enableScissor && this.renderer.scissor.testScissor(maskData)) {
      maskData.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.SCISSOR;
    } else {
      maskData.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.STENCIL;
    }
  }
  pushSpriteMask(maskData) {
    const { maskObject } = maskData;
    const target = maskData._target;
    let alphaMaskFilter = maskData._filters;
    if (!alphaMaskFilter) {
      alphaMaskFilter = this.alphaMaskPool[this.alphaMaskIndex];
      if (!alphaMaskFilter) {
        alphaMaskFilter = this.alphaMaskPool[this.alphaMaskIndex] = [new _filters_spriteMask_SpriteMaskFilter_mjs__WEBPACK_IMPORTED_MODULE_2__.SpriteMaskFilter()];
      }
    }
    const renderer = this.renderer;
    const renderTextureSystem = renderer.renderTexture;
    let resolution;
    let multisample;
    if (renderTextureSystem.current) {
      const renderTexture = renderTextureSystem.current;
      resolution = maskData.resolution || renderTexture.resolution;
      multisample = maskData.multisample ?? renderTexture.multisample;
    } else {
      resolution = maskData.resolution || renderer.resolution;
      multisample = maskData.multisample ?? renderer.multisample;
    }
    alphaMaskFilter[0].resolution = resolution;
    alphaMaskFilter[0].multisample = multisample;
    alphaMaskFilter[0].maskSprite = maskObject;
    const stashFilterArea = target.filterArea;
    target.filterArea = maskObject.getBounds(true);
    renderer.filter.push(target, alphaMaskFilter);
    target.filterArea = stashFilterArea;
    if (!maskData._filters) {
      this.alphaMaskIndex++;
    }
  }
  popSpriteMask(maskData) {
    this.renderer.filter.pop();
    if (maskData._filters) {
      maskData._filters[0].maskSprite = null;
    } else {
      this.alphaMaskIndex--;
      this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite = null;
    }
  }
  pushColorMask(maskData) {
    const currColorMask = maskData._colorMask;
    const nextColorMask = maskData._colorMask = currColorMask & maskData.colorMask;
    if (nextColorMask !== currColorMask) {
      this.renderer.gl.colorMask((nextColorMask & 1) !== 0, (nextColorMask & 2) !== 0, (nextColorMask & 4) !== 0, (nextColorMask & 8) !== 0);
    }
  }
  popColorMask(maskData) {
    const currColorMask = maskData._colorMask;
    const nextColorMask = this.maskStack.length > 0 ? this.maskStack[this.maskStack.length - 1]._colorMask : 15;
    if (nextColorMask !== currColorMask) {
      this.renderer.gl.colorMask((nextColorMask & 1) !== 0, (nextColorMask & 2) !== 0, (nextColorMask & 4) !== 0, (nextColorMask & 8) !== 0);
    }
  }
  destroy() {
    this.renderer = null;
  }
}
MaskSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "mask"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(MaskSystem);


//# sourceMappingURL=MaskSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/mask/ScissorSystem.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/mask/ScissorSystem.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScissorSystem: () => (/* binding */ ScissorSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _AbstractMaskSystem_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AbstractMaskSystem.mjs */ "./node_modules/@pixi/core/lib/mask/AbstractMaskSystem.mjs");





const tempMatrix = new _pixi_math__WEBPACK_IMPORTED_MODULE_1__.Matrix();
const rectPool = [];
const _ScissorSystem = class extends _AbstractMaskSystem_mjs__WEBPACK_IMPORTED_MODULE_3__.AbstractMaskSystem {
  constructor(renderer) {
    super(renderer);
    this.glConst = _pixi_settings__WEBPACK_IMPORTED_MODULE_2__.settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST;
  }
  getStackLength() {
    const maskData = this.maskStack[this.maskStack.length - 1];
    if (maskData) {
      return maskData._scissorCounter;
    }
    return 0;
  }
  calcScissorRect(maskData) {
    if (maskData._scissorRectLocal) {
      return;
    }
    const prevData = maskData._scissorRect;
    const { maskObject } = maskData;
    const { renderer } = this;
    const renderTextureSystem = renderer.renderTexture;
    const rect = maskObject.getBounds(true, rectPool.pop() ?? new _pixi_math__WEBPACK_IMPORTED_MODULE_1__.Rectangle());
    this.roundFrameToPixels(rect, renderTextureSystem.current ? renderTextureSystem.current.resolution : renderer.resolution, renderTextureSystem.sourceFrame, renderTextureSystem.destinationFrame, renderer.projection.transform);
    if (prevData) {
      rect.fit(prevData);
    }
    maskData._scissorRectLocal = rect;
  }
  static isMatrixRotated(matrix) {
    if (!matrix) {
      return false;
    }
    const { a, b, c, d } = matrix;
    return (Math.abs(b) > 1e-4 || Math.abs(c) > 1e-4) && (Math.abs(a) > 1e-4 || Math.abs(d) > 1e-4);
  }
  testScissor(maskData) {
    const { maskObject } = maskData;
    if (!maskObject.isFastRect || !maskObject.isFastRect()) {
      return false;
    }
    if (_ScissorSystem.isMatrixRotated(maskObject.worldTransform)) {
      return false;
    }
    if (_ScissorSystem.isMatrixRotated(this.renderer.projection.transform)) {
      return false;
    }
    this.calcScissorRect(maskData);
    const rect = maskData._scissorRectLocal;
    return rect.width > 0 && rect.height > 0;
  }
  roundFrameToPixels(frame, resolution, bindingSourceFrame, bindingDestinationFrame, transform) {
    if (_ScissorSystem.isMatrixRotated(transform)) {
      return;
    }
    transform = transform ? tempMatrix.copyFrom(transform) : tempMatrix.identity();
    transform.translate(-bindingSourceFrame.x, -bindingSourceFrame.y).scale(bindingDestinationFrame.width / bindingSourceFrame.width, bindingDestinationFrame.height / bindingSourceFrame.height).translate(bindingDestinationFrame.x, bindingDestinationFrame.y);
    this.renderer.filter.transformAABB(transform, frame);
    frame.fit(bindingDestinationFrame);
    frame.x = Math.round(frame.x * resolution);
    frame.y = Math.round(frame.y * resolution);
    frame.width = Math.round(frame.width * resolution);
    frame.height = Math.round(frame.height * resolution);
  }
  push(maskData) {
    if (!maskData._scissorRectLocal) {
      this.calcScissorRect(maskData);
    }
    const { gl } = this.renderer;
    if (!maskData._scissorRect) {
      gl.enable(gl.SCISSOR_TEST);
    }
    maskData._scissorCounter++;
    maskData._scissorRect = maskData._scissorRectLocal;
    this._useCurrent();
  }
  pop(maskData) {
    const { gl } = this.renderer;
    if (maskData) {
      rectPool.push(maskData._scissorRectLocal);
    }
    if (this.getStackLength() > 0) {
      this._useCurrent();
    } else {
      gl.disable(gl.SCISSOR_TEST);
    }
  }
  _useCurrent() {
    const rect = this.maskStack[this.maskStack.length - 1]._scissorRect;
    let y;
    if (this.renderer.renderTexture.current) {
      y = rect.y;
    } else {
      y = this.renderer.height - rect.height - rect.y;
    }
    this.renderer.gl.scissor(rect.x, y, rect.width, rect.height);
  }
};
let ScissorSystem = _ScissorSystem;
ScissorSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
  name: "scissor"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(ScissorSystem);


//# sourceMappingURL=ScissorSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/mask/StencilSystem.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/mask/StencilSystem.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StencilSystem: () => (/* binding */ StencilSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _AbstractMaskSystem_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AbstractMaskSystem.mjs */ "./node_modules/@pixi/core/lib/mask/AbstractMaskSystem.mjs");




class StencilSystem extends _AbstractMaskSystem_mjs__WEBPACK_IMPORTED_MODULE_2__.AbstractMaskSystem {
  constructor(renderer) {
    super(renderer);
    this.glConst = _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST;
  }
  getStackLength() {
    const maskData = this.maskStack[this.maskStack.length - 1];
    if (maskData) {
      return maskData._stencilCounter;
    }
    return 0;
  }
  push(maskData) {
    const maskObject = maskData.maskObject;
    const { gl } = this.renderer;
    const prevMaskCount = maskData._stencilCounter;
    if (prevMaskCount === 0) {
      this.renderer.framebuffer.forceStencil();
      gl.clearStencil(0);
      gl.clear(gl.STENCIL_BUFFER_BIT);
      gl.enable(gl.STENCIL_TEST);
    }
    maskData._stencilCounter++;
    const colorMask = maskData._colorMask;
    if (colorMask !== 0) {
      maskData._colorMask = 0;
      gl.colorMask(false, false, false, false);
    }
    gl.stencilFunc(gl.EQUAL, prevMaskCount, 4294967295);
    gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR);
    maskObject.renderable = true;
    maskObject.render(this.renderer);
    this.renderer.batch.flush();
    maskObject.renderable = false;
    if (colorMask !== 0) {
      maskData._colorMask = colorMask;
      gl.colorMask((colorMask & 1) !== 0, (colorMask & 2) !== 0, (colorMask & 4) !== 0, (colorMask & 8) !== 0);
    }
    this._useCurrent();
  }
  pop(maskObject) {
    const gl = this.renderer.gl;
    if (this.getStackLength() === 0) {
      gl.disable(gl.STENCIL_TEST);
    } else {
      const maskData = this.maskStack.length !== 0 ? this.maskStack[this.maskStack.length - 1] : null;
      const colorMask = maskData ? maskData._colorMask : 15;
      if (colorMask !== 0) {
        maskData._colorMask = 0;
        gl.colorMask(false, false, false, false);
      }
      gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR);
      maskObject.renderable = true;
      maskObject.render(this.renderer);
      this.renderer.batch.flush();
      maskObject.renderable = false;
      if (colorMask !== 0) {
        maskData._colorMask = colorMask;
        gl.colorMask((colorMask & 1) !== 0, (colorMask & 2) !== 0, (colorMask & 4) !== 0, (colorMask & 8) !== 0);
      }
      this._useCurrent();
    }
  }
  _useCurrent() {
    const gl = this.renderer.gl;
    gl.stencilFunc(gl.EQUAL, this.getStackLength(), 4294967295);
    gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);
  }
}
StencilSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
  name: "stencil"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(StencilSystem);


//# sourceMappingURL=StencilSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/plugin/PluginSystem.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/plugin/PluginSystem.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PluginSystem: () => (/* binding */ PluginSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");



class PluginSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.plugins = {};
    Object.defineProperties(this.plugins, {
      extract: {
        enumerable: false,
        get() {
          (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_1__.deprecation)("7.0.0", "renderer.plugins.extract has moved to renderer.extract");
          return renderer.extract;
        }
      },
      prepare: {
        enumerable: false,
        get() {
          (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_1__.deprecation)("7.0.0", "renderer.plugins.prepare has moved to renderer.prepare");
          return renderer.prepare;
        }
      },
      interaction: {
        enumerable: false,
        get() {
          (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_1__.deprecation)("7.0.0", "renderer.plugins.interaction has been deprecated, use renderer.events");
          return renderer.events;
        }
      }
    });
  }
  init() {
    const staticMap = this.rendererPlugins;
    for (const o in staticMap) {
      this.plugins[o] = new staticMap[o](this.renderer);
    }
  }
  destroy() {
    for (const o in this.plugins) {
      this.plugins[o].destroy();
      this.plugins[o] = null;
    }
  }
}
PluginSystem.extension = {
  type: [
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.CanvasRendererSystem
  ],
  name: "_plugin"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(PluginSystem);


//# sourceMappingURL=PluginSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/projection/ProjectionSystem.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/projection/ProjectionSystem.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ProjectionSystem: () => (/* binding */ ProjectionSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");



class ProjectionSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.destinationFrame = null;
    this.sourceFrame = null;
    this.defaultFrame = null;
    this.projectionMatrix = new _pixi_math__WEBPACK_IMPORTED_MODULE_1__.Matrix();
    this.transform = null;
  }
  update(destinationFrame, sourceFrame, resolution, root) {
    this.destinationFrame = destinationFrame || this.destinationFrame || this.defaultFrame;
    this.sourceFrame = sourceFrame || this.sourceFrame || destinationFrame;
    this.calculateProjection(this.destinationFrame, this.sourceFrame, resolution, root);
    if (this.transform) {
      this.projectionMatrix.append(this.transform);
    }
    const renderer = this.renderer;
    renderer.globalUniforms.uniforms.projectionMatrix = this.projectionMatrix;
    renderer.globalUniforms.update();
    if (renderer.shader.shader) {
      renderer.shader.syncUniformGroup(renderer.shader.shader.uniforms.globals);
    }
  }
  calculateProjection(_destinationFrame, sourceFrame, _resolution, root) {
    const pm = this.projectionMatrix;
    const sign = !root ? 1 : -1;
    pm.identity();
    pm.a = 1 / sourceFrame.width * 2;
    pm.d = sign * (1 / sourceFrame.height * 2);
    pm.tx = -1 - sourceFrame.x * pm.a;
    pm.ty = -sign - sourceFrame.y * pm.d;
  }
  setTransform(_matrix) {
  }
  destroy() {
    this.renderer = null;
  }
}
ProjectionSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
  name: "projection"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(ProjectionSystem);


//# sourceMappingURL=ProjectionSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/renderTexture/BaseRenderTexture.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/renderTexture/BaseRenderTexture.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseRenderTexture: () => (/* binding */ BaseRenderTexture)
/* harmony export */ });
/* harmony import */ var _pixi_color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/color */ "./node_modules/@pixi/color/lib/index.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _framebuffer_Framebuffer_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../framebuffer/Framebuffer.mjs */ "./node_modules/@pixi/core/lib/framebuffer/Framebuffer.mjs");
/* harmony import */ var _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../textures/BaseTexture.mjs */ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs");





class BaseRenderTexture extends _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.BaseTexture {
  constructor(options = {}) {
    if (typeof options === "number") {
      const width = arguments[0];
      const height = arguments[1];
      const scaleMode = arguments[2];
      const resolution = arguments[3];
      options = { width, height, scaleMode, resolution };
    }
    options.width = options.width || 100;
    options.height = options.height || 100;
    options.multisample ?? (options.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.MSAA_QUALITY.NONE);
    super(null, options);
    this.mipmap = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.MIPMAP_MODES.OFF;
    this.valid = true;
    this._clear = new _pixi_color__WEBPACK_IMPORTED_MODULE_0__.Color([0, 0, 0, 0]);
    this.framebuffer = new _framebuffer_Framebuffer_mjs__WEBPACK_IMPORTED_MODULE_2__.Framebuffer(this.realWidth, this.realHeight).addColorTexture(0, this);
    this.framebuffer.multisample = options.multisample;
    this.maskStack = [];
    this.filterStack = [{}];
  }
  set clearColor(value) {
    this._clear.setValue(value);
  }
  get clearColor() {
    return this._clear.value;
  }
  get clear() {
    return this._clear;
  }
  resize(desiredWidth, desiredHeight) {
    this.framebuffer.resize(desiredWidth * this.resolution, desiredHeight * this.resolution);
    this.setRealSize(this.framebuffer.width, this.framebuffer.height);
  }
  dispose() {
    this.framebuffer.dispose();
    super.dispose();
  }
  destroy() {
    super.destroy();
    this.framebuffer.destroyDepthTexture();
    this.framebuffer = null;
  }
}


//# sourceMappingURL=BaseRenderTexture.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/renderTexture/GenerateTextureSystem.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/renderTexture/GenerateTextureSystem.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GenerateTextureSystem: () => (/* binding */ GenerateTextureSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _RenderTexture_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RenderTexture.mjs */ "./node_modules/@pixi/core/lib/renderTexture/RenderTexture.mjs");




const tempTransform = new _pixi_math__WEBPACK_IMPORTED_MODULE_1__.Transform();
class GenerateTextureSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this._tempMatrix = new _pixi_math__WEBPACK_IMPORTED_MODULE_1__.Matrix();
  }
  generateTexture(displayObject, options) {
    const { region: manualRegion, ...textureOptions } = options || {};
    const region = manualRegion || displayObject.getLocalBounds(null, true);
    if (region.width === 0)
      region.width = 1;
    if (region.height === 0)
      region.height = 1;
    const renderTexture = _RenderTexture_mjs__WEBPACK_IMPORTED_MODULE_2__.RenderTexture.create({
      width: region.width,
      height: region.height,
      ...textureOptions
    });
    this._tempMatrix.tx = -region.x;
    this._tempMatrix.ty = -region.y;
    const transform = displayObject.transform;
    displayObject.transform = tempTransform;
    this.renderer.render(displayObject, {
      renderTexture,
      transform: this._tempMatrix,
      skipUpdateTransform: !!displayObject.parent,
      blit: true
    });
    displayObject.transform = transform;
    return renderTexture;
  }
  destroy() {
  }
}
GenerateTextureSystem.extension = {
  type: [
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.CanvasRendererSystem
  ],
  name: "textureGenerator"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(GenerateTextureSystem);


//# sourceMappingURL=GenerateTextureSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/renderTexture/RenderTexture.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/renderTexture/RenderTexture.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RenderTexture: () => (/* binding */ RenderTexture)
/* harmony export */ });
/* harmony import */ var _textures_Texture_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../textures/Texture.mjs */ "./node_modules/@pixi/core/lib/textures/Texture.mjs");
/* harmony import */ var _BaseRenderTexture_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BaseRenderTexture.mjs */ "./node_modules/@pixi/core/lib/renderTexture/BaseRenderTexture.mjs");



class RenderTexture extends _textures_Texture_mjs__WEBPACK_IMPORTED_MODULE_0__.Texture {
  constructor(baseRenderTexture, frame) {
    super(baseRenderTexture, frame);
    this.valid = true;
    this.filterFrame = null;
    this.filterPoolKey = null;
    this.updateUvs();
  }
  get framebuffer() {
    return this.baseTexture.framebuffer;
  }
  get multisample() {
    return this.framebuffer.multisample;
  }
  set multisample(value) {
    this.framebuffer.multisample = value;
  }
  resize(desiredWidth, desiredHeight, resizeBaseTexture = true) {
    const resolution = this.baseTexture.resolution;
    const width = Math.round(desiredWidth * resolution) / resolution;
    const height = Math.round(desiredHeight * resolution) / resolution;
    this.valid = width > 0 && height > 0;
    this._frame.width = this.orig.width = width;
    this._frame.height = this.orig.height = height;
    if (resizeBaseTexture) {
      this.baseTexture.resize(width, height);
    }
    this.updateUvs();
  }
  setResolution(resolution) {
    const { baseTexture } = this;
    if (baseTexture.resolution === resolution) {
      return;
    }
    baseTexture.setResolution(resolution);
    this.resize(baseTexture.width, baseTexture.height, false);
  }
  static create(options) {
    return new RenderTexture(new _BaseRenderTexture_mjs__WEBPACK_IMPORTED_MODULE_1__.BaseRenderTexture(options));
  }
}


//# sourceMappingURL=RenderTexture.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/renderTexture/RenderTexturePool.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/renderTexture/RenderTexturePool.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RenderTexturePool: () => (/* binding */ RenderTexturePool)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _BaseRenderTexture_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BaseRenderTexture.mjs */ "./node_modules/@pixi/core/lib/renderTexture/BaseRenderTexture.mjs");
/* harmony import */ var _RenderTexture_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RenderTexture.mjs */ "./node_modules/@pixi/core/lib/renderTexture/RenderTexture.mjs");





class RenderTexturePool {
  constructor(textureOptions) {
    this.texturePool = {};
    this.textureOptions = textureOptions || {};
    this.enableFullScreen = false;
    this._pixelsWidth = 0;
    this._pixelsHeight = 0;
  }
  createTexture(realWidth, realHeight, multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.NONE) {
    const baseRenderTexture = new _BaseRenderTexture_mjs__WEBPACK_IMPORTED_MODULE_2__.BaseRenderTexture(Object.assign({
      width: realWidth,
      height: realHeight,
      resolution: 1,
      multisample
    }, this.textureOptions));
    return new _RenderTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.RenderTexture(baseRenderTexture);
  }
  getOptimalTexture(minWidth, minHeight, resolution = 1, multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.NONE) {
    let key;
    minWidth = Math.ceil(minWidth * resolution - 1e-6);
    minHeight = Math.ceil(minHeight * resolution - 1e-6);
    if (!this.enableFullScreen || minWidth !== this._pixelsWidth || minHeight !== this._pixelsHeight) {
      minWidth = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_1__.nextPow2)(minWidth);
      minHeight = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_1__.nextPow2)(minHeight);
      key = ((minWidth & 65535) << 16 | minHeight & 65535) >>> 0;
      if (multisample > 1) {
        key += multisample * 4294967296;
      }
    } else {
      key = multisample > 1 ? -multisample : -1;
    }
    if (!this.texturePool[key]) {
      this.texturePool[key] = [];
    }
    let renderTexture = this.texturePool[key].pop();
    if (!renderTexture) {
      renderTexture = this.createTexture(minWidth, minHeight, multisample);
    }
    renderTexture.filterPoolKey = key;
    renderTexture.setResolution(resolution);
    return renderTexture;
  }
  getFilterTexture(input, resolution, multisample) {
    const filterTexture = this.getOptimalTexture(input.width, input.height, resolution || input.resolution, multisample || _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.NONE);
    filterTexture.filterFrame = input.filterFrame;
    return filterTexture;
  }
  returnTexture(renderTexture) {
    const key = renderTexture.filterPoolKey;
    renderTexture.filterFrame = null;
    this.texturePool[key].push(renderTexture);
  }
  returnFilterTexture(renderTexture) {
    this.returnTexture(renderTexture);
  }
  clear(destroyTextures) {
    destroyTextures = destroyTextures !== false;
    if (destroyTextures) {
      for (const i in this.texturePool) {
        const textures = this.texturePool[i];
        if (textures) {
          for (let j = 0; j < textures.length; j++) {
            textures[j].destroy(true);
          }
        }
      }
    }
    this.texturePool = {};
  }
  setScreenSize(size) {
    if (size.width === this._pixelsWidth && size.height === this._pixelsHeight) {
      return;
    }
    this.enableFullScreen = size.width > 0 && size.height > 0;
    for (const i in this.texturePool) {
      if (!(Number(i) < 0)) {
        continue;
      }
      const textures = this.texturePool[i];
      if (textures) {
        for (let j = 0; j < textures.length; j++) {
          textures[j].destroy(true);
        }
      }
      this.texturePool[i] = [];
    }
    this._pixelsWidth = size.width;
    this._pixelsHeight = size.height;
  }
}
RenderTexturePool.SCREEN_KEY = -1;


//# sourceMappingURL=RenderTexturePool.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/renderTexture/RenderTextureSystem.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/renderTexture/RenderTextureSystem.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RenderTextureSystem: () => (/* binding */ RenderTextureSystem)
/* harmony export */ });
/* harmony import */ var _pixi_color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/color */ "./node_modules/@pixi/color/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");




const tempRect = new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Rectangle();
const tempRect2 = new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Rectangle();
class RenderTextureSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.defaultMaskStack = [];
    this.current = null;
    this.sourceFrame = new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Rectangle();
    this.destinationFrame = new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Rectangle();
    this.viewportFrame = new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Rectangle();
  }
  contextChange() {
    const attributes = this.renderer?.gl.getContextAttributes();
    this._rendererPremultipliedAlpha = !!(attributes && attributes.alpha && attributes.premultipliedAlpha);
  }
  bind(renderTexture = null, sourceFrame, destinationFrame) {
    const renderer = this.renderer;
    this.current = renderTexture;
    let baseTexture;
    let framebuffer;
    let resolution;
    if (renderTexture) {
      baseTexture = renderTexture.baseTexture;
      resolution = baseTexture.resolution;
      if (!sourceFrame) {
        tempRect.width = renderTexture.frame.width;
        tempRect.height = renderTexture.frame.height;
        sourceFrame = tempRect;
      }
      if (!destinationFrame) {
        tempRect2.x = renderTexture.frame.x;
        tempRect2.y = renderTexture.frame.y;
        tempRect2.width = sourceFrame.width;
        tempRect2.height = sourceFrame.height;
        destinationFrame = tempRect2;
      }
      framebuffer = baseTexture.framebuffer;
    } else {
      resolution = renderer.resolution;
      if (!sourceFrame) {
        tempRect.width = renderer._view.screen.width;
        tempRect.height = renderer._view.screen.height;
        sourceFrame = tempRect;
      }
      if (!destinationFrame) {
        destinationFrame = tempRect;
        destinationFrame.width = sourceFrame.width;
        destinationFrame.height = sourceFrame.height;
      }
    }
    const viewportFrame = this.viewportFrame;
    viewportFrame.x = destinationFrame.x * resolution;
    viewportFrame.y = destinationFrame.y * resolution;
    viewportFrame.width = destinationFrame.width * resolution;
    viewportFrame.height = destinationFrame.height * resolution;
    if (!renderTexture) {
      viewportFrame.y = renderer.view.height - (viewportFrame.y + viewportFrame.height);
    }
    viewportFrame.ceil();
    this.renderer.framebuffer.bind(framebuffer, viewportFrame);
    this.renderer.projection.update(destinationFrame, sourceFrame, resolution, !framebuffer);
    if (renderTexture) {
      this.renderer.mask.setMaskStack(baseTexture.maskStack);
    } else {
      this.renderer.mask.setMaskStack(this.defaultMaskStack);
    }
    this.sourceFrame.copyFrom(sourceFrame);
    this.destinationFrame.copyFrom(destinationFrame);
  }
  clear(clearColor, mask) {
    const fallbackColor = this.current ? this.current.baseTexture.clear : this.renderer.background.backgroundColor;
    const color = _pixi_color__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(clearColor ? clearColor : fallbackColor);
    if (this.current && this.current.baseTexture.alphaMode > 0 || !this.current && this._rendererPremultipliedAlpha) {
      color.premultiply(color.alpha);
    }
    const destinationFrame = this.destinationFrame;
    const baseFrame = this.current ? this.current.baseTexture : this.renderer._view.screen;
    const clearMask = destinationFrame.width !== baseFrame.width || destinationFrame.height !== baseFrame.height;
    if (clearMask) {
      let { x, y, width, height } = this.viewportFrame;
      x = Math.round(x);
      y = Math.round(y);
      width = Math.round(width);
      height = Math.round(height);
      this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);
      this.renderer.gl.scissor(x, y, width, height);
    }
    this.renderer.framebuffer.clear(color.red, color.green, color.blue, color.alpha, mask);
    if (clearMask) {
      this.renderer.scissor.pop();
    }
  }
  resize() {
    this.bind(null);
  }
  reset() {
    this.bind(null);
  }
  destroy() {
    this.renderer = null;
  }
}
RenderTextureSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "renderTexture"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(RenderTextureSystem);


//# sourceMappingURL=RenderTextureSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/render/ObjectRendererSystem.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/render/ObjectRendererSystem.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ObjectRendererSystem: () => (/* binding */ ObjectRendererSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");


class ObjectRendererSystem {
  constructor(renderer) {
    this.renderer = renderer;
  }
  render(displayObject, options) {
    const renderer = this.renderer;
    let renderTexture;
    let clear;
    let transform;
    let skipUpdateTransform;
    if (options) {
      renderTexture = options.renderTexture;
      clear = options.clear;
      transform = options.transform;
      skipUpdateTransform = options.skipUpdateTransform;
    }
    this.renderingToScreen = !renderTexture;
    renderer.runners.prerender.emit();
    renderer.emit("prerender");
    renderer.projection.transform = transform;
    if (renderer.context.isLost) {
      return;
    }
    if (!renderTexture) {
      this.lastObjectRendered = displayObject;
    }
    if (!skipUpdateTransform) {
      const cacheParent = displayObject.enableTempParent();
      displayObject.updateTransform();
      displayObject.disableTempParent(cacheParent);
    }
    renderer.renderTexture.bind(renderTexture);
    renderer.batch.currentRenderer.start();
    if (clear ?? renderer.background.clearBeforeRender) {
      renderer.renderTexture.clear();
    }
    displayObject.render(renderer);
    renderer.batch.currentRenderer.flush();
    if (renderTexture) {
      if (options.blit) {
        renderer.framebuffer.blit();
      }
      renderTexture.baseTexture.update();
    }
    renderer.runners.postrender.emit();
    renderer.projection.transform = null;
    renderer.emit("postrender");
  }
  destroy() {
    this.renderer = null;
    this.lastObjectRendered = null;
  }
}
ObjectRendererSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
  name: "objectRenderer"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(ObjectRendererSystem);


//# sourceMappingURL=ObjectRendererSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/settings.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/core/lib/settings.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _batch_BatchRenderer_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./batch/BatchRenderer.mjs */ "./node_modules/@pixi/core/lib/batch/BatchRenderer.mjs");
/* harmony import */ var _filters_Filter_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./filters/Filter.mjs */ "./node_modules/@pixi/core/lib/filters/Filter.mjs");
/* harmony import */ var _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./shader/Program.mjs */ "./node_modules/@pixi/core/lib/shader/Program.mjs");
/* harmony import */ var _systems_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./systems.mjs */ "./node_modules/@pixi/core/lib/systems.mjs");
/* harmony import */ var _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./textures/BaseTexture.mjs */ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs");
/* harmony import */ var _context_ContextSystem_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./context/ContextSystem.mjs */ "./node_modules/@pixi/core/lib/context/ContextSystem.mjs");
/* harmony import */ var _background_BackgroundSystem_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./background/BackgroundSystem.mjs */ "./node_modules/@pixi/core/lib/background/BackgroundSystem.mjs");
/* harmony import */ var _view_ViewSystem_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./view/ViewSystem.mjs */ "./node_modules/@pixi/core/lib/view/ViewSystem.mjs");
/* harmony import */ var _startup_StartupSystem_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./startup/StartupSystem.mjs */ "./node_modules/@pixi/core/lib/startup/StartupSystem.mjs");
/* harmony import */ var _textures_TextureGCSystem_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./textures/TextureGCSystem.mjs */ "./node_modules/@pixi/core/lib/textures/TextureGCSystem.mjs");














_pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.PREFER_ENV = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ENV.WEBGL2;
_pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.STRICT_TEXTURE_CACHE = false;
_pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.RENDER_OPTIONS = {
  ..._context_ContextSystem_mjs__WEBPACK_IMPORTED_MODULE_8__.ContextSystem.defaultOptions,
  ..._background_BackgroundSystem_mjs__WEBPACK_IMPORTED_MODULE_9__.BackgroundSystem.defaultOptions,
  ..._view_ViewSystem_mjs__WEBPACK_IMPORTED_MODULE_10__.ViewSystem.defaultOptions,
  ..._startup_StartupSystem_mjs__WEBPACK_IMPORTED_MODULE_11__.StartupSystem.defaultOptions
};
Object.defineProperties(_pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings, {
  WRAP_MODE: {
    get() {
      return _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_7__.BaseTexture.defaultOptions.wrapMode;
    },
    set(value) {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.1.0", "settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode");
      _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_7__.BaseTexture.defaultOptions.wrapMode = value;
    }
  },
  SCALE_MODE: {
    get() {
      return _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_7__.BaseTexture.defaultOptions.scaleMode;
    },
    set(value) {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.1.0", "settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode");
      _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_7__.BaseTexture.defaultOptions.scaleMode = value;
    }
  },
  MIPMAP_TEXTURES: {
    get() {
      return _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_7__.BaseTexture.defaultOptions.mipmap;
    },
    set(value) {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.1.0", "settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap");
      _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_7__.BaseTexture.defaultOptions.mipmap = value;
    }
  },
  ANISOTROPIC_LEVEL: {
    get() {
      return _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_7__.BaseTexture.defaultOptions.anisotropicLevel;
    },
    set(value) {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.1.0", "settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel");
      _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_7__.BaseTexture.defaultOptions.anisotropicLevel = value;
    }
  },
  FILTER_RESOLUTION: {
    get() {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.1.0", "settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution");
      return _filters_Filter_mjs__WEBPACK_IMPORTED_MODULE_4__.Filter.defaultResolution;
    },
    set(value) {
      _filters_Filter_mjs__WEBPACK_IMPORTED_MODULE_4__.Filter.defaultResolution = value;
    }
  },
  FILTER_MULTISAMPLE: {
    get() {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.1.0", "settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample");
      return _filters_Filter_mjs__WEBPACK_IMPORTED_MODULE_4__.Filter.defaultMultisample;
    },
    set(value) {
      _filters_Filter_mjs__WEBPACK_IMPORTED_MODULE_4__.Filter.defaultMultisample = value;
    }
  },
  SPRITE_MAX_TEXTURES: {
    get() {
      return _batch_BatchRenderer_mjs__WEBPACK_IMPORTED_MODULE_3__.BatchRenderer.defaultMaxTextures;
    },
    set(value) {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.1.0", "settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures");
      _batch_BatchRenderer_mjs__WEBPACK_IMPORTED_MODULE_3__.BatchRenderer.defaultMaxTextures = value;
    }
  },
  SPRITE_BATCH_SIZE: {
    get() {
      return _batch_BatchRenderer_mjs__WEBPACK_IMPORTED_MODULE_3__.BatchRenderer.defaultBatchSize;
    },
    set(value) {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.1.0", "settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize");
      _batch_BatchRenderer_mjs__WEBPACK_IMPORTED_MODULE_3__.BatchRenderer.defaultBatchSize = value;
    }
  },
  CAN_UPLOAD_SAME_BUFFER: {
    get() {
      return _batch_BatchRenderer_mjs__WEBPACK_IMPORTED_MODULE_3__.BatchRenderer.canUploadSameBuffer;
    },
    set(value) {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.1.0", "settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer");
      _batch_BatchRenderer_mjs__WEBPACK_IMPORTED_MODULE_3__.BatchRenderer.canUploadSameBuffer = value;
    }
  },
  GC_MODE: {
    get() {
      return _textures_TextureGCSystem_mjs__WEBPACK_IMPORTED_MODULE_12__.TextureGCSystem.defaultMode;
    },
    set(value) {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.1.0", "settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode");
      _textures_TextureGCSystem_mjs__WEBPACK_IMPORTED_MODULE_12__.TextureGCSystem.defaultMode = value;
    }
  },
  GC_MAX_IDLE: {
    get() {
      return _textures_TextureGCSystem_mjs__WEBPACK_IMPORTED_MODULE_12__.TextureGCSystem.defaultMaxIdle;
    },
    set(value) {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.1.0", "settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle");
      _textures_TextureGCSystem_mjs__WEBPACK_IMPORTED_MODULE_12__.TextureGCSystem.defaultMaxIdle = value;
    }
  },
  GC_MAX_CHECK_COUNT: {
    get() {
      return _textures_TextureGCSystem_mjs__WEBPACK_IMPORTED_MODULE_12__.TextureGCSystem.defaultCheckCountMax;
    },
    set(value) {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.1.0", "settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax");
      _textures_TextureGCSystem_mjs__WEBPACK_IMPORTED_MODULE_12__.TextureGCSystem.defaultCheckCountMax = value;
    }
  },
  PRECISION_VERTEX: {
    get() {
      return _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_5__.Program.defaultVertexPrecision;
    },
    set(value) {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.1.0", "settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision");
      _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_5__.Program.defaultVertexPrecision = value;
    }
  },
  PRECISION_FRAGMENT: {
    get() {
      return _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_5__.Program.defaultFragmentPrecision;
    },
    set(value) {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.1.0", "settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision");
      _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_5__.Program.defaultFragmentPrecision = value;
    }
  }
});
//# sourceMappingURL=settings.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/GLProgram.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/GLProgram.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GLProgram: () => (/* binding */ GLProgram),
/* harmony export */   IGLUniformData: () => (/* binding */ IGLUniformData)
/* harmony export */ });
class IGLUniformData {
}
class GLProgram {
  constructor(program, uniformData) {
    this.program = program;
    this.uniformData = uniformData;
    this.uniformGroups = {};
    this.uniformDirtyGroups = {};
    this.uniformBufferBindings = {};
  }
  destroy() {
    this.uniformData = null;
    this.uniformGroups = null;
    this.uniformDirtyGroups = null;
    this.uniformBufferBindings = null;
    this.program = null;
  }
}


//# sourceMappingURL=GLProgram.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/Program.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/Program.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Program: () => (/* binding */ Program)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _defaultProgram_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./defaultProgram.mjs */ "./node_modules/@pixi/core/lib/shader/defaultProgram.mjs");
/* harmony import */ var _defaultProgram2_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./defaultProgram2.mjs */ "./node_modules/@pixi/core/lib/shader/defaultProgram2.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/core/lib/shader/utils/index.mjs");
/* harmony import */ var _utils_setPrecision_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/setPrecision.mjs */ "./node_modules/@pixi/core/lib/shader/utils/setPrecision.mjs");
/* harmony import */ var _utils_getMaxFragmentPrecision_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/getMaxFragmentPrecision.mjs */ "./node_modules/@pixi/core/lib/shader/utils/getMaxFragmentPrecision.mjs");








let UID = 0;
const nameCache = {};
const _Program = class {
  constructor(vertexSrc, fragmentSrc, name = "pixi-shader", extra = {}) {
    this.extra = {};
    this.id = UID++;
    this.vertexSrc = vertexSrc || _Program.defaultVertexSrc;
    this.fragmentSrc = fragmentSrc || _Program.defaultFragmentSrc;
    this.vertexSrc = this.vertexSrc.trim();
    this.fragmentSrc = this.fragmentSrc.trim();
    this.extra = extra;
    if (this.vertexSrc.substring(0, 8) !== "#version") {
      name = name.replace(/\s+/g, "-");
      if (nameCache[name]) {
        nameCache[name]++;
        name += `-${nameCache[name]}`;
      } else {
        nameCache[name] = 1;
      }
      this.vertexSrc = `#define SHADER_NAME ${name}
${this.vertexSrc}`;
      this.fragmentSrc = `#define SHADER_NAME ${name}
${this.fragmentSrc}`;
      this.vertexSrc = (0,_utils_setPrecision_mjs__WEBPACK_IMPORTED_MODULE_5__.setPrecision)(this.vertexSrc, _Program.defaultVertexPrecision, _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.HIGH);
      this.fragmentSrc = (0,_utils_setPrecision_mjs__WEBPACK_IMPORTED_MODULE_5__.setPrecision)(this.fragmentSrc, _Program.defaultFragmentPrecision, (0,_utils_getMaxFragmentPrecision_mjs__WEBPACK_IMPORTED_MODULE_6__.getMaxFragmentPrecision)());
    }
    this.glPrograms = {};
    this.syncUniforms = null;
  }
  static get defaultVertexSrc() {
    return _defaultProgram2_mjs__WEBPACK_IMPORTED_MODULE_3__["default"];
  }
  static get defaultFragmentSrc() {
    return _defaultProgram_mjs__WEBPACK_IMPORTED_MODULE_2__["default"];
  }
  static from(vertexSrc, fragmentSrc, name) {
    const key = vertexSrc + fragmentSrc;
    let program = _pixi_utils__WEBPACK_IMPORTED_MODULE_1__.ProgramCache[key];
    if (!program) {
      _pixi_utils__WEBPACK_IMPORTED_MODULE_1__.ProgramCache[key] = program = new _Program(vertexSrc, fragmentSrc, name);
    }
    return program;
  }
};
let Program = _Program;
Program.defaultVertexPrecision = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.HIGH;
Program.defaultFragmentPrecision = _pixi_utils__WEBPACK_IMPORTED_MODULE_1__.isMobile.apple.device ? _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.HIGH : _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.MEDIUM;


//# sourceMappingURL=Program.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/Shader.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/Shader.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Shader: () => (/* binding */ Shader)
/* harmony export */ });
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");
/* harmony import */ var _Program_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Program.mjs */ "./node_modules/@pixi/core/lib/shader/Program.mjs");
/* harmony import */ var _UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UniformGroup.mjs */ "./node_modules/@pixi/core/lib/shader/UniformGroup.mjs");




class Shader {
  constructor(program, uniforms) {
    this.uniformBindCount = 0;
    this.program = program;
    if (uniforms) {
      if (uniforms instanceof _UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_2__.UniformGroup) {
        this.uniformGroup = uniforms;
      } else {
        this.uniformGroup = new _UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_2__.UniformGroup(uniforms);
      }
    } else {
      this.uniformGroup = new _UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_2__.UniformGroup({});
    }
    this.disposeRunner = new _pixi_runner__WEBPACK_IMPORTED_MODULE_0__.Runner("disposeShader");
  }
  checkUniformExists(name, group) {
    if (group.uniforms[name]) {
      return true;
    }
    for (const i in group.uniforms) {
      const uniform = group.uniforms[i];
      if (uniform.group) {
        if (this.checkUniformExists(name, uniform)) {
          return true;
        }
      }
    }
    return false;
  }
  destroy() {
    this.uniformGroup = null;
    this.disposeRunner.emit(this);
    this.disposeRunner.destroy();
  }
  get uniforms() {
    return this.uniformGroup.uniforms;
  }
  static from(vertexSrc, fragmentSrc, uniforms) {
    const program = _Program_mjs__WEBPACK_IMPORTED_MODULE_1__.Program.from(vertexSrc, fragmentSrc);
    return new Shader(program, uniforms);
  }
}


//# sourceMappingURL=Shader.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/ShaderSystem.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/ShaderSystem.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ShaderSystem: () => (/* binding */ ShaderSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/core/lib/shader/utils/index.mjs");
/* harmony import */ var _utils_generateProgram_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/generateProgram.mjs */ "./node_modules/@pixi/core/lib/shader/utils/generateProgram.mjs");
/* harmony import */ var _utils_generateUniformBufferSync_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/generateUniformBufferSync.mjs */ "./node_modules/@pixi/core/lib/shader/utils/generateUniformBufferSync.mjs");
/* harmony import */ var _utils_unsafeEvalSupported_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/unsafeEvalSupported.mjs */ "./node_modules/@pixi/core/lib/shader/utils/unsafeEvalSupported.mjs");
/* harmony import */ var _utils_generateUniformsSync_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/generateUniformsSync.mjs */ "./node_modules/@pixi/core/lib/shader/utils/generateUniformsSync.mjs");







let UID = 0;
const defaultSyncData = { textureCount: 0, uboCount: 0 };
class ShaderSystem {
  constructor(renderer) {
    this.destroyed = false;
    this.renderer = renderer;
    this.systemCheck();
    this.gl = null;
    this.shader = null;
    this.program = null;
    this.cache = {};
    this._uboCache = {};
    this.id = UID++;
  }
  systemCheck() {
    if (!(0,_utils_unsafeEvalSupported_mjs__WEBPACK_IMPORTED_MODULE_4__.unsafeEvalSupported)()) {
      throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.");
    }
  }
  contextChange(gl) {
    this.gl = gl;
    this.reset();
  }
  bind(shader, dontSync) {
    shader.disposeRunner.add(this);
    shader.uniforms.globals = this.renderer.globalUniforms;
    const program = shader.program;
    const glProgram = program.glPrograms[this.renderer.CONTEXT_UID] || this.generateProgram(shader);
    this.shader = shader;
    if (this.program !== program) {
      this.program = program;
      this.gl.useProgram(glProgram.program);
    }
    if (!dontSync) {
      defaultSyncData.textureCount = 0;
      defaultSyncData.uboCount = 0;
      this.syncUniformGroup(shader.uniformGroup, defaultSyncData);
    }
    return glProgram;
  }
  setUniforms(uniforms) {
    const shader = this.shader.program;
    const glProgram = shader.glPrograms[this.renderer.CONTEXT_UID];
    shader.syncUniforms(glProgram.uniformData, uniforms, this.renderer);
  }
  syncUniformGroup(group, syncData) {
    const glProgram = this.getGlProgram();
    if (!group.static || group.dirtyId !== glProgram.uniformDirtyGroups[group.id]) {
      glProgram.uniformDirtyGroups[group.id] = group.dirtyId;
      this.syncUniforms(group, glProgram, syncData);
    }
  }
  syncUniforms(group, glProgram, syncData) {
    const syncFunc = group.syncUniforms[this.shader.program.id] || this.createSyncGroups(group);
    syncFunc(glProgram.uniformData, group.uniforms, this.renderer, syncData);
  }
  createSyncGroups(group) {
    const id = this.getSignature(group, this.shader.program.uniformData, "u");
    if (!this.cache[id]) {
      this.cache[id] = (0,_utils_generateUniformsSync_mjs__WEBPACK_IMPORTED_MODULE_5__.generateUniformsSync)(group, this.shader.program.uniformData);
    }
    group.syncUniforms[this.shader.program.id] = this.cache[id];
    return group.syncUniforms[this.shader.program.id];
  }
  syncUniformBufferGroup(group, name) {
    const glProgram = this.getGlProgram();
    if (!group.static || group.dirtyId !== 0 || !glProgram.uniformGroups[group.id]) {
      group.dirtyId = 0;
      const syncFunc = glProgram.uniformGroups[group.id] || this.createSyncBufferGroup(group, glProgram, name);
      group.buffer.update();
      syncFunc(glProgram.uniformData, group.uniforms, this.renderer, defaultSyncData, group.buffer);
    }
    this.renderer.buffer.bindBufferBase(group.buffer, glProgram.uniformBufferBindings[name]);
  }
  createSyncBufferGroup(group, glProgram, name) {
    const { gl } = this.renderer;
    this.renderer.buffer.bind(group.buffer);
    const uniformBlockIndex = this.gl.getUniformBlockIndex(glProgram.program, name);
    glProgram.uniformBufferBindings[name] = this.shader.uniformBindCount;
    gl.uniformBlockBinding(glProgram.program, uniformBlockIndex, this.shader.uniformBindCount);
    this.shader.uniformBindCount++;
    const id = this.getSignature(group, this.shader.program.uniformData, "ubo");
    let uboData = this._uboCache[id];
    if (!uboData) {
      uboData = this._uboCache[id] = (0,_utils_generateUniformBufferSync_mjs__WEBPACK_IMPORTED_MODULE_3__.generateUniformBufferSync)(group, this.shader.program.uniformData);
    }
    if (group.autoManage) {
      const data = new Float32Array(uboData.size / 4);
      group.buffer.update(data);
    }
    glProgram.uniformGroups[group.id] = uboData.syncFunc;
    return glProgram.uniformGroups[group.id];
  }
  getSignature(group, uniformData, preFix) {
    const uniforms = group.uniforms;
    const strings = [`${preFix}-`];
    for (const i in uniforms) {
      strings.push(i);
      if (uniformData[i]) {
        strings.push(uniformData[i].type);
      }
    }
    return strings.join("-");
  }
  getGlProgram() {
    if (this.shader) {
      return this.shader.program.glPrograms[this.renderer.CONTEXT_UID];
    }
    return null;
  }
  generateProgram(shader) {
    const gl = this.gl;
    const program = shader.program;
    const glProgram = (0,_utils_generateProgram_mjs__WEBPACK_IMPORTED_MODULE_2__.generateProgram)(gl, program);
    program.glPrograms[this.renderer.CONTEXT_UID] = glProgram;
    return glProgram;
  }
  reset() {
    this.program = null;
    this.shader = null;
  }
  disposeShader(shader) {
    if (this.shader === shader) {
      this.shader = null;
    }
  }
  destroy() {
    this.renderer = null;
    this.destroyed = true;
  }
}
ShaderSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
  name: "shader"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(ShaderSystem);


//# sourceMappingURL=ShaderSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/UniformGroup.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/UniformGroup.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UniformGroup: () => (/* binding */ UniformGroup)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../geometry/Buffer.mjs */ "./node_modules/@pixi/core/lib/geometry/Buffer.mjs");



let UID = 0;
class UniformGroup {
  constructor(uniforms, isStatic, isUbo) {
    this.group = true;
    this.syncUniforms = {};
    this.dirtyId = 0;
    this.id = UID++;
    this.static = !!isStatic;
    this.ubo = !!isUbo;
    if (uniforms instanceof _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Buffer) {
      this.buffer = uniforms;
      this.buffer.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_TYPE.UNIFORM_BUFFER;
      this.autoManage = false;
      this.ubo = true;
    } else {
      this.uniforms = uniforms;
      if (this.ubo) {
        this.buffer = new _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Buffer(new Float32Array(1));
        this.buffer.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_TYPE.UNIFORM_BUFFER;
        this.autoManage = true;
      }
    }
  }
  update() {
    this.dirtyId++;
    if (!this.autoManage && this.buffer) {
      this.buffer.update();
    }
  }
  add(name, uniforms, _static) {
    if (!this.ubo) {
      this.uniforms[name] = new UniformGroup(uniforms, _static);
    } else {
      throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");
    }
  }
  static from(uniforms, _static, _ubo) {
    return new UniformGroup(uniforms, _static, _ubo);
  }
  static uboFrom(uniforms, _static) {
    return new UniformGroup(uniforms, _static ?? true, true);
  }
}


//# sourceMappingURL=UniformGroup.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/defaultProgram.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/defaultProgram.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ defaultFragment)
/* harmony export */ });
var defaultFragment = "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}";


//# sourceMappingURL=defaultProgram.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/defaultProgram2.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/defaultProgram2.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ defaultVertex)
/* harmony export */ });
var defaultVertex = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n";


//# sourceMappingURL=defaultProgram2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/checkMaxIfStatementsInShader.mjs":
/*!***********************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/checkMaxIfStatementsInShader.mjs ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   checkMaxIfStatementsInShader: () => (/* binding */ checkMaxIfStatementsInShader)
/* harmony export */ });
const fragTemplate = [
  "precision mediump float;",
  "void main(void){",
  "float test = 0.1;",
  "%forloop%",
  "gl_FragColor = vec4(0.0);",
  "}"
].join("\n");
function generateIfTestSrc(maxIfs) {
  let src = "";
  for (let i = 0; i < maxIfs; ++i) {
    if (i > 0) {
      src += "\nelse ";
    }
    if (i < maxIfs - 1) {
      src += `if(test == ${i}.0){}`;
    }
  }
  return src;
}
function checkMaxIfStatementsInShader(maxIfs, gl) {
  if (maxIfs === 0) {
    throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");
  }
  const shader = gl.createShader(gl.FRAGMENT_SHADER);
  while (true) {
    const fragmentSrc = fragTemplate.replace(/%forloop%/gi, generateIfTestSrc(maxIfs));
    gl.shaderSource(shader, fragmentSrc);
    gl.compileShader(shader);
    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
      maxIfs = maxIfs / 2 | 0;
    } else {
      break;
    }
  }
  return maxIfs;
}


//# sourceMappingURL=checkMaxIfStatementsInShader.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/compileShader.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/compileShader.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   compileShader: () => (/* binding */ compileShader)
/* harmony export */ });
function compileShader(gl, type, src) {
  const shader = gl.createShader(type);
  gl.shaderSource(shader, src);
  gl.compileShader(shader);
  return shader;
}


//# sourceMappingURL=compileShader.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/defaultValue.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/defaultValue.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   defaultValue: () => (/* binding */ defaultValue)
/* harmony export */ });
function booleanArray(size) {
  const array = new Array(size);
  for (let i = 0; i < array.length; i++) {
    array[i] = false;
  }
  return array;
}
function defaultValue(type, size) {
  switch (type) {
    case "float":
      return 0;
    case "vec2":
      return new Float32Array(2 * size);
    case "vec3":
      return new Float32Array(3 * size);
    case "vec4":
      return new Float32Array(4 * size);
    case "int":
    case "uint":
    case "sampler2D":
    case "sampler2DArray":
      return 0;
    case "ivec2":
      return new Int32Array(2 * size);
    case "ivec3":
      return new Int32Array(3 * size);
    case "ivec4":
      return new Int32Array(4 * size);
    case "uvec2":
      return new Uint32Array(2 * size);
    case "uvec3":
      return new Uint32Array(3 * size);
    case "uvec4":
      return new Uint32Array(4 * size);
    case "bool":
      return false;
    case "bvec2":
      return booleanArray(2 * size);
    case "bvec3":
      return booleanArray(3 * size);
    case "bvec4":
      return booleanArray(4 * size);
    case "mat2":
      return new Float32Array([
        1,
        0,
        0,
        1
      ]);
    case "mat3":
      return new Float32Array([
        1,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        1
      ]);
    case "mat4":
      return new Float32Array([
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1
      ]);
  }
  return null;
}


//# sourceMappingURL=defaultValue.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/generateProgram.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/generateProgram.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   generateProgram: () => (/* binding */ generateProgram)
/* harmony export */ });
/* harmony import */ var _GLProgram_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GLProgram.mjs */ "./node_modules/@pixi/core/lib/shader/GLProgram.mjs");
/* harmony import */ var _compileShader_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./compileShader.mjs */ "./node_modules/@pixi/core/lib/shader/utils/compileShader.mjs");
/* harmony import */ var _defaultValue_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./defaultValue.mjs */ "./node_modules/@pixi/core/lib/shader/utils/defaultValue.mjs");
/* harmony import */ var _getAttributeData_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getAttributeData.mjs */ "./node_modules/@pixi/core/lib/shader/utils/getAttributeData.mjs");
/* harmony import */ var _getUniformData_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getUniformData.mjs */ "./node_modules/@pixi/core/lib/shader/utils/getUniformData.mjs");
/* harmony import */ var _logProgramError_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./logProgramError.mjs */ "./node_modules/@pixi/core/lib/shader/utils/logProgramError.mjs");







function generateProgram(gl, program) {
  const glVertShader = (0,_compileShader_mjs__WEBPACK_IMPORTED_MODULE_1__.compileShader)(gl, gl.VERTEX_SHADER, program.vertexSrc);
  const glFragShader = (0,_compileShader_mjs__WEBPACK_IMPORTED_MODULE_1__.compileShader)(gl, gl.FRAGMENT_SHADER, program.fragmentSrc);
  const webGLProgram = gl.createProgram();
  gl.attachShader(webGLProgram, glVertShader);
  gl.attachShader(webGLProgram, glFragShader);
  const transformFeedbackVaryings = program.extra?.transformFeedbackVaryings;
  if (transformFeedbackVaryings) {
    if (typeof gl.transformFeedbackVaryings !== "function") {
      console.warn(`TransformFeedback is not supported but TransformFeedbackVaryings are given.`);
    } else {
      gl.transformFeedbackVaryings(webGLProgram, transformFeedbackVaryings.names, transformFeedbackVaryings.bufferMode === "separate" ? gl.SEPARATE_ATTRIBS : gl.INTERLEAVED_ATTRIBS);
    }
  }
  gl.linkProgram(webGLProgram);
  if (!gl.getProgramParameter(webGLProgram, gl.LINK_STATUS)) {
    (0,_logProgramError_mjs__WEBPACK_IMPORTED_MODULE_5__.logProgramError)(gl, webGLProgram, glVertShader, glFragShader);
  }
  program.attributeData = (0,_getAttributeData_mjs__WEBPACK_IMPORTED_MODULE_3__.getAttributeData)(webGLProgram, gl);
  program.uniformData = (0,_getUniformData_mjs__WEBPACK_IMPORTED_MODULE_4__.getUniformData)(webGLProgram, gl);
  if (!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(program.vertexSrc)) {
    const keys = Object.keys(program.attributeData);
    keys.sort((a, b) => a > b ? 1 : -1);
    for (let i = 0; i < keys.length; i++) {
      program.attributeData[keys[i]].location = i;
      gl.bindAttribLocation(webGLProgram, i, keys[i]);
    }
    gl.linkProgram(webGLProgram);
  }
  gl.deleteShader(glVertShader);
  gl.deleteShader(glFragShader);
  const uniformData = {};
  for (const i in program.uniformData) {
    const data = program.uniformData[i];
    uniformData[i] = {
      location: gl.getUniformLocation(webGLProgram, i),
      value: (0,_defaultValue_mjs__WEBPACK_IMPORTED_MODULE_2__.defaultValue)(data.type, data.size)
    };
  }
  const glProgram = new _GLProgram_mjs__WEBPACK_IMPORTED_MODULE_0__.GLProgram(webGLProgram, uniformData);
  return glProgram;
}


//# sourceMappingURL=generateProgram.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/generateUniformBufferSync.mjs":
/*!********************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/generateUniformBufferSync.mjs ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createUBOElements: () => (/* binding */ createUBOElements),
/* harmony export */   generateUniformBufferSync: () => (/* binding */ generateUniformBufferSync),
/* harmony export */   getUBOData: () => (/* binding */ getUBOData)
/* harmony export */ });
/* harmony import */ var _index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.mjs */ "./node_modules/@pixi/core/lib/shader/utils/index.mjs");
/* harmony import */ var _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./uniformParsers.mjs */ "./node_modules/@pixi/core/lib/shader/utils/uniformParsers.mjs");
/* harmony import */ var _mapSize_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mapSize.mjs */ "./node_modules/@pixi/core/lib/shader/utils/mapSize.mjs");




function uboUpdate(_ud, _uv, _renderer, _syncData, buffer) {
  _renderer.buffer.update(buffer);
}
const UBO_TO_SINGLE_SETTERS = {
  float: `
        data[offset] = v;
    `,
  vec2: `
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,
  vec3: `
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,
  vec4: `
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,
  mat2: `
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,
  mat3: `
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,
  mat4: `
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `
};
const GLSL_TO_STD40_SIZE = {
  float: 4,
  vec2: 8,
  vec3: 12,
  vec4: 16,
  int: 4,
  ivec2: 8,
  ivec3: 12,
  ivec4: 16,
  uint: 4,
  uvec2: 8,
  uvec3: 12,
  uvec4: 16,
  bool: 4,
  bvec2: 8,
  bvec3: 12,
  bvec4: 16,
  mat2: 16 * 2,
  mat3: 16 * 3,
  mat4: 16 * 4
};
function createUBOElements(uniformData) {
  const uboElements = uniformData.map((data) => ({
    data,
    offset: 0,
    dataLen: 0,
    dirty: 0
  }));
  let size = 0;
  let chunkSize = 0;
  let offset = 0;
  for (let i = 0; i < uboElements.length; i++) {
    const uboElement = uboElements[i];
    size = GLSL_TO_STD40_SIZE[uboElement.data.type];
    if (uboElement.data.size > 1) {
      size = Math.max(size, 16) * uboElement.data.size;
    }
    uboElement.dataLen = size;
    if (chunkSize % size !== 0 && chunkSize < 16) {
      const lineUpValue = chunkSize % size % 16;
      chunkSize += lineUpValue;
      offset += lineUpValue;
    }
    if (chunkSize + size > 16) {
      offset = Math.ceil(offset / 16) * 16;
      uboElement.offset = offset;
      offset += size;
      chunkSize = size;
    } else {
      uboElement.offset = offset;
      chunkSize += size;
      offset += size;
    }
  }
  offset = Math.ceil(offset / 16) * 16;
  return { uboElements, size: offset };
}
function getUBOData(uniforms, uniformData) {
  const usedUniformDatas = [];
  for (const i in uniforms) {
    if (uniformData[i]) {
      usedUniformDatas.push(uniformData[i]);
    }
  }
  usedUniformDatas.sort((a, b) => a.index - b.index);
  return usedUniformDatas;
}
function generateUniformBufferSync(group, uniformData) {
  if (!group.autoManage) {
    return { size: 0, syncFunc: uboUpdate };
  }
  const usedUniformDatas = getUBOData(group.uniforms, uniformData);
  const { uboElements, size } = createUBOElements(usedUniformDatas);
  const funcFragments = [`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];
  for (let i = 0; i < uboElements.length; i++) {
    const uboElement = uboElements[i];
    const uniform = group.uniforms[uboElement.data.name];
    const name = uboElement.data.name;
    let parsed = false;
    for (let j = 0; j < _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_1__.uniformParsers.length; j++) {
      const uniformParser = _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_1__.uniformParsers[j];
      if (uniformParser.codeUbo && uniformParser.test(uboElement.data, uniform)) {
        funcFragments.push(`offset = ${uboElement.offset / 4};`, _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_1__.uniformParsers[j].codeUbo(uboElement.data.name, uniform));
        parsed = true;
        break;
      }
    }
    if (!parsed) {
      if (uboElement.data.size > 1) {
        const size2 = (0,_mapSize_mjs__WEBPACK_IMPORTED_MODULE_2__.mapSize)(uboElement.data.type);
        const rowSize = Math.max(GLSL_TO_STD40_SIZE[uboElement.data.type] / 16, 1);
        const elementSize = size2 / rowSize;
        const remainder = (4 - elementSize % 4) % 4;
        funcFragments.push(`
                cv = ud.${name}.value;
                v = uv.${name};
                offset = ${uboElement.offset / 4};

                t = 0;

                for(var i=0; i < ${uboElement.data.size * rowSize}; i++)
                {
                    for(var j = 0; j < ${elementSize}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${remainder};
                }

                `);
      } else {
        const template = UBO_TO_SINGLE_SETTERS[uboElement.data.type];
        funcFragments.push(`
                cv = ud.${name}.value;
                v = uv.${name};
                offset = ${uboElement.offset / 4};
                ${template};
                `);
      }
    }
  }
  funcFragments.push(`
       renderer.buffer.update(buffer);
    `);
  return {
    size,
    syncFunc: new Function("ud", "uv", "renderer", "syncData", "buffer", funcFragments.join("\n"))
  };
}


//# sourceMappingURL=generateUniformBufferSync.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/generateUniformsSync.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/generateUniformsSync.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   generateUniformsSync: () => (/* binding */ generateUniformsSync)
/* harmony export */ });
/* harmony import */ var _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./uniformParsers.mjs */ "./node_modules/@pixi/core/lib/shader/utils/uniformParsers.mjs");


const GLSL_TO_SINGLE_SETTERS_CACHED = {
  float: `
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,
  vec2: `
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,
  vec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,
  vec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,
  int: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,
  ivec2: `
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,
  ivec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,
  ivec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,
  uint: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,
  uvec2: `
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,
  uvec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,
  uvec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,
  bool: `
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,
  bvec2: `
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,
  bvec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,
  bvec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,
  mat2: "gl.uniformMatrix2fv(location, false, v)",
  mat3: "gl.uniformMatrix3fv(location, false, v)",
  mat4: "gl.uniformMatrix4fv(location, false, v)",
  sampler2D: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,
  samplerCube: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,
  sampler2DArray: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`
};
const GLSL_TO_ARRAY_SETTERS = {
  float: `gl.uniform1fv(location, v)`,
  vec2: `gl.uniform2fv(location, v)`,
  vec3: `gl.uniform3fv(location, v)`,
  vec4: "gl.uniform4fv(location, v)",
  mat4: "gl.uniformMatrix4fv(location, false, v)",
  mat3: "gl.uniformMatrix3fv(location, false, v)",
  mat2: "gl.uniformMatrix2fv(location, false, v)",
  int: "gl.uniform1iv(location, v)",
  ivec2: "gl.uniform2iv(location, v)",
  ivec3: "gl.uniform3iv(location, v)",
  ivec4: "gl.uniform4iv(location, v)",
  uint: "gl.uniform1uiv(location, v)",
  uvec2: "gl.uniform2uiv(location, v)",
  uvec3: "gl.uniform3uiv(location, v)",
  uvec4: "gl.uniform4uiv(location, v)",
  bool: "gl.uniform1iv(location, v)",
  bvec2: "gl.uniform2iv(location, v)",
  bvec3: "gl.uniform3iv(location, v)",
  bvec4: "gl.uniform4iv(location, v)",
  sampler2D: "gl.uniform1iv(location, v)",
  samplerCube: "gl.uniform1iv(location, v)",
  sampler2DArray: "gl.uniform1iv(location, v)"
};
function generateUniformsSync(group, uniformData) {
  const funcFragments = [`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];
  for (const i in group.uniforms) {
    const data = uniformData[i];
    if (!data) {
      if (group.uniforms[i]?.group) {
        if (group.uniforms[i].ubo) {
          funcFragments.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `);
        } else {
          funcFragments.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `);
        }
      }
      continue;
    }
    const uniform = group.uniforms[i];
    let parsed = false;
    for (let j = 0; j < _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_0__.uniformParsers.length; j++) {
      if (_uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_0__.uniformParsers[j].test(data, uniform)) {
        funcFragments.push(_uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_0__.uniformParsers[j].code(i, uniform));
        parsed = true;
        break;
      }
    }
    if (!parsed) {
      const templateType = data.size === 1 && !data.isArray ? GLSL_TO_SINGLE_SETTERS_CACHED : GLSL_TO_ARRAY_SETTERS;
      const template = templateType[data.type].replace("location", `ud["${i}"].location`);
      funcFragments.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${template};`);
    }
  }
  return new Function("ud", "uv", "renderer", "syncData", funcFragments.join("\n"));
}


//# sourceMappingURL=generateUniformsSync.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/getAttributeData.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/getAttributeData.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getAttributeData: () => (/* binding */ getAttributeData)
/* harmony export */ });
/* harmony import */ var _mapSize_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mapSize.mjs */ "./node_modules/@pixi/core/lib/shader/utils/mapSize.mjs");
/* harmony import */ var _mapType_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapType.mjs */ "./node_modules/@pixi/core/lib/shader/utils/mapType.mjs");



function getAttributeData(program, gl) {
  const attributes = {};
  const totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);
  for (let i = 0; i < totalAttributes; i++) {
    const attribData = gl.getActiveAttrib(program, i);
    if (attribData.name.startsWith("gl_")) {
      continue;
    }
    const type = (0,_mapType_mjs__WEBPACK_IMPORTED_MODULE_1__.mapType)(gl, attribData.type);
    const data = {
      type,
      name: attribData.name,
      size: (0,_mapSize_mjs__WEBPACK_IMPORTED_MODULE_0__.mapSize)(type),
      location: gl.getAttribLocation(program, attribData.name)
    };
    attributes[attribData.name] = data;
  }
  return attributes;
}


//# sourceMappingURL=getAttributeData.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/getMaxFragmentPrecision.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/getMaxFragmentPrecision.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getMaxFragmentPrecision: () => (/* binding */ getMaxFragmentPrecision)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _getTestContext_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getTestContext.mjs */ "./node_modules/@pixi/core/lib/shader/utils/getTestContext.mjs");



let maxFragmentPrecision;
function getMaxFragmentPrecision() {
  if (!maxFragmentPrecision) {
    maxFragmentPrecision = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.MEDIUM;
    const gl = (0,_getTestContext_mjs__WEBPACK_IMPORTED_MODULE_1__.getTestContext)();
    if (gl) {
      if (gl.getShaderPrecisionFormat) {
        const shaderFragment = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT);
        maxFragmentPrecision = shaderFragment.precision ? _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.HIGH : _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.MEDIUM;
      }
    }
  }
  return maxFragmentPrecision;
}


//# sourceMappingURL=getMaxFragmentPrecision.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/getTestContext.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/getTestContext.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getTestContext: () => (/* binding */ getTestContext)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");



const unknownContext = {};
let context = unknownContext;
function getTestContext() {
  if (context === unknownContext || context?.isContextLost()) {
    const canvas = _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.createCanvas();
    let gl;
    if (_pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.PREFER_ENV >= _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ENV.WEBGL2) {
      gl = canvas.getContext("webgl2", {});
    }
    if (!gl) {
      gl = canvas.getContext("webgl", {}) || canvas.getContext("experimental-webgl", {});
      if (!gl) {
        gl = null;
      } else {
        gl.getExtension("WEBGL_draw_buffers");
      }
    }
    context = gl;
  }
  return context;
}


//# sourceMappingURL=getTestContext.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/getUniformData.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/getUniformData.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getUniformData: () => (/* binding */ getUniformData)
/* harmony export */ });
/* harmony import */ var _defaultValue_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defaultValue.mjs */ "./node_modules/@pixi/core/lib/shader/utils/defaultValue.mjs");
/* harmony import */ var _mapType_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapType.mjs */ "./node_modules/@pixi/core/lib/shader/utils/mapType.mjs");



function getUniformData(program, gl) {
  const uniforms = {};
  const totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);
  for (let i = 0; i < totalUniforms; i++) {
    const uniformData = gl.getActiveUniform(program, i);
    const name = uniformData.name.replace(/\[.*?\]$/, "");
    const isArray = !!uniformData.name.match(/\[.*?\]$/);
    const type = (0,_mapType_mjs__WEBPACK_IMPORTED_MODULE_1__.mapType)(gl, uniformData.type);
    uniforms[name] = {
      name,
      index: i,
      type,
      size: uniformData.size,
      isArray,
      value: (0,_defaultValue_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultValue)(type, uniformData.size)
    };
  }
  return uniforms;
}


//# sourceMappingURL=getUniformData.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/index.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/index.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   checkMaxIfStatementsInShader: () => (/* reexport safe */ _checkMaxIfStatementsInShader_mjs__WEBPACK_IMPORTED_MODULE_0__.checkMaxIfStatementsInShader),
/* harmony export */   compileShader: () => (/* reexport safe */ _compileShader_mjs__WEBPACK_IMPORTED_MODULE_1__.compileShader),
/* harmony export */   defaultValue: () => (/* reexport safe */ _defaultValue_mjs__WEBPACK_IMPORTED_MODULE_2__.defaultValue),
/* harmony export */   generateUniformsSync: () => (/* reexport safe */ _generateUniformsSync_mjs__WEBPACK_IMPORTED_MODULE_3__.generateUniformsSync),
/* harmony export */   getMaxFragmentPrecision: () => (/* reexport safe */ _getMaxFragmentPrecision_mjs__WEBPACK_IMPORTED_MODULE_4__.getMaxFragmentPrecision),
/* harmony export */   getTestContext: () => (/* reexport safe */ _getTestContext_mjs__WEBPACK_IMPORTED_MODULE_5__.getTestContext),
/* harmony export */   logProgramError: () => (/* reexport safe */ _logProgramError_mjs__WEBPACK_IMPORTED_MODULE_6__.logProgramError),
/* harmony export */   mapSize: () => (/* reexport safe */ _mapSize_mjs__WEBPACK_IMPORTED_MODULE_7__.mapSize),
/* harmony export */   mapType: () => (/* reexport safe */ _mapType_mjs__WEBPACK_IMPORTED_MODULE_8__.mapType),
/* harmony export */   setPrecision: () => (/* reexport safe */ _setPrecision_mjs__WEBPACK_IMPORTED_MODULE_9__.setPrecision),
/* harmony export */   uniformParsers: () => (/* reexport safe */ _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_10__.uniformParsers),
/* harmony export */   unsafeEvalSupported: () => (/* reexport safe */ _unsafeEvalSupported_mjs__WEBPACK_IMPORTED_MODULE_11__.unsafeEvalSupported)
/* harmony export */ });
/* harmony import */ var _checkMaxIfStatementsInShader_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./checkMaxIfStatementsInShader.mjs */ "./node_modules/@pixi/core/lib/shader/utils/checkMaxIfStatementsInShader.mjs");
/* harmony import */ var _compileShader_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./compileShader.mjs */ "./node_modules/@pixi/core/lib/shader/utils/compileShader.mjs");
/* harmony import */ var _defaultValue_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./defaultValue.mjs */ "./node_modules/@pixi/core/lib/shader/utils/defaultValue.mjs");
/* harmony import */ var _generateUniformsSync_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./generateUniformsSync.mjs */ "./node_modules/@pixi/core/lib/shader/utils/generateUniformsSync.mjs");
/* harmony import */ var _getMaxFragmentPrecision_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getMaxFragmentPrecision.mjs */ "./node_modules/@pixi/core/lib/shader/utils/getMaxFragmentPrecision.mjs");
/* harmony import */ var _getTestContext_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./getTestContext.mjs */ "./node_modules/@pixi/core/lib/shader/utils/getTestContext.mjs");
/* harmony import */ var _logProgramError_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./logProgramError.mjs */ "./node_modules/@pixi/core/lib/shader/utils/logProgramError.mjs");
/* harmony import */ var _mapSize_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./mapSize.mjs */ "./node_modules/@pixi/core/lib/shader/utils/mapSize.mjs");
/* harmony import */ var _mapType_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./mapType.mjs */ "./node_modules/@pixi/core/lib/shader/utils/mapType.mjs");
/* harmony import */ var _setPrecision_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./setPrecision.mjs */ "./node_modules/@pixi/core/lib/shader/utils/setPrecision.mjs");
/* harmony import */ var _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./uniformParsers.mjs */ "./node_modules/@pixi/core/lib/shader/utils/uniformParsers.mjs");
/* harmony import */ var _unsafeEvalSupported_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./unsafeEvalSupported.mjs */ "./node_modules/@pixi/core/lib/shader/utils/unsafeEvalSupported.mjs");












//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/logProgramError.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/logProgramError.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   logProgramError: () => (/* binding */ logProgramError)
/* harmony export */ });
function logPrettyShaderError(gl, shader) {
  const shaderSrc = gl.getShaderSource(shader).split("\n").map((line, index) => `${index}: ${line}`);
  const shaderLog = gl.getShaderInfoLog(shader);
  const splitShader = shaderLog.split("\n");
  const dedupe = {};
  const lineNumbers = splitShader.map((line) => parseFloat(line.replace(/^ERROR\: 0\:([\d]+)\:.*$/, "$1"))).filter((n) => {
    if (n && !dedupe[n]) {
      dedupe[n] = true;
      return true;
    }
    return false;
  });
  const logArgs = [""];
  lineNumbers.forEach((number) => {
    shaderSrc[number - 1] = `%c${shaderSrc[number - 1]}%c`;
    logArgs.push("background: #FF0000; color:#FFFFFF; font-size: 10px", "font-size: 10px");
  });
  const fragmentSourceToLog = shaderSrc.join("\n");
  logArgs[0] = fragmentSourceToLog;
  console.error(shaderLog);
  console.groupCollapsed("click to view full shader code");
  console.warn(...logArgs);
  console.groupEnd();
}
function logProgramError(gl, program, vertexShader, fragmentShader) {
  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
    if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {
      logPrettyShaderError(gl, vertexShader);
    }
    if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {
      logPrettyShaderError(gl, fragmentShader);
    }
    console.error("PixiJS Error: Could not initialize shader.");
    if (gl.getProgramInfoLog(program) !== "") {
      console.warn("PixiJS Warning: gl.getProgramInfoLog()", gl.getProgramInfoLog(program));
    }
  }
}


//# sourceMappingURL=logProgramError.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/mapSize.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/mapSize.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   mapSize: () => (/* binding */ mapSize)
/* harmony export */ });
const GLSL_TO_SIZE = {
  float: 1,
  vec2: 2,
  vec3: 3,
  vec4: 4,
  int: 1,
  ivec2: 2,
  ivec3: 3,
  ivec4: 4,
  uint: 1,
  uvec2: 2,
  uvec3: 3,
  uvec4: 4,
  bool: 1,
  bvec2: 2,
  bvec3: 3,
  bvec4: 4,
  mat2: 4,
  mat3: 9,
  mat4: 16,
  sampler2D: 1
};
function mapSize(type) {
  return GLSL_TO_SIZE[type];
}


//# sourceMappingURL=mapSize.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/mapType.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/mapType.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   mapType: () => (/* binding */ mapType)
/* harmony export */ });
let GL_TABLE = null;
const GL_TO_GLSL_TYPES = {
  FLOAT: "float",
  FLOAT_VEC2: "vec2",
  FLOAT_VEC3: "vec3",
  FLOAT_VEC4: "vec4",
  INT: "int",
  INT_VEC2: "ivec2",
  INT_VEC3: "ivec3",
  INT_VEC4: "ivec4",
  UNSIGNED_INT: "uint",
  UNSIGNED_INT_VEC2: "uvec2",
  UNSIGNED_INT_VEC3: "uvec3",
  UNSIGNED_INT_VEC4: "uvec4",
  BOOL: "bool",
  BOOL_VEC2: "bvec2",
  BOOL_VEC3: "bvec3",
  BOOL_VEC4: "bvec4",
  FLOAT_MAT2: "mat2",
  FLOAT_MAT3: "mat3",
  FLOAT_MAT4: "mat4",
  SAMPLER_2D: "sampler2D",
  INT_SAMPLER_2D: "sampler2D",
  UNSIGNED_INT_SAMPLER_2D: "sampler2D",
  SAMPLER_CUBE: "samplerCube",
  INT_SAMPLER_CUBE: "samplerCube",
  UNSIGNED_INT_SAMPLER_CUBE: "samplerCube",
  SAMPLER_2D_ARRAY: "sampler2DArray",
  INT_SAMPLER_2D_ARRAY: "sampler2DArray",
  UNSIGNED_INT_SAMPLER_2D_ARRAY: "sampler2DArray"
};
function mapType(gl, type) {
  if (!GL_TABLE) {
    const typeNames = Object.keys(GL_TO_GLSL_TYPES);
    GL_TABLE = {};
    for (let i = 0; i < typeNames.length; ++i) {
      const tn = typeNames[i];
      GL_TABLE[gl[tn]] = GL_TO_GLSL_TYPES[tn];
    }
  }
  return GL_TABLE[type];
}


//# sourceMappingURL=mapType.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/setPrecision.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/setPrecision.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   setPrecision: () => (/* binding */ setPrecision)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


function setPrecision(src, requestedPrecision, maxSupportedPrecision) {
  if (src.substring(0, 9) !== "precision") {
    let precision = requestedPrecision;
    if (requestedPrecision === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.HIGH && maxSupportedPrecision !== _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.HIGH) {
      precision = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.MEDIUM;
    }
    return `precision ${precision} float;
${src}`;
  } else if (maxSupportedPrecision !== _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.HIGH && src.substring(0, 15) === "precision highp") {
    return src.replace("precision highp", "precision mediump");
  }
  return src;
}


//# sourceMappingURL=setPrecision.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/uniformParsers.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/uniformParsers.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   uniformParsers: () => (/* binding */ uniformParsers)
/* harmony export */ });
const uniformParsers = [
  {
    test: (data) => data.type === "float" && data.size === 1 && !data.isArray,
    code: (name) => `
            if(uv["${name}"] !== ud["${name}"].value)
            {
                ud["${name}"].value = uv["${name}"]
                gl.uniform1f(ud["${name}"].location, uv["${name}"])
            }
            `
  },
  {
    test: (data, uniform) => (data.type === "sampler2D" || data.type === "samplerCube" || data.type === "sampler2DArray") && data.size === 1 && !data.isArray && (uniform == null || uniform.castToBaseTexture !== void 0),
    code: (name) => `t = syncData.textureCount++;

            renderer.texture.bind(uv["${name}"], t);

            if(ud["${name}"].value !== t)
            {
                ud["${name}"].value = t;
                gl.uniform1i(ud["${name}"].location, t);
; // eslint-disable-line max-len
            }`
  },
  {
    test: (data, uniform) => data.type === "mat3" && data.size === 1 && !data.isArray && uniform.a !== void 0,
    code: (name) => `
            gl.uniformMatrix3fv(ud["${name}"].location, false, uv["${name}"].toArray(true));
            `,
    codeUbo: (name) => `
                var ${name}_matrix = uv.${name}.toArray(true);

                data[offset] = ${name}_matrix[0];
                data[offset+1] = ${name}_matrix[1];
                data[offset+2] = ${name}_matrix[2];
        
                data[offset + 4] = ${name}_matrix[3];
                data[offset + 5] = ${name}_matrix[4];
                data[offset + 6] = ${name}_matrix[5];
        
                data[offset + 8] = ${name}_matrix[6];
                data[offset + 9] = ${name}_matrix[7];
                data[offset + 10] = ${name}_matrix[8];
            `
  },
  {
    test: (data, uniform) => data.type === "vec2" && data.size === 1 && !data.isArray && uniform.x !== void 0,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${name}"].location, v.x, v.y);
                }`,
    codeUbo: (name) => `
                v = uv.${name};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `
  },
  {
    test: (data) => data.type === "vec2" && data.size === 1 && !data.isArray,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${name}"].location, v[0], v[1]);
                }
            `
  },
  {
    test: (data, uniform) => data.type === "vec4" && data.size === 1 && !data.isArray && uniform.width !== void 0,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${name}"].location, v.x, v.y, v.width, v.height)
                }`,
    codeUbo: (name) => `
                    v = uv.${name};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `
  },
  {
    test: (data, uniform) => data.type === "vec4" && data.size === 1 && !data.isArray && uniform.red !== void 0,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${name}"].location, v.red, v.green, v.blue, v.alpha)
                }`,
    codeUbo: (name) => `
                    v = uv.${name};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `
  },
  {
    test: (data, uniform) => data.type === "vec3" && data.size === 1 && !data.isArray && uniform.red !== void 0,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${name}"].location, v.red, v.green, v.blue)
                }`,
    codeUbo: (name) => `
                    v = uv.${name};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `
  },
  {
    test: (data) => data.type === "vec4" && data.size === 1 && !data.isArray,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${name}"].location, v[0], v[1], v[2], v[3])
                }`
  }
];


//# sourceMappingURL=uniformParsers.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/unsafeEvalSupported.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/unsafeEvalSupported.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   unsafeEvalSupported: () => (/* binding */ unsafeEvalSupported)
/* harmony export */ });
let unsafeEval;
function unsafeEvalSupported() {
  if (typeof unsafeEval === "boolean") {
    return unsafeEval;
  }
  try {
    const func = new Function("param1", "param2", "param3", "return param1[param2] === param3;");
    unsafeEval = func({ a: "b" }, "a", "b") === true;
  } catch (e) {
    unsafeEval = false;
  }
  return unsafeEval;
}


//# sourceMappingURL=unsafeEvalSupported.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/startup/StartupSystem.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/startup/StartupSystem.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StartupSystem: () => (/* binding */ StartupSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");


class StartupSystem {
  constructor(renderer) {
    this.renderer = renderer;
  }
  run(options) {
    const { renderer } = this;
    renderer.runners.init.emit(renderer.options);
    if (options.hello) {
      console.log(`PixiJS ${"7.2.4"} - ${renderer.rendererLogId} - https://pixijs.com`);
    }
    renderer.resize(renderer.screen.width, renderer.screen.height);
  }
  destroy() {
  }
}
StartupSystem.defaultOptions = {
  hello: false
};
StartupSystem.extension = {
  type: [
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.CanvasRendererSystem
  ],
  name: "startup"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(StartupSystem);


//# sourceMappingURL=StartupSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/state/State.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/core/lib/state/State.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   State: () => (/* binding */ State)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


const BLEND = 0;
const OFFSET = 1;
const CULLING = 2;
const DEPTH_TEST = 3;
const WINDING = 4;
const DEPTH_MASK = 5;
class State {
  constructor() {
    this.data = 0;
    this.blendMode = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL;
    this.polygonOffset = 0;
    this.blend = true;
    this.depthMask = true;
  }
  get blend() {
    return !!(this.data & 1 << BLEND);
  }
  set blend(value) {
    if (!!(this.data & 1 << BLEND) !== value) {
      this.data ^= 1 << BLEND;
    }
  }
  get offsets() {
    return !!(this.data & 1 << OFFSET);
  }
  set offsets(value) {
    if (!!(this.data & 1 << OFFSET) !== value) {
      this.data ^= 1 << OFFSET;
    }
  }
  get culling() {
    return !!(this.data & 1 << CULLING);
  }
  set culling(value) {
    if (!!(this.data & 1 << CULLING) !== value) {
      this.data ^= 1 << CULLING;
    }
  }
  get depthTest() {
    return !!(this.data & 1 << DEPTH_TEST);
  }
  set depthTest(value) {
    if (!!(this.data & 1 << DEPTH_TEST) !== value) {
      this.data ^= 1 << DEPTH_TEST;
    }
  }
  get depthMask() {
    return !!(this.data & 1 << DEPTH_MASK);
  }
  set depthMask(value) {
    if (!!(this.data & 1 << DEPTH_MASK) !== value) {
      this.data ^= 1 << DEPTH_MASK;
    }
  }
  get clockwiseFrontFace() {
    return !!(this.data & 1 << WINDING);
  }
  set clockwiseFrontFace(value) {
    if (!!(this.data & 1 << WINDING) !== value) {
      this.data ^= 1 << WINDING;
    }
  }
  get blendMode() {
    return this._blendMode;
  }
  set blendMode(value) {
    this.blend = value !== _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NONE;
    this._blendMode = value;
  }
  get polygonOffset() {
    return this._polygonOffset;
  }
  set polygonOffset(value) {
    this.offsets = !!value;
    this._polygonOffset = value;
  }
  toString() {
    return `[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`;
  }
  static for2d() {
    const state = new State();
    state.depthTest = false;
    state.blend = true;
    return state;
  }
}


//# sourceMappingURL=State.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/state/StateSystem.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/state/StateSystem.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StateSystem: () => (/* binding */ StateSystem)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _State_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./State.mjs */ "./node_modules/@pixi/core/lib/state/State.mjs");
/* harmony import */ var _utils_mapWebGLBlendModesToPixi_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/mapWebGLBlendModesToPixi.mjs */ "./node_modules/@pixi/core/lib/state/utils/mapWebGLBlendModesToPixi.mjs");





const BLEND = 0;
const OFFSET = 1;
const CULLING = 2;
const DEPTH_TEST = 3;
const WINDING = 4;
const DEPTH_MASK = 5;
const _StateSystem = class {
  constructor() {
    this.gl = null;
    this.stateId = 0;
    this.polygonOffset = 0;
    this.blendMode = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NONE;
    this._blendEq = false;
    this.map = [];
    this.map[BLEND] = this.setBlend;
    this.map[OFFSET] = this.setOffset;
    this.map[CULLING] = this.setCullFace;
    this.map[DEPTH_TEST] = this.setDepthTest;
    this.map[WINDING] = this.setFrontFace;
    this.map[DEPTH_MASK] = this.setDepthMask;
    this.checks = [];
    this.defaultState = new _State_mjs__WEBPACK_IMPORTED_MODULE_2__.State();
    this.defaultState.blend = true;
  }
  contextChange(gl) {
    this.gl = gl;
    this.blendModes = (0,_utils_mapWebGLBlendModesToPixi_mjs__WEBPACK_IMPORTED_MODULE_3__.mapWebGLBlendModesToPixi)(gl);
    this.set(this.defaultState);
    this.reset();
  }
  set(state) {
    state = state || this.defaultState;
    if (this.stateId !== state.data) {
      let diff = this.stateId ^ state.data;
      let i = 0;
      while (diff) {
        if (diff & 1) {
          this.map[i].call(this, !!(state.data & 1 << i));
        }
        diff = diff >> 1;
        i++;
      }
      this.stateId = state.data;
    }
    for (let i = 0; i < this.checks.length; i++) {
      this.checks[i](this, state);
    }
  }
  forceState(state) {
    state = state || this.defaultState;
    for (let i = 0; i < this.map.length; i++) {
      this.map[i].call(this, !!(state.data & 1 << i));
    }
    for (let i = 0; i < this.checks.length; i++) {
      this.checks[i](this, state);
    }
    this.stateId = state.data;
  }
  setBlend(value) {
    this.updateCheck(_StateSystem.checkBlendMode, value);
    this.gl[value ? "enable" : "disable"](this.gl.BLEND);
  }
  setOffset(value) {
    this.updateCheck(_StateSystem.checkPolygonOffset, value);
    this.gl[value ? "enable" : "disable"](this.gl.POLYGON_OFFSET_FILL);
  }
  setDepthTest(value) {
    this.gl[value ? "enable" : "disable"](this.gl.DEPTH_TEST);
  }
  setDepthMask(value) {
    this.gl.depthMask(value);
  }
  setCullFace(value) {
    this.gl[value ? "enable" : "disable"](this.gl.CULL_FACE);
  }
  setFrontFace(value) {
    this.gl.frontFace(this.gl[value ? "CW" : "CCW"]);
  }
  setBlendMode(value) {
    if (value === this.blendMode) {
      return;
    }
    this.blendMode = value;
    const mode = this.blendModes[value];
    const gl = this.gl;
    if (mode.length === 2) {
      gl.blendFunc(mode[0], mode[1]);
    } else {
      gl.blendFuncSeparate(mode[0], mode[1], mode[2], mode[3]);
    }
    if (mode.length === 6) {
      this._blendEq = true;
      gl.blendEquationSeparate(mode[4], mode[5]);
    } else if (this._blendEq) {
      this._blendEq = false;
      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
    }
  }
  setPolygonOffset(value, scale) {
    this.gl.polygonOffset(value, scale);
  }
  reset() {
    this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, false);
    this.forceState(this.defaultState);
    this._blendEq = true;
    this.blendMode = -1;
    this.setBlendMode(0);
  }
  updateCheck(func, value) {
    const index = this.checks.indexOf(func);
    if (value && index === -1) {
      this.checks.push(func);
    } else if (!value && index !== -1) {
      this.checks.splice(index, 1);
    }
  }
  static checkBlendMode(system, state) {
    system.setBlendMode(state.blendMode);
  }
  static checkPolygonOffset(system, state) {
    system.setPolygonOffset(1, state.polygonOffset);
  }
  destroy() {
    this.gl = null;
  }
};
let StateSystem = _StateSystem;
StateSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "state"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(StateSystem);


//# sourceMappingURL=StateSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/state/utils/mapWebGLBlendModesToPixi.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/state/utils/mapWebGLBlendModesToPixi.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   mapWebGLBlendModesToPixi: () => (/* binding */ mapWebGLBlendModesToPixi)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


function mapWebGLBlendModesToPixi(gl, array = []) {
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.ADD] = [gl.ONE, gl.ONE];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.MULTIPLY] = [gl.DST_COLOR, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SCREEN] = [gl.ONE, gl.ONE_MINUS_SRC_COLOR, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.OVERLAY] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.DARKEN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.LIGHTEN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.COLOR_DODGE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.COLOR_BURN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.HARD_LIGHT] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SOFT_LIGHT] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.DIFFERENCE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.EXCLUSION] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.HUE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SATURATION] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.COLOR] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.LUMINOSITY] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NONE] = [0, 0];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL_NPM] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.ADD_NPM] = [gl.SRC_ALPHA, gl.ONE, gl.ONE, gl.ONE];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SCREEN_NPM] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_COLOR, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SRC_IN] = [gl.DST_ALPHA, gl.ZERO];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SRC_OUT] = [gl.ONE_MINUS_DST_ALPHA, gl.ZERO];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SRC_ATOP] = [gl.DST_ALPHA, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.DST_OVER] = [gl.ONE_MINUS_DST_ALPHA, gl.ONE];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.DST_IN] = [gl.ZERO, gl.SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.DST_OUT] = [gl.ZERO, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.DST_ATOP] = [gl.ONE_MINUS_DST_ALPHA, gl.SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.XOR] = [gl.ONE_MINUS_DST_ALPHA, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SUBTRACT] = [gl.ONE, gl.ONE, gl.ONE, gl.ONE, gl.FUNC_REVERSE_SUBTRACT, gl.FUNC_ADD];
  return array;
}


//# sourceMappingURL=mapWebGLBlendModesToPixi.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/system/ISystem.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/system/ISystem.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=ISystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/system/SystemManager.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/system/SystemManager.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SystemManager: () => (/* binding */ SystemManager)
/* harmony export */ });
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");



class SystemManager extends _pixi_utils__WEBPACK_IMPORTED_MODULE_1__.EventEmitter {
  constructor() {
    super(...arguments);
    this.runners = {};
    this._systemsHash = {};
  }
  setup(config) {
    this.addRunners(...config.runners);
    const priority = (config.priority ?? []).filter((key) => config.systems[key]);
    const orderByPriority = [
      ...priority,
      ...Object.keys(config.systems).filter((key) => !priority.includes(key))
    ];
    for (const i of orderByPriority) {
      this.addSystem(config.systems[i], i);
    }
  }
  addRunners(...runnerIds) {
    runnerIds.forEach((runnerId) => {
      this.runners[runnerId] = new _pixi_runner__WEBPACK_IMPORTED_MODULE_0__.Runner(runnerId);
    });
  }
  addSystem(ClassRef, name) {
    const system = new ClassRef(this);
    if (this[name]) {
      throw new Error(`Whoops! The name "${name}" is already in use`);
    }
    this[name] = system;
    this._systemsHash[name] = system;
    for (const i in this.runners) {
      this.runners[i].add(system);
    }
    return this;
  }
  emitWithCustomOptions(runner, options) {
    const systemHashKeys = Object.keys(this._systemsHash);
    runner.items.forEach((system) => {
      const systemName = systemHashKeys.find((systemId) => this._systemsHash[systemId] === system);
      system[runner.name](options[systemName]);
    });
  }
  destroy() {
    Object.values(this.runners).forEach((runner) => {
      runner.destroy();
    });
    this._systemsHash = {};
  }
}


//# sourceMappingURL=SystemManager.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/systems.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/core/lib/systems.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BackgroundSystem: () => (/* reexport safe */ _background_BackgroundSystem_mjs__WEBPACK_IMPORTED_MODULE_0__.BackgroundSystem),
/* harmony export */   BatchSystem: () => (/* reexport safe */ _batch_BatchSystem_mjs__WEBPACK_IMPORTED_MODULE_1__.BatchSystem),
/* harmony export */   ContextSystem: () => (/* reexport safe */ _context_ContextSystem_mjs__WEBPACK_IMPORTED_MODULE_2__.ContextSystem),
/* harmony export */   FilterSystem: () => (/* reexport safe */ _filters_FilterSystem_mjs__WEBPACK_IMPORTED_MODULE_3__.FilterSystem),
/* harmony export */   FramebufferSystem: () => (/* reexport safe */ _framebuffer_FramebufferSystem_mjs__WEBPACK_IMPORTED_MODULE_4__.FramebufferSystem),
/* harmony export */   GenerateTextureSystem: () => (/* reexport safe */ _renderTexture_GenerateTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_11__.GenerateTextureSystem),
/* harmony export */   GeometrySystem: () => (/* reexport safe */ _geometry_GeometrySystem_mjs__WEBPACK_IMPORTED_MODULE_5__.GeometrySystem),
/* harmony export */   MaskSystem: () => (/* reexport safe */ _mask_MaskSystem_mjs__WEBPACK_IMPORTED_MODULE_6__.MaskSystem),
/* harmony export */   PluginSystem: () => (/* reexport safe */ _plugin_PluginSystem_mjs__WEBPACK_IMPORTED_MODULE_9__.PluginSystem),
/* harmony export */   ProjectionSystem: () => (/* reexport safe */ _projection_ProjectionSystem_mjs__WEBPACK_IMPORTED_MODULE_10__.ProjectionSystem),
/* harmony export */   RenderTextureSystem: () => (/* reexport safe */ _renderTexture_RenderTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_12__.RenderTextureSystem),
/* harmony export */   ScissorSystem: () => (/* reexport safe */ _mask_ScissorSystem_mjs__WEBPACK_IMPORTED_MODULE_7__.ScissorSystem),
/* harmony export */   ShaderSystem: () => (/* reexport safe */ _shader_ShaderSystem_mjs__WEBPACK_IMPORTED_MODULE_13__.ShaderSystem),
/* harmony export */   StartupSystem: () => (/* reexport safe */ _startup_StartupSystem_mjs__WEBPACK_IMPORTED_MODULE_14__.StartupSystem),
/* harmony export */   StateSystem: () => (/* reexport safe */ _state_StateSystem_mjs__WEBPACK_IMPORTED_MODULE_15__.StateSystem),
/* harmony export */   StencilSystem: () => (/* reexport safe */ _mask_StencilSystem_mjs__WEBPACK_IMPORTED_MODULE_8__.StencilSystem),
/* harmony export */   SystemManager: () => (/* reexport safe */ _system_SystemManager_mjs__WEBPACK_IMPORTED_MODULE_16__.SystemManager),
/* harmony export */   TextureGCSystem: () => (/* reexport safe */ _textures_TextureGCSystem_mjs__WEBPACK_IMPORTED_MODULE_17__.TextureGCSystem),
/* harmony export */   TextureSystem: () => (/* reexport safe */ _textures_TextureSystem_mjs__WEBPACK_IMPORTED_MODULE_18__.TextureSystem),
/* harmony export */   TransformFeedbackSystem: () => (/* reexport safe */ _transformFeedback_TransformFeedbackSystem_mjs__WEBPACK_IMPORTED_MODULE_19__.TransformFeedbackSystem),
/* harmony export */   ViewSystem: () => (/* reexport safe */ _view_ViewSystem_mjs__WEBPACK_IMPORTED_MODULE_20__.ViewSystem)
/* harmony export */ });
/* harmony import */ var _background_BackgroundSystem_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./background/BackgroundSystem.mjs */ "./node_modules/@pixi/core/lib/background/BackgroundSystem.mjs");
/* harmony import */ var _batch_BatchSystem_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./batch/BatchSystem.mjs */ "./node_modules/@pixi/core/lib/batch/BatchSystem.mjs");
/* harmony import */ var _context_ContextSystem_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context/ContextSystem.mjs */ "./node_modules/@pixi/core/lib/context/ContextSystem.mjs");
/* harmony import */ var _filters_FilterSystem_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./filters/FilterSystem.mjs */ "./node_modules/@pixi/core/lib/filters/FilterSystem.mjs");
/* harmony import */ var _framebuffer_FramebufferSystem_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./framebuffer/FramebufferSystem.mjs */ "./node_modules/@pixi/core/lib/framebuffer/FramebufferSystem.mjs");
/* harmony import */ var _geometry_GeometrySystem_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./geometry/GeometrySystem.mjs */ "./node_modules/@pixi/core/lib/geometry/GeometrySystem.mjs");
/* harmony import */ var _mask_MaskSystem_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mask/MaskSystem.mjs */ "./node_modules/@pixi/core/lib/mask/MaskSystem.mjs");
/* harmony import */ var _mask_ScissorSystem_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./mask/ScissorSystem.mjs */ "./node_modules/@pixi/core/lib/mask/ScissorSystem.mjs");
/* harmony import */ var _mask_StencilSystem_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./mask/StencilSystem.mjs */ "./node_modules/@pixi/core/lib/mask/StencilSystem.mjs");
/* harmony import */ var _plugin_PluginSystem_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./plugin/PluginSystem.mjs */ "./node_modules/@pixi/core/lib/plugin/PluginSystem.mjs");
/* harmony import */ var _projection_ProjectionSystem_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./projection/ProjectionSystem.mjs */ "./node_modules/@pixi/core/lib/projection/ProjectionSystem.mjs");
/* harmony import */ var _renderTexture_GenerateTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./renderTexture/GenerateTextureSystem.mjs */ "./node_modules/@pixi/core/lib/renderTexture/GenerateTextureSystem.mjs");
/* harmony import */ var _renderTexture_RenderTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./renderTexture/RenderTextureSystem.mjs */ "./node_modules/@pixi/core/lib/renderTexture/RenderTextureSystem.mjs");
/* harmony import */ var _shader_ShaderSystem_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./shader/ShaderSystem.mjs */ "./node_modules/@pixi/core/lib/shader/ShaderSystem.mjs");
/* harmony import */ var _startup_StartupSystem_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./startup/StartupSystem.mjs */ "./node_modules/@pixi/core/lib/startup/StartupSystem.mjs");
/* harmony import */ var _state_StateSystem_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./state/StateSystem.mjs */ "./node_modules/@pixi/core/lib/state/StateSystem.mjs");
/* harmony import */ var _system_SystemManager_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./system/SystemManager.mjs */ "./node_modules/@pixi/core/lib/system/SystemManager.mjs");
/* harmony import */ var _textures_TextureGCSystem_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./textures/TextureGCSystem.mjs */ "./node_modules/@pixi/core/lib/textures/TextureGCSystem.mjs");
/* harmony import */ var _textures_TextureSystem_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./textures/TextureSystem.mjs */ "./node_modules/@pixi/core/lib/textures/TextureSystem.mjs");
/* harmony import */ var _transformFeedback_TransformFeedbackSystem_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./transformFeedback/TransformFeedbackSystem.mjs */ "./node_modules/@pixi/core/lib/transformFeedback/TransformFeedbackSystem.mjs");
/* harmony import */ var _view_ViewSystem_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./view/ViewSystem.mjs */ "./node_modules/@pixi/core/lib/view/ViewSystem.mjs");





















//# sourceMappingURL=systems.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/BaseTexture.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseTexture: () => (/* binding */ BaseTexture)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _resources_autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resources/autoDetectResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/autoDetectResource.mjs");
/* harmony import */ var _resources_BufferResource_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resources/BufferResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BufferResource.mjs");
/* harmony import */ var _resources_Resource_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./resources/Resource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/Resource.mjs");







const defaultBufferOptions = {
  scaleMode: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.SCALE_MODES.NEAREST,
  format: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA,
  alphaMode: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ALPHA_MODES.NPM
};
const _BaseTexture = class extends _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.EventEmitter {
  constructor(resource = null, options = null) {
    super();
    options = Object.assign({}, _BaseTexture.defaultOptions, options);
    const {
      alphaMode,
      mipmap,
      anisotropicLevel,
      scaleMode,
      width,
      height,
      wrapMode,
      format,
      type,
      target,
      resolution,
      resourceOptions
    } = options;
    if (resource && !(resource instanceof _resources_Resource_mjs__WEBPACK_IMPORTED_MODULE_5__.Resource)) {
      resource = (0,_resources_autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_3__.autoDetectResource)(resource, resourceOptions);
      resource.internal = true;
    }
    this.resolution = resolution || _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.RESOLUTION;
    this.width = Math.round((width || 0) * this.resolution) / this.resolution;
    this.height = Math.round((height || 0) * this.resolution) / this.resolution;
    this._mipmap = mipmap;
    this.anisotropicLevel = anisotropicLevel;
    this._wrapMode = wrapMode;
    this._scaleMode = scaleMode;
    this.format = format;
    this.type = type;
    this.target = target;
    this.alphaMode = alphaMode;
    this.uid = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.uid)();
    this.touched = 0;
    this.isPowerOfTwo = false;
    this._refreshPOT();
    this._glTextures = {};
    this.dirtyId = 0;
    this.dirtyStyleId = 0;
    this.cacheId = null;
    this.valid = width > 0 && height > 0;
    this.textureCacheIds = [];
    this.destroyed = false;
    this.resource = null;
    this._batchEnabled = 0;
    this._batchLocation = 0;
    this.parentTextureArray = null;
    this.setResource(resource);
  }
  get realWidth() {
    return Math.round(this.width * this.resolution);
  }
  get realHeight() {
    return Math.round(this.height * this.resolution);
  }
  get mipmap() {
    return this._mipmap;
  }
  set mipmap(value) {
    if (this._mipmap !== value) {
      this._mipmap = value;
      this.dirtyStyleId++;
    }
  }
  get scaleMode() {
    return this._scaleMode;
  }
  set scaleMode(value) {
    if (this._scaleMode !== value) {
      this._scaleMode = value;
      this.dirtyStyleId++;
    }
  }
  get wrapMode() {
    return this._wrapMode;
  }
  set wrapMode(value) {
    if (this._wrapMode !== value) {
      this._wrapMode = value;
      this.dirtyStyleId++;
    }
  }
  setStyle(scaleMode, mipmap) {
    let dirty;
    if (scaleMode !== void 0 && scaleMode !== this.scaleMode) {
      this.scaleMode = scaleMode;
      dirty = true;
    }
    if (mipmap !== void 0 && mipmap !== this.mipmap) {
      this.mipmap = mipmap;
      dirty = true;
    }
    if (dirty) {
      this.dirtyStyleId++;
    }
    return this;
  }
  setSize(desiredWidth, desiredHeight, resolution) {
    resolution = resolution || this.resolution;
    return this.setRealSize(desiredWidth * resolution, desiredHeight * resolution, resolution);
  }
  setRealSize(realWidth, realHeight, resolution) {
    this.resolution = resolution || this.resolution;
    this.width = Math.round(realWidth) / this.resolution;
    this.height = Math.round(realHeight) / this.resolution;
    this._refreshPOT();
    this.update();
    return this;
  }
  _refreshPOT() {
    this.isPowerOfTwo = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.isPow2)(this.realWidth) && (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.isPow2)(this.realHeight);
  }
  setResolution(resolution) {
    const oldResolution = this.resolution;
    if (oldResolution === resolution) {
      return this;
    }
    this.resolution = resolution;
    if (this.valid) {
      this.width = Math.round(this.width * oldResolution) / resolution;
      this.height = Math.round(this.height * oldResolution) / resolution;
      this.emit("update", this);
    }
    this._refreshPOT();
    return this;
  }
  setResource(resource) {
    if (this.resource === resource) {
      return this;
    }
    if (this.resource) {
      throw new Error("Resource can be set only once");
    }
    resource.bind(this);
    this.resource = resource;
    return this;
  }
  update() {
    if (!this.valid) {
      if (this.width > 0 && this.height > 0) {
        this.valid = true;
        this.emit("loaded", this);
        this.emit("update", this);
      }
    } else {
      this.dirtyId++;
      this.dirtyStyleId++;
      this.emit("update", this);
    }
  }
  onError(event) {
    this.emit("error", this, event);
  }
  destroy() {
    if (this.resource) {
      this.resource.unbind(this);
      if (this.resource.internal) {
        this.resource.destroy();
      }
      this.resource = null;
    }
    if (this.cacheId) {
      delete _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.BaseTextureCache[this.cacheId];
      delete _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[this.cacheId];
      this.cacheId = null;
    }
    this.dispose();
    _BaseTexture.removeFromCache(this);
    this.textureCacheIds = null;
    this.destroyed = true;
  }
  dispose() {
    this.emit("dispose", this);
  }
  castToBaseTexture() {
    return this;
  }
  static from(source, options, strict = _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.STRICT_TEXTURE_CACHE) {
    const isFrame = typeof source === "string";
    let cacheId = null;
    if (isFrame) {
      cacheId = source;
    } else {
      if (!source._pixiId) {
        const prefix = options?.pixiIdPrefix || "pixiid";
        source._pixiId = `${prefix}_${(0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.uid)()}`;
      }
      cacheId = source._pixiId;
    }
    let baseTexture = _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.BaseTextureCache[cacheId];
    if (isFrame && strict && !baseTexture) {
      throw new Error(`The cacheId "${cacheId}" does not exist in BaseTextureCache.`);
    }
    if (!baseTexture) {
      baseTexture = new _BaseTexture(source, options);
      baseTexture.cacheId = cacheId;
      _BaseTexture.addToCache(baseTexture, cacheId);
    }
    return baseTexture;
  }
  static fromBuffer(buffer, width, height, options) {
    buffer = buffer || new Float32Array(width * height * 4);
    const resource = new _resources_BufferResource_mjs__WEBPACK_IMPORTED_MODULE_4__.BufferResource(buffer, { width, height });
    const type = buffer instanceof Float32Array ? _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT : _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE;
    return new _BaseTexture(resource, Object.assign({}, defaultBufferOptions, { type }, options));
  }
  static addToCache(baseTexture, id) {
    if (id) {
      if (!baseTexture.textureCacheIds.includes(id)) {
        baseTexture.textureCacheIds.push(id);
      }
      if (_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.BaseTextureCache[id] && _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.BaseTextureCache[id] !== baseTexture) {
        console.warn(`BaseTexture added to the cache with an id [${id}] that already had an entry`);
      }
      _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.BaseTextureCache[id] = baseTexture;
    }
  }
  static removeFromCache(baseTexture) {
    if (typeof baseTexture === "string") {
      const baseTextureFromCache = _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.BaseTextureCache[baseTexture];
      if (baseTextureFromCache) {
        const index = baseTextureFromCache.textureCacheIds.indexOf(baseTexture);
        if (index > -1) {
          baseTextureFromCache.textureCacheIds.splice(index, 1);
        }
        delete _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.BaseTextureCache[baseTexture];
        return baseTextureFromCache;
      }
    } else if (baseTexture?.textureCacheIds) {
      for (let i = 0; i < baseTexture.textureCacheIds.length; ++i) {
        delete _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.BaseTextureCache[baseTexture.textureCacheIds[i]];
      }
      baseTexture.textureCacheIds.length = 0;
      return baseTexture;
    }
    return null;
  }
};
let BaseTexture = _BaseTexture;
BaseTexture.defaultOptions = {
  mipmap: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MIPMAP_MODES.POW2,
  anisotropicLevel: 0,
  scaleMode: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.SCALE_MODES.LINEAR,
  wrapMode: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.WRAP_MODES.CLAMP,
  alphaMode: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ALPHA_MODES.UNPACK,
  target: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TARGETS.TEXTURE_2D,
  format: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA,
  type: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE
};
BaseTexture._globalBatch = 0;


//# sourceMappingURL=BaseTexture.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/GLTexture.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/GLTexture.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GLTexture: () => (/* binding */ GLTexture)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


class GLTexture {
  constructor(texture) {
    this.texture = texture;
    this.width = -1;
    this.height = -1;
    this.dirtyId = -1;
    this.dirtyStyleId = -1;
    this.mipmap = false;
    this.wrapMode = 33071;
    this.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE;
    this.internalFormat = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA;
    this.samplerType = 0;
  }
}


//# sourceMappingURL=GLTexture.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/Texture.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/Texture.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Texture: () => (/* binding */ Texture)
/* harmony export */ });
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BaseTexture.mjs */ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs");
/* harmony import */ var _resources_ImageResource_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resources/ImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/ImageResource.mjs");
/* harmony import */ var _TextureUvs_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TextureUvs.mjs */ "./node_modules/@pixi/core/lib/textures/TextureUvs.mjs");







const DEFAULT_UVS = new _TextureUvs_mjs__WEBPACK_IMPORTED_MODULE_5__.TextureUvs();
function removeAllHandlers(tex) {
  tex.destroy = function _emptyDestroy() {
  };
  tex.on = function _emptyOn() {
  };
  tex.once = function _emptyOnce() {
  };
  tex.emit = function _emptyEmit() {
  };
}
class Texture extends _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.EventEmitter {
  constructor(baseTexture, frame, orig, trim, rotate, anchor, borders) {
    super();
    this.noFrame = false;
    if (!frame) {
      this.noFrame = true;
      frame = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Rectangle(0, 0, 1, 1);
    }
    if (baseTexture instanceof Texture) {
      baseTexture = baseTexture.baseTexture;
    }
    this.baseTexture = baseTexture;
    this._frame = frame;
    this.trim = trim;
    this.valid = false;
    this._uvs = DEFAULT_UVS;
    this.uvMatrix = null;
    this.orig = orig || frame;
    this._rotate = Number(rotate || 0);
    if (rotate === true) {
      this._rotate = 2;
    } else if (this._rotate % 2 !== 0) {
      throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");
    }
    this.defaultAnchor = anchor ? new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Point(anchor.x, anchor.y) : new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Point(0, 0);
    this.defaultBorders = borders;
    this._updateID = 0;
    this.textureCacheIds = [];
    if (!baseTexture.valid) {
      baseTexture.once("loaded", this.onBaseTextureUpdated, this);
    } else if (this.noFrame) {
      if (baseTexture.valid) {
        this.onBaseTextureUpdated(baseTexture);
      }
    } else {
      this.frame = frame;
    }
    if (this.noFrame) {
      baseTexture.on("update", this.onBaseTextureUpdated, this);
    }
  }
  update() {
    if (this.baseTexture.resource) {
      this.baseTexture.resource.update();
    }
  }
  onBaseTextureUpdated(baseTexture) {
    if (this.noFrame) {
      if (!this.baseTexture.valid) {
        return;
      }
      this._frame.width = baseTexture.width;
      this._frame.height = baseTexture.height;
      this.valid = true;
      this.updateUvs();
    } else {
      this.frame = this._frame;
    }
    this.emit("update", this);
  }
  destroy(destroyBase) {
    if (this.baseTexture) {
      if (destroyBase) {
        const { resource } = this.baseTexture;
        if (resource?.url && _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[resource.url]) {
          Texture.removeFromCache(resource.url);
        }
        this.baseTexture.destroy();
      }
      this.baseTexture.off("loaded", this.onBaseTextureUpdated, this);
      this.baseTexture.off("update", this.onBaseTextureUpdated, this);
      this.baseTexture = null;
    }
    this._frame = null;
    this._uvs = null;
    this.trim = null;
    this.orig = null;
    this.valid = false;
    Texture.removeFromCache(this);
    this.textureCacheIds = null;
  }
  clone() {
    const clonedFrame = this._frame.clone();
    const clonedOrig = this._frame === this.orig ? clonedFrame : this.orig.clone();
    const clonedTexture = new Texture(this.baseTexture, !this.noFrame && clonedFrame, clonedOrig, this.trim?.clone(), this.rotate, this.defaultAnchor, this.defaultBorders);
    if (this.noFrame) {
      clonedTexture._frame = clonedFrame;
    }
    return clonedTexture;
  }
  updateUvs() {
    if (this._uvs === DEFAULT_UVS) {
      this._uvs = new _TextureUvs_mjs__WEBPACK_IMPORTED_MODULE_5__.TextureUvs();
    }
    this._uvs.set(this._frame, this.baseTexture, this.rotate);
    this._updateID++;
  }
  static from(source, options = {}, strict = _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.STRICT_TEXTURE_CACHE) {
    const isFrame = typeof source === "string";
    let cacheId = null;
    if (isFrame) {
      cacheId = source;
    } else if (source instanceof _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.BaseTexture) {
      if (!source.cacheId) {
        const prefix = options?.pixiIdPrefix || "pixiid";
        source.cacheId = `${prefix}-${(0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.uid)()}`;
        _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.BaseTexture.addToCache(source, source.cacheId);
      }
      cacheId = source.cacheId;
    } else {
      if (!source._pixiId) {
        const prefix = options?.pixiIdPrefix || "pixiid";
        source._pixiId = `${prefix}_${(0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.uid)()}`;
      }
      cacheId = source._pixiId;
    }
    let texture = _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[cacheId];
    if (isFrame && strict && !texture) {
      throw new Error(`The cacheId "${cacheId}" does not exist in TextureCache.`);
    }
    if (!texture && !(source instanceof _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.BaseTexture)) {
      if (!options.resolution) {
        options.resolution = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.getResolutionOfUrl)(source);
      }
      texture = new Texture(new _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.BaseTexture(source, options));
      texture.baseTexture.cacheId = cacheId;
      _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.BaseTexture.addToCache(texture.baseTexture, cacheId);
      Texture.addToCache(texture, cacheId);
    } else if (!texture && source instanceof _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.BaseTexture) {
      texture = new Texture(source);
      Texture.addToCache(texture, cacheId);
    }
    return texture;
  }
  static fromURL(url, options) {
    const resourceOptions = Object.assign({ autoLoad: false }, options?.resourceOptions);
    const texture = Texture.from(url, Object.assign({ resourceOptions }, options), false);
    const resource = texture.baseTexture.resource;
    if (texture.baseTexture.valid) {
      return Promise.resolve(texture);
    }
    return resource.load().then(() => Promise.resolve(texture));
  }
  static fromBuffer(buffer, width, height, options) {
    return new Texture(_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.BaseTexture.fromBuffer(buffer, width, height, options));
  }
  static fromLoader(source, imageUrl, name, options) {
    const baseTexture = new _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.BaseTexture(source, Object.assign({
      scaleMode: _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.BaseTexture.defaultOptions.scaleMode,
      resolution: (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.getResolutionOfUrl)(imageUrl)
    }, options));
    const { resource } = baseTexture;
    if (resource instanceof _resources_ImageResource_mjs__WEBPACK_IMPORTED_MODULE_4__.ImageResource) {
      resource.url = imageUrl;
    }
    const texture = new Texture(baseTexture);
    if (!name) {
      name = imageUrl;
    }
    _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.BaseTexture.addToCache(texture.baseTexture, name);
    Texture.addToCache(texture, name);
    if (name !== imageUrl) {
      _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.BaseTexture.addToCache(texture.baseTexture, imageUrl);
      Texture.addToCache(texture, imageUrl);
    }
    if (texture.baseTexture.valid) {
      return Promise.resolve(texture);
    }
    return new Promise((resolve) => {
      texture.baseTexture.once("loaded", () => resolve(texture));
    });
  }
  static addToCache(texture, id) {
    if (id) {
      if (!texture.textureCacheIds.includes(id)) {
        texture.textureCacheIds.push(id);
      }
      if (_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[id] && _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[id] !== texture) {
        console.warn(`Texture added to the cache with an id [${id}] that already had an entry`);
      }
      _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[id] = texture;
    }
  }
  static removeFromCache(texture) {
    if (typeof texture === "string") {
      const textureFromCache = _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[texture];
      if (textureFromCache) {
        const index = textureFromCache.textureCacheIds.indexOf(texture);
        if (index > -1) {
          textureFromCache.textureCacheIds.splice(index, 1);
        }
        delete _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[texture];
        return textureFromCache;
      }
    } else if (texture?.textureCacheIds) {
      for (let i = 0; i < texture.textureCacheIds.length; ++i) {
        if (_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[texture.textureCacheIds[i]] === texture) {
          delete _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[texture.textureCacheIds[i]];
        }
      }
      texture.textureCacheIds.length = 0;
      return texture;
    }
    return null;
  }
  get resolution() {
    return this.baseTexture.resolution;
  }
  get frame() {
    return this._frame;
  }
  set frame(frame) {
    this._frame = frame;
    this.noFrame = false;
    const { x, y, width, height } = frame;
    const xNotFit = x + width > this.baseTexture.width;
    const yNotFit = y + height > this.baseTexture.height;
    if (xNotFit || yNotFit) {
      const relationship = xNotFit && yNotFit ? "and" : "or";
      const errorX = `X: ${x} + ${width} = ${x + width} > ${this.baseTexture.width}`;
      const errorY = `Y: ${y} + ${height} = ${y + height} > ${this.baseTexture.height}`;
      throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${errorX} ${relationship} ${errorY}`);
    }
    this.valid = width && height && this.baseTexture.valid;
    if (!this.trim && !this.rotate) {
      this.orig = frame;
    }
    if (this.valid) {
      this.updateUvs();
    }
  }
  get rotate() {
    return this._rotate;
  }
  set rotate(rotate) {
    this._rotate = rotate;
    if (this.valid) {
      this.updateUvs();
    }
  }
  get width() {
    return this.orig.width;
  }
  get height() {
    return this.orig.height;
  }
  castToBaseTexture() {
    return this.baseTexture;
  }
  static get EMPTY() {
    if (!Texture._EMPTY) {
      Texture._EMPTY = new Texture(new _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.BaseTexture());
      removeAllHandlers(Texture._EMPTY);
      removeAllHandlers(Texture._EMPTY.baseTexture);
    }
    return Texture._EMPTY;
  }
  static get WHITE() {
    if (!Texture._WHITE) {
      const canvas = _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.createCanvas(16, 16);
      const context = canvas.getContext("2d");
      canvas.width = 16;
      canvas.height = 16;
      context.fillStyle = "white";
      context.fillRect(0, 0, 16, 16);
      Texture._WHITE = new Texture(_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.BaseTexture.from(canvas));
      removeAllHandlers(Texture._WHITE);
      removeAllHandlers(Texture._WHITE.baseTexture);
    }
    return Texture._WHITE;
  }
}


//# sourceMappingURL=Texture.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/TextureGCSystem.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/TextureGCSystem.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextureGCSystem: () => (/* binding */ TextureGCSystem)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");



const _TextureGCSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
    this.count = 0;
    this.checkCount = 0;
    this.maxIdle = _TextureGCSystem.defaultMaxIdle;
    this.checkCountMax = _TextureGCSystem.defaultCheckCountMax;
    this.mode = _TextureGCSystem.defaultMode;
  }
  postrender() {
    if (!this.renderer.objectRenderer.renderingToScreen) {
      return;
    }
    this.count++;
    if (this.mode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.GC_MODES.MANUAL) {
      return;
    }
    this.checkCount++;
    if (this.checkCount > this.checkCountMax) {
      this.checkCount = 0;
      this.run();
    }
  }
  run() {
    const tm = this.renderer.texture;
    const managedTextures = tm.managedTextures;
    let wasRemoved = false;
    for (let i = 0; i < managedTextures.length; i++) {
      const texture = managedTextures[i];
      if (!texture.framebuffer && this.count - texture.touched > this.maxIdle) {
        tm.destroyTexture(texture, true);
        managedTextures[i] = null;
        wasRemoved = true;
      }
    }
    if (wasRemoved) {
      let j = 0;
      for (let i = 0; i < managedTextures.length; i++) {
        if (managedTextures[i] !== null) {
          managedTextures[j++] = managedTextures[i];
        }
      }
      managedTextures.length = j;
    }
  }
  unload(displayObject) {
    const tm = this.renderer.texture;
    const texture = displayObject._texture;
    if (texture && !texture.framebuffer) {
      tm.destroyTexture(texture);
    }
    for (let i = displayObject.children.length - 1; i >= 0; i--) {
      this.unload(displayObject.children[i]);
    }
  }
  destroy() {
    this.renderer = null;
  }
};
let TextureGCSystem = _TextureGCSystem;
TextureGCSystem.defaultMode = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.GC_MODES.AUTO;
TextureGCSystem.defaultMaxIdle = 60 * 60;
TextureGCSystem.defaultCheckCountMax = 60 * 10;
TextureGCSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "textureGC"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(TextureGCSystem);


//# sourceMappingURL=TextureGCSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/TextureMatrix.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/TextureMatrix.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextureMatrix: () => (/* binding */ TextureMatrix)
/* harmony export */ });
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");


const tempMat = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Matrix();
class TextureMatrix {
  constructor(texture, clampMargin) {
    this._texture = texture;
    this.mapCoord = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Matrix();
    this.uClampFrame = new Float32Array(4);
    this.uClampOffset = new Float32Array(2);
    this._textureID = -1;
    this._updateID = 0;
    this.clampOffset = 0;
    this.clampMargin = typeof clampMargin === "undefined" ? 0.5 : clampMargin;
    this.isSimple = false;
  }
  get texture() {
    return this._texture;
  }
  set texture(value) {
    this._texture = value;
    this._textureID = -1;
  }
  multiplyUvs(uvs, out) {
    if (out === void 0) {
      out = uvs;
    }
    const mat = this.mapCoord;
    for (let i = 0; i < uvs.length; i += 2) {
      const x = uvs[i];
      const y = uvs[i + 1];
      out[i] = x * mat.a + y * mat.c + mat.tx;
      out[i + 1] = x * mat.b + y * mat.d + mat.ty;
    }
    return out;
  }
  update(forceUpdate) {
    const tex = this._texture;
    if (!tex || !tex.valid) {
      return false;
    }
    if (!forceUpdate && this._textureID === tex._updateID) {
      return false;
    }
    this._textureID = tex._updateID;
    this._updateID++;
    const uvs = tex._uvs;
    this.mapCoord.set(uvs.x1 - uvs.x0, uvs.y1 - uvs.y0, uvs.x3 - uvs.x0, uvs.y3 - uvs.y0, uvs.x0, uvs.y0);
    const orig = tex.orig;
    const trim = tex.trim;
    if (trim) {
      tempMat.set(orig.width / trim.width, 0, 0, orig.height / trim.height, -trim.x / trim.width, -trim.y / trim.height);
      this.mapCoord.append(tempMat);
    }
    const texBase = tex.baseTexture;
    const frame = this.uClampFrame;
    const margin = this.clampMargin / texBase.resolution;
    const offset = this.clampOffset;
    frame[0] = (tex._frame.x + margin + offset) / texBase.width;
    frame[1] = (tex._frame.y + margin + offset) / texBase.height;
    frame[2] = (tex._frame.x + tex._frame.width - margin + offset) / texBase.width;
    frame[3] = (tex._frame.y + tex._frame.height - margin + offset) / texBase.height;
    this.uClampOffset[0] = offset / texBase.realWidth;
    this.uClampOffset[1] = offset / texBase.realHeight;
    this.isSimple = tex._frame.width === texBase.width && tex._frame.height === texBase.height && tex.rotate === 0;
    return true;
  }
}


//# sourceMappingURL=TextureMatrix.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/TextureSystem.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/TextureSystem.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextureSystem: () => (/* binding */ TextureSystem)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BaseTexture.mjs */ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs");
/* harmony import */ var _GLTexture_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GLTexture.mjs */ "./node_modules/@pixi/core/lib/textures/GLTexture.mjs");
/* harmony import */ var _utils_mapTypeAndFormatToInternalFormat_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/mapTypeAndFormatToInternalFormat.mjs */ "./node_modules/@pixi/core/lib/textures/utils/mapTypeAndFormatToInternalFormat.mjs");







class TextureSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.boundTextures = [];
    this.currentLocation = -1;
    this.managedTextures = [];
    this._unknownBoundTextures = false;
    this.unknownTexture = new _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.BaseTexture();
    this.hasIntegerTextures = false;
  }
  contextChange() {
    const gl = this.gl = this.renderer.gl;
    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
    this.webGLVersion = this.renderer.context.webGLVersion;
    this.internalFormats = (0,_utils_mapTypeAndFormatToInternalFormat_mjs__WEBPACK_IMPORTED_MODULE_5__.mapTypeAndFormatToInternalFormat)(gl);
    const maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);
    this.boundTextures.length = maxTextures;
    for (let i = 0; i < maxTextures; i++) {
      this.boundTextures[i] = null;
    }
    this.emptyTextures = {};
    const emptyTexture2D = new _GLTexture_mjs__WEBPACK_IMPORTED_MODULE_4__.GLTexture(gl.createTexture());
    gl.bindTexture(gl.TEXTURE_2D, emptyTexture2D.texture);
    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array(4));
    this.emptyTextures[gl.TEXTURE_2D] = emptyTexture2D;
    this.emptyTextures[gl.TEXTURE_CUBE_MAP] = new _GLTexture_mjs__WEBPACK_IMPORTED_MODULE_4__.GLTexture(gl.createTexture());
    gl.bindTexture(gl.TEXTURE_CUBE_MAP, this.emptyTextures[gl.TEXTURE_CUBE_MAP].texture);
    for (let i = 0; i < 6; i++) {
      gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);
    }
    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
    for (let i = 0; i < this.boundTextures.length; i++) {
      this.bind(null, i);
    }
  }
  bind(texture, location = 0) {
    const { gl } = this;
    texture = texture?.castToBaseTexture();
    if (texture?.valid && !texture.parentTextureArray) {
      texture.touched = this.renderer.textureGC.count;
      const glTexture = texture._glTextures[this.CONTEXT_UID] || this.initTexture(texture);
      if (this.boundTextures[location] !== texture) {
        if (this.currentLocation !== location) {
          this.currentLocation = location;
          gl.activeTexture(gl.TEXTURE0 + location);
        }
        gl.bindTexture(texture.target, glTexture.texture);
      }
      if (glTexture.dirtyId !== texture.dirtyId) {
        if (this.currentLocation !== location) {
          this.currentLocation = location;
          gl.activeTexture(gl.TEXTURE0 + location);
        }
        this.updateTexture(texture);
      } else if (glTexture.dirtyStyleId !== texture.dirtyStyleId) {
        this.updateTextureStyle(texture);
      }
      this.boundTextures[location] = texture;
    } else {
      if (this.currentLocation !== location) {
        this.currentLocation = location;
        gl.activeTexture(gl.TEXTURE0 + location);
      }
      gl.bindTexture(gl.TEXTURE_2D, this.emptyTextures[gl.TEXTURE_2D].texture);
      this.boundTextures[location] = null;
    }
  }
  reset() {
    this._unknownBoundTextures = true;
    this.hasIntegerTextures = false;
    this.currentLocation = -1;
    for (let i = 0; i < this.boundTextures.length; i++) {
      this.boundTextures[i] = this.unknownTexture;
    }
  }
  unbind(texture) {
    const { gl, boundTextures } = this;
    if (this._unknownBoundTextures) {
      this._unknownBoundTextures = false;
      for (let i = 0; i < boundTextures.length; i++) {
        if (boundTextures[i] === this.unknownTexture) {
          this.bind(null, i);
        }
      }
    }
    for (let i = 0; i < boundTextures.length; i++) {
      if (boundTextures[i] === texture) {
        if (this.currentLocation !== i) {
          gl.activeTexture(gl.TEXTURE0 + i);
          this.currentLocation = i;
        }
        gl.bindTexture(texture.target, this.emptyTextures[texture.target].texture);
        boundTextures[i] = null;
      }
    }
  }
  ensureSamplerType(maxTextures) {
    const { boundTextures, hasIntegerTextures, CONTEXT_UID } = this;
    if (!hasIntegerTextures) {
      return;
    }
    for (let i = maxTextures - 1; i >= 0; --i) {
      const tex = boundTextures[i];
      if (tex) {
        const glTexture = tex._glTextures[CONTEXT_UID];
        if (glTexture.samplerType !== _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.SAMPLER_TYPES.FLOAT) {
          this.renderer.texture.unbind(tex);
        }
      }
    }
  }
  initTexture(texture) {
    const glTexture = new _GLTexture_mjs__WEBPACK_IMPORTED_MODULE_4__.GLTexture(this.gl.createTexture());
    glTexture.dirtyId = -1;
    texture._glTextures[this.CONTEXT_UID] = glTexture;
    this.managedTextures.push(texture);
    texture.on("dispose", this.destroyTexture, this);
    return glTexture;
  }
  initTextureType(texture, glTexture) {
    glTexture.internalFormat = this.internalFormats[texture.type]?.[texture.format] ?? texture.format;
    if (this.webGLVersion === 2 && texture.type === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.HALF_FLOAT) {
      glTexture.type = this.gl.HALF_FLOAT;
    } else {
      glTexture.type = texture.type;
    }
  }
  updateTexture(texture) {
    const glTexture = texture._glTextures[this.CONTEXT_UID];
    if (!glTexture) {
      return;
    }
    const renderer = this.renderer;
    this.initTextureType(texture, glTexture);
    if (texture.resource?.upload(renderer, texture, glTexture)) {
      if (glTexture.samplerType !== _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.SAMPLER_TYPES.FLOAT) {
        this.hasIntegerTextures = true;
      }
    } else {
      const width = texture.realWidth;
      const height = texture.realHeight;
      const gl = renderer.gl;
      if (glTexture.width !== width || glTexture.height !== height || glTexture.dirtyId < 0) {
        glTexture.width = width;
        glTexture.height = height;
        gl.texImage2D(texture.target, 0, glTexture.internalFormat, width, height, 0, texture.format, glTexture.type, null);
      }
    }
    if (texture.dirtyStyleId !== glTexture.dirtyStyleId) {
      this.updateTextureStyle(texture);
    }
    glTexture.dirtyId = texture.dirtyId;
  }
  destroyTexture(texture, skipRemove) {
    const { gl } = this;
    texture = texture.castToBaseTexture();
    if (texture._glTextures[this.CONTEXT_UID]) {
      this.unbind(texture);
      gl.deleteTexture(texture._glTextures[this.CONTEXT_UID].texture);
      texture.off("dispose", this.destroyTexture, this);
      delete texture._glTextures[this.CONTEXT_UID];
      if (!skipRemove) {
        const i = this.managedTextures.indexOf(texture);
        if (i !== -1) {
          (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.removeItems)(this.managedTextures, i, 1);
        }
      }
    }
  }
  updateTextureStyle(texture) {
    const glTexture = texture._glTextures[this.CONTEXT_UID];
    if (!glTexture) {
      return;
    }
    if ((texture.mipmap === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MIPMAP_MODES.POW2 || this.webGLVersion !== 2) && !texture.isPowerOfTwo) {
      glTexture.mipmap = false;
    } else {
      glTexture.mipmap = texture.mipmap >= 1;
    }
    if (this.webGLVersion !== 2 && !texture.isPowerOfTwo) {
      glTexture.wrapMode = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.WRAP_MODES.CLAMP;
    } else {
      glTexture.wrapMode = texture.wrapMode;
    }
    if (texture.resource?.style(this.renderer, texture, glTexture)) {
    } else {
      this.setStyle(texture, glTexture);
    }
    glTexture.dirtyStyleId = texture.dirtyStyleId;
  }
  setStyle(texture, glTexture) {
    const gl = this.gl;
    if (glTexture.mipmap && texture.mipmap !== _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MIPMAP_MODES.ON_MANUAL) {
      gl.generateMipmap(texture.target);
    }
    gl.texParameteri(texture.target, gl.TEXTURE_WRAP_S, glTexture.wrapMode);
    gl.texParameteri(texture.target, gl.TEXTURE_WRAP_T, glTexture.wrapMode);
    if (glTexture.mipmap) {
      gl.texParameteri(texture.target, gl.TEXTURE_MIN_FILTER, texture.scaleMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.SCALE_MODES.LINEAR ? gl.LINEAR_MIPMAP_LINEAR : gl.NEAREST_MIPMAP_NEAREST);
      const anisotropicExt = this.renderer.context.extensions.anisotropicFiltering;
      if (anisotropicExt && texture.anisotropicLevel > 0 && texture.scaleMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.SCALE_MODES.LINEAR) {
        const level = Math.min(texture.anisotropicLevel, gl.getParameter(anisotropicExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT));
        gl.texParameterf(texture.target, anisotropicExt.TEXTURE_MAX_ANISOTROPY_EXT, level);
      }
    } else {
      gl.texParameteri(texture.target, gl.TEXTURE_MIN_FILTER, texture.scaleMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST);
    }
    gl.texParameteri(texture.target, gl.TEXTURE_MAG_FILTER, texture.scaleMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST);
  }
  destroy() {
    this.renderer = null;
  }
}
TextureSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "texture"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(TextureSystem);


//# sourceMappingURL=TextureSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/TextureUvs.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/TextureUvs.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextureUvs: () => (/* binding */ TextureUvs)
/* harmony export */ });
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");


class TextureUvs {
  constructor() {
    this.x0 = 0;
    this.y0 = 0;
    this.x1 = 1;
    this.y1 = 0;
    this.x2 = 1;
    this.y2 = 1;
    this.x3 = 0;
    this.y3 = 1;
    this.uvsFloat32 = new Float32Array(8);
  }
  set(frame, baseFrame, rotate) {
    const tw = baseFrame.width;
    const th = baseFrame.height;
    if (rotate) {
      const w2 = frame.width / 2 / tw;
      const h2 = frame.height / 2 / th;
      const cX = frame.x / tw + w2;
      const cY = frame.y / th + h2;
      rotate = _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.add(rotate, _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.NW);
      this.x0 = cX + w2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uX(rotate);
      this.y0 = cY + h2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uY(rotate);
      rotate = _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.add(rotate, 2);
      this.x1 = cX + w2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uX(rotate);
      this.y1 = cY + h2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uY(rotate);
      rotate = _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.add(rotate, 2);
      this.x2 = cX + w2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uX(rotate);
      this.y2 = cY + h2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uY(rotate);
      rotate = _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.add(rotate, 2);
      this.x3 = cX + w2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uX(rotate);
      this.y3 = cY + h2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uY(rotate);
    } else {
      this.x0 = frame.x / tw;
      this.y0 = frame.y / th;
      this.x1 = (frame.x + frame.width) / tw;
      this.y1 = frame.y / th;
      this.x2 = (frame.x + frame.width) / tw;
      this.y2 = (frame.y + frame.height) / th;
      this.x3 = frame.x / tw;
      this.y3 = (frame.y + frame.height) / th;
    }
    this.uvsFloat32[0] = this.x0;
    this.uvsFloat32[1] = this.y0;
    this.uvsFloat32[2] = this.x1;
    this.uvsFloat32[3] = this.y1;
    this.uvsFloat32[4] = this.x2;
    this.uvsFloat32[5] = this.y2;
    this.uvsFloat32[6] = this.x3;
    this.uvsFloat32[7] = this.y3;
  }
  toString() {
    return `[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`;
  }
}


//# sourceMappingURL=TextureUvs.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/AbstractMultiResource.mjs":
/*!**********************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/AbstractMultiResource.mjs ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AbstractMultiResource: () => (/* binding */ AbstractMultiResource)
/* harmony export */ });
/* harmony import */ var _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BaseTexture.mjs */ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs");
/* harmony import */ var _autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./autoDetectResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/autoDetectResource.mjs");
/* harmony import */ var _Resource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Resource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/Resource.mjs");




class AbstractMultiResource extends _Resource_mjs__WEBPACK_IMPORTED_MODULE_2__.Resource {
  constructor(length, options) {
    const { width, height } = options || {};
    super(width, height);
    this.items = [];
    this.itemDirtyIds = [];
    for (let i = 0; i < length; i++) {
      const partTexture = new _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_0__.BaseTexture();
      this.items.push(partTexture);
      this.itemDirtyIds.push(-2);
    }
    this.length = length;
    this._load = null;
    this.baseTexture = null;
  }
  initFromArray(resources, options) {
    for (let i = 0; i < this.length; i++) {
      if (!resources[i]) {
        continue;
      }
      if (resources[i].castToBaseTexture) {
        this.addBaseTextureAt(resources[i].castToBaseTexture(), i);
      } else if (resources[i] instanceof _Resource_mjs__WEBPACK_IMPORTED_MODULE_2__.Resource) {
        this.addResourceAt(resources[i], i);
      } else {
        this.addResourceAt((0,_autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_1__.autoDetectResource)(resources[i], options), i);
      }
    }
  }
  dispose() {
    for (let i = 0, len = this.length; i < len; i++) {
      this.items[i].destroy();
    }
    this.items = null;
    this.itemDirtyIds = null;
    this._load = null;
  }
  addResourceAt(resource, index) {
    if (!this.items[index]) {
      throw new Error(`Index ${index} is out of bounds`);
    }
    if (resource.valid && !this.valid) {
      this.resize(resource.width, resource.height);
    }
    this.items[index].setResource(resource);
    return this;
  }
  bind(baseTexture) {
    if (this.baseTexture !== null) {
      throw new Error("Only one base texture per TextureArray is allowed");
    }
    super.bind(baseTexture);
    for (let i = 0; i < this.length; i++) {
      this.items[i].parentTextureArray = baseTexture;
      this.items[i].on("update", baseTexture.update, baseTexture);
    }
  }
  unbind(baseTexture) {
    super.unbind(baseTexture);
    for (let i = 0; i < this.length; i++) {
      this.items[i].parentTextureArray = null;
      this.items[i].off("update", baseTexture.update, baseTexture);
    }
  }
  load() {
    if (this._load) {
      return this._load;
    }
    const resources = this.items.map((item) => item.resource).filter((item) => item);
    const promises = resources.map((item) => item.load());
    this._load = Promise.all(promises).then(() => {
      const { realWidth, realHeight } = this.items[0];
      this.resize(realWidth, realHeight);
      return Promise.resolve(this);
    });
    return this._load;
  }
}


//# sourceMappingURL=AbstractMultiResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/ArrayResource.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/ArrayResource.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArrayResource: () => (/* binding */ ArrayResource)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AbstractMultiResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/AbstractMultiResource.mjs");



class ArrayResource extends _AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_1__.AbstractMultiResource {
  constructor(source, options) {
    const { width, height } = options || {};
    let urls;
    let length;
    if (Array.isArray(source)) {
      urls = source;
      length = source.length;
    } else {
      length = source;
    }
    super(length, { width, height });
    if (urls) {
      this.initFromArray(urls, options);
    }
  }
  addBaseTextureAt(baseTexture, index) {
    if (baseTexture.resource) {
      this.addResourceAt(baseTexture.resource, index);
    } else {
      throw new Error("ArrayResource does not support RenderTexture");
    }
    return this;
  }
  bind(baseTexture) {
    super.bind(baseTexture);
    baseTexture.target = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TARGETS.TEXTURE_2D_ARRAY;
  }
  upload(renderer, texture, glTexture) {
    const { length, itemDirtyIds, items } = this;
    const { gl } = renderer;
    if (glTexture.dirtyId < 0) {
      gl.texImage3D(gl.TEXTURE_2D_ARRAY, 0, glTexture.internalFormat, this._width, this._height, length, 0, texture.format, glTexture.type, null);
    }
    for (let i = 0; i < length; i++) {
      const item = items[i];
      if (itemDirtyIds[i] < item.dirtyId) {
        itemDirtyIds[i] = item.dirtyId;
        if (item.valid) {
          gl.texSubImage3D(gl.TEXTURE_2D_ARRAY, 0, 0, 0, i, item.resource.width, item.resource.height, 1, texture.format, glTexture.type, item.resource.source);
        }
      }
    }
    return true;
  }
}


//# sourceMappingURL=ArrayResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseImageResource: () => (/* binding */ BaseImageResource)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _Resource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Resource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/Resource.mjs");




class BaseImageResource extends _Resource_mjs__WEBPACK_IMPORTED_MODULE_2__.Resource {
  constructor(source) {
    const sourceAny = source;
    const width = sourceAny.naturalWidth || sourceAny.videoWidth || sourceAny.width;
    const height = sourceAny.naturalHeight || sourceAny.videoHeight || sourceAny.height;
    super(width, height);
    this.source = source;
    this.noSubImage = false;
  }
  static crossOrigin(element, url, crossorigin) {
    if (crossorigin === void 0 && !url.startsWith("data:")) {
      element.crossOrigin = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_1__.determineCrossOrigin)(url);
    } else if (crossorigin !== false) {
      element.crossOrigin = typeof crossorigin === "string" ? crossorigin : "anonymous";
    }
  }
  upload(renderer, baseTexture, glTexture, source) {
    const gl = renderer.gl;
    const width = baseTexture.realWidth;
    const height = baseTexture.realHeight;
    source = source || this.source;
    if (typeof HTMLImageElement !== "undefined" && source instanceof HTMLImageElement) {
      if (!source.complete || source.naturalWidth === 0) {
        return false;
      }
    } else if (typeof HTMLVideoElement !== "undefined" && source instanceof HTMLVideoElement) {
      if (source.readyState <= 1 && source.buffered.length === 0) {
        return false;
      }
    }
    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, baseTexture.alphaMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ALPHA_MODES.UNPACK);
    if (!this.noSubImage && baseTexture.target === gl.TEXTURE_2D && glTexture.width === width && glTexture.height === height) {
      gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, baseTexture.format, glTexture.type, source);
    } else {
      glTexture.width = width;
      glTexture.height = height;
      gl.texImage2D(baseTexture.target, 0, glTexture.internalFormat, baseTexture.format, glTexture.type, source);
    }
    return true;
  }
  update() {
    if (this.destroyed) {
      return;
    }
    const source = this.source;
    const width = source.naturalWidth || source.videoWidth || source.width;
    const height = source.naturalHeight || source.videoHeight || source.height;
    this.resize(width, height);
    super.update();
  }
  dispose() {
    this.source = null;
  }
}


//# sourceMappingURL=BaseImageResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/BufferResource.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/BufferResource.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BufferResource: () => (/* binding */ BufferResource)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _Resource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Resource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/Resource.mjs");



class BufferResource extends _Resource_mjs__WEBPACK_IMPORTED_MODULE_1__.Resource {
  constructor(source, options) {
    const { width, height } = options || {};
    if (!width || !height) {
      throw new Error("BufferResource width or height invalid");
    }
    super(width, height);
    this.data = source;
  }
  upload(renderer, baseTexture, glTexture) {
    const gl = renderer.gl;
    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, baseTexture.alphaMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ALPHA_MODES.UNPACK);
    const width = baseTexture.realWidth;
    const height = baseTexture.realHeight;
    if (glTexture.width === width && glTexture.height === height) {
      gl.texSubImage2D(baseTexture.target, 0, 0, 0, width, height, baseTexture.format, glTexture.type, this.data);
    } else {
      glTexture.width = width;
      glTexture.height = height;
      gl.texImage2D(baseTexture.target, 0, glTexture.internalFormat, width, height, 0, baseTexture.format, glTexture.type, this.data);
    }
    return true;
  }
  dispose() {
    this.data = null;
  }
  static test(source) {
    return source instanceof Float32Array || source instanceof Uint8Array || source instanceof Uint32Array;
  }
}


//# sourceMappingURL=BufferResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/CanvasResource.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/CanvasResource.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CanvasResource: () => (/* binding */ CanvasResource)
/* harmony export */ });
/* harmony import */ var _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs");


class CanvasResource extends _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_0__.BaseImageResource {
  constructor(source) {
    super(source);
  }
  static test(source) {
    const { OffscreenCanvas } = globalThis;
    if (OffscreenCanvas && source instanceof OffscreenCanvas) {
      return true;
    }
    return globalThis.HTMLCanvasElement && source instanceof HTMLCanvasElement;
  }
}


//# sourceMappingURL=CanvasResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/CubeResource.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/CubeResource.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CubeResource: () => (/* binding */ CubeResource)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AbstractMultiResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/AbstractMultiResource.mjs");



const _CubeResource = class extends _AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_1__.AbstractMultiResource {
  constructor(source, options) {
    const { width, height, autoLoad, linkBaseTexture } = options || {};
    if (source && source.length !== _CubeResource.SIDES) {
      throw new Error(`Invalid length. Got ${source.length}, expected 6`);
    }
    super(6, { width, height });
    for (let i = 0; i < _CubeResource.SIDES; i++) {
      this.items[i].target = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + i;
    }
    this.linkBaseTexture = linkBaseTexture !== false;
    if (source) {
      this.initFromArray(source, options);
    }
    if (autoLoad !== false) {
      this.load();
    }
  }
  bind(baseTexture) {
    super.bind(baseTexture);
    baseTexture.target = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TARGETS.TEXTURE_CUBE_MAP;
  }
  addBaseTextureAt(baseTexture, index, linkBaseTexture) {
    if (linkBaseTexture === void 0) {
      linkBaseTexture = this.linkBaseTexture;
    }
    if (!this.items[index]) {
      throw new Error(`Index ${index} is out of bounds`);
    }
    if (!this.linkBaseTexture || baseTexture.parentTextureArray || Object.keys(baseTexture._glTextures).length > 0) {
      if (baseTexture.resource) {
        this.addResourceAt(baseTexture.resource, index);
      } else {
        throw new Error(`CubeResource does not support copying of renderTexture.`);
      }
    } else {
      baseTexture.target = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + index;
      baseTexture.parentTextureArray = this.baseTexture;
      this.items[index] = baseTexture;
    }
    if (baseTexture.valid && !this.valid) {
      this.resize(baseTexture.realWidth, baseTexture.realHeight);
    }
    this.items[index] = baseTexture;
    return this;
  }
  upload(renderer, _baseTexture, glTexture) {
    const dirty = this.itemDirtyIds;
    for (let i = 0; i < _CubeResource.SIDES; i++) {
      const side = this.items[i];
      if (dirty[i] < side.dirtyId || glTexture.dirtyId < _baseTexture.dirtyId) {
        if (side.valid && side.resource) {
          side.resource.upload(renderer, side, glTexture);
          dirty[i] = side.dirtyId;
        } else if (dirty[i] < -1) {
          renderer.gl.texImage2D(side.target, 0, glTexture.internalFormat, _baseTexture.realWidth, _baseTexture.realHeight, 0, _baseTexture.format, glTexture.type, null);
          dirty[i] = -1;
        }
      }
    }
    return true;
  }
  static test(source) {
    return Array.isArray(source) && source.length === _CubeResource.SIDES;
  }
};
let CubeResource = _CubeResource;
CubeResource.SIDES = 6;


//# sourceMappingURL=CubeResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/DepthResource.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/DepthResource.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DepthResource: () => (/* binding */ DepthResource)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _BufferResource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BufferResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BufferResource.mjs");



class DepthResource extends _BufferResource_mjs__WEBPACK_IMPORTED_MODULE_1__.BufferResource {
  upload(renderer, baseTexture, glTexture) {
    const gl = renderer.gl;
    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, baseTexture.alphaMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ALPHA_MODES.UNPACK);
    const width = baseTexture.realWidth;
    const height = baseTexture.realHeight;
    if (glTexture.width === width && glTexture.height === height) {
      gl.texSubImage2D(baseTexture.target, 0, 0, 0, width, height, baseTexture.format, glTexture.type, this.data);
    } else {
      glTexture.width = width;
      glTexture.height = height;
      gl.texImage2D(baseTexture.target, 0, glTexture.internalFormat, width, height, 0, baseTexture.format, glTexture.type, this.data);
    }
    return true;
  }
}


//# sourceMappingURL=DepthResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/ImageBitmapResource.mjs":
/*!********************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/ImageBitmapResource.mjs ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImageBitmapResource: () => (/* binding */ ImageBitmapResource)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BaseImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs");




class ImageBitmapResource extends _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_2__.BaseImageResource {
  constructor(source, options) {
    options = options || {};
    let baseSource;
    let url;
    if (typeof source === "string") {
      baseSource = ImageBitmapResource.EMPTY;
      url = source;
    } else {
      baseSource = source;
      url = null;
    }
    super(baseSource);
    this.url = url;
    this.crossOrigin = options.crossOrigin ?? true;
    this.alphaMode = typeof options.alphaMode === "number" ? options.alphaMode : null;
    this._load = null;
    if (options.autoLoad !== false) {
      this.load();
    }
  }
  load() {
    if (this._load) {
      return this._load;
    }
    this._load = new Promise(async (resolve, reject) => {
      if (this.url === null) {
        resolve(this);
        return;
      }
      try {
        const response = await _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.fetch(this.url, {
          mode: this.crossOrigin ? "cors" : "no-cors"
        });
        if (this.destroyed)
          return;
        const imageBlob = await response.blob();
        if (this.destroyed)
          return;
        const imageBitmap = await createImageBitmap(imageBlob, {
          premultiplyAlpha: this.alphaMode === null || this.alphaMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ALPHA_MODES.UNPACK ? "premultiply" : "none"
        });
        if (this.destroyed)
          return;
        this.source = imageBitmap;
        this.update();
        resolve(this);
      } catch (e) {
        if (this.destroyed)
          return;
        reject(e);
        this.onError.emit(e);
      }
    });
    return this._load;
  }
  upload(renderer, baseTexture, glTexture) {
    if (!(this.source instanceof ImageBitmap)) {
      this.load();
      return false;
    }
    if (typeof this.alphaMode === "number") {
      baseTexture.alphaMode = this.alphaMode;
    }
    return super.upload(renderer, baseTexture, glTexture);
  }
  dispose() {
    if (this.source instanceof ImageBitmap) {
      this.source.close();
    }
    super.dispose();
    this._load = null;
  }
  static test(source) {
    return !!globalThis.createImageBitmap && typeof ImageBitmap !== "undefined" && (typeof source === "string" || source instanceof ImageBitmap);
  }
  static get EMPTY() {
    ImageBitmapResource._EMPTY = ImageBitmapResource._EMPTY ?? _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.createCanvas(0, 0);
    return ImageBitmapResource._EMPTY;
  }
}


//# sourceMappingURL=ImageBitmapResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/ImageResource.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/ImageResource.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImageResource: () => (/* binding */ ImageResource)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BaseImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs");




class ImageResource extends _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_2__.BaseImageResource {
  constructor(source, options) {
    options = options || {};
    if (typeof source === "string") {
      const imageElement = new Image();
      _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_2__.BaseImageResource.crossOrigin(imageElement, source, options.crossorigin);
      imageElement.src = source;
      source = imageElement;
    }
    super(source);
    if (!source.complete && !!this._width && !!this._height) {
      this._width = 0;
      this._height = 0;
    }
    this.url = source.src;
    this._process = null;
    this.preserveBitmap = false;
    this.createBitmap = (options.createBitmap ?? _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.CREATE_IMAGE_BITMAP) && !!globalThis.createImageBitmap;
    this.alphaMode = typeof options.alphaMode === "number" ? options.alphaMode : null;
    this.bitmap = null;
    this._load = null;
    if (options.autoLoad !== false) {
      this.load();
    }
  }
  load(createBitmap) {
    if (this._load) {
      return this._load;
    }
    if (createBitmap !== void 0) {
      this.createBitmap = createBitmap;
    }
    this._load = new Promise((resolve, reject) => {
      const source = this.source;
      this.url = source.src;
      const completed = () => {
        if (this.destroyed) {
          return;
        }
        source.onload = null;
        source.onerror = null;
        this.resize(source.width, source.height);
        this._load = null;
        if (this.createBitmap) {
          resolve(this.process());
        } else {
          resolve(this);
        }
      };
      if (source.complete && source.src) {
        completed();
      } else {
        source.onload = completed;
        source.onerror = (event) => {
          reject(event);
          this.onError.emit(event);
        };
      }
    });
    return this._load;
  }
  process() {
    const source = this.source;
    if (this._process !== null) {
      return this._process;
    }
    if (this.bitmap !== null || !globalThis.createImageBitmap) {
      return Promise.resolve(this);
    }
    const createImageBitmap = globalThis.createImageBitmap;
    const cors = !source.crossOrigin || source.crossOrigin === "anonymous";
    this._process = fetch(source.src, {
      mode: cors ? "cors" : "no-cors"
    }).then((r) => r.blob()).then((blob) => createImageBitmap(blob, 0, 0, source.width, source.height, {
      premultiplyAlpha: this.alphaMode === null || this.alphaMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ALPHA_MODES.UNPACK ? "premultiply" : "none"
    })).then((bitmap) => {
      if (this.destroyed) {
        return Promise.reject();
      }
      this.bitmap = bitmap;
      this.update();
      this._process = null;
      return Promise.resolve(this);
    });
    return this._process;
  }
  upload(renderer, baseTexture, glTexture) {
    if (typeof this.alphaMode === "number") {
      baseTexture.alphaMode = this.alphaMode;
    }
    if (!this.createBitmap) {
      return super.upload(renderer, baseTexture, glTexture);
    }
    if (!this.bitmap) {
      this.process();
      if (!this.bitmap) {
        return false;
      }
    }
    super.upload(renderer, baseTexture, glTexture, this.bitmap);
    if (!this.preserveBitmap) {
      let flag = true;
      const glTextures = baseTexture._glTextures;
      for (const key in glTextures) {
        const otherTex = glTextures[key];
        if (otherTex !== glTexture && otherTex.dirtyId !== baseTexture.dirtyId) {
          flag = false;
          break;
        }
      }
      if (flag) {
        if (this.bitmap.close) {
          this.bitmap.close();
        }
        this.bitmap = null;
      }
    }
    return true;
  }
  dispose() {
    this.source.onload = null;
    this.source.onerror = null;
    super.dispose();
    if (this.bitmap) {
      this.bitmap.close();
      this.bitmap = null;
    }
    this._process = null;
    this._load = null;
  }
  static test(source) {
    return typeof HTMLImageElement !== "undefined" && (typeof source === "string" || source instanceof HTMLImageElement);
  }
}


//# sourceMappingURL=ImageResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/Resource.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/Resource.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Resource: () => (/* binding */ Resource)
/* harmony export */ });
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");


class Resource {
  constructor(width = 0, height = 0) {
    this._width = width;
    this._height = height;
    this.destroyed = false;
    this.internal = false;
    this.onResize = new _pixi_runner__WEBPACK_IMPORTED_MODULE_0__.Runner("setRealSize");
    this.onUpdate = new _pixi_runner__WEBPACK_IMPORTED_MODULE_0__.Runner("update");
    this.onError = new _pixi_runner__WEBPACK_IMPORTED_MODULE_0__.Runner("onError");
  }
  bind(baseTexture) {
    this.onResize.add(baseTexture);
    this.onUpdate.add(baseTexture);
    this.onError.add(baseTexture);
    if (this._width || this._height) {
      this.onResize.emit(this._width, this._height);
    }
  }
  unbind(baseTexture) {
    this.onResize.remove(baseTexture);
    this.onUpdate.remove(baseTexture);
    this.onError.remove(baseTexture);
  }
  resize(width, height) {
    if (width !== this._width || height !== this._height) {
      this._width = width;
      this._height = height;
      this.onResize.emit(width, height);
    }
  }
  get valid() {
    return !!this._width && !!this._height;
  }
  update() {
    if (!this.destroyed) {
      this.onUpdate.emit();
    }
  }
  load() {
    return Promise.resolve(this);
  }
  get width() {
    return this._width;
  }
  get height() {
    return this._height;
  }
  style(_renderer, _baseTexture, _glTexture) {
    return false;
  }
  dispose() {
  }
  destroy() {
    if (!this.destroyed) {
      this.destroyed = true;
      this.dispose();
      this.onError.removeAll();
      this.onError = null;
      this.onResize.removeAll();
      this.onResize = null;
      this.onUpdate.removeAll();
      this.onUpdate = null;
    }
  }
  static test(_source, _extension) {
    return false;
  }
}


//# sourceMappingURL=Resource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/SVGResource.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/SVGResource.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SVGResource: () => (/* binding */ SVGResource)
/* harmony export */ });
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BaseImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs");




const _SVGResource = class extends _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_2__.BaseImageResource {
  constructor(sourceBase64, options) {
    options = options || {};
    super(_pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.createCanvas());
    this._width = 0;
    this._height = 0;
    this.svg = sourceBase64;
    this.scale = options.scale || 1;
    this._overrideWidth = options.width;
    this._overrideHeight = options.height;
    this._resolve = null;
    this._crossorigin = options.crossorigin;
    this._load = null;
    if (options.autoLoad !== false) {
      this.load();
    }
  }
  load() {
    if (this._load) {
      return this._load;
    }
    this._load = new Promise((resolve) => {
      this._resolve = () => {
        this.resize(this.source.width, this.source.height);
        resolve(this);
      };
      if (_SVGResource.SVG_XML.test(this.svg.trim())) {
        if (!btoa) {
          throw new Error("Your browser doesn't support base64 conversions.");
        }
        this.svg = `data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`;
      }
      this._loadSvg();
    });
    return this._load;
  }
  _loadSvg() {
    const tempImage = new Image();
    _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_2__.BaseImageResource.crossOrigin(tempImage, this.svg, this._crossorigin);
    tempImage.src = this.svg;
    tempImage.onerror = (event) => {
      if (!this._resolve) {
        return;
      }
      tempImage.onerror = null;
      this.onError.emit(event);
    };
    tempImage.onload = () => {
      if (!this._resolve) {
        return;
      }
      const svgWidth = tempImage.width;
      const svgHeight = tempImage.height;
      if (!svgWidth || !svgHeight) {
        throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
      }
      let width = svgWidth * this.scale;
      let height = svgHeight * this.scale;
      if (this._overrideWidth || this._overrideHeight) {
        width = this._overrideWidth || this._overrideHeight / svgHeight * svgWidth;
        height = this._overrideHeight || this._overrideWidth / svgWidth * svgHeight;
      }
      width = Math.round(width);
      height = Math.round(height);
      const canvas = this.source;
      canvas.width = width;
      canvas.height = height;
      canvas._pixiId = `canvas_${(0,_pixi_utils__WEBPACK_IMPORTED_MODULE_1__.uid)()}`;
      canvas.getContext("2d").drawImage(tempImage, 0, 0, svgWidth, svgHeight, 0, 0, width, height);
      this._resolve();
      this._resolve = null;
    };
  }
  static getSize(svgString) {
    const sizeMatch = _SVGResource.SVG_SIZE.exec(svgString);
    const size = {};
    if (sizeMatch) {
      size[sizeMatch[1]] = Math.round(parseFloat(sizeMatch[3]));
      size[sizeMatch[5]] = Math.round(parseFloat(sizeMatch[7]));
    }
    return size;
  }
  dispose() {
    super.dispose();
    this._resolve = null;
    this._crossorigin = null;
  }
  static test(source, extension) {
    return extension === "svg" || typeof source === "string" && source.startsWith("data:image/svg+xml") || typeof source === "string" && _SVGResource.SVG_XML.test(source);
  }
};
let SVGResource = _SVGResource;
SVGResource.SVG_XML = /^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;
SVGResource.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;


//# sourceMappingURL=SVGResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/VideoResource.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/VideoResource.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VideoResource: () => (/* binding */ VideoResource)
/* harmony export */ });
/* harmony import */ var _pixi_ticker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/ticker */ "./node_modules/@pixi/ticker/lib/index.mjs");
/* harmony import */ var _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BaseImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs");



const _VideoResource = class extends _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_1__.BaseImageResource {
  constructor(source, options) {
    options = options || {};
    if (!(source instanceof HTMLVideoElement)) {
      const videoElement = document.createElement("video");
      videoElement.setAttribute("preload", "auto");
      videoElement.setAttribute("webkit-playsinline", "");
      videoElement.setAttribute("playsinline", "");
      if (typeof source === "string") {
        source = [source];
      }
      const firstSrc = source[0].src || source[0];
      _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_1__.BaseImageResource.crossOrigin(videoElement, firstSrc, options.crossorigin);
      for (let i = 0; i < source.length; ++i) {
        const sourceElement = document.createElement("source");
        let { src, mime } = source[i];
        src = src || source[i];
        const baseSrc = src.split("?").shift().toLowerCase();
        const ext = baseSrc.slice(baseSrc.lastIndexOf(".") + 1);
        mime = mime || _VideoResource.MIME_TYPES[ext] || `video/${ext}`;
        sourceElement.src = src;
        sourceElement.type = mime;
        videoElement.appendChild(sourceElement);
      }
      source = videoElement;
    }
    super(source);
    this.noSubImage = true;
    this._autoUpdate = true;
    this._isConnectedToTicker = false;
    this._updateFPS = options.updateFPS || 0;
    this._msToNextUpdate = 0;
    this.autoPlay = options.autoPlay !== false;
    this._load = null;
    this._resolve = null;
    this._onCanPlay = this._onCanPlay.bind(this);
    this._onError = this._onError.bind(this);
    if (options.autoLoad !== false) {
      this.load();
    }
  }
  update(_deltaTime = 0) {
    if (!this.destroyed) {
      const elapsedMS = _pixi_ticker__WEBPACK_IMPORTED_MODULE_0__.Ticker.shared.elapsedMS * this.source.playbackRate;
      this._msToNextUpdate = Math.floor(this._msToNextUpdate - elapsedMS);
      if (!this._updateFPS || this._msToNextUpdate <= 0) {
        super.update();
        this._msToNextUpdate = this._updateFPS ? Math.floor(1e3 / this._updateFPS) : 0;
      }
    }
  }
  load() {
    if (this._load) {
      return this._load;
    }
    const source = this.source;
    if ((source.readyState === source.HAVE_ENOUGH_DATA || source.readyState === source.HAVE_FUTURE_DATA) && source.width && source.height) {
      source.complete = true;
    }
    source.addEventListener("play", this._onPlayStart.bind(this));
    source.addEventListener("pause", this._onPlayStop.bind(this));
    if (!this._isSourceReady()) {
      source.addEventListener("canplay", this._onCanPlay);
      source.addEventListener("canplaythrough", this._onCanPlay);
      source.addEventListener("error", this._onError, true);
    } else {
      this._onCanPlay();
    }
    this._load = new Promise((resolve) => {
      if (this.valid) {
        resolve(this);
      } else {
        this._resolve = resolve;
        source.load();
      }
    });
    return this._load;
  }
  _onError(event) {
    this.source.removeEventListener("error", this._onError, true);
    this.onError.emit(event);
  }
  _isSourcePlaying() {
    const source = this.source;
    return !source.paused && !source.ended && this._isSourceReady();
  }
  _isSourceReady() {
    const source = this.source;
    return source.readyState > 2;
  }
  _onPlayStart() {
    if (!this.valid) {
      this._onCanPlay();
    }
    if (this.autoUpdate && !this._isConnectedToTicker) {
      _pixi_ticker__WEBPACK_IMPORTED_MODULE_0__.Ticker.shared.add(this.update, this);
      this._isConnectedToTicker = true;
    }
  }
  _onPlayStop() {
    if (this._isConnectedToTicker) {
      _pixi_ticker__WEBPACK_IMPORTED_MODULE_0__.Ticker.shared.remove(this.update, this);
      this._isConnectedToTicker = false;
    }
  }
  _onCanPlay() {
    const source = this.source;
    source.removeEventListener("canplay", this._onCanPlay);
    source.removeEventListener("canplaythrough", this._onCanPlay);
    const valid = this.valid;
    this.resize(source.videoWidth, source.videoHeight);
    if (!valid && this._resolve) {
      this._resolve(this);
      this._resolve = null;
    }
    if (this._isSourcePlaying()) {
      this._onPlayStart();
    } else if (this.autoPlay) {
      source.play();
    }
  }
  dispose() {
    if (this._isConnectedToTicker) {
      _pixi_ticker__WEBPACK_IMPORTED_MODULE_0__.Ticker.shared.remove(this.update, this);
      this._isConnectedToTicker = false;
    }
    const source = this.source;
    if (source) {
      source.removeEventListener("error", this._onError, true);
      source.pause();
      source.src = "";
      source.load();
    }
    super.dispose();
  }
  get autoUpdate() {
    return this._autoUpdate;
  }
  set autoUpdate(value) {
    if (value !== this._autoUpdate) {
      this._autoUpdate = value;
      if (!this._autoUpdate && this._isConnectedToTicker) {
        _pixi_ticker__WEBPACK_IMPORTED_MODULE_0__.Ticker.shared.remove(this.update, this);
        this._isConnectedToTicker = false;
      } else if (this._autoUpdate && !this._isConnectedToTicker && this._isSourcePlaying()) {
        _pixi_ticker__WEBPACK_IMPORTED_MODULE_0__.Ticker.shared.add(this.update, this);
        this._isConnectedToTicker = true;
      }
    }
  }
  get updateFPS() {
    return this._updateFPS;
  }
  set updateFPS(value) {
    if (value !== this._updateFPS) {
      this._updateFPS = value;
    }
  }
  static test(source, extension) {
    return globalThis.HTMLVideoElement && source instanceof HTMLVideoElement || _VideoResource.TYPES.includes(extension);
  }
};
let VideoResource = _VideoResource;
VideoResource.TYPES = ["mp4", "m4v", "webm", "ogg", "ogv", "h264", "avi", "mov"];
VideoResource.MIME_TYPES = {
  ogv: "video/ogg",
  mov: "video/quicktime",
  m4v: "video/mp4"
};


//# sourceMappingURL=VideoResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/autoDetectResource.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/autoDetectResource.mjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   INSTALLED: () => (/* binding */ INSTALLED),
/* harmony export */   autoDetectResource: () => (/* binding */ autoDetectResource)
/* harmony export */ });
const INSTALLED = [];
function autoDetectResource(source, options) {
  if (!source) {
    return null;
  }
  let extension = "";
  if (typeof source === "string") {
    const result = /\.(\w{3,4})(?:$|\?|#)/i.exec(source);
    if (result) {
      extension = result[1].toLowerCase();
    }
  }
  for (let i = INSTALLED.length - 1; i >= 0; --i) {
    const ResourcePlugin = INSTALLED[i];
    if (ResourcePlugin.test && ResourcePlugin.test(source, extension)) {
      return new ResourcePlugin(source, options);
    }
  }
  throw new Error("Unrecognized source type to auto-detect Resource");
}


//# sourceMappingURL=autoDetectResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/index.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/index.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AbstractMultiResource: () => (/* reexport safe */ _AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_11__.AbstractMultiResource),
/* harmony export */   ArrayResource: () => (/* reexport safe */ _ArrayResource_mjs__WEBPACK_IMPORTED_MODULE_0__.ArrayResource),
/* harmony export */   BaseImageResource: () => (/* reexport safe */ _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_9__.BaseImageResource),
/* harmony export */   BufferResource: () => (/* reexport safe */ _BufferResource_mjs__WEBPACK_IMPORTED_MODULE_2__.BufferResource),
/* harmony export */   CanvasResource: () => (/* reexport safe */ _CanvasResource_mjs__WEBPACK_IMPORTED_MODULE_3__.CanvasResource),
/* harmony export */   CubeResource: () => (/* reexport safe */ _CubeResource_mjs__WEBPACK_IMPORTED_MODULE_4__.CubeResource),
/* harmony export */   INSTALLED: () => (/* reexport safe */ _autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_1__.INSTALLED),
/* harmony export */   ImageBitmapResource: () => (/* reexport safe */ _ImageBitmapResource_mjs__WEBPACK_IMPORTED_MODULE_5__.ImageBitmapResource),
/* harmony export */   ImageResource: () => (/* reexport safe */ _ImageResource_mjs__WEBPACK_IMPORTED_MODULE_6__.ImageResource),
/* harmony export */   Resource: () => (/* reexport safe */ _Resource_mjs__WEBPACK_IMPORTED_MODULE_10__.Resource),
/* harmony export */   SVGResource: () => (/* reexport safe */ _SVGResource_mjs__WEBPACK_IMPORTED_MODULE_7__.SVGResource),
/* harmony export */   VideoResource: () => (/* reexport safe */ _VideoResource_mjs__WEBPACK_IMPORTED_MODULE_8__.VideoResource),
/* harmony export */   autoDetectResource: () => (/* reexport safe */ _autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_1__.autoDetectResource)
/* harmony export */ });
/* harmony import */ var _ArrayResource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ArrayResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/ArrayResource.mjs");
/* harmony import */ var _autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./autoDetectResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/autoDetectResource.mjs");
/* harmony import */ var _BufferResource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BufferResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BufferResource.mjs");
/* harmony import */ var _CanvasResource_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CanvasResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/CanvasResource.mjs");
/* harmony import */ var _CubeResource_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CubeResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/CubeResource.mjs");
/* harmony import */ var _ImageBitmapResource_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ImageBitmapResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/ImageBitmapResource.mjs");
/* harmony import */ var _ImageResource_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/ImageResource.mjs");
/* harmony import */ var _SVGResource_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SVGResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/SVGResource.mjs");
/* harmony import */ var _VideoResource_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./VideoResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/VideoResource.mjs");
/* harmony import */ var _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BaseImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs");
/* harmony import */ var _Resource_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Resource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/Resource.mjs");
/* harmony import */ var _AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./AbstractMultiResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/AbstractMultiResource.mjs");






















_autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_1__.INSTALLED.push(_ImageBitmapResource_mjs__WEBPACK_IMPORTED_MODULE_5__.ImageBitmapResource, _ImageResource_mjs__WEBPACK_IMPORTED_MODULE_6__.ImageResource, _CanvasResource_mjs__WEBPACK_IMPORTED_MODULE_3__.CanvasResource, _VideoResource_mjs__WEBPACK_IMPORTED_MODULE_8__.VideoResource, _SVGResource_mjs__WEBPACK_IMPORTED_MODULE_7__.SVGResource, _BufferResource_mjs__WEBPACK_IMPORTED_MODULE_2__.BufferResource, _CubeResource_mjs__WEBPACK_IMPORTED_MODULE_4__.CubeResource, _ArrayResource_mjs__WEBPACK_IMPORTED_MODULE_0__.ArrayResource);
//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/utils/mapTypeAndFormatToInternalFormat.mjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/utils/mapTypeAndFormatToInternalFormat.mjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   mapTypeAndFormatToInternalFormat: () => (/* binding */ mapTypeAndFormatToInternalFormat)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


function mapTypeAndFormatToInternalFormat(gl) {
  let table;
  if ("WebGL2RenderingContext" in globalThis && gl instanceof globalThis.WebGL2RenderingContext) {
    table = {
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA8,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB8,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG]: gl.RG8,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED]: gl.R8,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER]: gl.RGBA8UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB_INTEGER]: gl.RGB8UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG_INTEGER]: gl.RG8UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED_INTEGER]: gl.R8UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.ALPHA]: gl.ALPHA,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.LUMINANCE]: gl.LUMINANCE,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.LUMINANCE_ALPHA]: gl.LUMINANCE_ALPHA
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.BYTE]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA8_SNORM,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB8_SNORM,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG]: gl.RG8_SNORM,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED]: gl.R8_SNORM,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER]: gl.RGBA8I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB_INTEGER]: gl.RGB8I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG_INTEGER]: gl.RG8I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED_INTEGER]: gl.R8I
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER]: gl.RGBA16UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB_INTEGER]: gl.RGB16UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG_INTEGER]: gl.RG16UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED_INTEGER]: gl.R16UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.DEPTH_COMPONENT]: gl.DEPTH_COMPONENT16
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.SHORT]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER]: gl.RGBA16I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB_INTEGER]: gl.RGB16I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG_INTEGER]: gl.RG16I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED_INTEGER]: gl.R16I
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_INT]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER]: gl.RGBA32UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB_INTEGER]: gl.RGB32UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG_INTEGER]: gl.RG32UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED_INTEGER]: gl.R32UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.DEPTH_COMPONENT]: gl.DEPTH_COMPONENT24
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.INT]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER]: gl.RGBA32I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB_INTEGER]: gl.RGB32I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG_INTEGER]: gl.RG32I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED_INTEGER]: gl.R32I
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA32F,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB32F,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG]: gl.RG32F,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED]: gl.R32F,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.DEPTH_COMPONENT]: gl.DEPTH_COMPONENT32F
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.HALF_FLOAT]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA16F,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB16F,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG]: gl.RG16F,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED]: gl.R16F
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_5_6_5]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB565
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_4_4_4_4]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA4
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_5_5_5_1]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGB5_A1
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_INT_2_10_10_10_REV]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGB10_A2,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER]: gl.RGB10_A2UI
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_INT_10F_11F_11F_REV]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.R11F_G11F_B10F
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_INT_5_9_9_9_REV]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB9_E5
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_INT_24_8]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.DEPTH_STENCIL]: gl.DEPTH24_STENCIL8
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.DEPTH_STENCIL]: gl.DEPTH32F_STENCIL8
      }
    };
  } else {
    table = {
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.ALPHA]: gl.ALPHA,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.LUMINANCE]: gl.LUMINANCE,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.LUMINANCE_ALPHA]: gl.LUMINANCE_ALPHA
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_5_6_5]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_4_4_4_4]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_5_5_5_1]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA
      }
    };
  }
  return table;
}


//# sourceMappingURL=mapTypeAndFormatToInternalFormat.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/transformFeedback/TransformFeedback.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/transformFeedback/TransformFeedback.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TransformFeedback: () => (/* binding */ TransformFeedback)
/* harmony export */ });
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");


class TransformFeedback {
  constructor() {
    this._glTransformFeedbacks = {};
    this.buffers = [];
    this.disposeRunner = new _pixi_runner__WEBPACK_IMPORTED_MODULE_0__.Runner("disposeTransformFeedback");
  }
  bindBuffer(index, buffer) {
    this.buffers[index] = buffer;
  }
  destroy() {
    this.disposeRunner.emit(this, false);
  }
}


//# sourceMappingURL=TransformFeedback.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/transformFeedback/TransformFeedbackSystem.mjs":
/*!***********************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/transformFeedback/TransformFeedbackSystem.mjs ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TransformFeedbackSystem: () => (/* binding */ TransformFeedbackSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");


class TransformFeedbackSystem {
  constructor(renderer) {
    this.renderer = renderer;
  }
  contextChange() {
    this.gl = this.renderer.gl;
    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
  }
  bind(transformFeedback) {
    const { gl, CONTEXT_UID } = this;
    const glTransformFeedback = transformFeedback._glTransformFeedbacks[CONTEXT_UID] || this.createGLTransformFeedback(transformFeedback);
    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, glTransformFeedback);
  }
  unbind() {
    const { gl } = this;
    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, null);
  }
  beginTransformFeedback(drawMode, shader) {
    const { gl, renderer } = this;
    if (shader) {
      renderer.shader.bind(shader);
    }
    gl.beginTransformFeedback(drawMode);
  }
  endTransformFeedback() {
    const { gl } = this;
    gl.endTransformFeedback();
  }
  createGLTransformFeedback(tf) {
    const { gl, renderer, CONTEXT_UID } = this;
    const glTransformFeedback = gl.createTransformFeedback();
    tf._glTransformFeedbacks[CONTEXT_UID] = glTransformFeedback;
    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, glTransformFeedback);
    for (let i = 0; i < tf.buffers.length; i++) {
      const buffer = tf.buffers[i];
      if (!buffer)
        continue;
      renderer.buffer.update(buffer);
      buffer._glBuffers[CONTEXT_UID].refCount++;
      gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER, i, buffer._glBuffers[CONTEXT_UID].buffer || null);
    }
    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, null);
    tf.disposeRunner.add(this);
    return glTransformFeedback;
  }
  disposeTransformFeedback(tf, contextLost) {
    const glTF = tf._glTransformFeedbacks[this.CONTEXT_UID];
    const gl = this.gl;
    tf.disposeRunner.remove(this);
    const bufferSystem = this.renderer.buffer;
    if (bufferSystem) {
      for (let i = 0; i < tf.buffers.length; i++) {
        const buffer = tf.buffers[i];
        if (!buffer)
          continue;
        const buf = buffer._glBuffers[this.CONTEXT_UID];
        if (buf) {
          buf.refCount--;
          if (buf.refCount === 0 && !contextLost) {
            bufferSystem.dispose(buffer, contextLost);
          }
        }
      }
    }
    if (!glTF) {
      return;
    }
    if (!contextLost) {
      gl.deleteTransformFeedback(glTF);
    }
    delete tf._glTransformFeedbacks[this.CONTEXT_UID];
  }
  destroy() {
    this.renderer = null;
  }
}
TransformFeedbackSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
  name: "transformFeedback"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(TransformFeedbackSystem);


//# sourceMappingURL=TransformFeedbackSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/utils/Quad.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/core/lib/utils/Quad.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Quad: () => (/* binding */ Quad)
/* harmony export */ });
/* harmony import */ var _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/Geometry.mjs */ "./node_modules/@pixi/core/lib/geometry/Geometry.mjs");


class Quad extends _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_0__.Geometry {
  constructor() {
    super();
    this.addAttribute("aVertexPosition", new Float32Array([
      0,
      0,
      1,
      0,
      1,
      1,
      0,
      1
    ])).addIndex([0, 1, 3, 2]);
  }
}


//# sourceMappingURL=Quad.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/utils/QuadUv.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/core/lib/utils/QuadUv.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QuadUv: () => (/* binding */ QuadUv)
/* harmony export */ });
/* harmony import */ var _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/Buffer.mjs */ "./node_modules/@pixi/core/lib/geometry/Buffer.mjs");
/* harmony import */ var _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../geometry/Geometry.mjs */ "./node_modules/@pixi/core/lib/geometry/Geometry.mjs");



class QuadUv extends _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_1__.Geometry {
  constructor() {
    super();
    this.vertices = new Float32Array([
      -1,
      -1,
      1,
      -1,
      1,
      1,
      -1,
      1
    ]);
    this.uvs = new Float32Array([
      0,
      0,
      1,
      0,
      1,
      1,
      0,
      1
    ]);
    this.vertexBuffer = new _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_0__.Buffer(this.vertices);
    this.uvBuffer = new _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_0__.Buffer(this.uvs);
    this.addAttribute("aVertexPosition", this.vertexBuffer).addAttribute("aTextureCoord", this.uvBuffer).addIndex([0, 1, 2, 0, 2, 3]);
  }
  map(targetTextureFrame, destinationFrame) {
    let x = 0;
    let y = 0;
    this.uvs[0] = x;
    this.uvs[1] = y;
    this.uvs[2] = x + destinationFrame.width / targetTextureFrame.width;
    this.uvs[3] = y;
    this.uvs[4] = x + destinationFrame.width / targetTextureFrame.width;
    this.uvs[5] = y + destinationFrame.height / targetTextureFrame.height;
    this.uvs[6] = x;
    this.uvs[7] = y + destinationFrame.height / targetTextureFrame.height;
    x = destinationFrame.x;
    y = destinationFrame.y;
    this.vertices[0] = x;
    this.vertices[1] = y;
    this.vertices[2] = x + destinationFrame.width;
    this.vertices[3] = y;
    this.vertices[4] = x + destinationFrame.width;
    this.vertices[5] = y + destinationFrame.height;
    this.vertices[6] = x;
    this.vertices[7] = y + destinationFrame.height;
    this.invalidate();
    return this;
  }
  invalidate() {
    this.vertexBuffer._updateID++;
    this.uvBuffer._updateID++;
    return this;
  }
}


//# sourceMappingURL=QuadUv.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/view/ViewSystem.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/view/ViewSystem.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewSystem: () => (/* binding */ ViewSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");




class ViewSystem {
  constructor(renderer) {
    this.renderer = renderer;
  }
  init(options) {
    this.screen = new _pixi_math__WEBPACK_IMPORTED_MODULE_1__.Rectangle(0, 0, options.width, options.height);
    this.element = options.view || _pixi_settings__WEBPACK_IMPORTED_MODULE_2__.settings.ADAPTER.createCanvas();
    this.resolution = options.resolution || _pixi_settings__WEBPACK_IMPORTED_MODULE_2__.settings.RESOLUTION;
    this.autoDensity = !!options.autoDensity;
  }
  resizeView(desiredScreenWidth, desiredScreenHeight) {
    this.element.width = Math.round(desiredScreenWidth * this.resolution);
    this.element.height = Math.round(desiredScreenHeight * this.resolution);
    const screenWidth = this.element.width / this.resolution;
    const screenHeight = this.element.height / this.resolution;
    this.screen.width = screenWidth;
    this.screen.height = screenHeight;
    if (this.autoDensity) {
      this.element.style.width = `${screenWidth}px`;
      this.element.style.height = `${screenHeight}px`;
    }
    this.renderer.emit("resize", screenWidth, screenHeight);
    this.renderer.runners.resize.emit(this.screen.width, this.screen.height);
  }
  destroy(removeView) {
    if (removeView) {
      this.element.parentNode?.removeChild(this.element);
    }
    this.renderer = null;
    this.element = null;
    this.screen = null;
  }
}
ViewSystem.defaultOptions = {
  width: 800,
  height: 600,
  resolution: _pixi_settings__WEBPACK_IMPORTED_MODULE_2__.settings.RESOLUTION,
  autoDensity: false
};
ViewSystem.extension = {
  type: [
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.CanvasRendererSystem
  ],
  name: "_view"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(ViewSystem);


//# sourceMappingURL=ViewSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/display/lib/Bounds.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/display/lib/Bounds.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Bounds: () => (/* binding */ Bounds)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


class Bounds {
  constructor() {
    this.minX = Infinity;
    this.minY = Infinity;
    this.maxX = -Infinity;
    this.maxY = -Infinity;
    this.rect = null;
    this.updateID = -1;
  }
  isEmpty() {
    return this.minX > this.maxX || this.minY > this.maxY;
  }
  clear() {
    this.minX = Infinity;
    this.minY = Infinity;
    this.maxX = -Infinity;
    this.maxY = -Infinity;
  }
  getRectangle(rect) {
    if (this.minX > this.maxX || this.minY > this.maxY) {
      return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle.EMPTY;
    }
    rect = rect || new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle(0, 0, 1, 1);
    rect.x = this.minX;
    rect.y = this.minY;
    rect.width = this.maxX - this.minX;
    rect.height = this.maxY - this.minY;
    return rect;
  }
  addPoint(point) {
    this.minX = Math.min(this.minX, point.x);
    this.maxX = Math.max(this.maxX, point.x);
    this.minY = Math.min(this.minY, point.y);
    this.maxY = Math.max(this.maxY, point.y);
  }
  addPointMatrix(matrix, point) {
    const { a, b, c, d, tx, ty } = matrix;
    const x = a * point.x + c * point.y + tx;
    const y = b * point.x + d * point.y + ty;
    this.minX = Math.min(this.minX, x);
    this.maxX = Math.max(this.maxX, x);
    this.minY = Math.min(this.minY, y);
    this.maxY = Math.max(this.maxY, y);
  }
  addQuad(vertices) {
    let minX = this.minX;
    let minY = this.minY;
    let maxX = this.maxX;
    let maxY = this.maxY;
    let x = vertices[0];
    let y = vertices[1];
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    x = vertices[2];
    y = vertices[3];
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    x = vertices[4];
    y = vertices[5];
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    x = vertices[6];
    y = vertices[7];
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    this.minX = minX;
    this.minY = minY;
    this.maxX = maxX;
    this.maxY = maxY;
  }
  addFrame(transform, x0, y0, x1, y1) {
    this.addFrameMatrix(transform.worldTransform, x0, y0, x1, y1);
  }
  addFrameMatrix(matrix, x0, y0, x1, y1) {
    const a = matrix.a;
    const b = matrix.b;
    const c = matrix.c;
    const d = matrix.d;
    const tx = matrix.tx;
    const ty = matrix.ty;
    let minX = this.minX;
    let minY = this.minY;
    let maxX = this.maxX;
    let maxY = this.maxY;
    let x = a * x0 + c * y0 + tx;
    let y = b * x0 + d * y0 + ty;
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    x = a * x1 + c * y0 + tx;
    y = b * x1 + d * y0 + ty;
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    x = a * x0 + c * y1 + tx;
    y = b * x0 + d * y1 + ty;
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    x = a * x1 + c * y1 + tx;
    y = b * x1 + d * y1 + ty;
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    this.minX = minX;
    this.minY = minY;
    this.maxX = maxX;
    this.maxY = maxY;
  }
  addVertexData(vertexData, beginOffset, endOffset) {
    let minX = this.minX;
    let minY = this.minY;
    let maxX = this.maxX;
    let maxY = this.maxY;
    for (let i = beginOffset; i < endOffset; i += 2) {
      const x = vertexData[i];
      const y = vertexData[i + 1];
      minX = x < minX ? x : minX;
      minY = y < minY ? y : minY;
      maxX = x > maxX ? x : maxX;
      maxY = y > maxY ? y : maxY;
    }
    this.minX = minX;
    this.minY = minY;
    this.maxX = maxX;
    this.maxY = maxY;
  }
  addVertices(transform, vertices, beginOffset, endOffset) {
    this.addVerticesMatrix(transform.worldTransform, vertices, beginOffset, endOffset);
  }
  addVerticesMatrix(matrix, vertices, beginOffset, endOffset, padX = 0, padY = padX) {
    const a = matrix.a;
    const b = matrix.b;
    const c = matrix.c;
    const d = matrix.d;
    const tx = matrix.tx;
    const ty = matrix.ty;
    let minX = this.minX;
    let minY = this.minY;
    let maxX = this.maxX;
    let maxY = this.maxY;
    for (let i = beginOffset; i < endOffset; i += 2) {
      const rawX = vertices[i];
      const rawY = vertices[i + 1];
      const x = a * rawX + c * rawY + tx;
      const y = d * rawY + b * rawX + ty;
      minX = Math.min(minX, x - padX);
      maxX = Math.max(maxX, x + padX);
      minY = Math.min(minY, y - padY);
      maxY = Math.max(maxY, y + padY);
    }
    this.minX = minX;
    this.minY = minY;
    this.maxX = maxX;
    this.maxY = maxY;
  }
  addBounds(bounds) {
    const minX = this.minX;
    const minY = this.minY;
    const maxX = this.maxX;
    const maxY = this.maxY;
    this.minX = bounds.minX < minX ? bounds.minX : minX;
    this.minY = bounds.minY < minY ? bounds.minY : minY;
    this.maxX = bounds.maxX > maxX ? bounds.maxX : maxX;
    this.maxY = bounds.maxY > maxY ? bounds.maxY : maxY;
  }
  addBoundsMask(bounds, mask) {
    const _minX = bounds.minX > mask.minX ? bounds.minX : mask.minX;
    const _minY = bounds.minY > mask.minY ? bounds.minY : mask.minY;
    const _maxX = bounds.maxX < mask.maxX ? bounds.maxX : mask.maxX;
    const _maxY = bounds.maxY < mask.maxY ? bounds.maxY : mask.maxY;
    if (_minX <= _maxX && _minY <= _maxY) {
      const minX = this.minX;
      const minY = this.minY;
      const maxX = this.maxX;
      const maxY = this.maxY;
      this.minX = _minX < minX ? _minX : minX;
      this.minY = _minY < minY ? _minY : minY;
      this.maxX = _maxX > maxX ? _maxX : maxX;
      this.maxY = _maxY > maxY ? _maxY : maxY;
    }
  }
  addBoundsMatrix(bounds, matrix) {
    this.addFrameMatrix(matrix, bounds.minX, bounds.minY, bounds.maxX, bounds.maxY);
  }
  addBoundsArea(bounds, area) {
    const _minX = bounds.minX > area.x ? bounds.minX : area.x;
    const _minY = bounds.minY > area.y ? bounds.minY : area.y;
    const _maxX = bounds.maxX < area.x + area.width ? bounds.maxX : area.x + area.width;
    const _maxY = bounds.maxY < area.y + area.height ? bounds.maxY : area.y + area.height;
    if (_minX <= _maxX && _minY <= _maxY) {
      const minX = this.minX;
      const minY = this.minY;
      const maxX = this.maxX;
      const maxY = this.maxY;
      this.minX = _minX < minX ? _minX : minX;
      this.minY = _minY < minY ? _minY : minY;
      this.maxX = _maxX > maxX ? _maxX : maxX;
      this.maxY = _maxY > maxY ? _maxY : maxY;
    }
  }
  pad(paddingX = 0, paddingY = paddingX) {
    if (!this.isEmpty()) {
      this.minX -= paddingX;
      this.maxX += paddingX;
      this.minY -= paddingY;
      this.maxY += paddingY;
    }
  }
  addFramePad(x0, y0, x1, y1, padX, padY) {
    x0 -= padX;
    y0 -= padY;
    x1 += padX;
    y1 += padY;
    this.minX = this.minX < x0 ? this.minX : x0;
    this.maxX = this.maxX > x1 ? this.maxX : x1;
    this.minY = this.minY < y0 ? this.minY : y0;
    this.maxY = this.maxY > y1 ? this.maxY : y1;
  }
}


//# sourceMappingURL=Bounds.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/display/lib/Container.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/display/lib/Container.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Container: () => (/* binding */ Container)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _DisplayObject_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DisplayObject.mjs */ "./node_modules/@pixi/display/lib/DisplayObject.mjs");



const tempMatrix = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Matrix();
function sortChildren(a, b) {
  if (a.zIndex === b.zIndex) {
    return a._lastSortedIndex - b._lastSortedIndex;
  }
  return a.zIndex - b.zIndex;
}
const _Container = class extends _DisplayObject_mjs__WEBPACK_IMPORTED_MODULE_1__.DisplayObject {
  constructor() {
    super();
    this.children = [];
    this.sortableChildren = _Container.defaultSortableChildren;
    this.sortDirty = false;
  }
  onChildrenChange(_length) {
  }
  addChild(...children) {
    if (children.length > 1) {
      for (let i = 0; i < children.length; i++) {
        this.addChild(children[i]);
      }
    } else {
      const child = children[0];
      if (child.parent) {
        child.parent.removeChild(child);
      }
      child.parent = this;
      this.sortDirty = true;
      child.transform._parentID = -1;
      this.children.push(child);
      this._boundsID++;
      this.onChildrenChange(this.children.length - 1);
      this.emit("childAdded", child, this, this.children.length - 1);
      child.emit("added", this);
    }
    return children[0];
  }
  addChildAt(child, index) {
    if (index < 0 || index > this.children.length) {
      throw new Error(`${child}addChildAt: The index ${index} supplied is out of bounds ${this.children.length}`);
    }
    if (child.parent) {
      child.parent.removeChild(child);
    }
    child.parent = this;
    this.sortDirty = true;
    child.transform._parentID = -1;
    this.children.splice(index, 0, child);
    this._boundsID++;
    this.onChildrenChange(index);
    child.emit("added", this);
    this.emit("childAdded", child, this, index);
    return child;
  }
  swapChildren(child, child2) {
    if (child === child2) {
      return;
    }
    const index1 = this.getChildIndex(child);
    const index2 = this.getChildIndex(child2);
    this.children[index1] = child2;
    this.children[index2] = child;
    this.onChildrenChange(index1 < index2 ? index1 : index2);
  }
  getChildIndex(child) {
    const index = this.children.indexOf(child);
    if (index === -1) {
      throw new Error("The supplied DisplayObject must be a child of the caller");
    }
    return index;
  }
  setChildIndex(child, index) {
    if (index < 0 || index >= this.children.length) {
      throw new Error(`The index ${index} supplied is out of bounds ${this.children.length}`);
    }
    const currentIndex = this.getChildIndex(child);
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.removeItems(this.children, currentIndex, 1);
    this.children.splice(index, 0, child);
    this.onChildrenChange(index);
  }
  getChildAt(index) {
    if (index < 0 || index >= this.children.length) {
      throw new Error(`getChildAt: Index (${index}) does not exist.`);
    }
    return this.children[index];
  }
  removeChild(...children) {
    if (children.length > 1) {
      for (let i = 0; i < children.length; i++) {
        this.removeChild(children[i]);
      }
    } else {
      const child = children[0];
      const index = this.children.indexOf(child);
      if (index === -1)
        return null;
      child.parent = null;
      child.transform._parentID = -1;
      _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.removeItems(this.children, index, 1);
      this._boundsID++;
      this.onChildrenChange(index);
      child.emit("removed", this);
      this.emit("childRemoved", child, this, index);
    }
    return children[0];
  }
  removeChildAt(index) {
    const child = this.getChildAt(index);
    child.parent = null;
    child.transform._parentID = -1;
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.removeItems(this.children, index, 1);
    this._boundsID++;
    this.onChildrenChange(index);
    child.emit("removed", this);
    this.emit("childRemoved", child, this, index);
    return child;
  }
  removeChildren(beginIndex = 0, endIndex = this.children.length) {
    const begin = beginIndex;
    const end = endIndex;
    const range = end - begin;
    let removed;
    if (range > 0 && range <= end) {
      removed = this.children.splice(begin, range);
      for (let i = 0; i < removed.length; ++i) {
        removed[i].parent = null;
        if (removed[i].transform) {
          removed[i].transform._parentID = -1;
        }
      }
      this._boundsID++;
      this.onChildrenChange(beginIndex);
      for (let i = 0; i < removed.length; ++i) {
        removed[i].emit("removed", this);
        this.emit("childRemoved", removed[i], this, i);
      }
      return removed;
    } else if (range === 0 && this.children.length === 0) {
      return [];
    }
    throw new RangeError("removeChildren: numeric values are outside the acceptable range.");
  }
  sortChildren() {
    let sortRequired = false;
    for (let i = 0, j = this.children.length; i < j; ++i) {
      const child = this.children[i];
      child._lastSortedIndex = i;
      if (!sortRequired && child.zIndex !== 0) {
        sortRequired = true;
      }
    }
    if (sortRequired && this.children.length > 1) {
      this.children.sort(sortChildren);
    }
    this.sortDirty = false;
  }
  updateTransform() {
    if (this.sortableChildren && this.sortDirty) {
      this.sortChildren();
    }
    this._boundsID++;
    this.transform.updateTransform(this.parent.transform);
    this.worldAlpha = this.alpha * this.parent.worldAlpha;
    for (let i = 0, j = this.children.length; i < j; ++i) {
      const child = this.children[i];
      if (child.visible) {
        child.updateTransform();
      }
    }
  }
  calculateBounds() {
    this._bounds.clear();
    this._calculateBounds();
    for (let i = 0; i < this.children.length; i++) {
      const child = this.children[i];
      if (!child.visible || !child.renderable) {
        continue;
      }
      child.calculateBounds();
      if (child._mask) {
        const maskObject = child._mask.isMaskData ? child._mask.maskObject : child._mask;
        if (maskObject) {
          maskObject.calculateBounds();
          this._bounds.addBoundsMask(child._bounds, maskObject._bounds);
        } else {
          this._bounds.addBounds(child._bounds);
        }
      } else if (child.filterArea) {
        this._bounds.addBoundsArea(child._bounds, child.filterArea);
      } else {
        this._bounds.addBounds(child._bounds);
      }
    }
    this._bounds.updateID = this._boundsID;
  }
  getLocalBounds(rect, skipChildrenUpdate = false) {
    const result = super.getLocalBounds(rect);
    if (!skipChildrenUpdate) {
      for (let i = 0, j = this.children.length; i < j; ++i) {
        const child = this.children[i];
        if (child.visible) {
          child.updateTransform();
        }
      }
    }
    return result;
  }
  _calculateBounds() {
  }
  _renderWithCulling(renderer) {
    const sourceFrame = renderer.renderTexture.sourceFrame;
    if (!(sourceFrame.width > 0 && sourceFrame.height > 0)) {
      return;
    }
    let bounds;
    let transform;
    if (this.cullArea) {
      bounds = this.cullArea;
      transform = this.worldTransform;
    } else if (this._render !== _Container.prototype._render) {
      bounds = this.getBounds(true);
    }
    const projectionTransform = renderer.projection.transform;
    if (projectionTransform) {
      if (transform) {
        transform = tempMatrix.copyFrom(transform);
        transform.prepend(projectionTransform);
      } else {
        transform = projectionTransform;
      }
    }
    if (bounds && sourceFrame.intersects(bounds, transform)) {
      this._render(renderer);
    } else if (this.cullArea) {
      return;
    }
    for (let i = 0, j = this.children.length; i < j; ++i) {
      const child = this.children[i];
      const childCullable = child.cullable;
      child.cullable = childCullable || !this.cullArea;
      child.render(renderer);
      child.cullable = childCullable;
    }
  }
  render(renderer) {
    if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {
      return;
    }
    if (this._mask || this.filters?.length) {
      this.renderAdvanced(renderer);
    } else if (this.cullable) {
      this._renderWithCulling(renderer);
    } else {
      this._render(renderer);
      for (let i = 0, j = this.children.length; i < j; ++i) {
        this.children[i].render(renderer);
      }
    }
  }
  renderAdvanced(renderer) {
    const filters = this.filters;
    const mask = this._mask;
    if (filters) {
      if (!this._enabledFilters) {
        this._enabledFilters = [];
      }
      this._enabledFilters.length = 0;
      for (let i = 0; i < filters.length; i++) {
        if (filters[i].enabled) {
          this._enabledFilters.push(filters[i]);
        }
      }
    }
    const flush = filters && this._enabledFilters?.length || mask && (!mask.isMaskData || mask.enabled && (mask.autoDetect || mask.type !== _pixi_core__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.NONE));
    if (flush) {
      renderer.batch.flush();
    }
    if (filters && this._enabledFilters?.length) {
      renderer.filter.push(this, this._enabledFilters);
    }
    if (mask) {
      renderer.mask.push(this, this._mask);
    }
    if (this.cullable) {
      this._renderWithCulling(renderer);
    } else {
      this._render(renderer);
      for (let i = 0, j = this.children.length; i < j; ++i) {
        this.children[i].render(renderer);
      }
    }
    if (flush) {
      renderer.batch.flush();
    }
    if (mask) {
      renderer.mask.pop(this);
    }
    if (filters && this._enabledFilters?.length) {
      renderer.filter.pop();
    }
  }
  _render(_renderer) {
  }
  destroy(options) {
    super.destroy();
    this.sortDirty = false;
    const destroyChildren = typeof options === "boolean" ? options : options?.children;
    const oldChildren = this.removeChildren(0, this.children.length);
    if (destroyChildren) {
      for (let i = 0; i < oldChildren.length; ++i) {
        oldChildren[i].destroy(options);
      }
    }
  }
  get width() {
    return this.scale.x * this.getLocalBounds().width;
  }
  set width(value) {
    const width = this.getLocalBounds().width;
    if (width !== 0) {
      this.scale.x = value / width;
    } else {
      this.scale.x = 1;
    }
    this._width = value;
  }
  get height() {
    return this.scale.y * this.getLocalBounds().height;
  }
  set height(value) {
    const height = this.getLocalBounds().height;
    if (height !== 0) {
      this.scale.y = value / height;
    } else {
      this.scale.y = 1;
    }
    this._height = value;
  }
};
let Container = _Container;
Container.defaultSortableChildren = false;
Container.prototype.containerUpdateTransform = Container.prototype.updateTransform;


//# sourceMappingURL=Container.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/display/lib/DisplayObject.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/display/lib/DisplayObject.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DisplayObject: () => (/* binding */ DisplayObject),
/* harmony export */   TemporaryDisplayObject: () => (/* binding */ TemporaryDisplayObject)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _Bounds_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Bounds.mjs */ "./node_modules/@pixi/display/lib/Bounds.mjs");



class DisplayObject extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.EventEmitter {
  constructor() {
    super();
    this.tempDisplayObjectParent = null;
    this.transform = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Transform();
    this.alpha = 1;
    this.visible = true;
    this.renderable = true;
    this.cullable = false;
    this.cullArea = null;
    this.parent = null;
    this.worldAlpha = 1;
    this._lastSortedIndex = 0;
    this._zIndex = 0;
    this.filterArea = null;
    this.filters = null;
    this._enabledFilters = null;
    this._bounds = new _Bounds_mjs__WEBPACK_IMPORTED_MODULE_1__.Bounds();
    this._localBounds = null;
    this._boundsID = 0;
    this._boundsRect = null;
    this._localBoundsRect = null;
    this._mask = null;
    this._maskRefCount = 0;
    this._destroyed = false;
    this.isSprite = false;
    this.isMask = false;
  }
  static mixin(source) {
    const keys = Object.keys(source);
    for (let i = 0; i < keys.length; ++i) {
      const propertyName = keys[i];
      Object.defineProperty(DisplayObject.prototype, propertyName, Object.getOwnPropertyDescriptor(source, propertyName));
    }
  }
  get destroyed() {
    return this._destroyed;
  }
  _recursivePostUpdateTransform() {
    if (this.parent) {
      this.parent._recursivePostUpdateTransform();
      this.transform.updateTransform(this.parent.transform);
    } else {
      this.transform.updateTransform(this._tempDisplayObjectParent.transform);
    }
  }
  updateTransform() {
    this._boundsID++;
    this.transform.updateTransform(this.parent.transform);
    this.worldAlpha = this.alpha * this.parent.worldAlpha;
  }
  getBounds(skipUpdate, rect) {
    if (!skipUpdate) {
      if (!this.parent) {
        this.parent = this._tempDisplayObjectParent;
        this.updateTransform();
        this.parent = null;
      } else {
        this._recursivePostUpdateTransform();
        this.updateTransform();
      }
    }
    if (this._bounds.updateID !== this._boundsID) {
      this.calculateBounds();
      this._bounds.updateID = this._boundsID;
    }
    if (!rect) {
      if (!this._boundsRect) {
        this._boundsRect = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
      }
      rect = this._boundsRect;
    }
    return this._bounds.getRectangle(rect);
  }
  getLocalBounds(rect) {
    if (!rect) {
      if (!this._localBoundsRect) {
        this._localBoundsRect = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
      }
      rect = this._localBoundsRect;
    }
    if (!this._localBounds) {
      this._localBounds = new _Bounds_mjs__WEBPACK_IMPORTED_MODULE_1__.Bounds();
    }
    const transformRef = this.transform;
    const parentRef = this.parent;
    this.parent = null;
    this.transform = this._tempDisplayObjectParent.transform;
    const worldBounds = this._bounds;
    const worldBoundsID = this._boundsID;
    this._bounds = this._localBounds;
    const bounds = this.getBounds(false, rect);
    this.parent = parentRef;
    this.transform = transformRef;
    this._bounds = worldBounds;
    this._bounds.updateID += this._boundsID - worldBoundsID;
    return bounds;
  }
  toGlobal(position, point, skipUpdate = false) {
    if (!skipUpdate) {
      this._recursivePostUpdateTransform();
      if (!this.parent) {
        this.parent = this._tempDisplayObjectParent;
        this.displayObjectUpdateTransform();
        this.parent = null;
      } else {
        this.displayObjectUpdateTransform();
      }
    }
    return this.worldTransform.apply(position, point);
  }
  toLocal(position, from, point, skipUpdate) {
    if (from) {
      position = from.toGlobal(position, point, skipUpdate);
    }
    if (!skipUpdate) {
      this._recursivePostUpdateTransform();
      if (!this.parent) {
        this.parent = this._tempDisplayObjectParent;
        this.displayObjectUpdateTransform();
        this.parent = null;
      } else {
        this.displayObjectUpdateTransform();
      }
    }
    return this.worldTransform.applyInverse(position, point);
  }
  setParent(container) {
    if (!container || !container.addChild) {
      throw new Error("setParent: Argument must be a Container");
    }
    container.addChild(this);
    return container;
  }
  removeFromParent() {
    this.parent?.removeChild(this);
  }
  setTransform(x = 0, y = 0, scaleX = 1, scaleY = 1, rotation = 0, skewX = 0, skewY = 0, pivotX = 0, pivotY = 0) {
    this.position.x = x;
    this.position.y = y;
    this.scale.x = !scaleX ? 1 : scaleX;
    this.scale.y = !scaleY ? 1 : scaleY;
    this.rotation = rotation;
    this.skew.x = skewX;
    this.skew.y = skewY;
    this.pivot.x = pivotX;
    this.pivot.y = pivotY;
    return this;
  }
  destroy(_options) {
    this.removeFromParent();
    this._destroyed = true;
    this.transform = null;
    this.parent = null;
    this._bounds = null;
    this.mask = null;
    this.cullArea = null;
    this.filters = null;
    this.filterArea = null;
    this.hitArea = null;
    this.eventMode = "auto";
    this.interactiveChildren = false;
    this.emit("destroyed");
    this.removeAllListeners();
  }
  get _tempDisplayObjectParent() {
    if (this.tempDisplayObjectParent === null) {
      this.tempDisplayObjectParent = new TemporaryDisplayObject();
    }
    return this.tempDisplayObjectParent;
  }
  enableTempParent() {
    const myParent = this.parent;
    this.parent = this._tempDisplayObjectParent;
    return myParent;
  }
  disableTempParent(cacheParent) {
    this.parent = cacheParent;
  }
  get x() {
    return this.position.x;
  }
  set x(value) {
    this.transform.position.x = value;
  }
  get y() {
    return this.position.y;
  }
  set y(value) {
    this.transform.position.y = value;
  }
  get worldTransform() {
    return this.transform.worldTransform;
  }
  get localTransform() {
    return this.transform.localTransform;
  }
  get position() {
    return this.transform.position;
  }
  set position(value) {
    this.transform.position.copyFrom(value);
  }
  get scale() {
    return this.transform.scale;
  }
  set scale(value) {
    this.transform.scale.copyFrom(value);
  }
  get pivot() {
    return this.transform.pivot;
  }
  set pivot(value) {
    this.transform.pivot.copyFrom(value);
  }
  get skew() {
    return this.transform.skew;
  }
  set skew(value) {
    this.transform.skew.copyFrom(value);
  }
  get rotation() {
    return this.transform.rotation;
  }
  set rotation(value) {
    this.transform.rotation = value;
  }
  get angle() {
    return this.transform.rotation * _pixi_core__WEBPACK_IMPORTED_MODULE_0__.RAD_TO_DEG;
  }
  set angle(value) {
    this.transform.rotation = value * _pixi_core__WEBPACK_IMPORTED_MODULE_0__.DEG_TO_RAD;
  }
  get zIndex() {
    return this._zIndex;
  }
  set zIndex(value) {
    this._zIndex = value;
    if (this.parent) {
      this.parent.sortDirty = true;
    }
  }
  get worldVisible() {
    let item = this;
    do {
      if (!item.visible) {
        return false;
      }
      item = item.parent;
    } while (item);
    return true;
  }
  get mask() {
    return this._mask;
  }
  set mask(value) {
    if (this._mask === value) {
      return;
    }
    if (this._mask) {
      const maskObject = this._mask.isMaskData ? this._mask.maskObject : this._mask;
      if (maskObject) {
        maskObject._maskRefCount--;
        if (maskObject._maskRefCount === 0) {
          maskObject.renderable = true;
          maskObject.isMask = false;
        }
      }
    }
    this._mask = value;
    if (this._mask) {
      const maskObject = this._mask.isMaskData ? this._mask.maskObject : this._mask;
      if (maskObject) {
        if (maskObject._maskRefCount === 0) {
          maskObject.renderable = false;
          maskObject.isMask = true;
        }
        maskObject._maskRefCount++;
      }
    }
  }
}
class TemporaryDisplayObject extends DisplayObject {
  constructor() {
    super(...arguments);
    this.sortDirty = null;
  }
}
DisplayObject.prototype.displayObjectUpdateTransform = DisplayObject.prototype.updateTransform;


//# sourceMappingURL=DisplayObject.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/display/lib/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/display/lib/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Bounds: () => (/* reexport safe */ _Bounds_mjs__WEBPACK_IMPORTED_MODULE_1__.Bounds),
/* harmony export */   Container: () => (/* reexport safe */ _Container_mjs__WEBPACK_IMPORTED_MODULE_2__.Container),
/* harmony export */   DisplayObject: () => (/* reexport safe */ _DisplayObject_mjs__WEBPACK_IMPORTED_MODULE_3__.DisplayObject),
/* harmony export */   TemporaryDisplayObject: () => (/* reexport safe */ _DisplayObject_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryDisplayObject)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings.mjs */ "./node_modules/@pixi/display/lib/settings.mjs");
/* harmony import */ var _Bounds_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Bounds.mjs */ "./node_modules/@pixi/display/lib/Bounds.mjs");
/* harmony import */ var _Container_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Container.mjs */ "./node_modules/@pixi/display/lib/Container.mjs");
/* harmony import */ var _DisplayObject_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DisplayObject.mjs */ "./node_modules/@pixi/display/lib/DisplayObject.mjs");




//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/display/lib/settings.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/display/lib/settings.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   settings: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _Container_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Container.mjs */ "./node_modules/@pixi/display/lib/Container.mjs");




Object.defineProperties(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings, {
  SORTABLE_CHILDREN: {
    get() {
      return _Container_mjs__WEBPACK_IMPORTED_MODULE_1__.Container.defaultSortableChildren;
    },
    set(value) {
      _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.deprecation("7.1.0", "settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren");
      _Container_mjs__WEBPACK_IMPORTED_MODULE_1__.Container.defaultSortableChildren = value;
    }
  }
});
//# sourceMappingURL=settings.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/EventBoundary.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/events/lib/EventBoundary.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EventBoundary: () => (/* binding */ EventBoundary)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _EventTicker_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EventTicker.mjs */ "./node_modules/@pixi/events/lib/EventTicker.mjs");
/* harmony import */ var _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FederatedMouseEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedMouseEvent.mjs");
/* harmony import */ var _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FederatedPointerEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedPointerEvent.mjs");
/* harmony import */ var _FederatedWheelEvent_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FederatedWheelEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedWheelEvent.mjs");






const PROPAGATION_LIMIT = 2048;
const tempHitLocation = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
const tempLocalMapping = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
class EventBoundary {
  constructor(rootTarget) {
    this.dispatch = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.EventEmitter();
    this.moveOnAll = false;
    this.enableGlobalMoveEvents = true;
    this.mappingState = {
      trackingData: {}
    };
    this.eventPool = /* @__PURE__ */ new Map();
    this._allInteractiveElements = [];
    this._hitElements = [];
    this._isPointerMoveEvent = false;
    this.rootTarget = rootTarget;
    this.hitPruneFn = this.hitPruneFn.bind(this);
    this.hitTestFn = this.hitTestFn.bind(this);
    this.mapPointerDown = this.mapPointerDown.bind(this);
    this.mapPointerMove = this.mapPointerMove.bind(this);
    this.mapPointerOut = this.mapPointerOut.bind(this);
    this.mapPointerOver = this.mapPointerOver.bind(this);
    this.mapPointerUp = this.mapPointerUp.bind(this);
    this.mapPointerUpOutside = this.mapPointerUpOutside.bind(this);
    this.mapWheel = this.mapWheel.bind(this);
    this.mappingTable = {};
    this.addEventMapping("pointerdown", this.mapPointerDown);
    this.addEventMapping("pointermove", this.mapPointerMove);
    this.addEventMapping("pointerout", this.mapPointerOut);
    this.addEventMapping("pointerleave", this.mapPointerOut);
    this.addEventMapping("pointerover", this.mapPointerOver);
    this.addEventMapping("pointerup", this.mapPointerUp);
    this.addEventMapping("pointerupoutside", this.mapPointerUpOutside);
    this.addEventMapping("wheel", this.mapWheel);
  }
  addEventMapping(type, fn) {
    if (!this.mappingTable[type]) {
      this.mappingTable[type] = [];
    }
    this.mappingTable[type].push({
      fn,
      priority: 0
    });
    this.mappingTable[type].sort((a, b) => a.priority - b.priority);
  }
  dispatchEvent(e, type) {
    e.propagationStopped = false;
    e.propagationImmediatelyStopped = false;
    this.propagate(e, type);
    this.dispatch.emit(type || e.type, e);
  }
  mapEvent(e) {
    if (!this.rootTarget) {
      return;
    }
    const mappers = this.mappingTable[e.type];
    if (mappers) {
      for (let i = 0, j = mappers.length; i < j; i++) {
        mappers[i].fn(e);
      }
    } else {
      console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`);
    }
  }
  hitTest(x, y) {
    _EventTicker_mjs__WEBPACK_IMPORTED_MODULE_1__.EventsTicker.pauseUpdate = true;
    const useMove = this._isPointerMoveEvent && this.enableGlobalMoveEvents;
    const fn = useMove ? "hitTestMoveRecursive" : "hitTestRecursive";
    const invertedPath = this[fn](this.rootTarget, this.rootTarget.eventMode, tempHitLocation.set(x, y), this.hitTestFn, this.hitPruneFn);
    return invertedPath && invertedPath[0];
  }
  propagate(e, type) {
    if (!e.target) {
      return;
    }
    const composedPath = e.composedPath();
    e.eventPhase = e.CAPTURING_PHASE;
    for (let i = 0, j = composedPath.length - 1; i < j; i++) {
      e.currentTarget = composedPath[i];
      this.notifyTarget(e, type);
      if (e.propagationStopped || e.propagationImmediatelyStopped)
        return;
    }
    e.eventPhase = e.AT_TARGET;
    e.currentTarget = e.target;
    this.notifyTarget(e, type);
    if (e.propagationStopped || e.propagationImmediatelyStopped)
      return;
    e.eventPhase = e.BUBBLING_PHASE;
    for (let i = composedPath.length - 2; i >= 0; i--) {
      e.currentTarget = composedPath[i];
      this.notifyTarget(e, type);
      if (e.propagationStopped || e.propagationImmediatelyStopped)
        return;
    }
  }
  all(e, type, targets = this._allInteractiveElements) {
    if (targets.length === 0)
      return;
    e.eventPhase = e.BUBBLING_PHASE;
    const events = Array.isArray(type) ? type : [type];
    for (let i = targets.length - 1; i >= 0; i--) {
      events.forEach((event) => {
        e.currentTarget = targets[i];
        this.notifyTarget(e, event);
      });
    }
  }
  propagationPath(target) {
    const propagationPath = [target];
    for (let i = 0; i < PROPAGATION_LIMIT && target !== this.rootTarget; i++) {
      if (!target.parent) {
        throw new Error("Cannot find propagation path to disconnected target");
      }
      propagationPath.push(target.parent);
      target = target.parent;
    }
    propagationPath.reverse();
    return propagationPath;
  }
  hitTestMoveRecursive(currentTarget, eventMode, location, testFn, pruneFn, ignore = false) {
    let shouldReturn = false;
    if (this._interactivePrune(currentTarget))
      return null;
    if (currentTarget.eventMode === "dynamic" || eventMode === "dynamic") {
      _EventTicker_mjs__WEBPACK_IMPORTED_MODULE_1__.EventsTicker.pauseUpdate = false;
    }
    if (currentTarget.interactiveChildren && currentTarget.children) {
      const children = currentTarget.children;
      for (let i = children.length - 1; i >= 0; i--) {
        const child = children[i];
        const nestedHit = this.hitTestMoveRecursive(child, this._isInteractive(eventMode) ? eventMode : child.eventMode, location, testFn, pruneFn, ignore || pruneFn(currentTarget, location));
        if (nestedHit) {
          if (nestedHit.length > 0 && !nestedHit[nestedHit.length - 1].parent) {
            continue;
          }
          const isInteractive = currentTarget.isInteractive();
          if (nestedHit.length > 0 || isInteractive) {
            if (isInteractive)
              this._allInteractiveElements.push(currentTarget);
            nestedHit.push(currentTarget);
          }
          if (this._hitElements.length === 0)
            this._hitElements = nestedHit;
          shouldReturn = true;
        }
      }
    }
    const isInteractiveMode = this._isInteractive(eventMode);
    const isInteractiveTarget = currentTarget.isInteractive();
    if (isInteractiveTarget && isInteractiveTarget)
      this._allInteractiveElements.push(currentTarget);
    if (ignore || this._hitElements.length > 0)
      return null;
    if (shouldReturn)
      return this._hitElements;
    if (isInteractiveMode && (!pruneFn(currentTarget, location) && testFn(currentTarget, location))) {
      return isInteractiveTarget ? [currentTarget] : [];
    }
    return null;
  }
  hitTestRecursive(currentTarget, eventMode, location, testFn, pruneFn) {
    if (this._interactivePrune(currentTarget) || pruneFn(currentTarget, location)) {
      return null;
    }
    if (currentTarget.eventMode === "dynamic" || eventMode === "dynamic") {
      _EventTicker_mjs__WEBPACK_IMPORTED_MODULE_1__.EventsTicker.pauseUpdate = false;
    }
    if (currentTarget.interactiveChildren && currentTarget.children) {
      const children = currentTarget.children;
      for (let i = children.length - 1; i >= 0; i--) {
        const child = children[i];
        const nestedHit = this.hitTestRecursive(child, this._isInteractive(eventMode) ? eventMode : child.eventMode, location, testFn, pruneFn);
        if (nestedHit) {
          if (nestedHit.length > 0 && !nestedHit[nestedHit.length - 1].parent) {
            continue;
          }
          const isInteractive = currentTarget.isInteractive();
          if (nestedHit.length > 0 || isInteractive)
            nestedHit.push(currentTarget);
          return nestedHit;
        }
      }
    }
    const isInteractiveMode = this._isInteractive(eventMode);
    const isInteractiveTarget = currentTarget.isInteractive();
    if (isInteractiveMode && testFn(currentTarget, location)) {
      return isInteractiveTarget ? [currentTarget] : [];
    }
    return null;
  }
  _isInteractive(int) {
    return int === "static" || int === "dynamic";
  }
  _interactivePrune(displayObject) {
    if (!displayObject || displayObject.isMask || !displayObject.visible || !displayObject.renderable) {
      return true;
    }
    if (displayObject.eventMode === "none") {
      return true;
    }
    if (displayObject.eventMode === "passive" && !displayObject.interactiveChildren) {
      return true;
    }
    if (displayObject.isMask) {
      return true;
    }
    return false;
  }
  hitPruneFn(displayObject, location) {
    if (displayObject.hitArea) {
      displayObject.worldTransform.applyInverse(location, tempLocalMapping);
      if (!displayObject.hitArea.contains(tempLocalMapping.x, tempLocalMapping.y)) {
        return true;
      }
    }
    if (displayObject._mask) {
      const maskObject = displayObject._mask.isMaskData ? displayObject._mask.maskObject : displayObject._mask;
      if (maskObject && !maskObject.containsPoint?.(location)) {
        return true;
      }
    }
    return false;
  }
  hitTestFn(displayObject, location) {
    if (displayObject.eventMode === "passive") {
      return false;
    }
    if (displayObject.hitArea) {
      return true;
    }
    if (displayObject.containsPoint) {
      return displayObject.containsPoint(location);
    }
    return false;
  }
  notifyTarget(e, type) {
    type = type ?? e.type;
    const handlerKey = `on${type}`;
    e.currentTarget[handlerKey]?.(e);
    const key = e.eventPhase === e.CAPTURING_PHASE || e.eventPhase === e.AT_TARGET ? `${type}capture` : type;
    this.notifyListeners(e, key);
    if (e.eventPhase === e.AT_TARGET) {
      this.notifyListeners(e, type);
    }
  }
  mapPointerDown(from) {
    if (!(from instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_3__.FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const e = this.createPointerEvent(from);
    this.dispatchEvent(e, "pointerdown");
    if (e.pointerType === "touch") {
      this.dispatchEvent(e, "touchstart");
    } else if (e.pointerType === "mouse" || e.pointerType === "pen") {
      const isRightButton = e.button === 2;
      this.dispatchEvent(e, isRightButton ? "rightdown" : "mousedown");
    }
    const trackingData = this.trackingData(from.pointerId);
    trackingData.pressTargetsByButton[from.button] = e.composedPath();
    this.freeEvent(e);
  }
  mapPointerMove(from) {
    if (!(from instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_3__.FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    this._allInteractiveElements.length = 0;
    this._hitElements.length = 0;
    this._isPointerMoveEvent = true;
    const e = this.createPointerEvent(from);
    this._isPointerMoveEvent = false;
    const isMouse = e.pointerType === "mouse" || e.pointerType === "pen";
    const trackingData = this.trackingData(from.pointerId);
    const outTarget = this.findMountedTarget(trackingData.overTargets);
    if (trackingData.overTargets?.length > 0 && outTarget !== e.target) {
      const outType = from.type === "mousemove" ? "mouseout" : "pointerout";
      const outEvent = this.createPointerEvent(from, outType, outTarget);
      this.dispatchEvent(outEvent, "pointerout");
      if (isMouse)
        this.dispatchEvent(outEvent, "mouseout");
      if (!e.composedPath().includes(outTarget)) {
        const leaveEvent = this.createPointerEvent(from, "pointerleave", outTarget);
        leaveEvent.eventPhase = leaveEvent.AT_TARGET;
        while (leaveEvent.target && !e.composedPath().includes(leaveEvent.target)) {
          leaveEvent.currentTarget = leaveEvent.target;
          this.notifyTarget(leaveEvent);
          if (isMouse)
            this.notifyTarget(leaveEvent, "mouseleave");
          leaveEvent.target = leaveEvent.target.parent;
        }
        this.freeEvent(leaveEvent);
      }
      this.freeEvent(outEvent);
    }
    if (outTarget !== e.target) {
      const overType = from.type === "mousemove" ? "mouseover" : "pointerover";
      const overEvent = this.clonePointerEvent(e, overType);
      this.dispatchEvent(overEvent, "pointerover");
      if (isMouse)
        this.dispatchEvent(overEvent, "mouseover");
      let overTargetAncestor = outTarget?.parent;
      while (overTargetAncestor && overTargetAncestor !== this.rootTarget.parent) {
        if (overTargetAncestor === e.target)
          break;
        overTargetAncestor = overTargetAncestor.parent;
      }
      const didPointerEnter = !overTargetAncestor || overTargetAncestor === this.rootTarget.parent;
      if (didPointerEnter) {
        const enterEvent = this.clonePointerEvent(e, "pointerenter");
        enterEvent.eventPhase = enterEvent.AT_TARGET;
        while (enterEvent.target && enterEvent.target !== outTarget && enterEvent.target !== this.rootTarget.parent) {
          enterEvent.currentTarget = enterEvent.target;
          this.notifyTarget(enterEvent);
          if (isMouse)
            this.notifyTarget(enterEvent, "mouseenter");
          enterEvent.target = enterEvent.target.parent;
        }
        this.freeEvent(enterEvent);
      }
      this.freeEvent(overEvent);
    }
    const allMethods = [];
    const allowGlobalPointerEvents = this.enableGlobalMoveEvents ?? true;
    this.moveOnAll ? allMethods.push("pointermove") : this.dispatchEvent(e, "pointermove");
    allowGlobalPointerEvents && allMethods.push("globalpointermove");
    if (e.pointerType === "touch") {
      this.moveOnAll ? allMethods.splice(1, 0, "touchmove") : this.dispatchEvent(e, "touchmove");
      allowGlobalPointerEvents && allMethods.push("globaltouchmove");
    }
    if (isMouse) {
      this.moveOnAll ? allMethods.splice(1, 0, "mousemove") : this.dispatchEvent(e, "mousemove");
      allowGlobalPointerEvents && allMethods.push("globalmousemove");
      this.cursor = e.target?.cursor;
    }
    if (allMethods.length > 0) {
      this.all(e, allMethods);
    }
    this._allInteractiveElements.length = 0;
    this._hitElements.length = 0;
    trackingData.overTargets = e.composedPath();
    this.freeEvent(e);
  }
  mapPointerOver(from) {
    if (!(from instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_3__.FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const trackingData = this.trackingData(from.pointerId);
    const e = this.createPointerEvent(from);
    const isMouse = e.pointerType === "mouse" || e.pointerType === "pen";
    this.dispatchEvent(e, "pointerover");
    if (isMouse)
      this.dispatchEvent(e, "mouseover");
    if (e.pointerType === "mouse")
      this.cursor = e.target?.cursor;
    const enterEvent = this.clonePointerEvent(e, "pointerenter");
    enterEvent.eventPhase = enterEvent.AT_TARGET;
    while (enterEvent.target && enterEvent.target !== this.rootTarget.parent) {
      enterEvent.currentTarget = enterEvent.target;
      this.notifyTarget(enterEvent);
      if (isMouse)
        this.notifyTarget(enterEvent, "mouseenter");
      enterEvent.target = enterEvent.target.parent;
    }
    trackingData.overTargets = e.composedPath();
    this.freeEvent(e);
    this.freeEvent(enterEvent);
  }
  mapPointerOut(from) {
    if (!(from instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_3__.FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const trackingData = this.trackingData(from.pointerId);
    if (trackingData.overTargets) {
      const isMouse = from.pointerType === "mouse" || from.pointerType === "pen";
      const outTarget = this.findMountedTarget(trackingData.overTargets);
      const outEvent = this.createPointerEvent(from, "pointerout", outTarget);
      this.dispatchEvent(outEvent);
      if (isMouse)
        this.dispatchEvent(outEvent, "mouseout");
      const leaveEvent = this.createPointerEvent(from, "pointerleave", outTarget);
      leaveEvent.eventPhase = leaveEvent.AT_TARGET;
      while (leaveEvent.target && leaveEvent.target !== this.rootTarget.parent) {
        leaveEvent.currentTarget = leaveEvent.target;
        this.notifyTarget(leaveEvent);
        if (isMouse)
          this.notifyTarget(leaveEvent, "mouseleave");
        leaveEvent.target = leaveEvent.target.parent;
      }
      trackingData.overTargets = null;
      this.freeEvent(outEvent);
      this.freeEvent(leaveEvent);
    }
    this.cursor = null;
  }
  mapPointerUp(from) {
    if (!(from instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_3__.FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const now = performance.now();
    const e = this.createPointerEvent(from);
    this.dispatchEvent(e, "pointerup");
    if (e.pointerType === "touch") {
      this.dispatchEvent(e, "touchend");
    } else if (e.pointerType === "mouse" || e.pointerType === "pen") {
      const isRightButton = e.button === 2;
      this.dispatchEvent(e, isRightButton ? "rightup" : "mouseup");
    }
    const trackingData = this.trackingData(from.pointerId);
    const pressTarget = this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);
    let clickTarget = pressTarget;
    if (pressTarget && !e.composedPath().includes(pressTarget)) {
      let currentTarget = pressTarget;
      while (currentTarget && !e.composedPath().includes(currentTarget)) {
        e.currentTarget = currentTarget;
        this.notifyTarget(e, "pointerupoutside");
        if (e.pointerType === "touch") {
          this.notifyTarget(e, "touchendoutside");
        } else if (e.pointerType === "mouse" || e.pointerType === "pen") {
          const isRightButton = e.button === 2;
          this.notifyTarget(e, isRightButton ? "rightupoutside" : "mouseupoutside");
        }
        currentTarget = currentTarget.parent;
      }
      delete trackingData.pressTargetsByButton[from.button];
      clickTarget = currentTarget;
    }
    if (clickTarget) {
      const clickEvent = this.clonePointerEvent(e, "click");
      clickEvent.target = clickTarget;
      clickEvent.path = null;
      if (!trackingData.clicksByButton[from.button]) {
        trackingData.clicksByButton[from.button] = {
          clickCount: 0,
          target: clickEvent.target,
          timeStamp: now
        };
      }
      const clickHistory = trackingData.clicksByButton[from.button];
      if (clickHistory.target === clickEvent.target && now - clickHistory.timeStamp < 200) {
        ++clickHistory.clickCount;
      } else {
        clickHistory.clickCount = 1;
      }
      clickHistory.target = clickEvent.target;
      clickHistory.timeStamp = now;
      clickEvent.detail = clickHistory.clickCount;
      if (clickEvent.pointerType === "mouse") {
        const isRightButton = clickEvent.button === 2;
        this.dispatchEvent(clickEvent, isRightButton ? "rightclick" : "click");
      } else if (clickEvent.pointerType === "touch") {
        this.dispatchEvent(clickEvent, "tap");
      }
      this.dispatchEvent(clickEvent, "pointertap");
      this.freeEvent(clickEvent);
    }
    this.freeEvent(e);
  }
  mapPointerUpOutside(from) {
    if (!(from instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_3__.FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const trackingData = this.trackingData(from.pointerId);
    const pressTarget = this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);
    const e = this.createPointerEvent(from);
    if (pressTarget) {
      let currentTarget = pressTarget;
      while (currentTarget) {
        e.currentTarget = currentTarget;
        this.notifyTarget(e, "pointerupoutside");
        if (e.pointerType === "touch") {
          this.notifyTarget(e, "touchendoutside");
        } else if (e.pointerType === "mouse" || e.pointerType === "pen") {
          this.notifyTarget(e, e.button === 2 ? "rightupoutside" : "mouseupoutside");
        }
        currentTarget = currentTarget.parent;
      }
      delete trackingData.pressTargetsByButton[from.button];
    }
    this.freeEvent(e);
  }
  mapWheel(from) {
    if (!(from instanceof _FederatedWheelEvent_mjs__WEBPACK_IMPORTED_MODULE_4__.FederatedWheelEvent)) {
      console.warn("EventBoundary cannot map a non-wheel event as a wheel event");
      return;
    }
    const wheelEvent = this.createWheelEvent(from);
    this.dispatchEvent(wheelEvent);
    this.freeEvent(wheelEvent);
  }
  findMountedTarget(propagationPath) {
    if (!propagationPath) {
      return null;
    }
    let currentTarget = propagationPath[0];
    for (let i = 1; i < propagationPath.length; i++) {
      if (propagationPath[i].parent === currentTarget) {
        currentTarget = propagationPath[i];
      } else {
        break;
      }
    }
    return currentTarget;
  }
  createPointerEvent(from, type, target) {
    const event = this.allocateEvent(_FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_3__.FederatedPointerEvent);
    this.copyPointerData(from, event);
    this.copyMouseData(from, event);
    this.copyData(from, event);
    event.nativeEvent = from.nativeEvent;
    event.originalEvent = from;
    event.target = target ?? this.hitTest(event.global.x, event.global.y) ?? this._hitElements[0];
    if (typeof type === "string") {
      event.type = type;
    }
    return event;
  }
  createWheelEvent(from) {
    const event = this.allocateEvent(_FederatedWheelEvent_mjs__WEBPACK_IMPORTED_MODULE_4__.FederatedWheelEvent);
    this.copyWheelData(from, event);
    this.copyMouseData(from, event);
    this.copyData(from, event);
    event.nativeEvent = from.nativeEvent;
    event.originalEvent = from;
    event.target = this.hitTest(event.global.x, event.global.y);
    return event;
  }
  clonePointerEvent(from, type) {
    const event = this.allocateEvent(_FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_3__.FederatedPointerEvent);
    event.nativeEvent = from.nativeEvent;
    event.originalEvent = from.originalEvent;
    this.copyPointerData(from, event);
    this.copyMouseData(from, event);
    this.copyData(from, event);
    event.target = from.target;
    event.path = from.composedPath().slice();
    event.type = type ?? event.type;
    return event;
  }
  copyWheelData(from, to) {
    to.deltaMode = from.deltaMode;
    to.deltaX = from.deltaX;
    to.deltaY = from.deltaY;
    to.deltaZ = from.deltaZ;
  }
  copyPointerData(from, to) {
    if (!(from instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_3__.FederatedPointerEvent && to instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_3__.FederatedPointerEvent))
      return;
    to.pointerId = from.pointerId;
    to.width = from.width;
    to.height = from.height;
    to.isPrimary = from.isPrimary;
    to.pointerType = from.pointerType;
    to.pressure = from.pressure;
    to.tangentialPressure = from.tangentialPressure;
    to.tiltX = from.tiltX;
    to.tiltY = from.tiltY;
    to.twist = from.twist;
  }
  copyMouseData(from, to) {
    if (!(from instanceof _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_2__.FederatedMouseEvent && to instanceof _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_2__.FederatedMouseEvent))
      return;
    to.altKey = from.altKey;
    to.button = from.button;
    to.buttons = from.buttons;
    to.client.copyFrom(from.client);
    to.ctrlKey = from.ctrlKey;
    to.metaKey = from.metaKey;
    to.movement.copyFrom(from.movement);
    to.screen.copyFrom(from.screen);
    to.shiftKey = from.shiftKey;
    to.global.copyFrom(from.global);
  }
  copyData(from, to) {
    to.isTrusted = from.isTrusted;
    to.srcElement = from.srcElement;
    to.timeStamp = performance.now();
    to.type = from.type;
    to.detail = from.detail;
    to.view = from.view;
    to.which = from.which;
    to.layer.copyFrom(from.layer);
    to.page.copyFrom(from.page);
  }
  trackingData(id) {
    if (!this.mappingState.trackingData[id]) {
      this.mappingState.trackingData[id] = {
        pressTargetsByButton: {},
        clicksByButton: {},
        overTarget: null
      };
    }
    return this.mappingState.trackingData[id];
  }
  allocateEvent(constructor) {
    if (!this.eventPool.has(constructor)) {
      this.eventPool.set(constructor, []);
    }
    const event = this.eventPool.get(constructor).pop() || new constructor(this);
    event.eventPhase = event.NONE;
    event.currentTarget = null;
    event.path = null;
    event.target = null;
    return event;
  }
  freeEvent(event) {
    if (event.manager !== this)
      throw new Error("It is illegal to free an event not managed by this EventBoundary!");
    const constructor = event.constructor;
    if (!this.eventPool.has(constructor)) {
      this.eventPool.set(constructor, []);
    }
    this.eventPool.get(constructor).push(event);
  }
  notifyListeners(e, type) {
    const listeners = e.currentTarget._events[type];
    if (!listeners)
      return;
    if (!e.currentTarget.isInteractive())
      return;
    if ("fn" in listeners) {
      if (listeners.once)
        e.currentTarget.removeListener(type, listeners.fn, void 0, true);
      listeners.fn.call(listeners.context, e);
    } else {
      for (let i = 0, j = listeners.length; i < j && !e.propagationImmediatelyStopped; i++) {
        if (listeners[i].once)
          e.currentTarget.removeListener(type, listeners[i].fn, void 0, true);
        listeners[i].fn.call(listeners[i].context, e);
      }
    }
  }
}


//# sourceMappingURL=EventBoundary.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/EventSystem.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/events/lib/EventSystem.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EventSystem: () => (/* binding */ EventSystem)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _EventBoundary_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EventBoundary.mjs */ "./node_modules/@pixi/events/lib/EventBoundary.mjs");
/* harmony import */ var _EventTicker_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EventTicker.mjs */ "./node_modules/@pixi/events/lib/EventTicker.mjs");
/* harmony import */ var _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FederatedPointerEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedPointerEvent.mjs");
/* harmony import */ var _FederatedWheelEvent_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FederatedWheelEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedWheelEvent.mjs");






const MOUSE_POINTER_ID = 1;
const TOUCH_TO_POINTER = {
  touchstart: "pointerdown",
  touchend: "pointerup",
  touchendoutside: "pointerupoutside",
  touchmove: "pointermove",
  touchcancel: "pointercancel"
};
const _EventSystem = class {
  constructor(renderer) {
    this.supportsTouchEvents = "ontouchstart" in globalThis;
    this.supportsPointerEvents = !!globalThis.PointerEvent;
    this.domElement = null;
    this.resolution = 1;
    this.renderer = renderer;
    this.rootBoundary = new _EventBoundary_mjs__WEBPACK_IMPORTED_MODULE_1__.EventBoundary(null);
    _EventTicker_mjs__WEBPACK_IMPORTED_MODULE_2__.EventsTicker.init(this);
    this.autoPreventDefault = true;
    this.eventsAdded = false;
    this.rootPointerEvent = new _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_3__.FederatedPointerEvent(null);
    this.rootWheelEvent = new _FederatedWheelEvent_mjs__WEBPACK_IMPORTED_MODULE_4__.FederatedWheelEvent(null);
    this.cursorStyles = {
      default: "inherit",
      pointer: "pointer"
    };
    this.features = new Proxy({ ..._EventSystem.defaultEventFeatures }, {
      set: (target, key, value) => {
        if (key === "globalMove") {
          this.rootBoundary.enableGlobalMoveEvents = value;
        }
        target[key] = value;
        return true;
      }
    });
    this.onPointerDown = this.onPointerDown.bind(this);
    this.onPointerMove = this.onPointerMove.bind(this);
    this.onPointerUp = this.onPointerUp.bind(this);
    this.onPointerOverOut = this.onPointerOverOut.bind(this);
    this.onWheel = this.onWheel.bind(this);
  }
  static get defaultEventMode() {
    return this._defaultEventMode;
  }
  init(options) {
    const { view, resolution } = this.renderer;
    this.setTargetElement(view);
    this.resolution = resolution;
    _EventSystem._defaultEventMode = options.eventMode ?? "auto";
    Object.assign(this.features, options.eventFeatures ?? {});
    this.rootBoundary.enableGlobalMoveEvents = this.features.globalMove;
  }
  resolutionChange(resolution) {
    this.resolution = resolution;
  }
  destroy() {
    this.setTargetElement(null);
    this.renderer = null;
  }
  setCursor(mode) {
    mode = mode || "default";
    let applyStyles = true;
    if (globalThis.OffscreenCanvas && this.domElement instanceof OffscreenCanvas) {
      applyStyles = false;
    }
    if (this.currentCursor === mode) {
      return;
    }
    this.currentCursor = mode;
    const style = this.cursorStyles[mode];
    if (style) {
      switch (typeof style) {
        case "string":
          if (applyStyles) {
            this.domElement.style.cursor = style;
          }
          break;
        case "function":
          style(mode);
          break;
        case "object":
          if (applyStyles) {
            Object.assign(this.domElement.style, style);
          }
          break;
      }
    } else if (applyStyles && typeof mode === "string" && !Object.prototype.hasOwnProperty.call(this.cursorStyles, mode)) {
      this.domElement.style.cursor = mode;
    }
  }
  get pointer() {
    return this.rootPointerEvent;
  }
  onPointerDown(nativeEvent) {
    if (!this.features.click)
      return;
    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
    if (this.supportsTouchEvents && nativeEvent.pointerType === "touch")
      return;
    const events = this.normalizeToPointerData(nativeEvent);
    if (this.autoPreventDefault && events[0].isNormalized) {
      const cancelable = nativeEvent.cancelable || !("cancelable" in nativeEvent);
      if (cancelable) {
        nativeEvent.preventDefault();
      }
    }
    for (let i = 0, j = events.length; i < j; i++) {
      const nativeEvent2 = events[i];
      const federatedEvent = this.bootstrapEvent(this.rootPointerEvent, nativeEvent2);
      this.rootBoundary.mapEvent(federatedEvent);
    }
    this.setCursor(this.rootBoundary.cursor);
  }
  onPointerMove(nativeEvent) {
    if (!this.features.move)
      return;
    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
    if (this.supportsTouchEvents && nativeEvent.pointerType === "touch")
      return;
    _EventTicker_mjs__WEBPACK_IMPORTED_MODULE_2__.EventsTicker.pointerMoved();
    const normalizedEvents = this.normalizeToPointerData(nativeEvent);
    for (let i = 0, j = normalizedEvents.length; i < j; i++) {
      const event = this.bootstrapEvent(this.rootPointerEvent, normalizedEvents[i]);
      this.rootBoundary.mapEvent(event);
    }
    this.setCursor(this.rootBoundary.cursor);
  }
  onPointerUp(nativeEvent) {
    if (!this.features.click)
      return;
    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
    if (this.supportsTouchEvents && nativeEvent.pointerType === "touch")
      return;
    let target = nativeEvent.target;
    if (nativeEvent.composedPath && nativeEvent.composedPath().length > 0) {
      target = nativeEvent.composedPath()[0];
    }
    const outside = target !== this.domElement ? "outside" : "";
    const normalizedEvents = this.normalizeToPointerData(nativeEvent);
    for (let i = 0, j = normalizedEvents.length; i < j; i++) {
      const event = this.bootstrapEvent(this.rootPointerEvent, normalizedEvents[i]);
      event.type += outside;
      this.rootBoundary.mapEvent(event);
    }
    this.setCursor(this.rootBoundary.cursor);
  }
  onPointerOverOut(nativeEvent) {
    if (!this.features.click)
      return;
    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
    if (this.supportsTouchEvents && nativeEvent.pointerType === "touch")
      return;
    const normalizedEvents = this.normalizeToPointerData(nativeEvent);
    for (let i = 0, j = normalizedEvents.length; i < j; i++) {
      const event = this.bootstrapEvent(this.rootPointerEvent, normalizedEvents[i]);
      this.rootBoundary.mapEvent(event);
    }
    this.setCursor(this.rootBoundary.cursor);
  }
  onWheel(nativeEvent) {
    if (!this.features.wheel)
      return;
    const wheelEvent = this.normalizeWheelEvent(nativeEvent);
    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
    this.rootBoundary.mapEvent(wheelEvent);
  }
  setTargetElement(element) {
    this.removeEvents();
    this.domElement = element;
    _EventTicker_mjs__WEBPACK_IMPORTED_MODULE_2__.EventsTicker.domElement = element;
    this.addEvents();
  }
  addEvents() {
    if (this.eventsAdded || !this.domElement) {
      return;
    }
    _EventTicker_mjs__WEBPACK_IMPORTED_MODULE_2__.EventsTicker.addTickerListener();
    const style = this.domElement.style;
    if (style) {
      if (globalThis.navigator.msPointerEnabled) {
        style.msContentZooming = "none";
        style.msTouchAction = "none";
      } else if (this.supportsPointerEvents) {
        style.touchAction = "none";
      }
    }
    if (this.supportsPointerEvents) {
      globalThis.document.addEventListener("pointermove", this.onPointerMove, true);
      this.domElement.addEventListener("pointerdown", this.onPointerDown, true);
      this.domElement.addEventListener("pointerleave", this.onPointerOverOut, true);
      this.domElement.addEventListener("pointerover", this.onPointerOverOut, true);
      globalThis.addEventListener("pointerup", this.onPointerUp, true);
    } else {
      globalThis.document.addEventListener("mousemove", this.onPointerMove, true);
      this.domElement.addEventListener("mousedown", this.onPointerDown, true);
      this.domElement.addEventListener("mouseout", this.onPointerOverOut, true);
      this.domElement.addEventListener("mouseover", this.onPointerOverOut, true);
      globalThis.addEventListener("mouseup", this.onPointerUp, true);
    }
    if (this.supportsTouchEvents) {
      this.domElement.addEventListener("touchstart", this.onPointerDown, true);
      this.domElement.addEventListener("touchend", this.onPointerUp, true);
      this.domElement.addEventListener("touchmove", this.onPointerMove, true);
    }
    this.domElement.addEventListener("wheel", this.onWheel, {
      passive: true,
      capture: true
    });
    this.eventsAdded = true;
  }
  removeEvents() {
    if (!this.eventsAdded || !this.domElement) {
      return;
    }
    _EventTicker_mjs__WEBPACK_IMPORTED_MODULE_2__.EventsTicker.removeTickerListener();
    const style = this.domElement.style;
    if (globalThis.navigator.msPointerEnabled) {
      style.msContentZooming = "";
      style.msTouchAction = "";
    } else if (this.supportsPointerEvents) {
      style.touchAction = "";
    }
    if (this.supportsPointerEvents) {
      globalThis.document.removeEventListener("pointermove", this.onPointerMove, true);
      this.domElement.removeEventListener("pointerdown", this.onPointerDown, true);
      this.domElement.removeEventListener("pointerleave", this.onPointerOverOut, true);
      this.domElement.removeEventListener("pointerover", this.onPointerOverOut, true);
      globalThis.removeEventListener("pointerup", this.onPointerUp, true);
    } else {
      globalThis.document.removeEventListener("mousemove", this.onPointerMove, true);
      this.domElement.removeEventListener("mousedown", this.onPointerDown, true);
      this.domElement.removeEventListener("mouseout", this.onPointerOverOut, true);
      this.domElement.removeEventListener("mouseover", this.onPointerOverOut, true);
      globalThis.removeEventListener("mouseup", this.onPointerUp, true);
    }
    if (this.supportsTouchEvents) {
      this.domElement.removeEventListener("touchstart", this.onPointerDown, true);
      this.domElement.removeEventListener("touchend", this.onPointerUp, true);
      this.domElement.removeEventListener("touchmove", this.onPointerMove, true);
    }
    this.domElement.removeEventListener("wheel", this.onWheel, true);
    this.domElement = null;
    this.eventsAdded = false;
  }
  mapPositionToPoint(point, x, y) {
    let rect;
    if (!this.domElement.parentElement) {
      rect = {
        x: 0,
        y: 0,
        width: this.domElement.width,
        height: this.domElement.height,
        left: 0,
        top: 0
      };
    } else {
      rect = this.domElement.getBoundingClientRect();
    }
    const resolutionMultiplier = 1 / this.resolution;
    point.x = (x - rect.left) * (this.domElement.width / rect.width) * resolutionMultiplier;
    point.y = (y - rect.top) * (this.domElement.height / rect.height) * resolutionMultiplier;
  }
  normalizeToPointerData(event) {
    const normalizedEvents = [];
    if (this.supportsTouchEvents && event instanceof TouchEvent) {
      for (let i = 0, li = event.changedTouches.length; i < li; i++) {
        const touch = event.changedTouches[i];
        if (typeof touch.button === "undefined")
          touch.button = 0;
        if (typeof touch.buttons === "undefined")
          touch.buttons = 1;
        if (typeof touch.isPrimary === "undefined") {
          touch.isPrimary = event.touches.length === 1 && event.type === "touchstart";
        }
        if (typeof touch.width === "undefined")
          touch.width = touch.radiusX || 1;
        if (typeof touch.height === "undefined")
          touch.height = touch.radiusY || 1;
        if (typeof touch.tiltX === "undefined")
          touch.tiltX = 0;
        if (typeof touch.tiltY === "undefined")
          touch.tiltY = 0;
        if (typeof touch.pointerType === "undefined")
          touch.pointerType = "touch";
        if (typeof touch.pointerId === "undefined")
          touch.pointerId = touch.identifier || 0;
        if (typeof touch.pressure === "undefined")
          touch.pressure = touch.force || 0.5;
        if (typeof touch.twist === "undefined")
          touch.twist = 0;
        if (typeof touch.tangentialPressure === "undefined")
          touch.tangentialPressure = 0;
        if (typeof touch.layerX === "undefined")
          touch.layerX = touch.offsetX = touch.clientX;
        if (typeof touch.layerY === "undefined")
          touch.layerY = touch.offsetY = touch.clientY;
        touch.isNormalized = true;
        touch.type = event.type;
        normalizedEvents.push(touch);
      }
    } else if (!globalThis.MouseEvent || event instanceof MouseEvent && (!this.supportsPointerEvents || !(event instanceof globalThis.PointerEvent))) {
      const tempEvent = event;
      if (typeof tempEvent.isPrimary === "undefined")
        tempEvent.isPrimary = true;
      if (typeof tempEvent.width === "undefined")
        tempEvent.width = 1;
      if (typeof tempEvent.height === "undefined")
        tempEvent.height = 1;
      if (typeof tempEvent.tiltX === "undefined")
        tempEvent.tiltX = 0;
      if (typeof tempEvent.tiltY === "undefined")
        tempEvent.tiltY = 0;
      if (typeof tempEvent.pointerType === "undefined")
        tempEvent.pointerType = "mouse";
      if (typeof tempEvent.pointerId === "undefined")
        tempEvent.pointerId = MOUSE_POINTER_ID;
      if (typeof tempEvent.pressure === "undefined")
        tempEvent.pressure = 0.5;
      if (typeof tempEvent.twist === "undefined")
        tempEvent.twist = 0;
      if (typeof tempEvent.tangentialPressure === "undefined")
        tempEvent.tangentialPressure = 0;
      tempEvent.isNormalized = true;
      normalizedEvents.push(tempEvent);
    } else {
      normalizedEvents.push(event);
    }
    return normalizedEvents;
  }
  normalizeWheelEvent(nativeEvent) {
    const event = this.rootWheelEvent;
    this.transferMouseData(event, nativeEvent);
    event.deltaX = nativeEvent.deltaX;
    event.deltaY = nativeEvent.deltaY;
    event.deltaZ = nativeEvent.deltaZ;
    event.deltaMode = nativeEvent.deltaMode;
    this.mapPositionToPoint(event.screen, nativeEvent.clientX, nativeEvent.clientY);
    event.global.copyFrom(event.screen);
    event.offset.copyFrom(event.screen);
    event.nativeEvent = nativeEvent;
    event.type = nativeEvent.type;
    return event;
  }
  bootstrapEvent(event, nativeEvent) {
    event.originalEvent = null;
    event.nativeEvent = nativeEvent;
    event.pointerId = nativeEvent.pointerId;
    event.width = nativeEvent.width;
    event.height = nativeEvent.height;
    event.isPrimary = nativeEvent.isPrimary;
    event.pointerType = nativeEvent.pointerType;
    event.pressure = nativeEvent.pressure;
    event.tangentialPressure = nativeEvent.tangentialPressure;
    event.tiltX = nativeEvent.tiltX;
    event.tiltY = nativeEvent.tiltY;
    event.twist = nativeEvent.twist;
    this.transferMouseData(event, nativeEvent);
    this.mapPositionToPoint(event.screen, nativeEvent.clientX, nativeEvent.clientY);
    event.global.copyFrom(event.screen);
    event.offset.copyFrom(event.screen);
    event.isTrusted = nativeEvent.isTrusted;
    if (event.type === "pointerleave") {
      event.type = "pointerout";
    }
    if (event.type.startsWith("mouse")) {
      event.type = event.type.replace("mouse", "pointer");
    }
    if (event.type.startsWith("touch")) {
      event.type = TOUCH_TO_POINTER[event.type] || event.type;
    }
    return event;
  }
  transferMouseData(event, nativeEvent) {
    event.isTrusted = nativeEvent.isTrusted;
    event.srcElement = nativeEvent.srcElement;
    event.timeStamp = performance.now();
    event.type = nativeEvent.type;
    event.altKey = nativeEvent.altKey;
    event.button = nativeEvent.button;
    event.buttons = nativeEvent.buttons;
    event.client.x = nativeEvent.clientX;
    event.client.y = nativeEvent.clientY;
    event.ctrlKey = nativeEvent.ctrlKey;
    event.metaKey = nativeEvent.metaKey;
    event.movement.x = nativeEvent.movementX;
    event.movement.y = nativeEvent.movementY;
    event.page.x = nativeEvent.pageX;
    event.page.y = nativeEvent.pageY;
    event.relatedTarget = null;
    event.shiftKey = nativeEvent.shiftKey;
  }
};
let EventSystem = _EventSystem;
EventSystem.extension = {
  name: "events",
  type: [
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.CanvasRendererSystem
  ]
};
EventSystem.defaultEventFeatures = {
  move: true,
  globalMove: true,
  click: true,
  wheel: true
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(EventSystem);


//# sourceMappingURL=EventSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/EventTicker.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/events/lib/EventTicker.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EventsTicker: () => (/* binding */ EventsTicker)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


class EventsTickerClass {
  constructor() {
    this.interactionFrequency = 10;
    this._deltaTime = 0;
    this._didMove = false;
    this.tickerAdded = false;
    this._pauseUpdate = true;
  }
  init(events) {
    this.removeTickerListener();
    this.events = events;
    this.interactionFrequency = 10;
    this._deltaTime = 0;
    this._didMove = false;
    this.tickerAdded = false;
    this._pauseUpdate = true;
  }
  get pauseUpdate() {
    return this._pauseUpdate;
  }
  set pauseUpdate(paused) {
    this._pauseUpdate = paused;
  }
  addTickerListener() {
    if (this.tickerAdded || !this.domElement) {
      return;
    }
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Ticker.system.add(this.tickerUpdate, this, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.UPDATE_PRIORITY.INTERACTION);
    this.tickerAdded = true;
  }
  removeTickerListener() {
    if (!this.tickerAdded) {
      return;
    }
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Ticker.system.remove(this.tickerUpdate, this);
    this.tickerAdded = false;
  }
  pointerMoved() {
    this._didMove = true;
  }
  update() {
    if (!this.domElement || this._pauseUpdate) {
      return;
    }
    if (this._didMove) {
      this._didMove = false;
      return;
    }
    const rootPointerEvent = this.events["rootPointerEvent"];
    if (this.events.supportsTouchEvents && rootPointerEvent.pointerType === "touch") {
      return;
    }
    globalThis.document.dispatchEvent(new PointerEvent("pointermove", {
      clientX: rootPointerEvent.clientX,
      clientY: rootPointerEvent.clientY
    }));
  }
  tickerUpdate(deltaTime) {
    this._deltaTime += deltaTime;
    if (this._deltaTime < this.interactionFrequency) {
      return;
    }
    this._deltaTime = 0;
    this.update();
  }
}
const EventsTicker = new EventsTickerClass();


//# sourceMappingURL=EventTicker.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/FederatedEvent.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/events/lib/FederatedEvent.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FederatedEvent: () => (/* binding */ FederatedEvent)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


class FederatedEvent {
  constructor(manager) {
    this.bubbles = true;
    this.cancelBubble = true;
    this.cancelable = false;
    this.composed = false;
    this.defaultPrevented = false;
    this.eventPhase = FederatedEvent.prototype.NONE;
    this.propagationStopped = false;
    this.propagationImmediatelyStopped = false;
    this.layer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
    this.page = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
    this.NONE = 0;
    this.CAPTURING_PHASE = 1;
    this.AT_TARGET = 2;
    this.BUBBLING_PHASE = 3;
    this.manager = manager;
  }
  get layerX() {
    return this.layer.x;
  }
  get layerY() {
    return this.layer.y;
  }
  get pageX() {
    return this.page.x;
  }
  get pageY() {
    return this.page.y;
  }
  get data() {
    return this;
  }
  composedPath() {
    if (this.manager && (!this.path || this.path[this.path.length - 1] !== this.target)) {
      this.path = this.target ? this.manager.propagationPath(this.target) : [];
    }
    return this.path;
  }
  initEvent(_type, _bubbles, _cancelable) {
    throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.");
  }
  initUIEvent(_typeArg, _bubblesArg, _cancelableArg, _viewArg, _detailArg) {
    throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.");
  }
  preventDefault() {
    if (this.nativeEvent instanceof Event && this.nativeEvent.cancelable) {
      this.nativeEvent.preventDefault();
    }
    this.defaultPrevented = true;
  }
  stopImmediatePropagation() {
    this.propagationImmediatelyStopped = true;
  }
  stopPropagation() {
    this.propagationStopped = true;
  }
}


//# sourceMappingURL=FederatedEvent.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/FederatedEventMap.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/events/lib/FederatedEventMap.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=FederatedEventMap.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/FederatedEventTarget.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/events/lib/FederatedEventTarget.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FederatedDisplayObject: () => (/* binding */ FederatedDisplayObject)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _EventSystem_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EventSystem.mjs */ "./node_modules/@pixi/events/lib/EventSystem.mjs");
/* harmony import */ var _FederatedEvent_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FederatedEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedEvent.mjs");





function convertEventModeToInteractiveMode(mode) {
  return mode === "dynamic" || mode === "static";
}
const FederatedDisplayObject = {
  onclick: null,
  onmousedown: null,
  onmouseenter: null,
  onmouseleave: null,
  onmousemove: null,
  onglobalmousemove: null,
  onmouseout: null,
  onmouseover: null,
  onmouseup: null,
  onmouseupoutside: null,
  onpointercancel: null,
  onpointerdown: null,
  onpointerenter: null,
  onpointerleave: null,
  onpointermove: null,
  onglobalpointermove: null,
  onpointerout: null,
  onpointerover: null,
  onpointertap: null,
  onpointerup: null,
  onpointerupoutside: null,
  onrightclick: null,
  onrightdown: null,
  onrightup: null,
  onrightupoutside: null,
  ontap: null,
  ontouchcancel: null,
  ontouchend: null,
  ontouchendoutside: null,
  ontouchmove: null,
  onglobaltouchmove: null,
  ontouchstart: null,
  onwheel: null,
  _internalInteractive: void 0,
  get interactive() {
    return this._internalInteractive ?? convertEventModeToInteractiveMode(_EventSystem_mjs__WEBPACK_IMPORTED_MODULE_2__.EventSystem.defaultEventMode);
  },
  set interactive(value) {
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.deprecation("7.2.0", `Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead.`);
    this._internalInteractive = value;
    this.eventMode = value ? "static" : "auto";
  },
  _internalEventMode: void 0,
  get eventMode() {
    return this._internalEventMode ?? _EventSystem_mjs__WEBPACK_IMPORTED_MODULE_2__.EventSystem.defaultEventMode;
  },
  set eventMode(value) {
    this._internalInteractive = convertEventModeToInteractiveMode(value);
    this._internalEventMode = value;
  },
  isInteractive() {
    return this.eventMode === "static" || this.eventMode === "dynamic";
  },
  interactiveChildren: true,
  hitArea: null,
  addEventListener(type, listener, options) {
    const capture = typeof options === "boolean" && options || typeof options === "object" && options.capture;
    const context = typeof listener === "function" ? void 0 : listener;
    type = capture ? `${type}capture` : type;
    listener = typeof listener === "function" ? listener : listener.handleEvent;
    this.on(type, listener, context);
  },
  removeEventListener(type, listener, options) {
    const capture = typeof options === "boolean" && options || typeof options === "object" && options.capture;
    const context = typeof listener === "function" ? void 0 : listener;
    type = capture ? `${type}capture` : type;
    listener = typeof listener === "function" ? listener : listener.handleEvent;
    this.off(type, listener, context);
  },
  dispatchEvent(e) {
    if (!(e instanceof _FederatedEvent_mjs__WEBPACK_IMPORTED_MODULE_3__.FederatedEvent)) {
      throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");
    }
    e.defaultPrevented = false;
    e.path = null;
    e.target = this;
    e.manager.dispatchEvent(e);
    return !e.defaultPrevented;
  }
};
_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.mixin(FederatedDisplayObject);


//# sourceMappingURL=FederatedEventTarget.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/FederatedMouseEvent.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/events/lib/FederatedMouseEvent.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FederatedMouseEvent: () => (/* binding */ FederatedMouseEvent)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _FederatedEvent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FederatedEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedEvent.mjs");



class FederatedMouseEvent extends _FederatedEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.FederatedEvent {
  constructor() {
    super(...arguments);
    this.client = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
    this.movement = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
    this.offset = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
    this.global = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
    this.screen = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
  }
  get clientX() {
    return this.client.x;
  }
  get clientY() {
    return this.client.y;
  }
  get x() {
    return this.clientX;
  }
  get y() {
    return this.clientY;
  }
  get movementX() {
    return this.movement.x;
  }
  get movementY() {
    return this.movement.y;
  }
  get offsetX() {
    return this.offset.x;
  }
  get offsetY() {
    return this.offset.y;
  }
  get globalX() {
    return this.global.x;
  }
  get globalY() {
    return this.global.y;
  }
  get screenX() {
    return this.screen.x;
  }
  get screenY() {
    return this.screen.y;
  }
  getLocalPosition(displayObject, point, globalPos) {
    return displayObject.worldTransform.applyInverse(globalPos || this.global, point);
  }
  getModifierState(key) {
    return "getModifierState" in this.nativeEvent && this.nativeEvent.getModifierState(key);
  }
  initMouseEvent(_typeArg, _canBubbleArg, _cancelableArg, _viewArg, _detailArg, _screenXArg, _screenYArg, _clientXArg, _clientYArg, _ctrlKeyArg, _altKeyArg, _shiftKeyArg, _metaKeyArg, _buttonArg, _relatedTargetArg) {
    throw new Error("Method not implemented.");
  }
}


//# sourceMappingURL=FederatedMouseEvent.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/FederatedPointerEvent.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/events/lib/FederatedPointerEvent.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FederatedPointerEvent: () => (/* binding */ FederatedPointerEvent)
/* harmony export */ });
/* harmony import */ var _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FederatedMouseEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedMouseEvent.mjs");


class FederatedPointerEvent extends _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.FederatedMouseEvent {
  constructor() {
    super(...arguments);
    this.width = 0;
    this.height = 0;
    this.isPrimary = false;
  }
  getCoalescedEvents() {
    if (this.type === "pointermove" || this.type === "mousemove" || this.type === "touchmove") {
      return [this];
    }
    return [];
  }
  getPredictedEvents() {
    throw new Error("getPredictedEvents is not supported!");
  }
}


//# sourceMappingURL=FederatedPointerEvent.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/FederatedWheelEvent.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/events/lib/FederatedWheelEvent.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FederatedWheelEvent: () => (/* binding */ FederatedWheelEvent)
/* harmony export */ });
/* harmony import */ var _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FederatedMouseEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedMouseEvent.mjs");


class FederatedWheelEvent extends _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.FederatedMouseEvent {
  constructor() {
    super(...arguments);
    this.DOM_DELTA_PIXEL = 0;
    this.DOM_DELTA_LINE = 1;
    this.DOM_DELTA_PAGE = 2;
  }
}
FederatedWheelEvent.DOM_DELTA_PIXEL = 0;
FederatedWheelEvent.DOM_DELTA_LINE = 1;
FederatedWheelEvent.DOM_DELTA_PAGE = 2;


//# sourceMappingURL=FederatedWheelEvent.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/index.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/events/lib/index.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EventBoundary: () => (/* reexport safe */ _EventBoundary_mjs__WEBPACK_IMPORTED_MODULE_0__.EventBoundary),
/* harmony export */   EventSystem: () => (/* reexport safe */ _EventSystem_mjs__WEBPACK_IMPORTED_MODULE_1__.EventSystem),
/* harmony export */   FederatedDisplayObject: () => (/* reexport safe */ _FederatedEventTarget_mjs__WEBPACK_IMPORTED_MODULE_4__.FederatedDisplayObject),
/* harmony export */   FederatedEvent: () => (/* reexport safe */ _FederatedEvent_mjs__WEBPACK_IMPORTED_MODULE_2__.FederatedEvent),
/* harmony export */   FederatedMouseEvent: () => (/* reexport safe */ _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_5__.FederatedMouseEvent),
/* harmony export */   FederatedPointerEvent: () => (/* reexport safe */ _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_6__.FederatedPointerEvent),
/* harmony export */   FederatedWheelEvent: () => (/* reexport safe */ _FederatedWheelEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.FederatedWheelEvent)
/* harmony export */ });
/* harmony import */ var _EventBoundary_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventBoundary.mjs */ "./node_modules/@pixi/events/lib/EventBoundary.mjs");
/* harmony import */ var _EventSystem_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EventSystem.mjs */ "./node_modules/@pixi/events/lib/EventSystem.mjs");
/* harmony import */ var _FederatedEvent_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FederatedEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedEvent.mjs");
/* harmony import */ var _FederatedEventMap_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FederatedEventMap.mjs */ "./node_modules/@pixi/events/lib/FederatedEventMap.mjs");
/* harmony import */ var _FederatedEventTarget_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FederatedEventTarget.mjs */ "./node_modules/@pixi/events/lib/FederatedEventTarget.mjs");
/* harmony import */ var _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FederatedMouseEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedMouseEvent.mjs");
/* harmony import */ var _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FederatedPointerEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedPointerEvent.mjs");
/* harmony import */ var _FederatedWheelEvent_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FederatedWheelEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedWheelEvent.mjs");








//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/extensions/lib/index.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/extensions/lib/index.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExtensionType: () => (/* binding */ ExtensionType),
/* harmony export */   extensions: () => (/* binding */ extensions)
/* harmony export */ });
var ExtensionType = /* @__PURE__ */ ((ExtensionType2) => {
  ExtensionType2["Renderer"] = "renderer";
  ExtensionType2["Application"] = "application";
  ExtensionType2["RendererSystem"] = "renderer-webgl-system";
  ExtensionType2["RendererPlugin"] = "renderer-webgl-plugin";
  ExtensionType2["CanvasRendererSystem"] = "renderer-canvas-system";
  ExtensionType2["CanvasRendererPlugin"] = "renderer-canvas-plugin";
  ExtensionType2["Asset"] = "asset";
  ExtensionType2["LoadParser"] = "load-parser";
  ExtensionType2["ResolveParser"] = "resolve-parser";
  ExtensionType2["CacheParser"] = "cache-parser";
  ExtensionType2["DetectionParser"] = "detection-parser";
  return ExtensionType2;
})(ExtensionType || {});
const normalizeExtension = (ext) => {
  if (typeof ext === "function" || typeof ext === "object" && ext.extension) {
    if (!ext.extension) {
      throw new Error("Extension class must have an extension object");
    }
    const metadata = typeof ext.extension !== "object" ? { type: ext.extension } : ext.extension;
    ext = { ...metadata, ref: ext };
  }
  if (typeof ext === "object") {
    ext = { ...ext };
  } else {
    throw new Error("Invalid extension type");
  }
  if (typeof ext.type === "string") {
    ext.type = [ext.type];
  }
  return ext;
};
const normalizePriority = (ext, defaultPriority) => normalizeExtension(ext).priority ?? defaultPriority;
const extensions = {
  _addHandlers: {},
  _removeHandlers: {},
  _queue: {},
  remove(...extensions2) {
    extensions2.map(normalizeExtension).forEach((ext) => {
      ext.type.forEach((type) => this._removeHandlers[type]?.(ext));
    });
    return this;
  },
  add(...extensions2) {
    extensions2.map(normalizeExtension).forEach((ext) => {
      ext.type.forEach((type) => {
        const handlers = this._addHandlers;
        const queue = this._queue;
        if (!handlers[type]) {
          queue[type] = queue[type] || [];
          queue[type].push(ext);
        } else {
          handlers[type](ext);
        }
      });
    });
    return this;
  },
  handle(type, onAdd, onRemove) {
    const addHandlers = this._addHandlers;
    const removeHandlers = this._removeHandlers;
    if (addHandlers[type] || removeHandlers[type]) {
      throw new Error(`Extension type ${type} already has a handler`);
    }
    addHandlers[type] = onAdd;
    removeHandlers[type] = onRemove;
    const queue = this._queue;
    if (queue[type]) {
      queue[type].forEach((ext) => onAdd(ext));
      delete queue[type];
    }
    return this;
  },
  handleByMap(type, map) {
    return this.handle(type, (extension) => {
      map[extension.name] = extension.ref;
    }, (extension) => {
      delete map[extension.name];
    });
  },
  handleByList(type, list, defaultPriority = -1) {
    return this.handle(type, (extension) => {
      if (list.includes(extension.ref)) {
        return;
      }
      list.push(extension.ref);
      list.sort((a, b) => normalizePriority(b, defaultPriority) - normalizePriority(a, defaultPriority));
    }, (extension) => {
      const index = list.indexOf(extension.ref);
      if (index !== -1) {
        list.splice(index, 1);
      }
    });
  }
};


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/extract/lib/Extract.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/extract/lib/Extract.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Extract: () => (/* binding */ Extract)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const TEMP_RECT = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
const BYTES_PER_PIXEL = 4;
const _Extract = class {
  constructor(renderer) {
    this.renderer = renderer;
  }
  async image(target, format, quality) {
    const image = new Image();
    image.src = await this.base64(target, format, quality);
    return image;
  }
  async base64(target, format, quality) {
    const canvas = this.canvas(target);
    if (canvas.toBlob !== void 0) {
      return new Promise((resolve, reject) => {
        canvas.toBlob((blob) => {
          if (!blob) {
            reject(new Error("ICanvas.toBlob failed!"));
            return;
          }
          const reader = new FileReader();
          reader.onload = () => resolve(reader.result);
          reader.onerror = reject;
          reader.readAsDataURL(blob);
        }, format, quality);
      });
    }
    if (canvas.toDataURL !== void 0) {
      return canvas.toDataURL(format, quality);
    }
    if (canvas.convertToBlob !== void 0) {
      const blob = await canvas.convertToBlob({ type: format, quality });
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onload = () => resolve(reader.result);
        reader.onerror = reject;
        reader.readAsDataURL(blob);
      });
    }
    throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented");
  }
  canvas(target, frame) {
    const { pixels, width, height, flipY } = this._rawPixels(target, frame);
    if (flipY) {
      _Extract._flipY(pixels, width, height);
    }
    _Extract._unpremultiplyAlpha(pixels);
    const canvasBuffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.CanvasRenderTarget(width, height, 1);
    const imageData = new ImageData(new Uint8ClampedArray(pixels.buffer), width, height);
    canvasBuffer.context.putImageData(imageData, 0, 0);
    return canvasBuffer.canvas;
  }
  pixels(target, frame) {
    const { pixels, width, height, flipY } = this._rawPixels(target, frame);
    if (flipY) {
      _Extract._flipY(pixels, width, height);
    }
    _Extract._unpremultiplyAlpha(pixels);
    return pixels;
  }
  _rawPixels(target, frame) {
    const renderer = this.renderer;
    if (!renderer) {
      throw new Error("The Extract has already been destroyed");
    }
    let resolution;
    let flipY = false;
    let renderTexture;
    let generated = false;
    if (target) {
      if (target instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.RenderTexture) {
        renderTexture = target;
      } else {
        renderTexture = renderer.generateTexture(target, {
          resolution: renderer.resolution,
          multisample: renderer.multisample
        });
        generated = true;
      }
    }
    if (renderTexture) {
      resolution = renderTexture.baseTexture.resolution;
      frame = frame ?? renderTexture.frame;
      flipY = false;
      if (!generated) {
        renderer.renderTexture.bind(renderTexture);
        const fbo = renderTexture.framebuffer.glFramebuffers[renderer.CONTEXT_UID];
        if (fbo.blitFramebuffer) {
          renderer.framebuffer.bind(fbo.blitFramebuffer);
        }
      }
    } else {
      resolution = renderer.resolution;
      if (!frame) {
        frame = TEMP_RECT;
        frame.width = renderer.width / resolution;
        frame.height = renderer.height / resolution;
      }
      flipY = true;
      renderer.renderTexture.bind();
    }
    const width = Math.round(frame.width * resolution);
    const height = Math.round(frame.height * resolution);
    const pixels = new Uint8Array(BYTES_PER_PIXEL * width * height);
    const gl = renderer.gl;
    gl.readPixels(Math.round(frame.x * resolution), Math.round(frame.y * resolution), width, height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);
    if (generated) {
      renderTexture?.destroy(true);
    }
    return { pixels, width, height, flipY };
  }
  destroy() {
    this.renderer = null;
  }
  static _flipY(pixels, width, height) {
    const w = width << 2;
    const h = height >> 1;
    const temp = new Uint8Array(w);
    for (let y = 0; y < h; y++) {
      const t = y * w;
      const b = (height - y - 1) * w;
      temp.set(pixels.subarray(t, t + w));
      pixels.copyWithin(t, b, b + w);
      pixels.set(temp, b);
    }
  }
  static _unpremultiplyAlpha(pixels) {
    if (pixels instanceof Uint8ClampedArray) {
      pixels = new Uint8Array(pixels.buffer);
    }
    const n = pixels.length;
    for (let i = 0; i < n; i += 4) {
      const alpha = pixels[i + 3];
      if (alpha !== 0) {
        const a = 255.001 / alpha;
        pixels[i] = pixels[i] * a + 0.5;
        pixels[i + 1] = pixels[i + 1] * a + 0.5;
        pixels[i + 2] = pixels[i + 2] * a + 0.5;
      }
    }
  }
};
let Extract = _Extract;
Extract.extension = {
  name: "extract",
  type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(Extract);


//# sourceMappingURL=Extract.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/extract/lib/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/extract/lib/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Extract: () => (/* reexport safe */ _Extract_mjs__WEBPACK_IMPORTED_MODULE_0__.Extract)
/* harmony export */ });
/* harmony import */ var _Extract_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Extract.mjs */ "./node_modules/@pixi/extract/lib/Extract.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-alpha/lib/AlphaFilter.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/filter-alpha/lib/AlphaFilter.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AlphaFilter: () => (/* binding */ AlphaFilter)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _alpha_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./alpha.mjs */ "./node_modules/@pixi/filter-alpha/lib/alpha.mjs");



class AlphaFilter extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter {
  constructor(alpha = 1) {
    super(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.defaultVertex, _alpha_mjs__WEBPACK_IMPORTED_MODULE_1__["default"], { uAlpha: 1 });
    this.alpha = alpha;
  }
  get alpha() {
    return this.uniforms.uAlpha;
  }
  set alpha(value) {
    this.uniforms.uAlpha = value;
  }
}


//# sourceMappingURL=AlphaFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-alpha/lib/alpha.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/filter-alpha/lib/alpha.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n";


//# sourceMappingURL=alpha.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-alpha/lib/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/filter-alpha/lib/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AlphaFilter: () => (/* reexport safe */ _AlphaFilter_mjs__WEBPACK_IMPORTED_MODULE_0__.AlphaFilter)
/* harmony export */ });
/* harmony import */ var _AlphaFilter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AlphaFilter.mjs */ "./node_modules/@pixi/filter-alpha/lib/AlphaFilter.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-blur/lib/BlurFilter.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/filter-blur/lib/BlurFilter.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlurFilter: () => (/* binding */ BlurFilter)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _BlurFilterPass_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BlurFilterPass.mjs */ "./node_modules/@pixi/filter-blur/lib/BlurFilterPass.mjs");



class BlurFilter extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter {
  constructor(strength = 8, quality = 4, resolution = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter.defaultResolution, kernelSize = 5) {
    super();
    this._repeatEdgePixels = false;
    this.blurXFilter = new _BlurFilterPass_mjs__WEBPACK_IMPORTED_MODULE_1__.BlurFilterPass(true, strength, quality, resolution, kernelSize);
    this.blurYFilter = new _BlurFilterPass_mjs__WEBPACK_IMPORTED_MODULE_1__.BlurFilterPass(false, strength, quality, resolution, kernelSize);
    this.resolution = resolution;
    this.quality = quality;
    this.blur = strength;
    this.repeatEdgePixels = false;
  }
  apply(filterManager, input, output, clearMode) {
    const xStrength = Math.abs(this.blurXFilter.strength);
    const yStrength = Math.abs(this.blurYFilter.strength);
    if (xStrength && yStrength) {
      const renderTarget = filterManager.getFilterTexture();
      this.blurXFilter.apply(filterManager, input, renderTarget, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.CLEAR_MODES.CLEAR);
      this.blurYFilter.apply(filterManager, renderTarget, output, clearMode);
      filterManager.returnFilterTexture(renderTarget);
    } else if (yStrength) {
      this.blurYFilter.apply(filterManager, input, output, clearMode);
    } else {
      this.blurXFilter.apply(filterManager, input, output, clearMode);
    }
  }
  updatePadding() {
    if (this._repeatEdgePixels) {
      this.padding = 0;
    } else {
      this.padding = Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength)) * 2;
    }
  }
  get blur() {
    return this.blurXFilter.blur;
  }
  set blur(value) {
    this.blurXFilter.blur = this.blurYFilter.blur = value;
    this.updatePadding();
  }
  get quality() {
    return this.blurXFilter.quality;
  }
  set quality(value) {
    this.blurXFilter.quality = this.blurYFilter.quality = value;
  }
  get blurX() {
    return this.blurXFilter.blur;
  }
  set blurX(value) {
    this.blurXFilter.blur = value;
    this.updatePadding();
  }
  get blurY() {
    return this.blurYFilter.blur;
  }
  set blurY(value) {
    this.blurYFilter.blur = value;
    this.updatePadding();
  }
  get blendMode() {
    return this.blurYFilter.blendMode;
  }
  set blendMode(value) {
    this.blurYFilter.blendMode = value;
  }
  get repeatEdgePixels() {
    return this._repeatEdgePixels;
  }
  set repeatEdgePixels(value) {
    this._repeatEdgePixels = value;
    this.updatePadding();
  }
}


//# sourceMappingURL=BlurFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-blur/lib/BlurFilterPass.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/filter-blur/lib/BlurFilterPass.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlurFilterPass: () => (/* binding */ BlurFilterPass)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _generateBlurFragSource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./generateBlurFragSource.mjs */ "./node_modules/@pixi/filter-blur/lib/generateBlurFragSource.mjs");
/* harmony import */ var _generateBlurVertSource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./generateBlurVertSource.mjs */ "./node_modules/@pixi/filter-blur/lib/generateBlurVertSource.mjs");




class BlurFilterPass extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter {
  constructor(horizontal, strength = 8, quality = 4, resolution = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter.defaultResolution, kernelSize = 5) {
    const vertSrc = (0,_generateBlurVertSource_mjs__WEBPACK_IMPORTED_MODULE_2__.generateBlurVertSource)(kernelSize, horizontal);
    const fragSrc = (0,_generateBlurFragSource_mjs__WEBPACK_IMPORTED_MODULE_1__.generateBlurFragSource)(kernelSize);
    super(vertSrc, fragSrc);
    this.horizontal = horizontal;
    this.resolution = resolution;
    this._quality = 0;
    this.quality = quality;
    this.blur = strength;
  }
  apply(filterManager, input, output, clearMode) {
    if (output) {
      if (this.horizontal) {
        this.uniforms.strength = 1 / output.width * (output.width / input.width);
      } else {
        this.uniforms.strength = 1 / output.height * (output.height / input.height);
      }
    } else {
      if (this.horizontal) {
        this.uniforms.strength = 1 / filterManager.renderer.width * (filterManager.renderer.width / input.width);
      } else {
        this.uniforms.strength = 1 / filterManager.renderer.height * (filterManager.renderer.height / input.height);
      }
    }
    this.uniforms.strength *= this.strength;
    this.uniforms.strength /= this.passes;
    if (this.passes === 1) {
      filterManager.applyFilter(this, input, output, clearMode);
    } else {
      const renderTarget = filterManager.getFilterTexture();
      const renderer = filterManager.renderer;
      let flip = input;
      let flop = renderTarget;
      this.state.blend = false;
      filterManager.applyFilter(this, flip, flop, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.CLEAR_MODES.CLEAR);
      for (let i = 1; i < this.passes - 1; i++) {
        filterManager.bindAndClear(flip, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.CLEAR_MODES.BLIT);
        this.uniforms.uSampler = flop;
        const temp = flop;
        flop = flip;
        flip = temp;
        renderer.shader.bind(this);
        renderer.geometry.draw(5);
      }
      this.state.blend = true;
      filterManager.applyFilter(this, flop, output, clearMode);
      filterManager.returnFilterTexture(renderTarget);
    }
  }
  get blur() {
    return this.strength;
  }
  set blur(value) {
    this.padding = 1 + Math.abs(value) * 2;
    this.strength = value;
  }
  get quality() {
    return this._quality;
  }
  set quality(value) {
    this._quality = value;
    this.passes = value;
  }
}


//# sourceMappingURL=BlurFilterPass.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-blur/lib/generateBlurFragSource.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/filter-blur/lib/generateBlurFragSource.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   generateBlurFragSource: () => (/* binding */ generateBlurFragSource)
/* harmony export */ });
const GAUSSIAN_VALUES = {
  5: [0.153388, 0.221461, 0.250301],
  7: [0.071303, 0.131514, 0.189879, 0.214607],
  9: [0.028532, 0.067234, 0.124009, 0.179044, 0.20236],
  11: [93e-4, 0.028002, 0.065984, 0.121703, 0.175713, 0.198596],
  13: [2406e-6, 9255e-6, 0.027867, 0.065666, 0.121117, 0.174868, 0.197641],
  15: [489e-6, 2403e-6, 9246e-6, 0.02784, 0.065602, 0.120999, 0.174697, 0.197448]
};
const fragTemplate = [
  "varying vec2 vBlurTexCoords[%size%];",
  "uniform sampler2D uSampler;",
  "void main(void)",
  "{",
  "    gl_FragColor = vec4(0.0);",
  "    %blur%",
  "}"
].join("\n");
function generateBlurFragSource(kernelSize) {
  const kernel = GAUSSIAN_VALUES[kernelSize];
  const halfLength = kernel.length;
  let fragSource = fragTemplate;
  let blurLoop = "";
  const template = "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";
  let value;
  for (let i = 0; i < kernelSize; i++) {
    let blur = template.replace("%index%", i.toString());
    value = i;
    if (i >= halfLength) {
      value = kernelSize - i - 1;
    }
    blur = blur.replace("%value%", kernel[value].toString());
    blurLoop += blur;
    blurLoop += "\n";
  }
  fragSource = fragSource.replace("%blur%", blurLoop);
  fragSource = fragSource.replace("%size%", kernelSize.toString());
  return fragSource;
}


//# sourceMappingURL=generateBlurFragSource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-blur/lib/generateBlurVertSource.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/filter-blur/lib/generateBlurVertSource.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   generateBlurVertSource: () => (/* binding */ generateBlurVertSource)
/* harmony export */ });
const vertTemplate = `
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;
function generateBlurVertSource(kernelSize, x) {
  const halfLength = Math.ceil(kernelSize / 2);
  let vertSource = vertTemplate;
  let blurLoop = "";
  let template;
  if (x) {
    template = "vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);";
  } else {
    template = "vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";
  }
  for (let i = 0; i < kernelSize; i++) {
    let blur = template.replace("%index%", i.toString());
    blur = blur.replace("%sampleIndex%", `${i - (halfLength - 1)}.0`);
    blurLoop += blur;
    blurLoop += "\n";
  }
  vertSource = vertSource.replace("%blur%", blurLoop);
  vertSource = vertSource.replace("%size%", kernelSize.toString());
  return vertSource;
}


//# sourceMappingURL=generateBlurVertSource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-blur/lib/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/filter-blur/lib/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlurFilter: () => (/* reexport safe */ _BlurFilter_mjs__WEBPACK_IMPORTED_MODULE_0__.BlurFilter),
/* harmony export */   BlurFilterPass: () => (/* reexport safe */ _BlurFilterPass_mjs__WEBPACK_IMPORTED_MODULE_1__.BlurFilterPass)
/* harmony export */ });
/* harmony import */ var _BlurFilter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BlurFilter.mjs */ "./node_modules/@pixi/filter-blur/lib/BlurFilter.mjs");
/* harmony import */ var _BlurFilterPass_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BlurFilterPass.mjs */ "./node_modules/@pixi/filter-blur/lib/BlurFilterPass.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-color-matrix/lib/ColorMatrixFilter.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@pixi/filter-color-matrix/lib/ColorMatrixFilter.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ColorMatrixFilter: () => (/* binding */ ColorMatrixFilter)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _colorMatrix_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./colorMatrix.mjs */ "./node_modules/@pixi/filter-color-matrix/lib/colorMatrix.mjs");



class ColorMatrixFilter extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter {
  constructor() {
    const uniforms = {
      m: new Float32Array([
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ]),
      uAlpha: 1
    };
    super(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.defaultFilterVertex, _colorMatrix_mjs__WEBPACK_IMPORTED_MODULE_1__["default"], uniforms);
    this.alpha = 1;
  }
  _loadMatrix(matrix, multiply = false) {
    let newMatrix = matrix;
    if (multiply) {
      this._multiply(newMatrix, this.uniforms.m, matrix);
      newMatrix = this._colorMatrix(newMatrix);
    }
    this.uniforms.m = newMatrix;
  }
  _multiply(out, a, b) {
    out[0] = a[0] * b[0] + a[1] * b[5] + a[2] * b[10] + a[3] * b[15];
    out[1] = a[0] * b[1] + a[1] * b[6] + a[2] * b[11] + a[3] * b[16];
    out[2] = a[0] * b[2] + a[1] * b[7] + a[2] * b[12] + a[3] * b[17];
    out[3] = a[0] * b[3] + a[1] * b[8] + a[2] * b[13] + a[3] * b[18];
    out[4] = a[0] * b[4] + a[1] * b[9] + a[2] * b[14] + a[3] * b[19] + a[4];
    out[5] = a[5] * b[0] + a[6] * b[5] + a[7] * b[10] + a[8] * b[15];
    out[6] = a[5] * b[1] + a[6] * b[6] + a[7] * b[11] + a[8] * b[16];
    out[7] = a[5] * b[2] + a[6] * b[7] + a[7] * b[12] + a[8] * b[17];
    out[8] = a[5] * b[3] + a[6] * b[8] + a[7] * b[13] + a[8] * b[18];
    out[9] = a[5] * b[4] + a[6] * b[9] + a[7] * b[14] + a[8] * b[19] + a[9];
    out[10] = a[10] * b[0] + a[11] * b[5] + a[12] * b[10] + a[13] * b[15];
    out[11] = a[10] * b[1] + a[11] * b[6] + a[12] * b[11] + a[13] * b[16];
    out[12] = a[10] * b[2] + a[11] * b[7] + a[12] * b[12] + a[13] * b[17];
    out[13] = a[10] * b[3] + a[11] * b[8] + a[12] * b[13] + a[13] * b[18];
    out[14] = a[10] * b[4] + a[11] * b[9] + a[12] * b[14] + a[13] * b[19] + a[14];
    out[15] = a[15] * b[0] + a[16] * b[5] + a[17] * b[10] + a[18] * b[15];
    out[16] = a[15] * b[1] + a[16] * b[6] + a[17] * b[11] + a[18] * b[16];
    out[17] = a[15] * b[2] + a[16] * b[7] + a[17] * b[12] + a[18] * b[17];
    out[18] = a[15] * b[3] + a[16] * b[8] + a[17] * b[13] + a[18] * b[18];
    out[19] = a[15] * b[4] + a[16] * b[9] + a[17] * b[14] + a[18] * b[19] + a[19];
    return out;
  }
  _colorMatrix(matrix) {
    const m = new Float32Array(matrix);
    m[4] /= 255;
    m[9] /= 255;
    m[14] /= 255;
    m[19] /= 255;
    return m;
  }
  brightness(b, multiply) {
    const matrix = [
      b,
      0,
      0,
      0,
      0,
      0,
      b,
      0,
      0,
      0,
      0,
      0,
      b,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  tint(color, multiply) {
    const [r, g, b] = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(color).toArray();
    const matrix = [
      r,
      0,
      0,
      0,
      0,
      0,
      g,
      0,
      0,
      0,
      0,
      0,
      b,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  greyscale(scale, multiply) {
    const matrix = [
      scale,
      scale,
      scale,
      0,
      0,
      scale,
      scale,
      scale,
      0,
      0,
      scale,
      scale,
      scale,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  blackAndWhite(multiply) {
    const matrix = [
      0.3,
      0.6,
      0.1,
      0,
      0,
      0.3,
      0.6,
      0.1,
      0,
      0,
      0.3,
      0.6,
      0.1,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  hue(rotation, multiply) {
    rotation = (rotation || 0) / 180 * Math.PI;
    const cosR = Math.cos(rotation);
    const sinR = Math.sin(rotation);
    const sqrt = Math.sqrt;
    const w = 1 / 3;
    const sqrW = sqrt(w);
    const a00 = cosR + (1 - cosR) * w;
    const a01 = w * (1 - cosR) - sqrW * sinR;
    const a02 = w * (1 - cosR) + sqrW * sinR;
    const a10 = w * (1 - cosR) + sqrW * sinR;
    const a11 = cosR + w * (1 - cosR);
    const a12 = w * (1 - cosR) - sqrW * sinR;
    const a20 = w * (1 - cosR) - sqrW * sinR;
    const a21 = w * (1 - cosR) + sqrW * sinR;
    const a22 = cosR + w * (1 - cosR);
    const matrix = [
      a00,
      a01,
      a02,
      0,
      0,
      a10,
      a11,
      a12,
      0,
      0,
      a20,
      a21,
      a22,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  contrast(amount, multiply) {
    const v = (amount || 0) + 1;
    const o = -0.5 * (v - 1);
    const matrix = [
      v,
      0,
      0,
      0,
      o,
      0,
      v,
      0,
      0,
      o,
      0,
      0,
      v,
      0,
      o,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  saturate(amount = 0, multiply) {
    const x = amount * 2 / 3 + 1;
    const y = (x - 1) * -0.5;
    const matrix = [
      x,
      y,
      y,
      0,
      0,
      y,
      x,
      y,
      0,
      0,
      y,
      y,
      x,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  desaturate() {
    this.saturate(-1);
  }
  negative(multiply) {
    const matrix = [
      -1,
      0,
      0,
      1,
      0,
      0,
      -1,
      0,
      1,
      0,
      0,
      0,
      -1,
      1,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  sepia(multiply) {
    const matrix = [
      0.393,
      0.7689999,
      0.18899999,
      0,
      0,
      0.349,
      0.6859999,
      0.16799999,
      0,
      0,
      0.272,
      0.5339999,
      0.13099999,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  technicolor(multiply) {
    const matrix = [
      1.9125277891456083,
      -0.8545344976951645,
      -0.09155508482755585,
      0,
      11.793603434377337,
      -0.3087833385928097,
      1.7658908555458428,
      -0.10601743074722245,
      0,
      -70.35205161461398,
      -0.231103377548616,
      -0.7501899197440212,
      1.847597816108189,
      0,
      30.950940869491138,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  polaroid(multiply) {
    const matrix = [
      1.438,
      -0.062,
      -0.062,
      0,
      0,
      -0.122,
      1.378,
      -0.122,
      0,
      0,
      -0.016,
      -0.016,
      1.483,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  toBGR(multiply) {
    const matrix = [
      0,
      0,
      1,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  kodachrome(multiply) {
    const matrix = [
      1.1285582396593525,
      -0.3967382283601348,
      -0.03992559172921793,
      0,
      63.72958762196502,
      -0.16404339962244616,
      1.0835251566291304,
      -0.05498805115633132,
      0,
      24.732407896706203,
      -0.16786010706155763,
      -0.5603416277695248,
      1.6014850761964943,
      0,
      35.62982807460946,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  browni(multiply) {
    const matrix = [
      0.5997023498159715,
      0.34553243048391263,
      -0.2708298674538042,
      0,
      47.43192855600873,
      -0.037703249837783157,
      0.8609577587992641,
      0.15059552388459913,
      0,
      -36.96841498319127,
      0.24113635128153335,
      -0.07441037908422492,
      0.44972182064877153,
      0,
      -7.562075277591283,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  vintage(multiply) {
    const matrix = [
      0.6279345635605994,
      0.3202183420819367,
      -0.03965408211312453,
      0,
      9.651285835294123,
      0.02578397704808868,
      0.6441188644374771,
      0.03259127616149294,
      0,
      7.462829176470591,
      0.0466055556782719,
      -0.0851232987247891,
      0.5241648018700465,
      0,
      5.159190588235296,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  colorTone(desaturation, toned, lightColor, darkColor, multiply) {
    desaturation = desaturation || 0.2;
    toned = toned || 0.15;
    lightColor = lightColor || 16770432;
    darkColor = darkColor || 3375104;
    const temp = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color.shared;
    const [lR, lG, lB] = temp.setValue(lightColor).toArray();
    const [dR, dG, dB] = temp.setValue(darkColor).toArray();
    const matrix = [
      0.3,
      0.59,
      0.11,
      0,
      0,
      lR,
      lG,
      lB,
      desaturation,
      0,
      dR,
      dG,
      dB,
      toned,
      0,
      lR - dR,
      lG - dG,
      lB - dB,
      0,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  night(intensity, multiply) {
    intensity = intensity || 0.1;
    const matrix = [
      intensity * -2,
      -intensity,
      0,
      0,
      0,
      -intensity,
      0,
      intensity,
      0,
      0,
      0,
      intensity,
      intensity * 2,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  predator(amount, multiply) {
    const matrix = [
      11.224130630493164 * amount,
      -4.794486999511719 * amount,
      -2.8746118545532227 * amount,
      0 * amount,
      0.40342438220977783 * amount,
      -3.6330697536468506 * amount,
      9.193157196044922 * amount,
      -2.951810836791992 * amount,
      0 * amount,
      -1.316135048866272 * amount,
      -3.2184197902679443 * amount,
      -4.2375030517578125 * amount,
      7.476448059082031 * amount,
      0 * amount,
      0.8044459223747253 * amount,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  lsd(multiply) {
    const matrix = [
      2,
      -0.4,
      0.5,
      0,
      0,
      -0.5,
      2,
      -0.4,
      0,
      0,
      -0.4,
      -0.5,
      3,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  reset() {
    const matrix = [
      1,
      0,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, false);
  }
  get matrix() {
    return this.uniforms.m;
  }
  set matrix(value) {
    this.uniforms.m = value;
  }
  get alpha() {
    return this.uniforms.uAlpha;
  }
  set alpha(value) {
    this.uniforms.uAlpha = value;
  }
}
ColorMatrixFilter.prototype.grayscale = ColorMatrixFilter.prototype.greyscale;


//# sourceMappingURL=ColorMatrixFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-color-matrix/lib/colorMatrix.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@pixi/filter-color-matrix/lib/colorMatrix.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n";


//# sourceMappingURL=colorMatrix.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-color-matrix/lib/index.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/filter-color-matrix/lib/index.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ColorMatrixFilter: () => (/* reexport safe */ _ColorMatrixFilter_mjs__WEBPACK_IMPORTED_MODULE_0__.ColorMatrixFilter)
/* harmony export */ });
/* harmony import */ var _ColorMatrixFilter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ColorMatrixFilter.mjs */ "./node_modules/@pixi/filter-color-matrix/lib/ColorMatrixFilter.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-displacement/lib/DisplacementFilter.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/filter-displacement/lib/DisplacementFilter.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DisplacementFilter: () => (/* binding */ DisplacementFilter)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _displacement_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./displacement.mjs */ "./node_modules/@pixi/filter-displacement/lib/displacement.mjs");
/* harmony import */ var _displacement2_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./displacement2.mjs */ "./node_modules/@pixi/filter-displacement/lib/displacement2.mjs");




class DisplacementFilter extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter {
  constructor(sprite, scale) {
    const maskMatrix = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Matrix();
    sprite.renderable = false;
    super(_displacement2_mjs__WEBPACK_IMPORTED_MODULE_2__["default"], _displacement_mjs__WEBPACK_IMPORTED_MODULE_1__["default"], {
      mapSampler: sprite._texture,
      filterMatrix: maskMatrix,
      scale: { x: 1, y: 1 },
      rotation: new Float32Array([1, 0, 0, 1])
    });
    this.maskSprite = sprite;
    this.maskMatrix = maskMatrix;
    if (scale === null || scale === void 0) {
      scale = 20;
    }
    this.scale = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point(scale, scale);
  }
  apply(filterManager, input, output, clearMode) {
    this.uniforms.filterMatrix = filterManager.calculateSpriteMatrix(this.maskMatrix, this.maskSprite);
    this.uniforms.scale.x = this.scale.x;
    this.uniforms.scale.y = this.scale.y;
    const wt = this.maskSprite.worldTransform;
    const lenX = Math.sqrt(wt.a * wt.a + wt.b * wt.b);
    const lenY = Math.sqrt(wt.c * wt.c + wt.d * wt.d);
    if (lenX !== 0 && lenY !== 0) {
      this.uniforms.rotation[0] = wt.a / lenX;
      this.uniforms.rotation[1] = wt.b / lenX;
      this.uniforms.rotation[2] = wt.c / lenY;
      this.uniforms.rotation[3] = wt.d / lenY;
    }
    filterManager.applyFilter(this, input, output, clearMode);
  }
  get map() {
    return this.uniforms.mapSampler;
  }
  set map(value) {
    this.uniforms.mapSampler = value;
  }
}


//# sourceMappingURL=DisplacementFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-displacement/lib/displacement.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/filter-displacement/lib/displacement.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n";


//# sourceMappingURL=displacement.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-displacement/lib/displacement2.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/filter-displacement/lib/displacement2.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ vertex)
/* harmony export */ });
var vertex = "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n";


//# sourceMappingURL=displacement2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-displacement/lib/index.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/filter-displacement/lib/index.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DisplacementFilter: () => (/* reexport safe */ _DisplacementFilter_mjs__WEBPACK_IMPORTED_MODULE_0__.DisplacementFilter)
/* harmony export */ });
/* harmony import */ var _DisplacementFilter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DisplacementFilter.mjs */ "./node_modules/@pixi/filter-displacement/lib/DisplacementFilter.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-fxaa/lib/FXAAFilter.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/filter-fxaa/lib/FXAAFilter.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FXAAFilter: () => (/* binding */ FXAAFilter)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _fxaa_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fxaa.mjs */ "./node_modules/@pixi/filter-fxaa/lib/fxaa.mjs");
/* harmony import */ var _fxaa2_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fxaa2.mjs */ "./node_modules/@pixi/filter-fxaa/lib/fxaa2.mjs");




class FXAAFilter extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter {
  constructor() {
    super(_fxaa2_mjs__WEBPACK_IMPORTED_MODULE_2__["default"], _fxaa_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]);
  }
}


//# sourceMappingURL=FXAAFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-fxaa/lib/fxaa.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/filter-fxaa/lib/fxaa.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it's\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n";


//# sourceMappingURL=fxaa.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-fxaa/lib/fxaa2.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/filter-fxaa/lib/fxaa2.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ vertex)
/* harmony export */ });
var vertex = "\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n";


//# sourceMappingURL=fxaa2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-fxaa/lib/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/filter-fxaa/lib/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FXAAFilter: () => (/* reexport safe */ _FXAAFilter_mjs__WEBPACK_IMPORTED_MODULE_0__.FXAAFilter)
/* harmony export */ });
/* harmony import */ var _FXAAFilter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FXAAFilter.mjs */ "./node_modules/@pixi/filter-fxaa/lib/FXAAFilter.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-noise/lib/NoiseFilter.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/filter-noise/lib/NoiseFilter.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NoiseFilter: () => (/* binding */ NoiseFilter)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _noise_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./noise.mjs */ "./node_modules/@pixi/filter-noise/lib/noise.mjs");



class NoiseFilter extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter {
  constructor(noise = 0.5, seed = Math.random()) {
    super(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.defaultFilterVertex, _noise_mjs__WEBPACK_IMPORTED_MODULE_1__["default"], {
      uNoise: 0,
      uSeed: 0
    });
    this.noise = noise;
    this.seed = seed;
  }
  get noise() {
    return this.uniforms.uNoise;
  }
  set noise(value) {
    this.uniforms.uNoise = value;
  }
  get seed() {
    return this.uniforms.uSeed;
  }
  set seed(value) {
    this.uniforms.uSeed = value;
  }
}


//# sourceMappingURL=NoiseFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-noise/lib/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/filter-noise/lib/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NoiseFilter: () => (/* reexport safe */ _NoiseFilter_mjs__WEBPACK_IMPORTED_MODULE_0__.NoiseFilter)
/* harmony export */ });
/* harmony import */ var _NoiseFilter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NoiseFilter.mjs */ "./node_modules/@pixi/filter-noise/lib/NoiseFilter.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-noise/lib/noise.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/filter-noise/lib/noise.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n";


//# sourceMappingURL=noise.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/Graphics.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/Graphics.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics: () => (/* binding */ Graphics)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/graphics/lib/const.mjs");
/* harmony import */ var _GraphicsGeometry_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GraphicsGeometry.mjs */ "./node_modules/@pixi/graphics/lib/GraphicsGeometry.mjs");
/* harmony import */ var _styles_FillStyle_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./styles/FillStyle.mjs */ "./node_modules/@pixi/graphics/lib/styles/FillStyle.mjs");
/* harmony import */ var _styles_LineStyle_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./styles/LineStyle.mjs */ "./node_modules/@pixi/graphics/lib/styles/LineStyle.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/graphics/lib/utils/index.mjs");
/* harmony import */ var _utils_QuadraticUtils_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/QuadraticUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/QuadraticUtils.mjs");
/* harmony import */ var _utils_BezierUtils_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/BezierUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/BezierUtils.mjs");
/* harmony import */ var _utils_ArcUtils_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/ArcUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/ArcUtils.mjs");











const DEFAULT_SHADERS = {};
const _Graphics = class extends _pixi_display__WEBPACK_IMPORTED_MODULE_1__.Container {
  constructor(geometry = null) {
    super();
    this.shader = null;
    this.pluginName = "batch";
    this.currentPath = null;
    this.batches = [];
    this.batchTint = -1;
    this.batchDirty = -1;
    this.vertexData = null;
    this._fillStyle = new _styles_FillStyle_mjs__WEBPACK_IMPORTED_MODULE_4__.FillStyle();
    this._lineStyle = new _styles_LineStyle_mjs__WEBPACK_IMPORTED_MODULE_5__.LineStyle();
    this._matrix = null;
    this._holeMode = false;
    this.state = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.State.for2d();
    this._geometry = geometry || new _GraphicsGeometry_mjs__WEBPACK_IMPORTED_MODULE_3__.GraphicsGeometry();
    this._geometry.refCount++;
    this._transformID = -1;
    this._tintColor = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color(16777215);
    this.blendMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL;
  }
  get geometry() {
    return this._geometry;
  }
  clone() {
    this.finishPoly();
    return new _Graphics(this._geometry);
  }
  set blendMode(value) {
    this.state.blendMode = value;
  }
  get blendMode() {
    return this.state.blendMode;
  }
  get tint() {
    return this._tintColor.value;
  }
  set tint(value) {
    this._tintColor.setValue(value);
  }
  get fill() {
    return this._fillStyle;
  }
  get line() {
    return this._lineStyle;
  }
  lineStyle(options = null, color = 0, alpha, alignment = 0.5, native = false) {
    if (typeof options === "number") {
      options = { width: options, color, alpha, alignment, native };
    }
    return this.lineTextureStyle(options);
  }
  lineTextureStyle(options) {
    const defaultLineStyleOptions = {
      width: 0,
      texture: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.WHITE,
      color: options?.texture ? 16777215 : 0,
      matrix: null,
      alignment: 0.5,
      native: false,
      cap: _const_mjs__WEBPACK_IMPORTED_MODULE_2__.LINE_CAP.BUTT,
      join: _const_mjs__WEBPACK_IMPORTED_MODULE_2__.LINE_JOIN.MITER,
      miterLimit: 10
    };
    options = Object.assign(defaultLineStyleOptions, options);
    this.normalizeColor(options);
    if (this.currentPath) {
      this.startPoly();
    }
    const visible = options.width > 0 && options.alpha > 0;
    if (!visible) {
      this._lineStyle.reset();
    } else {
      if (options.matrix) {
        options.matrix = options.matrix.clone();
        options.matrix.invert();
      }
      Object.assign(this._lineStyle, { visible }, options);
    }
    return this;
  }
  startPoly() {
    if (this.currentPath) {
      const points = this.currentPath.points;
      const len = this.currentPath.points.length;
      if (len > 2) {
        this.drawShape(this.currentPath);
        this.currentPath = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Polygon();
        this.currentPath.closeStroke = false;
        this.currentPath.points.push(points[len - 2], points[len - 1]);
      }
    } else {
      this.currentPath = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Polygon();
      this.currentPath.closeStroke = false;
    }
  }
  finishPoly() {
    if (this.currentPath) {
      if (this.currentPath.points.length > 2) {
        this.drawShape(this.currentPath);
        this.currentPath = null;
      } else {
        this.currentPath.points.length = 0;
      }
    }
  }
  moveTo(x, y) {
    this.startPoly();
    this.currentPath.points[0] = x;
    this.currentPath.points[1] = y;
    return this;
  }
  lineTo(x, y) {
    if (!this.currentPath) {
      this.moveTo(0, 0);
    }
    const points = this.currentPath.points;
    const fromX = points[points.length - 2];
    const fromY = points[points.length - 1];
    if (fromX !== x || fromY !== y) {
      points.push(x, y);
    }
    return this;
  }
  _initCurve(x = 0, y = 0) {
    if (this.currentPath) {
      if (this.currentPath.points.length === 0) {
        this.currentPath.points = [x, y];
      }
    } else {
      this.moveTo(x, y);
    }
  }
  quadraticCurveTo(cpX, cpY, toX, toY) {
    this._initCurve();
    const points = this.currentPath.points;
    if (points.length === 0) {
      this.moveTo(0, 0);
    }
    _utils_QuadraticUtils_mjs__WEBPACK_IMPORTED_MODULE_7__.QuadraticUtils.curveTo(cpX, cpY, toX, toY, points);
    return this;
  }
  bezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY) {
    this._initCurve();
    _utils_BezierUtils_mjs__WEBPACK_IMPORTED_MODULE_8__.BezierUtils.curveTo(cpX, cpY, cpX2, cpY2, toX, toY, this.currentPath.points);
    return this;
  }
  arcTo(x1, y1, x2, y2, radius) {
    this._initCurve(x1, y1);
    const points = this.currentPath.points;
    const result = _utils_ArcUtils_mjs__WEBPACK_IMPORTED_MODULE_9__.ArcUtils.curveTo(x1, y1, x2, y2, radius, points);
    if (result) {
      const { cx, cy, radius: radius2, startAngle, endAngle, anticlockwise } = result;
      this.arc(cx, cy, radius2, startAngle, endAngle, anticlockwise);
    }
    return this;
  }
  arc(cx, cy, radius, startAngle, endAngle, anticlockwise = false) {
    if (startAngle === endAngle) {
      return this;
    }
    if (!anticlockwise && endAngle <= startAngle) {
      endAngle += _pixi_core__WEBPACK_IMPORTED_MODULE_0__.PI_2;
    } else if (anticlockwise && startAngle <= endAngle) {
      startAngle += _pixi_core__WEBPACK_IMPORTED_MODULE_0__.PI_2;
    }
    const sweep = endAngle - startAngle;
    if (sweep === 0) {
      return this;
    }
    const startX = cx + Math.cos(startAngle) * radius;
    const startY = cy + Math.sin(startAngle) * radius;
    const eps = this._geometry.closePointEps;
    let points = this.currentPath ? this.currentPath.points : null;
    if (points) {
      const xDiff = Math.abs(points[points.length - 2] - startX);
      const yDiff = Math.abs(points[points.length - 1] - startY);
      if (xDiff < eps && yDiff < eps) {
      } else {
        points.push(startX, startY);
      }
    } else {
      this.moveTo(startX, startY);
      points = this.currentPath.points;
    }
    _utils_ArcUtils_mjs__WEBPACK_IMPORTED_MODULE_9__.ArcUtils.arc(startX, startY, cx, cy, radius, startAngle, endAngle, anticlockwise, points);
    return this;
  }
  beginFill(color = 0, alpha) {
    return this.beginTextureFill({ texture: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.WHITE, color, alpha });
  }
  normalizeColor(options) {
    const temp = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(options.color ?? 0);
    options.color = temp.toNumber();
    options.alpha ?? (options.alpha = temp.alpha);
  }
  beginTextureFill(options) {
    const defaultOptions = {
      texture: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.WHITE,
      color: 16777215,
      matrix: null
    };
    options = Object.assign(defaultOptions, options);
    this.normalizeColor(options);
    if (this.currentPath) {
      this.startPoly();
    }
    const visible = options.alpha > 0;
    if (!visible) {
      this._fillStyle.reset();
    } else {
      if (options.matrix) {
        options.matrix = options.matrix.clone();
        options.matrix.invert();
      }
      Object.assign(this._fillStyle, { visible }, options);
    }
    return this;
  }
  endFill() {
    this.finishPoly();
    this._fillStyle.reset();
    return this;
  }
  drawRect(x, y, width, height) {
    return this.drawShape(new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle(x, y, width, height));
  }
  drawRoundedRect(x, y, width, height, radius) {
    return this.drawShape(new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.RoundedRectangle(x, y, width, height, radius));
  }
  drawCircle(x, y, radius) {
    return this.drawShape(new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Circle(x, y, radius));
  }
  drawEllipse(x, y, width, height) {
    return this.drawShape(new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Ellipse(x, y, width, height));
  }
  drawPolygon(...path) {
    let points;
    let closeStroke = true;
    const poly = path[0];
    if (poly.points) {
      closeStroke = poly.closeStroke;
      points = poly.points;
    } else if (Array.isArray(path[0])) {
      points = path[0];
    } else {
      points = path;
    }
    const shape = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Polygon(points);
    shape.closeStroke = closeStroke;
    this.drawShape(shape);
    return this;
  }
  drawShape(shape) {
    if (!this._holeMode) {
      this._geometry.drawShape(shape, this._fillStyle.clone(), this._lineStyle.clone(), this._matrix);
    } else {
      this._geometry.drawHole(shape, this._matrix);
    }
    return this;
  }
  clear() {
    this._geometry.clear();
    this._lineStyle.reset();
    this._fillStyle.reset();
    this._boundsID++;
    this._matrix = null;
    this._holeMode = false;
    this.currentPath = null;
    return this;
  }
  isFastRect() {
    const data = this._geometry.graphicsData;
    return data.length === 1 && data[0].shape.type === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.RECT && !data[0].matrix && !data[0].holes.length && !(data[0].lineStyle.visible && data[0].lineStyle.width);
  }
  _render(renderer) {
    this.finishPoly();
    const geometry = this._geometry;
    geometry.updateBatches();
    if (geometry.batchable) {
      if (this.batchDirty !== geometry.batchDirty) {
        this._populateBatches();
      }
      this._renderBatched(renderer);
    } else {
      renderer.batch.flush();
      this._renderDirect(renderer);
    }
  }
  _populateBatches() {
    const geometry = this._geometry;
    const blendMode = this.blendMode;
    const len = geometry.batches.length;
    this.batchTint = -1;
    this._transformID = -1;
    this.batchDirty = geometry.batchDirty;
    this.batches.length = len;
    this.vertexData = new Float32Array(geometry.points);
    for (let i = 0; i < len; i++) {
      const gI = geometry.batches[i];
      const color = gI.style.color;
      const vertexData = new Float32Array(this.vertexData.buffer, gI.attribStart * 4 * 2, gI.attribSize * 2);
      const uvs = new Float32Array(geometry.uvsFloat32.buffer, gI.attribStart * 4 * 2, gI.attribSize * 2);
      const indices = new Uint16Array(geometry.indicesUint16.buffer, gI.start * 2, gI.size);
      const batch = {
        vertexData,
        blendMode,
        indices,
        uvs,
        _batchRGB: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(color).toRgbArray(),
        _tintRGB: color,
        _texture: gI.style.texture,
        alpha: gI.style.alpha,
        worldAlpha: 1
      };
      this.batches[i] = batch;
    }
  }
  _renderBatched(renderer) {
    if (!this.batches.length) {
      return;
    }
    renderer.batch.setObjectRenderer(renderer.plugins[this.pluginName]);
    this.calculateVertices();
    this.calculateTints();
    for (let i = 0, l = this.batches.length; i < l; i++) {
      const batch = this.batches[i];
      batch.worldAlpha = this.worldAlpha * batch.alpha;
      renderer.plugins[this.pluginName].render(batch);
    }
  }
  _renderDirect(renderer) {
    const shader = this._resolveDirectShader(renderer);
    const geometry = this._geometry;
    const worldAlpha = this.worldAlpha;
    const uniforms = shader.uniforms;
    const drawCalls = geometry.drawCalls;
    uniforms.translationMatrix = this.transform.worldTransform;
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(this._tintColor).premultiply(worldAlpha).toArray(uniforms.tint);
    renderer.shader.bind(shader);
    renderer.geometry.bind(geometry, shader);
    renderer.state.set(this.state);
    for (let i = 0, l = drawCalls.length; i < l; i++) {
      this._renderDrawCallDirect(renderer, geometry.drawCalls[i]);
    }
  }
  _renderDrawCallDirect(renderer, drawCall) {
    const { texArray, type, size, start } = drawCall;
    const groupTextureCount = texArray.count;
    for (let j = 0; j < groupTextureCount; j++) {
      renderer.texture.bind(texArray.elements[j], j);
    }
    renderer.geometry.draw(type, size, start);
  }
  _resolveDirectShader(renderer) {
    let shader = this.shader;
    const pluginName = this.pluginName;
    if (!shader) {
      if (!DEFAULT_SHADERS[pluginName]) {
        const { maxTextures } = renderer.plugins[pluginName];
        const sampleValues = new Int32Array(maxTextures);
        for (let i = 0; i < maxTextures; i++) {
          sampleValues[i] = i;
        }
        const uniforms = {
          tint: new Float32Array([1, 1, 1, 1]),
          translationMatrix: new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Matrix(),
          default: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.UniformGroup.from({ uSamplers: sampleValues }, true)
        };
        const program = renderer.plugins[pluginName]._shader.program;
        DEFAULT_SHADERS[pluginName] = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Shader(program, uniforms);
      }
      shader = DEFAULT_SHADERS[pluginName];
    }
    return shader;
  }
  _calculateBounds() {
    this.finishPoly();
    const geometry = this._geometry;
    if (!geometry.graphicsData.length) {
      return;
    }
    const { minX, minY, maxX, maxY } = geometry.bounds;
    this._bounds.addFrame(this.transform, minX, minY, maxX, maxY);
  }
  containsPoint(point) {
    this.worldTransform.applyInverse(point, _Graphics._TEMP_POINT);
    return this._geometry.containsPoint(_Graphics._TEMP_POINT);
  }
  calculateTints() {
    if (this.batchTint !== this.tint) {
      this.batchTint = this._tintColor.toNumber();
      for (let i = 0; i < this.batches.length; i++) {
        const batch = this.batches[i];
        batch._tintRGB = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(this._tintColor).multiply(batch._batchRGB).toLittleEndianNumber();
      }
    }
  }
  calculateVertices() {
    const wtID = this.transform._worldID;
    if (this._transformID === wtID) {
      return;
    }
    this._transformID = wtID;
    const wt = this.transform.worldTransform;
    const a = wt.a;
    const b = wt.b;
    const c = wt.c;
    const d = wt.d;
    const tx = wt.tx;
    const ty = wt.ty;
    const data = this._geometry.points;
    const vertexData = this.vertexData;
    let count = 0;
    for (let i = 0; i < data.length; i += 2) {
      const x = data[i];
      const y = data[i + 1];
      vertexData[count++] = a * x + c * y + tx;
      vertexData[count++] = d * y + b * x + ty;
    }
  }
  closePath() {
    const currentPath = this.currentPath;
    if (currentPath) {
      currentPath.closeStroke = true;
      this.finishPoly();
    }
    return this;
  }
  setMatrix(matrix) {
    this._matrix = matrix;
    return this;
  }
  beginHole() {
    this.finishPoly();
    this._holeMode = true;
    return this;
  }
  endHole() {
    this.finishPoly();
    this._holeMode = false;
    return this;
  }
  destroy(options) {
    this._geometry.refCount--;
    if (this._geometry.refCount === 0) {
      this._geometry.dispose();
    }
    this._matrix = null;
    this.currentPath = null;
    this._lineStyle.destroy();
    this._lineStyle = null;
    this._fillStyle.destroy();
    this._fillStyle = null;
    this._geometry = null;
    this.shader = null;
    this.vertexData = null;
    this.batches.length = 0;
    this.batches = null;
    super.destroy(options);
  }
};
let Graphics = _Graphics;
Graphics.curves = _const_mjs__WEBPACK_IMPORTED_MODULE_2__.curves;
Graphics._TEMP_POINT = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();


//# sourceMappingURL=Graphics.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/GraphicsData.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/GraphicsData.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GraphicsData: () => (/* binding */ GraphicsData)
/* harmony export */ });
class GraphicsData {
  constructor(shape, fillStyle = null, lineStyle = null, matrix = null) {
    this.points = [];
    this.holes = [];
    this.shape = shape;
    this.lineStyle = lineStyle;
    this.fillStyle = fillStyle;
    this.matrix = matrix;
    this.type = shape.type;
  }
  clone() {
    return new GraphicsData(this.shape, this.fillStyle, this.lineStyle, this.matrix);
  }
  destroy() {
    this.shape = null;
    this.holes.length = 0;
    this.holes = null;
    this.points.length = 0;
    this.points = null;
    this.lineStyle = null;
    this.fillStyle = null;
  }
}


//# sourceMappingURL=GraphicsData.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/GraphicsGeometry.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/GraphicsGeometry.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GraphicsGeometry: () => (/* binding */ GraphicsGeometry)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _GraphicsData_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GraphicsData.mjs */ "./node_modules/@pixi/graphics/lib/GraphicsData.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/graphics/lib/utils/index.mjs");
/* harmony import */ var _utils_BatchPart_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/BatchPart.mjs */ "./node_modules/@pixi/graphics/lib/utils/BatchPart.mjs");
/* harmony import */ var _utils_buildPoly_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/buildPoly.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildPoly.mjs");
/* harmony import */ var _utils_buildLine_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/buildLine.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildLine.mjs");








const tmpPoint = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
const _GraphicsGeometry = class extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BatchGeometry {
  constructor() {
    super();
    this.closePointEps = 1e-4;
    this.boundsPadding = 0;
    this.uvsFloat32 = null;
    this.indicesUint16 = null;
    this.batchable = false;
    this.points = [];
    this.colors = [];
    this.uvs = [];
    this.indices = [];
    this.textureIds = [];
    this.graphicsData = [];
    this.drawCalls = [];
    this.batchDirty = -1;
    this.batches = [];
    this.dirty = 0;
    this.cacheDirty = -1;
    this.clearDirty = 0;
    this.shapeIndex = 0;
    this._bounds = new _pixi_display__WEBPACK_IMPORTED_MODULE_1__.Bounds();
    this.boundsDirty = -1;
  }
  get bounds() {
    this.updateBatches();
    if (this.boundsDirty !== this.dirty) {
      this.boundsDirty = this.dirty;
      this.calculateBounds();
    }
    return this._bounds;
  }
  invalidate() {
    this.boundsDirty = -1;
    this.dirty++;
    this.batchDirty++;
    this.shapeIndex = 0;
    this.points.length = 0;
    this.colors.length = 0;
    this.uvs.length = 0;
    this.indices.length = 0;
    this.textureIds.length = 0;
    for (let i = 0; i < this.drawCalls.length; i++) {
      this.drawCalls[i].texArray.clear();
      _utils_index_mjs__WEBPACK_IMPORTED_MODULE_3__.DRAW_CALL_POOL.push(this.drawCalls[i]);
    }
    this.drawCalls.length = 0;
    for (let i = 0; i < this.batches.length; i++) {
      const batchPart = this.batches[i];
      batchPart.reset();
      _utils_index_mjs__WEBPACK_IMPORTED_MODULE_3__.BATCH_POOL.push(batchPart);
    }
    this.batches.length = 0;
  }
  clear() {
    if (this.graphicsData.length > 0) {
      this.invalidate();
      this.clearDirty++;
      this.graphicsData.length = 0;
    }
    return this;
  }
  drawShape(shape, fillStyle = null, lineStyle = null, matrix = null) {
    const data = new _GraphicsData_mjs__WEBPACK_IMPORTED_MODULE_2__.GraphicsData(shape, fillStyle, lineStyle, matrix);
    this.graphicsData.push(data);
    this.dirty++;
    return this;
  }
  drawHole(shape, matrix = null) {
    if (!this.graphicsData.length) {
      return null;
    }
    const data = new _GraphicsData_mjs__WEBPACK_IMPORTED_MODULE_2__.GraphicsData(shape, null, null, matrix);
    const lastShape = this.graphicsData[this.graphicsData.length - 1];
    data.lineStyle = lastShape.lineStyle;
    lastShape.holes.push(data);
    this.dirty++;
    return this;
  }
  destroy() {
    super.destroy();
    for (let i = 0; i < this.graphicsData.length; ++i) {
      this.graphicsData[i].destroy();
    }
    this.points.length = 0;
    this.points = null;
    this.colors.length = 0;
    this.colors = null;
    this.uvs.length = 0;
    this.uvs = null;
    this.indices.length = 0;
    this.indices = null;
    this.indexBuffer.destroy();
    this.indexBuffer = null;
    this.graphicsData.length = 0;
    this.graphicsData = null;
    this.drawCalls.length = 0;
    this.drawCalls = null;
    this.batches.length = 0;
    this.batches = null;
    this._bounds = null;
  }
  containsPoint(point) {
    const graphicsData = this.graphicsData;
    for (let i = 0; i < graphicsData.length; ++i) {
      const data = graphicsData[i];
      if (!data.fillStyle.visible) {
        continue;
      }
      if (data.shape) {
        if (data.matrix) {
          data.matrix.applyInverse(point, tmpPoint);
        } else {
          tmpPoint.copyFrom(point);
        }
        if (data.shape.contains(tmpPoint.x, tmpPoint.y)) {
          let hitHole = false;
          if (data.holes) {
            for (let i2 = 0; i2 < data.holes.length; i2++) {
              const hole = data.holes[i2];
              if (hole.shape.contains(tmpPoint.x, tmpPoint.y)) {
                hitHole = true;
                break;
              }
            }
          }
          if (!hitHole) {
            return true;
          }
        }
      }
    }
    return false;
  }
  updateBatches() {
    if (!this.graphicsData.length) {
      this.batchable = true;
      return;
    }
    if (!this.validateBatching()) {
      return;
    }
    this.cacheDirty = this.dirty;
    const uvs = this.uvs;
    const graphicsData = this.graphicsData;
    let batchPart = null;
    let currentStyle = null;
    if (this.batches.length > 0) {
      batchPart = this.batches[this.batches.length - 1];
      currentStyle = batchPart.style;
    }
    for (let i = this.shapeIndex; i < graphicsData.length; i++) {
      this.shapeIndex++;
      const data = graphicsData[i];
      const fillStyle = data.fillStyle;
      const lineStyle = data.lineStyle;
      const command = _utils_index_mjs__WEBPACK_IMPORTED_MODULE_3__.FILL_COMMANDS[data.type];
      command.build(data);
      if (data.matrix) {
        this.transformPoints(data.points, data.matrix);
      }
      if (fillStyle.visible || lineStyle.visible) {
        this.processHoles(data.holes);
      }
      for (let j = 0; j < 2; j++) {
        const style = j === 0 ? fillStyle : lineStyle;
        if (!style.visible)
          continue;
        const nextTexture = style.texture.baseTexture;
        const index2 = this.indices.length;
        const attribIndex = this.points.length / 2;
        nextTexture.wrapMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.WRAP_MODES.REPEAT;
        if (j === 0) {
          this.processFill(data);
        } else {
          this.processLine(data);
        }
        const size = this.points.length / 2 - attribIndex;
        if (size === 0)
          continue;
        if (batchPart && !this._compareStyles(currentStyle, style)) {
          batchPart.end(index2, attribIndex);
          batchPart = null;
        }
        if (!batchPart) {
          batchPart = _utils_index_mjs__WEBPACK_IMPORTED_MODULE_3__.BATCH_POOL.pop() || new _utils_BatchPart_mjs__WEBPACK_IMPORTED_MODULE_4__.BatchPart();
          batchPart.begin(style, index2, attribIndex);
          this.batches.push(batchPart);
          currentStyle = style;
        }
        this.addUvs(this.points, uvs, style.texture, attribIndex, size, style.matrix);
      }
    }
    const index = this.indices.length;
    const attrib = this.points.length / 2;
    if (batchPart) {
      batchPart.end(index, attrib);
    }
    if (this.batches.length === 0) {
      this.batchable = true;
      return;
    }
    const need32 = attrib > 65535;
    if (this.indicesUint16 && this.indices.length === this.indicesUint16.length && need32 === this.indicesUint16.BYTES_PER_ELEMENT > 2) {
      this.indicesUint16.set(this.indices);
    } else {
      this.indicesUint16 = need32 ? new Uint32Array(this.indices) : new Uint16Array(this.indices);
    }
    this.batchable = this.isBatchable();
    if (this.batchable) {
      this.packBatches();
    } else {
      this.buildDrawCalls();
    }
  }
  _compareStyles(styleA, styleB) {
    if (!styleA || !styleB) {
      return false;
    }
    if (styleA.texture.baseTexture !== styleB.texture.baseTexture) {
      return false;
    }
    if (styleA.color + styleA.alpha !== styleB.color + styleB.alpha) {
      return false;
    }
    if (!!styleA.native !== !!styleB.native) {
      return false;
    }
    return true;
  }
  validateBatching() {
    if (this.dirty === this.cacheDirty || !this.graphicsData.length) {
      return false;
    }
    for (let i = 0, l = this.graphicsData.length; i < l; i++) {
      const data = this.graphicsData[i];
      const fill = data.fillStyle;
      const line = data.lineStyle;
      if (fill && !fill.texture.baseTexture.valid)
        return false;
      if (line && !line.texture.baseTexture.valid)
        return false;
    }
    return true;
  }
  packBatches() {
    this.batchDirty++;
    this.uvsFloat32 = new Float32Array(this.uvs);
    const batches = this.batches;
    for (let i = 0, l = batches.length; i < l; i++) {
      const batch = batches[i];
      for (let j = 0; j < batch.size; j++) {
        const index = batch.start + j;
        this.indicesUint16[index] = this.indicesUint16[index] - batch.attribStart;
      }
    }
  }
  isBatchable() {
    if (this.points.length > 65535 * 2) {
      return false;
    }
    const batches = this.batches;
    for (let i = 0; i < batches.length; i++) {
      if (batches[i].style.native) {
        return false;
      }
    }
    return this.points.length < _GraphicsGeometry.BATCHABLE_SIZE * 2;
  }
  buildDrawCalls() {
    let TICK = ++_pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture._globalBatch;
    for (let i = 0; i < this.drawCalls.length; i++) {
      this.drawCalls[i].texArray.clear();
      _utils_index_mjs__WEBPACK_IMPORTED_MODULE_3__.DRAW_CALL_POOL.push(this.drawCalls[i]);
    }
    this.drawCalls.length = 0;
    const colors = this.colors;
    const textureIds = this.textureIds;
    let currentGroup = _utils_index_mjs__WEBPACK_IMPORTED_MODULE_3__.DRAW_CALL_POOL.pop();
    if (!currentGroup) {
      currentGroup = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BatchDrawCall();
      currentGroup.texArray = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BatchTextureArray();
    }
    currentGroup.texArray.count = 0;
    currentGroup.start = 0;
    currentGroup.size = 0;
    currentGroup.type = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.DRAW_MODES.TRIANGLES;
    let textureCount = 0;
    let currentTexture = null;
    let textureId = 0;
    let native = false;
    let drawMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.DRAW_MODES.TRIANGLES;
    let index = 0;
    this.drawCalls.push(currentGroup);
    for (let i = 0; i < this.batches.length; i++) {
      const data = this.batches[i];
      const maxTextures = 8;
      const style = data.style;
      const nextTexture = style.texture.baseTexture;
      if (native !== !!style.native) {
        native = !!style.native;
        drawMode = native ? _pixi_core__WEBPACK_IMPORTED_MODULE_0__.DRAW_MODES.LINES : _pixi_core__WEBPACK_IMPORTED_MODULE_0__.DRAW_MODES.TRIANGLES;
        currentTexture = null;
        textureCount = maxTextures;
        TICK++;
      }
      if (currentTexture !== nextTexture) {
        currentTexture = nextTexture;
        if (nextTexture._batchEnabled !== TICK) {
          if (textureCount === maxTextures) {
            TICK++;
            textureCount = 0;
            if (currentGroup.size > 0) {
              currentGroup = _utils_index_mjs__WEBPACK_IMPORTED_MODULE_3__.DRAW_CALL_POOL.pop();
              if (!currentGroup) {
                currentGroup = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BatchDrawCall();
                currentGroup.texArray = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BatchTextureArray();
              }
              this.drawCalls.push(currentGroup);
            }
            currentGroup.start = index;
            currentGroup.size = 0;
            currentGroup.texArray.count = 0;
            currentGroup.type = drawMode;
          }
          nextTexture.touched = 1;
          nextTexture._batchEnabled = TICK;
          nextTexture._batchLocation = textureCount;
          nextTexture.wrapMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.WRAP_MODES.REPEAT;
          currentGroup.texArray.elements[currentGroup.texArray.count++] = nextTexture;
          textureCount++;
        }
      }
      currentGroup.size += data.size;
      index += data.size;
      textureId = nextTexture._batchLocation;
      this.addColors(colors, style.color, style.alpha, data.attribSize, data.attribStart);
      this.addTextureIds(textureIds, textureId, data.attribSize, data.attribStart);
    }
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture._globalBatch = TICK;
    this.packAttributes();
  }
  packAttributes() {
    const verts = this.points;
    const uvs = this.uvs;
    const colors = this.colors;
    const textureIds = this.textureIds;
    const glPoints = new ArrayBuffer(verts.length * 3 * 4);
    const f32 = new Float32Array(glPoints);
    const u32 = new Uint32Array(glPoints);
    let p = 0;
    for (let i = 0; i < verts.length / 2; i++) {
      f32[p++] = verts[i * 2];
      f32[p++] = verts[i * 2 + 1];
      f32[p++] = uvs[i * 2];
      f32[p++] = uvs[i * 2 + 1];
      u32[p++] = colors[i];
      f32[p++] = textureIds[i];
    }
    this._buffer.update(glPoints);
    this._indexBuffer.update(this.indicesUint16);
  }
  processFill(data) {
    if (data.holes.length) {
      _utils_buildPoly_mjs__WEBPACK_IMPORTED_MODULE_5__.buildPoly.triangulate(data, this);
    } else {
      const command = _utils_index_mjs__WEBPACK_IMPORTED_MODULE_3__.FILL_COMMANDS[data.type];
      command.triangulate(data, this);
    }
  }
  processLine(data) {
    (0,_utils_buildLine_mjs__WEBPACK_IMPORTED_MODULE_6__.buildLine)(data, this);
    for (let i = 0; i < data.holes.length; i++) {
      (0,_utils_buildLine_mjs__WEBPACK_IMPORTED_MODULE_6__.buildLine)(data.holes[i], this);
    }
  }
  processHoles(holes) {
    for (let i = 0; i < holes.length; i++) {
      const hole = holes[i];
      const command = _utils_index_mjs__WEBPACK_IMPORTED_MODULE_3__.FILL_COMMANDS[hole.type];
      command.build(hole);
      if (hole.matrix) {
        this.transformPoints(hole.points, hole.matrix);
      }
    }
  }
  calculateBounds() {
    const bounds = this._bounds;
    bounds.clear();
    bounds.addVertexData(this.points, 0, this.points.length);
    bounds.pad(this.boundsPadding, this.boundsPadding);
  }
  transformPoints(points, matrix) {
    for (let i = 0; i < points.length / 2; i++) {
      const x = points[i * 2];
      const y = points[i * 2 + 1];
      points[i * 2] = matrix.a * x + matrix.c * y + matrix.tx;
      points[i * 2 + 1] = matrix.b * x + matrix.d * y + matrix.ty;
    }
  }
  addColors(colors, color, alpha, size, offset = 0) {
    const bgr = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(color).toLittleEndianNumber();
    const result = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(bgr).toPremultiplied(alpha);
    colors.length = Math.max(colors.length, offset + size);
    for (let i = 0; i < size; i++) {
      colors[offset + i] = result;
    }
  }
  addTextureIds(textureIds, id, size, offset = 0) {
    textureIds.length = Math.max(textureIds.length, offset + size);
    for (let i = 0; i < size; i++) {
      textureIds[offset + i] = id;
    }
  }
  addUvs(verts, uvs, texture, start, size, matrix = null) {
    let index = 0;
    const uvsStart = uvs.length;
    const frame = texture.frame;
    while (index < size) {
      let x = verts[(start + index) * 2];
      let y = verts[(start + index) * 2 + 1];
      if (matrix) {
        const nx = matrix.a * x + matrix.c * y + matrix.tx;
        y = matrix.b * x + matrix.d * y + matrix.ty;
        x = nx;
      }
      index++;
      uvs.push(x / frame.width, y / frame.height);
    }
    const baseTexture = texture.baseTexture;
    if (frame.width < baseTexture.width || frame.height < baseTexture.height) {
      this.adjustUvs(uvs, texture, uvsStart, size);
    }
  }
  adjustUvs(uvs, texture, start, size) {
    const baseTexture = texture.baseTexture;
    const eps = 1e-6;
    const finish = start + size * 2;
    const frame = texture.frame;
    const scaleX = frame.width / baseTexture.width;
    const scaleY = frame.height / baseTexture.height;
    let offsetX = frame.x / frame.width;
    let offsetY = frame.y / frame.height;
    let minX = Math.floor(uvs[start] + eps);
    let minY = Math.floor(uvs[start + 1] + eps);
    for (let i = start + 2; i < finish; i += 2) {
      minX = Math.min(minX, Math.floor(uvs[i] + eps));
      minY = Math.min(minY, Math.floor(uvs[i + 1] + eps));
    }
    offsetX -= minX;
    offsetY -= minY;
    for (let i = start; i < finish; i += 2) {
      uvs[i] = (uvs[i] + offsetX) * scaleX;
      uvs[i + 1] = (uvs[i + 1] + offsetY) * scaleY;
    }
  }
};
let GraphicsGeometry = _GraphicsGeometry;
GraphicsGeometry.BATCHABLE_SIZE = 100;


//# sourceMappingURL=GraphicsGeometry.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/const.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/const.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GRAPHICS_CURVES: () => (/* binding */ GRAPHICS_CURVES),
/* harmony export */   LINE_CAP: () => (/* binding */ LINE_CAP),
/* harmony export */   LINE_JOIN: () => (/* binding */ LINE_JOIN),
/* harmony export */   curves: () => (/* binding */ curves)
/* harmony export */ });
var LINE_JOIN = /* @__PURE__ */ ((LINE_JOIN2) => {
  LINE_JOIN2["MITER"] = "miter";
  LINE_JOIN2["BEVEL"] = "bevel";
  LINE_JOIN2["ROUND"] = "round";
  return LINE_JOIN2;
})(LINE_JOIN || {});
var LINE_CAP = /* @__PURE__ */ ((LINE_CAP2) => {
  LINE_CAP2["BUTT"] = "butt";
  LINE_CAP2["ROUND"] = "round";
  LINE_CAP2["SQUARE"] = "square";
  return LINE_CAP2;
})(LINE_CAP || {});
const curves = {
  adaptive: true,
  maxLength: 10,
  minSegments: 8,
  maxSegments: 2048,
  epsilon: 1e-4,
  _segmentsCount(length, defaultSegments = 20) {
    if (!this.adaptive || !length || isNaN(length)) {
      return defaultSegments;
    }
    let result = Math.ceil(length / this.maxLength);
    if (result < this.minSegments) {
      result = this.minSegments;
    } else if (result > this.maxSegments) {
      result = this.maxSegments;
    }
    return result;
  }
};
const GRAPHICS_CURVES = curves;


//# sourceMappingURL=const.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/index.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/index.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FillStyle: () => (/* reexport safe */ _styles_FillStyle_mjs__WEBPACK_IMPORTED_MODULE_5__.FillStyle),
/* harmony export */   GRAPHICS_CURVES: () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_1__.GRAPHICS_CURVES),
/* harmony export */   Graphics: () => (/* reexport safe */ _Graphics_mjs__WEBPACK_IMPORTED_MODULE_2__.Graphics),
/* harmony export */   GraphicsData: () => (/* reexport safe */ _GraphicsData_mjs__WEBPACK_IMPORTED_MODULE_3__.GraphicsData),
/* harmony export */   GraphicsGeometry: () => (/* reexport safe */ _GraphicsGeometry_mjs__WEBPACK_IMPORTED_MODULE_4__.GraphicsGeometry),
/* harmony export */   LINE_CAP: () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_CAP),
/* harmony export */   LINE_JOIN: () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_JOIN),
/* harmony export */   LineStyle: () => (/* reexport safe */ _styles_LineStyle_mjs__WEBPACK_IMPORTED_MODULE_6__.LineStyle),
/* harmony export */   curves: () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_1__.curves),
/* harmony export */   graphicsUtils: () => (/* binding */ graphicsUtils)
/* harmony export */ });
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/graphics/lib/utils/index.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/graphics/lib/const.mjs");
/* harmony import */ var _Graphics_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Graphics.mjs */ "./node_modules/@pixi/graphics/lib/Graphics.mjs");
/* harmony import */ var _GraphicsData_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GraphicsData.mjs */ "./node_modules/@pixi/graphics/lib/GraphicsData.mjs");
/* harmony import */ var _GraphicsGeometry_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GraphicsGeometry.mjs */ "./node_modules/@pixi/graphics/lib/GraphicsGeometry.mjs");
/* harmony import */ var _styles_FillStyle_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./styles/FillStyle.mjs */ "./node_modules/@pixi/graphics/lib/styles/FillStyle.mjs");
/* harmony import */ var _styles_LineStyle_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./styles/LineStyle.mjs */ "./node_modules/@pixi/graphics/lib/styles/LineStyle.mjs");
/* harmony import */ var _utils_buildPoly_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/buildPoly.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildPoly.mjs");
/* harmony import */ var _utils_buildCircle_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/buildCircle.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildCircle.mjs");
/* harmony import */ var _utils_buildRectangle_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/buildRectangle.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildRectangle.mjs");
/* harmony import */ var _utils_buildRoundedRectangle_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/buildRoundedRectangle.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildRoundedRectangle.mjs");
/* harmony import */ var _utils_buildLine_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/buildLine.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildLine.mjs");
/* harmony import */ var _utils_ArcUtils_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils/ArcUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/ArcUtils.mjs");
/* harmony import */ var _utils_BezierUtils_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils/BezierUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/BezierUtils.mjs");
/* harmony import */ var _utils_QuadraticUtils_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./utils/QuadraticUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/QuadraticUtils.mjs");
/* harmony import */ var _utils_BatchPart_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils/BatchPart.mjs */ "./node_modules/@pixi/graphics/lib/utils/BatchPart.mjs");

















const graphicsUtils = {
  buildPoly: _utils_buildPoly_mjs__WEBPACK_IMPORTED_MODULE_7__.buildPoly,
  buildCircle: _utils_buildCircle_mjs__WEBPACK_IMPORTED_MODULE_8__.buildCircle,
  buildRectangle: _utils_buildRectangle_mjs__WEBPACK_IMPORTED_MODULE_9__.buildRectangle,
  buildRoundedRectangle: _utils_buildRoundedRectangle_mjs__WEBPACK_IMPORTED_MODULE_10__.buildRoundedRectangle,
  buildLine: _utils_buildLine_mjs__WEBPACK_IMPORTED_MODULE_11__.buildLine,
  ArcUtils: _utils_ArcUtils_mjs__WEBPACK_IMPORTED_MODULE_12__.ArcUtils,
  BezierUtils: _utils_BezierUtils_mjs__WEBPACK_IMPORTED_MODULE_13__.BezierUtils,
  QuadraticUtils: _utils_QuadraticUtils_mjs__WEBPACK_IMPORTED_MODULE_14__.QuadraticUtils,
  BatchPart: _utils_BatchPart_mjs__WEBPACK_IMPORTED_MODULE_15__.BatchPart,
  FILL_COMMANDS: _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__.FILL_COMMANDS,
  BATCH_POOL: _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__.BATCH_POOL,
  DRAW_CALL_POOL: _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__.DRAW_CALL_POOL
};


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/styles/FillStyle.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/styles/FillStyle.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FillStyle: () => (/* binding */ FillStyle)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


class FillStyle {
  constructor() {
    this.color = 16777215;
    this.alpha = 1;
    this.texture = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.WHITE;
    this.matrix = null;
    this.visible = false;
    this.reset();
  }
  clone() {
    const obj = new FillStyle();
    obj.color = this.color;
    obj.alpha = this.alpha;
    obj.texture = this.texture;
    obj.matrix = this.matrix;
    obj.visible = this.visible;
    return obj;
  }
  reset() {
    this.color = 16777215;
    this.alpha = 1;
    this.texture = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.WHITE;
    this.matrix = null;
    this.visible = false;
  }
  destroy() {
    this.texture = null;
    this.matrix = null;
  }
}


//# sourceMappingURL=FillStyle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/styles/LineStyle.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/styles/LineStyle.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineStyle: () => (/* binding */ LineStyle)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/graphics/lib/const.mjs");
/* harmony import */ var _FillStyle_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FillStyle.mjs */ "./node_modules/@pixi/graphics/lib/styles/FillStyle.mjs");



class LineStyle extends _FillStyle_mjs__WEBPACK_IMPORTED_MODULE_1__.FillStyle {
  constructor() {
    super(...arguments);
    this.width = 0;
    this.alignment = 0.5;
    this.native = false;
    this.cap = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.LINE_CAP.BUTT;
    this.join = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.LINE_JOIN.MITER;
    this.miterLimit = 10;
  }
  clone() {
    const obj = new LineStyle();
    obj.color = this.color;
    obj.alpha = this.alpha;
    obj.texture = this.texture;
    obj.matrix = this.matrix;
    obj.visible = this.visible;
    obj.width = this.width;
    obj.alignment = this.alignment;
    obj.native = this.native;
    obj.cap = this.cap;
    obj.join = this.join;
    obj.miterLimit = this.miterLimit;
    return obj;
  }
  reset() {
    super.reset();
    this.color = 0;
    this.alignment = 0.5;
    this.width = 0;
    this.native = false;
  }
}


//# sourceMappingURL=LineStyle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/ArcUtils.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/ArcUtils.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArcUtils: () => (/* binding */ ArcUtils)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/graphics/lib/const.mjs");



class ArcUtils {
  static curveTo(x1, y1, x2, y2, radius, points) {
    const fromX = points[points.length - 2];
    const fromY = points[points.length - 1];
    const a1 = fromY - y1;
    const b1 = fromX - x1;
    const a2 = y2 - y1;
    const b2 = x2 - x1;
    const mm = Math.abs(a1 * b2 - b1 * a2);
    if (mm < 1e-8 || radius === 0) {
      if (points[points.length - 2] !== x1 || points[points.length - 1] !== y1) {
        points.push(x1, y1);
      }
      return null;
    }
    const dd = a1 * a1 + b1 * b1;
    const cc = a2 * a2 + b2 * b2;
    const tt = a1 * a2 + b1 * b2;
    const k1 = radius * Math.sqrt(dd) / mm;
    const k2 = radius * Math.sqrt(cc) / mm;
    const j1 = k1 * tt / dd;
    const j2 = k2 * tt / cc;
    const cx = k1 * b2 + k2 * b1;
    const cy = k1 * a2 + k2 * a1;
    const px = b1 * (k2 + j1);
    const py = a1 * (k2 + j1);
    const qx = b2 * (k1 + j2);
    const qy = a2 * (k1 + j2);
    const startAngle = Math.atan2(py - cy, px - cx);
    const endAngle = Math.atan2(qy - cy, qx - cx);
    return {
      cx: cx + x1,
      cy: cy + y1,
      radius,
      startAngle,
      endAngle,
      anticlockwise: b1 * a2 > b2 * a1
    };
  }
  static arc(_startX, _startY, cx, cy, radius, startAngle, endAngle, _anticlockwise, points) {
    const sweep = endAngle - startAngle;
    const n = _const_mjs__WEBPACK_IMPORTED_MODULE_1__.curves._segmentsCount(Math.abs(sweep) * radius, Math.ceil(Math.abs(sweep) / _pixi_core__WEBPACK_IMPORTED_MODULE_0__.PI_2) * 40);
    const theta = sweep / (n * 2);
    const theta2 = theta * 2;
    const cTheta = Math.cos(theta);
    const sTheta = Math.sin(theta);
    const segMinus = n - 1;
    const remainder = segMinus % 1 / segMinus;
    for (let i = 0; i <= segMinus; ++i) {
      const real = i + remainder * i;
      const angle = theta + startAngle + theta2 * real;
      const c = Math.cos(angle);
      const s = -Math.sin(angle);
      points.push((cTheta * c + sTheta * s) * radius + cx, (cTheta * -s + sTheta * c) * radius + cy);
    }
  }
}


//# sourceMappingURL=ArcUtils.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/BatchPart.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/BatchPart.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BatchPart: () => (/* binding */ BatchPart)
/* harmony export */ });
class BatchPart {
  constructor() {
    this.reset();
  }
  begin(style, startIndex, attribStart) {
    this.reset();
    this.style = style;
    this.start = startIndex;
    this.attribStart = attribStart;
  }
  end(endIndex, endAttrib) {
    this.attribSize = endAttrib - this.attribStart;
    this.size = endIndex - this.start;
  }
  reset() {
    this.style = null;
    this.size = 0;
    this.start = 0;
    this.attribStart = 0;
    this.attribSize = 0;
  }
}


//# sourceMappingURL=BatchPart.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/BezierUtils.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/BezierUtils.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BezierUtils: () => (/* binding */ BezierUtils)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/graphics/lib/const.mjs");


class BezierUtils {
  static curveLength(fromX, fromY, cpX, cpY, cpX2, cpY2, toX, toY) {
    const n = 10;
    let result = 0;
    let t = 0;
    let t2 = 0;
    let t3 = 0;
    let nt = 0;
    let nt2 = 0;
    let nt3 = 0;
    let x = 0;
    let y = 0;
    let dx = 0;
    let dy = 0;
    let prevX = fromX;
    let prevY = fromY;
    for (let i = 1; i <= n; ++i) {
      t = i / n;
      t2 = t * t;
      t3 = t2 * t;
      nt = 1 - t;
      nt2 = nt * nt;
      nt3 = nt2 * nt;
      x = nt3 * fromX + 3 * nt2 * t * cpX + 3 * nt * t2 * cpX2 + t3 * toX;
      y = nt3 * fromY + 3 * nt2 * t * cpY + 3 * nt * t2 * cpY2 + t3 * toY;
      dx = prevX - x;
      dy = prevY - y;
      prevX = x;
      prevY = y;
      result += Math.sqrt(dx * dx + dy * dy);
    }
    return result;
  }
  static curveTo(cpX, cpY, cpX2, cpY2, toX, toY, points) {
    const fromX = points[points.length - 2];
    const fromY = points[points.length - 1];
    points.length -= 2;
    const n = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.curves._segmentsCount(BezierUtils.curveLength(fromX, fromY, cpX, cpY, cpX2, cpY2, toX, toY));
    let dt = 0;
    let dt2 = 0;
    let dt3 = 0;
    let t2 = 0;
    let t3 = 0;
    points.push(fromX, fromY);
    for (let i = 1, j = 0; i <= n; ++i) {
      j = i / n;
      dt = 1 - j;
      dt2 = dt * dt;
      dt3 = dt2 * dt;
      t2 = j * j;
      t3 = t2 * j;
      points.push(dt3 * fromX + 3 * dt2 * j * cpX + 3 * dt * t2 * cpX2 + t3 * toX, dt3 * fromY + 3 * dt2 * j * cpY + 3 * dt * t2 * cpY2 + t3 * toY);
    }
  }
}


//# sourceMappingURL=BezierUtils.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/QuadraticUtils.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/QuadraticUtils.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QuadraticUtils: () => (/* binding */ QuadraticUtils)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/graphics/lib/const.mjs");


class QuadraticUtils {
  static curveLength(fromX, fromY, cpX, cpY, toX, toY) {
    const ax = fromX - 2 * cpX + toX;
    const ay = fromY - 2 * cpY + toY;
    const bx = 2 * cpX - 2 * fromX;
    const by = 2 * cpY - 2 * fromY;
    const a = 4 * (ax * ax + ay * ay);
    const b = 4 * (ax * bx + ay * by);
    const c = bx * bx + by * by;
    const s = 2 * Math.sqrt(a + b + c);
    const a2 = Math.sqrt(a);
    const a32 = 2 * a * a2;
    const c2 = 2 * Math.sqrt(c);
    const ba = b / a2;
    return (a32 * s + a2 * b * (s - c2) + (4 * c * a - b * b) * Math.log((2 * a2 + ba + s) / (ba + c2))) / (4 * a32);
  }
  static curveTo(cpX, cpY, toX, toY, points) {
    const fromX = points[points.length - 2];
    const fromY = points[points.length - 1];
    const n = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.curves._segmentsCount(QuadraticUtils.curveLength(fromX, fromY, cpX, cpY, toX, toY));
    let xa = 0;
    let ya = 0;
    for (let i = 1; i <= n; ++i) {
      const j = i / n;
      xa = fromX + (cpX - fromX) * j;
      ya = fromY + (cpY - fromY) * j;
      points.push(xa + (cpX + (toX - cpX) * j - xa) * j, ya + (cpY + (toY - cpY) * j - ya) * j);
    }
  }
}


//# sourceMappingURL=QuadraticUtils.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/buildCircle.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/buildCircle.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   buildCircle: () => (/* binding */ buildCircle)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const buildCircle = {
  build(graphicsData) {
    const points = graphicsData.points;
    let x;
    let y;
    let dx;
    let dy;
    let rx;
    let ry;
    if (graphicsData.type === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.CIRC) {
      const circle = graphicsData.shape;
      x = circle.x;
      y = circle.y;
      rx = ry = circle.radius;
      dx = dy = 0;
    } else if (graphicsData.type === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.ELIP) {
      const ellipse = graphicsData.shape;
      x = ellipse.x;
      y = ellipse.y;
      rx = ellipse.width;
      ry = ellipse.height;
      dx = dy = 0;
    } else {
      const roundedRect = graphicsData.shape;
      const halfWidth = roundedRect.width / 2;
      const halfHeight = roundedRect.height / 2;
      x = roundedRect.x + halfWidth;
      y = roundedRect.y + halfHeight;
      rx = ry = Math.max(0, Math.min(roundedRect.radius, Math.min(halfWidth, halfHeight)));
      dx = halfWidth - rx;
      dy = halfHeight - ry;
    }
    if (!(rx >= 0 && ry >= 0 && dx >= 0 && dy >= 0)) {
      points.length = 0;
      return;
    }
    const n = Math.ceil(2.3 * Math.sqrt(rx + ry));
    const m = n * 8 + (dx ? 4 : 0) + (dy ? 4 : 0);
    points.length = m;
    if (m === 0) {
      return;
    }
    if (n === 0) {
      points.length = 8;
      points[0] = points[6] = x + dx;
      points[1] = points[3] = y + dy;
      points[2] = points[4] = x - dx;
      points[5] = points[7] = y - dy;
      return;
    }
    let j1 = 0;
    let j2 = n * 4 + (dx ? 2 : 0) + 2;
    let j3 = j2;
    let j4 = m;
    {
      const x0 = dx + rx;
      const y0 = dy;
      const x1 = x + x0;
      const x2 = x - x0;
      const y1 = y + y0;
      points[j1++] = x1;
      points[j1++] = y1;
      points[--j2] = y1;
      points[--j2] = x2;
      if (dy) {
        const y2 = y - y0;
        points[j3++] = x2;
        points[j3++] = y2;
        points[--j4] = y2;
        points[--j4] = x1;
      }
    }
    for (let i = 1; i < n; i++) {
      const a = Math.PI / 2 * (i / n);
      const x0 = dx + Math.cos(a) * rx;
      const y0 = dy + Math.sin(a) * ry;
      const x1 = x + x0;
      const x2 = x - x0;
      const y1 = y + y0;
      const y2 = y - y0;
      points[j1++] = x1;
      points[j1++] = y1;
      points[--j2] = y1;
      points[--j2] = x2;
      points[j3++] = x2;
      points[j3++] = y2;
      points[--j4] = y2;
      points[--j4] = x1;
    }
    {
      const x0 = dx;
      const y0 = dy + ry;
      const x1 = x + x0;
      const x2 = x - x0;
      const y1 = y + y0;
      const y2 = y - y0;
      points[j1++] = x1;
      points[j1++] = y1;
      points[--j4] = y2;
      points[--j4] = x1;
      if (dx) {
        points[j1++] = x2;
        points[j1++] = y1;
        points[--j4] = y2;
        points[--j4] = x2;
      }
    }
  },
  triangulate(graphicsData, graphicsGeometry) {
    const points = graphicsData.points;
    const verts = graphicsGeometry.points;
    const indices = graphicsGeometry.indices;
    if (points.length === 0) {
      return;
    }
    let vertPos = verts.length / 2;
    const center = vertPos;
    let x;
    let y;
    if (graphicsData.type !== _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.RREC) {
      const circle = graphicsData.shape;
      x = circle.x;
      y = circle.y;
    } else {
      const roundedRect = graphicsData.shape;
      x = roundedRect.x + roundedRect.width / 2;
      y = roundedRect.y + roundedRect.height / 2;
    }
    const matrix = graphicsData.matrix;
    verts.push(graphicsData.matrix ? matrix.a * x + matrix.c * y + matrix.tx : x, graphicsData.matrix ? matrix.b * x + matrix.d * y + matrix.ty : y);
    vertPos++;
    verts.push(points[0], points[1]);
    for (let i = 2; i < points.length; i += 2) {
      verts.push(points[i], points[i + 1]);
      indices.push(vertPos++, center, vertPos);
    }
    indices.push(center + 1, center, vertPos);
  }
};


//# sourceMappingURL=buildCircle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/buildLine.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/buildLine.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   buildLine: () => (/* binding */ buildLine)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/graphics/lib/const.mjs");



function square(x, y, nx, ny, innerWeight, outerWeight, clockwise, verts) {
  const ix = x - nx * innerWeight;
  const iy = y - ny * innerWeight;
  const ox = x + nx * outerWeight;
  const oy = y + ny * outerWeight;
  let exx;
  let eyy;
  if (clockwise) {
    exx = ny;
    eyy = -nx;
  } else {
    exx = -ny;
    eyy = nx;
  }
  const eix = ix + exx;
  const eiy = iy + eyy;
  const eox = ox + exx;
  const eoy = oy + eyy;
  verts.push(eix, eiy, eox, eoy);
  return 2;
}
function round(cx, cy, sx, sy, ex, ey, verts, clockwise) {
  const cx2p0x = sx - cx;
  const cy2p0y = sy - cy;
  let angle0 = Math.atan2(cx2p0x, cy2p0y);
  let angle1 = Math.atan2(ex - cx, ey - cy);
  if (clockwise && angle0 < angle1) {
    angle0 += Math.PI * 2;
  } else if (!clockwise && angle0 > angle1) {
    angle1 += Math.PI * 2;
  }
  let startAngle = angle0;
  const angleDiff = angle1 - angle0;
  const absAngleDiff = Math.abs(angleDiff);
  const radius = Math.sqrt(cx2p0x * cx2p0x + cy2p0y * cy2p0y);
  const segCount = (15 * absAngleDiff * Math.sqrt(radius) / Math.PI >> 0) + 1;
  const angleInc = angleDiff / segCount;
  startAngle += angleInc;
  if (clockwise) {
    verts.push(cx, cy, sx, sy);
    for (let i = 1, angle = startAngle; i < segCount; i++, angle += angleInc) {
      verts.push(cx, cy, cx + Math.sin(angle) * radius, cy + Math.cos(angle) * radius);
    }
    verts.push(cx, cy, ex, ey);
  } else {
    verts.push(sx, sy, cx, cy);
    for (let i = 1, angle = startAngle; i < segCount; i++, angle += angleInc) {
      verts.push(cx + Math.sin(angle) * radius, cy + Math.cos(angle) * radius, cx, cy);
    }
    verts.push(ex, ey, cx, cy);
  }
  return segCount * 2;
}
function buildNonNativeLine(graphicsData, graphicsGeometry) {
  const shape = graphicsData.shape;
  let points = graphicsData.points || shape.points.slice();
  const eps = graphicsGeometry.closePointEps;
  if (points.length === 0) {
    return;
  }
  const style = graphicsData.lineStyle;
  const firstPoint = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point(points[0], points[1]);
  const lastPoint = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point(points[points.length - 2], points[points.length - 1]);
  const closedShape = shape.type !== _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.POLY || shape.closeStroke;
  const closedPath = Math.abs(firstPoint.x - lastPoint.x) < eps && Math.abs(firstPoint.y - lastPoint.y) < eps;
  if (closedShape) {
    points = points.slice();
    if (closedPath) {
      points.pop();
      points.pop();
      lastPoint.set(points[points.length - 2], points[points.length - 1]);
    }
    const midPointX = (firstPoint.x + lastPoint.x) * 0.5;
    const midPointY = (lastPoint.y + firstPoint.y) * 0.5;
    points.unshift(midPointX, midPointY);
    points.push(midPointX, midPointY);
  }
  const verts = graphicsGeometry.points;
  const length = points.length / 2;
  let indexCount = points.length;
  const indexStart = verts.length / 2;
  const width = style.width / 2;
  const widthSquared = width * width;
  const miterLimitSquared = style.miterLimit * style.miterLimit;
  let x0 = points[0];
  let y0 = points[1];
  let x1 = points[2];
  let y1 = points[3];
  let x2 = 0;
  let y2 = 0;
  let perpx = -(y0 - y1);
  let perpy = x0 - x1;
  let perp1x = 0;
  let perp1y = 0;
  let dist = Math.sqrt(perpx * perpx + perpy * perpy);
  perpx /= dist;
  perpy /= dist;
  perpx *= width;
  perpy *= width;
  const ratio = style.alignment;
  const innerWeight = (1 - ratio) * 2;
  const outerWeight = ratio * 2;
  if (!closedShape) {
    if (style.cap === _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_CAP.ROUND) {
      indexCount += round(x0 - perpx * (innerWeight - outerWeight) * 0.5, y0 - perpy * (innerWeight - outerWeight) * 0.5, x0 - perpx * innerWeight, y0 - perpy * innerWeight, x0 + perpx * outerWeight, y0 + perpy * outerWeight, verts, true) + 2;
    } else if (style.cap === _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_CAP.SQUARE) {
      indexCount += square(x0, y0, perpx, perpy, innerWeight, outerWeight, true, verts);
    }
  }
  verts.push(x0 - perpx * innerWeight, y0 - perpy * innerWeight, x0 + perpx * outerWeight, y0 + perpy * outerWeight);
  for (let i = 1; i < length - 1; ++i) {
    x0 = points[(i - 1) * 2];
    y0 = points[(i - 1) * 2 + 1];
    x1 = points[i * 2];
    y1 = points[i * 2 + 1];
    x2 = points[(i + 1) * 2];
    y2 = points[(i + 1) * 2 + 1];
    perpx = -(y0 - y1);
    perpy = x0 - x1;
    dist = Math.sqrt(perpx * perpx + perpy * perpy);
    perpx /= dist;
    perpy /= dist;
    perpx *= width;
    perpy *= width;
    perp1x = -(y1 - y2);
    perp1y = x1 - x2;
    dist = Math.sqrt(perp1x * perp1x + perp1y * perp1y);
    perp1x /= dist;
    perp1y /= dist;
    perp1x *= width;
    perp1y *= width;
    const dx0 = x1 - x0;
    const dy0 = y0 - y1;
    const dx1 = x1 - x2;
    const dy1 = y2 - y1;
    const dot = dx0 * dx1 + dy0 * dy1;
    const cross = dy0 * dx1 - dy1 * dx0;
    const clockwise = cross < 0;
    if (Math.abs(cross) < 1e-3 * Math.abs(dot)) {
      verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 + perpx * outerWeight, y1 + perpy * outerWeight);
      if (dot >= 0) {
        if (style.join === _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_JOIN.ROUND) {
          indexCount += round(x1, y1, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, verts, false) + 4;
        } else {
          indexCount += 2;
        }
        verts.push(x1 - perp1x * outerWeight, y1 - perp1y * outerWeight, x1 + perp1x * innerWeight, y1 + perp1y * innerWeight);
      }
      continue;
    }
    const c1 = (-perpx + x0) * (-perpy + y1) - (-perpx + x1) * (-perpy + y0);
    const c2 = (-perp1x + x2) * (-perp1y + y1) - (-perp1x + x1) * (-perp1y + y2);
    const px = (dx0 * c2 - dx1 * c1) / cross;
    const py = (dy1 * c1 - dy0 * c2) / cross;
    const pdist = (px - x1) * (px - x1) + (py - y1) * (py - y1);
    const imx = x1 + (px - x1) * innerWeight;
    const imy = y1 + (py - y1) * innerWeight;
    const omx = x1 - (px - x1) * outerWeight;
    const omy = y1 - (py - y1) * outerWeight;
    const smallerInsideSegmentSq = Math.min(dx0 * dx0 + dy0 * dy0, dx1 * dx1 + dy1 * dy1);
    const insideWeight = clockwise ? innerWeight : outerWeight;
    const smallerInsideDiagonalSq = smallerInsideSegmentSq + insideWeight * insideWeight * widthSquared;
    const insideMiterOk = pdist <= smallerInsideDiagonalSq;
    let join = style.join;
    if (join === _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_JOIN.MITER && pdist / widthSquared > miterLimitSquared) {
      join = _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_JOIN.BEVEL;
    }
    if (insideMiterOk) {
      switch (join) {
        case _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_JOIN.MITER: {
          verts.push(imx, imy, omx, omy);
          break;
        }
        case _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_JOIN.BEVEL: {
          if (clockwise) {
            verts.push(imx, imy, x1 + perpx * outerWeight, y1 + perpy * outerWeight, imx, imy, x1 + perp1x * outerWeight, y1 + perp1y * outerWeight);
          } else {
            verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight, omx, omy, x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, omx, omy);
          }
          indexCount += 2;
          break;
        }
        case _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_JOIN.ROUND: {
          if (clockwise) {
            verts.push(imx, imy, x1 + perpx * outerWeight, y1 + perpy * outerWeight);
            indexCount += round(x1, y1, x1 + perpx * outerWeight, y1 + perpy * outerWeight, x1 + perp1x * outerWeight, y1 + perp1y * outerWeight, verts, true) + 4;
            verts.push(imx, imy, x1 + perp1x * outerWeight, y1 + perp1y * outerWeight);
          } else {
            verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight, omx, omy);
            indexCount += round(x1, y1, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, verts, false) + 4;
            verts.push(x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, omx, omy);
          }
          break;
        }
      }
    } else {
      verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 + perpx * outerWeight, y1 + perpy * outerWeight);
      switch (join) {
        case _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_JOIN.MITER: {
          if (clockwise) {
            verts.push(omx, omy, omx, omy);
          } else {
            verts.push(imx, imy, imx, imy);
          }
          indexCount += 2;
          break;
        }
        case _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_JOIN.ROUND: {
          if (clockwise) {
            indexCount += round(x1, y1, x1 + perpx * outerWeight, y1 + perpy * outerWeight, x1 + perp1x * outerWeight, y1 + perp1y * outerWeight, verts, true) + 2;
          } else {
            indexCount += round(x1, y1, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, verts, false) + 2;
          }
          break;
        }
      }
      verts.push(x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, x1 + perp1x * outerWeight, y1 + perp1y * outerWeight);
      indexCount += 2;
    }
  }
  x0 = points[(length - 2) * 2];
  y0 = points[(length - 2) * 2 + 1];
  x1 = points[(length - 1) * 2];
  y1 = points[(length - 1) * 2 + 1];
  perpx = -(y0 - y1);
  perpy = x0 - x1;
  dist = Math.sqrt(perpx * perpx + perpy * perpy);
  perpx /= dist;
  perpy /= dist;
  perpx *= width;
  perpy *= width;
  verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 + perpx * outerWeight, y1 + perpy * outerWeight);
  if (!closedShape) {
    if (style.cap === _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_CAP.ROUND) {
      indexCount += round(x1 - perpx * (innerWeight - outerWeight) * 0.5, y1 - perpy * (innerWeight - outerWeight) * 0.5, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 + perpx * outerWeight, y1 + perpy * outerWeight, verts, false) + 2;
    } else if (style.cap === _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_CAP.SQUARE) {
      indexCount += square(x1, y1, perpx, perpy, innerWeight, outerWeight, false, verts);
    }
  }
  const indices = graphicsGeometry.indices;
  const eps2 = _const_mjs__WEBPACK_IMPORTED_MODULE_1__.curves.epsilon * _const_mjs__WEBPACK_IMPORTED_MODULE_1__.curves.epsilon;
  for (let i = indexStart; i < indexCount + indexStart - 2; ++i) {
    x0 = verts[i * 2];
    y0 = verts[i * 2 + 1];
    x1 = verts[(i + 1) * 2];
    y1 = verts[(i + 1) * 2 + 1];
    x2 = verts[(i + 2) * 2];
    y2 = verts[(i + 2) * 2 + 1];
    if (Math.abs(x0 * (y1 - y2) + x1 * (y2 - y0) + x2 * (y0 - y1)) < eps2) {
      continue;
    }
    indices.push(i, i + 1, i + 2);
  }
}
function buildNativeLine(graphicsData, graphicsGeometry) {
  let i = 0;
  const shape = graphicsData.shape;
  const points = graphicsData.points || shape.points;
  const closedShape = shape.type !== _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.POLY || shape.closeStroke;
  if (points.length === 0)
    return;
  const verts = graphicsGeometry.points;
  const indices = graphicsGeometry.indices;
  const length = points.length / 2;
  const startIndex = verts.length / 2;
  let currentIndex = startIndex;
  verts.push(points[0], points[1]);
  for (i = 1; i < length; i++) {
    verts.push(points[i * 2], points[i * 2 + 1]);
    indices.push(currentIndex, currentIndex + 1);
    currentIndex++;
  }
  if (closedShape) {
    indices.push(currentIndex, startIndex);
  }
}
function buildLine(graphicsData, graphicsGeometry) {
  if (graphicsData.lineStyle.native) {
    buildNativeLine(graphicsData, graphicsGeometry);
  } else {
    buildNonNativeLine(graphicsData, graphicsGeometry);
  }
}


//# sourceMappingURL=buildLine.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/buildPoly.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/buildPoly.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   buildPoly: () => (/* binding */ buildPoly)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


function fixOrientation(points, hole = false) {
  const m = points.length;
  if (m < 6) {
    return;
  }
  let area = 0;
  for (let i = 0, x1 = points[m - 2], y1 = points[m - 1]; i < m; i += 2) {
    const x2 = points[i];
    const y2 = points[i + 1];
    area += (x2 - x1) * (y2 + y1);
    x1 = x2;
    y1 = y2;
  }
  if (!hole && area > 0 || hole && area <= 0) {
    const n = m / 2;
    for (let i = n + n % 2; i < m; i += 2) {
      const i1 = m - i - 2;
      const i2 = m - i - 1;
      const i3 = i;
      const i4 = i + 1;
      [points[i1], points[i3]] = [points[i3], points[i1]];
      [points[i2], points[i4]] = [points[i4], points[i2]];
    }
  }
}
const buildPoly = {
  build(graphicsData) {
    graphicsData.points = graphicsData.shape.points.slice();
  },
  triangulate(graphicsData, graphicsGeometry) {
    let points = graphicsData.points;
    const holes = graphicsData.holes;
    const verts = graphicsGeometry.points;
    const indices = graphicsGeometry.indices;
    if (points.length >= 6) {
      fixOrientation(points, false);
      const holeArray = [];
      for (let i = 0; i < holes.length; i++) {
        const hole = holes[i];
        fixOrientation(hole.points, true);
        holeArray.push(points.length / 2);
        points = points.concat(hole.points);
      }
      const triangles = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.earcut(points, holeArray, 2);
      if (!triangles) {
        return;
      }
      const vertPos = verts.length / 2;
      for (let i = 0; i < triangles.length; i += 3) {
        indices.push(triangles[i] + vertPos);
        indices.push(triangles[i + 1] + vertPos);
        indices.push(triangles[i + 2] + vertPos);
      }
      for (let i = 0; i < points.length; i++) {
        verts.push(points[i]);
      }
    }
  }
};


//# sourceMappingURL=buildPoly.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/buildRectangle.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/buildRectangle.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   buildRectangle: () => (/* binding */ buildRectangle)
/* harmony export */ });
const buildRectangle = {
  build(graphicsData) {
    const rectData = graphicsData.shape;
    const x = rectData.x;
    const y = rectData.y;
    const width = rectData.width;
    const height = rectData.height;
    const points = graphicsData.points;
    points.length = 0;
    if (!(width >= 0 && height >= 0)) {
      return;
    }
    points.push(x, y, x + width, y, x + width, y + height, x, y + height);
  },
  triangulate(graphicsData, graphicsGeometry) {
    const points = graphicsData.points;
    const verts = graphicsGeometry.points;
    if (points.length === 0) {
      return;
    }
    const vertPos = verts.length / 2;
    verts.push(points[0], points[1], points[2], points[3], points[6], points[7], points[4], points[5]);
    graphicsGeometry.indices.push(vertPos, vertPos + 1, vertPos + 2, vertPos + 1, vertPos + 2, vertPos + 3);
  }
};


//# sourceMappingURL=buildRectangle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/buildRoundedRectangle.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/buildRoundedRectangle.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   buildRoundedRectangle: () => (/* binding */ buildRoundedRectangle)
/* harmony export */ });
/* harmony import */ var _buildCircle_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buildCircle.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildCircle.mjs");


const buildRoundedRectangle = {
  build(graphicsData) {
    _buildCircle_mjs__WEBPACK_IMPORTED_MODULE_0__.buildCircle.build(graphicsData);
  },
  triangulate(graphicsData, graphicsGeometry) {
    _buildCircle_mjs__WEBPACK_IMPORTED_MODULE_0__.buildCircle.triangulate(graphicsData, graphicsGeometry);
  }
};


//# sourceMappingURL=buildRoundedRectangle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArcUtils: () => (/* reexport safe */ _ArcUtils_mjs__WEBPACK_IMPORTED_MODULE_5__.ArcUtils),
/* harmony export */   BATCH_POOL: () => (/* binding */ BATCH_POOL),
/* harmony export */   BatchPart: () => (/* reexport safe */ _BatchPart_mjs__WEBPACK_IMPORTED_MODULE_6__.BatchPart),
/* harmony export */   BezierUtils: () => (/* reexport safe */ _BezierUtils_mjs__WEBPACK_IMPORTED_MODULE_7__.BezierUtils),
/* harmony export */   DRAW_CALL_POOL: () => (/* binding */ DRAW_CALL_POOL),
/* harmony export */   FILL_COMMANDS: () => (/* binding */ FILL_COMMANDS),
/* harmony export */   QuadraticUtils: () => (/* reexport safe */ _QuadraticUtils_mjs__WEBPACK_IMPORTED_MODULE_9__.QuadraticUtils),
/* harmony export */   buildCircle: () => (/* reexport safe */ _buildCircle_mjs__WEBPACK_IMPORTED_MODULE_1__.buildCircle),
/* harmony export */   buildLine: () => (/* reexport safe */ _buildLine_mjs__WEBPACK_IMPORTED_MODULE_8__.buildLine),
/* harmony export */   buildPoly: () => (/* reexport safe */ _buildPoly_mjs__WEBPACK_IMPORTED_MODULE_2__.buildPoly),
/* harmony export */   buildRectangle: () => (/* reexport safe */ _buildRectangle_mjs__WEBPACK_IMPORTED_MODULE_3__.buildRectangle),
/* harmony export */   buildRoundedRectangle: () => (/* reexport safe */ _buildRoundedRectangle_mjs__WEBPACK_IMPORTED_MODULE_4__.buildRoundedRectangle)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _buildCircle_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buildCircle.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildCircle.mjs");
/* harmony import */ var _buildPoly_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./buildPoly.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildPoly.mjs");
/* harmony import */ var _buildRectangle_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./buildRectangle.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildRectangle.mjs");
/* harmony import */ var _buildRoundedRectangle_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./buildRoundedRectangle.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildRoundedRectangle.mjs");
/* harmony import */ var _ArcUtils_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ArcUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/ArcUtils.mjs");
/* harmony import */ var _BatchPart_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./BatchPart.mjs */ "./node_modules/@pixi/graphics/lib/utils/BatchPart.mjs");
/* harmony import */ var _BezierUtils_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BezierUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/BezierUtils.mjs");
/* harmony import */ var _buildLine_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./buildLine.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildLine.mjs");
/* harmony import */ var _QuadraticUtils_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./QuadraticUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/QuadraticUtils.mjs");















const FILL_COMMANDS = {
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.POLY]: _buildPoly_mjs__WEBPACK_IMPORTED_MODULE_2__.buildPoly,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.CIRC]: _buildCircle_mjs__WEBPACK_IMPORTED_MODULE_1__.buildCircle,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.ELIP]: _buildCircle_mjs__WEBPACK_IMPORTED_MODULE_1__.buildCircle,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.RECT]: _buildRectangle_mjs__WEBPACK_IMPORTED_MODULE_3__.buildRectangle,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.RREC]: _buildRoundedRectangle_mjs__WEBPACK_IMPORTED_MODULE_4__.buildRoundedRectangle
};
const BATCH_POOL = [];
const DRAW_CALL_POOL = [];


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/IPoint.mjs":
/*!************************************************!*\
  !*** ./node_modules/@pixi/math/lib/IPoint.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=IPoint.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/IPointData.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/math/lib/IPointData.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=IPointData.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/Matrix.mjs":
/*!************************************************!*\
  !*** ./node_modules/@pixi/math/lib/Matrix.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Matrix: () => (/* binding */ Matrix)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/math/lib/const.mjs");
/* harmony import */ var _Point_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Point.mjs */ "./node_modules/@pixi/math/lib/Point.mjs");



class Matrix {
  constructor(a = 1, b = 0, c = 0, d = 1, tx = 0, ty = 0) {
    this.array = null;
    this.a = a;
    this.b = b;
    this.c = c;
    this.d = d;
    this.tx = tx;
    this.ty = ty;
  }
  fromArray(array) {
    this.a = array[0];
    this.b = array[1];
    this.c = array[3];
    this.d = array[4];
    this.tx = array[2];
    this.ty = array[5];
  }
  set(a, b, c, d, tx, ty) {
    this.a = a;
    this.b = b;
    this.c = c;
    this.d = d;
    this.tx = tx;
    this.ty = ty;
    return this;
  }
  toArray(transpose, out) {
    if (!this.array) {
      this.array = new Float32Array(9);
    }
    const array = out || this.array;
    if (transpose) {
      array[0] = this.a;
      array[1] = this.b;
      array[2] = 0;
      array[3] = this.c;
      array[4] = this.d;
      array[5] = 0;
      array[6] = this.tx;
      array[7] = this.ty;
      array[8] = 1;
    } else {
      array[0] = this.a;
      array[1] = this.c;
      array[2] = this.tx;
      array[3] = this.b;
      array[4] = this.d;
      array[5] = this.ty;
      array[6] = 0;
      array[7] = 0;
      array[8] = 1;
    }
    return array;
  }
  apply(pos, newPos) {
    newPos = newPos || new _Point_mjs__WEBPACK_IMPORTED_MODULE_1__.Point();
    const x = pos.x;
    const y = pos.y;
    newPos.x = this.a * x + this.c * y + this.tx;
    newPos.y = this.b * x + this.d * y + this.ty;
    return newPos;
  }
  applyInverse(pos, newPos) {
    newPos = newPos || new _Point_mjs__WEBPACK_IMPORTED_MODULE_1__.Point();
    const id = 1 / (this.a * this.d + this.c * -this.b);
    const x = pos.x;
    const y = pos.y;
    newPos.x = this.d * id * x + -this.c * id * y + (this.ty * this.c - this.tx * this.d) * id;
    newPos.y = this.a * id * y + -this.b * id * x + (-this.ty * this.a + this.tx * this.b) * id;
    return newPos;
  }
  translate(x, y) {
    this.tx += x;
    this.ty += y;
    return this;
  }
  scale(x, y) {
    this.a *= x;
    this.d *= y;
    this.c *= x;
    this.b *= y;
    this.tx *= x;
    this.ty *= y;
    return this;
  }
  rotate(angle) {
    const cos = Math.cos(angle);
    const sin = Math.sin(angle);
    const a1 = this.a;
    const c1 = this.c;
    const tx1 = this.tx;
    this.a = a1 * cos - this.b * sin;
    this.b = a1 * sin + this.b * cos;
    this.c = c1 * cos - this.d * sin;
    this.d = c1 * sin + this.d * cos;
    this.tx = tx1 * cos - this.ty * sin;
    this.ty = tx1 * sin + this.ty * cos;
    return this;
  }
  append(matrix) {
    const a1 = this.a;
    const b1 = this.b;
    const c1 = this.c;
    const d1 = this.d;
    this.a = matrix.a * a1 + matrix.b * c1;
    this.b = matrix.a * b1 + matrix.b * d1;
    this.c = matrix.c * a1 + matrix.d * c1;
    this.d = matrix.c * b1 + matrix.d * d1;
    this.tx = matrix.tx * a1 + matrix.ty * c1 + this.tx;
    this.ty = matrix.tx * b1 + matrix.ty * d1 + this.ty;
    return this;
  }
  setTransform(x, y, pivotX, pivotY, scaleX, scaleY, rotation, skewX, skewY) {
    this.a = Math.cos(rotation + skewY) * scaleX;
    this.b = Math.sin(rotation + skewY) * scaleX;
    this.c = -Math.sin(rotation - skewX) * scaleY;
    this.d = Math.cos(rotation - skewX) * scaleY;
    this.tx = x - (pivotX * this.a + pivotY * this.c);
    this.ty = y - (pivotX * this.b + pivotY * this.d);
    return this;
  }
  prepend(matrix) {
    const tx1 = this.tx;
    if (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1) {
      const a1 = this.a;
      const c1 = this.c;
      this.a = a1 * matrix.a + this.b * matrix.c;
      this.b = a1 * matrix.b + this.b * matrix.d;
      this.c = c1 * matrix.a + this.d * matrix.c;
      this.d = c1 * matrix.b + this.d * matrix.d;
    }
    this.tx = tx1 * matrix.a + this.ty * matrix.c + matrix.tx;
    this.ty = tx1 * matrix.b + this.ty * matrix.d + matrix.ty;
    return this;
  }
  decompose(transform) {
    const a = this.a;
    const b = this.b;
    const c = this.c;
    const d = this.d;
    const pivot = transform.pivot;
    const skewX = -Math.atan2(-c, d);
    const skewY = Math.atan2(b, a);
    const delta = Math.abs(skewX + skewY);
    if (delta < 1e-5 || Math.abs(_const_mjs__WEBPACK_IMPORTED_MODULE_0__.PI_2 - delta) < 1e-5) {
      transform.rotation = skewY;
      transform.skew.x = transform.skew.y = 0;
    } else {
      transform.rotation = 0;
      transform.skew.x = skewX;
      transform.skew.y = skewY;
    }
    transform.scale.x = Math.sqrt(a * a + b * b);
    transform.scale.y = Math.sqrt(c * c + d * d);
    transform.position.x = this.tx + (pivot.x * a + pivot.y * c);
    transform.position.y = this.ty + (pivot.x * b + pivot.y * d);
    return transform;
  }
  invert() {
    const a1 = this.a;
    const b1 = this.b;
    const c1 = this.c;
    const d1 = this.d;
    const tx1 = this.tx;
    const n = a1 * d1 - b1 * c1;
    this.a = d1 / n;
    this.b = -b1 / n;
    this.c = -c1 / n;
    this.d = a1 / n;
    this.tx = (c1 * this.ty - d1 * tx1) / n;
    this.ty = -(a1 * this.ty - b1 * tx1) / n;
    return this;
  }
  identity() {
    this.a = 1;
    this.b = 0;
    this.c = 0;
    this.d = 1;
    this.tx = 0;
    this.ty = 0;
    return this;
  }
  clone() {
    const matrix = new Matrix();
    matrix.a = this.a;
    matrix.b = this.b;
    matrix.c = this.c;
    matrix.d = this.d;
    matrix.tx = this.tx;
    matrix.ty = this.ty;
    return matrix;
  }
  copyTo(matrix) {
    matrix.a = this.a;
    matrix.b = this.b;
    matrix.c = this.c;
    matrix.d = this.d;
    matrix.tx = this.tx;
    matrix.ty = this.ty;
    return matrix;
  }
  copyFrom(matrix) {
    this.a = matrix.a;
    this.b = matrix.b;
    this.c = matrix.c;
    this.d = matrix.d;
    this.tx = matrix.tx;
    this.ty = matrix.ty;
    return this;
  }
  toString() {
    return `[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`;
  }
  static get IDENTITY() {
    return new Matrix();
  }
  static get TEMP_MATRIX() {
    return new Matrix();
  }
}


//# sourceMappingURL=Matrix.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/ObservablePoint.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/math/lib/ObservablePoint.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ObservablePoint: () => (/* binding */ ObservablePoint)
/* harmony export */ });
class ObservablePoint {
  constructor(cb, scope, x = 0, y = 0) {
    this._x = x;
    this._y = y;
    this.cb = cb;
    this.scope = scope;
  }
  clone(cb = this.cb, scope = this.scope) {
    return new ObservablePoint(cb, scope, this._x, this._y);
  }
  set(x = 0, y = x) {
    if (this._x !== x || this._y !== y) {
      this._x = x;
      this._y = y;
      this.cb.call(this.scope);
    }
    return this;
  }
  copyFrom(p) {
    if (this._x !== p.x || this._y !== p.y) {
      this._x = p.x;
      this._y = p.y;
      this.cb.call(this.scope);
    }
    return this;
  }
  copyTo(p) {
    p.set(this._x, this._y);
    return p;
  }
  equals(p) {
    return p.x === this._x && p.y === this._y;
  }
  toString() {
    return `[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`;
  }
  get x() {
    return this._x;
  }
  set x(value) {
    if (this._x !== value) {
      this._x = value;
      this.cb.call(this.scope);
    }
  }
  get y() {
    return this._y;
  }
  set y(value) {
    if (this._y !== value) {
      this._y = value;
      this.cb.call(this.scope);
    }
  }
}


//# sourceMappingURL=ObservablePoint.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/Point.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/math/lib/Point.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Point: () => (/* binding */ Point)
/* harmony export */ });
class Point {
  constructor(x = 0, y = 0) {
    this.x = 0;
    this.y = 0;
    this.x = x;
    this.y = y;
  }
  clone() {
    return new Point(this.x, this.y);
  }
  copyFrom(p) {
    this.set(p.x, p.y);
    return this;
  }
  copyTo(p) {
    p.set(this.x, this.y);
    return p;
  }
  equals(p) {
    return p.x === this.x && p.y === this.y;
  }
  set(x = 0, y = x) {
    this.x = x;
    this.y = y;
    return this;
  }
  toString() {
    return `[@pixi/math:Point x=${this.x} y=${this.y}]`;
  }
}


//# sourceMappingURL=Point.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/Transform.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/math/lib/Transform.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Transform: () => (/* binding */ Transform)
/* harmony export */ });
/* harmony import */ var _Matrix_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Matrix.mjs */ "./node_modules/@pixi/math/lib/Matrix.mjs");
/* harmony import */ var _ObservablePoint_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ObservablePoint.mjs */ "./node_modules/@pixi/math/lib/ObservablePoint.mjs");



const _Transform = class {
  constructor() {
    this.worldTransform = new _Matrix_mjs__WEBPACK_IMPORTED_MODULE_0__.Matrix();
    this.localTransform = new _Matrix_mjs__WEBPACK_IMPORTED_MODULE_0__.Matrix();
    this.position = new _ObservablePoint_mjs__WEBPACK_IMPORTED_MODULE_1__.ObservablePoint(this.onChange, this, 0, 0);
    this.scale = new _ObservablePoint_mjs__WEBPACK_IMPORTED_MODULE_1__.ObservablePoint(this.onChange, this, 1, 1);
    this.pivot = new _ObservablePoint_mjs__WEBPACK_IMPORTED_MODULE_1__.ObservablePoint(this.onChange, this, 0, 0);
    this.skew = new _ObservablePoint_mjs__WEBPACK_IMPORTED_MODULE_1__.ObservablePoint(this.updateSkew, this, 0, 0);
    this._rotation = 0;
    this._cx = 1;
    this._sx = 0;
    this._cy = 0;
    this._sy = 1;
    this._localID = 0;
    this._currentLocalID = 0;
    this._worldID = 0;
    this._parentID = 0;
  }
  onChange() {
    this._localID++;
  }
  updateSkew() {
    this._cx = Math.cos(this._rotation + this.skew.y);
    this._sx = Math.sin(this._rotation + this.skew.y);
    this._cy = -Math.sin(this._rotation - this.skew.x);
    this._sy = Math.cos(this._rotation - this.skew.x);
    this._localID++;
  }
  toString() {
    return `[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`;
  }
  updateLocalTransform() {
    const lt = this.localTransform;
    if (this._localID !== this._currentLocalID) {
      lt.a = this._cx * this.scale.x;
      lt.b = this._sx * this.scale.x;
      lt.c = this._cy * this.scale.y;
      lt.d = this._sy * this.scale.y;
      lt.tx = this.position.x - (this.pivot.x * lt.a + this.pivot.y * lt.c);
      lt.ty = this.position.y - (this.pivot.x * lt.b + this.pivot.y * lt.d);
      this._currentLocalID = this._localID;
      this._parentID = -1;
    }
  }
  updateTransform(parentTransform) {
    const lt = this.localTransform;
    if (this._localID !== this._currentLocalID) {
      lt.a = this._cx * this.scale.x;
      lt.b = this._sx * this.scale.x;
      lt.c = this._cy * this.scale.y;
      lt.d = this._sy * this.scale.y;
      lt.tx = this.position.x - (this.pivot.x * lt.a + this.pivot.y * lt.c);
      lt.ty = this.position.y - (this.pivot.x * lt.b + this.pivot.y * lt.d);
      this._currentLocalID = this._localID;
      this._parentID = -1;
    }
    if (this._parentID !== parentTransform._worldID) {
      const pt = parentTransform.worldTransform;
      const wt = this.worldTransform;
      wt.a = lt.a * pt.a + lt.b * pt.c;
      wt.b = lt.a * pt.b + lt.b * pt.d;
      wt.c = lt.c * pt.a + lt.d * pt.c;
      wt.d = lt.c * pt.b + lt.d * pt.d;
      wt.tx = lt.tx * pt.a + lt.ty * pt.c + pt.tx;
      wt.ty = lt.tx * pt.b + lt.ty * pt.d + pt.ty;
      this._parentID = parentTransform._worldID;
      this._worldID++;
    }
  }
  setFromMatrix(matrix) {
    matrix.decompose(this);
    this._localID++;
  }
  get rotation() {
    return this._rotation;
  }
  set rotation(value) {
    if (this._rotation !== value) {
      this._rotation = value;
      this.updateSkew();
    }
  }
};
let Transform = _Transform;
Transform.IDENTITY = new _Transform();


//# sourceMappingURL=Transform.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/const.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/math/lib/const.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DEG_TO_RAD: () => (/* binding */ DEG_TO_RAD),
/* harmony export */   PI_2: () => (/* binding */ PI_2),
/* harmony export */   RAD_TO_DEG: () => (/* binding */ RAD_TO_DEG),
/* harmony export */   SHAPES: () => (/* binding */ SHAPES)
/* harmony export */ });
const PI_2 = Math.PI * 2;
const RAD_TO_DEG = 180 / Math.PI;
const DEG_TO_RAD = Math.PI / 180;
var SHAPES = /* @__PURE__ */ ((SHAPES2) => {
  SHAPES2[SHAPES2["POLY"] = 0] = "POLY";
  SHAPES2[SHAPES2["RECT"] = 1] = "RECT";
  SHAPES2[SHAPES2["CIRC"] = 2] = "CIRC";
  SHAPES2[SHAPES2["ELIP"] = 3] = "ELIP";
  SHAPES2[SHAPES2["RREC"] = 4] = "RREC";
  return SHAPES2;
})(SHAPES || {});


//# sourceMappingURL=const.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/groupD8.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/math/lib/groupD8.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   groupD8: () => (/* binding */ groupD8)
/* harmony export */ });
/* harmony import */ var _Matrix_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Matrix.mjs */ "./node_modules/@pixi/math/lib/Matrix.mjs");


const ux = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1];
const uy = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1];
const vx = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1];
const vy = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1];
const rotationCayley = [];
const rotationMatrices = [];
const signum = Math.sign;
function init() {
  for (let i = 0; i < 16; i++) {
    const row = [];
    rotationCayley.push(row);
    for (let j = 0; j < 16; j++) {
      const _ux = signum(ux[i] * ux[j] + vx[i] * uy[j]);
      const _uy = signum(uy[i] * ux[j] + vy[i] * uy[j]);
      const _vx = signum(ux[i] * vx[j] + vx[i] * vy[j]);
      const _vy = signum(uy[i] * vx[j] + vy[i] * vy[j]);
      for (let k = 0; k < 16; k++) {
        if (ux[k] === _ux && uy[k] === _uy && vx[k] === _vx && vy[k] === _vy) {
          row.push(k);
          break;
        }
      }
    }
  }
  for (let i = 0; i < 16; i++) {
    const mat = new _Matrix_mjs__WEBPACK_IMPORTED_MODULE_0__.Matrix();
    mat.set(ux[i], uy[i], vx[i], vy[i], 0, 0);
    rotationMatrices.push(mat);
  }
}
init();
const groupD8 = {
  E: 0,
  SE: 1,
  S: 2,
  SW: 3,
  W: 4,
  NW: 5,
  N: 6,
  NE: 7,
  MIRROR_VERTICAL: 8,
  MAIN_DIAGONAL: 10,
  MIRROR_HORIZONTAL: 12,
  REVERSE_DIAGONAL: 14,
  uX: (ind) => ux[ind],
  uY: (ind) => uy[ind],
  vX: (ind) => vx[ind],
  vY: (ind) => vy[ind],
  inv: (rotation) => {
    if (rotation & 8) {
      return rotation & 15;
    }
    return -rotation & 7;
  },
  add: (rotationSecond, rotationFirst) => rotationCayley[rotationSecond][rotationFirst],
  sub: (rotationSecond, rotationFirst) => rotationCayley[rotationSecond][groupD8.inv(rotationFirst)],
  rotate180: (rotation) => rotation ^ 4,
  isVertical: (rotation) => (rotation & 3) === 2,
  byDirection: (dx, dy) => {
    if (Math.abs(dx) * 2 <= Math.abs(dy)) {
      if (dy >= 0) {
        return groupD8.S;
      }
      return groupD8.N;
    } else if (Math.abs(dy) * 2 <= Math.abs(dx)) {
      if (dx > 0) {
        return groupD8.E;
      }
      return groupD8.W;
    } else if (dy > 0) {
      if (dx > 0) {
        return groupD8.SE;
      }
      return groupD8.SW;
    } else if (dx > 0) {
      return groupD8.NE;
    }
    return groupD8.NW;
  },
  matrixAppendRotationInv: (matrix, rotation, tx = 0, ty = 0) => {
    const mat = rotationMatrices[groupD8.inv(rotation)];
    mat.tx = tx;
    mat.ty = ty;
    matrix.append(mat);
  }
};


//# sourceMappingURL=groupD8.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/index.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/math/lib/index.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Circle: () => (/* reexport safe */ _shapes_Circle_mjs__WEBPACK_IMPORTED_MODULE_0__.Circle),
/* harmony export */   DEG_TO_RAD: () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_12__.DEG_TO_RAD),
/* harmony export */   Ellipse: () => (/* reexport safe */ _shapes_Ellipse_mjs__WEBPACK_IMPORTED_MODULE_1__.Ellipse),
/* harmony export */   Matrix: () => (/* reexport safe */ _Matrix_mjs__WEBPACK_IMPORTED_MODULE_8__.Matrix),
/* harmony export */   ObservablePoint: () => (/* reexport safe */ _ObservablePoint_mjs__WEBPACK_IMPORTED_MODULE_9__.ObservablePoint),
/* harmony export */   PI_2: () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_12__.PI_2),
/* harmony export */   Point: () => (/* reexport safe */ _Point_mjs__WEBPACK_IMPORTED_MODULE_10__.Point),
/* harmony export */   Polygon: () => (/* reexport safe */ _shapes_Polygon_mjs__WEBPACK_IMPORTED_MODULE_2__.Polygon),
/* harmony export */   RAD_TO_DEG: () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_12__.RAD_TO_DEG),
/* harmony export */   Rectangle: () => (/* reexport safe */ _shapes_Rectangle_mjs__WEBPACK_IMPORTED_MODULE_3__.Rectangle),
/* harmony export */   RoundedRectangle: () => (/* reexport safe */ _shapes_RoundedRectangle_mjs__WEBPACK_IMPORTED_MODULE_4__.RoundedRectangle),
/* harmony export */   SHAPES: () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_12__.SHAPES),
/* harmony export */   Transform: () => (/* reexport safe */ _Transform_mjs__WEBPACK_IMPORTED_MODULE_11__.Transform),
/* harmony export */   groupD8: () => (/* reexport safe */ _groupD8_mjs__WEBPACK_IMPORTED_MODULE_5__.groupD8)
/* harmony export */ });
/* harmony import */ var _shapes_Circle_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shapes/Circle.mjs */ "./node_modules/@pixi/math/lib/shapes/Circle.mjs");
/* harmony import */ var _shapes_Ellipse_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shapes/Ellipse.mjs */ "./node_modules/@pixi/math/lib/shapes/Ellipse.mjs");
/* harmony import */ var _shapes_Polygon_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shapes/Polygon.mjs */ "./node_modules/@pixi/math/lib/shapes/Polygon.mjs");
/* harmony import */ var _shapes_Rectangle_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shapes/Rectangle.mjs */ "./node_modules/@pixi/math/lib/shapes/Rectangle.mjs");
/* harmony import */ var _shapes_RoundedRectangle_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./shapes/RoundedRectangle.mjs */ "./node_modules/@pixi/math/lib/shapes/RoundedRectangle.mjs");
/* harmony import */ var _groupD8_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./groupD8.mjs */ "./node_modules/@pixi/math/lib/groupD8.mjs");
/* harmony import */ var _IPoint_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./IPoint.mjs */ "./node_modules/@pixi/math/lib/IPoint.mjs");
/* harmony import */ var _IPointData_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./IPointData.mjs */ "./node_modules/@pixi/math/lib/IPointData.mjs");
/* harmony import */ var _Matrix_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Matrix.mjs */ "./node_modules/@pixi/math/lib/Matrix.mjs");
/* harmony import */ var _ObservablePoint_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ObservablePoint.mjs */ "./node_modules/@pixi/math/lib/ObservablePoint.mjs");
/* harmony import */ var _Point_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Point.mjs */ "./node_modules/@pixi/math/lib/Point.mjs");
/* harmony import */ var _Transform_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Transform.mjs */ "./node_modules/@pixi/math/lib/Transform.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/math/lib/const.mjs");













//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/shapes/Circle.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/math/lib/shapes/Circle.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Circle: () => (/* binding */ Circle)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/math/lib/const.mjs");
/* harmony import */ var _Rectangle_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Rectangle.mjs */ "./node_modules/@pixi/math/lib/shapes/Rectangle.mjs");



class Circle {
  constructor(x = 0, y = 0, radius = 0) {
    this.x = x;
    this.y = y;
    this.radius = radius;
    this.type = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.SHAPES.CIRC;
  }
  clone() {
    return new Circle(this.x, this.y, this.radius);
  }
  contains(x, y) {
    if (this.radius <= 0) {
      return false;
    }
    const r2 = this.radius * this.radius;
    let dx = this.x - x;
    let dy = this.y - y;
    dx *= dx;
    dy *= dy;
    return dx + dy <= r2;
  }
  getBounds() {
    return new _Rectangle_mjs__WEBPACK_IMPORTED_MODULE_1__.Rectangle(this.x - this.radius, this.y - this.radius, this.radius * 2, this.radius * 2);
  }
  toString() {
    return `[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`;
  }
}


//# sourceMappingURL=Circle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/shapes/Ellipse.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/math/lib/shapes/Ellipse.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ellipse: () => (/* binding */ Ellipse)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/math/lib/const.mjs");
/* harmony import */ var _Rectangle_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Rectangle.mjs */ "./node_modules/@pixi/math/lib/shapes/Rectangle.mjs");



class Ellipse {
  constructor(x = 0, y = 0, halfWidth = 0, halfHeight = 0) {
    this.x = x;
    this.y = y;
    this.width = halfWidth;
    this.height = halfHeight;
    this.type = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.SHAPES.ELIP;
  }
  clone() {
    return new Ellipse(this.x, this.y, this.width, this.height);
  }
  contains(x, y) {
    if (this.width <= 0 || this.height <= 0) {
      return false;
    }
    let normx = (x - this.x) / this.width;
    let normy = (y - this.y) / this.height;
    normx *= normx;
    normy *= normy;
    return normx + normy <= 1;
  }
  getBounds() {
    return new _Rectangle_mjs__WEBPACK_IMPORTED_MODULE_1__.Rectangle(this.x - this.width, this.y - this.height, this.width, this.height);
  }
  toString() {
    return `[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`;
  }
}


//# sourceMappingURL=Ellipse.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/shapes/Polygon.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/math/lib/shapes/Polygon.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Polygon: () => (/* binding */ Polygon)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/math/lib/const.mjs");


class Polygon {
  constructor(...points) {
    let flat = Array.isArray(points[0]) ? points[0] : points;
    if (typeof flat[0] !== "number") {
      const p = [];
      for (let i = 0, il = flat.length; i < il; i++) {
        p.push(flat[i].x, flat[i].y);
      }
      flat = p;
    }
    this.points = flat;
    this.type = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.SHAPES.POLY;
    this.closeStroke = true;
  }
  clone() {
    const points = this.points.slice();
    const polygon = new Polygon(points);
    polygon.closeStroke = this.closeStroke;
    return polygon;
  }
  contains(x, y) {
    let inside = false;
    const length = this.points.length / 2;
    for (let i = 0, j = length - 1; i < length; j = i++) {
      const xi = this.points[i * 2];
      const yi = this.points[i * 2 + 1];
      const xj = this.points[j * 2];
      const yj = this.points[j * 2 + 1];
      const intersect = yi > y !== yj > y && x < (xj - xi) * ((y - yi) / (yj - yi)) + xi;
      if (intersect) {
        inside = !inside;
      }
    }
    return inside;
  }
  toString() {
    return `[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((pointsDesc, currentPoint) => `${pointsDesc}, ${currentPoint}`, "")}]`;
  }
}


//# sourceMappingURL=Polygon.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/shapes/Rectangle.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/math/lib/shapes/Rectangle.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Rectangle: () => (/* binding */ Rectangle)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/math/lib/const.mjs");
/* harmony import */ var _Point_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Point.mjs */ "./node_modules/@pixi/math/lib/Point.mjs");



const tempPoints = [new _Point_mjs__WEBPACK_IMPORTED_MODULE_1__.Point(), new _Point_mjs__WEBPACK_IMPORTED_MODULE_1__.Point(), new _Point_mjs__WEBPACK_IMPORTED_MODULE_1__.Point(), new _Point_mjs__WEBPACK_IMPORTED_MODULE_1__.Point()];
class Rectangle {
  constructor(x = 0, y = 0, width = 0, height = 0) {
    this.x = Number(x);
    this.y = Number(y);
    this.width = Number(width);
    this.height = Number(height);
    this.type = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.SHAPES.RECT;
  }
  get left() {
    return this.x;
  }
  get right() {
    return this.x + this.width;
  }
  get top() {
    return this.y;
  }
  get bottom() {
    return this.y + this.height;
  }
  static get EMPTY() {
    return new Rectangle(0, 0, 0, 0);
  }
  clone() {
    return new Rectangle(this.x, this.y, this.width, this.height);
  }
  copyFrom(rectangle) {
    this.x = rectangle.x;
    this.y = rectangle.y;
    this.width = rectangle.width;
    this.height = rectangle.height;
    return this;
  }
  copyTo(rectangle) {
    rectangle.x = this.x;
    rectangle.y = this.y;
    rectangle.width = this.width;
    rectangle.height = this.height;
    return rectangle;
  }
  contains(x, y) {
    if (this.width <= 0 || this.height <= 0) {
      return false;
    }
    if (x >= this.x && x < this.x + this.width) {
      if (y >= this.y && y < this.y + this.height) {
        return true;
      }
    }
    return false;
  }
  intersects(other, transform) {
    if (!transform) {
      const x02 = this.x < other.x ? other.x : this.x;
      const x12 = this.right > other.right ? other.right : this.right;
      if (x12 <= x02) {
        return false;
      }
      const y02 = this.y < other.y ? other.y : this.y;
      const y12 = this.bottom > other.bottom ? other.bottom : this.bottom;
      return y12 > y02;
    }
    const x0 = this.left;
    const x1 = this.right;
    const y0 = this.top;
    const y1 = this.bottom;
    if (x1 <= x0 || y1 <= y0) {
      return false;
    }
    const lt = tempPoints[0].set(other.left, other.top);
    const lb = tempPoints[1].set(other.left, other.bottom);
    const rt = tempPoints[2].set(other.right, other.top);
    const rb = tempPoints[3].set(other.right, other.bottom);
    if (rt.x <= lt.x || lb.y <= lt.y) {
      return false;
    }
    const s = Math.sign(transform.a * transform.d - transform.b * transform.c);
    if (s === 0) {
      return false;
    }
    transform.apply(lt, lt);
    transform.apply(lb, lb);
    transform.apply(rt, rt);
    transform.apply(rb, rb);
    if (Math.max(lt.x, lb.x, rt.x, rb.x) <= x0 || Math.min(lt.x, lb.x, rt.x, rb.x) >= x1 || Math.max(lt.y, lb.y, rt.y, rb.y) <= y0 || Math.min(lt.y, lb.y, rt.y, rb.y) >= y1) {
      return false;
    }
    const nx = s * (lb.y - lt.y);
    const ny = s * (lt.x - lb.x);
    const n00 = nx * x0 + ny * y0;
    const n10 = nx * x1 + ny * y0;
    const n01 = nx * x0 + ny * y1;
    const n11 = nx * x1 + ny * y1;
    if (Math.max(n00, n10, n01, n11) <= nx * lt.x + ny * lt.y || Math.min(n00, n10, n01, n11) >= nx * rb.x + ny * rb.y) {
      return false;
    }
    const mx = s * (lt.y - rt.y);
    const my = s * (rt.x - lt.x);
    const m00 = mx * x0 + my * y0;
    const m10 = mx * x1 + my * y0;
    const m01 = mx * x0 + my * y1;
    const m11 = mx * x1 + my * y1;
    if (Math.max(m00, m10, m01, m11) <= mx * lt.x + my * lt.y || Math.min(m00, m10, m01, m11) >= mx * rb.x + my * rb.y) {
      return false;
    }
    return true;
  }
  pad(paddingX = 0, paddingY = paddingX) {
    this.x -= paddingX;
    this.y -= paddingY;
    this.width += paddingX * 2;
    this.height += paddingY * 2;
    return this;
  }
  fit(rectangle) {
    const x1 = Math.max(this.x, rectangle.x);
    const x2 = Math.min(this.x + this.width, rectangle.x + rectangle.width);
    const y1 = Math.max(this.y, rectangle.y);
    const y2 = Math.min(this.y + this.height, rectangle.y + rectangle.height);
    this.x = x1;
    this.width = Math.max(x2 - x1, 0);
    this.y = y1;
    this.height = Math.max(y2 - y1, 0);
    return this;
  }
  ceil(resolution = 1, eps = 1e-3) {
    const x2 = Math.ceil((this.x + this.width - eps) * resolution) / resolution;
    const y2 = Math.ceil((this.y + this.height - eps) * resolution) / resolution;
    this.x = Math.floor((this.x + eps) * resolution) / resolution;
    this.y = Math.floor((this.y + eps) * resolution) / resolution;
    this.width = x2 - this.x;
    this.height = y2 - this.y;
    return this;
  }
  enlarge(rectangle) {
    const x1 = Math.min(this.x, rectangle.x);
    const x2 = Math.max(this.x + this.width, rectangle.x + rectangle.width);
    const y1 = Math.min(this.y, rectangle.y);
    const y2 = Math.max(this.y + this.height, rectangle.y + rectangle.height);
    this.x = x1;
    this.width = x2 - x1;
    this.y = y1;
    this.height = y2 - y1;
    return this;
  }
  toString() {
    return `[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`;
  }
}


//# sourceMappingURL=Rectangle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/shapes/RoundedRectangle.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/math/lib/shapes/RoundedRectangle.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RoundedRectangle: () => (/* binding */ RoundedRectangle)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/math/lib/const.mjs");


class RoundedRectangle {
  constructor(x = 0, y = 0, width = 0, height = 0, radius = 20) {
    this.x = x;
    this.y = y;
    this.width = width;
    this.height = height;
    this.radius = radius;
    this.type = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.SHAPES.RREC;
  }
  clone() {
    return new RoundedRectangle(this.x, this.y, this.width, this.height, this.radius);
  }
  contains(x, y) {
    if (this.width <= 0 || this.height <= 0) {
      return false;
    }
    if (x >= this.x && x <= this.x + this.width) {
      if (y >= this.y && y <= this.y + this.height) {
        const radius = Math.max(0, Math.min(this.radius, Math.min(this.width, this.height) / 2));
        if (y >= this.y + radius && y <= this.y + this.height - radius || x >= this.x + radius && x <= this.x + this.width - radius) {
          return true;
        }
        let dx = x - (this.x + radius);
        let dy = y - (this.y + radius);
        const radius2 = radius * radius;
        if (dx * dx + dy * dy <= radius2) {
          return true;
        }
        dx = x - (this.x + this.width - radius);
        if (dx * dx + dy * dy <= radius2) {
          return true;
        }
        dy = y - (this.y + this.height - radius);
        if (dx * dx + dy * dy <= radius2) {
          return true;
        }
        dx = x - (this.x + radius);
        if (dx * dx + dy * dy <= radius2) {
          return true;
        }
      }
    }
    return false;
  }
  toString() {
    return `[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`;
  }
}


//# sourceMappingURL=RoundedRectangle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh-extras/lib/NineSlicePlane.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/mesh-extras/lib/NineSlicePlane.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NineSlicePlane: () => (/* binding */ NineSlicePlane)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _SimplePlane_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SimplePlane.mjs */ "./node_modules/@pixi/mesh-extras/lib/SimplePlane.mjs");



const DEFAULT_BORDER_SIZE = 10;
class NineSlicePlane extends _SimplePlane_mjs__WEBPACK_IMPORTED_MODULE_1__.SimplePlane {
  constructor(texture, leftWidth, topHeight, rightWidth, bottomHeight) {
    super(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.WHITE, 4, 4);
    this._origWidth = texture.orig.width;
    this._origHeight = texture.orig.height;
    this._width = this._origWidth;
    this._height = this._origHeight;
    this._leftWidth = leftWidth ?? texture.defaultBorders?.left ?? DEFAULT_BORDER_SIZE;
    this._rightWidth = rightWidth ?? texture.defaultBorders?.right ?? DEFAULT_BORDER_SIZE;
    this._topHeight = topHeight ?? texture.defaultBorders?.top ?? DEFAULT_BORDER_SIZE;
    this._bottomHeight = bottomHeight ?? texture.defaultBorders?.bottom ?? DEFAULT_BORDER_SIZE;
    this.texture = texture;
  }
  textureUpdated() {
    this._textureID = this.shader.texture._updateID;
    this._refresh();
  }
  get vertices() {
    return this.geometry.getBuffer("aVertexPosition").data;
  }
  set vertices(value) {
    this.geometry.getBuffer("aVertexPosition").data = value;
  }
  updateHorizontalVertices() {
    const vertices = this.vertices;
    const scale = this._getMinScale();
    vertices[9] = vertices[11] = vertices[13] = vertices[15] = this._topHeight * scale;
    vertices[17] = vertices[19] = vertices[21] = vertices[23] = this._height - this._bottomHeight * scale;
    vertices[25] = vertices[27] = vertices[29] = vertices[31] = this._height;
  }
  updateVerticalVertices() {
    const vertices = this.vertices;
    const scale = this._getMinScale();
    vertices[2] = vertices[10] = vertices[18] = vertices[26] = this._leftWidth * scale;
    vertices[4] = vertices[12] = vertices[20] = vertices[28] = this._width - this._rightWidth * scale;
    vertices[6] = vertices[14] = vertices[22] = vertices[30] = this._width;
  }
  _getMinScale() {
    const w = this._leftWidth + this._rightWidth;
    const scaleW = this._width > w ? 1 : this._width / w;
    const h = this._topHeight + this._bottomHeight;
    const scaleH = this._height > h ? 1 : this._height / h;
    const scale = Math.min(scaleW, scaleH);
    return scale;
  }
  get width() {
    return this._width;
  }
  set width(value) {
    this._width = value;
    this._refresh();
  }
  get height() {
    return this._height;
  }
  set height(value) {
    this._height = value;
    this._refresh();
  }
  get leftWidth() {
    return this._leftWidth;
  }
  set leftWidth(value) {
    this._leftWidth = value;
    this._refresh();
  }
  get rightWidth() {
    return this._rightWidth;
  }
  set rightWidth(value) {
    this._rightWidth = value;
    this._refresh();
  }
  get topHeight() {
    return this._topHeight;
  }
  set topHeight(value) {
    this._topHeight = value;
    this._refresh();
  }
  get bottomHeight() {
    return this._bottomHeight;
  }
  set bottomHeight(value) {
    this._bottomHeight = value;
    this._refresh();
  }
  _refresh() {
    const texture = this.texture;
    const uvs = this.geometry.buffers[1].data;
    this._origWidth = texture.orig.width;
    this._origHeight = texture.orig.height;
    const _uvw = 1 / this._origWidth;
    const _uvh = 1 / this._origHeight;
    uvs[0] = uvs[8] = uvs[16] = uvs[24] = 0;
    uvs[1] = uvs[3] = uvs[5] = uvs[7] = 0;
    uvs[6] = uvs[14] = uvs[22] = uvs[30] = 1;
    uvs[25] = uvs[27] = uvs[29] = uvs[31] = 1;
    uvs[2] = uvs[10] = uvs[18] = uvs[26] = _uvw * this._leftWidth;
    uvs[4] = uvs[12] = uvs[20] = uvs[28] = 1 - _uvw * this._rightWidth;
    uvs[9] = uvs[11] = uvs[13] = uvs[15] = _uvh * this._topHeight;
    uvs[17] = uvs[19] = uvs[21] = uvs[23] = 1 - _uvh * this._bottomHeight;
    this.updateHorizontalVertices();
    this.updateVerticalVertices();
    this.geometry.buffers[0].update();
    this.geometry.buffers[1].update();
  }
}


//# sourceMappingURL=NineSlicePlane.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh-extras/lib/SimpleMesh.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/mesh-extras/lib/SimpleMesh.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SimpleMesh: () => (/* binding */ SimpleMesh)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_mesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/mesh */ "./node_modules/@pixi/mesh/lib/index.mjs");



class SimpleMesh extends _pixi_mesh__WEBPACK_IMPORTED_MODULE_1__.Mesh {
  constructor(texture = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.EMPTY, vertices, uvs, indices, drawMode) {
    const geometry = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_1__.MeshGeometry(vertices, uvs, indices);
    geometry.getBuffer("aVertexPosition").static = false;
    const meshMaterial = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_1__.MeshMaterial(texture);
    super(geometry, meshMaterial, null, drawMode);
    this.autoUpdate = true;
  }
  get vertices() {
    return this.geometry.getBuffer("aVertexPosition").data;
  }
  set vertices(value) {
    this.geometry.getBuffer("aVertexPosition").data = value;
  }
  _render(renderer) {
    if (this.autoUpdate) {
      this.geometry.getBuffer("aVertexPosition").update();
    }
    super._render(renderer);
  }
}


//# sourceMappingURL=SimpleMesh.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh-extras/lib/SimplePlane.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/mesh-extras/lib/SimplePlane.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SimplePlane: () => (/* binding */ SimplePlane)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_mesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/mesh */ "./node_modules/@pixi/mesh/lib/index.mjs");
/* harmony import */ var _geometry_PlaneGeometry_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./geometry/PlaneGeometry.mjs */ "./node_modules/@pixi/mesh-extras/lib/geometry/PlaneGeometry.mjs");




class SimplePlane extends _pixi_mesh__WEBPACK_IMPORTED_MODULE_1__.Mesh {
  constructor(texture, verticesX, verticesY) {
    const planeGeometry = new _geometry_PlaneGeometry_mjs__WEBPACK_IMPORTED_MODULE_2__.PlaneGeometry(texture.width, texture.height, verticesX, verticesY);
    const meshMaterial = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_1__.MeshMaterial(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.WHITE);
    super(planeGeometry, meshMaterial);
    this.texture = texture;
    this.autoResize = true;
  }
  textureUpdated() {
    this._textureID = this.shader.texture._updateID;
    const geometry = this.geometry;
    const { width, height } = this.shader.texture;
    if (this.autoResize && (geometry.width !== width || geometry.height !== height)) {
      geometry.width = this.shader.texture.width;
      geometry.height = this.shader.texture.height;
      geometry.build();
    }
  }
  set texture(value) {
    if (this.shader.texture === value) {
      return;
    }
    this.shader.texture = value;
    this._textureID = -1;
    if (value.baseTexture.valid) {
      this.textureUpdated();
    } else {
      value.once("update", this.textureUpdated, this);
    }
  }
  get texture() {
    return this.shader.texture;
  }
  _render(renderer) {
    if (this._textureID !== this.shader.texture._updateID) {
      this.textureUpdated();
    }
    super._render(renderer);
  }
  destroy(options) {
    this.shader.texture.off("update", this.textureUpdated, this);
    super.destroy(options);
  }
}


//# sourceMappingURL=SimplePlane.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh-extras/lib/SimpleRope.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/mesh-extras/lib/SimpleRope.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SimpleRope: () => (/* binding */ SimpleRope)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_mesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/mesh */ "./node_modules/@pixi/mesh/lib/index.mjs");
/* harmony import */ var _geometry_RopeGeometry_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./geometry/RopeGeometry.mjs */ "./node_modules/@pixi/mesh-extras/lib/geometry/RopeGeometry.mjs");




class SimpleRope extends _pixi_mesh__WEBPACK_IMPORTED_MODULE_1__.Mesh {
  constructor(texture, points, textureScale = 0) {
    const ropeGeometry = new _geometry_RopeGeometry_mjs__WEBPACK_IMPORTED_MODULE_2__.RopeGeometry(texture.height, points, textureScale);
    const meshMaterial = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_1__.MeshMaterial(texture);
    if (textureScale > 0) {
      texture.baseTexture.wrapMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.WRAP_MODES.REPEAT;
    }
    super(ropeGeometry, meshMaterial);
    this.autoUpdate = true;
  }
  _render(renderer) {
    const geometry = this.geometry;
    if (this.autoUpdate || geometry._width !== this.shader.texture.height) {
      geometry._width = this.shader.texture.height;
      geometry.update();
    }
    super._render(renderer);
  }
}


//# sourceMappingURL=SimpleRope.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh-extras/lib/geometry/PlaneGeometry.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/mesh-extras/lib/geometry/PlaneGeometry.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PlaneGeometry: () => (/* binding */ PlaneGeometry)
/* harmony export */ });
/* harmony import */ var _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/mesh */ "./node_modules/@pixi/mesh/lib/index.mjs");


class PlaneGeometry extends _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__.MeshGeometry {
  constructor(width = 100, height = 100, segWidth = 10, segHeight = 10) {
    super();
    this.segWidth = segWidth;
    this.segHeight = segHeight;
    this.width = width;
    this.height = height;
    this.build();
  }
  build() {
    const total = this.segWidth * this.segHeight;
    const verts = [];
    const uvs = [];
    const indices = [];
    const segmentsX = this.segWidth - 1;
    const segmentsY = this.segHeight - 1;
    const sizeX = this.width / segmentsX;
    const sizeY = this.height / segmentsY;
    for (let i = 0; i < total; i++) {
      const x = i % this.segWidth;
      const y = i / this.segWidth | 0;
      verts.push(x * sizeX, y * sizeY);
      uvs.push(x / segmentsX, y / segmentsY);
    }
    const totalSub = segmentsX * segmentsY;
    for (let i = 0; i < totalSub; i++) {
      const xpos = i % segmentsX;
      const ypos = i / segmentsX | 0;
      const value = ypos * this.segWidth + xpos;
      const value2 = ypos * this.segWidth + xpos + 1;
      const value3 = (ypos + 1) * this.segWidth + xpos;
      const value4 = (ypos + 1) * this.segWidth + xpos + 1;
      indices.push(value, value2, value3, value2, value4, value3);
    }
    this.buffers[0].data = new Float32Array(verts);
    this.buffers[1].data = new Float32Array(uvs);
    this.indexBuffer.data = new Uint16Array(indices);
    this.buffers[0].update();
    this.buffers[1].update();
    this.indexBuffer.update();
  }
}


//# sourceMappingURL=PlaneGeometry.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh-extras/lib/geometry/RopeGeometry.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/mesh-extras/lib/geometry/RopeGeometry.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RopeGeometry: () => (/* binding */ RopeGeometry)
/* harmony export */ });
/* harmony import */ var _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/mesh */ "./node_modules/@pixi/mesh/lib/index.mjs");


class RopeGeometry extends _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__.MeshGeometry {
  constructor(width = 200, points, textureScale = 0) {
    super(new Float32Array(points.length * 4), new Float32Array(points.length * 4), new Uint16Array((points.length - 1) * 6));
    this.points = points;
    this._width = width;
    this.textureScale = textureScale;
    this.build();
  }
  get width() {
    return this._width;
  }
  build() {
    const points = this.points;
    if (!points)
      return;
    const vertexBuffer = this.getBuffer("aVertexPosition");
    const uvBuffer = this.getBuffer("aTextureCoord");
    const indexBuffer = this.getIndex();
    if (points.length < 1) {
      return;
    }
    if (vertexBuffer.data.length / 4 !== points.length) {
      vertexBuffer.data = new Float32Array(points.length * 4);
      uvBuffer.data = new Float32Array(points.length * 4);
      indexBuffer.data = new Uint16Array((points.length - 1) * 6);
    }
    const uvs = uvBuffer.data;
    const indices = indexBuffer.data;
    uvs[0] = 0;
    uvs[1] = 0;
    uvs[2] = 0;
    uvs[3] = 1;
    let amount = 0;
    let prev = points[0];
    const textureWidth = this._width * this.textureScale;
    const total = points.length;
    for (let i = 0; i < total; i++) {
      const index = i * 4;
      if (this.textureScale > 0) {
        const dx = prev.x - points[i].x;
        const dy = prev.y - points[i].y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        prev = points[i];
        amount += distance / textureWidth;
      } else {
        amount = i / (total - 1);
      }
      uvs[index] = amount;
      uvs[index + 1] = 0;
      uvs[index + 2] = amount;
      uvs[index + 3] = 1;
    }
    let indexCount = 0;
    for (let i = 0; i < total - 1; i++) {
      const index = i * 2;
      indices[indexCount++] = index;
      indices[indexCount++] = index + 1;
      indices[indexCount++] = index + 2;
      indices[indexCount++] = index + 2;
      indices[indexCount++] = index + 1;
      indices[indexCount++] = index + 3;
    }
    uvBuffer.update();
    indexBuffer.update();
    this.updateVertices();
  }
  updateVertices() {
    const points = this.points;
    if (points.length < 1) {
      return;
    }
    let lastPoint = points[0];
    let nextPoint;
    let perpX = 0;
    let perpY = 0;
    const vertices = this.buffers[0].data;
    const total = points.length;
    const halfWidth = this.textureScale > 0 ? this.textureScale * this._width / 2 : this._width / 2;
    for (let i = 0; i < total; i++) {
      const point = points[i];
      const index = i * 4;
      if (i < points.length - 1) {
        nextPoint = points[i + 1];
      } else {
        nextPoint = point;
      }
      perpY = -(nextPoint.x - lastPoint.x);
      perpX = nextPoint.y - lastPoint.y;
      let ratio = (1 - i / (total - 1)) * 10;
      if (ratio > 1) {
        ratio = 1;
      }
      const perpLength = Math.sqrt(perpX * perpX + perpY * perpY);
      if (perpLength < 1e-6) {
        perpX = 0;
        perpY = 0;
      } else {
        perpX /= perpLength;
        perpY /= perpLength;
        perpX *= halfWidth;
        perpY *= halfWidth;
      }
      vertices[index] = point.x + perpX;
      vertices[index + 1] = point.y + perpY;
      vertices[index + 2] = point.x - perpX;
      vertices[index + 3] = point.y - perpY;
      lastPoint = point;
    }
    this.buffers[0].update();
  }
  update() {
    if (this.textureScale > 0) {
      this.build();
    } else {
      this.updateVertices();
    }
  }
}


//# sourceMappingURL=RopeGeometry.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh-extras/lib/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/mesh-extras/lib/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NineSlicePlane: () => (/* reexport safe */ _NineSlicePlane_mjs__WEBPACK_IMPORTED_MODULE_2__.NineSlicePlane),
/* harmony export */   PlaneGeometry: () => (/* reexport safe */ _geometry_PlaneGeometry_mjs__WEBPACK_IMPORTED_MODULE_0__.PlaneGeometry),
/* harmony export */   RopeGeometry: () => (/* reexport safe */ _geometry_RopeGeometry_mjs__WEBPACK_IMPORTED_MODULE_1__.RopeGeometry),
/* harmony export */   SimpleMesh: () => (/* reexport safe */ _SimpleMesh_mjs__WEBPACK_IMPORTED_MODULE_3__.SimpleMesh),
/* harmony export */   SimplePlane: () => (/* reexport safe */ _SimplePlane_mjs__WEBPACK_IMPORTED_MODULE_4__.SimplePlane),
/* harmony export */   SimpleRope: () => (/* reexport safe */ _SimpleRope_mjs__WEBPACK_IMPORTED_MODULE_5__.SimpleRope)
/* harmony export */ });
/* harmony import */ var _geometry_PlaneGeometry_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./geometry/PlaneGeometry.mjs */ "./node_modules/@pixi/mesh-extras/lib/geometry/PlaneGeometry.mjs");
/* harmony import */ var _geometry_RopeGeometry_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./geometry/RopeGeometry.mjs */ "./node_modules/@pixi/mesh-extras/lib/geometry/RopeGeometry.mjs");
/* harmony import */ var _NineSlicePlane_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NineSlicePlane.mjs */ "./node_modules/@pixi/mesh-extras/lib/NineSlicePlane.mjs");
/* harmony import */ var _SimpleMesh_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SimpleMesh.mjs */ "./node_modules/@pixi/mesh-extras/lib/SimpleMesh.mjs");
/* harmony import */ var _SimplePlane_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SimplePlane.mjs */ "./node_modules/@pixi/mesh-extras/lib/SimplePlane.mjs");
/* harmony import */ var _SimpleRope_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SimpleRope.mjs */ "./node_modules/@pixi/mesh-extras/lib/SimpleRope.mjs");






//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh/lib/Mesh.mjs":
/*!**********************************************!*\
  !*** ./node_modules/@pixi/mesh/lib/Mesh.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Mesh: () => (/* binding */ Mesh)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _MeshBatchUvs_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MeshBatchUvs.mjs */ "./node_modules/@pixi/mesh/lib/MeshBatchUvs.mjs");




const tempPoint = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
const tempPolygon = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Polygon();
const _Mesh = class extends _pixi_display__WEBPACK_IMPORTED_MODULE_1__.Container {
  constructor(geometry, shader, state, drawMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.DRAW_MODES.TRIANGLES) {
    super();
    this.geometry = geometry;
    this.shader = shader;
    this.state = state || _pixi_core__WEBPACK_IMPORTED_MODULE_0__.State.for2d();
    this.drawMode = drawMode;
    this.start = 0;
    this.size = 0;
    this.uvs = null;
    this.indices = null;
    this.vertexData = new Float32Array(1);
    this.vertexDirty = -1;
    this._transformID = -1;
    this._roundPixels = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ROUND_PIXELS;
    this.batchUvs = null;
  }
  get geometry() {
    return this._geometry;
  }
  set geometry(value) {
    if (this._geometry === value) {
      return;
    }
    if (this._geometry) {
      this._geometry.refCount--;
      if (this._geometry.refCount === 0) {
        this._geometry.dispose();
      }
    }
    this._geometry = value;
    if (this._geometry) {
      this._geometry.refCount++;
    }
    this.vertexDirty = -1;
  }
  get uvBuffer() {
    return this.geometry.buffers[1];
  }
  get verticesBuffer() {
    return this.geometry.buffers[0];
  }
  set material(value) {
    this.shader = value;
  }
  get material() {
    return this.shader;
  }
  set blendMode(value) {
    this.state.blendMode = value;
  }
  get blendMode() {
    return this.state.blendMode;
  }
  set roundPixels(value) {
    if (this._roundPixels !== value) {
      this._transformID = -1;
    }
    this._roundPixels = value;
  }
  get roundPixels() {
    return this._roundPixels;
  }
  get tint() {
    return "tint" in this.shader ? this.shader.tint : null;
  }
  set tint(value) {
    this.shader.tint = value;
  }
  get tintValue() {
    return this.shader.tintValue;
  }
  get texture() {
    return "texture" in this.shader ? this.shader.texture : null;
  }
  set texture(value) {
    this.shader.texture = value;
  }
  _render(renderer) {
    const vertices = this.geometry.buffers[0].data;
    const shader = this.shader;
    if (shader.batchable && this.drawMode === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.DRAW_MODES.TRIANGLES && vertices.length < _Mesh.BATCHABLE_SIZE * 2) {
      this._renderToBatch(renderer);
    } else {
      this._renderDefault(renderer);
    }
  }
  _renderDefault(renderer) {
    const shader = this.shader;
    shader.alpha = this.worldAlpha;
    if (shader.update) {
      shader.update();
    }
    renderer.batch.flush();
    shader.uniforms.translationMatrix = this.transform.worldTransform.toArray(true);
    renderer.shader.bind(shader);
    renderer.state.set(this.state);
    renderer.geometry.bind(this.geometry, shader);
    renderer.geometry.draw(this.drawMode, this.size, this.start, this.geometry.instanceCount);
  }
  _renderToBatch(renderer) {
    const geometry = this.geometry;
    const shader = this.shader;
    if (shader.uvMatrix) {
      shader.uvMatrix.update();
      this.calculateUvs();
    }
    this.calculateVertices();
    this.indices = geometry.indexBuffer.data;
    this._tintRGB = shader._tintRGB;
    this._texture = shader.texture;
    const pluginName = this.material.pluginName;
    renderer.batch.setObjectRenderer(renderer.plugins[pluginName]);
    renderer.plugins[pluginName].render(this);
  }
  calculateVertices() {
    const geometry = this.geometry;
    const verticesBuffer = geometry.buffers[0];
    const vertices = verticesBuffer.data;
    const vertexDirtyId = verticesBuffer._updateID;
    if (vertexDirtyId === this.vertexDirty && this._transformID === this.transform._worldID) {
      return;
    }
    this._transformID = this.transform._worldID;
    if (this.vertexData.length !== vertices.length) {
      this.vertexData = new Float32Array(vertices.length);
    }
    const wt = this.transform.worldTransform;
    const a = wt.a;
    const b = wt.b;
    const c = wt.c;
    const d = wt.d;
    const tx = wt.tx;
    const ty = wt.ty;
    const vertexData = this.vertexData;
    for (let i = 0; i < vertexData.length / 2; i++) {
      const x = vertices[i * 2];
      const y = vertices[i * 2 + 1];
      vertexData[i * 2] = a * x + c * y + tx;
      vertexData[i * 2 + 1] = b * x + d * y + ty;
    }
    if (this._roundPixels) {
      const resolution = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RESOLUTION;
      for (let i = 0; i < vertexData.length; ++i) {
        vertexData[i] = Math.round(vertexData[i] * resolution) / resolution;
      }
    }
    this.vertexDirty = vertexDirtyId;
  }
  calculateUvs() {
    const geomUvs = this.geometry.buffers[1];
    const shader = this.shader;
    if (!shader.uvMatrix.isSimple) {
      if (!this.batchUvs) {
        this.batchUvs = new _MeshBatchUvs_mjs__WEBPACK_IMPORTED_MODULE_2__.MeshBatchUvs(geomUvs, shader.uvMatrix);
      }
      this.batchUvs.update();
      this.uvs = this.batchUvs.data;
    } else {
      this.uvs = geomUvs.data;
    }
  }
  _calculateBounds() {
    this.calculateVertices();
    this._bounds.addVertexData(this.vertexData, 0, this.vertexData.length);
  }
  containsPoint(point) {
    if (!this.getBounds().contains(point.x, point.y)) {
      return false;
    }
    this.worldTransform.applyInverse(point, tempPoint);
    const vertices = this.geometry.getBuffer("aVertexPosition").data;
    const points = tempPolygon.points;
    const indices = this.geometry.getIndex().data;
    const len = indices.length;
    const step = this.drawMode === 4 ? 3 : 1;
    for (let i = 0; i + 2 < len; i += step) {
      const ind0 = indices[i] * 2;
      const ind1 = indices[i + 1] * 2;
      const ind2 = indices[i + 2] * 2;
      points[0] = vertices[ind0];
      points[1] = vertices[ind0 + 1];
      points[2] = vertices[ind1];
      points[3] = vertices[ind1 + 1];
      points[4] = vertices[ind2];
      points[5] = vertices[ind2 + 1];
      if (tempPolygon.contains(tempPoint.x, tempPoint.y)) {
        return true;
      }
    }
    return false;
  }
  destroy(options) {
    super.destroy(options);
    if (this._cachedTexture) {
      this._cachedTexture.destroy();
      this._cachedTexture = null;
    }
    this.geometry = null;
    this.shader = null;
    this.state = null;
    this.uvs = null;
    this.indices = null;
    this.vertexData = null;
  }
};
let Mesh = _Mesh;
Mesh.BATCHABLE_SIZE = 100;


//# sourceMappingURL=Mesh.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh/lib/MeshBatchUvs.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/mesh/lib/MeshBatchUvs.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MeshBatchUvs: () => (/* binding */ MeshBatchUvs)
/* harmony export */ });
class MeshBatchUvs {
  constructor(uvBuffer, uvMatrix) {
    this.uvBuffer = uvBuffer;
    this.uvMatrix = uvMatrix;
    this.data = null;
    this._bufferUpdateId = -1;
    this._textureUpdateId = -1;
    this._updateID = 0;
  }
  update(forceUpdate) {
    if (!forceUpdate && this._bufferUpdateId === this.uvBuffer._updateID && this._textureUpdateId === this.uvMatrix._updateID) {
      return;
    }
    this._bufferUpdateId = this.uvBuffer._updateID;
    this._textureUpdateId = this.uvMatrix._updateID;
    const data = this.uvBuffer.data;
    if (!this.data || this.data.length !== data.length) {
      this.data = new Float32Array(data.length);
    }
    this.uvMatrix.multiplyUvs(data, this.data);
    this._updateID++;
  }
}


//# sourceMappingURL=MeshBatchUvs.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh/lib/MeshGeometry.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/mesh/lib/MeshGeometry.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MeshGeometry: () => (/* binding */ MeshGeometry)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


class MeshGeometry extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Geometry {
  constructor(vertices, uvs, index) {
    super();
    const verticesBuffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Buffer(vertices);
    const uvsBuffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Buffer(uvs, true);
    const indexBuffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Buffer(index, true, true);
    this.addAttribute("aVertexPosition", verticesBuffer, 2, false, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT).addAttribute("aTextureCoord", uvsBuffer, 2, false, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT).addIndex(indexBuffer);
    this._updateId = -1;
  }
  get vertexDirtyId() {
    return this.buffers[0]._updateID;
  }
}


//# sourceMappingURL=MeshGeometry.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh/lib/MeshMaterial.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/mesh/lib/MeshMaterial.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MeshMaterial: () => (/* binding */ MeshMaterial)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _shader_mesh_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shader/mesh.mjs */ "./node_modules/@pixi/mesh/lib/shader/mesh.mjs");
/* harmony import */ var _shader_mesh2_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shader/mesh2.mjs */ "./node_modules/@pixi/mesh/lib/shader/mesh2.mjs");




class MeshMaterial extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Shader {
  constructor(uSampler, options) {
    const uniforms = {
      uSampler,
      alpha: 1,
      uTextureMatrix: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Matrix.IDENTITY,
      uColor: new Float32Array([1, 1, 1, 1])
    };
    options = Object.assign({
      tint: 16777215,
      alpha: 1,
      pluginName: "batch"
    }, options);
    if (options.uniforms) {
      Object.assign(uniforms, options.uniforms);
    }
    super(options.program || _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Program.from(_shader_mesh2_mjs__WEBPACK_IMPORTED_MODULE_2__["default"], _shader_mesh_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]), uniforms);
    this._colorDirty = false;
    this.uvMatrix = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TextureMatrix(uSampler);
    this.batchable = options.program === void 0;
    this.pluginName = options.pluginName;
    this._tintColor = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color(options.tint);
    this._tintRGB = this._tintColor.toLittleEndianNumber();
    this._colorDirty = true;
    this.alpha = options.alpha;
  }
  get texture() {
    return this.uniforms.uSampler;
  }
  set texture(value) {
    if (this.uniforms.uSampler !== value) {
      if (!this.uniforms.uSampler.baseTexture.alphaMode !== !value.baseTexture.alphaMode) {
        this._colorDirty = true;
      }
      this.uniforms.uSampler = value;
      this.uvMatrix.texture = value;
    }
  }
  set alpha(value) {
    if (value === this._alpha)
      return;
    this._alpha = value;
    this._colorDirty = true;
  }
  get alpha() {
    return this._alpha;
  }
  set tint(value) {
    if (value === this.tint)
      return;
    this._tintColor.setValue(value);
    this._tintRGB = this._tintColor.toLittleEndianNumber();
    this._colorDirty = true;
  }
  get tint() {
    return this._tintColor.value;
  }
  get tintValue() {
    return this._tintColor.toNumber();
  }
  update() {
    if (this._colorDirty) {
      this._colorDirty = false;
      const baseTexture = this.texture.baseTexture;
      const applyToChannels = baseTexture.alphaMode;
      _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(this._tintColor).premultiply(this._alpha, applyToChannels).toArray(this.uniforms.uColor);
    }
    if (this.uvMatrix.update()) {
      this.uniforms.uTextureMatrix = this.uvMatrix.mapCoord;
    }
  }
}


//# sourceMappingURL=MeshMaterial.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh/lib/index.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/mesh/lib/index.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Mesh: () => (/* reexport safe */ _Mesh_mjs__WEBPACK_IMPORTED_MODULE_0__.Mesh),
/* harmony export */   MeshBatchUvs: () => (/* reexport safe */ _MeshBatchUvs_mjs__WEBPACK_IMPORTED_MODULE_1__.MeshBatchUvs),
/* harmony export */   MeshGeometry: () => (/* reexport safe */ _MeshGeometry_mjs__WEBPACK_IMPORTED_MODULE_2__.MeshGeometry),
/* harmony export */   MeshMaterial: () => (/* reexport safe */ _MeshMaterial_mjs__WEBPACK_IMPORTED_MODULE_3__.MeshMaterial)
/* harmony export */ });
/* harmony import */ var _Mesh_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Mesh.mjs */ "./node_modules/@pixi/mesh/lib/Mesh.mjs");
/* harmony import */ var _MeshBatchUvs_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MeshBatchUvs.mjs */ "./node_modules/@pixi/mesh/lib/MeshBatchUvs.mjs");
/* harmony import */ var _MeshGeometry_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MeshGeometry.mjs */ "./node_modules/@pixi/mesh/lib/MeshGeometry.mjs");
/* harmony import */ var _MeshMaterial_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MeshMaterial.mjs */ "./node_modules/@pixi/mesh/lib/MeshMaterial.mjs");




//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh/lib/shader/mesh.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/mesh/lib/shader/mesh.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n";


//# sourceMappingURL=mesh.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh/lib/shader/mesh2.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/mesh/lib/shader/mesh2.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ vertex)
/* harmony export */ });
var vertex = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n";


//# sourceMappingURL=mesh2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mixin-cache-as-bitmap/lib/index.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/mixin-cache-as-bitmap/lib/index.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CacheData: () => (/* binding */ CacheData)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _pixi_sprite__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/sprite */ "./node_modules/@pixi/sprite/lib/index.mjs");




const _tempMatrix = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Matrix();
_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.prototype._cacheAsBitmap = false;
_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.prototype._cacheData = null;
_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.prototype._cacheAsBitmapResolution = null;
_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.prototype._cacheAsBitmapMultisample = null;
class CacheData {
  constructor() {
    this.textureCacheId = null;
    this.originalRender = null;
    this.originalRenderCanvas = null;
    this.originalCalculateBounds = null;
    this.originalGetLocalBounds = null;
    this.originalUpdateTransform = null;
    this.originalDestroy = null;
    this.originalMask = null;
    this.originalFilterArea = null;
    this.originalContainsPoint = null;
    this.sprite = null;
  }
}
Object.defineProperties(_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.prototype, {
  cacheAsBitmapResolution: {
    get() {
      return this._cacheAsBitmapResolution;
    },
    set(resolution) {
      if (resolution === this._cacheAsBitmapResolution) {
        return;
      }
      this._cacheAsBitmapResolution = resolution;
      if (this.cacheAsBitmap) {
        this.cacheAsBitmap = false;
        this.cacheAsBitmap = true;
      }
    }
  },
  cacheAsBitmapMultisample: {
    get() {
      return this._cacheAsBitmapMultisample;
    },
    set(multisample) {
      if (multisample === this._cacheAsBitmapMultisample) {
        return;
      }
      this._cacheAsBitmapMultisample = multisample;
      if (this.cacheAsBitmap) {
        this.cacheAsBitmap = false;
        this.cacheAsBitmap = true;
      }
    }
  },
  cacheAsBitmap: {
    get() {
      return this._cacheAsBitmap;
    },
    set(value) {
      if (this._cacheAsBitmap === value) {
        return;
      }
      this._cacheAsBitmap = value;
      let data;
      if (value) {
        if (!this._cacheData) {
          this._cacheData = new CacheData();
        }
        data = this._cacheData;
        data.originalRender = this.render;
        data.originalRenderCanvas = this.renderCanvas;
        data.originalUpdateTransform = this.updateTransform;
        data.originalCalculateBounds = this.calculateBounds;
        data.originalGetLocalBounds = this.getLocalBounds;
        data.originalDestroy = this.destroy;
        data.originalContainsPoint = this.containsPoint;
        data.originalMask = this._mask;
        data.originalFilterArea = this.filterArea;
        this.render = this._renderCached;
        this.renderCanvas = this._renderCachedCanvas;
        this.destroy = this._cacheAsBitmapDestroy;
      } else {
        data = this._cacheData;
        if (data.sprite) {
          this._destroyCachedDisplayObject();
        }
        this.render = data.originalRender;
        this.renderCanvas = data.originalRenderCanvas;
        this.calculateBounds = data.originalCalculateBounds;
        this.getLocalBounds = data.originalGetLocalBounds;
        this.destroy = data.originalDestroy;
        this.updateTransform = data.originalUpdateTransform;
        this.containsPoint = data.originalContainsPoint;
        this._mask = data.originalMask;
        this.filterArea = data.originalFilterArea;
      }
    }
  }
});
_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.prototype._renderCached = function _renderCached(renderer) {
  if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {
    return;
  }
  this._initCachedDisplayObject(renderer);
  this._cacheData.sprite.transform._worldID = this.transform._worldID;
  this._cacheData.sprite.worldAlpha = this.worldAlpha;
  this._cacheData.sprite._render(renderer);
};
_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.prototype._initCachedDisplayObject = function _initCachedDisplayObject(renderer) {
  if (this._cacheData?.sprite) {
    return;
  }
  const cacheAlpha = this.alpha;
  this.alpha = 1;
  renderer.batch.flush();
  const bounds = this.getLocalBounds(null, true).clone();
  if (this.filters?.length) {
    const padding = this.filters[0].padding;
    bounds.pad(padding);
  }
  bounds.ceil(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RESOLUTION);
  const cachedRenderTexture = renderer.renderTexture.current;
  const cachedSourceFrame = renderer.renderTexture.sourceFrame.clone();
  const cachedDestinationFrame = renderer.renderTexture.destinationFrame.clone();
  const cachedProjectionTransform = renderer.projection.transform;
  const renderTexture = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.RenderTexture.create({
    width: bounds.width,
    height: bounds.height,
    resolution: this.cacheAsBitmapResolution || renderer.resolution,
    multisample: this.cacheAsBitmapMultisample ?? renderer.multisample
  });
  const textureCacheId = `cacheAsBitmap_${_pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.uid()}`;
  this._cacheData.textureCacheId = textureCacheId;
  _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture.addToCache(renderTexture.baseTexture, textureCacheId);
  _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.addToCache(renderTexture, textureCacheId);
  const m = this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-bounds.x, -bounds.y);
  this.render = this._cacheData.originalRender;
  renderer.render(this, { renderTexture, clear: true, transform: m, skipUpdateTransform: false });
  renderer.framebuffer.blit();
  renderer.projection.transform = cachedProjectionTransform;
  renderer.renderTexture.bind(cachedRenderTexture, cachedSourceFrame, cachedDestinationFrame);
  this.render = this._renderCached;
  this.updateTransform = this.displayObjectUpdateTransform;
  this.calculateBounds = this._calculateCachedBounds;
  this.getLocalBounds = this._getCachedLocalBounds;
  this._mask = null;
  this.filterArea = null;
  this.alpha = cacheAlpha;
  const cachedSprite = new _pixi_sprite__WEBPACK_IMPORTED_MODULE_2__.Sprite(renderTexture);
  cachedSprite.transform.worldTransform = this.transform.worldTransform;
  cachedSprite.anchor.x = -(bounds.x / bounds.width);
  cachedSprite.anchor.y = -(bounds.y / bounds.height);
  cachedSprite.alpha = cacheAlpha;
  cachedSprite._bounds = this._bounds;
  this._cacheData.sprite = cachedSprite;
  this.transform._parentID = -1;
  if (!this.parent) {
    this.enableTempParent();
    this.updateTransform();
    this.disableTempParent(null);
  } else {
    this.updateTransform();
  }
  this.containsPoint = cachedSprite.containsPoint.bind(cachedSprite);
};
_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.prototype._renderCachedCanvas = function _renderCachedCanvas(renderer) {
  if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {
    return;
  }
  this._initCachedDisplayObjectCanvas(renderer);
  this._cacheData.sprite.worldAlpha = this.worldAlpha;
  this._cacheData.sprite._renderCanvas(renderer);
};
_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.prototype._initCachedDisplayObjectCanvas = function _initCachedDisplayObjectCanvas(renderer) {
  if (this._cacheData?.sprite) {
    return;
  }
  const bounds = this.getLocalBounds(null, true);
  const cacheAlpha = this.alpha;
  this.alpha = 1;
  const cachedRenderTarget = renderer.canvasContext.activeContext;
  const cachedProjectionTransform = renderer._projTransform;
  bounds.ceil(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RESOLUTION);
  const renderTexture = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.RenderTexture.create({ width: bounds.width, height: bounds.height });
  const textureCacheId = `cacheAsBitmap_${_pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.uid()}`;
  this._cacheData.textureCacheId = textureCacheId;
  _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture.addToCache(renderTexture.baseTexture, textureCacheId);
  _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.addToCache(renderTexture, textureCacheId);
  const m = _tempMatrix;
  this.transform.localTransform.copyTo(m);
  m.invert();
  m.tx -= bounds.x;
  m.ty -= bounds.y;
  this.renderCanvas = this._cacheData.originalRenderCanvas;
  renderer.render(this, { renderTexture, clear: true, transform: m, skipUpdateTransform: false });
  renderer.canvasContext.activeContext = cachedRenderTarget;
  renderer._projTransform = cachedProjectionTransform;
  this.renderCanvas = this._renderCachedCanvas;
  this.updateTransform = this.displayObjectUpdateTransform;
  this.calculateBounds = this._calculateCachedBounds;
  this.getLocalBounds = this._getCachedLocalBounds;
  this._mask = null;
  this.filterArea = null;
  this.alpha = cacheAlpha;
  const cachedSprite = new _pixi_sprite__WEBPACK_IMPORTED_MODULE_2__.Sprite(renderTexture);
  cachedSprite.transform.worldTransform = this.transform.worldTransform;
  cachedSprite.anchor.x = -(bounds.x / bounds.width);
  cachedSprite.anchor.y = -(bounds.y / bounds.height);
  cachedSprite.alpha = cacheAlpha;
  cachedSprite._bounds = this._bounds;
  this._cacheData.sprite = cachedSprite;
  this.transform._parentID = -1;
  if (!this.parent) {
    this.parent = renderer._tempDisplayObjectParent;
    this.updateTransform();
    this.parent = null;
  } else {
    this.updateTransform();
  }
  this.containsPoint = cachedSprite.containsPoint.bind(cachedSprite);
};
_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.prototype._calculateCachedBounds = function _calculateCachedBounds() {
  this._bounds.clear();
  this._cacheData.sprite.transform._worldID = this.transform._worldID;
  this._cacheData.sprite._calculateBounds();
  this._bounds.updateID = this._boundsID;
};
_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.prototype._getCachedLocalBounds = function _getCachedLocalBounds() {
  return this._cacheData.sprite.getLocalBounds(null);
};
_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.prototype._destroyCachedDisplayObject = function _destroyCachedDisplayObject() {
  this._cacheData.sprite._texture.destroy(true);
  this._cacheData.sprite = null;
  _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture.removeFromCache(this._cacheData.textureCacheId);
  _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.removeFromCache(this._cacheData.textureCacheId);
  this._cacheData.textureCacheId = null;
};
_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.prototype._cacheAsBitmapDestroy = function _cacheAsBitmapDestroy(options) {
  this.cacheAsBitmap = false;
  this.destroy(options);
};


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mixin-get-child-by-name/lib/index.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/mixin-get-child-by-name/lib/index.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");


_pixi_display__WEBPACK_IMPORTED_MODULE_0__.DisplayObject.prototype.name = null;
_pixi_display__WEBPACK_IMPORTED_MODULE_0__.Container.prototype.getChildByName = function getChildByName(name, deep) {
  for (let i = 0, j = this.children.length; i < j; i++) {
    if (this.children[i].name === name) {
      return this.children[i];
    }
  }
  if (deep) {
    for (let i = 0, j = this.children.length; i < j; i++) {
      const child = this.children[i];
      if (!child.getChildByName) {
        continue;
      }
      const target = child.getChildByName(name, true);
      if (target) {
        return target;
      }
    }
  }
  return null;
};
//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mixin-get-global-position/lib/index.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@pixi/mixin-get-global-position/lib/index.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");



_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.prototype.getGlobalPosition = function getGlobalPosition(point = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point(), skipUpdate = false) {
  if (this.parent) {
    this.parent.toGlobal(this.position, point, skipUpdate);
  } else {
    point.x = this.position.x;
    point.y = this.position.y;
  }
  return point;
};
//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/particle-container/lib/ParticleBuffer.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/particle-container/lib/ParticleBuffer.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ParticleBuffer: () => (/* binding */ ParticleBuffer)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


class ParticleBuffer {
  constructor(properties, dynamicPropertyFlags, size) {
    this.geometry = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Geometry();
    this.indexBuffer = null;
    this.size = size;
    this.dynamicProperties = [];
    this.staticProperties = [];
    for (let i = 0; i < properties.length; ++i) {
      let property = properties[i];
      property = {
        attributeName: property.attributeName,
        size: property.size,
        uploadFunction: property.uploadFunction,
        type: property.type || _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT,
        offset: property.offset
      };
      if (dynamicPropertyFlags[i]) {
        this.dynamicProperties.push(property);
      } else {
        this.staticProperties.push(property);
      }
    }
    this.staticStride = 0;
    this.staticBuffer = null;
    this.staticData = null;
    this.staticDataUint32 = null;
    this.dynamicStride = 0;
    this.dynamicBuffer = null;
    this.dynamicData = null;
    this.dynamicDataUint32 = null;
    this._updateID = 0;
    this.initBuffers();
  }
  initBuffers() {
    const geometry = this.geometry;
    let dynamicOffset = 0;
    this.indexBuffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Buffer(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.createIndicesForQuads(this.size), true, true);
    geometry.addIndex(this.indexBuffer);
    this.dynamicStride = 0;
    for (let i = 0; i < this.dynamicProperties.length; ++i) {
      const property = this.dynamicProperties[i];
      property.offset = dynamicOffset;
      dynamicOffset += property.size;
      this.dynamicStride += property.size;
    }
    const dynBuffer = new ArrayBuffer(this.size * this.dynamicStride * 4 * 4);
    this.dynamicData = new Float32Array(dynBuffer);
    this.dynamicDataUint32 = new Uint32Array(dynBuffer);
    this.dynamicBuffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Buffer(this.dynamicData, false, false);
    let staticOffset = 0;
    this.staticStride = 0;
    for (let i = 0; i < this.staticProperties.length; ++i) {
      const property = this.staticProperties[i];
      property.offset = staticOffset;
      staticOffset += property.size;
      this.staticStride += property.size;
    }
    const statBuffer = new ArrayBuffer(this.size * this.staticStride * 4 * 4);
    this.staticData = new Float32Array(statBuffer);
    this.staticDataUint32 = new Uint32Array(statBuffer);
    this.staticBuffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Buffer(this.staticData, true, false);
    for (let i = 0; i < this.dynamicProperties.length; ++i) {
      const property = this.dynamicProperties[i];
      geometry.addAttribute(property.attributeName, this.dynamicBuffer, 0, property.type === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE, property.type, this.dynamicStride * 4, property.offset * 4);
    }
    for (let i = 0; i < this.staticProperties.length; ++i) {
      const property = this.staticProperties[i];
      geometry.addAttribute(property.attributeName, this.staticBuffer, 0, property.type === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE, property.type, this.staticStride * 4, property.offset * 4);
    }
  }
  uploadDynamic(children, startIndex, amount) {
    for (let i = 0; i < this.dynamicProperties.length; i++) {
      const property = this.dynamicProperties[i];
      property.uploadFunction(children, startIndex, amount, property.type === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE ? this.dynamicDataUint32 : this.dynamicData, this.dynamicStride, property.offset);
    }
    this.dynamicBuffer._updateID++;
  }
  uploadStatic(children, startIndex, amount) {
    for (let i = 0; i < this.staticProperties.length; i++) {
      const property = this.staticProperties[i];
      property.uploadFunction(children, startIndex, amount, property.type === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE ? this.staticDataUint32 : this.staticData, this.staticStride, property.offset);
    }
    this.staticBuffer._updateID++;
  }
  destroy() {
    this.indexBuffer = null;
    this.dynamicProperties = null;
    this.dynamicBuffer = null;
    this.dynamicData = null;
    this.dynamicDataUint32 = null;
    this.staticProperties = null;
    this.staticBuffer = null;
    this.staticData = null;
    this.staticDataUint32 = null;
    this.geometry.destroy();
  }
}


//# sourceMappingURL=ParticleBuffer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/particle-container/lib/ParticleContainer.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/particle-container/lib/ParticleContainer.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ParticleContainer: () => (/* binding */ ParticleContainer)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");



class ParticleContainer extends _pixi_display__WEBPACK_IMPORTED_MODULE_1__.Container {
  constructor(maxSize = 1500, properties, batchSize = 16384, autoResize = false) {
    super();
    const maxBatchSize = 16384;
    if (batchSize > maxBatchSize) {
      batchSize = maxBatchSize;
    }
    this._properties = [false, true, false, false, false];
    this._maxSize = maxSize;
    this._batchSize = batchSize;
    this._buffers = null;
    this._bufferUpdateIDs = [];
    this._updateID = 0;
    this.interactiveChildren = false;
    this.blendMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL;
    this.autoResize = autoResize;
    this.roundPixels = true;
    this.baseTexture = null;
    this.setProperties(properties);
    this._tintColor = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color(0);
    this.tintRgb = new Float32Array(3);
    this.tint = 16777215;
  }
  setProperties(properties) {
    if (properties) {
      this._properties[0] = "vertices" in properties || "scale" in properties ? !!properties.vertices || !!properties.scale : this._properties[0];
      this._properties[1] = "position" in properties ? !!properties.position : this._properties[1];
      this._properties[2] = "rotation" in properties ? !!properties.rotation : this._properties[2];
      this._properties[3] = "uvs" in properties ? !!properties.uvs : this._properties[3];
      this._properties[4] = "tint" in properties || "alpha" in properties ? !!properties.tint || !!properties.alpha : this._properties[4];
    }
  }
  updateTransform() {
    this.displayObjectUpdateTransform();
  }
  get tint() {
    return this._tintColor.value;
  }
  set tint(value) {
    this._tintColor.setValue(value);
    this._tintColor.toRgbArray(this.tintRgb);
  }
  render(renderer) {
    if (!this.visible || this.worldAlpha <= 0 || !this.children.length || !this.renderable) {
      return;
    }
    if (!this.baseTexture) {
      this.baseTexture = this.children[0]._texture.baseTexture;
      if (!this.baseTexture.valid) {
        this.baseTexture.once("update", () => this.onChildrenChange(0));
      }
    }
    renderer.batch.setObjectRenderer(renderer.plugins.particle);
    renderer.plugins.particle.render(this);
  }
  onChildrenChange(smallestChildIndex) {
    const bufferIndex = Math.floor(smallestChildIndex / this._batchSize);
    while (this._bufferUpdateIDs.length < bufferIndex) {
      this._bufferUpdateIDs.push(0);
    }
    this._bufferUpdateIDs[bufferIndex] = ++this._updateID;
  }
  dispose() {
    if (this._buffers) {
      for (let i = 0; i < this._buffers.length; ++i) {
        this._buffers[i].destroy();
      }
      this._buffers = null;
    }
  }
  destroy(options) {
    super.destroy(options);
    this.dispose();
    this._properties = null;
    this._buffers = null;
    this._bufferUpdateIDs = null;
  }
}


//# sourceMappingURL=ParticleContainer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/particle-container/lib/ParticleRenderer.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/particle-container/lib/ParticleRenderer.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ParticleRenderer: () => (/* binding */ ParticleRenderer)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _ParticleBuffer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ParticleBuffer.mjs */ "./node_modules/@pixi/particle-container/lib/ParticleBuffer.mjs");
/* harmony import */ var _particles_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./particles.mjs */ "./node_modules/@pixi/particle-container/lib/particles.mjs");
/* harmony import */ var _particles2_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./particles2.mjs */ "./node_modules/@pixi/particle-container/lib/particles2.mjs");





class ParticleRenderer extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ObjectRenderer {
  constructor(renderer) {
    super(renderer);
    this.shader = null;
    this.properties = null;
    this.tempMatrix = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Matrix();
    this.properties = [
      {
        attributeName: "aVertexPosition",
        size: 2,
        uploadFunction: this.uploadVertices,
        offset: 0
      },
      {
        attributeName: "aPositionCoord",
        size: 2,
        uploadFunction: this.uploadPosition,
        offset: 0
      },
      {
        attributeName: "aRotation",
        size: 1,
        uploadFunction: this.uploadRotation,
        offset: 0
      },
      {
        attributeName: "aTextureCoord",
        size: 2,
        uploadFunction: this.uploadUvs,
        offset: 0
      },
      {
        attributeName: "aColor",
        size: 1,
        type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE,
        uploadFunction: this.uploadTint,
        offset: 0
      }
    ];
    this.shader = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Shader.from(_particles2_mjs__WEBPACK_IMPORTED_MODULE_3__["default"], _particles_mjs__WEBPACK_IMPORTED_MODULE_2__["default"], {});
    this.state = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.State.for2d();
  }
  render(container) {
    const children = container.children;
    const maxSize = container._maxSize;
    const batchSize = container._batchSize;
    const renderer = this.renderer;
    let totalChildren = children.length;
    if (totalChildren === 0) {
      return;
    } else if (totalChildren > maxSize && !container.autoResize) {
      totalChildren = maxSize;
    }
    let buffers = container._buffers;
    if (!buffers) {
      buffers = container._buffers = this.generateBuffers(container);
    }
    const baseTexture = children[0]._texture.baseTexture;
    const premultiplied = baseTexture.alphaMode > 0;
    this.state.blendMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.correctBlendMode(container.blendMode, premultiplied);
    renderer.state.set(this.state);
    const gl = renderer.gl;
    const m = container.worldTransform.copyTo(this.tempMatrix);
    m.prepend(renderer.globalUniforms.uniforms.projectionMatrix);
    this.shader.uniforms.translationMatrix = m.toArray(true);
    this.shader.uniforms.uColor = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(container.tintRgb).premultiply(container.worldAlpha, premultiplied).toArray(this.shader.uniforms.uColor);
    this.shader.uniforms.uSampler = baseTexture;
    this.renderer.shader.bind(this.shader);
    let updateStatic = false;
    for (let i = 0, j = 0; i < totalChildren; i += batchSize, j += 1) {
      let amount = totalChildren - i;
      if (amount > batchSize) {
        amount = batchSize;
      }
      if (j >= buffers.length) {
        buffers.push(this._generateOneMoreBuffer(container));
      }
      const buffer = buffers[j];
      buffer.uploadDynamic(children, i, amount);
      const bid = container._bufferUpdateIDs[j] || 0;
      updateStatic = updateStatic || buffer._updateID < bid;
      if (updateStatic) {
        buffer._updateID = container._updateID;
        buffer.uploadStatic(children, i, amount);
      }
      renderer.geometry.bind(buffer.geometry);
      gl.drawElements(gl.TRIANGLES, amount * 6, gl.UNSIGNED_SHORT, 0);
    }
  }
  generateBuffers(container) {
    const buffers = [];
    const size = container._maxSize;
    const batchSize = container._batchSize;
    const dynamicPropertyFlags = container._properties;
    for (let i = 0; i < size; i += batchSize) {
      buffers.push(new _ParticleBuffer_mjs__WEBPACK_IMPORTED_MODULE_1__.ParticleBuffer(this.properties, dynamicPropertyFlags, batchSize));
    }
    return buffers;
  }
  _generateOneMoreBuffer(container) {
    const batchSize = container._batchSize;
    const dynamicPropertyFlags = container._properties;
    return new _ParticleBuffer_mjs__WEBPACK_IMPORTED_MODULE_1__.ParticleBuffer(this.properties, dynamicPropertyFlags, batchSize);
  }
  uploadVertices(children, startIndex, amount, array, stride, offset) {
    let w0 = 0;
    let w1 = 0;
    let h0 = 0;
    let h1 = 0;
    for (let i = 0; i < amount; ++i) {
      const sprite = children[startIndex + i];
      const texture = sprite._texture;
      const sx = sprite.scale.x;
      const sy = sprite.scale.y;
      const trim = texture.trim;
      const orig = texture.orig;
      if (trim) {
        w1 = trim.x - sprite.anchor.x * orig.width;
        w0 = w1 + trim.width;
        h1 = trim.y - sprite.anchor.y * orig.height;
        h0 = h1 + trim.height;
      } else {
        w0 = orig.width * (1 - sprite.anchor.x);
        w1 = orig.width * -sprite.anchor.x;
        h0 = orig.height * (1 - sprite.anchor.y);
        h1 = orig.height * -sprite.anchor.y;
      }
      array[offset] = w1 * sx;
      array[offset + 1] = h1 * sy;
      array[offset + stride] = w0 * sx;
      array[offset + stride + 1] = h1 * sy;
      array[offset + stride * 2] = w0 * sx;
      array[offset + stride * 2 + 1] = h0 * sy;
      array[offset + stride * 3] = w1 * sx;
      array[offset + stride * 3 + 1] = h0 * sy;
      offset += stride * 4;
    }
  }
  uploadPosition(children, startIndex, amount, array, stride, offset) {
    for (let i = 0; i < amount; i++) {
      const spritePosition = children[startIndex + i].position;
      array[offset] = spritePosition.x;
      array[offset + 1] = spritePosition.y;
      array[offset + stride] = spritePosition.x;
      array[offset + stride + 1] = spritePosition.y;
      array[offset + stride * 2] = spritePosition.x;
      array[offset + stride * 2 + 1] = spritePosition.y;
      array[offset + stride * 3] = spritePosition.x;
      array[offset + stride * 3 + 1] = spritePosition.y;
      offset += stride * 4;
    }
  }
  uploadRotation(children, startIndex, amount, array, stride, offset) {
    for (let i = 0; i < amount; i++) {
      const spriteRotation = children[startIndex + i].rotation;
      array[offset] = spriteRotation;
      array[offset + stride] = spriteRotation;
      array[offset + stride * 2] = spriteRotation;
      array[offset + stride * 3] = spriteRotation;
      offset += stride * 4;
    }
  }
  uploadUvs(children, startIndex, amount, array, stride, offset) {
    for (let i = 0; i < amount; ++i) {
      const textureUvs = children[startIndex + i]._texture._uvs;
      if (textureUvs) {
        array[offset] = textureUvs.x0;
        array[offset + 1] = textureUvs.y0;
        array[offset + stride] = textureUvs.x1;
        array[offset + stride + 1] = textureUvs.y1;
        array[offset + stride * 2] = textureUvs.x2;
        array[offset + stride * 2 + 1] = textureUvs.y2;
        array[offset + stride * 3] = textureUvs.x3;
        array[offset + stride * 3 + 1] = textureUvs.y3;
        offset += stride * 4;
      } else {
        array[offset] = 0;
        array[offset + 1] = 0;
        array[offset + stride] = 0;
        array[offset + stride + 1] = 0;
        array[offset + stride * 2] = 0;
        array[offset + stride * 2 + 1] = 0;
        array[offset + stride * 3] = 0;
        array[offset + stride * 3 + 1] = 0;
        offset += stride * 4;
      }
    }
  }
  uploadTint(children, startIndex, amount, array, stride, offset) {
    for (let i = 0; i < amount; ++i) {
      const sprite = children[startIndex + i];
      const result = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(sprite._tintRGB).toPremultiplied(sprite.alpha, sprite.texture.baseTexture.alphaMode > 0);
      array[offset] = result;
      array[offset + stride] = result;
      array[offset + stride * 2] = result;
      array[offset + stride * 3] = result;
      offset += stride * 4;
    }
  }
  destroy() {
    super.destroy();
    if (this.shader) {
      this.shader.destroy();
      this.shader = null;
    }
    this.tempMatrix = null;
  }
}
ParticleRenderer.extension = {
  name: "particle",
  type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererPlugin
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(ParticleRenderer);


//# sourceMappingURL=ParticleRenderer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/particle-container/lib/index.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/particle-container/lib/index.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ParticleContainer: () => (/* reexport safe */ _ParticleContainer_mjs__WEBPACK_IMPORTED_MODULE_0__.ParticleContainer),
/* harmony export */   ParticleRenderer: () => (/* reexport safe */ _ParticleRenderer_mjs__WEBPACK_IMPORTED_MODULE_1__.ParticleRenderer)
/* harmony export */ });
/* harmony import */ var _ParticleContainer_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ParticleContainer.mjs */ "./node_modules/@pixi/particle-container/lib/ParticleContainer.mjs");
/* harmony import */ var _ParticleRenderer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ParticleRenderer.mjs */ "./node_modules/@pixi/particle-container/lib/ParticleRenderer.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/particle-container/lib/particles.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/particle-container/lib/particles.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}";


//# sourceMappingURL=particles.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/particle-container/lib/particles2.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/particle-container/lib/particles2.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ vertex)
/* harmony export */ });
var vertex = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n";


//# sourceMappingURL=particles2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/prepare/lib/BasePrepare.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/prepare/lib/BasePrepare.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BasePrepare: () => (/* binding */ BasePrepare)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _pixi_text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/text */ "./node_modules/@pixi/text/lib/index.mjs");
/* harmony import */ var _CountLimiter_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CountLimiter.mjs */ "./node_modules/@pixi/prepare/lib/CountLimiter.mjs");





function findMultipleBaseTextures(item, queue) {
  let result = false;
  if (item?._textures?.length) {
    for (let i = 0; i < item._textures.length; i++) {
      if (item._textures[i] instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture) {
        const baseTexture = item._textures[i].baseTexture;
        if (!queue.includes(baseTexture)) {
          queue.push(baseTexture);
          result = true;
        }
      }
    }
  }
  return result;
}
function findBaseTexture(item, queue) {
  if (item.baseTexture instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture) {
    const texture = item.baseTexture;
    if (!queue.includes(texture)) {
      queue.push(texture);
    }
    return true;
  }
  return false;
}
function findTexture(item, queue) {
  if (item._texture && item._texture instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture) {
    const texture = item._texture.baseTexture;
    if (!queue.includes(texture)) {
      queue.push(texture);
    }
    return true;
  }
  return false;
}
function drawText(_helper, item) {
  if (item instanceof _pixi_text__WEBPACK_IMPORTED_MODULE_2__.Text) {
    item.updateText(true);
    return true;
  }
  return false;
}
function calculateTextStyle(_helper, item) {
  if (item instanceof _pixi_text__WEBPACK_IMPORTED_MODULE_2__.TextStyle) {
    const font = item.toFontString();
    _pixi_text__WEBPACK_IMPORTED_MODULE_2__.TextMetrics.measureFont(font);
    return true;
  }
  return false;
}
function findText(item, queue) {
  if (item instanceof _pixi_text__WEBPACK_IMPORTED_MODULE_2__.Text) {
    if (!queue.includes(item.style)) {
      queue.push(item.style);
    }
    if (!queue.includes(item)) {
      queue.push(item);
    }
    const texture = item._texture.baseTexture;
    if (!queue.includes(texture)) {
      queue.push(texture);
    }
    return true;
  }
  return false;
}
function findTextStyle(item, queue) {
  if (item instanceof _pixi_text__WEBPACK_IMPORTED_MODULE_2__.TextStyle) {
    if (!queue.includes(item)) {
      queue.push(item);
    }
    return true;
  }
  return false;
}
const _BasePrepare = class {
  constructor(renderer) {
    this.limiter = new _CountLimiter_mjs__WEBPACK_IMPORTED_MODULE_3__.CountLimiter(_BasePrepare.uploadsPerFrame);
    this.renderer = renderer;
    this.uploadHookHelper = null;
    this.queue = [];
    this.addHooks = [];
    this.uploadHooks = [];
    this.completes = [];
    this.ticking = false;
    this.delayedTick = () => {
      if (!this.queue) {
        return;
      }
      this.prepareItems();
    };
    this.registerFindHook(findText);
    this.registerFindHook(findTextStyle);
    this.registerFindHook(findMultipleBaseTextures);
    this.registerFindHook(findBaseTexture);
    this.registerFindHook(findTexture);
    this.registerUploadHook(drawText);
    this.registerUploadHook(calculateTextStyle);
  }
  upload(item) {
    return new Promise((resolve) => {
      if (item) {
        this.add(item);
      }
      if (this.queue.length) {
        this.completes.push(resolve);
        if (!this.ticking) {
          this.ticking = true;
          _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Ticker.system.addOnce(this.tick, this, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.UPDATE_PRIORITY.UTILITY);
        }
      } else {
        resolve();
      }
    });
  }
  tick() {
    setTimeout(this.delayedTick, 0);
  }
  prepareItems() {
    this.limiter.beginFrame();
    while (this.queue.length && this.limiter.allowedToUpload()) {
      const item = this.queue[0];
      let uploaded = false;
      if (item && !item._destroyed) {
        for (let i = 0, len = this.uploadHooks.length; i < len; i++) {
          if (this.uploadHooks[i](this.uploadHookHelper, item)) {
            this.queue.shift();
            uploaded = true;
            break;
          }
        }
      }
      if (!uploaded) {
        this.queue.shift();
      }
    }
    if (!this.queue.length) {
      this.ticking = false;
      const completes = this.completes.slice(0);
      this.completes.length = 0;
      for (let i = 0, len = completes.length; i < len; i++) {
        completes[i]();
      }
    } else {
      _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Ticker.system.addOnce(this.tick, this, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.UPDATE_PRIORITY.UTILITY);
    }
  }
  registerFindHook(addHook) {
    if (addHook) {
      this.addHooks.push(addHook);
    }
    return this;
  }
  registerUploadHook(uploadHook) {
    if (uploadHook) {
      this.uploadHooks.push(uploadHook);
    }
    return this;
  }
  add(item) {
    for (let i = 0, len = this.addHooks.length; i < len; i++) {
      if (this.addHooks[i](item, this.queue)) {
        break;
      }
    }
    if (item instanceof _pixi_display__WEBPACK_IMPORTED_MODULE_1__.Container) {
      for (let i = item.children.length - 1; i >= 0; i--) {
        this.add(item.children[i]);
      }
    }
    return this;
  }
  destroy() {
    if (this.ticking) {
      _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Ticker.system.remove(this.tick, this);
    }
    this.ticking = false;
    this.addHooks = null;
    this.uploadHooks = null;
    this.renderer = null;
    this.completes = null;
    this.queue = null;
    this.limiter = null;
    this.uploadHookHelper = null;
  }
};
let BasePrepare = _BasePrepare;
BasePrepare.uploadsPerFrame = 4;


//# sourceMappingURL=BasePrepare.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/prepare/lib/CountLimiter.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/prepare/lib/CountLimiter.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CountLimiter: () => (/* binding */ CountLimiter)
/* harmony export */ });
class CountLimiter {
  constructor(maxItemsPerFrame) {
    this.maxItemsPerFrame = maxItemsPerFrame;
    this.itemsLeft = 0;
  }
  beginFrame() {
    this.itemsLeft = this.maxItemsPerFrame;
  }
  allowedToUpload() {
    return this.itemsLeft-- > 0;
  }
}


//# sourceMappingURL=CountLimiter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/prepare/lib/Prepare.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/prepare/lib/Prepare.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Prepare: () => (/* binding */ Prepare)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_graphics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/graphics */ "./node_modules/@pixi/graphics/lib/index.mjs");
/* harmony import */ var _BasePrepare_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BasePrepare.mjs */ "./node_modules/@pixi/prepare/lib/BasePrepare.mjs");




function uploadBaseTextures(renderer, item) {
  if (item instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture) {
    if (!item._glTextures[renderer.CONTEXT_UID]) {
      renderer.texture.bind(item);
    }
    return true;
  }
  return false;
}
function uploadGraphics(renderer, item) {
  if (!(item instanceof _pixi_graphics__WEBPACK_IMPORTED_MODULE_1__.Graphics)) {
    return false;
  }
  const { geometry } = item;
  item.finishPoly();
  geometry.updateBatches();
  const { batches } = geometry;
  for (let i = 0; i < batches.length; i++) {
    const { texture } = batches[i].style;
    if (texture) {
      uploadBaseTextures(renderer, texture.baseTexture);
    }
  }
  if (!geometry.batchable) {
    renderer.geometry.bind(geometry, item._resolveDirectShader(renderer));
  }
  return true;
}
function findGraphics(item, queue) {
  if (item instanceof _pixi_graphics__WEBPACK_IMPORTED_MODULE_1__.Graphics) {
    queue.push(item);
    return true;
  }
  return false;
}
class Prepare extends _BasePrepare_mjs__WEBPACK_IMPORTED_MODULE_2__.BasePrepare {
  constructor(renderer) {
    super(renderer);
    this.uploadHookHelper = this.renderer;
    this.registerFindHook(findGraphics);
    this.registerUploadHook(uploadBaseTextures);
    this.registerUploadHook(uploadGraphics);
  }
}
Prepare.extension = {
  name: "prepare",
  type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(Prepare);


//# sourceMappingURL=Prepare.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/prepare/lib/TimeLimiter.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/prepare/lib/TimeLimiter.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TimeLimiter: () => (/* binding */ TimeLimiter)
/* harmony export */ });
class TimeLimiter {
  constructor(maxMilliseconds) {
    this.maxMilliseconds = maxMilliseconds;
    this.frameStart = 0;
  }
  beginFrame() {
    this.frameStart = Date.now();
  }
  allowedToUpload() {
    return Date.now() - this.frameStart < this.maxMilliseconds;
  }
}


//# sourceMappingURL=TimeLimiter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/prepare/lib/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/prepare/lib/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BasePrepare: () => (/* reexport safe */ _BasePrepare_mjs__WEBPACK_IMPORTED_MODULE_1__.BasePrepare),
/* harmony export */   CountLimiter: () => (/* reexport safe */ _CountLimiter_mjs__WEBPACK_IMPORTED_MODULE_2__.CountLimiter),
/* harmony export */   Prepare: () => (/* reexport safe */ _Prepare_mjs__WEBPACK_IMPORTED_MODULE_3__.Prepare),
/* harmony export */   TimeLimiter: () => (/* reexport safe */ _TimeLimiter_mjs__WEBPACK_IMPORTED_MODULE_4__.TimeLimiter)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings.mjs */ "./node_modules/@pixi/prepare/lib/settings.mjs");
/* harmony import */ var _BasePrepare_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BasePrepare.mjs */ "./node_modules/@pixi/prepare/lib/BasePrepare.mjs");
/* harmony import */ var _CountLimiter_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CountLimiter.mjs */ "./node_modules/@pixi/prepare/lib/CountLimiter.mjs");
/* harmony import */ var _Prepare_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Prepare.mjs */ "./node_modules/@pixi/prepare/lib/Prepare.mjs");
/* harmony import */ var _TimeLimiter_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TimeLimiter.mjs */ "./node_modules/@pixi/prepare/lib/TimeLimiter.mjs");





//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/prepare/lib/settings.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/prepare/lib/settings.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   settings: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _BasePrepare_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BasePrepare.mjs */ "./node_modules/@pixi/prepare/lib/BasePrepare.mjs");




Object.defineProperties(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings, {
  UPLOADS_PER_FRAME: {
    get() {
      return _BasePrepare_mjs__WEBPACK_IMPORTED_MODULE_1__.BasePrepare.uploadsPerFrame;
    },
    set(value) {
      _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.deprecation("7.1.0", "settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame");
      _BasePrepare_mjs__WEBPACK_IMPORTED_MODULE_1__.BasePrepare.uploadsPerFrame = value;
    }
  }
});
//# sourceMappingURL=settings.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/runner/lib/Runner.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/runner/lib/Runner.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Runner: () => (/* binding */ Runner)
/* harmony export */ });
class Runner {
  constructor(name) {
    this.items = [];
    this._name = name;
    this._aliasCount = 0;
  }
  emit(a0, a1, a2, a3, a4, a5, a6, a7) {
    if (arguments.length > 8) {
      throw new Error("max arguments reached");
    }
    const { name, items } = this;
    this._aliasCount++;
    for (let i = 0, len = items.length; i < len; i++) {
      items[i][name](a0, a1, a2, a3, a4, a5, a6, a7);
    }
    if (items === this.items) {
      this._aliasCount--;
    }
    return this;
  }
  ensureNonAliasedItems() {
    if (this._aliasCount > 0 && this.items.length > 1) {
      this._aliasCount = 0;
      this.items = this.items.slice(0);
    }
  }
  add(item) {
    if (item[this._name]) {
      this.ensureNonAliasedItems();
      this.remove(item);
      this.items.push(item);
    }
    return this;
  }
  remove(item) {
    const index = this.items.indexOf(item);
    if (index !== -1) {
      this.ensureNonAliasedItems();
      this.items.splice(index, 1);
    }
    return this;
  }
  contains(item) {
    return this.items.includes(item);
  }
  removeAll() {
    this.ensureNonAliasedItems();
    this.items.length = 0;
    return this;
  }
  destroy() {
    this.removeAll();
    this.items = null;
    this._name = null;
  }
  get empty() {
    return this.items.length === 0;
  }
  get name() {
    return this._name;
  }
}
Object.defineProperties(Runner.prototype, {
  dispatch: { value: Runner.prototype.emit },
  run: { value: Runner.prototype.emit }
});


//# sourceMappingURL=Runner.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/runner/lib/index.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/runner/lib/index.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Runner: () => (/* reexport safe */ _Runner_mjs__WEBPACK_IMPORTED_MODULE_0__.Runner)
/* harmony export */ });
/* harmony import */ var _Runner_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Runner.mjs */ "./node_modules/@pixi/runner/lib/Runner.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/ICanvas.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/ICanvas.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=ICanvas.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/ICanvasRenderingContext2D.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/ICanvasRenderingContext2D.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=ICanvasRenderingContext2D.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/adapter.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/adapter.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BrowserAdapter: () => (/* binding */ BrowserAdapter)
/* harmony export */ });
const BrowserAdapter = {
  createCanvas: (width, height) => {
    const canvas = document.createElement("canvas");
    canvas.width = width;
    canvas.height = height;
    return canvas;
  },
  getCanvasRenderingContext2D: () => CanvasRenderingContext2D,
  getWebGLRenderingContext: () => WebGLRenderingContext,
  getNavigator: () => navigator,
  getBaseUrl: () => document.baseURI ?? window.location.href,
  getFontFaceSet: () => document.fonts,
  fetch: (url, options) => fetch(url, options),
  parseXML: (xml) => {
    const parser = new DOMParser();
    return parser.parseFromString(xml, "text/xml");
  }
};


//# sourceMappingURL=adapter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/index.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/index.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BrowserAdapter: () => (/* reexport safe */ _adapter_mjs__WEBPACK_IMPORTED_MODULE_0__.BrowserAdapter),
/* harmony export */   isMobile: () => (/* reexport safe */ _utils_isMobile_mjs__WEBPACK_IMPORTED_MODULE_4__.isMobile),
/* harmony export */   settings: () => (/* reexport safe */ _settings_mjs__WEBPACK_IMPORTED_MODULE_3__.settings)
/* harmony export */ });
/* harmony import */ var _adapter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./adapter.mjs */ "./node_modules/@pixi/settings/lib/adapter.mjs");
/* harmony import */ var _ICanvas_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ICanvas.mjs */ "./node_modules/@pixi/settings/lib/ICanvas.mjs");
/* harmony import */ var _ICanvasRenderingContext2D_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ICanvasRenderingContext2D.mjs */ "./node_modules/@pixi/settings/lib/ICanvasRenderingContext2D.mjs");
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./settings.mjs */ "./node_modules/@pixi/settings/lib/settings.mjs");
/* harmony import */ var _utils_isMobile_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/isMobile.mjs */ "./node_modules/@pixi/settings/lib/utils/isMobile.mjs");





//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/settings.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/settings.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   settings: () => (/* binding */ settings)
/* harmony export */ });
/* harmony import */ var _adapter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./adapter.mjs */ "./node_modules/@pixi/settings/lib/adapter.mjs");


const settings = {
  ADAPTER: _adapter_mjs__WEBPACK_IMPORTED_MODULE_0__.BrowserAdapter,
  RESOLUTION: 1,
  CREATE_IMAGE_BITMAP: false,
  ROUND_PIXELS: false
};


//# sourceMappingURL=settings.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/utils/isMobile.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/utils/isMobile.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isMobile: () => (/* binding */ isMobile)
/* harmony export */ });
/* harmony import */ var ismobilejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ismobilejs */ "./node_modules/ismobilejs/esm/index.js");


const isMobileCall = ismobilejs__WEBPACK_IMPORTED_MODULE_0__["default"]["default"] ?? ismobilejs__WEBPACK_IMPORTED_MODULE_0__["default"];
const isMobile = isMobileCall(globalThis.navigator);


//# sourceMappingURL=isMobile.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-animated/lib/AnimatedSprite.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/sprite-animated/lib/AnimatedSprite.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AnimatedSprite: () => (/* binding */ AnimatedSprite)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_sprite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/sprite */ "./node_modules/@pixi/sprite/lib/index.mjs");



class AnimatedSprite extends _pixi_sprite__WEBPACK_IMPORTED_MODULE_1__.Sprite {
  constructor(textures, autoUpdate = true) {
    super(textures[0] instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture ? textures[0] : textures[0].texture);
    this._textures = null;
    this._durations = null;
    this._autoUpdate = autoUpdate;
    this._isConnectedToTicker = false;
    this.animationSpeed = 1;
    this.loop = true;
    this.updateAnchor = false;
    this.onComplete = null;
    this.onFrameChange = null;
    this.onLoop = null;
    this._currentTime = 0;
    this._playing = false;
    this._previousFrame = null;
    this.textures = textures;
  }
  stop() {
    if (!this._playing) {
      return;
    }
    this._playing = false;
    if (this._autoUpdate && this._isConnectedToTicker) {
      _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Ticker.shared.remove(this.update, this);
      this._isConnectedToTicker = false;
    }
  }
  play() {
    if (this._playing) {
      return;
    }
    this._playing = true;
    if (this._autoUpdate && !this._isConnectedToTicker) {
      _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Ticker.shared.add(this.update, this, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.UPDATE_PRIORITY.HIGH);
      this._isConnectedToTicker = true;
    }
  }
  gotoAndStop(frameNumber) {
    this.stop();
    this.currentFrame = frameNumber;
  }
  gotoAndPlay(frameNumber) {
    this.currentFrame = frameNumber;
    this.play();
  }
  update(deltaTime) {
    if (!this._playing) {
      return;
    }
    const elapsed = this.animationSpeed * deltaTime;
    const previousFrame = this.currentFrame;
    if (this._durations !== null) {
      let lag = this._currentTime % 1 * this._durations[this.currentFrame];
      lag += elapsed / 60 * 1e3;
      while (lag < 0) {
        this._currentTime--;
        lag += this._durations[this.currentFrame];
      }
      const sign = Math.sign(this.animationSpeed * deltaTime);
      this._currentTime = Math.floor(this._currentTime);
      while (lag >= this._durations[this.currentFrame]) {
        lag -= this._durations[this.currentFrame] * sign;
        this._currentTime += sign;
      }
      this._currentTime += lag / this._durations[this.currentFrame];
    } else {
      this._currentTime += elapsed;
    }
    if (this._currentTime < 0 && !this.loop) {
      this.gotoAndStop(0);
      if (this.onComplete) {
        this.onComplete();
      }
    } else if (this._currentTime >= this._textures.length && !this.loop) {
      this.gotoAndStop(this._textures.length - 1);
      if (this.onComplete) {
        this.onComplete();
      }
    } else if (previousFrame !== this.currentFrame) {
      if (this.loop && this.onLoop) {
        if (this.animationSpeed > 0 && this.currentFrame < previousFrame || this.animationSpeed < 0 && this.currentFrame > previousFrame) {
          this.onLoop();
        }
      }
      this.updateTexture();
    }
  }
  updateTexture() {
    const currentFrame = this.currentFrame;
    if (this._previousFrame === currentFrame) {
      return;
    }
    this._previousFrame = currentFrame;
    this._texture = this._textures[currentFrame];
    this._textureID = -1;
    this._textureTrimmedID = -1;
    this._cachedTint = 16777215;
    this.uvs = this._texture._uvs.uvsFloat32;
    if (this.updateAnchor) {
      this._anchor.copyFrom(this._texture.defaultAnchor);
    }
    if (this.onFrameChange) {
      this.onFrameChange(this.currentFrame);
    }
  }
  destroy(options) {
    this.stop();
    super.destroy(options);
    this.onComplete = null;
    this.onFrameChange = null;
    this.onLoop = null;
  }
  static fromFrames(frames) {
    const textures = [];
    for (let i = 0; i < frames.length; ++i) {
      textures.push(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.from(frames[i]));
    }
    return new AnimatedSprite(textures);
  }
  static fromImages(images) {
    const textures = [];
    for (let i = 0; i < images.length; ++i) {
      textures.push(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.from(images[i]));
    }
    return new AnimatedSprite(textures);
  }
  get totalFrames() {
    return this._textures.length;
  }
  get textures() {
    return this._textures;
  }
  set textures(value) {
    if (value[0] instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture) {
      this._textures = value;
      this._durations = null;
    } else {
      this._textures = [];
      this._durations = [];
      for (let i = 0; i < value.length; i++) {
        this._textures.push(value[i].texture);
        this._durations.push(value[i].time);
      }
    }
    this._previousFrame = null;
    this.gotoAndStop(0);
    this.updateTexture();
  }
  get currentFrame() {
    let currentFrame = Math.floor(this._currentTime) % this._textures.length;
    if (currentFrame < 0) {
      currentFrame += this._textures.length;
    }
    return currentFrame;
  }
  set currentFrame(value) {
    if (value < 0 || value > this.totalFrames - 1) {
      throw new Error(`[AnimatedSprite]: Invalid frame index value ${value}, expected to be between 0 and totalFrames ${this.totalFrames}.`);
    }
    const previousFrame = this.currentFrame;
    this._currentTime = value;
    if (previousFrame !== this.currentFrame) {
      this.updateTexture();
    }
  }
  get playing() {
    return this._playing;
  }
  get autoUpdate() {
    return this._autoUpdate;
  }
  set autoUpdate(value) {
    if (value !== this._autoUpdate) {
      this._autoUpdate = value;
      if (!this._autoUpdate && this._isConnectedToTicker) {
        _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Ticker.shared.remove(this.update, this);
        this._isConnectedToTicker = false;
      } else if (this._autoUpdate && !this._isConnectedToTicker && this._playing) {
        _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Ticker.shared.add(this.update, this);
        this._isConnectedToTicker = true;
      }
    }
  }
}


//# sourceMappingURL=AnimatedSprite.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-animated/lib/index.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/sprite-animated/lib/index.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AnimatedSprite: () => (/* reexport safe */ _AnimatedSprite_mjs__WEBPACK_IMPORTED_MODULE_0__.AnimatedSprite)
/* harmony export */ });
/* harmony import */ var _AnimatedSprite_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnimatedSprite.mjs */ "./node_modules/@pixi/sprite-animated/lib/AnimatedSprite.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/TilingSprite.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/TilingSprite.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TilingSprite: () => (/* binding */ TilingSprite)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_sprite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/sprite */ "./node_modules/@pixi/sprite/lib/index.mjs");



const tempPoint = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
class TilingSprite extends _pixi_sprite__WEBPACK_IMPORTED_MODULE_1__.Sprite {
  constructor(texture, width = 100, height = 100) {
    super(texture);
    this.tileTransform = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Transform();
    this._width = width;
    this._height = height;
    this.uvMatrix = this.texture.uvMatrix || new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TextureMatrix(texture);
    this.pluginName = "tilingSprite";
    this.uvRespectAnchor = false;
  }
  get clampMargin() {
    return this.uvMatrix.clampMargin;
  }
  set clampMargin(value) {
    this.uvMatrix.clampMargin = value;
    this.uvMatrix.update(true);
  }
  get tileScale() {
    return this.tileTransform.scale;
  }
  set tileScale(value) {
    this.tileTransform.scale.copyFrom(value);
  }
  get tilePosition() {
    return this.tileTransform.position;
  }
  set tilePosition(value) {
    this.tileTransform.position.copyFrom(value);
  }
  _onTextureUpdate() {
    if (this.uvMatrix) {
      this.uvMatrix.texture = this._texture;
    }
    this._cachedTint = 16777215;
  }
  _render(renderer) {
    const texture = this._texture;
    if (!texture || !texture.valid) {
      return;
    }
    this.tileTransform.updateLocalTransform();
    this.uvMatrix.update();
    renderer.batch.setObjectRenderer(renderer.plugins[this.pluginName]);
    renderer.plugins[this.pluginName].render(this);
  }
  _calculateBounds() {
    const minX = this._width * -this._anchor._x;
    const minY = this._height * -this._anchor._y;
    const maxX = this._width * (1 - this._anchor._x);
    const maxY = this._height * (1 - this._anchor._y);
    this._bounds.addFrame(this.transform, minX, minY, maxX, maxY);
  }
  getLocalBounds(rect) {
    if (this.children.length === 0) {
      this._bounds.minX = this._width * -this._anchor._x;
      this._bounds.minY = this._height * -this._anchor._y;
      this._bounds.maxX = this._width * (1 - this._anchor._x);
      this._bounds.maxY = this._height * (1 - this._anchor._y);
      if (!rect) {
        if (!this._localBoundsRect) {
          this._localBoundsRect = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
        }
        rect = this._localBoundsRect;
      }
      return this._bounds.getRectangle(rect);
    }
    return super.getLocalBounds.call(this, rect);
  }
  containsPoint(point) {
    this.worldTransform.applyInverse(point, tempPoint);
    const width = this._width;
    const height = this._height;
    const x1 = -width * this.anchor._x;
    if (tempPoint.x >= x1 && tempPoint.x < x1 + width) {
      const y1 = -height * this.anchor._y;
      if (tempPoint.y >= y1 && tempPoint.y < y1 + height) {
        return true;
      }
    }
    return false;
  }
  destroy(options) {
    super.destroy(options);
    this.tileTransform = null;
    this.uvMatrix = null;
  }
  static from(source, options) {
    const texture = source instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture ? source : _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.from(source, options);
    return new TilingSprite(texture, options.width, options.height);
  }
  get width() {
    return this._width;
  }
  set width(value) {
    this._width = value;
  }
  get height() {
    return this._height;
  }
  set height(value) {
    this._height = value;
  }
}


//# sourceMappingURL=TilingSprite.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/TilingSpriteRenderer.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/TilingSpriteRenderer.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TilingSpriteRenderer: () => (/* binding */ TilingSpriteRenderer)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _sprite_tiling_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sprite-tiling.mjs */ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling.mjs");
/* harmony import */ var _sprite_tiling2_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sprite-tiling2.mjs */ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling2.mjs");
/* harmony import */ var _sprite_tiling_fallback_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sprite-tiling-fallback.mjs */ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback.mjs");
/* harmony import */ var _sprite_tiling_fallback2_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sprite-tiling-fallback2.mjs */ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback2.mjs");
/* harmony import */ var _sprite_tiling_simple_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sprite-tiling-simple.mjs */ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-simple.mjs");







const tempMat = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Matrix();
class TilingSpriteRenderer extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ObjectRenderer {
  constructor(renderer) {
    super(renderer);
    renderer.runners.contextChange.add(this);
    this.quad = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.QuadUv();
    this.state = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.State.for2d();
  }
  contextChange() {
    const renderer = this.renderer;
    const uniforms = { globals: renderer.globalUniforms };
    this.simpleShader = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Shader.from(_sprite_tiling_fallback2_mjs__WEBPACK_IMPORTED_MODULE_4__["default"], _sprite_tiling_simple_mjs__WEBPACK_IMPORTED_MODULE_5__["default"], uniforms);
    this.shader = renderer.context.webGLVersion > 1 ? _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Shader.from(_sprite_tiling2_mjs__WEBPACK_IMPORTED_MODULE_2__["default"], _sprite_tiling_mjs__WEBPACK_IMPORTED_MODULE_1__["default"], uniforms) : _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Shader.from(_sprite_tiling_fallback2_mjs__WEBPACK_IMPORTED_MODULE_4__["default"], _sprite_tiling_fallback_mjs__WEBPACK_IMPORTED_MODULE_3__["default"], uniforms);
  }
  render(ts) {
    const renderer = this.renderer;
    const quad = this.quad;
    let vertices = quad.vertices;
    vertices[0] = vertices[6] = ts._width * -ts.anchor.x;
    vertices[1] = vertices[3] = ts._height * -ts.anchor.y;
    vertices[2] = vertices[4] = ts._width * (1 - ts.anchor.x);
    vertices[5] = vertices[7] = ts._height * (1 - ts.anchor.y);
    const anchorX = ts.uvRespectAnchor ? ts.anchor.x : 0;
    const anchorY = ts.uvRespectAnchor ? ts.anchor.y : 0;
    vertices = quad.uvs;
    vertices[0] = vertices[6] = -anchorX;
    vertices[1] = vertices[3] = -anchorY;
    vertices[2] = vertices[4] = 1 - anchorX;
    vertices[5] = vertices[7] = 1 - anchorY;
    quad.invalidate();
    const tex = ts._texture;
    const baseTex = tex.baseTexture;
    const premultiplied = baseTex.alphaMode > 0;
    const lt = ts.tileTransform.localTransform;
    const uv = ts.uvMatrix;
    let isSimple = baseTex.isPowerOfTwo && tex.frame.width === baseTex.width && tex.frame.height === baseTex.height;
    if (isSimple) {
      if (!baseTex._glTextures[renderer.CONTEXT_UID]) {
        if (baseTex.wrapMode === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.WRAP_MODES.CLAMP) {
          baseTex.wrapMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.WRAP_MODES.REPEAT;
        }
      } else {
        isSimple = baseTex.wrapMode !== _pixi_core__WEBPACK_IMPORTED_MODULE_0__.WRAP_MODES.CLAMP;
      }
    }
    const shader = isSimple ? this.simpleShader : this.shader;
    const w = tex.width;
    const h = tex.height;
    const W = ts._width;
    const H = ts._height;
    tempMat.set(lt.a * w / W, lt.b * w / H, lt.c * h / W, lt.d * h / H, lt.tx / W, lt.ty / H);
    tempMat.invert();
    if (isSimple) {
      tempMat.prepend(uv.mapCoord);
    } else {
      shader.uniforms.uMapCoord = uv.mapCoord.toArray(true);
      shader.uniforms.uClampFrame = uv.uClampFrame;
      shader.uniforms.uClampOffset = uv.uClampOffset;
    }
    shader.uniforms.uTransform = tempMat.toArray(true);
    shader.uniforms.uColor = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(ts.tint).premultiply(ts.worldAlpha, premultiplied).toArray(shader.uniforms.uColor);
    shader.uniforms.translationMatrix = ts.transform.worldTransform.toArray(true);
    shader.uniforms.uSampler = tex;
    renderer.shader.bind(shader);
    renderer.geometry.bind(quad);
    this.state.blendMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.correctBlendMode(ts.blendMode, premultiplied);
    renderer.state.set(this.state);
    renderer.geometry.draw(this.renderer.gl.TRIANGLES, 6, 0);
  }
}
TilingSpriteRenderer.extension = {
  name: "tilingSprite",
  type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererPlugin
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(TilingSpriteRenderer);


//# sourceMappingURL=TilingSpriteRenderer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TilingSprite: () => (/* reexport safe */ _TilingSprite_mjs__WEBPACK_IMPORTED_MODULE_0__.TilingSprite),
/* harmony export */   TilingSpriteRenderer: () => (/* reexport safe */ _TilingSpriteRenderer_mjs__WEBPACK_IMPORTED_MODULE_1__.TilingSpriteRenderer)
/* harmony export */ });
/* harmony import */ var _TilingSprite_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TilingSprite.mjs */ "./node_modules/@pixi/sprite-tiling/lib/TilingSprite.mjs");
/* harmony import */ var _TilingSpriteRenderer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TilingSpriteRenderer.mjs */ "./node_modules/@pixi/sprite-tiling/lib/TilingSpriteRenderer.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ gl1FragmentSrc)
/* harmony export */ });
var gl1FragmentSrc = "#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n";


//# sourceMappingURL=sprite-tiling-fallback.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback2.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback2.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ gl1VertexSrc)
/* harmony export */ });
var gl1VertexSrc = "#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";


//# sourceMappingURL=sprite-tiling-fallback2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-simple.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-simple.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragmentSimpleSrc)
/* harmony export */ });
var fragmentSimpleSrc = "#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n";


//# sourceMappingURL=sprite-tiling-simple.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/sprite-tiling.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ gl2FragmentSrc)
/* harmony export */ });
var gl2FragmentSrc = "#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n";


//# sourceMappingURL=sprite-tiling.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling2.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/sprite-tiling2.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ gl2VertexSrc)
/* harmony export */ });
var gl2VertexSrc = "#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";


//# sourceMappingURL=sprite-tiling2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite/lib/Sprite.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/sprite/lib/Sprite.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Sprite: () => (/* binding */ Sprite)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");



const tempPoint = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
const indices = new Uint16Array([0, 1, 2, 0, 2, 3]);
class Sprite extends _pixi_display__WEBPACK_IMPORTED_MODULE_1__.Container {
  constructor(texture) {
    super();
    this._anchor = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ObservablePoint(this._onAnchorUpdate, this, texture ? texture.defaultAnchor.x : 0, texture ? texture.defaultAnchor.y : 0);
    this._texture = null;
    this._width = 0;
    this._height = 0;
    this._tintColor = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color(16777215);
    this._tintRGB = null;
    this.tint = 16777215;
    this.blendMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL;
    this._cachedTint = 16777215;
    this.uvs = null;
    this.texture = texture || _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.EMPTY;
    this.vertexData = new Float32Array(8);
    this.vertexTrimmedData = null;
    this._transformID = -1;
    this._textureID = -1;
    this._transformTrimmedID = -1;
    this._textureTrimmedID = -1;
    this.indices = indices;
    this.pluginName = "batch";
    this.isSprite = true;
    this._roundPixels = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ROUND_PIXELS;
  }
  _onTextureUpdate() {
    this._textureID = -1;
    this._textureTrimmedID = -1;
    this._cachedTint = 16777215;
    if (this._width) {
      this.scale.x = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.sign(this.scale.x) * this._width / this._texture.orig.width;
    }
    if (this._height) {
      this.scale.y = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.sign(this.scale.y) * this._height / this._texture.orig.height;
    }
  }
  _onAnchorUpdate() {
    this._transformID = -1;
    this._transformTrimmedID = -1;
  }
  calculateVertices() {
    const texture = this._texture;
    if (this._transformID === this.transform._worldID && this._textureID === texture._updateID) {
      return;
    }
    if (this._textureID !== texture._updateID) {
      this.uvs = this._texture._uvs.uvsFloat32;
    }
    this._transformID = this.transform._worldID;
    this._textureID = texture._updateID;
    const wt = this.transform.worldTransform;
    const a = wt.a;
    const b = wt.b;
    const c = wt.c;
    const d = wt.d;
    const tx = wt.tx;
    const ty = wt.ty;
    const vertexData = this.vertexData;
    const trim = texture.trim;
    const orig = texture.orig;
    const anchor = this._anchor;
    let w0 = 0;
    let w1 = 0;
    let h0 = 0;
    let h1 = 0;
    if (trim) {
      w1 = trim.x - anchor._x * orig.width;
      w0 = w1 + trim.width;
      h1 = trim.y - anchor._y * orig.height;
      h0 = h1 + trim.height;
    } else {
      w1 = -anchor._x * orig.width;
      w0 = w1 + orig.width;
      h1 = -anchor._y * orig.height;
      h0 = h1 + orig.height;
    }
    vertexData[0] = a * w1 + c * h1 + tx;
    vertexData[1] = d * h1 + b * w1 + ty;
    vertexData[2] = a * w0 + c * h1 + tx;
    vertexData[3] = d * h1 + b * w0 + ty;
    vertexData[4] = a * w0 + c * h0 + tx;
    vertexData[5] = d * h0 + b * w0 + ty;
    vertexData[6] = a * w1 + c * h0 + tx;
    vertexData[7] = d * h0 + b * w1 + ty;
    if (this._roundPixels) {
      const resolution = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RESOLUTION;
      for (let i = 0; i < vertexData.length; ++i) {
        vertexData[i] = Math.round(vertexData[i] * resolution) / resolution;
      }
    }
  }
  calculateTrimmedVertices() {
    if (!this.vertexTrimmedData) {
      this.vertexTrimmedData = new Float32Array(8);
    } else if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID) {
      return;
    }
    this._transformTrimmedID = this.transform._worldID;
    this._textureTrimmedID = this._texture._updateID;
    const texture = this._texture;
    const vertexData = this.vertexTrimmedData;
    const orig = texture.orig;
    const anchor = this._anchor;
    const wt = this.transform.worldTransform;
    const a = wt.a;
    const b = wt.b;
    const c = wt.c;
    const d = wt.d;
    const tx = wt.tx;
    const ty = wt.ty;
    const w1 = -anchor._x * orig.width;
    const w0 = w1 + orig.width;
    const h1 = -anchor._y * orig.height;
    const h0 = h1 + orig.height;
    vertexData[0] = a * w1 + c * h1 + tx;
    vertexData[1] = d * h1 + b * w1 + ty;
    vertexData[2] = a * w0 + c * h1 + tx;
    vertexData[3] = d * h1 + b * w0 + ty;
    vertexData[4] = a * w0 + c * h0 + tx;
    vertexData[5] = d * h0 + b * w0 + ty;
    vertexData[6] = a * w1 + c * h0 + tx;
    vertexData[7] = d * h0 + b * w1 + ty;
  }
  _render(renderer) {
    this.calculateVertices();
    renderer.batch.setObjectRenderer(renderer.plugins[this.pluginName]);
    renderer.plugins[this.pluginName].render(this);
  }
  _calculateBounds() {
    const trim = this._texture.trim;
    const orig = this._texture.orig;
    if (!trim || trim.width === orig.width && trim.height === orig.height) {
      this.calculateVertices();
      this._bounds.addQuad(this.vertexData);
    } else {
      this.calculateTrimmedVertices();
      this._bounds.addQuad(this.vertexTrimmedData);
    }
  }
  getLocalBounds(rect) {
    if (this.children.length === 0) {
      if (!this._localBounds) {
        this._localBounds = new _pixi_display__WEBPACK_IMPORTED_MODULE_1__.Bounds();
      }
      this._localBounds.minX = this._texture.orig.width * -this._anchor._x;
      this._localBounds.minY = this._texture.orig.height * -this._anchor._y;
      this._localBounds.maxX = this._texture.orig.width * (1 - this._anchor._x);
      this._localBounds.maxY = this._texture.orig.height * (1 - this._anchor._y);
      if (!rect) {
        if (!this._localBoundsRect) {
          this._localBoundsRect = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
        }
        rect = this._localBoundsRect;
      }
      return this._localBounds.getRectangle(rect);
    }
    return super.getLocalBounds.call(this, rect);
  }
  containsPoint(point) {
    this.worldTransform.applyInverse(point, tempPoint);
    const width = this._texture.orig.width;
    const height = this._texture.orig.height;
    const x1 = -width * this.anchor.x;
    let y1 = 0;
    if (tempPoint.x >= x1 && tempPoint.x < x1 + width) {
      y1 = -height * this.anchor.y;
      if (tempPoint.y >= y1 && tempPoint.y < y1 + height) {
        return true;
      }
    }
    return false;
  }
  destroy(options) {
    super.destroy(options);
    this._texture.off("update", this._onTextureUpdate, this);
    this._anchor = null;
    const destroyTexture = typeof options === "boolean" ? options : options?.texture;
    if (destroyTexture) {
      const destroyBaseTexture = typeof options === "boolean" ? options : options?.baseTexture;
      this._texture.destroy(!!destroyBaseTexture);
    }
    this._texture = null;
  }
  static from(source, options) {
    const texture = source instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture ? source : _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.from(source, options);
    return new Sprite(texture);
  }
  set roundPixels(value) {
    if (this._roundPixels !== value) {
      this._transformID = -1;
    }
    this._roundPixels = value;
  }
  get roundPixels() {
    return this._roundPixels;
  }
  get width() {
    return Math.abs(this.scale.x) * this._texture.orig.width;
  }
  set width(value) {
    const s = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.sign(this.scale.x) || 1;
    this.scale.x = s * value / this._texture.orig.width;
    this._width = value;
  }
  get height() {
    return Math.abs(this.scale.y) * this._texture.orig.height;
  }
  set height(value) {
    const s = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.sign(this.scale.y) || 1;
    this.scale.y = s * value / this._texture.orig.height;
    this._height = value;
  }
  get anchor() {
    return this._anchor;
  }
  set anchor(value) {
    this._anchor.copyFrom(value);
  }
  get tint() {
    return this._tintColor.value;
  }
  set tint(value) {
    this._tintColor.setValue(value);
    this._tintRGB = this._tintColor.toLittleEndianNumber();
  }
  get tintValue() {
    return this._tintColor.toNumber();
  }
  get texture() {
    return this._texture;
  }
  set texture(value) {
    if (this._texture === value) {
      return;
    }
    if (this._texture) {
      this._texture.off("update", this._onTextureUpdate, this);
    }
    this._texture = value || _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.EMPTY;
    this._cachedTint = 16777215;
    this._textureID = -1;
    this._textureTrimmedID = -1;
    if (value) {
      if (value.baseTexture.valid) {
        this._onTextureUpdate();
      } else {
        value.once("update", this._onTextureUpdate, this);
      }
    }
  }
}


//# sourceMappingURL=Sprite.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite/lib/index.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/sprite/lib/index.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Sprite: () => (/* reexport safe */ _Sprite_mjs__WEBPACK_IMPORTED_MODULE_0__.Sprite)
/* harmony export */ });
/* harmony import */ var _Sprite_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Sprite.mjs */ "./node_modules/@pixi/sprite/lib/Sprite.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/spritesheet/lib/Spritesheet.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/spritesheet/lib/Spritesheet.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Spritesheet: () => (/* binding */ Spritesheet)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const _Spritesheet = class {
  constructor(texture, data, resolutionFilename = null) {
    this.linkedSheets = [];
    this._texture = texture instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture ? texture : null;
    this.baseTexture = texture instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture ? texture : this._texture.baseTexture;
    this.textures = {};
    this.animations = {};
    this.data = data;
    const resource = this.baseTexture.resource;
    this.resolution = this._updateResolution(resolutionFilename || (resource ? resource.url : null));
    this._frames = this.data.frames;
    this._frameKeys = Object.keys(this._frames);
    this._batchIndex = 0;
    this._callback = null;
  }
  _updateResolution(resolutionFilename = null) {
    const { scale } = this.data.meta;
    let resolution = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.getResolutionOfUrl(resolutionFilename, null);
    if (resolution === null) {
      resolution = parseFloat(scale ?? "1");
    }
    if (resolution !== 1) {
      this.baseTexture.setResolution(resolution);
    }
    return resolution;
  }
  parse() {
    return new Promise((resolve) => {
      this._callback = resolve;
      this._batchIndex = 0;
      if (this._frameKeys.length <= _Spritesheet.BATCH_SIZE) {
        this._processFrames(0);
        this._processAnimations();
        this._parseComplete();
      } else {
        this._nextBatch();
      }
    });
  }
  _processFrames(initialFrameIndex) {
    let frameIndex = initialFrameIndex;
    const maxFrames = _Spritesheet.BATCH_SIZE;
    while (frameIndex - initialFrameIndex < maxFrames && frameIndex < this._frameKeys.length) {
      const i = this._frameKeys[frameIndex];
      const data = this._frames[i];
      const rect = data.frame;
      if (rect) {
        let frame = null;
        let trim = null;
        const sourceSize = data.trimmed !== false && data.sourceSize ? data.sourceSize : data.frame;
        const orig = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle(0, 0, Math.floor(sourceSize.w) / this.resolution, Math.floor(sourceSize.h) / this.resolution);
        if (data.rotated) {
          frame = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle(Math.floor(rect.x) / this.resolution, Math.floor(rect.y) / this.resolution, Math.floor(rect.h) / this.resolution, Math.floor(rect.w) / this.resolution);
        } else {
          frame = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle(Math.floor(rect.x) / this.resolution, Math.floor(rect.y) / this.resolution, Math.floor(rect.w) / this.resolution, Math.floor(rect.h) / this.resolution);
        }
        if (data.trimmed !== false && data.spriteSourceSize) {
          trim = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle(Math.floor(data.spriteSourceSize.x) / this.resolution, Math.floor(data.spriteSourceSize.y) / this.resolution, Math.floor(rect.w) / this.resolution, Math.floor(rect.h) / this.resolution);
        }
        this.textures[i] = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture(this.baseTexture, frame, orig, trim, data.rotated ? 2 : 0, data.anchor, data.borders);
        _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.addToCache(this.textures[i], i);
      }
      frameIndex++;
    }
  }
  _processAnimations() {
    const animations = this.data.animations || {};
    for (const animName in animations) {
      this.animations[animName] = [];
      for (let i = 0; i < animations[animName].length; i++) {
        const frameName = animations[animName][i];
        this.animations[animName].push(this.textures[frameName]);
      }
    }
  }
  _parseComplete() {
    const callback = this._callback;
    this._callback = null;
    this._batchIndex = 0;
    callback.call(this, this.textures);
  }
  _nextBatch() {
    this._processFrames(this._batchIndex * _Spritesheet.BATCH_SIZE);
    this._batchIndex++;
    setTimeout(() => {
      if (this._batchIndex * _Spritesheet.BATCH_SIZE < this._frameKeys.length) {
        this._nextBatch();
      } else {
        this._processAnimations();
        this._parseComplete();
      }
    }, 0);
  }
  destroy(destroyBase = false) {
    for (const i in this.textures) {
      this.textures[i].destroy();
    }
    this._frames = null;
    this._frameKeys = null;
    this.data = null;
    this.textures = null;
    if (destroyBase) {
      this._texture?.destroy();
      this.baseTexture.destroy();
    }
    this._texture = null;
    this.baseTexture = null;
    this.linkedSheets = [];
  }
};
let Spritesheet = _Spritesheet;
Spritesheet.BATCH_SIZE = 1e3;


//# sourceMappingURL=Spritesheet.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/spritesheet/lib/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/spritesheet/lib/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Spritesheet: () => (/* reexport safe */ _Spritesheet_mjs__WEBPACK_IMPORTED_MODULE_0__.Spritesheet),
/* harmony export */   spritesheetAsset: () => (/* reexport safe */ _spritesheetAsset_mjs__WEBPACK_IMPORTED_MODULE_1__.spritesheetAsset)
/* harmony export */ });
/* harmony import */ var _Spritesheet_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Spritesheet.mjs */ "./node_modules/@pixi/spritesheet/lib/Spritesheet.mjs");
/* harmony import */ var _spritesheetAsset_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./spritesheetAsset.mjs */ "./node_modules/@pixi/spritesheet/lib/spritesheetAsset.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/spritesheet/lib/spritesheetAsset.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/spritesheet/lib/spritesheetAsset.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   spritesheetAsset: () => (/* binding */ spritesheetAsset)
/* harmony export */ });
/* harmony import */ var _pixi_assets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/assets */ "./node_modules/@pixi/assets/lib/index.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _Spritesheet_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Spritesheet.mjs */ "./node_modules/@pixi/spritesheet/lib/Spritesheet.mjs");




const validImages = ["jpg", "png", "jpeg", "avif", "webp"];
function getCacheableAssets(keys, asset, ignoreMultiPack) {
  const out = {};
  keys.forEach((key) => {
    out[key] = asset;
  });
  Object.keys(asset.textures).forEach((key) => {
    out[key] = asset.textures[key];
  });
  if (!ignoreMultiPack) {
    const basePath = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.path.dirname(keys[0]);
    asset.linkedSheets.forEach((item, i) => {
      const out2 = getCacheableAssets([`${basePath}/${asset.data.meta.related_multi_packs[i]}`], item, true);
      Object.assign(out, out2);
    });
  }
  return out;
}
const spritesheetAsset = {
  extension: _pixi_core__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.Asset,
  cache: {
    test: (asset) => asset instanceof _Spritesheet_mjs__WEBPACK_IMPORTED_MODULE_2__.Spritesheet,
    getCacheableAssets: (keys, asset) => getCacheableAssets(keys, asset, false)
  },
  resolver: {
    test: (value) => {
      const tempURL = value.split("?")[0];
      const split = tempURL.split(".");
      const extension = split.pop();
      const format = split.pop();
      return extension === "json" && validImages.includes(format);
    },
    parse: (value) => {
      const split = value.split(".");
      return {
        resolution: parseFloat(_pixi_core__WEBPACK_IMPORTED_MODULE_1__.settings.RETINA_PREFIX.exec(value)?.[1] ?? "1"),
        format: split[split.length - 2],
        src: value
      };
    }
  },
  loader: {
    name: "spritesheetLoader",
    extension: {
      type: _pixi_core__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.LoadParser,
      priority: _pixi_assets__WEBPACK_IMPORTED_MODULE_0__.LoaderParserPriority.Normal
    },
    async testParse(asset, options) {
      return _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.path.extname(options.src).toLowerCase() === ".json" && !!asset.frames;
    },
    async parse(asset, options, loader) {
      let basePath = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.path.dirname(options.src);
      if (basePath && basePath.lastIndexOf("/") !== basePath.length - 1) {
        basePath += "/";
      }
      let imagePath = basePath + asset.meta.image;
      imagePath = (0,_pixi_assets__WEBPACK_IMPORTED_MODULE_0__.copySearchParams)(imagePath, options.src);
      const assets = await loader.load([imagePath]);
      const texture = assets[imagePath];
      const spritesheet = new _Spritesheet_mjs__WEBPACK_IMPORTED_MODULE_2__.Spritesheet(texture.baseTexture, asset, options.src);
      await spritesheet.parse();
      const multiPacks = asset?.meta?.related_multi_packs;
      if (Array.isArray(multiPacks)) {
        const promises = [];
        for (const item of multiPacks) {
          if (typeof item !== "string") {
            continue;
          }
          let itemUrl = basePath + item;
          if (options.data?.ignoreMultiPack) {
            continue;
          }
          itemUrl = (0,_pixi_assets__WEBPACK_IMPORTED_MODULE_0__.copySearchParams)(itemUrl, options.src);
          promises.push(loader.load({
            src: itemUrl,
            data: {
              ignoreMultiPack: true
            }
          }));
        }
        const res = await Promise.all(promises);
        spritesheet.linkedSheets = res;
        res.forEach((item) => {
          item.linkedSheets = [spritesheet].concat(spritesheet.linkedSheets.filter((sp) => sp !== item));
        });
      }
      return spritesheet;
    },
    unload(spritesheet) {
      spritesheet.destroy(true);
    }
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_1__.extensions.add(spritesheetAsset);


//# sourceMappingURL=spritesheetAsset.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/BitmapFont.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/BitmapFont.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BitmapFont: () => (/* binding */ BitmapFont)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/text */ "./node_modules/@pixi/text/lib/index.mjs");
/* harmony import */ var _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BitmapFontData.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapFontData.mjs");
/* harmony import */ var _formats_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./formats/index.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/index.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/index.mjs");
/* harmony import */ var _utils_resolveCharacters_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/resolveCharacters.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/resolveCharacters.mjs");
/* harmony import */ var _utils_drawGlyph_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/drawGlyph.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/drawGlyph.mjs");
/* harmony import */ var _utils_extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/extractCharCode.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/extractCharCode.mjs");









const _BitmapFont = class {
  constructor(data, textures, ownsTextures) {
    const [info] = data.info;
    const [common] = data.common;
    const [page] = data.page;
    const [distanceField] = data.distanceField;
    const res = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.getResolutionOfUrl(page.file);
    const pageTextures = {};
    this._ownsTextures = ownsTextures;
    this.font = info.face;
    this.size = info.size;
    this.lineHeight = common.lineHeight / res;
    this.chars = {};
    this.pageTextures = pageTextures;
    for (let i = 0; i < data.page.length; i++) {
      const { id, file } = data.page[i];
      pageTextures[id] = textures instanceof Array ? textures[i] : textures[file];
      if (distanceField?.fieldType && distanceField.fieldType !== "none") {
        pageTextures[id].baseTexture.alphaMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA;
        pageTextures[id].baseTexture.mipmap = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.MIPMAP_MODES.OFF;
      }
    }
    for (let i = 0; i < data.char.length; i++) {
      const { id, page: page2 } = data.char[i];
      let { x, y, width, height, xoffset, yoffset, xadvance } = data.char[i];
      x /= res;
      y /= res;
      width /= res;
      height /= res;
      xoffset /= res;
      yoffset /= res;
      xadvance /= res;
      const rect = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle(x + pageTextures[page2].frame.x / res, y + pageTextures[page2].frame.y / res, width, height);
      this.chars[id] = {
        xOffset: xoffset,
        yOffset: yoffset,
        xAdvance: xadvance,
        kerning: {},
        texture: new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture(pageTextures[page2].baseTexture, rect),
        page: page2
      };
    }
    for (let i = 0; i < data.kerning.length; i++) {
      let { first, second, amount } = data.kerning[i];
      first /= res;
      second /= res;
      amount /= res;
      if (this.chars[second]) {
        this.chars[second].kerning[first] = amount;
      }
    }
    this.distanceFieldRange = distanceField?.distanceRange;
    this.distanceFieldType = distanceField?.fieldType?.toLowerCase() ?? "none";
  }
  destroy() {
    for (const id in this.chars) {
      this.chars[id].texture.destroy();
      this.chars[id].texture = null;
    }
    for (const id in this.pageTextures) {
      if (this._ownsTextures) {
        this.pageTextures[id].destroy(true);
      }
      this.pageTextures[id] = null;
    }
    this.chars = null;
    this.pageTextures = null;
  }
  static install(data, textures, ownsTextures) {
    let fontData;
    if (data instanceof _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_2__.BitmapFontData) {
      fontData = data;
    } else {
      const format = (0,_formats_index_mjs__WEBPACK_IMPORTED_MODULE_3__.autoDetectFormat)(data);
      if (!format) {
        throw new Error("Unrecognized data format for font.");
      }
      fontData = format.parse(data);
    }
    if (textures instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture) {
      textures = [textures];
    }
    const font = new _BitmapFont(fontData, textures, ownsTextures);
    _BitmapFont.available[font.font] = font;
    return font;
  }
  static uninstall(name) {
    const font = _BitmapFont.available[name];
    if (!font) {
      throw new Error(`No font found named '${name}'`);
    }
    font.destroy();
    delete _BitmapFont.available[name];
  }
  static from(name, textStyle, options) {
    if (!name) {
      throw new Error("[BitmapFont] Property `name` is required.");
    }
    const {
      chars,
      padding,
      resolution,
      textureWidth,
      textureHeight,
      ...baseOptions
    } = Object.assign({}, _BitmapFont.defaultOptions, options);
    const charsList = (0,_utils_resolveCharacters_mjs__WEBPACK_IMPORTED_MODULE_5__.resolveCharacters)(chars);
    const style = textStyle instanceof _pixi_text__WEBPACK_IMPORTED_MODULE_1__.TextStyle ? textStyle : new _pixi_text__WEBPACK_IMPORTED_MODULE_1__.TextStyle(textStyle);
    const lineWidth = textureWidth;
    const fontData = new _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_2__.BitmapFontData();
    fontData.info[0] = {
      face: style.fontFamily,
      size: style.fontSize
    };
    fontData.common[0] = {
      lineHeight: style.fontSize
    };
    let positionX = 0;
    let positionY = 0;
    let canvas;
    let context;
    let baseTexture;
    let maxCharHeight = 0;
    const baseTextures = [];
    const textures = [];
    for (let i = 0; i < charsList.length; i++) {
      if (!canvas) {
        canvas = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.createCanvas();
        canvas.width = textureWidth;
        canvas.height = textureHeight;
        context = canvas.getContext("2d");
        baseTexture = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture(canvas, { resolution, ...baseOptions });
        baseTextures.push(baseTexture);
        textures.push(new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture(baseTexture));
        fontData.page.push({
          id: textures.length - 1,
          file: ""
        });
      }
      const character = charsList[i];
      const metrics = _pixi_text__WEBPACK_IMPORTED_MODULE_1__.TextMetrics.measureText(character, style, false, canvas);
      const width = metrics.width;
      const height = Math.ceil(metrics.height);
      const textureGlyphWidth = Math.ceil((style.fontStyle === "italic" ? 2 : 1) * width);
      if (positionY >= textureHeight - height * resolution) {
        if (positionY === 0) {
          throw new Error(`[BitmapFont] textureHeight ${textureHeight}px is too small (fontFamily: '${style.fontFamily}', fontSize: ${style.fontSize}px, char: '${character}')`);
        }
        --i;
        canvas = null;
        context = null;
        baseTexture = null;
        positionY = 0;
        positionX = 0;
        maxCharHeight = 0;
        continue;
      }
      maxCharHeight = Math.max(height + metrics.fontProperties.descent, maxCharHeight);
      if (textureGlyphWidth * resolution + positionX >= lineWidth) {
        if (positionX === 0) {
          throw new Error(`[BitmapFont] textureWidth ${textureWidth}px is too small (fontFamily: '${style.fontFamily}', fontSize: ${style.fontSize}px, char: '${character}')`);
        }
        --i;
        positionY += maxCharHeight * resolution;
        positionY = Math.ceil(positionY);
        positionX = 0;
        maxCharHeight = 0;
        continue;
      }
      (0,_utils_drawGlyph_mjs__WEBPACK_IMPORTED_MODULE_6__.drawGlyph)(canvas, context, metrics, positionX, positionY, resolution, style);
      const id = (0,_utils_extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_7__.extractCharCode)(metrics.text);
      fontData.char.push({
        id,
        page: textures.length - 1,
        x: positionX / resolution,
        y: positionY / resolution,
        width: textureGlyphWidth,
        height,
        xoffset: 0,
        yoffset: 0,
        xadvance: width - (style.dropShadow ? style.dropShadowDistance : 0) - (style.stroke ? style.strokeThickness : 0)
      });
      positionX += (textureGlyphWidth + 2 * padding) * resolution;
      positionX = Math.ceil(positionX);
    }
    for (let i = 0, len = charsList.length; i < len; i++) {
      const first = charsList[i];
      for (let j = 0; j < len; j++) {
        const second = charsList[j];
        const c1 = context.measureText(first).width;
        const c2 = context.measureText(second).width;
        const total = context.measureText(first + second).width;
        const amount = total - (c1 + c2);
        if (amount) {
          fontData.kerning.push({
            first: (0,_utils_extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_7__.extractCharCode)(first),
            second: (0,_utils_extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_7__.extractCharCode)(second),
            amount
          });
        }
      }
    }
    const font = new _BitmapFont(fontData, textures, true);
    if (_BitmapFont.available[name] !== void 0) {
      _BitmapFont.uninstall(name);
    }
    _BitmapFont.available[name] = font;
    return font;
  }
};
let BitmapFont = _BitmapFont;
BitmapFont.ALPHA = [["a", "z"], ["A", "Z"], " "];
BitmapFont.NUMERIC = [["0", "9"]];
BitmapFont.ALPHANUMERIC = [["a", "z"], ["A", "Z"], ["0", "9"], " "];
BitmapFont.ASCII = [[" ", "~"]];
BitmapFont.defaultOptions = {
  resolution: 1,
  textureWidth: 512,
  textureHeight: 512,
  padding: 4,
  chars: _BitmapFont.ALPHANUMERIC
};
BitmapFont.available = {};


//# sourceMappingURL=BitmapFont.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/BitmapFontData.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/BitmapFontData.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BitmapFontData: () => (/* binding */ BitmapFontData)
/* harmony export */ });
class BitmapFontData {
  constructor() {
    this.info = [];
    this.common = [];
    this.page = [];
    this.char = [];
    this.kerning = [];
    this.distanceField = [];
  }
}


//# sourceMappingURL=BitmapFontData.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/BitmapText.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/BitmapText.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BitmapText: () => (/* binding */ BitmapText)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _pixi_mesh__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/mesh */ "./node_modules/@pixi/mesh/lib/index.mjs");
/* harmony import */ var _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BitmapFont.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapFont.mjs");
/* harmony import */ var _shader_msdf_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./shader/msdf.mjs */ "./node_modules/@pixi/text-bitmap/lib/shader/msdf.mjs");
/* harmony import */ var _shader_msdf2_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./shader/msdf2.mjs */ "./node_modules/@pixi/text-bitmap/lib/shader/msdf2.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/index.mjs");
/* harmony import */ var _utils_splitTextToCharacters_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/splitTextToCharacters.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/splitTextToCharacters.mjs");
/* harmony import */ var _utils_extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/extractCharCode.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/extractCharCode.mjs");










const pageMeshDataDefaultPageMeshData = [];
const pageMeshDataMSDFPageMeshData = [];
const charRenderDataPool = [];
const _BitmapText = class extends _pixi_display__WEBPACK_IMPORTED_MODULE_1__.Container {
  constructor(text, style = {}) {
    super();
    const { align, tint, maxWidth, letterSpacing, fontName, fontSize } = Object.assign({}, _BitmapText.styleDefaults, style);
    if (!_BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_3__.BitmapFont.available[fontName]) {
      throw new Error(`Missing BitmapFont "${fontName}"`);
    }
    this._activePagesMeshData = [];
    this._textWidth = 0;
    this._textHeight = 0;
    this._align = align;
    this._tintColor = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color(tint);
    this._font = void 0;
    this._fontName = fontName;
    this._fontSize = fontSize;
    this.text = text;
    this._maxWidth = maxWidth;
    this._maxLineHeight = 0;
    this._letterSpacing = letterSpacing;
    this._anchor = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ObservablePoint(() => {
      this.dirty = true;
    }, this, 0, 0);
    this._roundPixels = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ROUND_PIXELS;
    this.dirty = true;
    this._resolution = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RESOLUTION;
    this._autoResolution = true;
    this._textureCache = {};
  }
  updateText() {
    const data = _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_3__.BitmapFont.available[this._fontName];
    const fontSize = this.fontSize;
    const scale = fontSize / data.size;
    const pos = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
    const chars = [];
    const lineWidths = [];
    const lineSpaces = [];
    const text = this._text.replace(/(?:\r\n|\r)/g, "\n") || " ";
    const charsInput = (0,_utils_splitTextToCharacters_mjs__WEBPACK_IMPORTED_MODULE_7__.splitTextToCharacters)(text);
    const maxWidth = this._maxWidth * data.size / fontSize;
    const pageMeshDataPool = data.distanceFieldType === "none" ? pageMeshDataDefaultPageMeshData : pageMeshDataMSDFPageMeshData;
    let prevCharCode = null;
    let lastLineWidth = 0;
    let maxLineWidth = 0;
    let line = 0;
    let lastBreakPos = -1;
    let lastBreakWidth = 0;
    let spacesRemoved = 0;
    let maxLineHeight = 0;
    let spaceCount = 0;
    for (let i = 0; i < charsInput.length; i++) {
      const char = charsInput[i];
      const charCode = (0,_utils_extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_8__.extractCharCode)(char);
      if (/(?:\s)/.test(char)) {
        lastBreakPos = i;
        lastBreakWidth = lastLineWidth;
        spaceCount++;
      }
      if (char === "\r" || char === "\n") {
        lineWidths.push(lastLineWidth);
        lineSpaces.push(-1);
        maxLineWidth = Math.max(maxLineWidth, lastLineWidth);
        ++line;
        ++spacesRemoved;
        pos.x = 0;
        pos.y += data.lineHeight;
        prevCharCode = null;
        spaceCount = 0;
        continue;
      }
      const charData = data.chars[charCode];
      if (!charData) {
        continue;
      }
      if (prevCharCode && charData.kerning[prevCharCode]) {
        pos.x += charData.kerning[prevCharCode];
      }
      const charRenderData = charRenderDataPool.pop() || {
        texture: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.EMPTY,
        line: 0,
        charCode: 0,
        prevSpaces: 0,
        position: new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point()
      };
      charRenderData.texture = charData.texture;
      charRenderData.line = line;
      charRenderData.charCode = charCode;
      charRenderData.position.x = Math.round(pos.x + charData.xOffset + this._letterSpacing / 2);
      charRenderData.position.y = Math.round(pos.y + charData.yOffset);
      charRenderData.prevSpaces = spaceCount;
      chars.push(charRenderData);
      lastLineWidth = charRenderData.position.x + Math.max(charData.xAdvance - charData.xOffset, charData.texture.orig.width);
      pos.x += charData.xAdvance + this._letterSpacing;
      maxLineHeight = Math.max(maxLineHeight, charData.yOffset + charData.texture.height);
      prevCharCode = charCode;
      if (lastBreakPos !== -1 && maxWidth > 0 && pos.x > maxWidth) {
        ++spacesRemoved;
        _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.removeItems(chars, 1 + lastBreakPos - spacesRemoved, 1 + i - lastBreakPos);
        i = lastBreakPos;
        lastBreakPos = -1;
        lineWidths.push(lastBreakWidth);
        lineSpaces.push(chars.length > 0 ? chars[chars.length - 1].prevSpaces : 0);
        maxLineWidth = Math.max(maxLineWidth, lastBreakWidth);
        line++;
        pos.x = 0;
        pos.y += data.lineHeight;
        prevCharCode = null;
        spaceCount = 0;
      }
    }
    const lastChar = charsInput[charsInput.length - 1];
    if (lastChar !== "\r" && lastChar !== "\n") {
      if (/(?:\s)/.test(lastChar)) {
        lastLineWidth = lastBreakWidth;
      }
      lineWidths.push(lastLineWidth);
      maxLineWidth = Math.max(maxLineWidth, lastLineWidth);
      lineSpaces.push(-1);
    }
    const lineAlignOffsets = [];
    for (let i = 0; i <= line; i++) {
      let alignOffset = 0;
      if (this._align === "right") {
        alignOffset = maxLineWidth - lineWidths[i];
      } else if (this._align === "center") {
        alignOffset = (maxLineWidth - lineWidths[i]) / 2;
      } else if (this._align === "justify") {
        alignOffset = lineSpaces[i] < 0 ? 0 : (maxLineWidth - lineWidths[i]) / lineSpaces[i];
      }
      lineAlignOffsets.push(alignOffset);
    }
    const lenChars = chars.length;
    const pagesMeshData = {};
    const newPagesMeshData = [];
    const activePagesMeshData = this._activePagesMeshData;
    pageMeshDataPool.push(...activePagesMeshData);
    for (let i = 0; i < lenChars; i++) {
      const texture = chars[i].texture;
      const baseTextureUid = texture.baseTexture.uid;
      if (!pagesMeshData[baseTextureUid]) {
        let pageMeshData = pageMeshDataPool.pop();
        if (!pageMeshData) {
          const geometry = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_2__.MeshGeometry();
          let material;
          let meshBlendMode;
          if (data.distanceFieldType === "none") {
            material = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_2__.MeshMaterial(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.EMPTY);
            meshBlendMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL;
          } else {
            material = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_2__.MeshMaterial(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.EMPTY, { program: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Program.from(_shader_msdf2_mjs__WEBPACK_IMPORTED_MODULE_5__["default"], _shader_msdf_mjs__WEBPACK_IMPORTED_MODULE_4__["default"]), uniforms: { uFWidth: 0 } });
            meshBlendMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL_NPM;
          }
          const mesh = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_2__.Mesh(geometry, material);
          mesh.blendMode = meshBlendMode;
          pageMeshData = {
            index: 0,
            indexCount: 0,
            vertexCount: 0,
            uvsCount: 0,
            total: 0,
            mesh,
            vertices: null,
            uvs: null,
            indices: null
          };
        }
        pageMeshData.index = 0;
        pageMeshData.indexCount = 0;
        pageMeshData.vertexCount = 0;
        pageMeshData.uvsCount = 0;
        pageMeshData.total = 0;
        const { _textureCache } = this;
        _textureCache[baseTextureUid] = _textureCache[baseTextureUid] || new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture(texture.baseTexture);
        pageMeshData.mesh.texture = _textureCache[baseTextureUid];
        pageMeshData.mesh.tint = this._tintColor.value;
        newPagesMeshData.push(pageMeshData);
        pagesMeshData[baseTextureUid] = pageMeshData;
      }
      pagesMeshData[baseTextureUid].total++;
    }
    for (let i = 0; i < activePagesMeshData.length; i++) {
      if (!newPagesMeshData.includes(activePagesMeshData[i])) {
        this.removeChild(activePagesMeshData[i].mesh);
      }
    }
    for (let i = 0; i < newPagesMeshData.length; i++) {
      if (newPagesMeshData[i].mesh.parent !== this) {
        this.addChild(newPagesMeshData[i].mesh);
      }
    }
    this._activePagesMeshData = newPagesMeshData;
    for (const i in pagesMeshData) {
      const pageMeshData = pagesMeshData[i];
      const total = pageMeshData.total;
      if (!(pageMeshData.indices?.length > 6 * total) || pageMeshData.vertices.length < _pixi_mesh__WEBPACK_IMPORTED_MODULE_2__.Mesh.BATCHABLE_SIZE * 2) {
        pageMeshData.vertices = new Float32Array(4 * 2 * total);
        pageMeshData.uvs = new Float32Array(4 * 2 * total);
        pageMeshData.indices = new Uint16Array(6 * total);
      } else {
        const total2 = pageMeshData.total;
        const vertices = pageMeshData.vertices;
        for (let i2 = total2 * 4 * 2; i2 < vertices.length; i2++) {
          vertices[i2] = 0;
        }
      }
      pageMeshData.mesh.size = 6 * total;
    }
    for (let i = 0; i < lenChars; i++) {
      const char = chars[i];
      let offset = char.position.x + lineAlignOffsets[char.line] * (this._align === "justify" ? char.prevSpaces : 1);
      if (this._roundPixels) {
        offset = Math.round(offset);
      }
      const xPos = offset * scale;
      const yPos = char.position.y * scale;
      const texture = char.texture;
      const pageMesh = pagesMeshData[texture.baseTexture.uid];
      const textureFrame = texture.frame;
      const textureUvs = texture._uvs;
      const index = pageMesh.index++;
      pageMesh.indices[index * 6 + 0] = 0 + index * 4;
      pageMesh.indices[index * 6 + 1] = 1 + index * 4;
      pageMesh.indices[index * 6 + 2] = 2 + index * 4;
      pageMesh.indices[index * 6 + 3] = 0 + index * 4;
      pageMesh.indices[index * 6 + 4] = 2 + index * 4;
      pageMesh.indices[index * 6 + 5] = 3 + index * 4;
      pageMesh.vertices[index * 8 + 0] = xPos;
      pageMesh.vertices[index * 8 + 1] = yPos;
      pageMesh.vertices[index * 8 + 2] = xPos + textureFrame.width * scale;
      pageMesh.vertices[index * 8 + 3] = yPos;
      pageMesh.vertices[index * 8 + 4] = xPos + textureFrame.width * scale;
      pageMesh.vertices[index * 8 + 5] = yPos + textureFrame.height * scale;
      pageMesh.vertices[index * 8 + 6] = xPos;
      pageMesh.vertices[index * 8 + 7] = yPos + textureFrame.height * scale;
      pageMesh.uvs[index * 8 + 0] = textureUvs.x0;
      pageMesh.uvs[index * 8 + 1] = textureUvs.y0;
      pageMesh.uvs[index * 8 + 2] = textureUvs.x1;
      pageMesh.uvs[index * 8 + 3] = textureUvs.y1;
      pageMesh.uvs[index * 8 + 4] = textureUvs.x2;
      pageMesh.uvs[index * 8 + 5] = textureUvs.y2;
      pageMesh.uvs[index * 8 + 6] = textureUvs.x3;
      pageMesh.uvs[index * 8 + 7] = textureUvs.y3;
    }
    this._textWidth = maxLineWidth * scale;
    this._textHeight = (pos.y + data.lineHeight) * scale;
    for (const i in pagesMeshData) {
      const pageMeshData = pagesMeshData[i];
      if (this.anchor.x !== 0 || this.anchor.y !== 0) {
        let vertexCount = 0;
        const anchorOffsetX = this._textWidth * this.anchor.x;
        const anchorOffsetY = this._textHeight * this.anchor.y;
        for (let i2 = 0; i2 < pageMeshData.total; i2++) {
          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;
        }
      }
      this._maxLineHeight = maxLineHeight * scale;
      const vertexBuffer = pageMeshData.mesh.geometry.getBuffer("aVertexPosition");
      const textureBuffer = pageMeshData.mesh.geometry.getBuffer("aTextureCoord");
      const indexBuffer = pageMeshData.mesh.geometry.getIndex();
      vertexBuffer.data = pageMeshData.vertices;
      textureBuffer.data = pageMeshData.uvs;
      indexBuffer.data = pageMeshData.indices;
      vertexBuffer.update();
      textureBuffer.update();
      indexBuffer.update();
    }
    for (let i = 0; i < chars.length; i++) {
      charRenderDataPool.push(chars[i]);
    }
    this._font = data;
    this.dirty = false;
  }
  updateTransform() {
    this.validate();
    this.containerUpdateTransform();
  }
  _render(renderer) {
    if (this._autoResolution && this._resolution !== renderer.resolution) {
      this._resolution = renderer.resolution;
      this.dirty = true;
    }
    const { distanceFieldRange, distanceFieldType, size } = _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_3__.BitmapFont.available[this._fontName];
    if (distanceFieldType !== "none") {
      const { a, b, c, d } = this.worldTransform;
      const dx = Math.sqrt(a * a + b * b);
      const dy = Math.sqrt(c * c + d * d);
      const worldScale = (Math.abs(dx) + Math.abs(dy)) / 2;
      const fontScale = this.fontSize / size;
      const resolution = renderer._view.resolution;
      for (const mesh of this._activePagesMeshData) {
        mesh.mesh.shader.uniforms.uFWidth = worldScale * distanceFieldRange * fontScale * resolution;
      }
    }
    super._render(renderer);
  }
  getLocalBounds() {
    this.validate();
    return super.getLocalBounds();
  }
  validate() {
    const font = _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_3__.BitmapFont.available[this._fontName];
    if (!font) {
      throw new Error(`Missing BitmapFont "${this._fontName}"`);
    }
    if (this._font !== font) {
      this.dirty = true;
    }
    if (this.dirty) {
      this.updateText();
    }
  }
  get tint() {
    return this._tintColor.value;
  }
  set tint(value) {
    if (this.tint === value)
      return;
    this._tintColor.setValue(value);
    for (let i = 0; i < this._activePagesMeshData.length; i++) {
      this._activePagesMeshData[i].mesh.tint = value;
    }
  }
  get align() {
    return this._align;
  }
  set align(value) {
    if (this._align !== value) {
      this._align = value;
      this.dirty = true;
    }
  }
  get fontName() {
    return this._fontName;
  }
  set fontName(value) {
    if (!_BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_3__.BitmapFont.available[value]) {
      throw new Error(`Missing BitmapFont "${value}"`);
    }
    if (this._fontName !== value) {
      this._fontName = value;
      this.dirty = true;
    }
  }
  get fontSize() {
    return this._fontSize ?? _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_3__.BitmapFont.available[this._fontName].size;
  }
  set fontSize(value) {
    if (this._fontSize !== value) {
      this._fontSize = value;
      this.dirty = true;
    }
  }
  get anchor() {
    return this._anchor;
  }
  set anchor(value) {
    if (typeof value === "number") {
      this._anchor.set(value);
    } else {
      this._anchor.copyFrom(value);
    }
  }
  get text() {
    return this._text;
  }
  set text(text) {
    text = String(text === null || text === void 0 ? "" : text);
    if (this._text === text) {
      return;
    }
    this._text = text;
    this.dirty = true;
  }
  get maxWidth() {
    return this._maxWidth;
  }
  set maxWidth(value) {
    if (this._maxWidth === value) {
      return;
    }
    this._maxWidth = value;
    this.dirty = true;
  }
  get maxLineHeight() {
    this.validate();
    return this._maxLineHeight;
  }
  get textWidth() {
    this.validate();
    return this._textWidth;
  }
  get letterSpacing() {
    return this._letterSpacing;
  }
  set letterSpacing(value) {
    if (this._letterSpacing !== value) {
      this._letterSpacing = value;
      this.dirty = true;
    }
  }
  get roundPixels() {
    return this._roundPixels;
  }
  set roundPixels(value) {
    if (value !== this._roundPixels) {
      this._roundPixels = value;
      this.dirty = true;
    }
  }
  get textHeight() {
    this.validate();
    return this._textHeight;
  }
  get resolution() {
    return this._resolution;
  }
  set resolution(value) {
    this._autoResolution = false;
    if (this._resolution === value) {
      return;
    }
    this._resolution = value;
    this.dirty = true;
  }
  destroy(options) {
    const { _textureCache } = this;
    const data = _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_3__.BitmapFont.available[this._fontName];
    const pageMeshDataPool = data.distanceFieldType === "none" ? pageMeshDataDefaultPageMeshData : pageMeshDataMSDFPageMeshData;
    pageMeshDataPool.push(...this._activePagesMeshData);
    for (const pageMeshData of this._activePagesMeshData) {
      this.removeChild(pageMeshData.mesh);
    }
    this._activePagesMeshData = [];
    pageMeshDataPool.filter((page) => _textureCache[page.mesh.texture.baseTexture.uid]).forEach((page) => {
      page.mesh.texture = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.EMPTY;
    });
    for (const id in _textureCache) {
      const texture = _textureCache[id];
      texture.destroy();
      delete _textureCache[id];
    }
    this._font = null;
    this._tintColor = null;
    this._textureCache = null;
    super.destroy(options);
  }
};
let BitmapText = _BitmapText;
BitmapText.styleDefaults = {
  align: "left",
  tint: 16777215,
  maxWidth: 0,
  letterSpacing: 0
};


//# sourceMappingURL=BitmapText.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/BitmapTextStyle.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/BitmapTextStyle.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=BitmapTextStyle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/formats/TextFormat.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/formats/TextFormat.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextFormat: () => (/* binding */ TextFormat)
/* harmony export */ });
/* harmony import */ var _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BitmapFontData.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapFontData.mjs");


class TextFormat {
  static test(data) {
    return typeof data === "string" && data.startsWith("info face=");
  }
  static parse(txt) {
    const items = txt.match(/^[a-z]+\s+.+$/gm);
    const rawData = {
      info: [],
      common: [],
      page: [],
      char: [],
      chars: [],
      kerning: [],
      kernings: [],
      distanceField: []
    };
    for (const i in items) {
      const name = items[i].match(/^[a-z]+/gm)[0];
      const attributeList = items[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm);
      const itemData = {};
      for (const i2 in attributeList) {
        const split = attributeList[i2].split("=");
        const key = split[0];
        const strValue = split[1].replace(/"/gm, "");
        const floatValue = parseFloat(strValue);
        const value = isNaN(floatValue) ? strValue : floatValue;
        itemData[key] = value;
      }
      rawData[name].push(itemData);
    }
    const font = new _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_0__.BitmapFontData();
    rawData.info.forEach((info) => font.info.push({
      face: info.face,
      size: parseInt(info.size, 10)
    }));
    rawData.common.forEach((common) => font.common.push({
      lineHeight: parseInt(common.lineHeight, 10)
    }));
    rawData.page.forEach((page) => font.page.push({
      id: parseInt(page.id, 10),
      file: page.file
    }));
    rawData.char.forEach((char) => font.char.push({
      id: parseInt(char.id, 10),
      page: parseInt(char.page, 10),
      x: parseInt(char.x, 10),
      y: parseInt(char.y, 10),
      width: parseInt(char.width, 10),
      height: parseInt(char.height, 10),
      xoffset: parseInt(char.xoffset, 10),
      yoffset: parseInt(char.yoffset, 10),
      xadvance: parseInt(char.xadvance, 10)
    }));
    rawData.kerning.forEach((kerning) => font.kerning.push({
      first: parseInt(kerning.first, 10),
      second: parseInt(kerning.second, 10),
      amount: parseInt(kerning.amount, 10)
    }));
    rawData.distanceField.forEach((df) => font.distanceField.push({
      distanceRange: parseInt(df.distanceRange, 10),
      fieldType: df.fieldType
    }));
    return font;
  }
}


//# sourceMappingURL=TextFormat.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/formats/XMLFormat.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/formats/XMLFormat.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   XMLFormat: () => (/* binding */ XMLFormat)
/* harmony export */ });
/* harmony import */ var _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BitmapFontData.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapFontData.mjs");


class XMLFormat {
  static test(data) {
    const xml = data;
    return "getElementsByTagName" in xml && xml.getElementsByTagName("page").length && xml.getElementsByTagName("info")[0].getAttribute("face") !== null;
  }
  static parse(xml) {
    const data = new _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_0__.BitmapFontData();
    const info = xml.getElementsByTagName("info");
    const common = xml.getElementsByTagName("common");
    const page = xml.getElementsByTagName("page");
    const char = xml.getElementsByTagName("char");
    const kerning = xml.getElementsByTagName("kerning");
    const distanceField = xml.getElementsByTagName("distanceField");
    for (let i = 0; i < info.length; i++) {
      data.info.push({
        face: info[i].getAttribute("face"),
        size: parseInt(info[i].getAttribute("size"), 10)
      });
    }
    for (let i = 0; i < common.length; i++) {
      data.common.push({
        lineHeight: parseInt(common[i].getAttribute("lineHeight"), 10)
      });
    }
    for (let i = 0; i < page.length; i++) {
      data.page.push({
        id: parseInt(page[i].getAttribute("id"), 10) || 0,
        file: page[i].getAttribute("file")
      });
    }
    for (let i = 0; i < char.length; i++) {
      const letter = char[i];
      data.char.push({
        id: parseInt(letter.getAttribute("id"), 10),
        page: parseInt(letter.getAttribute("page"), 10) || 0,
        x: parseInt(letter.getAttribute("x"), 10),
        y: parseInt(letter.getAttribute("y"), 10),
        width: parseInt(letter.getAttribute("width"), 10),
        height: parseInt(letter.getAttribute("height"), 10),
        xoffset: parseInt(letter.getAttribute("xoffset"), 10),
        yoffset: parseInt(letter.getAttribute("yoffset"), 10),
        xadvance: parseInt(letter.getAttribute("xadvance"), 10)
      });
    }
    for (let i = 0; i < kerning.length; i++) {
      data.kerning.push({
        first: parseInt(kerning[i].getAttribute("first"), 10),
        second: parseInt(kerning[i].getAttribute("second"), 10),
        amount: parseInt(kerning[i].getAttribute("amount"), 10)
      });
    }
    for (let i = 0; i < distanceField.length; i++) {
      data.distanceField.push({
        fieldType: distanceField[i].getAttribute("fieldType"),
        distanceRange: parseInt(distanceField[i].getAttribute("distanceRange"), 10)
      });
    }
    return data;
  }
}


//# sourceMappingURL=XMLFormat.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/formats/XMLStringFormat.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/formats/XMLStringFormat.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   XMLStringFormat: () => (/* binding */ XMLStringFormat)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./XMLFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/XMLFormat.mjs");



class XMLStringFormat {
  static test(data) {
    if (typeof data === "string" && data.includes("<font>")) {
      return _XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_1__.XMLFormat.test(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.parseXML(data));
    }
    return false;
  }
  static parse(xmlTxt) {
    return _XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_1__.XMLFormat.parse(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.parseXML(xmlTxt));
  }
}


//# sourceMappingURL=XMLStringFormat.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/formats/index.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/formats/index.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextFormat: () => (/* reexport safe */ _TextFormat_mjs__WEBPACK_IMPORTED_MODULE_0__.TextFormat),
/* harmony export */   XMLFormat: () => (/* reexport safe */ _XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_1__.XMLFormat),
/* harmony export */   XMLStringFormat: () => (/* reexport safe */ _XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_2__.XMLStringFormat),
/* harmony export */   autoDetectFormat: () => (/* binding */ autoDetectFormat)
/* harmony export */ });
/* harmony import */ var _TextFormat_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/TextFormat.mjs");
/* harmony import */ var _XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./XMLFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/XMLFormat.mjs");
/* harmony import */ var _XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./XMLStringFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/XMLStringFormat.mjs");







const formats = [
  _TextFormat_mjs__WEBPACK_IMPORTED_MODULE_0__.TextFormat,
  _XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_1__.XMLFormat,
  _XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_2__.XMLStringFormat
];
function autoDetectFormat(data) {
  for (let i = 0; i < formats.length; i++) {
    if (formats[i].test(data)) {
      return formats[i];
    }
  }
  return null;
}


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BitmapFont: () => (/* reexport safe */ _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_0__.BitmapFont),
/* harmony export */   BitmapFontData: () => (/* reexport safe */ _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_1__.BitmapFontData),
/* harmony export */   BitmapText: () => (/* reexport safe */ _BitmapText_mjs__WEBPACK_IMPORTED_MODULE_2__.BitmapText),
/* harmony export */   TextFormat: () => (/* reexport safe */ _formats_TextFormat_mjs__WEBPACK_IMPORTED_MODULE_6__.TextFormat),
/* harmony export */   XMLFormat: () => (/* reexport safe */ _formats_XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_7__.XMLFormat),
/* harmony export */   XMLStringFormat: () => (/* reexport safe */ _formats_XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_8__.XMLStringFormat),
/* harmony export */   autoDetectFormat: () => (/* reexport safe */ _formats_index_mjs__WEBPACK_IMPORTED_MODULE_4__.autoDetectFormat),
/* harmony export */   loadBitmapFont: () => (/* reexport safe */ _loadBitmapFont_mjs__WEBPACK_IMPORTED_MODULE_5__.loadBitmapFont)
/* harmony export */ });
/* harmony import */ var _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BitmapFont.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapFont.mjs");
/* harmony import */ var _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BitmapFontData.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapFontData.mjs");
/* harmony import */ var _BitmapText_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BitmapText.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapText.mjs");
/* harmony import */ var _BitmapTextStyle_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BitmapTextStyle.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapTextStyle.mjs");
/* harmony import */ var _formats_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./formats/index.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/index.mjs");
/* harmony import */ var _loadBitmapFont_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./loadBitmapFont.mjs */ "./node_modules/@pixi/text-bitmap/lib/loadBitmapFont.mjs");
/* harmony import */ var _formats_TextFormat_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./formats/TextFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/TextFormat.mjs");
/* harmony import */ var _formats_XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./formats/XMLFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/XMLFormat.mjs");
/* harmony import */ var _formats_XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./formats/XMLStringFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/XMLStringFormat.mjs");









//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/loadBitmapFont.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/loadBitmapFont.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadBitmapFont: () => (/* binding */ loadBitmapFont)
/* harmony export */ });
/* harmony import */ var _pixi_assets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/assets */ "./node_modules/@pixi/assets/lib/index.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BitmapFont.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapFont.mjs");
/* harmony import */ var _formats_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./formats/index.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/index.mjs");
/* harmony import */ var _formats_TextFormat_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./formats/TextFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/TextFormat.mjs");
/* harmony import */ var _formats_XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./formats/XMLStringFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/XMLStringFormat.mjs");







const validExtensions = [".xml", ".fnt"];
const loadBitmapFont = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.LoadParser,
    priority: _pixi_assets__WEBPACK_IMPORTED_MODULE_0__.LoaderParserPriority.Normal
  },
  name: "loadBitmapFont",
  test(url) {
    return validExtensions.includes(_pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.path.extname(url).toLowerCase());
  },
  async testParse(data) {
    return _formats_TextFormat_mjs__WEBPACK_IMPORTED_MODULE_4__.TextFormat.test(data) || _formats_XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_5__.XMLStringFormat.test(data);
  },
  async parse(asset, data, loader) {
    const fontData = _formats_TextFormat_mjs__WEBPACK_IMPORTED_MODULE_4__.TextFormat.test(asset) ? _formats_TextFormat_mjs__WEBPACK_IMPORTED_MODULE_4__.TextFormat.parse(asset) : _formats_XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_5__.XMLStringFormat.parse(asset);
    const { src } = data;
    const { page: pages } = fontData;
    const textureUrls = [];
    for (let i = 0; i < pages.length; ++i) {
      const pageFile = pages[i].file;
      let imagePath = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.path.join(_pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.path.dirname(src), pageFile);
      imagePath = (0,_pixi_assets__WEBPACK_IMPORTED_MODULE_0__.copySearchParams)(imagePath, src);
      textureUrls.push(imagePath);
    }
    const loadedTextures = await loader.load(textureUrls);
    const textures = textureUrls.map((url) => loadedTextures[url]);
    return _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_2__.BitmapFont.install(fontData, textures, true);
  },
  async load(url, _options) {
    const response = await _pixi_core__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.fetch(url);
    return response.text();
  },
  unload(bitmapFont) {
    bitmapFont.destroy();
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_1__.extensions.add(loadBitmapFont);


//# sourceMappingURL=loadBitmapFont.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/shader/msdf.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/shader/msdf.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ msdfFrag)
/* harmony export */ });
var msdfFrag = "// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n";


//# sourceMappingURL=msdf.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/shader/msdf2.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/shader/msdf2.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ msdfVert)
/* harmony export */ });
var msdfVert = "// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n";


//# sourceMappingURL=msdf2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/utils/drawGlyph.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/utils/drawGlyph.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   drawGlyph: () => (/* binding */ drawGlyph)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _generateFillStyle_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./generateFillStyle.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/generateFillStyle.mjs");



function drawGlyph(canvas, context, metrics, x, y, resolution, style) {
  const char = metrics.text;
  const fontProperties = metrics.fontProperties;
  context.translate(x, y);
  context.scale(resolution, resolution);
  const tx = style.strokeThickness / 2;
  const ty = -(style.strokeThickness / 2);
  context.font = style.toFontString();
  context.lineWidth = style.strokeThickness;
  context.textBaseline = style.textBaseline;
  context.lineJoin = style.lineJoin;
  context.miterLimit = style.miterLimit;
  context.fillStyle = (0,_generateFillStyle_mjs__WEBPACK_IMPORTED_MODULE_1__.generateFillStyle)(canvas, context, style, resolution, [char], metrics);
  context.strokeStyle = style.stroke;
  if (style.dropShadow) {
    const dropShadowColor = style.dropShadowColor;
    const dropShadowBlur = style.dropShadowBlur * resolution;
    const dropShadowDistance = style.dropShadowDistance * resolution;
    context.shadowColor = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(dropShadowColor).setAlpha(style.dropShadowAlpha).toRgbaString();
    context.shadowBlur = dropShadowBlur;
    context.shadowOffsetX = Math.cos(style.dropShadowAngle) * dropShadowDistance;
    context.shadowOffsetY = Math.sin(style.dropShadowAngle) * dropShadowDistance;
  } else {
    context.shadowColor = "black";
    context.shadowBlur = 0;
    context.shadowOffsetX = 0;
    context.shadowOffsetY = 0;
  }
  if (style.stroke && style.strokeThickness) {
    context.strokeText(char, tx, ty + metrics.lineHeight - fontProperties.descent);
  }
  if (style.fill) {
    context.fillText(char, tx, ty + metrics.lineHeight - fontProperties.descent);
  }
  context.setTransform(1, 0, 0, 1, 0, 0);
  context.fillStyle = "rgba(0, 0, 0, 0)";
}


//# sourceMappingURL=drawGlyph.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/utils/extractCharCode.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/utils/extractCharCode.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   extractCharCode: () => (/* binding */ extractCharCode)
/* harmony export */ });
function extractCharCode(str) {
  return str.codePointAt ? str.codePointAt(0) : str.charCodeAt(0);
}


//# sourceMappingURL=extractCharCode.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/utils/generateFillStyle.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/utils/generateFillStyle.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   generateFillStyle: () => (/* binding */ generateFillStyle)
/* harmony export */ });
/* harmony import */ var _pixi_text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/text */ "./node_modules/@pixi/text/lib/index.mjs");


function generateFillStyle(canvas, context, style, resolution, lines, metrics) {
  const fillStyle = style.fill;
  if (!Array.isArray(fillStyle)) {
    return fillStyle;
  } else if (fillStyle.length === 1) {
    return fillStyle[0];
  }
  let gradient;
  const dropShadowCorrection = style.dropShadow ? style.dropShadowDistance : 0;
  const padding = style.padding || 0;
  const width = canvas.width / resolution - dropShadowCorrection - padding * 2;
  const height = canvas.height / resolution - dropShadowCorrection - padding * 2;
  const fill = fillStyle.slice();
  const fillGradientStops = style.fillGradientStops.slice();
  if (!fillGradientStops.length) {
    const lengthPlus1 = fill.length + 1;
    for (let i = 1; i < lengthPlus1; ++i) {
      fillGradientStops.push(i / lengthPlus1);
    }
  }
  fill.unshift(fillStyle[0]);
  fillGradientStops.unshift(0);
  fill.push(fillStyle[fillStyle.length - 1]);
  fillGradientStops.push(1);
  if (style.fillGradientType === _pixi_text__WEBPACK_IMPORTED_MODULE_0__.TEXT_GRADIENT.LINEAR_VERTICAL) {
    gradient = context.createLinearGradient(width / 2, padding, width / 2, height + padding);
    let lastIterationStop = 0;
    const textHeight = metrics.fontProperties.fontSize + style.strokeThickness;
    const gradStopLineHeight = textHeight / height;
    for (let i = 0; i < lines.length; i++) {
      const thisLineTop = metrics.lineHeight * i;
      for (let j = 0; j < fill.length; j++) {
        let lineStop = 0;
        if (typeof fillGradientStops[j] === "number") {
          lineStop = fillGradientStops[j];
        } else {
          lineStop = j / fill.length;
        }
        const globalStop = thisLineTop / height + lineStop * gradStopLineHeight;
        let clampedStop = Math.max(lastIterationStop, globalStop);
        clampedStop = Math.min(clampedStop, 1);
        gradient.addColorStop(clampedStop, fill[j]);
        lastIterationStop = clampedStop;
      }
    }
  } else {
    gradient = context.createLinearGradient(padding, height / 2, width + padding, height / 2);
    const totalIterations = fill.length + 1;
    let currentIteration = 1;
    for (let i = 0; i < fill.length; i++) {
      let stop;
      if (typeof fillGradientStops[i] === "number") {
        stop = fillGradientStops[i];
      } else {
        stop = currentIteration / totalIterations;
      }
      gradient.addColorStop(stop, fill[i]);
      currentIteration++;
    }
  }
  return gradient;
}


//# sourceMappingURL=generateFillStyle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/utils/index.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/utils/index.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   drawGlyph: () => (/* reexport safe */ _drawGlyph_mjs__WEBPACK_IMPORTED_MODULE_0__.drawGlyph),
/* harmony export */   extractCharCode: () => (/* reexport safe */ _extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_1__.extractCharCode),
/* harmony export */   generateFillStyle: () => (/* reexport safe */ _generateFillStyle_mjs__WEBPACK_IMPORTED_MODULE_2__.generateFillStyle),
/* harmony export */   resolveCharacters: () => (/* reexport safe */ _resolveCharacters_mjs__WEBPACK_IMPORTED_MODULE_3__.resolveCharacters),
/* harmony export */   splitTextToCharacters: () => (/* reexport safe */ _splitTextToCharacters_mjs__WEBPACK_IMPORTED_MODULE_4__.splitTextToCharacters)
/* harmony export */ });
/* harmony import */ var _drawGlyph_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./drawGlyph.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/drawGlyph.mjs");
/* harmony import */ var _extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./extractCharCode.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/extractCharCode.mjs");
/* harmony import */ var _generateFillStyle_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./generateFillStyle.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/generateFillStyle.mjs");
/* harmony import */ var _resolveCharacters_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resolveCharacters.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/resolveCharacters.mjs");
/* harmony import */ var _splitTextToCharacters_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./splitTextToCharacters.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/splitTextToCharacters.mjs");





//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/utils/resolveCharacters.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/utils/resolveCharacters.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   resolveCharacters: () => (/* binding */ resolveCharacters)
/* harmony export */ });
/* harmony import */ var _splitTextToCharacters_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./splitTextToCharacters.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/splitTextToCharacters.mjs");


function resolveCharacters(chars) {
  if (typeof chars === "string") {
    chars = [chars];
  }
  const result = [];
  for (let i = 0, j = chars.length; i < j; i++) {
    const item = chars[i];
    if (Array.isArray(item)) {
      if (item.length !== 2) {
        throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${item.length}.`);
      }
      const startCode = item[0].charCodeAt(0);
      const endCode = item[1].charCodeAt(0);
      if (endCode < startCode) {
        throw new Error("[BitmapFont]: Invalid character range.");
      }
      for (let i2 = startCode, j2 = endCode; i2 <= j2; i2++) {
        result.push(String.fromCharCode(i2));
      }
    } else {
      result.push(...(0,_splitTextToCharacters_mjs__WEBPACK_IMPORTED_MODULE_0__.splitTextToCharacters)(item));
    }
  }
  if (result.length === 0) {
    throw new Error("[BitmapFont]: Empty set when resolving characters.");
  }
  return result;
}


//# sourceMappingURL=resolveCharacters.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/utils/splitTextToCharacters.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/utils/splitTextToCharacters.mjs ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   splitTextToCharacters: () => (/* binding */ splitTextToCharacters)
/* harmony export */ });
function splitTextToCharacters(text) {
  return Array.from ? Array.from(text) : text.split("");
}


//# sourceMappingURL=splitTextToCharacters.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-html/lib/HTMLText.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/text-html/lib/HTMLText.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HTMLText: () => (/* binding */ HTMLText)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_sprite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/sprite */ "./node_modules/@pixi/sprite/lib/index.mjs");
/* harmony import */ var _pixi_text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/text */ "./node_modules/@pixi/text/lib/index.mjs");
/* harmony import */ var _HTMLTextStyle_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./HTMLTextStyle.mjs */ "./node_modules/@pixi/text-html/lib/HTMLTextStyle.mjs");





const _HTMLText = class extends _pixi_sprite__WEBPACK_IMPORTED_MODULE_1__.Sprite {
  constructor(text = "", style = {}) {
    super(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.EMPTY);
    this._text = null;
    this._style = null;
    this._autoResolution = true;
    this._loading = false;
    this.localStyleID = -1;
    this.dirty = false;
    this.ownsStyle = false;
    const image = new Image();
    const texture = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.from(image, {
      scaleMode: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.SCALE_MODE,
      resourceOptions: {
        autoLoad: false
      }
    });
    texture.orig = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
    texture.trim = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
    this.texture = texture;
    const nssvg = "http://www.w3.org/2000/svg";
    const nsxhtml = "http://www.w3.org/1999/xhtml";
    const svgRoot = document.createElementNS(nssvg, "svg");
    const foreignObject = document.createElementNS(nssvg, "foreignObject");
    const domElement = document.createElementNS(nsxhtml, "div");
    const styleElement = document.createElementNS(nsxhtml, "style");
    foreignObject.setAttribute("width", "10000");
    foreignObject.setAttribute("height", "10000");
    foreignObject.style.overflow = "hidden";
    svgRoot.appendChild(foreignObject);
    this.maxWidth = _HTMLText.defaultMaxWidth;
    this.maxHeight = _HTMLText.defaultMaxHeight;
    this._domElement = domElement;
    this._styleElement = styleElement;
    this._svgRoot = svgRoot;
    this._foreignObject = foreignObject;
    this._foreignObject.appendChild(styleElement);
    this._foreignObject.appendChild(domElement);
    this._image = image;
    this._loadImage = new Image();
    this._autoResolution = _HTMLText.defaultAutoResolution;
    this._resolution = _HTMLText.defaultResolution ?? _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RESOLUTION;
    this.text = text;
    this.style = style;
  }
  measureText(overrides) {
    const { text, style, resolution } = Object.assign({
      text: this._text,
      style: this._style,
      resolution: this._resolution
    }, overrides);
    Object.assign(this._domElement, {
      innerHTML: text,
      style: style.toCSS(resolution)
    });
    this._styleElement.textContent = style.toGlobalCSS();
    document.body.appendChild(this._svgRoot);
    const contentBounds = this._domElement.getBoundingClientRect();
    this._svgRoot.remove();
    const contentWidth = Math.min(this.maxWidth, Math.ceil(contentBounds.width));
    const contentHeight = Math.min(this.maxHeight, Math.ceil(contentBounds.height));
    this._svgRoot.setAttribute("width", contentWidth.toString());
    this._svgRoot.setAttribute("height", contentHeight.toString());
    if (text !== this._text) {
      this._domElement.innerHTML = this._text;
    }
    if (style !== this._style) {
      Object.assign(this._domElement, { style: this._style?.toCSS(resolution) });
      this._styleElement.textContent = this._style?.toGlobalCSS();
    }
    return {
      width: contentWidth + style.padding * 2,
      height: contentHeight + style.padding * 2
    };
  }
  async updateText(respectDirty = true) {
    const { style, _image: image, _loadImage: loadImage } = this;
    if (this.localStyleID !== style.styleID) {
      this.dirty = true;
      this.localStyleID = style.styleID;
    }
    if (!this.dirty && respectDirty) {
      return;
    }
    const { width, height } = this.measureText();
    image.width = loadImage.width = Math.ceil(Math.max(1, width));
    image.height = loadImage.height = Math.ceil(Math.max(1, height));
    if (!this._loading) {
      this._loading = true;
      await new Promise((resolve) => {
        loadImage.onload = async () => {
          await style.onBeforeDraw();
          this._loading = false;
          image.src = loadImage.src;
          loadImage.onload = null;
          loadImage.src = "";
          this.updateTexture();
          resolve();
        };
        const svgURL = new XMLSerializer().serializeToString(this._svgRoot);
        loadImage.src = `data:image/svg+xml;charset=utf8,${encodeURIComponent(svgURL)}`;
      });
    }
  }
  get source() {
    return this._image;
  }
  updateTexture() {
    const { style, texture, _image: image, resolution } = this;
    const { padding } = style;
    const { baseTexture } = texture;
    texture.trim.width = texture._frame.width = image.width / resolution;
    texture.trim.height = texture._frame.height = image.height / resolution;
    texture.trim.x = -padding;
    texture.trim.y = -padding;
    texture.orig.width = texture._frame.width - padding * 2;
    texture.orig.height = texture._frame.height - padding * 2;
    this._onTextureUpdate();
    baseTexture.setRealSize(image.width, image.height, resolution);
    this.dirty = false;
  }
  _render(renderer) {
    if (this._autoResolution && this._resolution !== renderer.resolution) {
      this._resolution = renderer.resolution;
      this.dirty = true;
    }
    this.updateText(true);
    super._render(renderer);
  }
  _renderCanvas(renderer) {
    if (this._autoResolution && this._resolution !== renderer.resolution) {
      this._resolution = renderer.resolution;
      this.dirty = true;
    }
    this.updateText(true);
    super._renderCanvas(renderer);
  }
  getLocalBounds(rect) {
    this.updateText(true);
    return super.getLocalBounds(rect);
  }
  _calculateBounds() {
    this.updateText(true);
    this.calculateVertices();
    this._bounds.addQuad(this.vertexData);
  }
  _onStyleChange() {
    this.dirty = true;
  }
  destroy(options) {
    if (typeof options === "boolean") {
      options = { children: options };
    }
    options = Object.assign({}, _HTMLText.defaultDestroyOptions, options);
    super.destroy(options);
    const forceClear = null;
    if (this.ownsStyle) {
      this._style?.cleanFonts();
    }
    this._style = forceClear;
    this._svgRoot?.remove();
    this._svgRoot = forceClear;
    this._domElement?.remove();
    this._domElement = forceClear;
    this._foreignObject?.remove();
    this._foreignObject = forceClear;
    this._styleElement?.remove();
    this._styleElement = forceClear;
    this._loadImage.src = "";
    this._loadImage.onload = null;
    this._loadImage = forceClear;
    this._image.src = "";
    this._image = forceClear;
  }
  get width() {
    this.updateText(true);
    return Math.abs(this.scale.x) * this._image.width / this.resolution;
  }
  set width(value) {
    this.updateText(true);
    const s = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.sign(this.scale.x) || 1;
    this.scale.x = s * value / this._image.width / this.resolution;
    this._width = value;
  }
  get height() {
    this.updateText(true);
    return Math.abs(this.scale.y) * this._image.height / this.resolution;
  }
  set height(value) {
    this.updateText(true);
    const s = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.sign(this.scale.y) || 1;
    this.scale.y = s * value / this._image.height / this.resolution;
    this._height = value;
  }
  get style() {
    return this._style;
  }
  set style(style) {
    if (this._style === style) {
      return;
    }
    style = style || {};
    if (style instanceof _HTMLTextStyle_mjs__WEBPACK_IMPORTED_MODULE_3__.HTMLTextStyle) {
      this.ownsStyle = false;
      this._style = style;
    } else if (style instanceof _pixi_text__WEBPACK_IMPORTED_MODULE_2__.TextStyle) {
      console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle");
      this.ownsStyle = true;
      this._style = _HTMLTextStyle_mjs__WEBPACK_IMPORTED_MODULE_3__.HTMLTextStyle.from(style);
    } else {
      this.ownsStyle = true;
      this._style = new _HTMLTextStyle_mjs__WEBPACK_IMPORTED_MODULE_3__.HTMLTextStyle(style);
    }
    this.localStyleID = -1;
    this.dirty = true;
  }
  get text() {
    return this._text;
  }
  set text(text) {
    text = String(text === "" || text === null || text === void 0 ? " " : text);
    text = this.sanitiseText(text);
    if (this._text === text) {
      return;
    }
    this._text = text;
    this.dirty = true;
  }
  get resolution() {
    return this._resolution;
  }
  set resolution(value) {
    this._autoResolution = false;
    if (this._resolution === value) {
      return;
    }
    this._resolution = value;
    this.dirty = true;
  }
  sanitiseText(text) {
    return text.replace(/<br>/gi, "<br/>").replace(/<hr>/gi, "<hr/>").replace(/&nbsp;/gi, "&#160;");
  }
};
let HTMLText = _HTMLText;
HTMLText.defaultDestroyOptions = {
  texture: true,
  children: false,
  baseTexture: true
};
HTMLText.defaultMaxWidth = 2024;
HTMLText.defaultMaxHeight = 2024;
HTMLText.defaultAutoResolution = true;


//# sourceMappingURL=HTMLText.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-html/lib/HTMLTextStyle.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/text-html/lib/HTMLTextStyle.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HTMLTextStyle: () => (/* binding */ HTMLTextStyle)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/text */ "./node_modules/@pixi/text/lib/index.mjs");



const _HTMLTextStyle = class extends _pixi_text__WEBPACK_IMPORTED_MODULE_1__.TextStyle {
  constructor() {
    super(...arguments);
    this._fonts = [];
    this._overrides = [];
    this._stylesheet = "";
    this.fontsDirty = false;
  }
  static from(originalStyle) {
    return new _HTMLTextStyle(Object.keys(_HTMLTextStyle.defaultOptions).reduce((obj, prop) => ({ ...obj, [prop]: originalStyle[prop] }), {}));
  }
  cleanFonts() {
    if (this._fonts.length > 0) {
      this._fonts.forEach((font) => {
        URL.revokeObjectURL(font.src);
        font.refs--;
        if (font.refs === 0) {
          if (font.fontFace) {
            document.fonts.delete(font.fontFace);
          }
          delete _HTMLTextStyle.availableFonts[font.originalUrl];
        }
      });
      this.fontFamily = "Arial";
      this._fonts.length = 0;
      this.styleID++;
      this.fontsDirty = true;
    }
  }
  loadFont(url, options = {}) {
    const { availableFonts } = _HTMLTextStyle;
    if (availableFonts[url]) {
      const font = availableFonts[url];
      this._fonts.push(font);
      font.refs++;
      this.styleID++;
      this.fontsDirty = true;
      return Promise.resolve();
    }
    return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(url).then((response) => response.blob()).then(async (blob) => new Promise((resolve, reject) => {
      const src = URL.createObjectURL(blob);
      const reader = new FileReader();
      reader.onload = () => resolve([src, reader.result]);
      reader.onerror = reject;
      reader.readAsDataURL(blob);
    })).then(async ([src, dataSrc]) => {
      const font = Object.assign({
        family: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.basename(url, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.extname(url)),
        weight: "normal",
        style: "normal",
        src,
        dataSrc,
        refs: 1,
        originalUrl: url,
        fontFace: null
      }, options);
      availableFonts[url] = font;
      this._fonts.push(font);
      this.styleID++;
      const fontFace = new FontFace(font.family, `url(${font.src})`, {
        weight: font.weight,
        style: font.style
      });
      font.fontFace = fontFace;
      await fontFace.load();
      document.fonts.add(fontFace);
      await document.fonts.ready;
      this.styleID++;
      this.fontsDirty = true;
    });
  }
  addOverride(...value) {
    const toAdd = value.filter((v) => !this._overrides.includes(v));
    if (toAdd.length > 0) {
      this._overrides.push(...toAdd);
      this.styleID++;
    }
  }
  removeOverride(...value) {
    const toRemove = value.filter((v) => this._overrides.includes(v));
    if (toRemove.length > 0) {
      this._overrides = this._overrides.filter((v) => !toRemove.includes(v));
      this.styleID++;
    }
  }
  toCSS(scale) {
    return [
      `transform: scale(${scale})`,
      `transform-origin: top left`,
      "display: inline-block",
      `color: ${this.normalizeColor(this.fill)}`,
      `font-size: ${this.fontSize}px`,
      `font-family: ${this.fontFamily}`,
      `font-weight: ${this.fontWeight}`,
      `font-style: ${this.fontStyle}`,
      `font-variant: ${this.fontVariant}`,
      `letter-spacing: ${this.letterSpacing}px`,
      `text-align: ${this.align}`,
      `padding: ${this.padding}px`,
      `white-space: ${this.whiteSpace}`,
      ...this.lineHeight ? [`line-height: ${this.lineHeight}px`] : [],
      ...this.wordWrap ? [
        `word-wrap: ${this.breakWords ? "break-all" : "break-word"}`,
        `max-width: ${this.wordWrapWidth}px`
      ] : [],
      ...this.strokeThickness ? [
        `-webkit-text-stroke-width: ${this.strokeThickness}px`,
        `-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,
        `text-stroke-width: ${this.strokeThickness}px`,
        `text-stroke-color: ${this.normalizeColor(this.stroke)}`,
        "paint-order: stroke"
      ] : [],
      ...this.dropShadow ? [this.dropShadowToCSS()] : [],
      ...this._overrides
    ].join(";");
  }
  toGlobalCSS() {
    return this._fonts.reduce((result, font) => `${result}
            @font-face {
                font-family: "${font.family}";
                src: url('${font.dataSrc}');
                font-weight: ${font.weight};
                font-style: ${font.style}; 
            }`, this._stylesheet);
  }
  get stylesheet() {
    return this._stylesheet;
  }
  set stylesheet(value) {
    if (this._stylesheet !== value) {
      this._stylesheet = value;
      this.styleID++;
    }
  }
  normalizeColor(color) {
    if (Array.isArray(color)) {
      color = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.rgb2hex(color);
    }
    if (typeof color === "number") {
      return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.hex2string(color);
    }
    return color;
  }
  dropShadowToCSS() {
    let color = this.normalizeColor(this.dropShadowColor);
    const alpha = this.dropShadowAlpha;
    const x = Math.round(Math.cos(this.dropShadowAngle) * this.dropShadowDistance);
    const y = Math.round(Math.sin(this.dropShadowAngle) * this.dropShadowDistance);
    if (color.startsWith("#") && alpha < 1) {
      color += (alpha * 255 | 0).toString(16).padStart(2, "0");
    }
    const position = `${x}px ${y}px`;
    if (this.dropShadowBlur > 0) {
      return `text-shadow: ${position} ${this.dropShadowBlur}px ${color}`;
    }
    return `text-shadow: ${position} ${color}`;
  }
  reset() {
    Object.assign(this, _HTMLTextStyle.defaultOptions);
  }
  onBeforeDraw() {
    const { fontsDirty: prevFontsDirty } = this;
    this.fontsDirty = false;
    if (this.isSafari && this._fonts.length > 0 && prevFontsDirty) {
      return new Promise((resolve) => setTimeout(resolve, 100));
    }
    return Promise.resolve();
  }
  get isSafari() {
    const { userAgent } = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.getNavigator();
    return /^((?!chrome|android).)*safari/i.test(userAgent);
  }
  set fillGradientStops(_value) {
    console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText");
  }
  get fillGradientStops() {
    return super.fillGradientStops;
  }
  set fillGradientType(_value) {
    console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText");
  }
  get fillGradientType() {
    return super.fillGradientType;
  }
  set miterLimit(_value) {
    console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText");
  }
  get miterLimit() {
    return super.miterLimit;
  }
  set trim(_value) {
    console.warn("[HTMLTextStyle] trim is not supported by HTMLText");
  }
  get trim() {
    return super.trim;
  }
  set textBaseline(_value) {
    console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText");
  }
  get textBaseline() {
    return super.textBaseline;
  }
  set leading(_value) {
    console.warn("[HTMLTextStyle] leading is not supported by HTMLText");
  }
  get leading() {
    return super.leading;
  }
  set lineJoin(_value) {
    console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText");
  }
  get lineJoin() {
    return super.lineJoin;
  }
};
let HTMLTextStyle = _HTMLTextStyle;
HTMLTextStyle.availableFonts = {};
HTMLTextStyle.defaultOptions = {
  align: "left",
  breakWords: false,
  dropShadow: false,
  dropShadowAlpha: 1,
  dropShadowAngle: Math.PI / 6,
  dropShadowBlur: 0,
  dropShadowColor: "black",
  dropShadowDistance: 5,
  fill: "black",
  fontFamily: "Arial",
  fontSize: 26,
  fontStyle: "normal",
  fontVariant: "normal",
  fontWeight: "normal",
  letterSpacing: 0,
  lineHeight: 0,
  padding: 0,
  stroke: "black",
  strokeThickness: 0,
  whiteSpace: "normal",
  wordWrap: false,
  wordWrapWidth: 100
};


//# sourceMappingURL=HTMLTextStyle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-html/lib/index.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/text-html/lib/index.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HTMLText: () => (/* reexport safe */ _HTMLText_mjs__WEBPACK_IMPORTED_MODULE_0__.HTMLText),
/* harmony export */   HTMLTextStyle: () => (/* reexport safe */ _HTMLTextStyle_mjs__WEBPACK_IMPORTED_MODULE_1__.HTMLTextStyle)
/* harmony export */ });
/* harmony import */ var _HTMLText_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./HTMLText.mjs */ "./node_modules/@pixi/text-html/lib/HTMLText.mjs");
/* harmony import */ var _HTMLTextStyle_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HTMLTextStyle.mjs */ "./node_modules/@pixi/text-html/lib/HTMLTextStyle.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text/lib/Text.mjs":
/*!**********************************************!*\
  !*** ./node_modules/@pixi/text/lib/Text.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Text: () => (/* binding */ Text)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_sprite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/sprite */ "./node_modules/@pixi/sprite/lib/index.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/text/lib/const.mjs");
/* harmony import */ var _TextMetrics_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TextMetrics.mjs */ "./node_modules/@pixi/text/lib/TextMetrics.mjs");
/* harmony import */ var _TextStyle_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TextStyle.mjs */ "./node_modules/@pixi/text/lib/TextStyle.mjs");






const defaultDestroyOptions = {
  texture: true,
  children: false,
  baseTexture: true
};
const _Text = class extends _pixi_sprite__WEBPACK_IMPORTED_MODULE_1__.Sprite {
  constructor(text, style, canvas) {
    let ownCanvas = false;
    if (!canvas) {
      canvas = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.createCanvas();
      ownCanvas = true;
    }
    canvas.width = 3;
    canvas.height = 3;
    const texture = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.from(canvas);
    texture.orig = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
    texture.trim = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
    super(texture);
    this._ownCanvas = ownCanvas;
    this.canvas = canvas;
    this.context = canvas.getContext("2d", {
      willReadFrequently: true
    });
    this._resolution = _Text.defaultResolution ?? _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RESOLUTION;
    this._autoResolution = _Text.defaultAutoResolution;
    this._text = null;
    this._style = null;
    this._styleListener = null;
    this._font = "";
    this.text = text;
    this.style = style;
    this.localStyleID = -1;
  }
  static get experimentalLetterSpacing() {
    return _TextMetrics_mjs__WEBPACK_IMPORTED_MODULE_3__.TextMetrics.experimentalLetterSpacing;
  }
  static set experimentalLetterSpacing(value) {
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.deprecation("7.1.0", "Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing");
    _TextMetrics_mjs__WEBPACK_IMPORTED_MODULE_3__.TextMetrics.experimentalLetterSpacing = value;
  }
  updateText(respectDirty) {
    const style = this._style;
    if (this.localStyleID !== style.styleID) {
      this.dirty = true;
      this.localStyleID = style.styleID;
    }
    if (!this.dirty && respectDirty) {
      return;
    }
    this._font = this._style.toFontString();
    const context = this.context;
    const measured = _TextMetrics_mjs__WEBPACK_IMPORTED_MODULE_3__.TextMetrics.measureText(this._text || " ", this._style, this._style.wordWrap, this.canvas);
    const width = measured.width;
    const height = measured.height;
    const lines = measured.lines;
    const lineHeight = measured.lineHeight;
    const lineWidths = measured.lineWidths;
    const maxLineWidth = measured.maxLineWidth;
    const fontProperties = measured.fontProperties;
    this.canvas.width = Math.ceil(Math.ceil(Math.max(1, width) + style.padding * 2) * this._resolution);
    this.canvas.height = Math.ceil(Math.ceil(Math.max(1, height) + style.padding * 2) * this._resolution);
    context.scale(this._resolution, this._resolution);
    context.clearRect(0, 0, this.canvas.width, this.canvas.height);
    context.font = this._font;
    context.lineWidth = style.strokeThickness;
    context.textBaseline = style.textBaseline;
    context.lineJoin = style.lineJoin;
    context.miterLimit = style.miterLimit;
    let linePositionX;
    let linePositionY;
    const passesCount = style.dropShadow ? 2 : 1;
    for (let i = 0; i < passesCount; ++i) {
      const isShadowPass = style.dropShadow && i === 0;
      const dsOffsetText = isShadowPass ? Math.ceil(Math.max(1, height) + style.padding * 2) : 0;
      const dsOffsetShadow = dsOffsetText * this._resolution;
      if (isShadowPass) {
        context.fillStyle = "black";
        context.strokeStyle = "black";
        const dropShadowColor = style.dropShadowColor;
        const dropShadowBlur = style.dropShadowBlur * this._resolution;
        const dropShadowDistance = style.dropShadowDistance * this._resolution;
        context.shadowColor = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(dropShadowColor).setAlpha(style.dropShadowAlpha).toRgbaString();
        context.shadowBlur = dropShadowBlur;
        context.shadowOffsetX = Math.cos(style.dropShadowAngle) * dropShadowDistance;
        context.shadowOffsetY = Math.sin(style.dropShadowAngle) * dropShadowDistance + dsOffsetShadow;
      } else {
        context.fillStyle = this._generateFillStyle(style, lines, measured);
        context.strokeStyle = style.stroke;
        context.shadowColor = "black";
        context.shadowBlur = 0;
        context.shadowOffsetX = 0;
        context.shadowOffsetY = 0;
      }
      let linePositionYShift = (lineHeight - fontProperties.fontSize) / 2;
      if (lineHeight - fontProperties.fontSize < 0) {
        linePositionYShift = 0;
      }
      for (let i2 = 0; i2 < lines.length; i2++) {
        linePositionX = style.strokeThickness / 2;
        linePositionY = style.strokeThickness / 2 + i2 * lineHeight + fontProperties.ascent + linePositionYShift;
        if (style.align === "right") {
          linePositionX += maxLineWidth - lineWidths[i2];
        } else if (style.align === "center") {
          linePositionX += (maxLineWidth - lineWidths[i2]) / 2;
        }
        if (style.stroke && style.strokeThickness) {
          this.drawLetterSpacing(lines[i2], linePositionX + style.padding, linePositionY + style.padding - dsOffsetText, true);
        }
        if (style.fill) {
          this.drawLetterSpacing(lines[i2], linePositionX + style.padding, linePositionY + style.padding - dsOffsetText);
        }
      }
    }
    this.updateTexture();
  }
  drawLetterSpacing(text, x, y, isStroke = false) {
    const style = this._style;
    const letterSpacing = style.letterSpacing;
    let useExperimentalLetterSpacing = false;
    if (_TextMetrics_mjs__WEBPACK_IMPORTED_MODULE_3__.TextMetrics.experimentalLetterSpacingSupported) {
      if (_TextMetrics_mjs__WEBPACK_IMPORTED_MODULE_3__.TextMetrics.experimentalLetterSpacing) {
        this.context.letterSpacing = `${letterSpacing}px`;
        this.context.textLetterSpacing = `${letterSpacing}px`;
        useExperimentalLetterSpacing = true;
      } else {
        this.context.letterSpacing = "0px";
        this.context.textLetterSpacing = "0px";
      }
    }
    if (letterSpacing === 0 || useExperimentalLetterSpacing) {
      if (isStroke) {
        this.context.strokeText(text, x, y);
      } else {
        this.context.fillText(text, x, y);
      }
      return;
    }
    let currentPosition = x;
    const stringArray = _TextMetrics_mjs__WEBPACK_IMPORTED_MODULE_3__.TextMetrics.graphemeSegmenter(text);
    let previousWidth = this.context.measureText(text).width;
    let currentWidth = 0;
    for (let i = 0; i < stringArray.length; ++i) {
      const currentChar = stringArray[i];
      if (isStroke) {
        this.context.strokeText(currentChar, currentPosition, y);
      } else {
        this.context.fillText(currentChar, currentPosition, y);
      }
      let textStr = "";
      for (let j = i + 1; j < stringArray.length; ++j) {
        textStr += stringArray[j];
      }
      currentWidth = this.context.measureText(textStr).width;
      currentPosition += previousWidth - currentWidth + letterSpacing;
      previousWidth = currentWidth;
    }
  }
  updateTexture() {
    const canvas = this.canvas;
    if (this._style.trim) {
      const trimmed = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.trimCanvas(canvas);
      if (trimmed.data) {
        canvas.width = trimmed.width;
        canvas.height = trimmed.height;
        this.context.putImageData(trimmed.data, 0, 0);
      }
    }
    const texture = this._texture;
    const style = this._style;
    const padding = style.trim ? 0 : style.padding;
    const baseTexture = texture.baseTexture;
    texture.trim.width = texture._frame.width = canvas.width / this._resolution;
    texture.trim.height = texture._frame.height = canvas.height / this._resolution;
    texture.trim.x = -padding;
    texture.trim.y = -padding;
    texture.orig.width = texture._frame.width - padding * 2;
    texture.orig.height = texture._frame.height - padding * 2;
    this._onTextureUpdate();
    baseTexture.setRealSize(canvas.width, canvas.height, this._resolution);
    texture.updateUvs();
    this.dirty = false;
  }
  _render(renderer) {
    if (this._autoResolution && this._resolution !== renderer.resolution) {
      this._resolution = renderer.resolution;
      this.dirty = true;
    }
    this.updateText(true);
    super._render(renderer);
  }
  updateTransform() {
    this.updateText(true);
    super.updateTransform();
  }
  getBounds(skipUpdate, rect) {
    this.updateText(true);
    if (this._textureID === -1) {
      skipUpdate = false;
    }
    return super.getBounds(skipUpdate, rect);
  }
  getLocalBounds(rect) {
    this.updateText(true);
    return super.getLocalBounds.call(this, rect);
  }
  _calculateBounds() {
    this.calculateVertices();
    this._bounds.addQuad(this.vertexData);
  }
  _generateFillStyle(style, lines, metrics) {
    const fillStyle = style.fill;
    if (!Array.isArray(fillStyle)) {
      return fillStyle;
    } else if (fillStyle.length === 1) {
      return fillStyle[0];
    }
    let gradient;
    const dropShadowCorrection = style.dropShadow ? style.dropShadowDistance : 0;
    const padding = style.padding || 0;
    const width = this.canvas.width / this._resolution - dropShadowCorrection - padding * 2;
    const height = this.canvas.height / this._resolution - dropShadowCorrection - padding * 2;
    const fill = fillStyle.slice();
    const fillGradientStops = style.fillGradientStops.slice();
    if (!fillGradientStops.length) {
      const lengthPlus1 = fill.length + 1;
      for (let i = 1; i < lengthPlus1; ++i) {
        fillGradientStops.push(i / lengthPlus1);
      }
    }
    fill.unshift(fillStyle[0]);
    fillGradientStops.unshift(0);
    fill.push(fillStyle[fillStyle.length - 1]);
    fillGradientStops.push(1);
    if (style.fillGradientType === _const_mjs__WEBPACK_IMPORTED_MODULE_2__.TEXT_GRADIENT.LINEAR_VERTICAL) {
      gradient = this.context.createLinearGradient(width / 2, padding, width / 2, height + padding);
      const textHeight = metrics.fontProperties.fontSize + style.strokeThickness;
      for (let i = 0; i < lines.length; i++) {
        const lastLineBottom = metrics.lineHeight * (i - 1) + textHeight;
        const thisLineTop = metrics.lineHeight * i;
        let thisLineGradientStart = thisLineTop;
        if (i > 0 && lastLineBottom > thisLineTop) {
          thisLineGradientStart = (thisLineTop + lastLineBottom) / 2;
        }
        const thisLineBottom = thisLineTop + textHeight;
        const nextLineTop = metrics.lineHeight * (i + 1);
        let thisLineGradientEnd = thisLineBottom;
        if (i + 1 < lines.length && nextLineTop < thisLineBottom) {
          thisLineGradientEnd = (thisLineBottom + nextLineTop) / 2;
        }
        const gradStopLineHeight = (thisLineGradientEnd - thisLineGradientStart) / height;
        for (let j = 0; j < fill.length; j++) {
          let lineStop = 0;
          if (typeof fillGradientStops[j] === "number") {
            lineStop = fillGradientStops[j];
          } else {
            lineStop = j / fill.length;
          }
          let globalStop = Math.min(1, Math.max(0, thisLineGradientStart / height + lineStop * gradStopLineHeight));
          globalStop = Number(globalStop.toFixed(5));
          gradient.addColorStop(globalStop, fill[j]);
        }
      }
    } else {
      gradient = this.context.createLinearGradient(padding, height / 2, width + padding, height / 2);
      const totalIterations = fill.length + 1;
      let currentIteration = 1;
      for (let i = 0; i < fill.length; i++) {
        let stop;
        if (typeof fillGradientStops[i] === "number") {
          stop = fillGradientStops[i];
        } else {
          stop = currentIteration / totalIterations;
        }
        gradient.addColorStop(stop, fill[i]);
        currentIteration++;
      }
    }
    return gradient;
  }
  destroy(options) {
    if (typeof options === "boolean") {
      options = { children: options };
    }
    options = Object.assign({}, defaultDestroyOptions, options);
    super.destroy(options);
    if (this._ownCanvas) {
      this.canvas.height = this.canvas.width = 0;
    }
    this.context = null;
    this.canvas = null;
    this._style = null;
  }
  get width() {
    this.updateText(true);
    return Math.abs(this.scale.x) * this._texture.orig.width;
  }
  set width(value) {
    this.updateText(true);
    const s = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.sign(this.scale.x) || 1;
    this.scale.x = s * value / this._texture.orig.width;
    this._width = value;
  }
  get height() {
    this.updateText(true);
    return Math.abs(this.scale.y) * this._texture.orig.height;
  }
  set height(value) {
    this.updateText(true);
    const s = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.sign(this.scale.y) || 1;
    this.scale.y = s * value / this._texture.orig.height;
    this._height = value;
  }
  get style() {
    return this._style;
  }
  set style(style) {
    style = style || {};
    if (style instanceof _TextStyle_mjs__WEBPACK_IMPORTED_MODULE_4__.TextStyle) {
      this._style = style;
    } else {
      this._style = new _TextStyle_mjs__WEBPACK_IMPORTED_MODULE_4__.TextStyle(style);
    }
    this.localStyleID = -1;
    this.dirty = true;
  }
  get text() {
    return this._text;
  }
  set text(text) {
    text = String(text === null || text === void 0 ? "" : text);
    if (this._text === text) {
      return;
    }
    this._text = text;
    this.dirty = true;
  }
  get resolution() {
    return this._resolution;
  }
  set resolution(value) {
    this._autoResolution = false;
    if (this._resolution === value) {
      return;
    }
    this._resolution = value;
    this.dirty = true;
  }
};
let Text = _Text;
Text.defaultAutoResolution = true;


//# sourceMappingURL=Text.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text/lib/TextMetrics.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/text/lib/TextMetrics.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextMetrics: () => (/* binding */ TextMetrics)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const contextSettings = {
  willReadFrequently: true
};
const _TextMetrics = class {
  static get experimentalLetterSpacingSupported() {
    let result = _TextMetrics._experimentalLetterSpacingSupported;
    if (result !== void 0) {
      const proto = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.getCanvasRenderingContext2D().prototype;
      result = _TextMetrics._experimentalLetterSpacingSupported = "letterSpacing" in proto || "textLetterSpacing" in proto;
    }
    return result;
  }
  constructor(text, style, width, height, lines, lineWidths, lineHeight, maxLineWidth, fontProperties) {
    this.text = text;
    this.style = style;
    this.width = width;
    this.height = height;
    this.lines = lines;
    this.lineWidths = lineWidths;
    this.lineHeight = lineHeight;
    this.maxLineWidth = maxLineWidth;
    this.fontProperties = fontProperties;
  }
  static measureText(text, style, wordWrap, canvas = _TextMetrics._canvas) {
    wordWrap = wordWrap === void 0 || wordWrap === null ? style.wordWrap : wordWrap;
    const font = style.toFontString();
    const fontProperties = _TextMetrics.measureFont(font);
    if (fontProperties.fontSize === 0) {
      fontProperties.fontSize = style.fontSize;
      fontProperties.ascent = style.fontSize;
    }
    const context = canvas.getContext("2d", contextSettings);
    context.font = font;
    const outputText = wordWrap ? _TextMetrics.wordWrap(text, style, canvas) : text;
    const lines = outputText.split(/(?:\r\n|\r|\n)/);
    const lineWidths = new Array(lines.length);
    let maxLineWidth = 0;
    for (let i = 0; i < lines.length; i++) {
      const lineWidth = _TextMetrics._measureText(lines[i], style.letterSpacing, context);
      lineWidths[i] = lineWidth;
      maxLineWidth = Math.max(maxLineWidth, lineWidth);
    }
    let width = maxLineWidth + style.strokeThickness;
    if (style.dropShadow) {
      width += style.dropShadowDistance;
    }
    const lineHeight = style.lineHeight || fontProperties.fontSize + style.strokeThickness;
    let height = Math.max(lineHeight, fontProperties.fontSize + style.strokeThickness * 2) + (lines.length - 1) * (lineHeight + style.leading);
    if (style.dropShadow) {
      height += style.dropShadowDistance;
    }
    return new _TextMetrics(text, style, width, height, lines, lineWidths, lineHeight + style.leading, maxLineWidth, fontProperties);
  }
  static _measureText(text, letterSpacing, context) {
    let useExperimentalLetterSpacing = false;
    if (_TextMetrics.experimentalLetterSpacingSupported) {
      if (_TextMetrics.experimentalLetterSpacing) {
        context.letterSpacing = `${letterSpacing}px`;
        context.textLetterSpacing = `${letterSpacing}px`;
        useExperimentalLetterSpacing = true;
      } else {
        context.letterSpacing = "0px";
        context.textLetterSpacing = "0px";
      }
    }
    let width = context.measureText(text).width;
    if (width > 0) {
      if (useExperimentalLetterSpacing) {
        width -= letterSpacing;
      } else {
        width += (_TextMetrics.graphemeSegmenter(text).length - 1) * letterSpacing;
      }
    }
    return width;
  }
  static wordWrap(text, style, canvas = _TextMetrics._canvas) {
    const context = canvas.getContext("2d", contextSettings);
    let width = 0;
    let line = "";
    let lines = "";
    const cache = /* @__PURE__ */ Object.create(null);
    const { letterSpacing, whiteSpace } = style;
    const collapseSpaces = _TextMetrics.collapseSpaces(whiteSpace);
    const collapseNewlines = _TextMetrics.collapseNewlines(whiteSpace);
    let canPrependSpaces = !collapseSpaces;
    const wordWrapWidth = style.wordWrapWidth + letterSpacing;
    const tokens = _TextMetrics.tokenize(text);
    for (let i = 0; i < tokens.length; i++) {
      let token = tokens[i];
      if (_TextMetrics.isNewline(token)) {
        if (!collapseNewlines) {
          lines += _TextMetrics.addLine(line);
          canPrependSpaces = !collapseSpaces;
          line = "";
          width = 0;
          continue;
        }
        token = " ";
      }
      if (collapseSpaces) {
        const currIsBreakingSpace = _TextMetrics.isBreakingSpace(token);
        const lastIsBreakingSpace = _TextMetrics.isBreakingSpace(line[line.length - 1]);
        if (currIsBreakingSpace && lastIsBreakingSpace) {
          continue;
        }
      }
      const tokenWidth = _TextMetrics.getFromCache(token, letterSpacing, cache, context);
      if (tokenWidth > wordWrapWidth) {
        if (line !== "") {
          lines += _TextMetrics.addLine(line);
          line = "";
          width = 0;
        }
        if (_TextMetrics.canBreakWords(token, style.breakWords)) {
          const characters = _TextMetrics.wordWrapSplit(token);
          for (let j = 0; j < characters.length; j++) {
            let char = characters[j];
            let lastChar = char;
            let k = 1;
            while (characters[j + k]) {
              const nextChar = characters[j + k];
              if (!_TextMetrics.canBreakChars(lastChar, nextChar, token, j, style.breakWords)) {
                char += nextChar;
              } else {
                break;
              }
              lastChar = nextChar;
              k++;
            }
            j += k - 1;
            const characterWidth = _TextMetrics.getFromCache(char, letterSpacing, cache, context);
            if (characterWidth + width > wordWrapWidth) {
              lines += _TextMetrics.addLine(line);
              canPrependSpaces = false;
              line = "";
              width = 0;
            }
            line += char;
            width += characterWidth;
          }
        } else {
          if (line.length > 0) {
            lines += _TextMetrics.addLine(line);
            line = "";
            width = 0;
          }
          const isLastToken = i === tokens.length - 1;
          lines += _TextMetrics.addLine(token, !isLastToken);
          canPrependSpaces = false;
          line = "";
          width = 0;
        }
      } else {
        if (tokenWidth + width > wordWrapWidth) {
          canPrependSpaces = false;
          lines += _TextMetrics.addLine(line);
          line = "";
          width = 0;
        }
        if (line.length > 0 || !_TextMetrics.isBreakingSpace(token) || canPrependSpaces) {
          line += token;
          width += tokenWidth;
        }
      }
    }
    lines += _TextMetrics.addLine(line, false);
    return lines;
  }
  static addLine(line, newLine = true) {
    line = _TextMetrics.trimRight(line);
    line = newLine ? `${line}
` : line;
    return line;
  }
  static getFromCache(key, letterSpacing, cache, context) {
    let width = cache[key];
    if (typeof width !== "number") {
      width = _TextMetrics._measureText(key, letterSpacing, context) + letterSpacing;
      cache[key] = width;
    }
    return width;
  }
  static collapseSpaces(whiteSpace) {
    return whiteSpace === "normal" || whiteSpace === "pre-line";
  }
  static collapseNewlines(whiteSpace) {
    return whiteSpace === "normal";
  }
  static trimRight(text) {
    if (typeof text !== "string") {
      return "";
    }
    for (let i = text.length - 1; i >= 0; i--) {
      const char = text[i];
      if (!_TextMetrics.isBreakingSpace(char)) {
        break;
      }
      text = text.slice(0, -1);
    }
    return text;
  }
  static isNewline(char) {
    if (typeof char !== "string") {
      return false;
    }
    return _TextMetrics._newlines.includes(char.charCodeAt(0));
  }
  static isBreakingSpace(char, _nextChar) {
    if (typeof char !== "string") {
      return false;
    }
    return _TextMetrics._breakingSpaces.includes(char.charCodeAt(0));
  }
  static tokenize(text) {
    const tokens = [];
    let token = "";
    if (typeof text !== "string") {
      return tokens;
    }
    for (let i = 0; i < text.length; i++) {
      const char = text[i];
      const nextChar = text[i + 1];
      if (_TextMetrics.isBreakingSpace(char, nextChar) || _TextMetrics.isNewline(char)) {
        if (token !== "") {
          tokens.push(token);
          token = "";
        }
        tokens.push(char);
        continue;
      }
      token += char;
    }
    if (token !== "") {
      tokens.push(token);
    }
    return tokens;
  }
  static canBreakWords(_token, breakWords) {
    return breakWords;
  }
  static canBreakChars(_char, _nextChar, _token, _index, _breakWords) {
    return true;
  }
  static wordWrapSplit(token) {
    return _TextMetrics.graphemeSegmenter(token);
  }
  static measureFont(font) {
    if (_TextMetrics._fonts[font]) {
      return _TextMetrics._fonts[font];
    }
    const properties = {
      ascent: 0,
      descent: 0,
      fontSize: 0
    };
    const canvas = _TextMetrics._canvas;
    const context = _TextMetrics._context;
    context.font = font;
    const metricsString = _TextMetrics.METRICS_STRING + _TextMetrics.BASELINE_SYMBOL;
    const width = Math.ceil(context.measureText(metricsString).width);
    let baseline = Math.ceil(context.measureText(_TextMetrics.BASELINE_SYMBOL).width);
    const height = Math.ceil(_TextMetrics.HEIGHT_MULTIPLIER * baseline);
    baseline = baseline * _TextMetrics.BASELINE_MULTIPLIER | 0;
    if (width === 0 || height === 0) {
      _TextMetrics._fonts[font] = properties;
      return properties;
    }
    canvas.width = width;
    canvas.height = height;
    context.fillStyle = "#f00";
    context.fillRect(0, 0, width, height);
    context.font = font;
    context.textBaseline = "alphabetic";
    context.fillStyle = "#000";
    context.fillText(metricsString, 0, baseline);
    const imagedata = context.getImageData(0, 0, width, height).data;
    const pixels = imagedata.length;
    const line = width * 4;
    let i = 0;
    let idx = 0;
    let stop = false;
    for (i = 0; i < baseline; ++i) {
      for (let j = 0; j < line; j += 4) {
        if (imagedata[idx + j] !== 255) {
          stop = true;
          break;
        }
      }
      if (!stop) {
        idx += line;
      } else {
        break;
      }
    }
    properties.ascent = baseline - i;
    idx = pixels - line;
    stop = false;
    for (i = height; i > baseline; --i) {
      for (let j = 0; j < line; j += 4) {
        if (imagedata[idx + j] !== 255) {
          stop = true;
          break;
        }
      }
      if (!stop) {
        idx -= line;
      } else {
        break;
      }
    }
    properties.descent = i - baseline;
    properties.fontSize = properties.ascent + properties.descent;
    _TextMetrics._fonts[font] = properties;
    return properties;
  }
  static clearMetrics(font = "") {
    if (font) {
      delete _TextMetrics._fonts[font];
    } else {
      _TextMetrics._fonts = {};
    }
  }
  static get _canvas() {
    if (!_TextMetrics.__canvas) {
      let canvas;
      try {
        const c = new OffscreenCanvas(0, 0);
        const context = c.getContext("2d", contextSettings);
        if (context?.measureText) {
          _TextMetrics.__canvas = c;
          return c;
        }
        canvas = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.createCanvas();
      } catch (ex) {
        canvas = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.createCanvas();
      }
      canvas.width = canvas.height = 10;
      _TextMetrics.__canvas = canvas;
    }
    return _TextMetrics.__canvas;
  }
  static get _context() {
    if (!_TextMetrics.__context) {
      _TextMetrics.__context = _TextMetrics._canvas.getContext("2d", contextSettings);
    }
    return _TextMetrics.__context;
  }
};
let TextMetrics = _TextMetrics;
TextMetrics.METRICS_STRING = "|\xC9q\xC5";
TextMetrics.BASELINE_SYMBOL = "M";
TextMetrics.BASELINE_MULTIPLIER = 1.4;
TextMetrics.HEIGHT_MULTIPLIER = 2;
TextMetrics.graphemeSegmenter = (() => {
  if (typeof Intl?.Segmenter === "function") {
    const segmenter = new Intl.Segmenter();
    return (s) => [...segmenter.segment(s)].map((x) => x.segment);
  }
  return (s) => [...s];
})();
TextMetrics.experimentalLetterSpacing = false;
TextMetrics._fonts = {};
TextMetrics._newlines = [
  10,
  13
];
TextMetrics._breakingSpaces = [
  9,
  32,
  8192,
  8193,
  8194,
  8195,
  8196,
  8197,
  8198,
  8200,
  8201,
  8202,
  8287,
  12288
];


//# sourceMappingURL=TextMetrics.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text/lib/TextStyle.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/text/lib/TextStyle.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextStyle: () => (/* binding */ TextStyle)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/text/lib/const.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");



const genericFontFamilies = [
  "serif",
  "sans-serif",
  "monospace",
  "cursive",
  "fantasy",
  "system-ui"
];
const _TextStyle = class {
  constructor(style) {
    this.styleID = 0;
    this.reset();
    deepCopyProperties(this, style, style);
  }
  clone() {
    const clonedProperties = {};
    deepCopyProperties(clonedProperties, this, _TextStyle.defaultStyle);
    return new _TextStyle(clonedProperties);
  }
  reset() {
    deepCopyProperties(this, _TextStyle.defaultStyle, _TextStyle.defaultStyle);
  }
  get align() {
    return this._align;
  }
  set align(align) {
    if (this._align !== align) {
      this._align = align;
      this.styleID++;
    }
  }
  get breakWords() {
    return this._breakWords;
  }
  set breakWords(breakWords) {
    if (this._breakWords !== breakWords) {
      this._breakWords = breakWords;
      this.styleID++;
    }
  }
  get dropShadow() {
    return this._dropShadow;
  }
  set dropShadow(dropShadow) {
    if (this._dropShadow !== dropShadow) {
      this._dropShadow = dropShadow;
      this.styleID++;
    }
  }
  get dropShadowAlpha() {
    return this._dropShadowAlpha;
  }
  set dropShadowAlpha(dropShadowAlpha) {
    if (this._dropShadowAlpha !== dropShadowAlpha) {
      this._dropShadowAlpha = dropShadowAlpha;
      this.styleID++;
    }
  }
  get dropShadowAngle() {
    return this._dropShadowAngle;
  }
  set dropShadowAngle(dropShadowAngle) {
    if (this._dropShadowAngle !== dropShadowAngle) {
      this._dropShadowAngle = dropShadowAngle;
      this.styleID++;
    }
  }
  get dropShadowBlur() {
    return this._dropShadowBlur;
  }
  set dropShadowBlur(dropShadowBlur) {
    if (this._dropShadowBlur !== dropShadowBlur) {
      this._dropShadowBlur = dropShadowBlur;
      this.styleID++;
    }
  }
  get dropShadowColor() {
    return this._dropShadowColor;
  }
  set dropShadowColor(dropShadowColor) {
    const outputColor = getColor(dropShadowColor);
    if (this._dropShadowColor !== outputColor) {
      this._dropShadowColor = outputColor;
      this.styleID++;
    }
  }
  get dropShadowDistance() {
    return this._dropShadowDistance;
  }
  set dropShadowDistance(dropShadowDistance) {
    if (this._dropShadowDistance !== dropShadowDistance) {
      this._dropShadowDistance = dropShadowDistance;
      this.styleID++;
    }
  }
  get fill() {
    return this._fill;
  }
  set fill(fill) {
    const outputColor = getColor(fill);
    if (this._fill !== outputColor) {
      this._fill = outputColor;
      this.styleID++;
    }
  }
  get fillGradientType() {
    return this._fillGradientType;
  }
  set fillGradientType(fillGradientType) {
    if (this._fillGradientType !== fillGradientType) {
      this._fillGradientType = fillGradientType;
      this.styleID++;
    }
  }
  get fillGradientStops() {
    return this._fillGradientStops;
  }
  set fillGradientStops(fillGradientStops) {
    if (!areArraysEqual(this._fillGradientStops, fillGradientStops)) {
      this._fillGradientStops = fillGradientStops;
      this.styleID++;
    }
  }
  get fontFamily() {
    return this._fontFamily;
  }
  set fontFamily(fontFamily) {
    if (this.fontFamily !== fontFamily) {
      this._fontFamily = fontFamily;
      this.styleID++;
    }
  }
  get fontSize() {
    return this._fontSize;
  }
  set fontSize(fontSize) {
    if (this._fontSize !== fontSize) {
      this._fontSize = fontSize;
      this.styleID++;
    }
  }
  get fontStyle() {
    return this._fontStyle;
  }
  set fontStyle(fontStyle) {
    if (this._fontStyle !== fontStyle) {
      this._fontStyle = fontStyle;
      this.styleID++;
    }
  }
  get fontVariant() {
    return this._fontVariant;
  }
  set fontVariant(fontVariant) {
    if (this._fontVariant !== fontVariant) {
      this._fontVariant = fontVariant;
      this.styleID++;
    }
  }
  get fontWeight() {
    return this._fontWeight;
  }
  set fontWeight(fontWeight) {
    if (this._fontWeight !== fontWeight) {
      this._fontWeight = fontWeight;
      this.styleID++;
    }
  }
  get letterSpacing() {
    return this._letterSpacing;
  }
  set letterSpacing(letterSpacing) {
    if (this._letterSpacing !== letterSpacing) {
      this._letterSpacing = letterSpacing;
      this.styleID++;
    }
  }
  get lineHeight() {
    return this._lineHeight;
  }
  set lineHeight(lineHeight) {
    if (this._lineHeight !== lineHeight) {
      this._lineHeight = lineHeight;
      this.styleID++;
    }
  }
  get leading() {
    return this._leading;
  }
  set leading(leading) {
    if (this._leading !== leading) {
      this._leading = leading;
      this.styleID++;
    }
  }
  get lineJoin() {
    return this._lineJoin;
  }
  set lineJoin(lineJoin) {
    if (this._lineJoin !== lineJoin) {
      this._lineJoin = lineJoin;
      this.styleID++;
    }
  }
  get miterLimit() {
    return this._miterLimit;
  }
  set miterLimit(miterLimit) {
    if (this._miterLimit !== miterLimit) {
      this._miterLimit = miterLimit;
      this.styleID++;
    }
  }
  get padding() {
    return this._padding;
  }
  set padding(padding) {
    if (this._padding !== padding) {
      this._padding = padding;
      this.styleID++;
    }
  }
  get stroke() {
    return this._stroke;
  }
  set stroke(stroke) {
    const outputColor = getColor(stroke);
    if (this._stroke !== outputColor) {
      this._stroke = outputColor;
      this.styleID++;
    }
  }
  get strokeThickness() {
    return this._strokeThickness;
  }
  set strokeThickness(strokeThickness) {
    if (this._strokeThickness !== strokeThickness) {
      this._strokeThickness = strokeThickness;
      this.styleID++;
    }
  }
  get textBaseline() {
    return this._textBaseline;
  }
  set textBaseline(textBaseline) {
    if (this._textBaseline !== textBaseline) {
      this._textBaseline = textBaseline;
      this.styleID++;
    }
  }
  get trim() {
    return this._trim;
  }
  set trim(trim) {
    if (this._trim !== trim) {
      this._trim = trim;
      this.styleID++;
    }
  }
  get whiteSpace() {
    return this._whiteSpace;
  }
  set whiteSpace(whiteSpace) {
    if (this._whiteSpace !== whiteSpace) {
      this._whiteSpace = whiteSpace;
      this.styleID++;
    }
  }
  get wordWrap() {
    return this._wordWrap;
  }
  set wordWrap(wordWrap) {
    if (this._wordWrap !== wordWrap) {
      this._wordWrap = wordWrap;
      this.styleID++;
    }
  }
  get wordWrapWidth() {
    return this._wordWrapWidth;
  }
  set wordWrapWidth(wordWrapWidth) {
    if (this._wordWrapWidth !== wordWrapWidth) {
      this._wordWrapWidth = wordWrapWidth;
      this.styleID++;
    }
  }
  toFontString() {
    const fontSizeString = typeof this.fontSize === "number" ? `${this.fontSize}px` : this.fontSize;
    let fontFamilies = this.fontFamily;
    if (!Array.isArray(this.fontFamily)) {
      fontFamilies = this.fontFamily.split(",");
    }
    for (let i = fontFamilies.length - 1; i >= 0; i--) {
      let fontFamily = fontFamilies[i].trim();
      if (!/([\"\'])[^\'\"]+\1/.test(fontFamily) && !genericFontFamilies.includes(fontFamily)) {
        fontFamily = `"${fontFamily}"`;
      }
      fontFamilies[i] = fontFamily;
    }
    return `${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${fontSizeString} ${fontFamilies.join(",")}`;
  }
};
let TextStyle = _TextStyle;
TextStyle.defaultStyle = {
  align: "left",
  breakWords: false,
  dropShadow: false,
  dropShadowAlpha: 1,
  dropShadowAngle: Math.PI / 6,
  dropShadowBlur: 0,
  dropShadowColor: "black",
  dropShadowDistance: 5,
  fill: "black",
  fillGradientType: _const_mjs__WEBPACK_IMPORTED_MODULE_0__.TEXT_GRADIENT.LINEAR_VERTICAL,
  fillGradientStops: [],
  fontFamily: "Arial",
  fontSize: 26,
  fontStyle: "normal",
  fontVariant: "normal",
  fontWeight: "normal",
  leading: 0,
  letterSpacing: 0,
  lineHeight: 0,
  lineJoin: "miter",
  miterLimit: 10,
  padding: 0,
  stroke: "black",
  strokeThickness: 0,
  textBaseline: "alphabetic",
  trim: false,
  whiteSpace: "pre",
  wordWrap: false,
  wordWrapWidth: 100
};
function getColor(color) {
  const temp = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Color.shared;
  if (!Array.isArray(color)) {
    return temp.setValue(color).toHex();
  } else {
    return color.map((c) => temp.setValue(c).toHex());
  }
}
function areArraysEqual(array1, array2) {
  if (!Array.isArray(array1) || !Array.isArray(array2)) {
    return false;
  }
  if (array1.length !== array2.length) {
    return false;
  }
  for (let i = 0; i < array1.length; ++i) {
    if (array1[i] !== array2[i]) {
      return false;
    }
  }
  return true;
}
function deepCopyProperties(target, source, propertyObj) {
  for (const prop in propertyObj) {
    if (Array.isArray(source[prop])) {
      target[prop] = source[prop].slice();
    } else {
      target[prop] = source[prop];
    }
  }
}


//# sourceMappingURL=TextStyle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text/lib/const.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/text/lib/const.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TEXT_GRADIENT: () => (/* binding */ TEXT_GRADIENT)
/* harmony export */ });
var TEXT_GRADIENT = /* @__PURE__ */ ((TEXT_GRADIENT2) => {
  TEXT_GRADIENT2[TEXT_GRADIENT2["LINEAR_VERTICAL"] = 0] = "LINEAR_VERTICAL";
  TEXT_GRADIENT2[TEXT_GRADIENT2["LINEAR_HORIZONTAL"] = 1] = "LINEAR_HORIZONTAL";
  return TEXT_GRADIENT2;
})(TEXT_GRADIENT || {});


//# sourceMappingURL=const.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text/lib/index.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/text/lib/index.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TEXT_GRADIENT: () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_0__.TEXT_GRADIENT),
/* harmony export */   Text: () => (/* reexport safe */ _Text_mjs__WEBPACK_IMPORTED_MODULE_1__.Text),
/* harmony export */   TextMetrics: () => (/* reexport safe */ _TextMetrics_mjs__WEBPACK_IMPORTED_MODULE_2__.TextMetrics),
/* harmony export */   TextStyle: () => (/* reexport safe */ _TextStyle_mjs__WEBPACK_IMPORTED_MODULE_3__.TextStyle)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/text/lib/const.mjs");
/* harmony import */ var _Text_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Text.mjs */ "./node_modules/@pixi/text/lib/Text.mjs");
/* harmony import */ var _TextMetrics_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TextMetrics.mjs */ "./node_modules/@pixi/text/lib/TextMetrics.mjs");
/* harmony import */ var _TextStyle_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TextStyle.mjs */ "./node_modules/@pixi/text/lib/TextStyle.mjs");




//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/ticker/lib/Ticker.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/ticker/lib/Ticker.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ticker: () => (/* binding */ Ticker)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/ticker/lib/const.mjs");
/* harmony import */ var _TickerListener_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TickerListener.mjs */ "./node_modules/@pixi/ticker/lib/TickerListener.mjs");



const _Ticker = class {
  constructor() {
    this.autoStart = false;
    this.deltaTime = 1;
    this.lastTime = -1;
    this.speed = 1;
    this.started = false;
    this._requestId = null;
    this._maxElapsedMS = 100;
    this._minElapsedMS = 0;
    this._protected = false;
    this._lastFrame = -1;
    this._head = new _TickerListener_mjs__WEBPACK_IMPORTED_MODULE_1__.TickerListener(null, null, Infinity);
    this.deltaMS = 1 / _Ticker.targetFPMS;
    this.elapsedMS = 1 / _Ticker.targetFPMS;
    this._tick = (time) => {
      this._requestId = null;
      if (this.started) {
        this.update(time);
        if (this.started && this._requestId === null && this._head.next) {
          this._requestId = requestAnimationFrame(this._tick);
        }
      }
    };
  }
  _requestIfNeeded() {
    if (this._requestId === null && this._head.next) {
      this.lastTime = performance.now();
      this._lastFrame = this.lastTime;
      this._requestId = requestAnimationFrame(this._tick);
    }
  }
  _cancelIfNeeded() {
    if (this._requestId !== null) {
      cancelAnimationFrame(this._requestId);
      this._requestId = null;
    }
  }
  _startIfPossible() {
    if (this.started) {
      this._requestIfNeeded();
    } else if (this.autoStart) {
      this.start();
    }
  }
  add(fn, context, priority = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.UPDATE_PRIORITY.NORMAL) {
    return this._addListener(new _TickerListener_mjs__WEBPACK_IMPORTED_MODULE_1__.TickerListener(fn, context, priority));
  }
  addOnce(fn, context, priority = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.UPDATE_PRIORITY.NORMAL) {
    return this._addListener(new _TickerListener_mjs__WEBPACK_IMPORTED_MODULE_1__.TickerListener(fn, context, priority, true));
  }
  _addListener(listener) {
    let current = this._head.next;
    let previous = this._head;
    if (!current) {
      listener.connect(previous);
    } else {
      while (current) {
        if (listener.priority > current.priority) {
          listener.connect(previous);
          break;
        }
        previous = current;
        current = current.next;
      }
      if (!listener.previous) {
        listener.connect(previous);
      }
    }
    this._startIfPossible();
    return this;
  }
  remove(fn, context) {
    let listener = this._head.next;
    while (listener) {
      if (listener.match(fn, context)) {
        listener = listener.destroy();
      } else {
        listener = listener.next;
      }
    }
    if (!this._head.next) {
      this._cancelIfNeeded();
    }
    return this;
  }
  get count() {
    if (!this._head) {
      return 0;
    }
    let count = 0;
    let current = this._head;
    while (current = current.next) {
      count++;
    }
    return count;
  }
  start() {
    if (!this.started) {
      this.started = true;
      this._requestIfNeeded();
    }
  }
  stop() {
    if (this.started) {
      this.started = false;
      this._cancelIfNeeded();
    }
  }
  destroy() {
    if (!this._protected) {
      this.stop();
      let listener = this._head.next;
      while (listener) {
        listener = listener.destroy(true);
      }
      this._head.destroy();
      this._head = null;
    }
  }
  update(currentTime = performance.now()) {
    let elapsedMS;
    if (currentTime > this.lastTime) {
      elapsedMS = this.elapsedMS = currentTime - this.lastTime;
      if (elapsedMS > this._maxElapsedMS) {
        elapsedMS = this._maxElapsedMS;
      }
      elapsedMS *= this.speed;
      if (this._minElapsedMS) {
        const delta = currentTime - this._lastFrame | 0;
        if (delta < this._minElapsedMS) {
          return;
        }
        this._lastFrame = currentTime - delta % this._minElapsedMS;
      }
      this.deltaMS = elapsedMS;
      this.deltaTime = this.deltaMS * _Ticker.targetFPMS;
      const head = this._head;
      let listener = head.next;
      while (listener) {
        listener = listener.emit(this.deltaTime);
      }
      if (!head.next) {
        this._cancelIfNeeded();
      }
    } else {
      this.deltaTime = this.deltaMS = this.elapsedMS = 0;
    }
    this.lastTime = currentTime;
  }
  get FPS() {
    return 1e3 / this.elapsedMS;
  }
  get minFPS() {
    return 1e3 / this._maxElapsedMS;
  }
  set minFPS(fps) {
    const minFPS = Math.min(this.maxFPS, fps);
    const minFPMS = Math.min(Math.max(0, minFPS) / 1e3, _Ticker.targetFPMS);
    this._maxElapsedMS = 1 / minFPMS;
  }
  get maxFPS() {
    if (this._minElapsedMS) {
      return Math.round(1e3 / this._minElapsedMS);
    }
    return 0;
  }
  set maxFPS(fps) {
    if (fps === 0) {
      this._minElapsedMS = 0;
    } else {
      const maxFPS = Math.max(this.minFPS, fps);
      this._minElapsedMS = 1 / (maxFPS / 1e3);
    }
  }
  static get shared() {
    if (!_Ticker._shared) {
      const shared = _Ticker._shared = new _Ticker();
      shared.autoStart = true;
      shared._protected = true;
    }
    return _Ticker._shared;
  }
  static get system() {
    if (!_Ticker._system) {
      const system = _Ticker._system = new _Ticker();
      system.autoStart = true;
      system._protected = true;
    }
    return _Ticker._system;
  }
};
let Ticker = _Ticker;
Ticker.targetFPMS = 0.06;


//# sourceMappingURL=Ticker.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/ticker/lib/TickerListener.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/ticker/lib/TickerListener.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TickerListener: () => (/* binding */ TickerListener)
/* harmony export */ });
class TickerListener {
  constructor(fn, context = null, priority = 0, once = false) {
    this.next = null;
    this.previous = null;
    this._destroyed = false;
    this.fn = fn;
    this.context = context;
    this.priority = priority;
    this.once = once;
  }
  match(fn, context = null) {
    return this.fn === fn && this.context === context;
  }
  emit(deltaTime) {
    if (this.fn) {
      if (this.context) {
        this.fn.call(this.context, deltaTime);
      } else {
        this.fn(deltaTime);
      }
    }
    const redirect = this.next;
    if (this.once) {
      this.destroy(true);
    }
    if (this._destroyed) {
      this.next = null;
    }
    return redirect;
  }
  connect(previous) {
    this.previous = previous;
    if (previous.next) {
      previous.next.previous = this;
    }
    this.next = previous.next;
    previous.next = this;
  }
  destroy(hard = false) {
    this._destroyed = true;
    this.fn = null;
    this.context = null;
    if (this.previous) {
      this.previous.next = this.next;
    }
    if (this.next) {
      this.next.previous = this.previous;
    }
    const redirect = this.next;
    this.next = hard ? null : redirect;
    this.previous = null;
    return redirect;
  }
}


//# sourceMappingURL=TickerListener.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/ticker/lib/TickerPlugin.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/ticker/lib/TickerPlugin.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TickerPlugin: () => (/* binding */ TickerPlugin)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/ticker/lib/const.mjs");
/* harmony import */ var _Ticker_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Ticker.mjs */ "./node_modules/@pixi/ticker/lib/Ticker.mjs");




class TickerPlugin {
  static init(options) {
    options = Object.assign({
      autoStart: true,
      sharedTicker: false
    }, options);
    Object.defineProperty(this, "ticker", {
      set(ticker) {
        if (this._ticker) {
          this._ticker.remove(this.render, this);
        }
        this._ticker = ticker;
        if (ticker) {
          ticker.add(this.render, this, _const_mjs__WEBPACK_IMPORTED_MODULE_1__.UPDATE_PRIORITY.LOW);
        }
      },
      get() {
        return this._ticker;
      }
    });
    this.stop = () => {
      this._ticker.stop();
    };
    this.start = () => {
      this._ticker.start();
    };
    this._ticker = null;
    this.ticker = options.sharedTicker ? _Ticker_mjs__WEBPACK_IMPORTED_MODULE_2__.Ticker.shared : new _Ticker_mjs__WEBPACK_IMPORTED_MODULE_2__.Ticker();
    if (options.autoStart) {
      this.start();
    }
  }
  static destroy() {
    if (this._ticker) {
      const oldTicker = this._ticker;
      this.ticker = null;
      oldTicker.destroy();
    }
  }
}
TickerPlugin.extension = _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.Application;
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(TickerPlugin);


//# sourceMappingURL=TickerPlugin.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/ticker/lib/const.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/ticker/lib/const.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UPDATE_PRIORITY: () => (/* binding */ UPDATE_PRIORITY)
/* harmony export */ });
var UPDATE_PRIORITY = /* @__PURE__ */ ((UPDATE_PRIORITY2) => {
  UPDATE_PRIORITY2[UPDATE_PRIORITY2["INTERACTION"] = 50] = "INTERACTION";
  UPDATE_PRIORITY2[UPDATE_PRIORITY2["HIGH"] = 25] = "HIGH";
  UPDATE_PRIORITY2[UPDATE_PRIORITY2["NORMAL"] = 0] = "NORMAL";
  UPDATE_PRIORITY2[UPDATE_PRIORITY2["LOW"] = -25] = "LOW";
  UPDATE_PRIORITY2[UPDATE_PRIORITY2["UTILITY"] = -50] = "UTILITY";
  return UPDATE_PRIORITY2;
})(UPDATE_PRIORITY || {});


//# sourceMappingURL=const.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/ticker/lib/index.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/ticker/lib/index.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ticker: () => (/* reexport safe */ _Ticker_mjs__WEBPACK_IMPORTED_MODULE_2__.Ticker),
/* harmony export */   TickerPlugin: () => (/* reexport safe */ _TickerPlugin_mjs__WEBPACK_IMPORTED_MODULE_3__.TickerPlugin),
/* harmony export */   UPDATE_PRIORITY: () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_1__.UPDATE_PRIORITY)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings.mjs */ "./node_modules/@pixi/ticker/lib/settings.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/ticker/lib/const.mjs");
/* harmony import */ var _Ticker_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Ticker.mjs */ "./node_modules/@pixi/ticker/lib/Ticker.mjs");
/* harmony import */ var _TickerPlugin_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TickerPlugin.mjs */ "./node_modules/@pixi/ticker/lib/TickerPlugin.mjs");




//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/ticker/lib/settings.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/ticker/lib/settings.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   settings: () => (/* reexport safe */ _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings)
/* harmony export */ });
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _Ticker_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Ticker.mjs */ "./node_modules/@pixi/ticker/lib/Ticker.mjs");





Object.defineProperties(_pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings, {
  TARGET_FPMS: {
    get() {
      return _Ticker_mjs__WEBPACK_IMPORTED_MODULE_2__.Ticker.targetFPMS;
    },
    set(value) {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_1__.deprecation)("7.1.0", "settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS");
      _Ticker_mjs__WEBPACK_IMPORTED_MODULE_2__.Ticker.targetFPMS = value;
    }
  }
});
//# sourceMappingURL=settings.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/browser/hello.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/browser/hello.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   sayHello: () => (/* binding */ sayHello),
/* harmony export */   skipHello: () => (/* binding */ skipHello)
/* harmony export */ });
/* harmony import */ var _logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logging/deprecation.mjs */ "./node_modules/@pixi/utils/lib/logging/deprecation.mjs");


function skipHello() {
  (0,_logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", "skipHello is deprecated, please use settings.RENDER_OPTIONS.hello");
}
function sayHello() {
  (0,_logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", `sayHello is deprecated, please use Renderer's "hello" option`);
}


//# sourceMappingURL=hello.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/browser/isWebGLSupported.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/browser/isWebGLSupported.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isWebGLSupported: () => (/* binding */ isWebGLSupported)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../settings.mjs */ "./node_modules/@pixi/utils/lib/settings.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");



let supported;
function isWebGLSupported() {
  if (typeof supported === "undefined") {
    supported = function supported2() {
      const contextOptions = {
        stencil: true,
        failIfMajorPerformanceCaveat: _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT
      };
      try {
        if (!_pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.getWebGLRenderingContext()) {
          return false;
        }
        const canvas = _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.createCanvas();
        let gl = canvas.getContext("webgl", contextOptions) || canvas.getContext("experimental-webgl", contextOptions);
        const success = !!gl?.getContextAttributes()?.stencil;
        if (gl) {
          const loseContext = gl.getExtension("WEBGL_lose_context");
          if (loseContext) {
            loseContext.loseContext();
          }
        }
        gl = null;
        return success;
      } catch (e) {
        return false;
      }
    }();
  }
  return supported;
}


//# sourceMappingURL=isWebGLSupported.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/color/hex.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/color/hex.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   hex2rgb: () => (/* binding */ hex2rgb),
/* harmony export */   hex2string: () => (/* binding */ hex2string),
/* harmony export */   rgb2hex: () => (/* binding */ rgb2hex),
/* harmony export */   string2hex: () => (/* binding */ string2hex)
/* harmony export */ });
/* harmony import */ var _pixi_color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/color */ "./node_modules/@pixi/color/lib/index.mjs");
/* harmony import */ var _logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../logging/deprecation.mjs */ "./node_modules/@pixi/utils/lib/logging/deprecation.mjs");



function hex2rgb(hex, out = []) {
  (0,_logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_1__.deprecation)("7.2.0", "utils.hex2rgb is deprecated, use Color#toRgbArray instead");
  return _pixi_color__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(hex).toRgbArray(out);
}
function hex2string(hex) {
  (0,_logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_1__.deprecation)("7.2.0", "utils.hex2string is deprecated, use Color#toHex instead");
  return _pixi_color__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(hex).toHex();
}
function string2hex(string) {
  (0,_logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_1__.deprecation)("7.2.0", "utils.string2hex is deprecated, use Color#toNumber instead");
  return _pixi_color__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(string).toNumber();
}
function rgb2hex(rgb) {
  (0,_logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_1__.deprecation)("7.2.0", "utils.rgb2hex is deprecated, use Color#toNumber instead");
  return _pixi_color__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(rgb).toNumber();
}


//# sourceMappingURL=hex.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/color/premultiply.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/color/premultiply.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctBlendMode: () => (/* binding */ correctBlendMode),
/* harmony export */   premultiplyBlendMode: () => (/* binding */ premultiplyBlendMode),
/* harmony export */   premultiplyRgba: () => (/* binding */ premultiplyRgba),
/* harmony export */   premultiplyTint: () => (/* binding */ premultiplyTint),
/* harmony export */   premultiplyTintToRgba: () => (/* binding */ premultiplyTintToRgba)
/* harmony export */ });
/* harmony import */ var _pixi_color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/color */ "./node_modules/@pixi/color/lib/index.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logging/deprecation.mjs */ "./node_modules/@pixi/utils/lib/logging/deprecation.mjs");




function mapPremultipliedBlendModes() {
  const pm = [];
  const npm = [];
  for (let i = 0; i < 32; i++) {
    pm[i] = i;
    npm[i] = i;
  }
  pm[_pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BLEND_MODES.NORMAL_NPM] = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BLEND_MODES.NORMAL;
  pm[_pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BLEND_MODES.ADD_NPM] = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BLEND_MODES.ADD;
  pm[_pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BLEND_MODES.SCREEN_NPM] = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BLEND_MODES.SCREEN;
  npm[_pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BLEND_MODES.NORMAL] = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BLEND_MODES.NORMAL_NPM;
  npm[_pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BLEND_MODES.ADD] = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BLEND_MODES.ADD_NPM;
  npm[_pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BLEND_MODES.SCREEN] = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BLEND_MODES.SCREEN_NPM;
  const array = [];
  array.push(npm);
  array.push(pm);
  return array;
}
const premultiplyBlendMode = mapPremultipliedBlendModes();
function correctBlendMode(blendMode, premultiplied) {
  return premultiplyBlendMode[premultiplied ? 1 : 0][blendMode];
}
function premultiplyRgba(rgb, alpha, out, premultiply = true) {
  (0,_logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.2.0", `utils.premultiplyRgba has moved to Color.premultiply`);
  return _pixi_color__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(rgb).premultiply(alpha, premultiply).toArray(out ?? new Float32Array(4));
}
function premultiplyTint(tint, alpha) {
  (0,_logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.2.0", `utils.premultiplyTint has moved to Color.toPremultiplied`);
  return _pixi_color__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(tint).toPremultiplied(alpha);
}
function premultiplyTintToRgba(tint, alpha, out, premultiply = true) {
  (0,_logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_2__.deprecation)("7.2.0", `utils.premultiplyTintToRgba has moved to Color.premultiply`);
  return _pixi_color__WEBPACK_IMPORTED_MODULE_0__.Color.shared.setValue(tint).premultiply(alpha, premultiply).toArray(out ?? new Float32Array(4));
}


//# sourceMappingURL=premultiply.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/const.mjs":
/*!************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/const.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DATA_URI: () => (/* binding */ DATA_URI)
/* harmony export */ });
const DATA_URI = /^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;


//# sourceMappingURL=const.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/data/createIndicesForQuads.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/data/createIndicesForQuads.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createIndicesForQuads: () => (/* binding */ createIndicesForQuads)
/* harmony export */ });
function createIndicesForQuads(size, outBuffer = null) {
  const totalIndices = size * 6;
  outBuffer = outBuffer || new Uint16Array(totalIndices);
  if (outBuffer.length !== totalIndices) {
    throw new Error(`Out buffer length is incorrect, got ${outBuffer.length} and expected ${totalIndices}`);
  }
  for (let i = 0, j = 0; i < totalIndices; i += 6, j += 4) {
    outBuffer[i + 0] = j + 0;
    outBuffer[i + 1] = j + 1;
    outBuffer[i + 2] = j + 2;
    outBuffer[i + 3] = j + 0;
    outBuffer[i + 4] = j + 2;
    outBuffer[i + 5] = j + 3;
  }
  return outBuffer;
}


//# sourceMappingURL=createIndicesForQuads.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/data/getBufferType.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/data/getBufferType.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getBufferType: () => (/* binding */ getBufferType)
/* harmony export */ });
function getBufferType(array) {
  if (array.BYTES_PER_ELEMENT === 4) {
    if (array instanceof Float32Array) {
      return "Float32Array";
    } else if (array instanceof Uint32Array) {
      return "Uint32Array";
    }
    return "Int32Array";
  } else if (array.BYTES_PER_ELEMENT === 2) {
    if (array instanceof Uint16Array) {
      return "Uint16Array";
    }
  } else if (array.BYTES_PER_ELEMENT === 1) {
    if (array instanceof Uint8Array) {
      return "Uint8Array";
    }
  }
  return null;
}


//# sourceMappingURL=getBufferType.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/data/interleaveTypedArrays.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/data/interleaveTypedArrays.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   interleaveTypedArrays: () => (/* binding */ interleaveTypedArrays)
/* harmony export */ });
/* harmony import */ var _getBufferType_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getBufferType.mjs */ "./node_modules/@pixi/utils/lib/data/getBufferType.mjs");


const map = { Float32Array, Uint32Array, Int32Array, Uint8Array };
function interleaveTypedArrays(arrays, sizes) {
  let outSize = 0;
  let stride = 0;
  const views = {};
  for (let i = 0; i < arrays.length; i++) {
    stride += sizes[i];
    outSize += arrays[i].length;
  }
  const buffer = new ArrayBuffer(outSize * 4);
  let out = null;
  let littleOffset = 0;
  for (let i = 0; i < arrays.length; i++) {
    const size = sizes[i];
    const array = arrays[i];
    const type = (0,_getBufferType_mjs__WEBPACK_IMPORTED_MODULE_0__.getBufferType)(array);
    if (!views[type]) {
      views[type] = new map[type](buffer);
    }
    out = views[type];
    for (let j = 0; j < array.length; j++) {
      const indexStart = (j / size | 0) * stride + littleOffset;
      const index = j % size;
      out[indexStart + index] = array[j];
    }
    littleOffset += size;
  }
  return new Float32Array(buffer);
}


//# sourceMappingURL=interleaveTypedArrays.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/data/pow2.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/data/pow2.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isPow2: () => (/* binding */ isPow2),
/* harmony export */   log2: () => (/* binding */ log2),
/* harmony export */   nextPow2: () => (/* binding */ nextPow2)
/* harmony export */ });
function nextPow2(v) {
  v += v === 0 ? 1 : 0;
  --v;
  v |= v >>> 1;
  v |= v >>> 2;
  v |= v >>> 4;
  v |= v >>> 8;
  v |= v >>> 16;
  return v + 1;
}
function isPow2(v) {
  return !(v & v - 1) && !!v;
}
function log2(v) {
  let r = (v > 65535 ? 1 : 0) << 4;
  v >>>= r;
  let shift = (v > 255 ? 1 : 0) << 3;
  v >>>= shift;
  r |= shift;
  shift = (v > 15 ? 1 : 0) << 2;
  v >>>= shift;
  r |= shift;
  shift = (v > 3 ? 1 : 0) << 1;
  v >>>= shift;
  r |= shift;
  return r | v >> 1;
}


//# sourceMappingURL=pow2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/data/removeItems.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/data/removeItems.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   removeItems: () => (/* binding */ removeItems)
/* harmony export */ });
function removeItems(arr, startIdx, removeCount) {
  const length = arr.length;
  let i;
  if (startIdx >= length || removeCount === 0) {
    return;
  }
  removeCount = startIdx + removeCount > length ? length - startIdx : removeCount;
  const len = length - removeCount;
  for (i = startIdx; i < len; ++i) {
    arr[i] = arr[i + removeCount];
  }
  arr.length = len;
}


//# sourceMappingURL=removeItems.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/data/sign.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/data/sign.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   sign: () => (/* binding */ sign)
/* harmony export */ });
function sign(n) {
  if (n === 0)
    return 0;
  return n < 0 ? -1 : 1;
}


//# sourceMappingURL=sign.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/data/uid.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/data/uid.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   uid: () => (/* binding */ uid)
/* harmony export */ });
let nextUid = 0;
function uid() {
  return ++nextUid;
}


//# sourceMappingURL=uid.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/index.mjs":
/*!************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/index.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseTextureCache: () => (/* reexport safe */ _media_caches_mjs__WEBPACK_IMPORTED_MODULE_20__.BaseTextureCache),
/* harmony export */   BoundingBox: () => (/* reexport safe */ _media_BoundingBox_mjs__WEBPACK_IMPORTED_MODULE_19__.BoundingBox),
/* harmony export */   CanvasRenderTarget: () => (/* reexport safe */ _media_CanvasRenderTarget_mjs__WEBPACK_IMPORTED_MODULE_21__.CanvasRenderTarget),
/* harmony export */   DATA_URI: () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_10__.DATA_URI),
/* harmony export */   EventEmitter: () => (/* reexport default export from named module */ eventemitter3__WEBPACK_IMPORTED_MODULE_2__),
/* harmony export */   ProgramCache: () => (/* reexport safe */ _media_caches_mjs__WEBPACK_IMPORTED_MODULE_20__.ProgramCache),
/* harmony export */   TextureCache: () => (/* reexport safe */ _media_caches_mjs__WEBPACK_IMPORTED_MODULE_20__.TextureCache),
/* harmony export */   clearTextureCache: () => (/* reexport safe */ _media_caches_mjs__WEBPACK_IMPORTED_MODULE_20__.clearTextureCache),
/* harmony export */   correctBlendMode: () => (/* reexport safe */ _color_premultiply_mjs__WEBPACK_IMPORTED_MODULE_9__.correctBlendMode),
/* harmony export */   createIndicesForQuads: () => (/* reexport safe */ _data_createIndicesForQuads_mjs__WEBPACK_IMPORTED_MODULE_11__.createIndicesForQuads),
/* harmony export */   decomposeDataUri: () => (/* reexport safe */ _network_decomposeDataUri_mjs__WEBPACK_IMPORTED_MODULE_24__.decomposeDataUri),
/* harmony export */   deprecation: () => (/* reexport safe */ _logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_18__.deprecation),
/* harmony export */   destroyTextureCache: () => (/* reexport safe */ _media_caches_mjs__WEBPACK_IMPORTED_MODULE_20__.destroyTextureCache),
/* harmony export */   determineCrossOrigin: () => (/* reexport safe */ _network_determineCrossOrigin_mjs__WEBPACK_IMPORTED_MODULE_25__.determineCrossOrigin),
/* harmony export */   earcut: () => (/* reexport default export from named module */ earcut__WEBPACK_IMPORTED_MODULE_3__),
/* harmony export */   getBufferType: () => (/* reexport safe */ _data_getBufferType_mjs__WEBPACK_IMPORTED_MODULE_12__.getBufferType),
/* harmony export */   getCanvasBoundingBox: () => (/* reexport safe */ _media_getCanvasBoundingBox_mjs__WEBPACK_IMPORTED_MODULE_22__.getCanvasBoundingBox),
/* harmony export */   getResolutionOfUrl: () => (/* reexport safe */ _network_getResolutionOfUrl_mjs__WEBPACK_IMPORTED_MODULE_26__.getResolutionOfUrl),
/* harmony export */   hex2rgb: () => (/* reexport safe */ _color_hex_mjs__WEBPACK_IMPORTED_MODULE_8__.hex2rgb),
/* harmony export */   hex2string: () => (/* reexport safe */ _color_hex_mjs__WEBPACK_IMPORTED_MODULE_8__.hex2string),
/* harmony export */   interleaveTypedArrays: () => (/* reexport safe */ _data_interleaveTypedArrays_mjs__WEBPACK_IMPORTED_MODULE_13__.interleaveTypedArrays),
/* harmony export */   isMobile: () => (/* reexport safe */ _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.isMobile),
/* harmony export */   isPow2: () => (/* reexport safe */ _data_pow2_mjs__WEBPACK_IMPORTED_MODULE_14__.isPow2),
/* harmony export */   isWebGLSupported: () => (/* reexport safe */ _browser_isWebGLSupported_mjs__WEBPACK_IMPORTED_MODULE_7__.isWebGLSupported),
/* harmony export */   log2: () => (/* reexport safe */ _data_pow2_mjs__WEBPACK_IMPORTED_MODULE_14__.log2),
/* harmony export */   nextPow2: () => (/* reexport safe */ _data_pow2_mjs__WEBPACK_IMPORTED_MODULE_14__.nextPow2),
/* harmony export */   path: () => (/* reexport safe */ _path_mjs__WEBPACK_IMPORTED_MODULE_5__.path),
/* harmony export */   premultiplyBlendMode: () => (/* reexport safe */ _color_premultiply_mjs__WEBPACK_IMPORTED_MODULE_9__.premultiplyBlendMode),
/* harmony export */   premultiplyRgba: () => (/* reexport safe */ _color_premultiply_mjs__WEBPACK_IMPORTED_MODULE_9__.premultiplyRgba),
/* harmony export */   premultiplyTint: () => (/* reexport safe */ _color_premultiply_mjs__WEBPACK_IMPORTED_MODULE_9__.premultiplyTint),
/* harmony export */   premultiplyTintToRgba: () => (/* reexport safe */ _color_premultiply_mjs__WEBPACK_IMPORTED_MODULE_9__.premultiplyTintToRgba),
/* harmony export */   removeItems: () => (/* reexport safe */ _data_removeItems_mjs__WEBPACK_IMPORTED_MODULE_15__.removeItems),
/* harmony export */   rgb2hex: () => (/* reexport safe */ _color_hex_mjs__WEBPACK_IMPORTED_MODULE_8__.rgb2hex),
/* harmony export */   sayHello: () => (/* reexport safe */ _browser_hello_mjs__WEBPACK_IMPORTED_MODULE_6__.sayHello),
/* harmony export */   sign: () => (/* reexport safe */ _data_sign_mjs__WEBPACK_IMPORTED_MODULE_16__.sign),
/* harmony export */   skipHello: () => (/* reexport safe */ _browser_hello_mjs__WEBPACK_IMPORTED_MODULE_6__.skipHello),
/* harmony export */   string2hex: () => (/* reexport safe */ _color_hex_mjs__WEBPACK_IMPORTED_MODULE_8__.string2hex),
/* harmony export */   trimCanvas: () => (/* reexport safe */ _media_trimCanvas_mjs__WEBPACK_IMPORTED_MODULE_23__.trimCanvas),
/* harmony export */   uid: () => (/* reexport safe */ _data_uid_mjs__WEBPACK_IMPORTED_MODULE_17__.uid),
/* harmony export */   url: () => (/* reexport safe */ _url_mjs__WEBPACK_IMPORTED_MODULE_4__.url)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings.mjs */ "./node_modules/@pixi/utils/lib/settings.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var earcut__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! earcut */ "./node_modules/earcut/src/earcut.js");
/* harmony import */ var _url_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./url.mjs */ "./node_modules/@pixi/utils/lib/url.mjs");
/* harmony import */ var _path_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./path.mjs */ "./node_modules/@pixi/utils/lib/path.mjs");
/* harmony import */ var _browser_hello_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./browser/hello.mjs */ "./node_modules/@pixi/utils/lib/browser/hello.mjs");
/* harmony import */ var _browser_isWebGLSupported_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./browser/isWebGLSupported.mjs */ "./node_modules/@pixi/utils/lib/browser/isWebGLSupported.mjs");
/* harmony import */ var _color_hex_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./color/hex.mjs */ "./node_modules/@pixi/utils/lib/color/hex.mjs");
/* harmony import */ var _color_premultiply_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./color/premultiply.mjs */ "./node_modules/@pixi/utils/lib/color/premultiply.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/utils/lib/const.mjs");
/* harmony import */ var _data_createIndicesForQuads_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./data/createIndicesForQuads.mjs */ "./node_modules/@pixi/utils/lib/data/createIndicesForQuads.mjs");
/* harmony import */ var _data_getBufferType_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./data/getBufferType.mjs */ "./node_modules/@pixi/utils/lib/data/getBufferType.mjs");
/* harmony import */ var _data_interleaveTypedArrays_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./data/interleaveTypedArrays.mjs */ "./node_modules/@pixi/utils/lib/data/interleaveTypedArrays.mjs");
/* harmony import */ var _data_pow2_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./data/pow2.mjs */ "./node_modules/@pixi/utils/lib/data/pow2.mjs");
/* harmony import */ var _data_removeItems_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./data/removeItems.mjs */ "./node_modules/@pixi/utils/lib/data/removeItems.mjs");
/* harmony import */ var _data_sign_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./data/sign.mjs */ "./node_modules/@pixi/utils/lib/data/sign.mjs");
/* harmony import */ var _data_uid_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./data/uid.mjs */ "./node_modules/@pixi/utils/lib/data/uid.mjs");
/* harmony import */ var _logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./logging/deprecation.mjs */ "./node_modules/@pixi/utils/lib/logging/deprecation.mjs");
/* harmony import */ var _media_BoundingBox_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./media/BoundingBox.mjs */ "./node_modules/@pixi/utils/lib/media/BoundingBox.mjs");
/* harmony import */ var _media_caches_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./media/caches.mjs */ "./node_modules/@pixi/utils/lib/media/caches.mjs");
/* harmony import */ var _media_CanvasRenderTarget_mjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./media/CanvasRenderTarget.mjs */ "./node_modules/@pixi/utils/lib/media/CanvasRenderTarget.mjs");
/* harmony import */ var _media_getCanvasBoundingBox_mjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./media/getCanvasBoundingBox.mjs */ "./node_modules/@pixi/utils/lib/media/getCanvasBoundingBox.mjs");
/* harmony import */ var _media_trimCanvas_mjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./media/trimCanvas.mjs */ "./node_modules/@pixi/utils/lib/media/trimCanvas.mjs");
/* harmony import */ var _network_decomposeDataUri_mjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./network/decomposeDataUri.mjs */ "./node_modules/@pixi/utils/lib/network/decomposeDataUri.mjs");
/* harmony import */ var _network_determineCrossOrigin_mjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./network/determineCrossOrigin.mjs */ "./node_modules/@pixi/utils/lib/network/determineCrossOrigin.mjs");
/* harmony import */ var _network_getResolutionOfUrl_mjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./network/getResolutionOfUrl.mjs */ "./node_modules/@pixi/utils/lib/network/getResolutionOfUrl.mjs");
/* harmony import */ var _types_index_mjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./types/index.mjs */ "./node_modules/@pixi/utils/lib/types/index.mjs");




























//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/logging/deprecation.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/logging/deprecation.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   deprecation: () => (/* binding */ deprecation)
/* harmony export */ });
const warnings = {};
function deprecation(version, message, ignoreDepth = 3) {
  if (warnings[message]) {
    return;
  }
  let stack = new Error().stack;
  if (typeof stack === "undefined") {
    console.warn("PixiJS Deprecation Warning: ", `${message}
Deprecated since v${version}`);
  } else {
    stack = stack.split("\n").splice(ignoreDepth).join("\n");
    if (console.groupCollapsed) {
      console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s", "color:#614108;background:#fffbe6", "font-weight:normal;color:#614108;background:#fffbe6", `${message}
Deprecated since v${version}`);
      console.warn(stack);
      console.groupEnd();
    } else {
      console.warn("PixiJS Deprecation Warning: ", `${message}
Deprecated since v${version}`);
      console.warn(stack);
    }
  }
  warnings[message] = true;
}


//# sourceMappingURL=deprecation.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/media/BoundingBox.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/media/BoundingBox.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BoundingBox: () => (/* binding */ BoundingBox)
/* harmony export */ });
const _BoundingBox = class {
  constructor(left, top, right, bottom) {
    this.left = left;
    this.top = top;
    this.right = right;
    this.bottom = bottom;
  }
  get width() {
    return this.right - this.left;
  }
  get height() {
    return this.bottom - this.top;
  }
  isEmpty() {
    return this.left === this.right || this.top === this.bottom;
  }
};
let BoundingBox = _BoundingBox;
BoundingBox.EMPTY = new _BoundingBox(0, 0, 0, 0);


//# sourceMappingURL=BoundingBox.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/media/CanvasRenderTarget.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/media/CanvasRenderTarget.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CanvasRenderTarget: () => (/* binding */ CanvasRenderTarget)
/* harmony export */ });
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");


class CanvasRenderTarget {
  constructor(width, height, resolution) {
    this._canvas = _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.createCanvas();
    this._context = this._canvas.getContext("2d");
    this.resolution = resolution || _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.RESOLUTION;
    this.resize(width, height);
  }
  clear() {
    this._checkDestroyed();
    this._context.setTransform(1, 0, 0, 1, 0, 0);
    this._context.clearRect(0, 0, this._canvas.width, this._canvas.height);
  }
  resize(desiredWidth, desiredHeight) {
    this._checkDestroyed();
    this._canvas.width = Math.round(desiredWidth * this.resolution);
    this._canvas.height = Math.round(desiredHeight * this.resolution);
  }
  destroy() {
    this._context = null;
    this._canvas = null;
  }
  get width() {
    this._checkDestroyed();
    return this._canvas.width;
  }
  set width(val) {
    this._checkDestroyed();
    this._canvas.width = Math.round(val);
  }
  get height() {
    this._checkDestroyed();
    return this._canvas.height;
  }
  set height(val) {
    this._checkDestroyed();
    this._canvas.height = Math.round(val);
  }
  get canvas() {
    this._checkDestroyed();
    return this._canvas;
  }
  get context() {
    this._checkDestroyed();
    return this._context;
  }
  _checkDestroyed() {
    if (this._canvas === null) {
      throw new TypeError("The CanvasRenderTarget has already been destroyed");
    }
  }
}


//# sourceMappingURL=CanvasRenderTarget.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/media/caches.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/media/caches.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseTextureCache: () => (/* binding */ BaseTextureCache),
/* harmony export */   ProgramCache: () => (/* binding */ ProgramCache),
/* harmony export */   TextureCache: () => (/* binding */ TextureCache),
/* harmony export */   clearTextureCache: () => (/* binding */ clearTextureCache),
/* harmony export */   destroyTextureCache: () => (/* binding */ destroyTextureCache)
/* harmony export */ });
const ProgramCache = {};
const TextureCache = /* @__PURE__ */ Object.create(null);
const BaseTextureCache = /* @__PURE__ */ Object.create(null);
function destroyTextureCache() {
  let key;
  for (key in TextureCache) {
    TextureCache[key].destroy();
  }
  for (key in BaseTextureCache) {
    BaseTextureCache[key].destroy();
  }
}
function clearTextureCache() {
  let key;
  for (key in TextureCache) {
    delete TextureCache[key];
  }
  for (key in BaseTextureCache) {
    delete BaseTextureCache[key];
  }
}


//# sourceMappingURL=caches.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/media/getCanvasBoundingBox.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/media/getCanvasBoundingBox.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getCanvasBoundingBox: () => (/* binding */ getCanvasBoundingBox)
/* harmony export */ });
/* harmony import */ var _BoundingBox_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BoundingBox.mjs */ "./node_modules/@pixi/utils/lib/media/BoundingBox.mjs");


function checkRow(data, width, y) {
  for (let x = 0, index = 4 * y * width; x < width; ++x, index += 4) {
    if (data[index + 3] !== 0)
      return false;
  }
  return true;
}
function checkColumn(data, width, x, top, bottom) {
  const stride = 4 * width;
  for (let y = top, index = top * stride + 4 * x; y <= bottom; ++y, index += stride) {
    if (data[index + 3] !== 0)
      return false;
  }
  return true;
}
function getCanvasBoundingBox(canvas) {
  const { width, height } = canvas;
  const context = canvas.getContext("2d", {
    willReadFrequently: true
  });
  if (context === null) {
    throw new TypeError("Failed to get canvas 2D context");
  }
  const imageData = context.getImageData(0, 0, width, height);
  const data = imageData.data;
  let left = 0;
  let top = 0;
  let right = width - 1;
  let bottom = height - 1;
  while (top < height && checkRow(data, width, top))
    ++top;
  if (top === height)
    return _BoundingBox_mjs__WEBPACK_IMPORTED_MODULE_0__.BoundingBox.EMPTY;
  while (checkRow(data, width, bottom))
    --bottom;
  while (checkColumn(data, width, left, top, bottom))
    ++left;
  while (checkColumn(data, width, right, top, bottom))
    --right;
  ++right;
  ++bottom;
  return new _BoundingBox_mjs__WEBPACK_IMPORTED_MODULE_0__.BoundingBox(left, top, right, bottom);
}


//# sourceMappingURL=getCanvasBoundingBox.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/media/trimCanvas.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/media/trimCanvas.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   trimCanvas: () => (/* binding */ trimCanvas)
/* harmony export */ });
/* harmony import */ var _getCanvasBoundingBox_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getCanvasBoundingBox.mjs */ "./node_modules/@pixi/utils/lib/media/getCanvasBoundingBox.mjs");


function trimCanvas(canvas) {
  const boundingBox = (0,_getCanvasBoundingBox_mjs__WEBPACK_IMPORTED_MODULE_0__.getCanvasBoundingBox)(canvas);
  const { width, height } = boundingBox;
  let data = null;
  if (!boundingBox.isEmpty()) {
    const context = canvas.getContext("2d");
    if (context === null) {
      throw new TypeError("Failed to get canvas 2D context");
    }
    data = context.getImageData(boundingBox.left, boundingBox.top, width, height);
  }
  return { width, height, data };
}


//# sourceMappingURL=trimCanvas.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/network/decomposeDataUri.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/network/decomposeDataUri.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   decomposeDataUri: () => (/* binding */ decomposeDataUri)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/utils/lib/const.mjs");


function decomposeDataUri(dataUri) {
  const dataUriMatch = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.DATA_URI.exec(dataUri);
  if (dataUriMatch) {
    return {
      mediaType: dataUriMatch[1] ? dataUriMatch[1].toLowerCase() : void 0,
      subType: dataUriMatch[2] ? dataUriMatch[2].toLowerCase() : void 0,
      charset: dataUriMatch[3] ? dataUriMatch[3].toLowerCase() : void 0,
      encoding: dataUriMatch[4] ? dataUriMatch[4].toLowerCase() : void 0,
      data: dataUriMatch[5]
    };
  }
  return void 0;
}


//# sourceMappingURL=decomposeDataUri.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/network/determineCrossOrigin.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/network/determineCrossOrigin.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   determineCrossOrigin: () => (/* binding */ determineCrossOrigin)
/* harmony export */ });
/* harmony import */ var _url_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../url.mjs */ "./node_modules/@pixi/utils/lib/url.mjs");


let tempAnchor;
function determineCrossOrigin(url$1, loc = globalThis.location) {
  if (url$1.startsWith("data:")) {
    return "";
  }
  loc = loc || globalThis.location;
  if (!tempAnchor) {
    tempAnchor = document.createElement("a");
  }
  tempAnchor.href = url$1;
  const parsedUrl = _url_mjs__WEBPACK_IMPORTED_MODULE_0__.url.parse(tempAnchor.href);
  const samePort = !parsedUrl.port && loc.port === "" || parsedUrl.port === loc.port;
  if (parsedUrl.hostname !== loc.hostname || !samePort || parsedUrl.protocol !== loc.protocol) {
    return "anonymous";
  }
  return "";
}


//# sourceMappingURL=determineCrossOrigin.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/network/getResolutionOfUrl.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/network/getResolutionOfUrl.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getResolutionOfUrl: () => (/* binding */ getResolutionOfUrl)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../settings.mjs */ "./node_modules/@pixi/utils/lib/settings.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");



function getResolutionOfUrl(url, defaultValue = 1) {
  const resolution = _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.RETINA_PREFIX?.exec(url);
  if (resolution) {
    return parseFloat(resolution[1]);
  }
  return defaultValue;
}


//# sourceMappingURL=getResolutionOfUrl.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/path.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/utils/lib/path.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   path: () => (/* binding */ path)
/* harmony export */ });
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");


function assertPath(path2) {
  if (typeof path2 !== "string") {
    throw new TypeError(`Path must be a string. Received ${JSON.stringify(path2)}`);
  }
}
function removeUrlParams(url) {
  const re = url.split("?")[0];
  return re.split("#")[0];
}
function escapeRegExp(string) {
  return string.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
function replaceAll(str, find, replace) {
  return str.replace(new RegExp(escapeRegExp(find), "g"), replace);
}
function normalizeStringPosix(path2, allowAboveRoot) {
  let res = "";
  let lastSegmentLength = 0;
  let lastSlash = -1;
  let dots = 0;
  let code = -1;
  for (let i = 0; i <= path2.length; ++i) {
    if (i < path2.length) {
      code = path2.charCodeAt(i);
    } else if (code === 47) {
      break;
    } else {
      code = 47;
    }
    if (code === 47) {
      if (lastSlash === i - 1 || dots === 1) {
      } else if (lastSlash !== i - 1 && dots === 2) {
        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 || res.charCodeAt(res.length - 2) !== 46) {
          if (res.length > 2) {
            const lastSlashIndex = res.lastIndexOf("/");
            if (lastSlashIndex !== res.length - 1) {
              if (lastSlashIndex === -1) {
                res = "";
                lastSegmentLength = 0;
              } else {
                res = res.slice(0, lastSlashIndex);
                lastSegmentLength = res.length - 1 - res.lastIndexOf("/");
              }
              lastSlash = i;
              dots = 0;
              continue;
            }
          } else if (res.length === 2 || res.length === 1) {
            res = "";
            lastSegmentLength = 0;
            lastSlash = i;
            dots = 0;
            continue;
          }
        }
        if (allowAboveRoot) {
          if (res.length > 0) {
            res += "/..";
          } else {
            res = "..";
          }
          lastSegmentLength = 2;
        }
      } else {
        if (res.length > 0) {
          res += `/${path2.slice(lastSlash + 1, i)}`;
        } else {
          res = path2.slice(lastSlash + 1, i);
        }
        lastSegmentLength = i - lastSlash - 1;
      }
      lastSlash = i;
      dots = 0;
    } else if (code === 46 && dots !== -1) {
      ++dots;
    } else {
      dots = -1;
    }
  }
  return res;
}
const path = {
  toPosix(path2) {
    return replaceAll(path2, "\\", "/");
  },
  isUrl(path2) {
    return /^https?:/.test(this.toPosix(path2));
  },
  isDataUrl(path2) {
    return /^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(path2);
  },
  hasProtocol(path2) {
    return /^[^/:]+:\//.test(this.toPosix(path2));
  },
  getProtocol(path2) {
    assertPath(path2);
    path2 = this.toPosix(path2);
    let protocol = "";
    const isFile = /^file:\/\/\//.exec(path2);
    const isHttp = /^[^/:]+:\/\//.exec(path2);
    const isWindows = /^[^/:]+:\//.exec(path2);
    if (isFile || isHttp || isWindows) {
      const arr = isFile?.[0] || isHttp?.[0] || isWindows?.[0];
      protocol = arr;
      path2 = path2.slice(arr.length);
    }
    return protocol;
  },
  toAbsolute(url, customBaseUrl, customRootUrl) {
    if (this.isDataUrl(url))
      return url;
    const baseUrl = removeUrlParams(this.toPosix(customBaseUrl ?? _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.getBaseUrl()));
    const rootUrl = removeUrlParams(this.toPosix(customRootUrl ?? this.rootname(baseUrl)));
    assertPath(url);
    url = this.toPosix(url);
    if (url.startsWith("/")) {
      return path.join(rootUrl, url.slice(1));
    }
    const absolutePath = this.isAbsolute(url) ? url : this.join(baseUrl, url);
    return absolutePath;
  },
  normalize(path2) {
    path2 = this.toPosix(path2);
    assertPath(path2);
    if (path2.length === 0)
      return ".";
    let protocol = "";
    const isAbsolute = path2.startsWith("/");
    if (this.hasProtocol(path2)) {
      protocol = this.rootname(path2);
      path2 = path2.slice(protocol.length);
    }
    const trailingSeparator = path2.endsWith("/");
    path2 = normalizeStringPosix(path2, false);
    if (path2.length > 0 && trailingSeparator)
      path2 += "/";
    if (isAbsolute)
      return `/${path2}`;
    return protocol + path2;
  },
  isAbsolute(path2) {
    assertPath(path2);
    path2 = this.toPosix(path2);
    if (this.hasProtocol(path2))
      return true;
    return path2.startsWith("/");
  },
  join(...segments) {
    if (segments.length === 0) {
      return ".";
    }
    let joined;
    for (let i = 0; i < segments.length; ++i) {
      const arg = segments[i];
      assertPath(arg);
      if (arg.length > 0) {
        if (joined === void 0)
          joined = arg;
        else {
          const prevArg = segments[i - 1] ?? "";
          if (this.extname(prevArg)) {
            joined += `/../${arg}`;
          } else {
            joined += `/${arg}`;
          }
        }
      }
    }
    if (joined === void 0) {
      return ".";
    }
    return this.normalize(joined);
  },
  dirname(path2) {
    assertPath(path2);
    if (path2.length === 0)
      return ".";
    path2 = this.toPosix(path2);
    let code = path2.charCodeAt(0);
    const hasRoot = code === 47;
    let end = -1;
    let matchedSlash = true;
    const proto = this.getProtocol(path2);
    const origpath = path2;
    path2 = path2.slice(proto.length);
    for (let i = path2.length - 1; i >= 1; --i) {
      code = path2.charCodeAt(i);
      if (code === 47) {
        if (!matchedSlash) {
          end = i;
          break;
        }
      } else {
        matchedSlash = false;
      }
    }
    if (end === -1)
      return hasRoot ? "/" : this.isUrl(origpath) ? proto + path2 : proto;
    if (hasRoot && end === 1)
      return "//";
    return proto + path2.slice(0, end);
  },
  rootname(path2) {
    assertPath(path2);
    path2 = this.toPosix(path2);
    let root = "";
    if (path2.startsWith("/"))
      root = "/";
    else {
      root = this.getProtocol(path2);
    }
    if (this.isUrl(path2)) {
      const index = path2.indexOf("/", root.length);
      if (index !== -1) {
        root = path2.slice(0, index);
      } else
        root = path2;
      if (!root.endsWith("/"))
        root += "/";
    }
    return root;
  },
  basename(path2, ext) {
    assertPath(path2);
    if (ext)
      assertPath(ext);
    path2 = removeUrlParams(this.toPosix(path2));
    let start = 0;
    let end = -1;
    let matchedSlash = true;
    let i;
    if (ext !== void 0 && ext.length > 0 && ext.length <= path2.length) {
      if (ext.length === path2.length && ext === path2)
        return "";
      let extIdx = ext.length - 1;
      let firstNonSlashEnd = -1;
      for (i = path2.length - 1; i >= 0; --i) {
        const code = path2.charCodeAt(i);
        if (code === 47) {
          if (!matchedSlash) {
            start = i + 1;
            break;
          }
        } else {
          if (firstNonSlashEnd === -1) {
            matchedSlash = false;
            firstNonSlashEnd = i + 1;
          }
          if (extIdx >= 0) {
            if (code === ext.charCodeAt(extIdx)) {
              if (--extIdx === -1) {
                end = i;
              }
            } else {
              extIdx = -1;
              end = firstNonSlashEnd;
            }
          }
        }
      }
      if (start === end)
        end = firstNonSlashEnd;
      else if (end === -1)
        end = path2.length;
      return path2.slice(start, end);
    }
    for (i = path2.length - 1; i >= 0; --i) {
      if (path2.charCodeAt(i) === 47) {
        if (!matchedSlash) {
          start = i + 1;
          break;
        }
      } else if (end === -1) {
        matchedSlash = false;
        end = i + 1;
      }
    }
    if (end === -1)
      return "";
    return path2.slice(start, end);
  },
  extname(path2) {
    assertPath(path2);
    path2 = removeUrlParams(this.toPosix(path2));
    let startDot = -1;
    let startPart = 0;
    let end = -1;
    let matchedSlash = true;
    let preDotState = 0;
    for (let i = path2.length - 1; i >= 0; --i) {
      const code = path2.charCodeAt(i);
      if (code === 47) {
        if (!matchedSlash) {
          startPart = i + 1;
          break;
        }
        continue;
      }
      if (end === -1) {
        matchedSlash = false;
        end = i + 1;
      }
      if (code === 46) {
        if (startDot === -1)
          startDot = i;
        else if (preDotState !== 1)
          preDotState = 1;
      } else if (startDot !== -1) {
        preDotState = -1;
      }
    }
    if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
      return "";
    }
    return path2.slice(startDot, end);
  },
  parse(path2) {
    assertPath(path2);
    const ret = { root: "", dir: "", base: "", ext: "", name: "" };
    if (path2.length === 0)
      return ret;
    path2 = removeUrlParams(this.toPosix(path2));
    let code = path2.charCodeAt(0);
    const isAbsolute = this.isAbsolute(path2);
    let start;
    const protocol = "";
    ret.root = this.rootname(path2);
    if (isAbsolute || this.hasProtocol(path2)) {
      start = 1;
    } else {
      start = 0;
    }
    let startDot = -1;
    let startPart = 0;
    let end = -1;
    let matchedSlash = true;
    let i = path2.length - 1;
    let preDotState = 0;
    for (; i >= start; --i) {
      code = path2.charCodeAt(i);
      if (code === 47) {
        if (!matchedSlash) {
          startPart = i + 1;
          break;
        }
        continue;
      }
      if (end === -1) {
        matchedSlash = false;
        end = i + 1;
      }
      if (code === 46) {
        if (startDot === -1)
          startDot = i;
        else if (preDotState !== 1)
          preDotState = 1;
      } else if (startDot !== -1) {
        preDotState = -1;
      }
    }
    if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
      if (end !== -1) {
        if (startPart === 0 && isAbsolute)
          ret.base = ret.name = path2.slice(1, end);
        else
          ret.base = ret.name = path2.slice(startPart, end);
      }
    } else {
      if (startPart === 0 && isAbsolute) {
        ret.name = path2.slice(1, startDot);
        ret.base = path2.slice(1, end);
      } else {
        ret.name = path2.slice(startPart, startDot);
        ret.base = path2.slice(startPart, end);
      }
      ret.ext = path2.slice(startDot, end);
    }
    ret.dir = this.dirname(path2);
    if (protocol)
      ret.dir = protocol + ret.dir;
    return ret;
  },
  sep: "/",
  delimiter: ":"
};


//# sourceMappingURL=path.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/settings.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/settings.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   settings: () => (/* reexport safe */ _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings)
/* harmony export */ });
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");



_pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.RETINA_PREFIX = /@([0-9\.]+)x/;
_pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = false;
//# sourceMappingURL=settings.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/types/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/types/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/url.mjs":
/*!**********************************************!*\
  !*** ./node_modules/@pixi/utils/lib/url.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   url: () => (/* binding */ url)
/* harmony export */ });
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! url */ "./node_modules/url/url.js");


const url = {
  parse: url__WEBPACK_IMPORTED_MODULE_0__.parse,
  format: url__WEBPACK_IMPORTED_MODULE_0__.format,
  resolve: url__WEBPACK_IMPORTED_MODULE_0__.resolve
};


//# sourceMappingURL=url.mjs.map


/***/ }),

/***/ "./node_modules/colord/index.mjs":
/*!***************************************!*\
  !*** ./node_modules/colord/index.mjs ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Colord: () => (/* binding */ j),
/* harmony export */   colord: () => (/* binding */ w),
/* harmony export */   extend: () => (/* binding */ k),
/* harmony export */   getFormat: () => (/* binding */ I),
/* harmony export */   random: () => (/* binding */ E)
/* harmony export */ });
var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return"string"==typeof r?r.length>0:"number"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?"0"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u="deg"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},"hsl"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},"rgb"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},"hsl"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},"hsv"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return"string"==typeof r?N(r.trim(),y.string):"object"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):"","#"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?"rgba("+t+", "+n+", "+e+", "+u+")":"rgb("+t+", "+n+", "+e+")";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?"hsla("+t+", "+n+"%, "+e+"%, "+u+")":"hsl("+t+", "+n+"%, "+e+"%)";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return"number"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return"number"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};


/***/ }),

/***/ "./node_modules/colord/plugins/names.mjs":
/*!***********************************************!*\
  !*** ./node_modules/colord/plugins/names.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(e,f){var a={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var d in a)r[a[d]]=d;var l={};e.prototype.toName=function(f){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,i,n=r[this.toHex()];if(n)return n;if(null==f?void 0:f.closest){var o=this.toRgb(),t=1/0,b="black";if(!l.length)for(var c in a)l[c]=new e(a[c]).toRgb();for(var g in a){var u=(d=o,i=l[g],Math.pow(d.r-i.r,2)+Math.pow(d.g-i.g,2)+Math.pow(d.b-i.b,2));u<t&&(t=u,b=g)}return b}};f.string.push([function(f){var r=f.toLowerCase(),d="transparent"===r?"#0000":a[r];return d?new e(d).toRgb():null},"name"])}


/***/ }),

/***/ "./node_modules/pixi.js/lib/filters.mjs":
/*!**********************************************!*\
  !*** ./node_modules/pixi.js/lib/filters.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   filters: () => (/* binding */ filters)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_filter_alpha__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/filter-alpha */ "./node_modules/@pixi/filter-alpha/lib/index.mjs");
/* harmony import */ var _pixi_filter_blur__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/filter-blur */ "./node_modules/@pixi/filter-blur/lib/index.mjs");
/* harmony import */ var _pixi_filter_color_matrix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/filter-color-matrix */ "./node_modules/@pixi/filter-color-matrix/lib/index.mjs");
/* harmony import */ var _pixi_filter_displacement__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @pixi/filter-displacement */ "./node_modules/@pixi/filter-displacement/lib/index.mjs");
/* harmony import */ var _pixi_filter_fxaa__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @pixi/filter-fxaa */ "./node_modules/@pixi/filter-fxaa/lib/index.mjs");
/* harmony import */ var _pixi_filter_noise__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @pixi/filter-noise */ "./node_modules/@pixi/filter-noise/lib/index.mjs");








const filters = {
  AlphaFilter: _pixi_filter_alpha__WEBPACK_IMPORTED_MODULE_1__.AlphaFilter,
  BlurFilter: _pixi_filter_blur__WEBPACK_IMPORTED_MODULE_2__.BlurFilter,
  BlurFilterPass: _pixi_filter_blur__WEBPACK_IMPORTED_MODULE_2__.BlurFilterPass,
  ColorMatrixFilter: _pixi_filter_color_matrix__WEBPACK_IMPORTED_MODULE_3__.ColorMatrixFilter,
  DisplacementFilter: _pixi_filter_displacement__WEBPACK_IMPORTED_MODULE_4__.DisplacementFilter,
  FXAAFilter: _pixi_filter_fxaa__WEBPACK_IMPORTED_MODULE_5__.FXAAFilter,
  NoiseFilter: _pixi_filter_noise__WEBPACK_IMPORTED_MODULE_6__.NoiseFilter
};
Object.entries(filters).forEach(([key, FilterClass]) => {
  Object.defineProperty(filters, key, {
    get() {
      _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.deprecation("7.1.0", `filters.${key} has moved to ${key}`);
      return FilterClass;
    }
  });
});


//# sourceMappingURL=filters.mjs.map


/***/ }),

/***/ "./node_modules/pixi.js/lib/index.mjs":
/*!********************************************!*\
  !*** ./node_modules/pixi.js/lib/index.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ALPHA_MODES: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.ALPHA_MODES),
/* harmony export */   AbstractMultiResource: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.AbstractMultiResource),
/* harmony export */   AccessibilityManager: () => (/* reexport safe */ _pixi_accessibility__WEBPACK_IMPORTED_MODULE_4__.AccessibilityManager),
/* harmony export */   AlphaFilter: () => (/* reexport safe */ _pixi_filter_alpha__WEBPACK_IMPORTED_MODULE_12__.AlphaFilter),
/* harmony export */   AnimatedSprite: () => (/* reexport safe */ _pixi_sprite_animated__WEBPACK_IMPORTED_MODULE_24__.AnimatedSprite),
/* harmony export */   Application: () => (/* reexport safe */ _pixi_app__WEBPACK_IMPORTED_MODULE_5__.Application),
/* harmony export */   ArrayResource: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.ArrayResource),
/* harmony export */   Assets: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.Assets),
/* harmony export */   AssetsClass: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.AssetsClass),
/* harmony export */   Attribute: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Attribute),
/* harmony export */   BLEND_MODES: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BLEND_MODES),
/* harmony export */   BUFFER_BITS: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BUFFER_BITS),
/* harmony export */   BUFFER_TYPE: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BUFFER_TYPE),
/* harmony export */   BackgroundSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BackgroundSystem),
/* harmony export */   BaseImageResource: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BaseImageResource),
/* harmony export */   BasePrepare: () => (/* reexport safe */ _pixi_prepare__WEBPACK_IMPORTED_MODULE_22__.BasePrepare),
/* harmony export */   BaseRenderTexture: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BaseRenderTexture),
/* harmony export */   BaseTexture: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BaseTexture),
/* harmony export */   BatchDrawCall: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BatchDrawCall),
/* harmony export */   BatchGeometry: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BatchGeometry),
/* harmony export */   BatchRenderer: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BatchRenderer),
/* harmony export */   BatchShaderGenerator: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BatchShaderGenerator),
/* harmony export */   BatchSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BatchSystem),
/* harmony export */   BatchTextureArray: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BatchTextureArray),
/* harmony export */   BitmapFont: () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_28__.BitmapFont),
/* harmony export */   BitmapFontData: () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_28__.BitmapFontData),
/* harmony export */   BitmapText: () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_28__.BitmapText),
/* harmony export */   BlobResource: () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_7__.BlobResource),
/* harmony export */   BlurFilter: () => (/* reexport safe */ _pixi_filter_blur__WEBPACK_IMPORTED_MODULE_13__.BlurFilter),
/* harmony export */   BlurFilterPass: () => (/* reexport safe */ _pixi_filter_blur__WEBPACK_IMPORTED_MODULE_13__.BlurFilterPass),
/* harmony export */   Bounds: () => (/* reexport safe */ _pixi_display__WEBPACK_IMPORTED_MODULE_9__.Bounds),
/* harmony export */   BrowserAdapter: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BrowserAdapter),
/* harmony export */   Buffer: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Buffer),
/* harmony export */   BufferResource: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BufferResource),
/* harmony export */   BufferSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.BufferSystem),
/* harmony export */   CLEAR_MODES: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.CLEAR_MODES),
/* harmony export */   COLOR_MASK_BITS: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.COLOR_MASK_BITS),
/* harmony export */   Cache: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.Cache),
/* harmony export */   CanvasResource: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.CanvasResource),
/* harmony export */   Circle: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Circle),
/* harmony export */   Color: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Color),
/* harmony export */   ColorMatrixFilter: () => (/* reexport safe */ _pixi_filter_color_matrix__WEBPACK_IMPORTED_MODULE_14__.ColorMatrixFilter),
/* harmony export */   CompressedTextureResource: () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_7__.CompressedTextureResource),
/* harmony export */   Container: () => (/* reexport safe */ _pixi_display__WEBPACK_IMPORTED_MODULE_9__.Container),
/* harmony export */   ContextSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.ContextSystem),
/* harmony export */   CountLimiter: () => (/* reexport safe */ _pixi_prepare__WEBPACK_IMPORTED_MODULE_22__.CountLimiter),
/* harmony export */   CubeResource: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.CubeResource),
/* harmony export */   DEG_TO_RAD: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.DEG_TO_RAD),
/* harmony export */   DRAW_MODES: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.DRAW_MODES),
/* harmony export */   DisplacementFilter: () => (/* reexport safe */ _pixi_filter_displacement__WEBPACK_IMPORTED_MODULE_15__.DisplacementFilter),
/* harmony export */   DisplayObject: () => (/* reexport safe */ _pixi_display__WEBPACK_IMPORTED_MODULE_9__.DisplayObject),
/* harmony export */   ENV: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.ENV),
/* harmony export */   Ellipse: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Ellipse),
/* harmony export */   EventBoundary: () => (/* reexport safe */ _pixi_events__WEBPACK_IMPORTED_MODULE_10__.EventBoundary),
/* harmony export */   EventSystem: () => (/* reexport safe */ _pixi_events__WEBPACK_IMPORTED_MODULE_10__.EventSystem),
/* harmony export */   ExtensionType: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.ExtensionType),
/* harmony export */   Extract: () => (/* reexport safe */ _pixi_extract__WEBPACK_IMPORTED_MODULE_11__.Extract),
/* harmony export */   FORMATS: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.FORMATS),
/* harmony export */   FORMATS_TO_COMPONENTS: () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_7__.FORMATS_TO_COMPONENTS),
/* harmony export */   FXAAFilter: () => (/* reexport safe */ _pixi_filter_fxaa__WEBPACK_IMPORTED_MODULE_16__.FXAAFilter),
/* harmony export */   FederatedDisplayObject: () => (/* reexport safe */ _pixi_events__WEBPACK_IMPORTED_MODULE_10__.FederatedDisplayObject),
/* harmony export */   FederatedEvent: () => (/* reexport safe */ _pixi_events__WEBPACK_IMPORTED_MODULE_10__.FederatedEvent),
/* harmony export */   FederatedMouseEvent: () => (/* reexport safe */ _pixi_events__WEBPACK_IMPORTED_MODULE_10__.FederatedMouseEvent),
/* harmony export */   FederatedPointerEvent: () => (/* reexport safe */ _pixi_events__WEBPACK_IMPORTED_MODULE_10__.FederatedPointerEvent),
/* harmony export */   FederatedWheelEvent: () => (/* reexport safe */ _pixi_events__WEBPACK_IMPORTED_MODULE_10__.FederatedWheelEvent),
/* harmony export */   FillStyle: () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_18__.FillStyle),
/* harmony export */   Filter: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Filter),
/* harmony export */   FilterState: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.FilterState),
/* harmony export */   FilterSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.FilterSystem),
/* harmony export */   Framebuffer: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Framebuffer),
/* harmony export */   FramebufferSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.FramebufferSystem),
/* harmony export */   GC_MODES: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.GC_MODES),
/* harmony export */   GLFramebuffer: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.GLFramebuffer),
/* harmony export */   GLProgram: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.GLProgram),
/* harmony export */   GLTexture: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.GLTexture),
/* harmony export */   GRAPHICS_CURVES: () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_18__.GRAPHICS_CURVES),
/* harmony export */   GenerateTextureSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.GenerateTextureSystem),
/* harmony export */   Geometry: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Geometry),
/* harmony export */   GeometrySystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.GeometrySystem),
/* harmony export */   Graphics: () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_18__.Graphics),
/* harmony export */   GraphicsData: () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_18__.GraphicsData),
/* harmony export */   GraphicsGeometry: () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_18__.GraphicsGeometry),
/* harmony export */   HTMLText: () => (/* reexport safe */ _pixi_text_html__WEBPACK_IMPORTED_MODULE_29__.HTMLText),
/* harmony export */   HTMLTextStyle: () => (/* reexport safe */ _pixi_text_html__WEBPACK_IMPORTED_MODULE_29__.HTMLTextStyle),
/* harmony export */   IGLUniformData: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.IGLUniformData),
/* harmony export */   INSTALLED: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.INSTALLED),
/* harmony export */   INTERNAL_FORMATS: () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_7__.INTERNAL_FORMATS),
/* harmony export */   INTERNAL_FORMAT_TO_BYTES_PER_PIXEL: () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_7__.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL),
/* harmony export */   ImageBitmapResource: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.ImageBitmapResource),
/* harmony export */   ImageResource: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.ImageResource),
/* harmony export */   LINE_CAP: () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_18__.LINE_CAP),
/* harmony export */   LINE_JOIN: () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_18__.LINE_JOIN),
/* harmony export */   LineStyle: () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_18__.LineStyle),
/* harmony export */   LoaderParserPriority: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.LoaderParserPriority),
/* harmony export */   MASK_TYPES: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.MASK_TYPES),
/* harmony export */   MIPMAP_MODES: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.MIPMAP_MODES),
/* harmony export */   MSAA_QUALITY: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.MSAA_QUALITY),
/* harmony export */   MaskData: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.MaskData),
/* harmony export */   MaskSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.MaskSystem),
/* harmony export */   Matrix: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Matrix),
/* harmony export */   Mesh: () => (/* reexport safe */ _pixi_mesh__WEBPACK_IMPORTED_MODULE_19__.Mesh),
/* harmony export */   MeshBatchUvs: () => (/* reexport safe */ _pixi_mesh__WEBPACK_IMPORTED_MODULE_19__.MeshBatchUvs),
/* harmony export */   MeshGeometry: () => (/* reexport safe */ _pixi_mesh__WEBPACK_IMPORTED_MODULE_19__.MeshGeometry),
/* harmony export */   MeshMaterial: () => (/* reexport safe */ _pixi_mesh__WEBPACK_IMPORTED_MODULE_19__.MeshMaterial),
/* harmony export */   MultisampleSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.MultisampleSystem),
/* harmony export */   NineSlicePlane: () => (/* reexport safe */ _pixi_mesh_extras__WEBPACK_IMPORTED_MODULE_20__.NineSlicePlane),
/* harmony export */   NoiseFilter: () => (/* reexport safe */ _pixi_filter_noise__WEBPACK_IMPORTED_MODULE_17__.NoiseFilter),
/* harmony export */   ObjectRenderer: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.ObjectRenderer),
/* harmony export */   ObjectRendererSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.ObjectRendererSystem),
/* harmony export */   ObservablePoint: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.ObservablePoint),
/* harmony export */   PI_2: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.PI_2),
/* harmony export */   PRECISION: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.PRECISION),
/* harmony export */   ParticleContainer: () => (/* reexport safe */ _pixi_particle_container__WEBPACK_IMPORTED_MODULE_21__.ParticleContainer),
/* harmony export */   ParticleRenderer: () => (/* reexport safe */ _pixi_particle_container__WEBPACK_IMPORTED_MODULE_21__.ParticleRenderer),
/* harmony export */   PlaneGeometry: () => (/* reexport safe */ _pixi_mesh_extras__WEBPACK_IMPORTED_MODULE_20__.PlaneGeometry),
/* harmony export */   PluginSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.PluginSystem),
/* harmony export */   Point: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Point),
/* harmony export */   Polygon: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Polygon),
/* harmony export */   Prepare: () => (/* reexport safe */ _pixi_prepare__WEBPACK_IMPORTED_MODULE_22__.Prepare),
/* harmony export */   Program: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Program),
/* harmony export */   ProjectionSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.ProjectionSystem),
/* harmony export */   Quad: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Quad),
/* harmony export */   QuadUv: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.QuadUv),
/* harmony export */   RAD_TO_DEG: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.RAD_TO_DEG),
/* harmony export */   RENDERER_TYPE: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.RENDERER_TYPE),
/* harmony export */   Rectangle: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Rectangle),
/* harmony export */   RenderTexture: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.RenderTexture),
/* harmony export */   RenderTexturePool: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.RenderTexturePool),
/* harmony export */   RenderTextureSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.RenderTextureSystem),
/* harmony export */   Renderer: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Renderer),
/* harmony export */   ResizePlugin: () => (/* reexport safe */ _pixi_app__WEBPACK_IMPORTED_MODULE_5__.ResizePlugin),
/* harmony export */   Resource: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Resource),
/* harmony export */   RopeGeometry: () => (/* reexport safe */ _pixi_mesh_extras__WEBPACK_IMPORTED_MODULE_20__.RopeGeometry),
/* harmony export */   RoundedRectangle: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.RoundedRectangle),
/* harmony export */   Runner: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Runner),
/* harmony export */   SAMPLER_TYPES: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.SAMPLER_TYPES),
/* harmony export */   SCALE_MODES: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.SCALE_MODES),
/* harmony export */   SHAPES: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.SHAPES),
/* harmony export */   SVGResource: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.SVGResource),
/* harmony export */   ScissorSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.ScissorSystem),
/* harmony export */   Shader: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Shader),
/* harmony export */   ShaderSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.ShaderSystem),
/* harmony export */   SimpleMesh: () => (/* reexport safe */ _pixi_mesh_extras__WEBPACK_IMPORTED_MODULE_20__.SimpleMesh),
/* harmony export */   SimplePlane: () => (/* reexport safe */ _pixi_mesh_extras__WEBPACK_IMPORTED_MODULE_20__.SimplePlane),
/* harmony export */   SimpleRope: () => (/* reexport safe */ _pixi_mesh_extras__WEBPACK_IMPORTED_MODULE_20__.SimpleRope),
/* harmony export */   Sprite: () => (/* reexport safe */ _pixi_sprite__WEBPACK_IMPORTED_MODULE_23__.Sprite),
/* harmony export */   SpriteMaskFilter: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.SpriteMaskFilter),
/* harmony export */   Spritesheet: () => (/* reexport safe */ _pixi_spritesheet__WEBPACK_IMPORTED_MODULE_26__.Spritesheet),
/* harmony export */   StartupSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.StartupSystem),
/* harmony export */   State: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.State),
/* harmony export */   StateSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.StateSystem),
/* harmony export */   StencilSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.StencilSystem),
/* harmony export */   SystemManager: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.SystemManager),
/* harmony export */   TARGETS: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.TARGETS),
/* harmony export */   TEXT_GRADIENT: () => (/* reexport safe */ _pixi_text__WEBPACK_IMPORTED_MODULE_27__.TEXT_GRADIENT),
/* harmony export */   TYPES: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.TYPES),
/* harmony export */   TYPES_TO_BYTES_PER_COMPONENT: () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_7__.TYPES_TO_BYTES_PER_COMPONENT),
/* harmony export */   TYPES_TO_BYTES_PER_PIXEL: () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_7__.TYPES_TO_BYTES_PER_PIXEL),
/* harmony export */   TemporaryDisplayObject: () => (/* reexport safe */ _pixi_display__WEBPACK_IMPORTED_MODULE_9__.TemporaryDisplayObject),
/* harmony export */   Text: () => (/* reexport safe */ _pixi_text__WEBPACK_IMPORTED_MODULE_27__.Text),
/* harmony export */   TextFormat: () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_28__.TextFormat),
/* harmony export */   TextMetrics: () => (/* reexport safe */ _pixi_text__WEBPACK_IMPORTED_MODULE_27__.TextMetrics),
/* harmony export */   TextStyle: () => (/* reexport safe */ _pixi_text__WEBPACK_IMPORTED_MODULE_27__.TextStyle),
/* harmony export */   Texture: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Texture),
/* harmony export */   TextureGCSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.TextureGCSystem),
/* harmony export */   TextureMatrix: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.TextureMatrix),
/* harmony export */   TextureSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.TextureSystem),
/* harmony export */   TextureUvs: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.TextureUvs),
/* harmony export */   Ticker: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Ticker),
/* harmony export */   TickerPlugin: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.TickerPlugin),
/* harmony export */   TilingSprite: () => (/* reexport safe */ _pixi_sprite_tiling__WEBPACK_IMPORTED_MODULE_25__.TilingSprite),
/* harmony export */   TilingSpriteRenderer: () => (/* reexport safe */ _pixi_sprite_tiling__WEBPACK_IMPORTED_MODULE_25__.TilingSpriteRenderer),
/* harmony export */   TimeLimiter: () => (/* reexport safe */ _pixi_prepare__WEBPACK_IMPORTED_MODULE_22__.TimeLimiter),
/* harmony export */   Transform: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.Transform),
/* harmony export */   TransformFeedback: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.TransformFeedback),
/* harmony export */   TransformFeedbackSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.TransformFeedbackSystem),
/* harmony export */   UPDATE_PRIORITY: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.UPDATE_PRIORITY),
/* harmony export */   UniformGroup: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.UniformGroup),
/* harmony export */   VERSION: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.VERSION),
/* harmony export */   VideoResource: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.VideoResource),
/* harmony export */   ViewSystem: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.ViewSystem),
/* harmony export */   ViewableBuffer: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.ViewableBuffer),
/* harmony export */   WRAP_MODES: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.WRAP_MODES),
/* harmony export */   XMLFormat: () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_28__.XMLFormat),
/* harmony export */   XMLStringFormat: () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_28__.XMLStringFormat),
/* harmony export */   accessibleTarget: () => (/* reexport safe */ _pixi_accessibility__WEBPACK_IMPORTED_MODULE_4__.accessibleTarget),
/* harmony export */   autoDetectFormat: () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_28__.autoDetectFormat),
/* harmony export */   autoDetectRenderer: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.autoDetectRenderer),
/* harmony export */   autoDetectResource: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.autoDetectResource),
/* harmony export */   cacheTextureArray: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.cacheTextureArray),
/* harmony export */   checkDataUrl: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.checkDataUrl),
/* harmony export */   checkExtension: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.checkExtension),
/* harmony export */   checkMaxIfStatementsInShader: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.checkMaxIfStatementsInShader),
/* harmony export */   convertToList: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.convertToList),
/* harmony export */   copySearchParams: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.copySearchParams),
/* harmony export */   createStringVariations: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.createStringVariations),
/* harmony export */   createTexture: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.createTexture),
/* harmony export */   createUBOElements: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.createUBOElements),
/* harmony export */   curves: () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_18__.curves),
/* harmony export */   defaultFilterVertex: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.defaultFilterVertex),
/* harmony export */   defaultVertex: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.defaultVertex),
/* harmony export */   detectAvif: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.detectAvif),
/* harmony export */   detectCompressedTextures: () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_7__.detectCompressedTextures),
/* harmony export */   detectDefaults: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.detectDefaults),
/* harmony export */   detectWebp: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.detectWebp),
/* harmony export */   extensions: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.extensions),
/* harmony export */   filters: () => (/* reexport safe */ _filters_mjs__WEBPACK_IMPORTED_MODULE_3__.filters),
/* harmony export */   generateProgram: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.generateProgram),
/* harmony export */   generateUniformBufferSync: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.generateUniformBufferSync),
/* harmony export */   getFontFamilyName: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.getFontFamilyName),
/* harmony export */   getTestContext: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.getTestContext),
/* harmony export */   getUBOData: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.getUBOData),
/* harmony export */   graphicsUtils: () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_18__.graphicsUtils),
/* harmony export */   groupD8: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.groupD8),
/* harmony export */   isMobile: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.isMobile),
/* harmony export */   isSingleItem: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.isSingleItem),
/* harmony export */   loadBitmapFont: () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_28__.loadBitmapFont),
/* harmony export */   loadDDS: () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_7__.loadDDS),
/* harmony export */   loadImageBitmap: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.loadImageBitmap),
/* harmony export */   loadJson: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.loadJson),
/* harmony export */   loadKTX: () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_7__.loadKTX),
/* harmony export */   loadSVG: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.loadSVG),
/* harmony export */   loadTextures: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.loadTextures),
/* harmony export */   loadTxt: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.loadTxt),
/* harmony export */   loadWebFont: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.loadWebFont),
/* harmony export */   parseDDS: () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_7__.parseDDS),
/* harmony export */   parseKTX: () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_7__.parseKTX),
/* harmony export */   resolveCompressedTextureUrl: () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_7__.resolveCompressedTextureUrl),
/* harmony export */   resolveTextureUrl: () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_6__.resolveTextureUrl),
/* harmony export */   settings: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.settings),
/* harmony export */   spritesheetAsset: () => (/* reexport safe */ _pixi_spritesheet__WEBPACK_IMPORTED_MODULE_26__.spritesheetAsset),
/* harmony export */   uniformParsers: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.uniformParsers),
/* harmony export */   unsafeEvalSupported: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.unsafeEvalSupported),
/* harmony export */   utils: () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_8__.utils)
/* harmony export */ });
/* harmony import */ var _pixi_mixin_cache_as_bitmap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/mixin-cache-as-bitmap */ "./node_modules/@pixi/mixin-cache-as-bitmap/lib/index.mjs");
/* harmony import */ var _pixi_mixin_get_child_by_name__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/mixin-get-child-by-name */ "./node_modules/@pixi/mixin-get-child-by-name/lib/index.mjs");
/* harmony import */ var _pixi_mixin_get_global_position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/mixin-get-global-position */ "./node_modules/@pixi/mixin-get-global-position/lib/index.mjs");
/* harmony import */ var _filters_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./filters.mjs */ "./node_modules/pixi.js/lib/filters.mjs");
/* harmony import */ var _pixi_accessibility__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @pixi/accessibility */ "./node_modules/@pixi/accessibility/lib/index.mjs");
/* harmony import */ var _pixi_app__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @pixi/app */ "./node_modules/@pixi/app/lib/index.mjs");
/* harmony import */ var _pixi_assets__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @pixi/assets */ "./node_modules/@pixi/assets/lib/index.mjs");
/* harmony import */ var _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @pixi/compressed-textures */ "./node_modules/@pixi/compressed-textures/lib/index.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _pixi_events__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @pixi/events */ "./node_modules/@pixi/events/lib/index.mjs");
/* harmony import */ var _pixi_extract__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @pixi/extract */ "./node_modules/@pixi/extract/lib/index.mjs");
/* harmony import */ var _pixi_filter_alpha__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @pixi/filter-alpha */ "./node_modules/@pixi/filter-alpha/lib/index.mjs");
/* harmony import */ var _pixi_filter_blur__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @pixi/filter-blur */ "./node_modules/@pixi/filter-blur/lib/index.mjs");
/* harmony import */ var _pixi_filter_color_matrix__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @pixi/filter-color-matrix */ "./node_modules/@pixi/filter-color-matrix/lib/index.mjs");
/* harmony import */ var _pixi_filter_displacement__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @pixi/filter-displacement */ "./node_modules/@pixi/filter-displacement/lib/index.mjs");
/* harmony import */ var _pixi_filter_fxaa__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @pixi/filter-fxaa */ "./node_modules/@pixi/filter-fxaa/lib/index.mjs");
/* harmony import */ var _pixi_filter_noise__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @pixi/filter-noise */ "./node_modules/@pixi/filter-noise/lib/index.mjs");
/* harmony import */ var _pixi_graphics__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @pixi/graphics */ "./node_modules/@pixi/graphics/lib/index.mjs");
/* harmony import */ var _pixi_mesh__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @pixi/mesh */ "./node_modules/@pixi/mesh/lib/index.mjs");
/* harmony import */ var _pixi_mesh_extras__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @pixi/mesh-extras */ "./node_modules/@pixi/mesh-extras/lib/index.mjs");
/* harmony import */ var _pixi_particle_container__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @pixi/particle-container */ "./node_modules/@pixi/particle-container/lib/index.mjs");
/* harmony import */ var _pixi_prepare__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @pixi/prepare */ "./node_modules/@pixi/prepare/lib/index.mjs");
/* harmony import */ var _pixi_sprite__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @pixi/sprite */ "./node_modules/@pixi/sprite/lib/index.mjs");
/* harmony import */ var _pixi_sprite_animated__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @pixi/sprite-animated */ "./node_modules/@pixi/sprite-animated/lib/index.mjs");
/* harmony import */ var _pixi_sprite_tiling__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @pixi/sprite-tiling */ "./node_modules/@pixi/sprite-tiling/lib/index.mjs");
/* harmony import */ var _pixi_spritesheet__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @pixi/spritesheet */ "./node_modules/@pixi/spritesheet/lib/index.mjs");
/* harmony import */ var _pixi_text__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @pixi/text */ "./node_modules/@pixi/text/lib/index.mjs");
/* harmony import */ var _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @pixi/text-bitmap */ "./node_modules/@pixi/text-bitmap/lib/index.mjs");
/* harmony import */ var _pixi_text_html__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @pixi/text-html */ "./node_modules/@pixi/text-html/lib/index.mjs");






























//# sourceMappingURL=index.mjs.map


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!**********************!*\
  !*** ./src/snake.ts ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/index.mjs");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};

// makes the code more readable when dealing with snake's movement logic
var Direction;
(function (Direction) {
    Direction[Direction["Up"] = 0] = "Up";
    Direction[Direction["Down"] = 1] = "Down";
    Direction[Direction["Left"] = 2] = "Left";
    Direction[Direction["Right"] = 3] = "Right";
})(Direction || (Direction = {}));
// helper function to get the opposite of the passed in direction
function oppositeDirection(dir) {
    switch (dir) {
        case Direction.Up:
            return Direction.Down;
        case Direction.Down:
            return Direction.Up;
        case Direction.Left:
            return Direction.Right;
        case Direction.Right:
            return Direction.Left;
    }
}
// convenient vector for 2D integer coordinates
var Coord = /** @class */ (function () {
    function Coord(x, y) {
        this.x = x;
        this.y = y;
    }
    return Coord;
}());
// handles everything that happens in the game
var Game = /** @class */ (function () {
    function Game(gridSizeX, gridSizeY) {
        this.gameOver = true;
        this.paused = true;
        this.elapsedTime = 0;
        this.deltaTick = 0;
        // constrain grid dimensions to be at least 4 for fair gameplay and at most 1024 to keep well within reasonable memory requirements
        gridSizeX = Math.min(Math.max(gridSizeX, 4), 1024);
        gridSizeY = Math.min(Math.max(gridSizeY, 4), 1024);
        this.grid = new Grid(gridSizeX, gridSizeY);
        // make sure that the game board fits on the screen
        this.cellPixelSize = Math.min(64, window.innerWidth / gridSizeX, window.innerHeight / gridSizeY);
        this.viewWidth = gridSizeX * this.cellPixelSize;
        this.viewHeight = gridSizeY * this.cellPixelSize;
        this.app = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Application({ width: this.viewWidth, height: this.viewHeight });
        this.snake = new Snake(Math.floor(gridSizeX / 2), Math.floor(gridSizeY / 2));
        var cell = this.snake.tail;
        while (cell != null) {
            this.grid.state[cell.coord.x][cell.coord.y] = true;
            cell = cell.next;
        }
    }
    Game.prototype.createKeyListener = function () {
        var _this = this;
        var listener = function (e) {
            var key = e.key;
            switch (key) {
                case " ":
                    // pauses and unpauses the game
                    _this.paused = !_this.paused;
                    _this.GamePause();
                case "w":
                    _this.snake.setDir(Direction.Up);
                    break;
                case "s":
                    _this.snake.setDir(Direction.Down);
                    break;
                case "a":
                    _this.snake.setDir(Direction.Left);
                    break;
                case "d":
                    _this.snake.setDir(Direction.Right);
                    break;
            }
        };
        document.addEventListener('keydown', listener);
        return listener;
    };
    Game.prototype.GameInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var game, app, gridGraphic, i, gridLine, lineWidth, i, gridLine, lineWidth, snakeGraphic, snakeHead, snakeTail, appleGraphic, apple, snake, paused, chooseDir;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.gameOver = false;
                        game = this;
                        app = this.app;
                        document.body.appendChild(app.view);
                        gridGraphic = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Container();
                        app.stage.addChild(gridGraphic);
                        // draw the grid
                        for (i = 0; i <= this.grid.sizeX; ++i) {
                            gridLine = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics();
                            lineWidth = this.cellPixelSize * 0.1;
                            gridLine.lineStyle({ color: 0x555555, width: lineWidth });
                            gridLine.moveTo(i * ((this.viewWidth - lineWidth) / (this.grid.sizeX)) + (lineWidth * 0.5), this.viewWidth);
                            gridLine.lineTo(i * ((this.viewWidth - lineWidth) / (this.grid.sizeX)) + (lineWidth * 0.5), 0);
                            gridGraphic.addChild(gridLine);
                        }
                        for (i = 0; i <= this.grid.sizeX; ++i) {
                            gridLine = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics();
                            lineWidth = this.cellPixelSize * 0.1;
                            gridLine.lineStyle({ color: 0x555555, width: lineWidth });
                            gridLine.moveTo(this.viewHeight, i * ((this.viewHeight - lineWidth) / (this.grid.sizeY)) + (lineWidth * 0.5));
                            gridLine.lineTo(0, i * ((this.viewHeight - lineWidth) / (this.grid.sizeY)) + (lineWidth * 0.5));
                            gridGraphic.addChild(gridLine);
                        }
                        snakeGraphic = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Container();
                        this.snakeGraphic = snakeGraphic;
                        app.stage.addChild(snakeGraphic);
                        snakeHead = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics();
                        snakeHead.beginFill(0x00ffCC);
                        snakeHead.lineStyle({ color: 0x00CC00, width: this.cellPixelSize * 0.1, alignment: 0 });
                        snakeHead.drawRect(this.snake.head.coord.x * this.cellPixelSize, this.snake.head.coord.y * this.cellPixelSize, this.cellPixelSize, this.cellPixelSize);
                        snakeTail = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics();
                        snakeTail.beginFill(0x00ffCC);
                        snakeTail.lineStyle({ color: 0x00CC00, width: this.cellPixelSize * 0.1, alignment: 0 });
                        snakeTail.drawRect(this.snake.tail.coord.x * this.cellPixelSize, this.snake.tail.coord.y * this.cellPixelSize, this.cellPixelSize, this.cellPixelSize);
                        snakeGraphic.addChild(snakeHead);
                        snakeGraphic.addChild(snakeTail);
                        // create initial apple
                        this.generateApple();
                        appleGraphic = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Container();
                        this.appleGraphic = appleGraphic;
                        app.stage.addChild(appleGraphic);
                        apple = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics();
                        apple.beginFill(0xff0000);
                        apple.lineStyle({ color: 0x550000, width: this.cellPixelSize * 0.1, alignment: 0 });
                        apple.drawRect(this.apple.x * this.cellPixelSize, this.apple.y * this.cellPixelSize, this.cellPixelSize, this.cellPixelSize);
                        appleGraphic.addChild(apple);
                        snake = this.snake;
                        paused = this.paused;
                        chooseDir = function () {
                            return new Promise(function (resolve) {
                                document.addEventListener('keydown', onKeyHandler);
                                function onKeyHandler(e) {
                                    var key = e.key;
                                    var dir = null;
                                    switch (key) {
                                        case "w":
                                            dir = Direction.Up;
                                            break;
                                        case "s":
                                            dir = Direction.Down;
                                            break;
                                        case "a":
                                            dir = Direction.Left;
                                            break;
                                        case "d":
                                            dir = Direction.Right;
                                            break;
                                    }
                                    if (dir != null && dir != oppositeDirection(snake.lastDir)) {
                                        document.removeEventListener('keydown', onKeyHandler);
                                        snake.setDir(dir);
                                        paused = false;
                                        resolve(0);
                                    }
                                }
                            });
                        };
                        return [4 /*yield*/, chooseDir()];
                    case 1:
                        _a.sent();
                        this.createKeyListener();
                        window.requestAnimationFrame((this.GameLoop.bind(this)));
                        return [2 /*return*/];
                }
            });
        });
    };
    Game.prototype.GameLoop = function (timeStamp) {
        this.deltaTick += timeStamp - this.elapsedTime;
        this.elapsedTime = timeStamp;
        var tps = 15;
        var frameTime = 1000 / tps;
        if (this.deltaTick > frameTime) {
            this.deltaTick = this.deltaTick % frameTime;
            var snake = this.snake;
            var grid = this.grid;
            snake.step();
            // set the tail cell to be empty in the grid state
            this.grid.state[this.snake.tail.coord.x][this.snake.tail.coord.y] = false;
            // set gameover to true if snake has collided with itself or has gone out the bounds of the grid
            if (snake.head.coord.x < 0
                || snake.head.coord.x >= grid.sizeX
                || snake.head.coord.y < 0
                || snake.head.coord.y >= grid.sizeY
                || grid.state[snake.head.coord.x][snake.head.coord.y]) {
                this.gameOver = true;
            }
            // if snake has eaten an apple
            else if (snake.head.coord.x == this.apple.x && snake.head.coord.y == this.apple.y) {
                // register the new occupied cell in the grid state
                this.grid.state[this.snake.head.coord.x][this.snake.head.coord.y] = true;
                // set the tail cell to be occupied since the snake has eaten and should not lose its tail
                this.grid.state[this.snake.tail.coord.x][this.snake.tail.coord.y] = false;
                // remove old apple
                this.appleGraphic.removeChildAt(0);
                // create new apple
                this.generateApple();
                // draw new apple
                var apple = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics();
                apple.beginFill(0xff0000);
                apple.lineStyle({ color: 0x550000, width: this.cellPixelSize * 0.1, alignment: 0 });
                apple.drawRect(this.apple.x * this.cellPixelSize, this.apple.y * this.cellPixelSize, this.cellPixelSize, this.cellPixelSize);
                this.appleGraphic.addChild(apple);
                // draw new snake head
                var snakeCell = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics();
                snakeCell.beginFill(0x00ffCC);
                snakeCell.lineStyle({ color: 0x00CC00, width: this.cellPixelSize * 0.1, alignment: 0 });
                snakeCell.drawRect(this.snake.head.coord.x * this.cellPixelSize, this.snake.head.coord.y * this.cellPixelSize, this.cellPixelSize, this.cellPixelSize);
                this.snakeGraphic.addChild(snakeCell);
            }
            else {
                // register the new occupied cell in the grid state
                this.grid.state[this.snake.head.coord.x][this.snake.head.coord.y] = true;
                // delete the tail of the snake
                var tempTail = snake.tail.next;
                delete snake.tail;
                snake.tail = tempTail;
                this.snakeGraphic.removeChildAt(0);
                // create new head of snake
                var snakeCell = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics();
                snakeCell.beginFill(0x00ffCC);
                snakeCell.lineStyle({ color: 0x00CC00, width: this.cellPixelSize * 0.1, alignment: 0 });
                snakeCell.drawRect(this.snake.head.coord.x * this.cellPixelSize, this.snake.head.coord.y * this.cellPixelSize, this.cellPixelSize, this.cellPixelSize);
                this.snakeGraphic.addChild(snakeCell);
            }
        }
        // only call if the game is not paused
        if (!this.paused && !this.gameOver) {
            window.requestAnimationFrame(this.GameLoop.bind(this));
        }
    };
    Game.prototype.GamePause = function () {
        if (!this.paused && !this.gameOver) {
            window.requestAnimationFrame(this.GameLoop.bind(this));
        }
    };
    Game.prototype.generateApple = function () {
        var coord = new Coord(Math.floor(Math.random() * this.grid.sizeX), Math.floor(Math.random() * this.grid.sizeY));
        if (this.grid.state[coord.x][coord.y]) {
            this.generateApple();
        }
        else {
            this.apple = coord;
        }
    };
    return Game;
}());
// grid to store the state of the board (which cells are empty or contain snake)
var Grid = /** @class */ (function () {
    function Grid(sizeX, sizeY) {
        this.sizeX = sizeX;
        this.sizeY = sizeY;
        this.state = new Array(sizeX);
        for (var i = 0; i < this.state.length; ++i) {
            this.state[i] = new Array(sizeY);
            this.state[i].fill(false);
        }
    }
    return Grid;
}());
// an individual cell within the snake's linked list
// the list travels from snake's tail to snake's head (opposite to what one might expect)
var SnakeNode = /** @class */ (function () {
    function SnakeNode(coord, next) {
        this.coord = coord;
        this.next = next;
    }
    return SnakeNode;
}());
// stores relevant information about snake like where its head and tail is and where it's currently travelling
var Snake = /** @class */ (function () {
    function Snake(spawnX, spawnY) {
        this.dir = null;
        this.lastDir = Direction.Right;
        this.head = new SnakeNode(new Coord(spawnX, spawnY), null);
        this.tail = new SnakeNode(new Coord(spawnX - 1, spawnY), this.head);
    }
    // set the direction snake will travel next tick but not allowing it to travel back on itself
    Snake.prototype.setDir = function (dir) {
        if (dir == oppositeDirection(this.lastDir)) {
            return;
        }
        else {
            this.dir = dir;
        }
    };
    // Tell the snake to move one cell
    Snake.prototype.step = function () {
        switch (this.dir) {
            case Direction.Up:
                this.lastDir = Direction.Up;
                this.head.next = new SnakeNode(new Coord(this.head.coord.x, this.head.coord.y - 1), null);
                this.head = this.head.next;
                break;
            case Direction.Down:
                this.lastDir = Direction.Down;
                this.head.next = new SnakeNode(new Coord(this.head.coord.x, this.head.coord.y + 1), null);
                this.head = this.head.next;
                break;
            case Direction.Left:
                this.lastDir = Direction.Left;
                this.head.next = new SnakeNode(new Coord(this.head.coord.x - 1, this.head.coord.y), null);
                this.head = this.head.next;
                break;
            case Direction.Right:
                this.lastDir = Direction.Right;
                this.head.next = new SnakeNode(new Coord(this.head.coord.x + 1, this.head.coord.y), null);
                this.head = this.head.next;
                break;
        }
    };
    return Snake;
}());
var game = new Game(32, 32);
game.GameInit();

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBYTs7QUFFYixtQkFBbUIsbUJBQU8sQ0FBQyw0REFBZTs7QUFFMUMsZUFBZSxtQkFBTyxDQUFDLDZDQUFJOztBQUUzQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDZGE7O0FBRWIsV0FBVyxtQkFBTyxDQUFDLDREQUFlO0FBQ2xDLG1CQUFtQixtQkFBTyxDQUFDLDREQUFlOztBQUUxQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0IsU0FBUyxVQUFVO0FBQ3ZDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsa0JBQWtCO0FBQzlELEVBQUU7QUFDRixDQUFDLG9CQUFvQjtBQUNyQjs7Ozs7Ozs7Ozs7O0FDOUNhOztBQUViO0FBQ0EseUJBQXNCOztBQUV0Qjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSwyRUFBMkU7QUFDM0U7QUFDQTtBQUNBOztBQUVBLDBCQUEwQixjQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLFNBQVM7QUFDakMsTUFBTTtBQUNOLDRCQUE0QixZQUFZO0FBQ3hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwQ0FBMEM7O0FBRTFDO0FBQ0E7O0FBRUEsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMENBQTBDOztBQUUxQzs7QUFFQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBDQUEwQyxTQUFTO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FDNUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLEVBQUU7QUFDdkM7QUFDQSx5REFBeUQ7QUFDekQ7QUFDQTtBQUNBO0FBQ0EsMkdBQTJHLEVBQUU7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLG1CQUFPLENBQUMsNkJBQWdCO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQSxrR0FBa0csZ0NBQWdDO0FBQ2xJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0JBQWtCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsdUdBQXVHO0FBQzdIO0FBQ0Esa0NBQWtDO0FBQ2xDLGtCQUFrQix1REFBdUQ7QUFDekU7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHlCQUF5QjtBQUMvRCxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdCQUFnQjtBQUMvQztBQUNBLDJCQUEyQixpQ0FBaUM7QUFDNUQ7QUFDQSx3QkFBd0IsOEJBQThCO0FBQ3REO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlEQUFpRDtBQUNqRDs7QUFFQSx3QkFBd0I7QUFDeEIsdUJBQXVCO0FBQ3ZCLHlCQUF5QjtBQUN6Qix3QkFBd0I7QUFDeEIseUJBQXlCO0FBQ3pCLHlCQUF5QjtBQUN6QiwwQkFBMEI7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0I7QUFDdEIsbUNBQW1DLE9BQU87QUFDMUMsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLHFDQUFxQztBQUNyQyxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLEdBQUc7QUFDekI7O0FBRUE7QUFDQTtBQUNBLG9DQUFvQyxzQkFBc0I7QUFDMUQ7O0FBRUE7QUFDQSxvQkFBb0IsZUFBZTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0JBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGlCQUFpQjtBQUN6QztBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCLDhCQUE4QixZQUFZO0FBQzFDLHdFQUF3RSxZQUFZO0FBQ3BGO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGlCQUFpQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDbmdCYTs7QUFFYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDdEJhOztBQUViLGdCQUFnQixtQkFBTyxDQUFDLHVEQUFhO0FBQ3JDLFlBQVksbUJBQU8sQ0FBQywrQ0FBUztBQUM3QixjQUFjLG1CQUFPLENBQUMsbURBQVc7O0FBRWpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ1ZhOztBQUViLFlBQVksbUJBQU8sQ0FBQywrQ0FBUzs7QUFFN0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLCtCQUErQjs7QUFFeEU7QUFDQSx3Q0FBd0M7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLGtCQUFrQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsbUNBQW1DLFFBQVE7QUFDM0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7QUN0UWE7O0FBRWIscUJBQXFCLG1CQUFPLENBQUMsMERBQWM7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLCtDQUFTO0FBQzdCLGNBQWMsbUJBQU8sQ0FBQyxtREFBVztBQUNqQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msd0JBQXdCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixnRUFBZ0U7QUFDckYsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0Isb0JBQW9CO0FBQ3hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNyVWE7O0FBRWIsY0FBYyxtQkFBTyxDQUFDLG1EQUFXOztBQUVqQztBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0IsU0FBUztBQUM3QjtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDRCQUE0QixnQkFBZ0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxFQUFFO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQSxrREFBa0QsRUFBRTtBQUNwRDtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLE9BQU8sVUFBVSxhQUFhO0FBQ2pEOztBQUVBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHFCQUFxQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0JBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQzNQYTs7QUFFYixtQkFBbUIsbUJBQU8sQ0FBQyw0REFBZTtBQUMxQyxnQkFBZ0IsbUJBQU8sQ0FBQyxrRUFBcUI7QUFDN0MsY0FBYyxtQkFBTyxDQUFDLDhEQUFnQjs7QUFFdEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDLDZCQUE2Qiw2QkFBNkI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQzNIQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxtQkFBbUIsS0FBMEI7QUFDN0M7QUFDQSxrQkFBa0IsS0FBeUI7QUFDM0M7QUFDQSx5QkFBeUIscUJBQU0sZ0JBQWdCLHFCQUFNO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CLFlBQVksVUFBVTtBQUN0QjtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsWUFBWSxVQUFVO0FBQ3RCO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBLE1BQU07QUFDTiw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLG1DQUFtQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWMsV0FBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUI7O0FBRXpCLDBDQUEwQyxxQkFBcUI7O0FBRS9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsb0JBQW9COztBQUV2RDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLGlCQUFpQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGVBQWUsaUJBQWlCO0FBQ2hDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCLG9CQUFvQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxJQUVVO0FBQ1o7QUFDQSxFQUFFLG1DQUFtQjtBQUNyQjtBQUNBLEdBQUc7QUFBQSxrR0FBQztBQUNKLEdBQUcsS0FBSyxFQWFOOztBQUVGLENBQUM7Ozs7Ozs7Ozs7OztBQ3BoQkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsZUFBZSxtQkFBTyxDQUFDLHNFQUFVOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLEtBQUs7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxLQUFLO0FBQzlDLHdDQUF3QyxLQUFLO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxnQkFBZ0IsbUJBQU8sQ0FBQywwQ0FBSTs7QUFFNUI7QUFDQSw4REFBOEQ7O0FBRTlEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3hDMEM7QUFDK0U7QUFDekg7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNGb0Y7QUFDcEQ7QUFDdUQ7O0FBRXZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxtQkFBbUI7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0NB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QVMsb0RBQU87QUFDaEIsU0FBUyxvREFBTztBQUNoQixTQUFTLG9EQUFPO0FBQ2hCLFNBQVMsb0RBQU87QUFDaEIsU0FBUyxvREFBTztBQUNoQixTQUFTLG9EQUFPO0FBQ2hCLFNBQVMsb0RBQU87QUFDaEIsT0FBTztBQUNQLE9BQU8sa0RBQUs7QUFDWixTQUFTLG9EQUFPO0FBQ2hCLFNBQVMsb0RBQU87QUFDaEIsU0FBUyxvREFBTztBQUNoQixTQUFTLG9EQUFPO0FBQ2hCLFNBQVMsb0RBQU87QUFDaEIsU0FBUyxvREFBTztBQUNoQixTQUFTLG9EQUFPO0FBQ2hCLFNBQVMsb0RBQU87QUFDaEIsT0FBTztBQUNQLE9BQU8sa0RBQUs7QUFDWixTQUFTLG9EQUFPO0FBQ2hCLFNBQVMsb0RBQU87QUFDaEIsU0FBUyxvREFBTztBQUNoQixTQUFTLG9EQUFPO0FBQ2hCLFNBQVMsb0RBQU87QUFDaEIsT0FBTztBQUNQLE9BQU8sa0RBQUs7QUFDWixTQUFTLG9EQUFPO0FBQ2hCLFNBQVMsb0RBQU87QUFDaEIsU0FBUyxvREFBTztBQUNoQixTQUFTLG9EQUFPO0FBQ2hCLE9BQU87QUFDUCxPQUFPLGtEQUFLO0FBQ1osU0FBUyxvREFBTztBQUNoQixTQUFTLG9EQUFPO0FBQ2hCLFNBQVMsb0RBQU87QUFDaEIsU0FBUyxvREFBTztBQUNoQixTQUFTLG9EQUFPO0FBQ2hCLE9BQU87QUFDUCxPQUFPLGtEQUFLO0FBQ1osU0FBUyxvREFBTztBQUNoQixTQUFTLG9EQUFPO0FBQ2hCLFNBQVMsb0RBQU87QUFDaEIsU0FBUyxvREFBTztBQUNoQixPQUFPO0FBQ1AsT0FBTyxrREFBSztBQUNaLFNBQVMsb0RBQU87QUFDaEIsU0FBUyxvREFBTztBQUNoQixTQUFTLG9EQUFPO0FBQ2hCLFNBQVMsb0RBQU87QUFDaEIsU0FBUyxvREFBTztBQUNoQixPQUFPO0FBQ1AsT0FBTyxrREFBSztBQUNaLFNBQVMsb0RBQU87QUFDaEIsU0FBUyxvREFBTztBQUNoQixTQUFTLG9EQUFPO0FBQ2hCLFNBQVMsb0RBQU87QUFDaEIsT0FBTztB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O0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxrREFBVTtBQUMvQztBQUNBO0FBQ0Esc0NBQXNDLGtEQUFVO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QTBCLDZFQUFxQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZFQUFxQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZFQUFxQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw2RUFBcUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZFQUFxQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFD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QTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxRQUFRO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNkNBQUs7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU2QjtBQUM3Qjs7Ozs7Ozs7Ozs7Ozs7OztBQzNtQkEsMkNBQTJDLDZCQUE2QixzQkFBc0IsdUJBQXVCLHNCQUFzQixrREFBa0QsNEJBQTRCLDJCQUEyQixpQkFBaUIsT0FBTyx3R0FBd0cscUJB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QTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNkNBQUs7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNkNBQUs7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw0Q0FBSTtBQUNyQztBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxRQUFRLElBQUksUUFBUSxJQUFJLFFBQVEsSUFBSSxRQUFRLEtBQUssU0FBUyxLQUFL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QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdEQUFRO0FBQ3pCLFFBQVE7QUFDUixpQkFBaUIsZ0RBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV1QjtBQUN2Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbFk0QztBQUNUOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxRQUFRO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFFBQVE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLFFBQVE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNI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QUFHLElBQUksU0FBUyxDQUFDLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQzFGLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQzNCLE1BQU07WUFDVixLQUFLLFNBQVMsQ0FBQyxLQUFLO2dCQUNoQixJQUFJLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUM7Z0JBQy9CLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksU0FBUyxDQUFDLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQzFGLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQzNCLE1BQU07U0FDYjtJQUNMLENBQUM7SUFDTCxZQUFDO0FBQUQsQ0FBQztBQUVELElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUM1QixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9jYWxsLWJpbmQvY2FsbEJvdW5kLmpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL2NhbGwtYmluZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9lYXJjdXQvc3JjL2VhcmN1dC5qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL2Z1bmN0aW9uLWJpbmQvaW1wbGVtZW50YXRpb24uanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvZnVuY3Rpb24tYmluZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9nZXQtaW50cmluc2ljL2luZGV4LmpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL2hhcy1wcm90by9pbmRleC5qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9oYXMtc3ltYm9scy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9oYXMtc3ltYm9scy9zaGFtcy5qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9oYXMvc3JjL2luZGV4LmpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL2lzbW9iaWxlanMvZXNtL2luZGV4LmpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL2lzbW9iaWxlanMvZXNtL2lzTW9iaWxlLmpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL29iamVjdC1pbnNwZWN0L2luZGV4LmpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL3FzL2xpYi9mb3JtYXRzLmpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL3FzL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9xcy9saWIvcGFyc2UuanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvcXMvbGliL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9xcy9saWIvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvc2lkZS1jaGFubmVsL2luZGV4LmpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL3VybC9ub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvdXJsL3VybC5qcyIsIndlYnBhY2s6Ly9zbmFrZS9pZ25vcmVkfEQ6XFxEZXZcXFNuYWtlXFxub2RlX21vZHVsZXNcXG9iamVjdC1pbnNwZWN0fC4vdXRpbC5pbnNwZWN0Iiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2FjY2Vzc2liaWxpdHkvbGliL0FjY2Vzc2liaWxpdHlNYW5hZ2VyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hY2Nlc3NpYmlsaXR5L2xpYi9hY2Nlc3NpYmxlVGFyZ2V0Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hY2Nlc3NpYmlsaXR5L2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXBwL2xpYi9BcHBsaWNhdGlvbi5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXBwL2xpYi9SZXNpemVQbHVnaW4ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2FwcC9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvQXNzZXRFeHRlbnNpb24ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvQXNzZXRzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL0JhY2tncm91bmRMb2FkZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvY2FjaGUvQ2FjaGUubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvY2FjaGUvQ2FjaGVQYXJzZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvY2FjaGUvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvY2FjaGUvcGFyc2Vycy9jYWNoZVRleHR1cmVBcnJheS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9jYWNoZS9wYXJzZXJzL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2RldGVjdGlvbnMvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvZGV0ZWN0aW9ucy9wYXJzZXJzL2RldGVjdEF2aWYubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvZGV0ZWN0aW9ucy9wYXJzZXJzL2RldGVjdERlZmF1bHRzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2RldGVjdGlvbnMvcGFyc2Vycy9kZXRlY3RXZWJwLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2RldGVjdGlvbnMvcGFyc2Vycy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9sb2FkZXIvTG9hZGVyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2xvYWRlci9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9sb2FkZXIvcGFyc2Vycy9Mb2FkZXJQYXJzZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvbG9hZGVyL3BhcnNlcnMvV29ya2VyTWFuYWdlci5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9sb2FkZXIvcGFyc2Vycy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9sb2FkZXIvcGFyc2Vycy9sb2FkSnNvbi5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9sb2FkZXIvcGFyc2Vycy9sb2FkVHh0Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2xvYWRlci9wYXJzZXJzL2xvYWRXZWJGb250Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2xvYWRlci9wYXJzZXJzL3RleHR1cmVzL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2xvYWRlci9wYXJzZXJzL3RleHR1cmVzL2xvYWRTVkcubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvbG9hZGVyL3BhcnNlcnMvdGV4dHVyZXMvbG9hZFRleHR1cmVzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2xvYWRlci9wYXJzZXJzL3RleHR1cmVzL3V0aWxzL2NyZWF0ZVRleHR1cmUubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvbG9hZGVyL3BhcnNlcnMvdGV4dHVyZXMvdXRpbHMvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvbG9hZGVyL3R5cGVzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL3Jlc29sdmVyL1Jlc29sdmVyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL3Jlc29sdmVyL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL3Jlc29sdmVyL3BhcnNlcnMvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvcmVzb2x2ZXIvcGFyc2Vycy9yZXNvbHZlVGV4dHVyZVVybC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9yZXNvbHZlci90eXBlcy5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi91dGlscy9jaGVja0RhdGFVcmwubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvdXRpbHMvY2hlY2tFeHRlbnNpb24ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvdXRpbHMvY29udmVydFRvTGlzdC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi91dGlscy9jb3B5U2VhcmNoUGFyYW1zLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL3V0aWxzL2NyZWF0ZVN0cmluZ1ZhcmlhdGlvbnMubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvdXRpbHMvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvdXRpbHMvaXNTaW5nbGVJdGVtLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb2xvci9saWIvQ29sb3IubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvbG9yL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcy9saWIvY29uc3QubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvbXByZXNzZWQtdGV4dHVyZXMvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzL2xpYi9sb2FkZXJzL2NvbXByZXNzZWRUZXh0dXJlRXh0ZW5zaW9ucy5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcy9saWIvbG9hZGVycy9kZXRlY3RDb21wcmVzc2VkVGV4dHVyZXMubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvbXByZXNzZWQtdGV4dHVyZXMvbGliL2xvYWRlcnMvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvbXByZXNzZWQtdGV4dHVyZXMvbGliL2xvYWRlcnMvbG9hZEREUy5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcy9saWIvbG9hZGVycy9sb2FkS1RYLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzL2xpYi9sb2FkZXJzL3Jlc29sdmVDb21wcmVzc2VkVGV4dHVyZVVybC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcy9saWIvcGFyc2Vycy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcy9saWIvcGFyc2Vycy9wYXJzZUREUy5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcy9saWIvcGFyc2Vycy9wYXJzZUtUWC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcy9saWIvcmVzb3VyY2VzL0Jsb2JSZXNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcy9saWIvcmVzb3VyY2VzL0NvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvbXByZXNzZWQtdGV4dHVyZXMvbGliL3Jlc291cmNlcy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29uc3RhbnRzL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvSVJlbmRlcmVyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9SZW5kZXJlci5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvYXV0b0RldGVjdFJlbmRlcmVyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9iYWNrZ3JvdW5kL0JhY2tncm91bmRTeXN0ZW0ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2JhdGNoL0JhdGNoRHJhd0NhbGwubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2JhdGNoL0JhdGNoR2VvbWV0cnkubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2JhdGNoL0JhdGNoUmVuZGVyZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2JhdGNoL0JhdGNoU2hhZGVyR2VuZXJhdG9yLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9iYXRjaC9CYXRjaFN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvYmF0Y2gvQmF0Y2hUZXh0dXJlQXJyYXkubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2JhdGNoL09iamVjdFJlbmRlcmVyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9iYXRjaC9jYW5VcGxvYWRTYW1lQnVmZmVyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9iYXRjaC9tYXhSZWNvbW1lbmRlZFRleHR1cmVzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9iYXRjaC90ZXh0dXJlLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9iYXRjaC90ZXh0dXJlMi5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvY29udGV4dC9Db250ZXh0U3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9maWx0ZXJzL0ZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvZmlsdGVycy9GaWx0ZXJTdGF0ZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvZmlsdGVycy9GaWx0ZXJTeXN0ZW0ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2ZpbHRlcnMvSUZpbHRlclRhcmdldC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvZmlsdGVycy9kZWZhdWx0RmlsdGVyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9maWx0ZXJzL2RlZmF1bHRGaWx0ZXIyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9maWx0ZXJzL3Nwcml0ZU1hc2svU3ByaXRlTWFza0ZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvZmlsdGVycy9zcHJpdGVNYXNrL3Nwcml0ZU1hc2tGaWx0ZXIyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9maWx0ZXJzL3Nwcml0ZU1hc2svc3ByaXRlTWFza0ZpbHRlcjMubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2ZyYWdtZW50cy9kZWZhdWx0Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9mcmFnbWVudHMvZGVmYXVsdEZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvZnJhZ21lbnRzL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9mcmFtZWJ1ZmZlci9GcmFtZWJ1ZmZlci5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvZnJhbWVidWZmZXIvRnJhbWVidWZmZXJTeXN0ZW0ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2ZyYW1lYnVmZmVyL0dMRnJhbWVidWZmZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2ZyYW1lYnVmZmVyL011bHRpc2FtcGxlU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9nZW9tZXRyeS9BdHRyaWJ1dGUubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2dlb21ldHJ5L0J1ZmZlci5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvZ2VvbWV0cnkvQnVmZmVyU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9nZW9tZXRyeS9HTEJ1ZmZlci5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvZ2VvbWV0cnkvR2VvbWV0cnkubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2dlb21ldHJ5L0dlb21ldHJ5U3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9nZW9tZXRyeS9WaWV3YWJsZUJ1ZmZlci5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvZ2VvbWV0cnkvdXRpbHMvaW50ZXJsZWF2ZVR5cGVkQXJyYXlzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvbWFzay9BYnN0cmFjdE1hc2tTeXN0ZW0ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL21hc2svTWFza0RhdGEubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL21hc2svTWFza1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvbWFzay9TY2lzc29yU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9tYXNrL1N0ZW5jaWxTeXN0ZW0ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3BsdWdpbi9QbHVnaW5TeXN0ZW0ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3Byb2plY3Rpb24vUHJvamVjdGlvblN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvcmVuZGVyVGV4dHVyZS9CYXNlUmVuZGVyVGV4dHVyZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvcmVuZGVyVGV4dHVyZS9HZW5lcmF0ZVRleHR1cmVTeXN0ZW0ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3JlbmRlclRleHR1cmUvUmVuZGVyVGV4dHVyZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlUG9vbC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9yZW5kZXIvT2JqZWN0UmVuZGVyZXJTeXN0ZW0ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NldHRpbmdzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvR0xQcm9ncmFtLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvUHJvZ3JhbS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL1NoYWRlci5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL1NoYWRlclN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL2RlZmF1bHRQcm9ncmFtLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvZGVmYXVsdFByb2dyYW0yLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvdXRpbHMvY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlci5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL3V0aWxzL2NvbXBpbGVTaGFkZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NoYWRlci91dGlscy9kZWZhdWx0VmFsdWUubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NoYWRlci91dGlscy9nZW5lcmF0ZVByb2dyYW0ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NoYWRlci91dGlscy9nZW5lcmF0ZVVuaWZvcm1CdWZmZXJTeW5jLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvdXRpbHMvZ2VuZXJhdGVVbmlmb3Jtc1N5bmMubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NoYWRlci91dGlscy9nZXRBdHRyaWJ1dGVEYXRhLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvdXRpbHMvZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NoYWRlci91dGlscy9nZXRUZXN0Q29udGV4dC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL3V0aWxzL2dldFVuaWZvcm1EYXRhLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvdXRpbHMvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NoYWRlci91dGlscy9sb2dQcm9ncmFtRXJyb3IubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NoYWRlci91dGlscy9tYXBTaXplLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvdXRpbHMvbWFwVHlwZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL3V0aWxzL3NldFByZWNpc2lvbi5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL3V0aWxzL3VuaWZvcm1QYXJzZXJzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvdXRpbHMvdW5zYWZlRXZhbFN1cHBvcnRlZC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc3RhcnR1cC9TdGFydHVwU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zdGF0ZS9TdGF0ZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc3RhdGUvU3RhdGVTeXN0ZW0ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3N0YXRlL3V0aWxzL21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc3lzdGVtL0lTeXN0ZW0ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3N5c3RlbS9TeXN0ZW1NYW5hZ2VyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zeXN0ZW1zLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90ZXh0dXJlcy9CYXNlVGV4dHVyZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvdGV4dHVyZXMvR0xUZXh0dXJlLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90ZXh0dXJlcy9UZXh0dXJlLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90ZXh0dXJlcy9UZXh0dXJlR0NTeXN0ZW0ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL1RleHR1cmVNYXRyaXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL1RleHR1cmVTeXN0ZW0ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL1RleHR1cmVVdnMubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL3Jlc291cmNlcy9BYnN0cmFjdE11bHRpUmVzb3VyY2UubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL3Jlc291cmNlcy9BcnJheVJlc291cmNlLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90ZXh0dXJlcy9yZXNvdXJjZXMvQmFzZUltYWdlUmVzb3VyY2UubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL3Jlc291cmNlcy9CdWZmZXJSZXNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvdGV4dHVyZXMvcmVzb3VyY2VzL0NhbnZhc1Jlc291cmNlLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90ZXh0dXJlcy9yZXNvdXJjZXMvQ3ViZVJlc291cmNlLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90ZXh0dXJlcy9yZXNvdXJjZXMvRGVwdGhSZXNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvdGV4dHVyZXMvcmVzb3VyY2VzL0ltYWdlQml0bWFwUmVzb3VyY2UubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL3Jlc291cmNlcy9JbWFnZVJlc291cmNlLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90ZXh0dXJlcy9yZXNvdXJjZXMvUmVzb3VyY2UubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL3Jlc291cmNlcy9TVkdSZXNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvdGV4dHVyZXMvcmVzb3VyY2VzL1ZpZGVvUmVzb3VyY2UubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL3Jlc291cmNlcy9hdXRvRGV0ZWN0UmVzb3VyY2UubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL3Jlc291cmNlcy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvdGV4dHVyZXMvdXRpbHMvbWFwVHlwZUFuZEZvcm1hdFRvSW50ZXJuYWxGb3JtYXQubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RyYW5zZm9ybUZlZWRiYWNrL1RyYW5zZm9ybUZlZWRiYWNrLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90cmFuc2Zvcm1GZWVkYmFjay9UcmFuc2Zvcm1GZWVkYmFja1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvdXRpbHMvUXVhZC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvdXRpbHMvUXVhZFV2Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi92aWV3L1ZpZXdTeXN0ZW0ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Rpc3BsYXkvbGliL0JvdW5kcy5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZGlzcGxheS9saWIvQ29udGFpbmVyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9kaXNwbGF5L2xpYi9EaXNwbGF5T2JqZWN0Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9kaXNwbGF5L2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZGlzcGxheS9saWIvc2V0dGluZ3MubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2V2ZW50cy9saWIvRXZlbnRCb3VuZGFyeS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZXZlbnRzL2xpYi9FdmVudFN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZXZlbnRzL2xpYi9FdmVudFRpY2tlci5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZXZlbnRzL2xpYi9GZWRlcmF0ZWRFdmVudC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZXZlbnRzL2xpYi9GZWRlcmF0ZWRFdmVudE1hcC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZXZlbnRzL2xpYi9GZWRlcmF0ZWRFdmVudFRhcmdldC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZXZlbnRzL2xpYi9GZWRlcmF0ZWRNb3VzZUV2ZW50Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9ldmVudHMvbGliL0ZlZGVyYXRlZFBvaW50ZXJFdmVudC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZXZlbnRzL2xpYi9GZWRlcmF0ZWRXaGVlbEV2ZW50Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9ldmVudHMvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9leHRlbnNpb25zL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZXh0cmFjdC9saWIvRXh0cmFjdC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZXh0cmFjdC9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1hbHBoYS9saWIvQWxwaGFGaWx0ZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1hbHBoYS9saWIvYWxwaGEubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1hbHBoYS9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ibHVyL2xpYi9CbHVyRmlsdGVyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItYmx1ci9saWIvQmx1ckZpbHRlclBhc3MubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ibHVyL2xpYi9nZW5lcmF0ZUJsdXJGcmFnU291cmNlLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItYmx1ci9saWIvZ2VuZXJhdGVCbHVyVmVydFNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWJsdXIvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItY29sb3ItbWF0cml4L2xpYi9Db2xvck1hdHJpeEZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeC9saWIvY29sb3JNYXRyaXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXgvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50L2xpYi9EaXNwbGFjZW1lbnRGaWx0ZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQvbGliL2Rpc3BsYWNlbWVudC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudC9saWIvZGlzcGxhY2VtZW50Mi5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudC9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1meGFhL2xpYi9GWEFBRmlsdGVyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItZnhhYS9saWIvZnhhYS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWZ4YWEvbGliL2Z4YWEyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItZnhhYS9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ub2lzZS9saWIvTm9pc2VGaWx0ZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ub2lzZS9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ub2lzZS9saWIvbm9pc2UubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2dyYXBoaWNzL2xpYi9HcmFwaGljcy5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZ3JhcGhpY3MvbGliL0dyYXBoaWNzRGF0YS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZ3JhcGhpY3MvbGliL0dyYXBoaWNzR2VvbWV0cnkubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2dyYXBoaWNzL2xpYi9jb25zdC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZ3JhcGhpY3MvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvc3R5bGVzL0ZpbGxTdHlsZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZ3JhcGhpY3MvbGliL3N0eWxlcy9MaW5lU3R5bGUubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2dyYXBoaWNzL2xpYi91dGlscy9BcmNVdGlscy5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZ3JhcGhpY3MvbGliL3V0aWxzL0JhdGNoUGFydC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZ3JhcGhpY3MvbGliL3V0aWxzL0JlemllclV0aWxzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvdXRpbHMvUXVhZHJhdGljVXRpbHMubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2dyYXBoaWNzL2xpYi91dGlscy9idWlsZENpcmNsZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZ3JhcGhpY3MvbGliL3V0aWxzL2J1aWxkTGluZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZ3JhcGhpY3MvbGliL3V0aWxzL2J1aWxkUG9seS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvZ3JhcGhpY3MvbGliL3V0aWxzL2J1aWxkUmVjdGFuZ2xlLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvdXRpbHMvYnVpbGRSb3VuZGVkUmVjdGFuZ2xlLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvdXRpbHMvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21hdGgvbGliL0lQb2ludC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWF0aC9saWIvSVBvaW50RGF0YS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWF0aC9saWIvTWF0cml4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9tYXRoL2xpYi9PYnNlcnZhYmxlUG9pbnQubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21hdGgvbGliL1BvaW50Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9tYXRoL2xpYi9UcmFuc2Zvcm0ubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21hdGgvbGliL2NvbnN0Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9tYXRoL2xpYi9ncm91cEQ4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9tYXRoL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWF0aC9saWIvc2hhcGVzL0NpcmNsZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWF0aC9saWIvc2hhcGVzL0VsbGlwc2UubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21hdGgvbGliL3NoYXBlcy9Qb2x5Z29uLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9tYXRoL2xpYi9zaGFwZXMvUmVjdGFuZ2xlLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9tYXRoL2xpYi9zaGFwZXMvUm91bmRlZFJlY3RhbmdsZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWVzaC1leHRyYXMvbGliL05pbmVTbGljZVBsYW5lLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9tZXNoLWV4dHJhcy9saWIvU2ltcGxlTWVzaC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWVzaC1leHRyYXMvbGliL1NpbXBsZVBsYW5lLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9tZXNoLWV4dHJhcy9saWIvU2ltcGxlUm9wZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWVzaC1leHRyYXMvbGliL2dlb21ldHJ5L1BsYW5lR2VvbWV0cnkubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gtZXh0cmFzL2xpYi9nZW9tZXRyeS9Sb3BlR2VvbWV0cnkubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gtZXh0cmFzL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWVzaC9saWIvTWVzaC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWVzaC9saWIvTWVzaEJhdGNoVXZzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9tZXNoL2xpYi9NZXNoR2VvbWV0cnkubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvbGliL01lc2hNYXRlcmlhbC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWVzaC9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvbGliL3NoYWRlci9tZXNoLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9tZXNoL2xpYi9zaGFkZXIvbWVzaDIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcC9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3BhcnRpY2xlLWNvbnRhaW5lci9saWIvUGFydGljbGVCdWZmZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3BhcnRpY2xlLWNvbnRhaW5lci9saWIvUGFydGljbGVDb250YWluZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3BhcnRpY2xlLWNvbnRhaW5lci9saWIvUGFydGljbGVSZW5kZXJlci5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvcGFydGljbGUtY29udGFpbmVyL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvcGFydGljbGUtY29udGFpbmVyL2xpYi9wYXJ0aWNsZXMubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3BhcnRpY2xlLWNvbnRhaW5lci9saWIvcGFydGljbGVzMi5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvcHJlcGFyZS9saWIvQmFzZVByZXBhcmUubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3ByZXBhcmUvbGliL0NvdW50TGltaXRlci5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvcHJlcGFyZS9saWIvUHJlcGFyZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvcHJlcGFyZS9saWIvVGltZUxpbWl0ZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3ByZXBhcmUvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9wcmVwYXJlL2xpYi9zZXR0aW5ncy5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvcnVubmVyL2xpYi9SdW5uZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3J1bm5lci9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3NldHRpbmdzL2xpYi9JQ2FudmFzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9zZXR0aW5ncy9saWIvSUNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvc2V0dGluZ3MvbGliL2FkYXB0ZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3NldHRpbmdzL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvc2V0dGluZ3MvbGliL3NldHRpbmdzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9zZXR0aW5ncy9saWIvdXRpbHMvaXNNb2JpbGUubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS1hbmltYXRlZC9saWIvQW5pbWF0ZWRTcHJpdGUubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS1hbmltYXRlZC9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS10aWxpbmcvbGliL1RpbGluZ1Nwcml0ZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlLXRpbGluZy9saWIvVGlsaW5nU3ByaXRlUmVuZGVyZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS10aWxpbmcvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUtdGlsaW5nL2xpYi9zcHJpdGUtdGlsaW5nLWZhbGxiYWNrLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUtdGlsaW5nL2xpYi9zcHJpdGUtdGlsaW5nLWZhbGxiYWNrMi5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlLXRpbGluZy9saWIvc3ByaXRlLXRpbGluZy1zaW1wbGUubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS10aWxpbmcvbGliL3Nwcml0ZS10aWxpbmcubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS10aWxpbmcvbGliL3Nwcml0ZS10aWxpbmcyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUvbGliL1Nwcml0ZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlc2hlZXQvbGliL1Nwcml0ZXNoZWV0Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGVzaGVldC9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZXNoZWV0L2xpYi9zcHJpdGVzaGVldEFzc2V0Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvQml0bWFwRm9udC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL0JpdG1hcEZvbnREYXRhLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvQml0bWFwVGV4dC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL0JpdG1hcFRleHRTdHlsZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL2Zvcm1hdHMvVGV4dEZvcm1hdC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL2Zvcm1hdHMvWE1MRm9ybWF0Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvZm9ybWF0cy9YTUxTdHJpbmdGb3JtYXQubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2xpYi9mb3JtYXRzL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2xpYi9sb2FkQml0bWFwRm9udC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL3NoYWRlci9tc2RmLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvc2hhZGVyL21zZGYyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvdXRpbHMvZHJhd0dseXBoLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvdXRpbHMvZXh0cmFjdENoYXJDb2RlLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvdXRpbHMvZ2VuZXJhdGVGaWxsU3R5bGUubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2xpYi91dGlscy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL3V0aWxzL3Jlc29sdmVDaGFyYWN0ZXJzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvdXRpbHMvc3BsaXRUZXh0VG9DaGFyYWN0ZXJzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWh0bWwvbGliL0hUTUxUZXh0Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWh0bWwvbGliL0hUTUxUZXh0U3R5bGUubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtaHRtbC9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQvbGliL1RleHQubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQvbGliL1RleHRNZXRyaWNzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0L2xpYi9UZXh0U3R5bGUubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQvbGliL2NvbnN0Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0L2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGlja2VyL2xpYi9UaWNrZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RpY2tlci9saWIvVGlja2VyTGlzdGVuZXIubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RpY2tlci9saWIvVGlja2VyUGx1Z2luLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90aWNrZXIvbGliL2NvbnN0Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90aWNrZXIvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS90aWNrZXIvbGliL3NldHRpbmdzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvYnJvd3Nlci9oZWxsby5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL2Jyb3dzZXIvaXNXZWJHTFN1cHBvcnRlZC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL2NvbG9yL2hleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL2NvbG9yL3ByZW11bHRpcGx5Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvY29uc3QubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi9kYXRhL2NyZWF0ZUluZGljZXNGb3JRdWFkcy5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL2RhdGEvZ2V0QnVmZmVyVHlwZS5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL2RhdGEvaW50ZXJsZWF2ZVR5cGVkQXJyYXlzLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvZGF0YS9wb3cyLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvZGF0YS9yZW1vdmVJdGVtcy5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL2RhdGEvc2lnbi5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL2RhdGEvdWlkLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi9sb2dnaW5nL2RlcHJlY2F0aW9uLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvbWVkaWEvQm91bmRpbmdCb3gubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi9tZWRpYS9DYW52YXNSZW5kZXJUYXJnZXQubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi9tZWRpYS9jYWNoZXMubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi9tZWRpYS9nZXRDYW52YXNCb3VuZGluZ0JveC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL21lZGlhL3RyaW1DYW52YXMubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi9uZXR3b3JrL2RlY29tcG9zZURhdGFVcmkubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi9uZXR3b3JrL2RldGVybWluZUNyb3NzT3JpZ2luLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvbmV0d29yay9nZXRSZXNvbHV0aW9uT2ZVcmwubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi9wYXRoLm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvc2V0dGluZ3MubWpzIiwid2VicGFjazovL3NuYWtlLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi90eXBlcy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL3VybC5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvY29sb3JkL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9zbmFrZS8uL25vZGVfbW9kdWxlcy9jb2xvcmQvcGx1Z2lucy9uYW1lcy5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy5tanMiLCJ3ZWJwYWNrOi8vc25ha2UvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3NuYWtlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NuYWtlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9zbmFrZS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3NuYWtlL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vc25ha2Uvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9zbmFrZS93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL3NuYWtlLy4vc3JjL3NuYWtlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIEdldEludHJpbnNpYyA9IHJlcXVpcmUoJ2dldC1pbnRyaW5zaWMnKTtcblxudmFyIGNhbGxCaW5kID0gcmVxdWlyZSgnLi8nKTtcblxudmFyICRpbmRleE9mID0gY2FsbEJpbmQoR2V0SW50cmluc2ljKCdTdHJpbmcucHJvdG90eXBlLmluZGV4T2YnKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2FsbEJvdW5kSW50cmluc2ljKG5hbWUsIGFsbG93TWlzc2luZykge1xuXHR2YXIgaW50cmluc2ljID0gR2V0SW50cmluc2ljKG5hbWUsICEhYWxsb3dNaXNzaW5nKTtcblx0aWYgKHR5cGVvZiBpbnRyaW5zaWMgPT09ICdmdW5jdGlvbicgJiYgJGluZGV4T2YobmFtZSwgJy5wcm90b3R5cGUuJykgPiAtMSkge1xuXHRcdHJldHVybiBjYWxsQmluZChpbnRyaW5zaWMpO1xuXHR9XG5cdHJldHVybiBpbnRyaW5zaWM7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcbnZhciBHZXRJbnRyaW5zaWMgPSByZXF1aXJlKCdnZXQtaW50cmluc2ljJyk7XG5cbnZhciAkYXBwbHkgPSBHZXRJbnRyaW5zaWMoJyVGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHklJyk7XG52YXIgJGNhbGwgPSBHZXRJbnRyaW5zaWMoJyVGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCUnKTtcbnZhciAkcmVmbGVjdEFwcGx5ID0gR2V0SW50cmluc2ljKCclUmVmbGVjdC5hcHBseSUnLCB0cnVlKSB8fCBiaW5kLmNhbGwoJGNhbGwsICRhcHBseSk7XG5cbnZhciAkZ09QRCA9IEdldEludHJpbnNpYygnJU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IlJywgdHJ1ZSk7XG52YXIgJGRlZmluZVByb3BlcnR5ID0gR2V0SW50cmluc2ljKCclT2JqZWN0LmRlZmluZVByb3BlcnR5JScsIHRydWUpO1xudmFyICRtYXggPSBHZXRJbnRyaW5zaWMoJyVNYXRoLm1heCUnKTtcblxuaWYgKCRkZWZpbmVQcm9wZXJ0eSkge1xuXHR0cnkge1xuXHRcdCRkZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IHZhbHVlOiAxIH0pO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gSUUgOCBoYXMgYSBicm9rZW4gZGVmaW5lUHJvcGVydHlcblx0XHQkZGVmaW5lUHJvcGVydHkgPSBudWxsO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2FsbEJpbmQob3JpZ2luYWxGdW5jdGlvbikge1xuXHR2YXIgZnVuYyA9ICRyZWZsZWN0QXBwbHkoYmluZCwgJGNhbGwsIGFyZ3VtZW50cyk7XG5cdGlmICgkZ09QRCAmJiAkZGVmaW5lUHJvcGVydHkpIHtcblx0XHR2YXIgZGVzYyA9ICRnT1BEKGZ1bmMsICdsZW5ndGgnKTtcblx0XHRpZiAoZGVzYy5jb25maWd1cmFibGUpIHtcblx0XHRcdC8vIG9yaWdpbmFsIGxlbmd0aCwgcGx1cyB0aGUgcmVjZWl2ZXIsIG1pbnVzIGFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyAoYWZ0ZXIgdGhlIHJlY2VpdmVyKVxuXHRcdFx0JGRlZmluZVByb3BlcnR5KFxuXHRcdFx0XHRmdW5jLFxuXHRcdFx0XHQnbGVuZ3RoJyxcblx0XHRcdFx0eyB2YWx1ZTogMSArICRtYXgoMCwgb3JpZ2luYWxGdW5jdGlvbi5sZW5ndGggLSAoYXJndW1lbnRzLmxlbmd0aCAtIDEpKSB9XG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZnVuYztcbn07XG5cbnZhciBhcHBseUJpbmQgPSBmdW5jdGlvbiBhcHBseUJpbmQoKSB7XG5cdHJldHVybiAkcmVmbGVjdEFwcGx5KGJpbmQsICRhcHBseSwgYXJndW1lbnRzKTtcbn07XG5cbmlmICgkZGVmaW5lUHJvcGVydHkpIHtcblx0JGRlZmluZVByb3BlcnR5KG1vZHVsZS5leHBvcnRzLCAnYXBwbHknLCB7IHZhbHVlOiBhcHBseUJpbmQgfSk7XG59IGVsc2Uge1xuXHRtb2R1bGUuZXhwb3J0cy5hcHBseSA9IGFwcGx5QmluZDtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBlYXJjdXQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZWFyY3V0O1xuXG5mdW5jdGlvbiBlYXJjdXQoZGF0YSwgaG9sZUluZGljZXMsIGRpbSkge1xuXG4gICAgZGltID0gZGltIHx8IDI7XG5cbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGgsXG4gICAgICAgIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoLFxuICAgICAgICBvdXRlck5vZGUgPSBsaW5rZWRMaXN0KGRhdGEsIDAsIG91dGVyTGVuLCBkaW0sIHRydWUpLFxuICAgICAgICB0cmlhbmdsZXMgPSBbXTtcblxuICAgIGlmICghb3V0ZXJOb2RlIHx8IG91dGVyTm9kZS5uZXh0ID09PSBvdXRlck5vZGUucHJldikgcmV0dXJuIHRyaWFuZ2xlcztcblxuICAgIHZhciBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB4LCB5LCBpbnZTaXplO1xuXG4gICAgaWYgKGhhc0hvbGVzKSBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pO1xuXG4gICAgLy8gaWYgdGhlIHNoYXBlIGlzIG5vdCB0b28gc2ltcGxlLCB3ZSdsbCB1c2Ugei1vcmRlciBjdXJ2ZSBoYXNoIGxhdGVyOyBjYWxjdWxhdGUgcG9seWdvbiBiYm94XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gODAgKiBkaW0pIHtcbiAgICAgICAgbWluWCA9IG1heFggPSBkYXRhWzBdO1xuICAgICAgICBtaW5ZID0gbWF4WSA9IGRhdGFbMV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpbTsgaSA8IG91dGVyTGVuOyBpICs9IGRpbSkge1xuICAgICAgICAgICAgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB5ID0gZGF0YVtpICsgMV07XG4gICAgICAgICAgICBpZiAoeCA8IG1pblgpIG1pblggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKSBtaW5ZID0geTtcbiAgICAgICAgICAgIGlmICh4ID4gbWF4WCkgbWF4WCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA+IG1heFkpIG1heFkgPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWluWCwgbWluWSBhbmQgaW52U2l6ZSBhcmUgbGF0ZXIgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRzIGludG8gaW50ZWdlcnMgZm9yIHotb3JkZXIgY2FsY3VsYXRpb25cbiAgICAgICAgaW52U2l6ZSA9IE1hdGgubWF4KG1heFggLSBtaW5YLCBtYXhZIC0gbWluWSk7XG4gICAgICAgIGludlNpemUgPSBpbnZTaXplICE9PSAwID8gMzI3NjcgLyBpbnZTaXplIDogMDtcbiAgICB9XG5cbiAgICBlYXJjdXRMaW5rZWQob3V0ZXJOb2RlLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMCk7XG5cbiAgICByZXR1cm4gdHJpYW5nbGVzO1xufVxuXG4vLyBjcmVhdGUgYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QgZnJvbSBwb2x5Z29uIHBvaW50cyBpbiB0aGUgc3BlY2lmaWVkIHdpbmRpbmcgb3JkZXJcbmZ1bmN0aW9uIGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBjbG9ja3dpc2UpIHtcbiAgICB2YXIgaSwgbGFzdDtcblxuICAgIGlmIChjbG9ja3dpc2UgPT09IChzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkgPiAwKSkge1xuICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgPSBlbmQgLSBkaW07IGkgPj0gc3RhcnQ7IGkgLT0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfVxuXG4gICAgaWYgKGxhc3QgJiYgZXF1YWxzKGxhc3QsIGxhc3QubmV4dCkpIHtcbiAgICAgICAgcmVtb3ZlTm9kZShsYXN0KTtcbiAgICAgICAgbGFzdCA9IGxhc3QubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbGFzdDtcbn1cblxuLy8gZWxpbWluYXRlIGNvbGluZWFyIG9yIGR1cGxpY2F0ZSBwb2ludHNcbmZ1bmN0aW9uIGZpbHRlclBvaW50cyhzdGFydCwgZW5kKSB7XG4gICAgaWYgKCFzdGFydCkgcmV0dXJuIHN0YXJ0O1xuICAgIGlmICghZW5kKSBlbmQgPSBzdGFydDtcblxuICAgIHZhciBwID0gc3RhcnQsXG4gICAgICAgIGFnYWluO1xuICAgIGRvIHtcbiAgICAgICAgYWdhaW4gPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXAuc3RlaW5lciAmJiAoZXF1YWxzKHAsIHAubmV4dCkgfHwgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPT09IDApKSB7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcCA9IGVuZCA9IHAucHJldjtcbiAgICAgICAgICAgIGlmIChwID09PSBwLm5leHQpIGJyZWFrO1xuICAgICAgICAgICAgYWdhaW4gPSB0cnVlO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwID0gcC5uZXh0O1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAoYWdhaW4gfHwgcCAhPT0gZW5kKTtcblxuICAgIHJldHVybiBlbmQ7XG59XG5cbi8vIG1haW4gZWFyIHNsaWNpbmcgbG9vcCB3aGljaCB0cmlhbmd1bGF0ZXMgYSBwb2x5Z29uIChnaXZlbiBhcyBhIGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIHBhc3MpIHtcbiAgICBpZiAoIWVhcikgcmV0dXJuO1xuXG4gICAgLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxuICAgIGlmICghcGFzcyAmJiBpbnZTaXplKSBpbmRleEN1cnZlKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgc3RvcCA9IGVhcixcbiAgICAgICAgcHJldiwgbmV4dDtcblxuICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBlYXJzLCBzbGljaW5nIHRoZW0gb25lIGJ5IG9uZVxuICAgIHdoaWxlIChlYXIucHJldiAhPT0gZWFyLm5leHQpIHtcbiAgICAgICAgcHJldiA9IGVhci5wcmV2O1xuICAgICAgICBuZXh0ID0gZWFyLm5leHQ7XG5cbiAgICAgICAgaWYgKGludlNpemUgPyBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIDogaXNFYXIoZWFyKSkge1xuICAgICAgICAgICAgLy8gY3V0IG9mZiB0aGUgdHJpYW5nbGVcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHByZXYuaSAvIGRpbSB8IDApO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goZWFyLmkgLyBkaW0gfCAwKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKG5leHQuaSAvIGRpbSB8IDApO1xuXG4gICAgICAgICAgICByZW1vdmVOb2RlKGVhcik7XG5cbiAgICAgICAgICAgIC8vIHNraXBwaW5nIHRoZSBuZXh0IHZlcnRleCBsZWFkcyB0byBsZXNzIHNsaXZlciB0cmlhbmdsZXNcbiAgICAgICAgICAgIGVhciA9IG5leHQubmV4dDtcbiAgICAgICAgICAgIHN0b3AgPSBuZXh0Lm5leHQ7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZWFyID0gbmV4dDtcblxuICAgICAgICAvLyBpZiB3ZSBsb29wZWQgdGhyb3VnaCB0aGUgd2hvbGUgcmVtYWluaW5nIHBvbHlnb24gYW5kIGNhbid0IGZpbmQgYW55IG1vcmUgZWFyc1xuICAgICAgICBpZiAoZWFyID09PSBzdG9wKSB7XG4gICAgICAgICAgICAvLyB0cnkgZmlsdGVyaW5nIHBvaW50cyBhbmQgc2xpY2luZyBhZ2FpblxuICAgICAgICAgICAgaWYgKCFwYXNzKSB7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGZpbHRlclBvaW50cyhlYXIpLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMSk7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZGlkbid0IHdvcmssIHRyeSBjdXJpbmcgYWxsIHNtYWxsIHNlbGYtaW50ZXJzZWN0aW9ucyBsb2NhbGx5XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBlYXIgPSBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKGZpbHRlclBvaW50cyhlYXIpLCB0cmlhbmdsZXMsIGRpbSk7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDIpO1xuXG4gICAgICAgICAgICAvLyBhcyBhIGxhc3QgcmVzb3J0LCB0cnkgc3BsaXR0aW5nIHRoZSByZW1haW5pbmcgcG9seWdvbiBpbnRvIHR3b1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAyKSB7XG4gICAgICAgICAgICAgICAgc3BsaXRFYXJjdXQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBjaGVjayB3aGV0aGVyIGEgcG9seWdvbiBub2RlIGZvcm1zIGEgdmFsaWQgZWFyIHdpdGggYWRqYWNlbnQgbm9kZXNcbmZ1bmN0aW9uIGlzRWFyKGVhcikge1xuICAgIHZhciBhID0gZWFyLnByZXYsXG4gICAgICAgIGIgPSBlYXIsXG4gICAgICAgIGMgPSBlYXIubmV4dDtcblxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcblxuICAgIC8vIG5vdyBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSBvdGhlciBwb2ludHMgaW5zaWRlIHRoZSBwb3RlbnRpYWwgZWFyXG4gICAgdmFyIGF4ID0gYS54LCBieCA9IGIueCwgY3ggPSBjLngsIGF5ID0gYS55LCBieSA9IGIueSwgY3kgPSBjLnk7XG5cbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxuICAgIHZhciB4MCA9IGF4IDwgYnggPyAoYXggPCBjeCA/IGF4IDogY3gpIDogKGJ4IDwgY3ggPyBieCA6IGN4KSxcbiAgICAgICAgeTAgPSBheSA8IGJ5ID8gKGF5IDwgY3kgPyBheSA6IGN5KSA6IChieSA8IGN5ID8gYnkgOiBjeSksXG4gICAgICAgIHgxID0gYXggPiBieCA/IChheCA+IGN4ID8gYXggOiBjeCkgOiAoYnggPiBjeCA/IGJ4IDogY3gpLFxuICAgICAgICB5MSA9IGF5ID4gYnkgPyAoYXkgPiBjeSA/IGF5IDogY3kpIDogKGJ5ID4gY3kgPyBieSA6IGN5KTtcblxuICAgIHZhciBwID0gYy5uZXh0O1xuICAgIHdoaWxlIChwICE9PSBhKSB7XG4gICAgICAgIGlmIChwLnggPj0geDAgJiYgcC54IDw9IHgxICYmIHAueSA+PSB5MCAmJiBwLnkgPD0geTEgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgdmFyIGF4ID0gYS54LCBieCA9IGIueCwgY3ggPSBjLngsIGF5ID0gYS55LCBieSA9IGIueSwgY3kgPSBjLnk7XG5cbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxuICAgIHZhciB4MCA9IGF4IDwgYnggPyAoYXggPCBjeCA/IGF4IDogY3gpIDogKGJ4IDwgY3ggPyBieCA6IGN4KSxcbiAgICAgICAgeTAgPSBheSA8IGJ5ID8gKGF5IDwgY3kgPyBheSA6IGN5KSA6IChieSA8IGN5ID8gYnkgOiBjeSksXG4gICAgICAgIHgxID0gYXggPiBieCA/IChheCA+IGN4ID8gYXggOiBjeCkgOiAoYnggPiBjeCA/IGJ4IDogY3gpLFxuICAgICAgICB5MSA9IGF5ID4gYnkgPyAoYXkgPiBjeSA/IGF5IDogY3kpIDogKGJ5ID4gY3kgPyBieSA6IGN5KTtcblxuICAgIC8vIHotb3JkZXIgcmFuZ2UgZm9yIHRoZSBjdXJyZW50IHRyaWFuZ2xlIGJib3g7XG4gICAgdmFyIG1pblogPSB6T3JkZXIoeDAsIHkwLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSxcbiAgICAgICAgbWF4WiA9IHpPcmRlcih4MSwgeTEsIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHAgPSBlYXIucHJldlosXG4gICAgICAgIG4gPSBlYXIubmV4dFo7XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBpbiBib3RoIGRpcmVjdGlvbnNcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWiAmJiBuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChwLnggPj0geDAgJiYgcC54IDw9IHgxICYmIHAueSA+PSB5MCAmJiBwLnkgPD0geTEgJiYgcCAhPT0gYSAmJiBwICE9PSBjICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcC54LCBwLnkpICYmIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG5cbiAgICAgICAgaWYgKG4ueCA+PSB4MCAmJiBuLnggPD0geDEgJiYgbi55ID49IHkwICYmIG4ueSA8PSB5MSAmJiBuICE9PSBhICYmIG4gIT09IGMgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBuLngsIG4ueSkgJiYgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aKSB7XG4gICAgICAgIGlmIChwLnggPj0geDAgJiYgcC54IDw9IHgxICYmIHAueSA+PSB5MCAmJiBwLnkgPD0geTEgJiYgcCAhPT0gYSAmJiBwICE9PSBjICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcC54LCBwLnkpICYmIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG4gICAgfVxuXG4gICAgLy8gbG9vayBmb3IgcmVtYWluaW5nIHBvaW50cyBpbiBpbmNyZWFzaW5nIHotb3JkZXJcbiAgICB3aGlsZSAobiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAobi54ID49IHgwICYmIG4ueCA8PSB4MSAmJiBuLnkgPj0geTAgJiYgbi55IDw9IHkxICYmIG4gIT09IGEgJiYgbiAhPT0gYyAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIG4ueCwgbi55KSAmJiBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vLyBnbyB0aHJvdWdoIGFsbCBwb2x5Z29uIG5vZGVzIGFuZCBjdXJlIHNtYWxsIGxvY2FsIHNlbGYtaW50ZXJzZWN0aW9uc1xuZnVuY3Rpb24gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhzdGFydCwgdHJpYW5nbGVzLCBkaW0pIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGEgPSBwLnByZXYsXG4gICAgICAgICAgICBiID0gcC5uZXh0Lm5leHQ7XG5cbiAgICAgICAgaWYgKCFlcXVhbHMoYSwgYikgJiYgaW50ZXJzZWN0cyhhLCBwLCBwLm5leHQsIGIpICYmIGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSkge1xuXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChhLmkgLyBkaW0gfCAwKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHAuaSAvIGRpbSB8IDApO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYi5pIC8gZGltIHwgMCk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0d28gbm9kZXMgaW52b2x2ZWRcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHAubmV4dCk7XG5cbiAgICAgICAgICAgIHAgPSBzdGFydCA9IGI7XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gZmlsdGVyUG9pbnRzKHApO1xufVxuXG4vLyB0cnkgc3BsaXR0aW5nIHBvbHlnb24gaW50byB0d28gYW5kIHRyaWFuZ3VsYXRlIHRoZW0gaW5kZXBlbmRlbnRseVxuZnVuY3Rpb24gc3BsaXRFYXJjdXQoc3RhcnQsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d29cbiAgICB2YXIgYSA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGIgPSBhLm5leHQubmV4dDtcbiAgICAgICAgd2hpbGUgKGIgIT09IGEucHJldikge1xuICAgICAgICAgICAgaWYgKGEuaSAhPT0gYi5pICYmIGlzVmFsaWREaWFnb25hbChhLCBiKSkge1xuICAgICAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHNwbGl0UG9seWdvbihhLCBiKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBjb2xpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgICAgICAgICAgICAgYSA9IGZpbHRlclBvaW50cyhhLCBhLm5leHQpO1xuICAgICAgICAgICAgICAgIGMgPSBmaWx0ZXJQb2ludHMoYywgYy5uZXh0KTtcblxuICAgICAgICAgICAgICAgIC8vIHJ1biBlYXJjdXQgb24gZWFjaCBoYWxmXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGEsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAwKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYywgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGIgPSBiLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IGEubmV4dDtcbiAgICB9IHdoaWxlIChhICE9PSBzdGFydCk7XG59XG5cbi8vIGxpbmsgZXZlcnkgaG9sZSBpbnRvIHRoZSBvdXRlciBsb29wLCBwcm9kdWNpbmcgYSBzaW5nbGUtcmluZyBwb2x5Z29uIHdpdGhvdXQgaG9sZXNcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSkge1xuICAgIHZhciBxdWV1ZSA9IFtdLFxuICAgICAgICBpLCBsZW4sIHN0YXJ0LCBlbmQsIGxpc3Q7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICBsaXN0ID0gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGZhbHNlKTtcbiAgICAgICAgaWYgKGxpc3QgPT09IGxpc3QubmV4dCkgbGlzdC5zdGVpbmVyID0gdHJ1ZTtcbiAgICAgICAgcXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7XG4gICAgfVxuXG4gICAgcXVldWUuc29ydChjb21wYXJlWCk7XG5cbiAgICAvLyBwcm9jZXNzIGhvbGVzIGZyb20gbGVmdCB0byByaWdodFxuICAgIGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlKHF1ZXVlW2ldLCBvdXRlck5vZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRlck5vZGU7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVYKGEsIGIpIHtcbiAgICByZXR1cm4gYS54IC0gYi54O1xufVxuXG4vLyBmaW5kIGEgYnJpZGdlIGJldHdlZW4gdmVydGljZXMgdGhhdCBjb25uZWN0cyBob2xlIHdpdGggYW4gb3V0ZXIgcmluZyBhbmQgYW5kIGxpbmsgaXRcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGUoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgdmFyIGJyaWRnZSA9IGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSk7XG4gICAgaWYgKCFicmlkZ2UpIHtcbiAgICAgICAgcmV0dXJuIG91dGVyTm9kZTtcbiAgICB9XG5cbiAgICB2YXIgYnJpZGdlUmV2ZXJzZSA9IHNwbGl0UG9seWdvbihicmlkZ2UsIGhvbGUpO1xuXG4gICAgLy8gZmlsdGVyIGNvbGxpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgZmlsdGVyUG9pbnRzKGJyaWRnZVJldmVyc2UsIGJyaWRnZVJldmVyc2UubmV4dCk7XG4gICAgcmV0dXJuIGZpbHRlclBvaW50cyhicmlkZ2UsIGJyaWRnZS5uZXh0KTtcbn1cblxuLy8gRGF2aWQgRWJlcmx5J3MgYWxnb3JpdGhtIGZvciBmaW5kaW5nIGEgYnJpZGdlIGJldHdlZW4gaG9sZSBhbmQgb3V0ZXIgcG9seWdvblxuZnVuY3Rpb24gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgdmFyIHAgPSBvdXRlck5vZGUsXG4gICAgICAgIGh4ID0gaG9sZS54LFxuICAgICAgICBoeSA9IGhvbGUueSxcbiAgICAgICAgcXggPSAtSW5maW5pdHksXG4gICAgICAgIG07XG5cbiAgICAvLyBmaW5kIGEgc2VnbWVudCBpbnRlcnNlY3RlZCBieSBhIHJheSBmcm9tIHRoZSBob2xlJ3MgbGVmdG1vc3QgcG9pbnQgdG8gdGhlIGxlZnQ7XG4gICAgLy8gc2VnbWVudCdzIGVuZHBvaW50IHdpdGggbGVzc2VyIHggd2lsbCBiZSBwb3RlbnRpYWwgY29ubmVjdGlvbiBwb2ludFxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh5IDw9IHAueSAmJiBoeSA+PSBwLm5leHQueSAmJiBwLm5leHQueSAhPT0gcC55KSB7XG4gICAgICAgICAgICB2YXIgeCA9IHAueCArIChoeSAtIHAueSkgKiAocC5uZXh0LnggLSBwLngpIC8gKHAubmV4dC55IC0gcC55KTtcbiAgICAgICAgICAgIGlmICh4IDw9IGh4ICYmIHggPiBxeCkge1xuICAgICAgICAgICAgICAgIHF4ID0geDtcbiAgICAgICAgICAgICAgICBtID0gcC54IDwgcC5uZXh0LnggPyBwIDogcC5uZXh0O1xuICAgICAgICAgICAgICAgIGlmICh4ID09PSBoeCkgcmV0dXJuIG07IC8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxlZnRtb3N0IGVuZHBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBvdXRlck5vZGUpO1xuXG4gICAgaWYgKCFtKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDtcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcbiAgICAvLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludFxuXG4gICAgdmFyIHN0b3AgPSBtLFxuICAgICAgICBteCA9IG0ueCxcbiAgICAgICAgbXkgPSBtLnksXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxuICAgICAgICB0YW47XG5cbiAgICBwID0gbTtcblxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxuICAgICAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHtcblxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxuXG4gICAgICAgICAgICBpZiAobG9jYWxseUluc2lkZShwLCBob2xlKSAmJlxuICAgICAgICAgICAgICAgICh0YW4gPCB0YW5NaW4gfHwgKHRhbiA9PT0gdGFuTWluICYmIChwLnggPiBtLnggfHwgKHAueCA9PT0gbS54ICYmIHNlY3RvckNvbnRhaW5zU2VjdG9yKG0sIHApKSkpKSkge1xuICAgICAgICAgICAgICAgIG0gPSBwO1xuICAgICAgICAgICAgICAgIHRhbk1pbiA9IHRhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RvcCk7XG5cbiAgICByZXR1cm4gbTtcbn1cblxuLy8gd2hldGhlciBzZWN0b3IgaW4gdmVydGV4IG0gY29udGFpbnMgc2VjdG9yIGluIHZlcnRleCBwIGluIHRoZSBzYW1lIGNvb3JkaW5hdGVzXG5mdW5jdGlvbiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSB7XG4gICAgcmV0dXJuIGFyZWEobS5wcmV2LCBtLCBwLnByZXYpIDwgMCAmJiBhcmVhKHAubmV4dCwgbSwgbS5uZXh0KSA8IDA7XG59XG5cbi8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueiA9PT0gMCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgcC5wcmV2WiA9IHAucHJldjtcbiAgICAgICAgcC5uZXh0WiA9IHAubmV4dDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcbiAgICBwLnByZXZaID0gbnVsbDtcblxuICAgIHNvcnRMaW5rZWQocCk7XG59XG5cbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KSB7XG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxuICAgICAgICBpblNpemUgPSAxO1xuXG4gICAgZG8ge1xuICAgICAgICBwID0gbGlzdDtcbiAgICAgICAgbGlzdCA9IG51bGw7XG4gICAgICAgIHRhaWwgPSBudWxsO1xuICAgICAgICBudW1NZXJnZXMgPSAwO1xuXG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBudW1NZXJnZXMrKztcbiAgICAgICAgICAgIHEgPSBwO1xuICAgICAgICAgICAgcFNpemUgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFNpemUrKztcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICBpZiAoIXEpIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XG5cbiAgICAgICAgICAgIHdoaWxlIChwU2l6ZSA+IDAgfHwgKHFTaXplID4gMCAmJiBxKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gcDtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHBTaXplLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XG4gICAgICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBxU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0YWlsKSB0YWlsLm5leHRaID0gZTtcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2WiA9IHRhaWw7XG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHAgPSBxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XG4gICAgICAgIGluU2l6ZSAqPSAyO1xuXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XG5cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuLy8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94XG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2VcbiAgICB4ID0gKHggLSBtaW5YKSAqIGludlNpemUgfCAwO1xuICAgIHkgPSAoeSAtIG1pblkpICogaW52U2l6ZSB8IDA7XG5cbiAgICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHggPSAoeCB8ICh4IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeCA9ICh4IHwgKHggPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgeSA9ICh5IHwgKHkgPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeSA9ICh5IHwgKHkgPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHJldHVybiB4IHwgKHkgPDwgMSk7XG59XG5cbi8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmdcbmZ1bmN0aW9uIGdldExlZnRtb3N0KHN0YXJ0KSB7XG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgbGVmdG1vc3QgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnggPCBsZWZ0bW9zdC54IHx8IChwLnggPT09IGxlZnRtb3N0LnggJiYgcC55IDwgbGVmdG1vc3QueSkpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpID49IChheCAtIHB4KSAqIChjeSAtIHB5KSAmJlxuICAgICAgICAgICAoYXggLSBweCkgKiAoYnkgLSBweSkgPj0gKGJ4IC0gcHgpICogKGF5IC0gcHkpICYmXG4gICAgICAgICAgIChieCAtIHB4KSAqIChjeSAtIHB5KSA+PSAoY3ggLSBweCkgKiAoYnkgLSBweSk7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJiAvLyBkb25lcyd0IGludGVyc2VjdCBvdGhlciBlZGdlc1xuICAgICAgICAgICAobG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpICYmIG1pZGRsZUluc2lkZShhLCBiKSAmJiAvLyBsb2NhbGx5IHZpc2libGVcbiAgICAgICAgICAgIChhcmVhKGEucHJldiwgYSwgYi5wcmV2KSB8fCBhcmVhKGEsIGIucHJldiwgYikpIHx8IC8vIGRvZXMgbm90IGNyZWF0ZSBvcHBvc2l0ZS1mYWNpbmcgc2VjdG9yc1xuICAgICAgICAgICAgZXF1YWxzKGEsIGIpICYmIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpID4gMCAmJiBhcmVhKGIucHJldiwgYiwgYi5uZXh0KSA+IDApOyAvLyBzcGVjaWFsIHplcm8tbGVuZ3RoIGNhc2Vcbn1cblxuLy8gc2lnbmVkIGFyZWEgb2YgYSB0cmlhbmdsZVxuZnVuY3Rpb24gYXJlYShwLCBxLCByKSB7XG4gICAgcmV0dXJuIChxLnkgLSBwLnkpICogKHIueCAtIHEueCkgLSAocS54IC0gcC54KSAqIChyLnkgLSBxLnkpO1xufVxuXG4vLyBjaGVjayBpZiB0d28gcG9pbnRzIGFyZSBlcXVhbFxuZnVuY3Rpb24gZXF1YWxzKHAxLCBwMikge1xuICAgIHJldHVybiBwMS54ID09PSBwMi54ICYmIHAxLnkgPT09IHAyLnk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBzZWdtZW50cyBpbnRlcnNlY3RcbmZ1bmN0aW9uIGludGVyc2VjdHMocDEsIHExLCBwMiwgcTIpIHtcbiAgICB2YXIgbzEgPSBzaWduKGFyZWEocDEsIHExLCBwMikpO1xuICAgIHZhciBvMiA9IHNpZ24oYXJlYShwMSwgcTEsIHEyKSk7XG4gICAgdmFyIG8zID0gc2lnbihhcmVhKHAyLCBxMiwgcDEpKTtcbiAgICB2YXIgbzQgPSBzaWduKGFyZWEocDIsIHEyLCBxMSkpO1xuXG4gICAgaWYgKG8xICE9PSBvMiAmJiBvMyAhPT0gbzQpIHJldHVybiB0cnVlOyAvLyBnZW5lcmFsIGNhc2VcblxuICAgIGlmIChvMSA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHAyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHAyIGFyZSBjb2xsaW5lYXIgYW5kIHAyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMiA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHEyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHEyIGFyZSBjb2xsaW5lYXIgYW5kIHEyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMyA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHAxLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHAxIGFyZSBjb2xsaW5lYXIgYW5kIHAxIGxpZXMgb24gcDJxMlxuICAgIGlmIChvNCA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHExLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHExIGFyZSBjb2xsaW5lYXIgYW5kIHExIGxpZXMgb24gcDJxMlxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBmb3IgY29sbGluZWFyIHBvaW50cyBwLCBxLCByLCBjaGVjayBpZiBwb2ludCBxIGxpZXMgb24gc2VnbWVudCBwclxuZnVuY3Rpb24gb25TZWdtZW50KHAsIHEsIHIpIHtcbiAgICByZXR1cm4gcS54IDw9IE1hdGgubWF4KHAueCwgci54KSAmJiBxLnggPj0gTWF0aC5taW4ocC54LCByLngpICYmIHEueSA8PSBNYXRoLm1heChwLnksIHIueSkgJiYgcS55ID49IE1hdGgubWluKHAueSwgci55KTtcbn1cblxuZnVuY3Rpb24gc2lnbihudW0pIHtcbiAgICByZXR1cm4gbnVtID4gMCA/IDEgOiBudW0gPCAwID8gLTEgOiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXlcbiAgICB0aGlzLmkgPSBpO1xuXG4gICAgLy8gdmVydGV4IGNvb3JkaW5hdGVzXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgdmVydGV4IG5vZGVzIGluIGEgcG9seWdvbiByaW5nXG4gICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgLy8gei1vcmRlciBjdXJ2ZSB2YWx1ZVxuICAgIHRoaXMueiA9IDA7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyXG4gICAgdGhpcy5wcmV2WiA9IG51bGw7XG4gICAgdGhpcy5uZXh0WiA9IG51bGw7XG5cbiAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludFxuICAgIHRoaXMuc3RlaW5lciA9IGZhbHNlO1xufVxuXG4vLyByZXR1cm4gYSBwZXJjZW50YWdlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcG9seWdvbiBhcmVhIGFuZCBpdHMgdHJpYW5ndWxhdGlvbiBhcmVhO1xuLy8gdXNlZCB0byB2ZXJpZnkgY29ycmVjdG5lc3Mgb2YgdHJpYW5ndWxhdGlvblxuZWFyY3V0LmRldmlhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBob2xlSW5kaWNlcywgZGltLCB0cmlhbmdsZXMpIHtcbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGg7XG4gICAgdmFyIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuXG4gICAgdmFyIHBvbHlnb25BcmVhID0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCAwLCBvdXRlckxlbiwgZGltKSk7XG4gICAgaWYgKGhhc0hvbGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgICAgICB2YXIgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHBvbHlnb25BcmVhIC09IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdHJpYW5nbGVzQXJlYSA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICB2YXIgYSA9IHRyaWFuZ2xlc1tpXSAqIGRpbTtcbiAgICAgICAgdmFyIGIgPSB0cmlhbmdsZXNbaSArIDFdICogZGltO1xuICAgICAgICB2YXIgYyA9IHRyaWFuZ2xlc1tpICsgMl0gKiBkaW07XG4gICAgICAgIHRyaWFuZ2xlc0FyZWEgKz0gTWF0aC5hYnMoXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbY10pICogKGRhdGFbYiArIDFdIC0gZGF0YVthICsgMV0pIC1cbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtiXSkgKiAoZGF0YVtjICsgMV0gLSBkYXRhW2EgKyAxXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2x5Z29uQXJlYSA9PT0gMCAmJiB0cmlhbmdsZXNBcmVhID09PSAwID8gMCA6XG4gICAgICAgIE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpO1xufTtcblxuZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQsIGogPSBlbmQgLSBkaW07IGkgPCBlbmQ7IGkgKz0gZGltKSB7XG4gICAgICAgIHN1bSArPSAoZGF0YVtqXSAtIGRhdGFbaV0pICogKGRhdGFbaSArIDFdICsgZGF0YVtqICsgMV0pO1xuICAgICAgICBqID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cblxuLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzXG5lYXJjdXQuZmxhdHRlbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGRpbSA9IGRhdGFbMF1bMF0ubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7dmVydGljZXM6IFtdLCBob2xlczogW10sIGRpbWVuc2lvbnM6IGRpbX0sXG4gICAgICAgIGhvbGVJbmRleCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRpbTsgZCsrKSByZXN1bHQudmVydGljZXMucHVzaChkYXRhW2ldW2pdW2RdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGhvbGVJbmRleCArPSBkYXRhW2kgLSAxXS5sZW5ndGg7XG4gICAgICAgICAgICByZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFdmVudHMoKSB7fVxuXG4vL1xuLy8gV2UgdHJ5IHRvIG5vdCBpbmhlcml0IGZyb20gYE9iamVjdC5wcm90b3R5cGVgLiBJbiBzb21lIGVuZ2luZXMgY3JlYXRpbmcgYW5cbi8vIGluc3RhbmNlIGluIHRoaXMgd2F5IGlzIGZhc3RlciB0aGFuIGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIGRpcmVjdGx5LlxuLy8gSWYgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIG5vdCBzdXBwb3J0ZWQgd2UgcHJlZml4IHRoZSBldmVudCBuYW1lcyB3aXRoIGFcbi8vIGNoYXJhY3RlciB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdFxuLy8gb3ZlcnJpZGRlbiBvciB1c2VkIGFzIGFuIGF0dGFjayB2ZWN0b3IuXG4vL1xuaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgRXZlbnRzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy9cbiAgLy8gVGhpcyBoYWNrIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgX19wcm90b19fYCBwcm9wZXJ0eSBpcyBzdGlsbCBpbmhlcml0ZWQgaW5cbiAgLy8gc29tZSBvbGQgYnJvd3NlcnMgbGlrZSBBbmRyb2lkIDQsIGlQaG9uZSA1LjEsIE9wZXJhIDExIGFuZCBTYWZhcmkgNS5cbiAgLy9cbiAgaWYgKCFuZXcgRXZlbnRzKCkuX19wcm90b19fKSBwcmVmaXggPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWRkTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgZW1pdHRlciwgb25jZSlcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XSkgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgZW1pdHRlci5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdLmZuKSBlbWl0dGVyLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IFtlbWl0dGVyLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiBlbWl0dGVyO1xufVxuXG4vKipcbiAqIENsZWFyIGV2ZW50IGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldnQgVGhlIEV2ZW50IG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbGVhckV2ZW50KGVtaXR0ZXIsIGV2dCkge1xuICBpZiAoLS1lbWl0dGVyLl9ldmVudHNDb3VudCA9PT0gMCkgZW1pdHRlci5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICBlbHNlIGRlbGV0ZSBlbWl0dGVyLl9ldmVudHNbZXZ0XTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBuYW1lcyA9IFtdXG4gICAgLCBldmVudHNcbiAgICAsIG5hbWU7XG5cbiAgaWYgKHRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSByZXR1cm4gbmFtZXM7XG5cbiAgZm9yIChuYW1lIGluIChldmVudHMgPSB0aGlzLl9ldmVudHMpKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0FycmF5fSBUaGUgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghaGFuZGxlcnMpIHJldHVybiBbXTtcbiAgaWYgKGhhbmRsZXJzLmZuKSByZXR1cm4gW2hhbmRsZXJzLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGhhbmRsZXJzLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGhhbmRsZXJzW2ldLmZuO1xuICB9XG5cbiAgcmV0dXJuIGVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgbGlzdGVuaW5nIHRvIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghbGlzdGVuZXJzKSByZXR1cm4gMDtcbiAgaWYgKGxpc3RlbmVycy5mbikgcmV0dXJuIDE7XG4gIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBDYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCB0cnVlKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgbWF0Y2ggdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAoXG4gICAgICBsaXN0ZW5lcnMuZm4gPT09IGZuICYmXG4gICAgICAoIW9uY2UgfHwgbGlzdGVuZXJzLm9uY2UpICYmXG4gICAgICAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpXG4gICAgKSB7XG4gICAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm4gfHxcbiAgICAgICAgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKSB8fFxuICAgICAgICAoY29udGV4dCAmJiBsaXN0ZW5lcnNbaV0uY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAgIC8vXG4gICAgaWYgKGV2ZW50cy5sZW5ndGgpIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgICBlbHNlIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dDtcblxuICBpZiAoZXZlbnQpIHtcbiAgICBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuICAgIGlmICh0aGlzLl9ldmVudHNbZXZ0XSkgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKiBlc2xpbnQgbm8taW52YWxpZC10aGlzOiAxICovXG5cbnZhciBFUlJPUl9NRVNTQUdFID0gJ0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgJztcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgZnVuY1R5cGUgPSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQodGhhdCkge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzO1xuICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnZnVuY3Rpb24nIHx8IHRvU3RyLmNhbGwodGFyZ2V0KSAhPT0gZnVuY1R5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJPUl9NRVNTQUdFICsgdGFyZ2V0KTtcbiAgICB9XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICB2YXIgYm91bmQ7XG4gICAgdmFyIGJpbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBib3VuZCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRhcmdldC5hcHBseShcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoT2JqZWN0KHJlc3VsdCkgPT09IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkoXG4gICAgICAgICAgICAgICAgdGhhdCxcbiAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBib3VuZExlbmd0aCA9IE1hdGgubWF4KDAsIHRhcmdldC5sZW5ndGggLSBhcmdzLmxlbmd0aCk7XG4gICAgdmFyIGJvdW5kQXJncyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRMZW5ndGg7IGkrKykge1xuICAgICAgICBib3VuZEFyZ3MucHVzaCgnJCcgKyBpKTtcbiAgICB9XG5cbiAgICBib3VuZCA9IEZ1bmN0aW9uKCdiaW5kZXInLCAncmV0dXJuIGZ1bmN0aW9uICgnICsgYm91bmRBcmdzLmpvaW4oJywnKSArICcpeyByZXR1cm4gYmluZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsgfScpKGJpbmRlcik7XG5cbiAgICBpZiAodGFyZ2V0LnByb3RvdHlwZSkge1xuICAgICAgICB2YXIgRW1wdHkgPSBmdW5jdGlvbiBFbXB0eSgpIHt9O1xuICAgICAgICBFbXB0eS5wcm90b3R5cGUgPSB0YXJnZXQucHJvdG90eXBlO1xuICAgICAgICBib3VuZC5wcm90b3R5cGUgPSBuZXcgRW1wdHkoKTtcbiAgICAgICAgRW1wdHkucHJvdG90eXBlID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gYm91bmQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW1wbGVtZW50YXRpb24gPSByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgfHwgaW1wbGVtZW50YXRpb247XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1bmRlZmluZWQ7XG5cbnZhciAkU3ludGF4RXJyb3IgPSBTeW50YXhFcnJvcjtcbnZhciAkRnVuY3Rpb24gPSBGdW5jdGlvbjtcbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbnZhciBnZXRFdmFsbGVkQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoZXhwcmVzc2lvblN5bnRheCkge1xuXHR0cnkge1xuXHRcdHJldHVybiAkRnVuY3Rpb24oJ1widXNlIHN0cmljdFwiOyByZXR1cm4gKCcgKyBleHByZXNzaW9uU3ludGF4ICsgJykuY29uc3RydWN0b3I7JykoKTtcblx0fSBjYXRjaCAoZSkge31cbn07XG5cbnZhciAkZ09QRCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5pZiAoJGdPUEQpIHtcblx0dHJ5IHtcblx0XHQkZ09QRCh7fSwgJycpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0JGdPUEQgPSBudWxsOyAvLyB0aGlzIGlzIElFIDgsIHdoaWNoIGhhcyBhIGJyb2tlbiBnT1BEXG5cdH1cbn1cblxudmFyIHRocm93VHlwZUVycm9yID0gZnVuY3Rpb24gKCkge1xuXHR0aHJvdyBuZXcgJFR5cGVFcnJvcigpO1xufTtcbnZhciBUaHJvd1R5cGVFcnJvciA9ICRnT1BEXG5cdD8gKGZ1bmN0aW9uICgpIHtcblx0XHR0cnkge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC1leHByZXNzaW9ucywgbm8tY2FsbGVyLCBuby1yZXN0cmljdGVkLXByb3BlcnRpZXNcblx0XHRcdGFyZ3VtZW50cy5jYWxsZWU7IC8vIElFIDggZG9lcyBub3QgdGhyb3cgaGVyZVxuXHRcdFx0cmV0dXJuIHRocm93VHlwZUVycm9yO1xuXHRcdH0gY2F0Y2ggKGNhbGxlZVRocm93cykge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Ly8gSUUgOCB0aHJvd3Mgb24gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhcmd1bWVudHMsICcnKVxuXHRcdFx0XHRyZXR1cm4gJGdPUEQoYXJndW1lbnRzLCAnY2FsbGVlJykuZ2V0O1xuXHRcdFx0fSBjYXRjaCAoZ09QRHRocm93cykge1xuXHRcdFx0XHRyZXR1cm4gdGhyb3dUeXBlRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KCkpXG5cdDogdGhyb3dUeXBlRXJyb3I7XG5cbnZhciBoYXNTeW1ib2xzID0gcmVxdWlyZSgnaGFzLXN5bWJvbHMnKSgpO1xudmFyIGhhc1Byb3RvID0gcmVxdWlyZSgnaGFzLXByb3RvJykoKTtcblxudmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IChcblx0aGFzUHJvdG9cblx0XHQ/IGZ1bmN0aW9uICh4KSB7IHJldHVybiB4Ll9fcHJvdG9fXzsgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvXG5cdFx0OiBudWxsXG4pO1xuXG52YXIgbmVlZHNFdmFsID0ge307XG5cbnZhciBUeXBlZEFycmF5ID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnIHx8ICFnZXRQcm90byA/IHVuZGVmaW5lZCA6IGdldFByb3RvKFVpbnQ4QXJyYXkpO1xuXG52YXIgSU5UUklOU0lDUyA9IHtcblx0JyVBZ2dyZWdhdGVFcnJvciUnOiB0eXBlb2YgQWdncmVnYXRlRXJyb3IgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogQWdncmVnYXRlRXJyb3IsXG5cdCclQXJyYXklJzogQXJyYXksXG5cdCclQXJyYXlCdWZmZXIlJzogdHlwZW9mIEFycmF5QnVmZmVyID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEFycmF5QnVmZmVyLFxuXHQnJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlJzogaGFzU3ltYm9scyAmJiBnZXRQcm90byA/IGdldFByb3RvKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSkgOiB1bmRlZmluZWQsXG5cdCclQXN5bmNGcm9tU3luY0l0ZXJhdG9yUHJvdG90eXBlJSc6IHVuZGVmaW5lZCxcblx0JyVBc3luY0Z1bmN0aW9uJSc6IG5lZWRzRXZhbCxcblx0JyVBc3luY0dlbmVyYXRvciUnOiBuZWVkc0V2YWwsXG5cdCclQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUnOiBuZWVkc0V2YWwsXG5cdCclQXN5bmNJdGVyYXRvclByb3RvdHlwZSUnOiBuZWVkc0V2YWwsXG5cdCclQXRvbWljcyUnOiB0eXBlb2YgQXRvbWljcyA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBBdG9taWNzLFxuXHQnJUJpZ0ludCUnOiB0eXBlb2YgQmlnSW50ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEJpZ0ludCxcblx0JyVCaWdJbnQ2NEFycmF5JSc6IHR5cGVvZiBCaWdJbnQ2NEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEJpZ0ludDY0QXJyYXksXG5cdCclQmlnVWludDY0QXJyYXklJzogdHlwZW9mIEJpZ1VpbnQ2NEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEJpZ1VpbnQ2NEFycmF5LFxuXHQnJUJvb2xlYW4lJzogQm9vbGVhbixcblx0JyVEYXRhVmlldyUnOiB0eXBlb2YgRGF0YVZpZXcgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogRGF0YVZpZXcsXG5cdCclRGF0ZSUnOiBEYXRlLFxuXHQnJWRlY29kZVVSSSUnOiBkZWNvZGVVUkksXG5cdCclZGVjb2RlVVJJQ29tcG9uZW50JSc6IGRlY29kZVVSSUNvbXBvbmVudCxcblx0JyVlbmNvZGVVUkklJzogZW5jb2RlVVJJLFxuXHQnJWVuY29kZVVSSUNvbXBvbmVudCUnOiBlbmNvZGVVUklDb21wb25lbnQsXG5cdCclRXJyb3IlJzogRXJyb3IsXG5cdCclZXZhbCUnOiBldmFsLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWV2YWxcblx0JyVFdmFsRXJyb3IlJzogRXZhbEVycm9yLFxuXHQnJUZsb2F0MzJBcnJheSUnOiB0eXBlb2YgRmxvYXQzMkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEZsb2F0MzJBcnJheSxcblx0JyVGbG9hdDY0QXJyYXklJzogdHlwZW9mIEZsb2F0NjRBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBGbG9hdDY0QXJyYXksXG5cdCclRmluYWxpemF0aW9uUmVnaXN0cnklJzogdHlwZW9mIEZpbmFsaXphdGlvblJlZ2lzdHJ5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEZpbmFsaXphdGlvblJlZ2lzdHJ5LFxuXHQnJUZ1bmN0aW9uJSc6ICRGdW5jdGlvbixcblx0JyVHZW5lcmF0b3JGdW5jdGlvbiUnOiBuZWVkc0V2YWwsXG5cdCclSW50OEFycmF5JSc6IHR5cGVvZiBJbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogSW50OEFycmF5LFxuXHQnJUludDE2QXJyYXklJzogdHlwZW9mIEludDE2QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogSW50MTZBcnJheSxcblx0JyVJbnQzMkFycmF5JSc6IHR5cGVvZiBJbnQzMkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEludDMyQXJyYXksXG5cdCclaXNGaW5pdGUlJzogaXNGaW5pdGUsXG5cdCclaXNOYU4lJzogaXNOYU4sXG5cdCclSXRlcmF0b3JQcm90b3R5cGUlJzogaGFzU3ltYm9scyAmJiBnZXRQcm90byA/IGdldFByb3RvKGdldFByb3RvKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSkpIDogdW5kZWZpbmVkLFxuXHQnJUpTT04lJzogdHlwZW9mIEpTT04gPT09ICdvYmplY3QnID8gSlNPTiA6IHVuZGVmaW5lZCxcblx0JyVNYXAlJzogdHlwZW9mIE1hcCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBNYXAsXG5cdCclTWFwSXRlcmF0b3JQcm90b3R5cGUlJzogdHlwZW9mIE1hcCA9PT0gJ3VuZGVmaW5lZCcgfHwgIWhhc1N5bWJvbHMgfHwgIWdldFByb3RvID8gdW5kZWZpbmVkIDogZ2V0UHJvdG8obmV3IE1hcCgpW1N5bWJvbC5pdGVyYXRvcl0oKSksXG5cdCclTWF0aCUnOiBNYXRoLFxuXHQnJU51bWJlciUnOiBOdW1iZXIsXG5cdCclT2JqZWN0JSc6IE9iamVjdCxcblx0JyVwYXJzZUZsb2F0JSc6IHBhcnNlRmxvYXQsXG5cdCclcGFyc2VJbnQlJzogcGFyc2VJbnQsXG5cdCclUHJvbWlzZSUnOiB0eXBlb2YgUHJvbWlzZSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBQcm9taXNlLFxuXHQnJVByb3h5JSc6IHR5cGVvZiBQcm94eSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBQcm94eSxcblx0JyVSYW5nZUVycm9yJSc6IFJhbmdlRXJyb3IsXG5cdCclUmVmZXJlbmNlRXJyb3IlJzogUmVmZXJlbmNlRXJyb3IsXG5cdCclUmVmbGVjdCUnOiB0eXBlb2YgUmVmbGVjdCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBSZWZsZWN0LFxuXHQnJVJlZ0V4cCUnOiBSZWdFeHAsXG5cdCclU2V0JSc6IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogU2V0LFxuXHQnJVNldEl0ZXJhdG9yUHJvdG90eXBlJSc6IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNTeW1ib2xzIHx8ICFnZXRQcm90byA/IHVuZGVmaW5lZCA6IGdldFByb3RvKG5ldyBTZXQoKVtTeW1ib2wuaXRlcmF0b3JdKCkpLFxuXHQnJVNoYXJlZEFycmF5QnVmZmVyJSc6IHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBTaGFyZWRBcnJheUJ1ZmZlcixcblx0JyVTdHJpbmclJzogU3RyaW5nLFxuXHQnJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJSc6IGhhc1N5bWJvbHMgJiYgZ2V0UHJvdG8gPyBnZXRQcm90bygnJ1tTeW1ib2wuaXRlcmF0b3JdKCkpIDogdW5kZWZpbmVkLFxuXHQnJVN5bWJvbCUnOiBoYXNTeW1ib2xzID8gU3ltYm9sIDogdW5kZWZpbmVkLFxuXHQnJVN5bnRheEVycm9yJSc6ICRTeW50YXhFcnJvcixcblx0JyVUaHJvd1R5cGVFcnJvciUnOiBUaHJvd1R5cGVFcnJvcixcblx0JyVUeXBlZEFycmF5JSc6IFR5cGVkQXJyYXksXG5cdCclVHlwZUVycm9yJSc6ICRUeXBlRXJyb3IsXG5cdCclVWludDhBcnJheSUnOiB0eXBlb2YgVWludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50OEFycmF5LFxuXHQnJVVpbnQ4Q2xhbXBlZEFycmF5JSc6IHR5cGVvZiBVaW50OENsYW1wZWRBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50OENsYW1wZWRBcnJheSxcblx0JyVVaW50MTZBcnJheSUnOiB0eXBlb2YgVWludDE2QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDE2QXJyYXksXG5cdCclVWludDMyQXJyYXklJzogdHlwZW9mIFVpbnQzMkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVpbnQzMkFycmF5LFxuXHQnJVVSSUVycm9yJSc6IFVSSUVycm9yLFxuXHQnJVdlYWtNYXAlJzogdHlwZW9mIFdlYWtNYXAgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogV2Vha01hcCxcblx0JyVXZWFrUmVmJSc6IHR5cGVvZiBXZWFrUmVmID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFdlYWtSZWYsXG5cdCclV2Vha1NldCUnOiB0eXBlb2YgV2Vha1NldCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBXZWFrU2V0XG59O1xuXG5pZiAoZ2V0UHJvdG8pIHtcblx0dHJ5IHtcblx0XHRudWxsLmVycm9yOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC1leHByZXNzaW9uc1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtc2hhZG93cmVhbG0vcHVsbC8zODQjaXNzdWVjb21tZW50LTEzNjQyNjQyMjlcblx0XHR2YXIgZXJyb3JQcm90byA9IGdldFByb3RvKGdldFByb3RvKGUpKTtcblx0XHRJTlRSSU5TSUNTWyclRXJyb3IucHJvdG90eXBlJSddID0gZXJyb3JQcm90bztcblx0fVxufVxuXG52YXIgZG9FdmFsID0gZnVuY3Rpb24gZG9FdmFsKG5hbWUpIHtcblx0dmFyIHZhbHVlO1xuXHRpZiAobmFtZSA9PT0gJyVBc3luY0Z1bmN0aW9uJScpIHtcblx0XHR2YWx1ZSA9IGdldEV2YWxsZWRDb25zdHJ1Y3RvcignYXN5bmMgZnVuY3Rpb24gKCkge30nKTtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUdlbmVyYXRvckZ1bmN0aW9uJScpIHtcblx0XHR2YWx1ZSA9IGdldEV2YWxsZWRDb25zdHJ1Y3RvcignZnVuY3Rpb24qICgpIHt9Jyk7XG5cdH0gZWxzZSBpZiAobmFtZSA9PT0gJyVBc3luY0dlbmVyYXRvckZ1bmN0aW9uJScpIHtcblx0XHR2YWx1ZSA9IGdldEV2YWxsZWRDb25zdHJ1Y3RvcignYXN5bmMgZnVuY3Rpb24qICgpIHt9Jyk7XG5cdH0gZWxzZSBpZiAobmFtZSA9PT0gJyVBc3luY0dlbmVyYXRvciUnKSB7XG5cdFx0dmFyIGZuID0gZG9FdmFsKCclQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUnKTtcblx0XHRpZiAoZm4pIHtcblx0XHRcdHZhbHVlID0gZm4ucHJvdG90eXBlO1xuXHRcdH1cblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUFzeW5jSXRlcmF0b3JQcm90b3R5cGUlJykge1xuXHRcdHZhciBnZW4gPSBkb0V2YWwoJyVBc3luY0dlbmVyYXRvciUnKTtcblx0XHRpZiAoZ2VuICYmIGdldFByb3RvKSB7XG5cdFx0XHR2YWx1ZSA9IGdldFByb3RvKGdlbi5wcm90b3R5cGUpO1xuXHRcdH1cblx0fVxuXG5cdElOVFJJTlNJQ1NbbmFtZV0gPSB2YWx1ZTtcblxuXHRyZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgTEVHQUNZX0FMSUFTRVMgPSB7XG5cdCclQXJyYXlCdWZmZXJQcm90b3R5cGUlJzogWydBcnJheUJ1ZmZlcicsICdwcm90b3R5cGUnXSxcblx0JyVBcnJheVByb3RvdHlwZSUnOiBbJ0FycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJUFycmF5UHJvdG9fZW50cmllcyUnOiBbJ0FycmF5JywgJ3Byb3RvdHlwZScsICdlbnRyaWVzJ10sXG5cdCclQXJyYXlQcm90b19mb3JFYWNoJSc6IFsnQXJyYXknLCAncHJvdG90eXBlJywgJ2ZvckVhY2gnXSxcblx0JyVBcnJheVByb3RvX2tleXMlJzogWydBcnJheScsICdwcm90b3R5cGUnLCAna2V5cyddLFxuXHQnJUFycmF5UHJvdG9fdmFsdWVzJSc6IFsnQXJyYXknLCAncHJvdG90eXBlJywgJ3ZhbHVlcyddLFxuXHQnJUFzeW5jRnVuY3Rpb25Qcm90b3R5cGUlJzogWydBc3luY0Z1bmN0aW9uJywgJ3Byb3RvdHlwZSddLFxuXHQnJUFzeW5jR2VuZXJhdG9yJSc6IFsnQXN5bmNHZW5lcmF0b3JGdW5jdGlvbicsICdwcm90b3R5cGUnXSxcblx0JyVBc3luY0dlbmVyYXRvclByb3RvdHlwZSUnOiBbJ0FzeW5jR2VuZXJhdG9yRnVuY3Rpb24nLCAncHJvdG90eXBlJywgJ3Byb3RvdHlwZSddLFxuXHQnJUJvb2xlYW5Qcm90b3R5cGUlJzogWydCb29sZWFuJywgJ3Byb3RvdHlwZSddLFxuXHQnJURhdGFWaWV3UHJvdG90eXBlJSc6IFsnRGF0YVZpZXcnLCAncHJvdG90eXBlJ10sXG5cdCclRGF0ZVByb3RvdHlwZSUnOiBbJ0RhdGUnLCAncHJvdG90eXBlJ10sXG5cdCclRXJyb3JQcm90b3R5cGUlJzogWydFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVFdmFsRXJyb3JQcm90b3R5cGUlJzogWydFdmFsRXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclRmxvYXQzMkFycmF5UHJvdG90eXBlJSc6IFsnRmxvYXQzMkFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJUZsb2F0NjRBcnJheVByb3RvdHlwZSUnOiBbJ0Zsb2F0NjRBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVGdW5jdGlvblByb3RvdHlwZSUnOiBbJ0Z1bmN0aW9uJywgJ3Byb3RvdHlwZSddLFxuXHQnJUdlbmVyYXRvciUnOiBbJ0dlbmVyYXRvckZ1bmN0aW9uJywgJ3Byb3RvdHlwZSddLFxuXHQnJUdlbmVyYXRvclByb3RvdHlwZSUnOiBbJ0dlbmVyYXRvckZ1bmN0aW9uJywgJ3Byb3RvdHlwZScsICdwcm90b3R5cGUnXSxcblx0JyVJbnQ4QXJyYXlQcm90b3R5cGUlJzogWydJbnQ4QXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclSW50MTZBcnJheVByb3RvdHlwZSUnOiBbJ0ludDE2QXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclSW50MzJBcnJheVByb3RvdHlwZSUnOiBbJ0ludDMyQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclSlNPTlBhcnNlJSc6IFsnSlNPTicsICdwYXJzZSddLFxuXHQnJUpTT05TdHJpbmdpZnklJzogWydKU09OJywgJ3N0cmluZ2lmeSddLFxuXHQnJU1hcFByb3RvdHlwZSUnOiBbJ01hcCcsICdwcm90b3R5cGUnXSxcblx0JyVOdW1iZXJQcm90b3R5cGUlJzogWydOdW1iZXInLCAncHJvdG90eXBlJ10sXG5cdCclT2JqZWN0UHJvdG90eXBlJSc6IFsnT2JqZWN0JywgJ3Byb3RvdHlwZSddLFxuXHQnJU9ialByb3RvX3RvU3RyaW5nJSc6IFsnT2JqZWN0JywgJ3Byb3RvdHlwZScsICd0b1N0cmluZyddLFxuXHQnJU9ialByb3RvX3ZhbHVlT2YlJzogWydPYmplY3QnLCAncHJvdG90eXBlJywgJ3ZhbHVlT2YnXSxcblx0JyVQcm9taXNlUHJvdG90eXBlJSc6IFsnUHJvbWlzZScsICdwcm90b3R5cGUnXSxcblx0JyVQcm9taXNlUHJvdG9fdGhlbiUnOiBbJ1Byb21pc2UnLCAncHJvdG90eXBlJywgJ3RoZW4nXSxcblx0JyVQcm9taXNlX2FsbCUnOiBbJ1Byb21pc2UnLCAnYWxsJ10sXG5cdCclUHJvbWlzZV9yZWplY3QlJzogWydQcm9taXNlJywgJ3JlamVjdCddLFxuXHQnJVByb21pc2VfcmVzb2x2ZSUnOiBbJ1Byb21pc2UnLCAncmVzb2x2ZSddLFxuXHQnJVJhbmdlRXJyb3JQcm90b3R5cGUlJzogWydSYW5nZUVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJVJlZmVyZW5jZUVycm9yUHJvdG90eXBlJSc6IFsnUmVmZXJlbmNlRXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclUmVnRXhwUHJvdG90eXBlJSc6IFsnUmVnRXhwJywgJ3Byb3RvdHlwZSddLFxuXHQnJVNldFByb3RvdHlwZSUnOiBbJ1NldCcsICdwcm90b3R5cGUnXSxcblx0JyVTaGFyZWRBcnJheUJ1ZmZlclByb3RvdHlwZSUnOiBbJ1NoYXJlZEFycmF5QnVmZmVyJywgJ3Byb3RvdHlwZSddLFxuXHQnJVN0cmluZ1Byb3RvdHlwZSUnOiBbJ1N0cmluZycsICdwcm90b3R5cGUnXSxcblx0JyVTeW1ib2xQcm90b3R5cGUlJzogWydTeW1ib2wnLCAncHJvdG90eXBlJ10sXG5cdCclU3ludGF4RXJyb3JQcm90b3R5cGUlJzogWydTeW50YXhFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVUeXBlZEFycmF5UHJvdG90eXBlJSc6IFsnVHlwZWRBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVUeXBlRXJyb3JQcm90b3R5cGUlJzogWydUeXBlRXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclVWludDhBcnJheVByb3RvdHlwZSUnOiBbJ1VpbnQ4QXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclVWludDhDbGFtcGVkQXJyYXlQcm90b3R5cGUlJzogWydVaW50OENsYW1wZWRBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVVaW50MTZBcnJheVByb3RvdHlwZSUnOiBbJ1VpbnQxNkFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJVVpbnQzMkFycmF5UHJvdG90eXBlJSc6IFsnVWludDMyQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclVVJJRXJyb3JQcm90b3R5cGUlJzogWydVUklFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVXZWFrTWFwUHJvdG90eXBlJSc6IFsnV2Vha01hcCcsICdwcm90b3R5cGUnXSxcblx0JyVXZWFrU2V0UHJvdG90eXBlJSc6IFsnV2Vha1NldCcsICdwcm90b3R5cGUnXVxufTtcblxudmFyIGJpbmQgPSByZXF1aXJlKCdmdW5jdGlvbi1iaW5kJyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnaGFzJyk7XG52YXIgJGNvbmNhdCA9IGJpbmQuY2FsbChGdW5jdGlvbi5jYWxsLCBBcnJheS5wcm90b3R5cGUuY29uY2F0KTtcbnZhciAkc3BsaWNlQXBwbHkgPSBiaW5kLmNhbGwoRnVuY3Rpb24uYXBwbHksIEFycmF5LnByb3RvdHlwZS5zcGxpY2UpO1xudmFyICRyZXBsYWNlID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSk7XG52YXIgJHN0clNsaWNlID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIFN0cmluZy5wcm90b3R5cGUuc2xpY2UpO1xudmFyICRleGVjID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIFJlZ0V4cC5wcm90b3R5cGUuZXhlYyk7XG5cbi8qIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbG9kYXNoL2xvZGFzaC9ibG9iLzQuMTcuMTUvZGlzdC9sb2Rhc2guanMjTDY3MzUtTDY3NDQgKi9cbnZhciByZVByb3BOYW1lID0gL1teJS5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwlJCkpL2c7XG52YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7IC8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHN0cmluZ1RvUGF0aCA9IGZ1bmN0aW9uIHN0cmluZ1RvUGF0aChzdHJpbmcpIHtcblx0dmFyIGZpcnN0ID0gJHN0clNsaWNlKHN0cmluZywgMCwgMSk7XG5cdHZhciBsYXN0ID0gJHN0clNsaWNlKHN0cmluZywgLTEpO1xuXHRpZiAoZmlyc3QgPT09ICclJyAmJiBsYXN0ICE9PSAnJScpIHtcblx0XHR0aHJvdyBuZXcgJFN5bnRheEVycm9yKCdpbnZhbGlkIGludHJpbnNpYyBzeW50YXgsIGV4cGVjdGVkIGNsb3NpbmcgYCVgJyk7XG5cdH0gZWxzZSBpZiAobGFzdCA9PT0gJyUnICYmIGZpcnN0ICE9PSAnJScpIHtcblx0XHR0aHJvdyBuZXcgJFN5bnRheEVycm9yKCdpbnZhbGlkIGludHJpbnNpYyBzeW50YXgsIGV4cGVjdGVkIG9wZW5pbmcgYCVgJyk7XG5cdH1cblx0dmFyIHJlc3VsdCA9IFtdO1xuXHQkcmVwbGFjZShzdHJpbmcsIHJlUHJvcE5hbWUsIGZ1bmN0aW9uIChtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG5cdFx0cmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gcXVvdGUgPyAkcmVwbGFjZShzdWJTdHJpbmcsIHJlRXNjYXBlQ2hhciwgJyQxJykgOiBudW1iZXIgfHwgbWF0Y2g7XG5cdH0pO1xuXHRyZXR1cm4gcmVzdWx0O1xufTtcbi8qIGVuZCBhZGFwdGF0aW9uICovXG5cbnZhciBnZXRCYXNlSW50cmluc2ljID0gZnVuY3Rpb24gZ2V0QmFzZUludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0dmFyIGludHJpbnNpY05hbWUgPSBuYW1lO1xuXHR2YXIgYWxpYXM7XG5cdGlmIChoYXNPd24oTEVHQUNZX0FMSUFTRVMsIGludHJpbnNpY05hbWUpKSB7XG5cdFx0YWxpYXMgPSBMRUdBQ1lfQUxJQVNFU1tpbnRyaW5zaWNOYW1lXTtcblx0XHRpbnRyaW5zaWNOYW1lID0gJyUnICsgYWxpYXNbMF0gKyAnJSc7XG5cdH1cblxuXHRpZiAoaGFzT3duKElOVFJJTlNJQ1MsIGludHJpbnNpY05hbWUpKSB7XG5cdFx0dmFyIHZhbHVlID0gSU5UUklOU0lDU1tpbnRyaW5zaWNOYW1lXTtcblx0XHRpZiAodmFsdWUgPT09IG5lZWRzRXZhbCkge1xuXHRcdFx0dmFsdWUgPSBkb0V2YWwoaW50cmluc2ljTmFtZSk7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnICYmICFhbGxvd01pc3NpbmcpIHtcblx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdpbnRyaW5zaWMgJyArIG5hbWUgKyAnIGV4aXN0cywgYnV0IGlzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBmaWxlIGFuIGlzc3VlIScpO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRhbGlhczogYWxpYXMsXG5cdFx0XHRuYW1lOiBpbnRyaW5zaWNOYW1lLFxuXHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0fTtcblx0fVxuXG5cdHRocm93IG5ldyAkU3ludGF4RXJyb3IoJ2ludHJpbnNpYyAnICsgbmFtZSArICcgZG9lcyBub3QgZXhpc3QhJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIEdldEludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0aWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCBuYW1lLmxlbmd0aCA9PT0gMCkge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdpbnRyaW5zaWMgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuXHR9XG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSAmJiB0eXBlb2YgYWxsb3dNaXNzaW5nICE9PSAnYm9vbGVhbicpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignXCJhbGxvd01pc3NpbmdcIiBhcmd1bWVudCBtdXN0IGJlIGEgYm9vbGVhbicpO1xuXHR9XG5cblx0aWYgKCRleGVjKC9eJT9bXiVdKiU/JC8sIG5hbWUpID09PSBudWxsKSB7XG5cdFx0dGhyb3cgbmV3ICRTeW50YXhFcnJvcignYCVgIG1heSBub3QgYmUgcHJlc2VudCBhbnl3aGVyZSBidXQgYXQgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIHRoZSBpbnRyaW5zaWMgbmFtZScpO1xuXHR9XG5cdHZhciBwYXJ0cyA9IHN0cmluZ1RvUGF0aChuYW1lKTtcblx0dmFyIGludHJpbnNpY0Jhc2VOYW1lID0gcGFydHMubGVuZ3RoID4gMCA/IHBhcnRzWzBdIDogJyc7XG5cblx0dmFyIGludHJpbnNpYyA9IGdldEJhc2VJbnRyaW5zaWMoJyUnICsgaW50cmluc2ljQmFzZU5hbWUgKyAnJScsIGFsbG93TWlzc2luZyk7XG5cdHZhciBpbnRyaW5zaWNSZWFsTmFtZSA9IGludHJpbnNpYy5uYW1lO1xuXHR2YXIgdmFsdWUgPSBpbnRyaW5zaWMudmFsdWU7XG5cdHZhciBza2lwRnVydGhlckNhY2hpbmcgPSBmYWxzZTtcblxuXHR2YXIgYWxpYXMgPSBpbnRyaW5zaWMuYWxpYXM7XG5cdGlmIChhbGlhcykge1xuXHRcdGludHJpbnNpY0Jhc2VOYW1lID0gYWxpYXNbMF07XG5cdFx0JHNwbGljZUFwcGx5KHBhcnRzLCAkY29uY2F0KFswLCAxXSwgYWxpYXMpKTtcblx0fVxuXG5cdGZvciAodmFyIGkgPSAxLCBpc093biA9IHRydWU7IGkgPCBwYXJ0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdHZhciBwYXJ0ID0gcGFydHNbaV07XG5cdFx0dmFyIGZpcnN0ID0gJHN0clNsaWNlKHBhcnQsIDAsIDEpO1xuXHRcdHZhciBsYXN0ID0gJHN0clNsaWNlKHBhcnQsIC0xKTtcblx0XHRpZiAoXG5cdFx0XHQoXG5cdFx0XHRcdChmaXJzdCA9PT0gJ1wiJyB8fCBmaXJzdCA9PT0gXCInXCIgfHwgZmlyc3QgPT09ICdgJylcblx0XHRcdFx0fHwgKGxhc3QgPT09ICdcIicgfHwgbGFzdCA9PT0gXCInXCIgfHwgbGFzdCA9PT0gJ2AnKVxuXHRcdFx0KVxuXHRcdFx0JiYgZmlyc3QgIT09IGxhc3Rcblx0XHQpIHtcblx0XHRcdHRocm93IG5ldyAkU3ludGF4RXJyb3IoJ3Byb3BlcnR5IG5hbWVzIHdpdGggcXVvdGVzIG11c3QgaGF2ZSBtYXRjaGluZyBxdW90ZXMnKTtcblx0XHR9XG5cdFx0aWYgKHBhcnQgPT09ICdjb25zdHJ1Y3RvcicgfHwgIWlzT3duKSB7XG5cdFx0XHRza2lwRnVydGhlckNhY2hpbmcgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGludHJpbnNpY0Jhc2VOYW1lICs9ICcuJyArIHBhcnQ7XG5cdFx0aW50cmluc2ljUmVhbE5hbWUgPSAnJScgKyBpbnRyaW5zaWNCYXNlTmFtZSArICclJztcblxuXHRcdGlmIChoYXNPd24oSU5UUklOU0lDUywgaW50cmluc2ljUmVhbE5hbWUpKSB7XG5cdFx0XHR2YWx1ZSA9IElOVFJJTlNJQ1NbaW50cmluc2ljUmVhbE5hbWVdO1xuXHRcdH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuXHRcdFx0aWYgKCEocGFydCBpbiB2YWx1ZSkpIHtcblx0XHRcdFx0aWYgKCFhbGxvd01pc3NpbmcpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignYmFzZSBpbnRyaW5zaWMgZm9yICcgKyBuYW1lICsgJyBleGlzdHMsIGJ1dCB0aGUgcHJvcGVydHkgaXMgbm90IGF2YWlsYWJsZS4nKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdm9pZCB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0XHRpZiAoJGdPUEQgJiYgKGkgKyAxKSA+PSBwYXJ0cy5sZW5ndGgpIHtcblx0XHRcdFx0dmFyIGRlc2MgPSAkZ09QRCh2YWx1ZSwgcGFydCk7XG5cdFx0XHRcdGlzT3duID0gISFkZXNjO1xuXG5cdFx0XHRcdC8vIEJ5IGNvbnZlbnRpb24sIHdoZW4gYSBkYXRhIHByb3BlcnR5IGlzIGNvbnZlcnRlZCB0byBhbiBhY2Nlc3NvclxuXHRcdFx0XHQvLyBwcm9wZXJ0eSB0byBlbXVsYXRlIGEgZGF0YSBwcm9wZXJ0eSB0aGF0IGRvZXMgbm90IHN1ZmZlciBmcm9tXG5cdFx0XHRcdC8vIHRoZSBvdmVycmlkZSBtaXN0YWtlLCB0aGF0IGFjY2Vzc29yJ3MgZ2V0dGVyIGlzIG1hcmtlZCB3aXRoXG5cdFx0XHRcdC8vIGFuIGBvcmlnaW5hbFZhbHVlYCBwcm9wZXJ0eS4gSGVyZSwgd2hlbiB3ZSBkZXRlY3QgdGhpcywgd2Vcblx0XHRcdFx0Ly8gdXBob2xkIHRoZSBpbGx1c2lvbiBieSBwcmV0ZW5kaW5nIHRvIHNlZSB0aGF0IG9yaWdpbmFsIGRhdGFcblx0XHRcdFx0Ly8gcHJvcGVydHksIGkuZS4sIHJldHVybmluZyB0aGUgdmFsdWUgcmF0aGVyIHRoYW4gdGhlIGdldHRlclxuXHRcdFx0XHQvLyBpdHNlbGYuXG5cdFx0XHRcdGlmIChpc093biAmJiAnZ2V0JyBpbiBkZXNjICYmICEoJ29yaWdpbmFsVmFsdWUnIGluIGRlc2MuZ2V0KSkge1xuXHRcdFx0XHRcdHZhbHVlID0gZGVzYy5nZXQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZVtwYXJ0XTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aXNPd24gPSBoYXNPd24odmFsdWUsIHBhcnQpO1xuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlW3BhcnRdO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaXNPd24gJiYgIXNraXBGdXJ0aGVyQ2FjaGluZykge1xuXHRcdFx0XHRJTlRSSU5TSUNTW2ludHJpbnNpY1JlYWxOYW1lXSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gdmFsdWU7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdGVzdCA9IHtcblx0Zm9vOiB7fVxufTtcblxudmFyICRPYmplY3QgPSBPYmplY3Q7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaGFzUHJvdG8oKSB7XG5cdHJldHVybiB7IF9fcHJvdG9fXzogdGVzdCB9LmZvbyA9PT0gdGVzdC5mb28gJiYgISh7IF9fcHJvdG9fXzogbnVsbCB9IGluc3RhbmNlb2YgJE9iamVjdCk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgb3JpZ1N5bWJvbCA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbDtcbnZhciBoYXNTeW1ib2xTaGFtID0gcmVxdWlyZSgnLi9zaGFtcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhhc05hdGl2ZVN5bWJvbHMoKSB7XG5cdGlmICh0eXBlb2Ygb3JpZ1N5bWJvbCAhPT0gJ2Z1bmN0aW9uJykgeyByZXR1cm4gZmFsc2U7IH1cblx0aWYgKHR5cGVvZiBTeW1ib2wgIT09ICdmdW5jdGlvbicpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmICh0eXBlb2Ygb3JpZ1N5bWJvbCgnZm9vJykgIT09ICdzeW1ib2wnKSB7IHJldHVybiBmYWxzZTsgfVxuXHRpZiAodHlwZW9mIFN5bWJvbCgnYmFyJykgIT09ICdzeW1ib2wnKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdHJldHVybiBoYXNTeW1ib2xTaGFtKCk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKiBlc2xpbnQgY29tcGxleGl0eTogWzIsIDE4XSwgbWF4LXN0YXRlbWVudHM6IFsyLCAzM10gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaGFzU3ltYm9scygpIHtcblx0aWYgKHR5cGVvZiBTeW1ib2wgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgIT09ICdmdW5jdGlvbicpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmICh0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAnc3ltYm9sJykgeyByZXR1cm4gdHJ1ZTsgfVxuXG5cdHZhciBvYmogPSB7fTtcblx0dmFyIHN5bSA9IFN5bWJvbCgndGVzdCcpO1xuXHR2YXIgc3ltT2JqID0gT2JqZWN0KHN5bSk7XG5cdGlmICh0eXBlb2Ygc3ltID09PSAnc3RyaW5nJykgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN5bSkgIT09ICdbb2JqZWN0IFN5bWJvbF0nKSB7IHJldHVybiBmYWxzZTsgfVxuXHRpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN5bU9iaikgIT09ICdbb2JqZWN0IFN5bWJvbF0nKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdC8vIHRlbXAgZGlzYWJsZWQgcGVyIGh0dHBzOi8vZ2l0aHViLmNvbS9samhhcmIvb2JqZWN0LmFzc2lnbi9pc3N1ZXMvMTdcblx0Ly8gaWYgKHN5bSBpbnN0YW5jZW9mIFN5bWJvbCkgeyByZXR1cm4gZmFsc2U7IH1cblx0Ly8gdGVtcCBkaXNhYmxlZCBwZXIgaHR0cHM6Ly9naXRodWIuY29tL1dlYlJlZmxlY3Rpb24vZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzL2lzc3Vlcy80XG5cdC8vIGlmICghKHN5bU9iaiBpbnN0YW5jZW9mIFN5bWJvbCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0Ly8gaWYgKHR5cGVvZiBTeW1ib2wucHJvdG90eXBlLnRvU3RyaW5nICE9PSAnZnVuY3Rpb24nKSB7IHJldHVybiBmYWxzZTsgfVxuXHQvLyBpZiAoU3RyaW5nKHN5bSkgIT09IFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzeW0pKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdHZhciBzeW1WYWwgPSA0Mjtcblx0b2JqW3N5bV0gPSBzeW1WYWw7XG5cdGZvciAoc3ltIGluIG9iaikgeyByZXR1cm4gZmFsc2U7IH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheCwgbm8tdW5yZWFjaGFibGUtbG9vcFxuXHRpZiAodHlwZW9mIE9iamVjdC5rZXlzID09PSAnZnVuY3Rpb24nICYmIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoICE9PSAwKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgPT09ICdmdW5jdGlvbicgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKS5sZW5ndGggIT09IDApIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0dmFyIHN5bXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iaik7XG5cdGlmIChzeW1zLmxlbmd0aCAhPT0gMSB8fCBzeW1zWzBdICE9PSBzeW0pIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0aWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqLCBzeW0pKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIHN5bSk7XG5cdFx0aWYgKGRlc2NyaXB0b3IudmFsdWUgIT09IHN5bVZhbCB8fCBkZXNjcmlwdG9yLmVudW1lcmFibGUgIT09IHRydWUpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBiaW5kID0gcmVxdWlyZSgnZnVuY3Rpb24tYmluZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJpbmQuY2FsbChGdW5jdGlvbi5jYWxsLCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KTtcbiIsImV4cG9ydCAqIGZyb20gJy4vaXNNb2JpbGUnO1xuZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gJy4vaXNNb2JpbGUnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwidmFyIGFwcGxlSXBob25lID0gL2lQaG9uZS9pO1xudmFyIGFwcGxlSXBvZCA9IC9pUG9kL2k7XG52YXIgYXBwbGVUYWJsZXQgPSAvaVBhZC9pO1xudmFyIGFwcGxlVW5pdmVyc2FsID0gL1xcYmlPUy11bml2ZXJzYWwoPzouKylNYWNcXGIvaTtcbnZhciBhbmRyb2lkUGhvbmUgPSAvXFxiQW5kcm9pZCg/Oi4rKU1vYmlsZVxcYi9pO1xudmFyIGFuZHJvaWRUYWJsZXQgPSAvQW5kcm9pZC9pO1xudmFyIGFtYXpvblBob25lID0gLyg/OlNENDkzMFVSfFxcYlNpbGsoPzouKylNb2JpbGVcXGIpL2k7XG52YXIgYW1hem9uVGFibGV0ID0gL1NpbGsvaTtcbnZhciB3aW5kb3dzUGhvbmUgPSAvV2luZG93cyBQaG9uZS9pO1xudmFyIHdpbmRvd3NUYWJsZXQgPSAvXFxiV2luZG93cyg/Oi4rKUFSTVxcYi9pO1xudmFyIG90aGVyQmxhY2tCZXJyeSA9IC9CbGFja0JlcnJ5L2k7XG52YXIgb3RoZXJCbGFja0JlcnJ5MTAgPSAvQkIxMC9pO1xudmFyIG90aGVyT3BlcmEgPSAvT3BlcmEgTWluaS9pO1xudmFyIG90aGVyQ2hyb21lID0gL1xcYihDcmlPU3xDaHJvbWUpKD86LispTW9iaWxlL2k7XG52YXIgb3RoZXJGaXJlZm94ID0gL01vYmlsZSg/Oi4rKUZpcmVmb3hcXGIvaTtcbnZhciBpc0FwcGxlVGFibGV0T25Jb3MxMyA9IGZ1bmN0aW9uIChuYXZpZ2F0b3IpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG5hdmlnYXRvci5wbGF0Zm9ybSA9PT0gJ01hY0ludGVsJyAmJlxuICAgICAgICB0eXBlb2YgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID09PSAnbnVtYmVyJyAmJlxuICAgICAgICBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAxICYmXG4gICAgICAgIHR5cGVvZiBNU1N0cmVhbSA9PT0gJ3VuZGVmaW5lZCcpO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZU1hdGNoKHVzZXJBZ2VudCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVnZXgpIHsgcmV0dXJuIHJlZ2V4LnRlc3QodXNlckFnZW50KTsgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzTW9iaWxlKHBhcmFtKSB7XG4gICAgdmFyIG5hdiA9IHtcbiAgICAgICAgdXNlckFnZW50OiAnJyxcbiAgICAgICAgcGxhdGZvcm06ICcnLFxuICAgICAgICBtYXhUb3VjaFBvaW50czogMFxuICAgIH07XG4gICAgaWYgKCFwYXJhbSAmJiB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBuYXYgPSB7XG4gICAgICAgICAgICB1c2VyQWdlbnQ6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICBwbGF0Zm9ybTogbmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICAgICAgbWF4VG91Y2hQb2ludHM6IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyB8fCAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBwYXJhbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbmF2LnVzZXJBZ2VudCA9IHBhcmFtO1xuICAgIH1cbiAgICBlbHNlIGlmIChwYXJhbSAmJiBwYXJhbS51c2VyQWdlbnQpIHtcbiAgICAgICAgbmF2ID0ge1xuICAgICAgICAgICAgdXNlckFnZW50OiBwYXJhbS51c2VyQWdlbnQsXG4gICAgICAgICAgICBwbGF0Zm9ybTogcGFyYW0ucGxhdGZvcm0sXG4gICAgICAgICAgICBtYXhUb3VjaFBvaW50czogcGFyYW0ubWF4VG91Y2hQb2ludHMgfHwgMFxuICAgICAgICB9O1xuICAgIH1cbiAgICB2YXIgdXNlckFnZW50ID0gbmF2LnVzZXJBZ2VudDtcbiAgICB2YXIgdG1wID0gdXNlckFnZW50LnNwbGl0KCdbRkJBTicpO1xuICAgIGlmICh0eXBlb2YgdG1wWzFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB1c2VyQWdlbnQgPSB0bXBbMF07XG4gICAgfVxuICAgIHRtcCA9IHVzZXJBZ2VudC5zcGxpdCgnVHdpdHRlcicpO1xuICAgIGlmICh0eXBlb2YgdG1wWzFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB1c2VyQWdlbnQgPSB0bXBbMF07XG4gICAgfVxuICAgIHZhciBtYXRjaCA9IGNyZWF0ZU1hdGNoKHVzZXJBZ2VudCk7XG4gICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgYXBwbGU6IHtcbiAgICAgICAgICAgIHBob25lOiBtYXRjaChhcHBsZUlwaG9uZSkgJiYgIW1hdGNoKHdpbmRvd3NQaG9uZSksXG4gICAgICAgICAgICBpcG9kOiBtYXRjaChhcHBsZUlwb2QpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2goYXBwbGVJcGhvbmUpICYmXG4gICAgICAgICAgICAgICAgKG1hdGNoKGFwcGxlVGFibGV0KSB8fCBpc0FwcGxlVGFibGV0T25Jb3MxMyhuYXYpKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaCh3aW5kb3dzUGhvbmUpLFxuICAgICAgICAgICAgdW5pdmVyc2FsOiBtYXRjaChhcHBsZVVuaXZlcnNhbCksXG4gICAgICAgICAgICBkZXZpY2U6IChtYXRjaChhcHBsZUlwaG9uZSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChhcHBsZUlwb2QpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goYXBwbGVUYWJsZXQpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goYXBwbGVVbml2ZXJzYWwpIHx8XG4gICAgICAgICAgICAgICAgaXNBcHBsZVRhYmxldE9uSW9zMTMobmF2KSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2god2luZG93c1Bob25lKVxuICAgICAgICB9LFxuICAgICAgICBhbWF6b246IHtcbiAgICAgICAgICAgIHBob25lOiBtYXRjaChhbWF6b25QaG9uZSksXG4gICAgICAgICAgICB0YWJsZXQ6ICFtYXRjaChhbWF6b25QaG9uZSkgJiYgbWF0Y2goYW1hem9uVGFibGV0KSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2goYW1hem9uUGhvbmUpIHx8IG1hdGNoKGFtYXpvblRhYmxldClcbiAgICAgICAgfSxcbiAgICAgICAgYW5kcm9pZDoge1xuICAgICAgICAgICAgcGhvbmU6ICghbWF0Y2god2luZG93c1Bob25lKSAmJiBtYXRjaChhbWF6b25QaG9uZSkpIHx8XG4gICAgICAgICAgICAgICAgKCFtYXRjaCh3aW5kb3dzUGhvbmUpICYmIG1hdGNoKGFuZHJvaWRQaG9uZSkpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2god2luZG93c1Bob25lKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaChhbWF6b25QaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2goYW5kcm9pZFBob25lKSAmJlxuICAgICAgICAgICAgICAgIChtYXRjaChhbWF6b25UYWJsZXQpIHx8IG1hdGNoKGFuZHJvaWRUYWJsZXQpKSxcbiAgICAgICAgICAgIGRldmljZTogKCFtYXRjaCh3aW5kb3dzUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgKG1hdGNoKGFtYXpvblBob25lKSB8fFxuICAgICAgICAgICAgICAgICAgICBtYXRjaChhbWF6b25UYWJsZXQpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKGFuZHJvaWRQaG9uZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2goYW5kcm9pZFRhYmxldCkpKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKC9cXGJva2h0dHBcXGIvaSlcbiAgICAgICAgfSxcbiAgICAgICAgd2luZG93czoge1xuICAgICAgICAgICAgcGhvbmU6IG1hdGNoKHdpbmRvd3NQaG9uZSksXG4gICAgICAgICAgICB0YWJsZXQ6IG1hdGNoKHdpbmRvd3NUYWJsZXQpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaCh3aW5kb3dzUGhvbmUpIHx8IG1hdGNoKHdpbmRvd3NUYWJsZXQpXG4gICAgICAgIH0sXG4gICAgICAgIG90aGVyOiB7XG4gICAgICAgICAgICBibGFja2JlcnJ5OiBtYXRjaChvdGhlckJsYWNrQmVycnkpLFxuICAgICAgICAgICAgYmxhY2tiZXJyeTEwOiBtYXRjaChvdGhlckJsYWNrQmVycnkxMCksXG4gICAgICAgICAgICBvcGVyYTogbWF0Y2gob3RoZXJPcGVyYSksXG4gICAgICAgICAgICBmaXJlZm94OiBtYXRjaChvdGhlckZpcmVmb3gpLFxuICAgICAgICAgICAgY2hyb21lOiBtYXRjaChvdGhlckNocm9tZSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKG90aGVyQmxhY2tCZXJyeSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlckJsYWNrQmVycnkxMCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlck9wZXJhKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyRmlyZWZveCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlckNocm9tZSlcbiAgICAgICAgfSxcbiAgICAgICAgYW55OiBmYWxzZSxcbiAgICAgICAgcGhvbmU6IGZhbHNlLFxuICAgICAgICB0YWJsZXQ6IGZhbHNlXG4gICAgfTtcbiAgICByZXN1bHQuYW55ID1cbiAgICAgICAgcmVzdWx0LmFwcGxlLmRldmljZSB8fFxuICAgICAgICAgICAgcmVzdWx0LmFuZHJvaWQuZGV2aWNlIHx8XG4gICAgICAgICAgICByZXN1bHQud2luZG93cy5kZXZpY2UgfHxcbiAgICAgICAgICAgIHJlc3VsdC5vdGhlci5kZXZpY2U7XG4gICAgcmVzdWx0LnBob25lID1cbiAgICAgICAgcmVzdWx0LmFwcGxlLnBob25lIHx8IHJlc3VsdC5hbmRyb2lkLnBob25lIHx8IHJlc3VsdC53aW5kb3dzLnBob25lO1xuICAgIHJlc3VsdC50YWJsZXQgPVxuICAgICAgICByZXN1bHQuYXBwbGUudGFibGV0IHx8IHJlc3VsdC5hbmRyb2lkLnRhYmxldCB8fCByZXN1bHQud2luZG93cy50YWJsZXQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzTW9iaWxlLmpzLm1hcCIsInZhciBoYXNNYXAgPSB0eXBlb2YgTWFwID09PSAnZnVuY3Rpb24nICYmIE1hcC5wcm90b3R5cGU7XG52YXIgbWFwU2l6ZURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICYmIGhhc01hcCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTWFwLnByb3RvdHlwZSwgJ3NpemUnKSA6IG51bGw7XG52YXIgbWFwU2l6ZSA9IGhhc01hcCAmJiBtYXBTaXplRGVzY3JpcHRvciAmJiB0eXBlb2YgbWFwU2l6ZURlc2NyaXB0b3IuZ2V0ID09PSAnZnVuY3Rpb24nID8gbWFwU2l6ZURlc2NyaXB0b3IuZ2V0IDogbnVsbDtcbnZhciBtYXBGb3JFYWNoID0gaGFzTWFwICYmIE1hcC5wcm90b3R5cGUuZm9yRWFjaDtcbnZhciBoYXNTZXQgPSB0eXBlb2YgU2V0ID09PSAnZnVuY3Rpb24nICYmIFNldC5wcm90b3R5cGU7XG52YXIgc2V0U2l6ZURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICYmIGhhc1NldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoU2V0LnByb3RvdHlwZSwgJ3NpemUnKSA6IG51bGw7XG52YXIgc2V0U2l6ZSA9IGhhc1NldCAmJiBzZXRTaXplRGVzY3JpcHRvciAmJiB0eXBlb2Ygc2V0U2l6ZURlc2NyaXB0b3IuZ2V0ID09PSAnZnVuY3Rpb24nID8gc2V0U2l6ZURlc2NyaXB0b3IuZ2V0IDogbnVsbDtcbnZhciBzZXRGb3JFYWNoID0gaGFzU2V0ICYmIFNldC5wcm90b3R5cGUuZm9yRWFjaDtcbnZhciBoYXNXZWFrTWFwID0gdHlwZW9mIFdlYWtNYXAgPT09ICdmdW5jdGlvbicgJiYgV2Vha01hcC5wcm90b3R5cGU7XG52YXIgd2Vha01hcEhhcyA9IGhhc1dlYWtNYXAgPyBXZWFrTWFwLnByb3RvdHlwZS5oYXMgOiBudWxsO1xudmFyIGhhc1dlYWtTZXQgPSB0eXBlb2YgV2Vha1NldCA9PT0gJ2Z1bmN0aW9uJyAmJiBXZWFrU2V0LnByb3RvdHlwZTtcbnZhciB3ZWFrU2V0SGFzID0gaGFzV2Vha1NldCA/IFdlYWtTZXQucHJvdG90eXBlLmhhcyA6IG51bGw7XG52YXIgaGFzV2Vha1JlZiA9IHR5cGVvZiBXZWFrUmVmID09PSAnZnVuY3Rpb24nICYmIFdlYWtSZWYucHJvdG90eXBlO1xudmFyIHdlYWtSZWZEZXJlZiA9IGhhc1dlYWtSZWYgPyBXZWFrUmVmLnByb3RvdHlwZS5kZXJlZiA6IG51bGw7XG52YXIgYm9vbGVhblZhbHVlT2YgPSBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mO1xudmFyIG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciBmdW5jdGlvblRvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyICRtYXRjaCA9IFN0cmluZy5wcm90b3R5cGUubWF0Y2g7XG52YXIgJHNsaWNlID0gU3RyaW5nLnByb3RvdHlwZS5zbGljZTtcbnZhciAkcmVwbGFjZSA9IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZTtcbnZhciAkdG9VcHBlckNhc2UgPSBTdHJpbmcucHJvdG90eXBlLnRvVXBwZXJDYXNlO1xudmFyICR0b0xvd2VyQ2FzZSA9IFN0cmluZy5wcm90b3R5cGUudG9Mb3dlckNhc2U7XG52YXIgJHRlc3QgPSBSZWdFeHAucHJvdG90eXBlLnRlc3Q7XG52YXIgJGNvbmNhdCA9IEFycmF5LnByb3RvdHlwZS5jb25jYXQ7XG52YXIgJGpvaW4gPSBBcnJheS5wcm90b3R5cGUuam9pbjtcbnZhciAkYXJyU2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgJGZsb29yID0gTWF0aC5mbG9vcjtcbnZhciBiaWdJbnRWYWx1ZU9mID0gdHlwZW9mIEJpZ0ludCA9PT0gJ2Z1bmN0aW9uJyA/IEJpZ0ludC5wcm90b3R5cGUudmFsdWVPZiA6IG51bGw7XG52YXIgZ09QUyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgc3ltVG9TdHJpbmcgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICdzeW1ib2wnID8gU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZyA6IG51bGw7XG52YXIgaGFzU2hhbW1lZFN5bWJvbHMgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICdvYmplY3QnO1xuLy8gaWUsIGBoYXMtdG9zdHJpbmd0YWcvc2hhbXNcbnZhciB0b1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLnRvU3RyaW5nVGFnICYmICh0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnID09PSBoYXNTaGFtbWVkU3ltYm9scyA/ICdvYmplY3QnIDogJ3N5bWJvbCcpXG4gICAgPyBTeW1ib2wudG9TdHJpbmdUYWdcbiAgICA6IG51bGw7XG52YXIgaXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxudmFyIGdQTyA9ICh0eXBlb2YgUmVmbGVjdCA9PT0gJ2Z1bmN0aW9uJyA/IFJlZmxlY3QuZ2V0UHJvdG90eXBlT2YgOiBPYmplY3QuZ2V0UHJvdG90eXBlT2YpIHx8IChcbiAgICBbXS5fX3Byb3RvX18gPT09IEFycmF5LnByb3RvdHlwZSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvXG4gICAgICAgID8gZnVuY3Rpb24gKE8pIHtcbiAgICAgICAgICAgIHJldHVybiBPLl9fcHJvdG9fXzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wcm90b1xuICAgICAgICB9XG4gICAgICAgIDogbnVsbFxuKTtcblxuZnVuY3Rpb24gYWRkTnVtZXJpY1NlcGFyYXRvcihudW0sIHN0cikge1xuICAgIGlmIChcbiAgICAgICAgbnVtID09PSBJbmZpbml0eVxuICAgICAgICB8fCBudW0gPT09IC1JbmZpbml0eVxuICAgICAgICB8fCBudW0gIT09IG51bVxuICAgICAgICB8fCAobnVtICYmIG51bSA+IC0xMDAwICYmIG51bSA8IDEwMDApXG4gICAgICAgIHx8ICR0ZXN0LmNhbGwoL2UvLCBzdHIpXG4gICAgKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIHZhciBzZXBSZWdleCA9IC9bMC05XSg/PSg/OlswLTldezN9KSsoPyFbMC05XSkpL2c7XG4gICAgaWYgKHR5cGVvZiBudW0gPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBpbnQgPSBudW0gPCAwID8gLSRmbG9vcigtbnVtKSA6ICRmbG9vcihudW0pOyAvLyB0cnVuYyhudW0pXG4gICAgICAgIGlmIChpbnQgIT09IG51bSkge1xuICAgICAgICAgICAgdmFyIGludFN0ciA9IFN0cmluZyhpbnQpO1xuICAgICAgICAgICAgdmFyIGRlYyA9ICRzbGljZS5jYWxsKHN0ciwgaW50U3RyLmxlbmd0aCArIDEpO1xuICAgICAgICAgICAgcmV0dXJuICRyZXBsYWNlLmNhbGwoaW50U3RyLCBzZXBSZWdleCwgJyQmXycpICsgJy4nICsgJHJlcGxhY2UuY2FsbCgkcmVwbGFjZS5jYWxsKGRlYywgLyhbMC05XXszfSkvZywgJyQmXycpLCAvXyQvLCAnJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICRyZXBsYWNlLmNhbGwoc3RyLCBzZXBSZWdleCwgJyQmXycpO1xufVxuXG52YXIgdXRpbEluc3BlY3QgPSByZXF1aXJlKCcuL3V0aWwuaW5zcGVjdCcpO1xudmFyIGluc3BlY3RDdXN0b20gPSB1dGlsSW5zcGVjdC5jdXN0b207XG52YXIgaW5zcGVjdFN5bWJvbCA9IGlzU3ltYm9sKGluc3BlY3RDdXN0b20pID8gaW5zcGVjdEN1c3RvbSA6IG51bGw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5zcGVjdF8ob2JqLCBvcHRpb25zLCBkZXB0aCwgc2Vlbikge1xuICAgIHZhciBvcHRzID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIGlmIChoYXMob3B0cywgJ3F1b3RlU3R5bGUnKSAmJiAob3B0cy5xdW90ZVN0eWxlICE9PSAnc2luZ2xlJyAmJiBvcHRzLnF1b3RlU3R5bGUgIT09ICdkb3VibGUnKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gXCJxdW90ZVN0eWxlXCIgbXVzdCBiZSBcInNpbmdsZVwiIG9yIFwiZG91YmxlXCInKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgICBoYXMob3B0cywgJ21heFN0cmluZ0xlbmd0aCcpICYmICh0eXBlb2Ygb3B0cy5tYXhTdHJpbmdMZW5ndGggPT09ICdudW1iZXInXG4gICAgICAgICAgICA/IG9wdHMubWF4U3RyaW5nTGVuZ3RoIDwgMCAmJiBvcHRzLm1heFN0cmluZ0xlbmd0aCAhPT0gSW5maW5pdHlcbiAgICAgICAgICAgIDogb3B0cy5tYXhTdHJpbmdMZW5ndGggIT09IG51bGxcbiAgICAgICAgKVxuICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gXCJtYXhTdHJpbmdMZW5ndGhcIiwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLCBJbmZpbml0eSwgb3IgYG51bGxgJyk7XG4gICAgfVxuICAgIHZhciBjdXN0b21JbnNwZWN0ID0gaGFzKG9wdHMsICdjdXN0b21JbnNwZWN0JykgPyBvcHRzLmN1c3RvbUluc3BlY3QgOiB0cnVlO1xuICAgIGlmICh0eXBlb2YgY3VzdG9tSW5zcGVjdCAhPT0gJ2Jvb2xlYW4nICYmIGN1c3RvbUluc3BlY3QgIT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBcImN1c3RvbUluc3BlY3RcIiwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYHRydWVgLCBgZmFsc2VgLCBvciBgXFwnc3ltYm9sXFwnYCcpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgICAgaGFzKG9wdHMsICdpbmRlbnQnKVxuICAgICAgICAmJiBvcHRzLmluZGVudCAhPT0gbnVsbFxuICAgICAgICAmJiBvcHRzLmluZGVudCAhPT0gJ1xcdCdcbiAgICAgICAgJiYgIShwYXJzZUludChvcHRzLmluZGVudCwgMTApID09PSBvcHRzLmluZGVudCAmJiBvcHRzLmluZGVudCA+IDApXG4gICAgKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBcImluZGVudFwiIG11c3QgYmUgXCJcXFxcdFwiLCBhbiBpbnRlZ2VyID4gMCwgb3IgYG51bGxgJyk7XG4gICAgfVxuICAgIGlmIChoYXMob3B0cywgJ251bWVyaWNTZXBhcmF0b3InKSAmJiB0eXBlb2Ygb3B0cy5udW1lcmljU2VwYXJhdG9yICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIFwibnVtZXJpY1NlcGFyYXRvclwiLCBpZiBwcm92aWRlZCwgbXVzdCBiZSBgdHJ1ZWAgb3IgYGZhbHNlYCcpO1xuICAgIH1cbiAgICB2YXIgbnVtZXJpY1NlcGFyYXRvciA9IG9wdHMubnVtZXJpY1NlcGFyYXRvcjtcblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gICAgfVxuICAgIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdib29sZWFuJykge1xuICAgICAgICByZXR1cm4gb2JqID8gJ3RydWUnIDogJ2ZhbHNlJztcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGluc3BlY3RTdHJpbmcob2JqLCBvcHRzKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChvYmogPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBJbmZpbml0eSAvIG9iaiA+IDAgPyAnMCcgOiAnLTAnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHIgPSBTdHJpbmcob2JqKTtcbiAgICAgICAgcmV0dXJuIG51bWVyaWNTZXBhcmF0b3IgPyBhZGROdW1lcmljU2VwYXJhdG9yKG9iaiwgc3RyKSA6IHN0cjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdiaWdpbnQnKSB7XG4gICAgICAgIHZhciBiaWdJbnRTdHIgPSBTdHJpbmcob2JqKSArICduJztcbiAgICAgICAgcmV0dXJuIG51bWVyaWNTZXBhcmF0b3IgPyBhZGROdW1lcmljU2VwYXJhdG9yKG9iaiwgYmlnSW50U3RyKSA6IGJpZ0ludFN0cjtcbiAgICB9XG5cbiAgICB2YXIgbWF4RGVwdGggPSB0eXBlb2Ygb3B0cy5kZXB0aCA9PT0gJ3VuZGVmaW5lZCcgPyA1IDogb3B0cy5kZXB0aDtcbiAgICBpZiAodHlwZW9mIGRlcHRoID09PSAndW5kZWZpbmVkJykgeyBkZXB0aCA9IDA7IH1cbiAgICBpZiAoZGVwdGggPj0gbWF4RGVwdGggJiYgbWF4RGVwdGggPiAwICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KG9iaikgPyAnW0FycmF5XScgOiAnW09iamVjdF0nO1xuICAgIH1cblxuICAgIHZhciBpbmRlbnQgPSBnZXRJbmRlbnQob3B0cywgZGVwdGgpO1xuXG4gICAgaWYgKHR5cGVvZiBzZWVuID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZWVuID0gW107XG4gICAgfSBlbHNlIGlmIChpbmRleE9mKHNlZW4sIG9iaikgPj0gMCkge1xuICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3BlY3QodmFsdWUsIGZyb20sIG5vSW5kZW50KSB7XG4gICAgICAgIGlmIChmcm9tKSB7XG4gICAgICAgICAgICBzZWVuID0gJGFyclNsaWNlLmNhbGwoc2Vlbik7XG4gICAgICAgICAgICBzZWVuLnB1c2goZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vSW5kZW50KSB7XG4gICAgICAgICAgICB2YXIgbmV3T3B0cyA9IHtcbiAgICAgICAgICAgICAgICBkZXB0aDogb3B0cy5kZXB0aFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChoYXMob3B0cywgJ3F1b3RlU3R5bGUnKSkge1xuICAgICAgICAgICAgICAgIG5ld09wdHMucXVvdGVTdHlsZSA9IG9wdHMucXVvdGVTdHlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnNwZWN0Xyh2YWx1ZSwgbmV3T3B0cywgZGVwdGggKyAxLCBzZWVuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zcGVjdF8odmFsdWUsIG9wdHMsIGRlcHRoICsgMSwgc2Vlbik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicgJiYgIWlzUmVnRXhwKG9iaikpIHsgLy8gaW4gb2xkZXIgZW5naW5lcywgcmVnZXhlcyBhcmUgY2FsbGFibGVcbiAgICAgICAgdmFyIG5hbWUgPSBuYW1lT2Yob2JqKTtcbiAgICAgICAgdmFyIGtleXMgPSBhcnJPYmpLZXlzKG9iaiwgaW5zcGVjdCk7XG4gICAgICAgIHJldHVybiAnW0Z1bmN0aW9uJyArIChuYW1lID8gJzogJyArIG5hbWUgOiAnIChhbm9ueW1vdXMpJykgKyAnXScgKyAoa2V5cy5sZW5ndGggPiAwID8gJyB7ICcgKyAkam9pbi5jYWxsKGtleXMsICcsICcpICsgJyB9JyA6ICcnKTtcbiAgICB9XG4gICAgaWYgKGlzU3ltYm9sKG9iaikpIHtcbiAgICAgICAgdmFyIHN5bVN0cmluZyA9IGhhc1NoYW1tZWRTeW1ib2xzID8gJHJlcGxhY2UuY2FsbChTdHJpbmcob2JqKSwgL14oU3ltYm9sXFwoLipcXCkpX1teKV0qJC8sICckMScpIDogc3ltVG9TdHJpbmcuY2FsbChvYmopO1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgIWhhc1NoYW1tZWRTeW1ib2xzID8gbWFya0JveGVkKHN5bVN0cmluZykgOiBzeW1TdHJpbmc7XG4gICAgfVxuICAgIGlmIChpc0VsZW1lbnQob2JqKSkge1xuICAgICAgICB2YXIgcyA9ICc8JyArICR0b0xvd2VyQ2FzZS5jYWxsKFN0cmluZyhvYmoubm9kZU5hbWUpKTtcbiAgICAgICAgdmFyIGF0dHJzID0gb2JqLmF0dHJpYnV0ZXMgfHwgW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHMgKz0gJyAnICsgYXR0cnNbaV0ubmFtZSArICc9JyArIHdyYXBRdW90ZXMocXVvdGUoYXR0cnNbaV0udmFsdWUpLCAnZG91YmxlJywgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgcyArPSAnPic7XG4gICAgICAgIGlmIChvYmouY2hpbGROb2RlcyAmJiBvYmouY2hpbGROb2Rlcy5sZW5ndGgpIHsgcyArPSAnLi4uJzsgfVxuICAgICAgICBzICs9ICc8LycgKyAkdG9Mb3dlckNhc2UuY2FsbChTdHJpbmcob2JqLm5vZGVOYW1lKSkgKyAnPic7XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICAgIGlmIChvYmoubGVuZ3RoID09PSAwKSB7IHJldHVybiAnW10nOyB9XG4gICAgICAgIHZhciB4cyA9IGFyck9iaktleXMob2JqLCBpbnNwZWN0KTtcbiAgICAgICAgaWYgKGluZGVudCAmJiAhc2luZ2xlTGluZVZhbHVlcyh4cykpIHtcbiAgICAgICAgICAgIHJldHVybiAnWycgKyBpbmRlbnRlZEpvaW4oeHMsIGluZGVudCkgKyAnXSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdbICcgKyAkam9pbi5jYWxsKHhzLCAnLCAnKSArICcgXSc7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKG9iaikpIHtcbiAgICAgICAgdmFyIHBhcnRzID0gYXJyT2JqS2V5cyhvYmosIGluc3BlY3QpO1xuICAgICAgICBpZiAoISgnY2F1c2UnIGluIEVycm9yLnByb3RvdHlwZSkgJiYgJ2NhdXNlJyBpbiBvYmogJiYgIWlzRW51bWVyYWJsZS5jYWxsKG9iaiwgJ2NhdXNlJykpIHtcbiAgICAgICAgICAgIHJldHVybiAneyBbJyArIFN0cmluZyhvYmopICsgJ10gJyArICRqb2luLmNhbGwoJGNvbmNhdC5jYWxsKCdbY2F1c2VdOiAnICsgaW5zcGVjdChvYmouY2F1c2UpLCBwYXJ0cyksICcsICcpICsgJyB9JztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAwKSB7IHJldHVybiAnWycgKyBTdHJpbmcob2JqKSArICddJzsgfVxuICAgICAgICByZXR1cm4gJ3sgWycgKyBTdHJpbmcob2JqKSArICddICcgKyAkam9pbi5jYWxsKHBhcnRzLCAnLCAnKSArICcgfSc7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBjdXN0b21JbnNwZWN0KSB7XG4gICAgICAgIGlmIChpbnNwZWN0U3ltYm9sICYmIHR5cGVvZiBvYmpbaW5zcGVjdFN5bWJvbF0gPT09ICdmdW5jdGlvbicgJiYgdXRpbEluc3BlY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB1dGlsSW5zcGVjdChvYmosIHsgZGVwdGg6IG1heERlcHRoIC0gZGVwdGggfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VzdG9tSW5zcGVjdCAhPT0gJ3N5bWJvbCcgJiYgdHlwZW9mIG9iai5pbnNwZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqLmluc3BlY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNNYXAob2JqKSkge1xuICAgICAgICB2YXIgbWFwUGFydHMgPSBbXTtcbiAgICAgICAgaWYgKG1hcEZvckVhY2gpIHtcbiAgICAgICAgICAgIG1hcEZvckVhY2guY2FsbChvYmosIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgbWFwUGFydHMucHVzaChpbnNwZWN0KGtleSwgb2JqLCB0cnVlKSArICcgPT4gJyArIGluc3BlY3QodmFsdWUsIG9iaikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25PZignTWFwJywgbWFwU2l6ZS5jYWxsKG9iaiksIG1hcFBhcnRzLCBpbmRlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNTZXQob2JqKSkge1xuICAgICAgICB2YXIgc2V0UGFydHMgPSBbXTtcbiAgICAgICAgaWYgKHNldEZvckVhY2gpIHtcbiAgICAgICAgICAgIHNldEZvckVhY2guY2FsbChvYmosIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldFBhcnRzLnB1c2goaW5zcGVjdCh2YWx1ZSwgb2JqKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sbGVjdGlvbk9mKCdTZXQnLCBzZXRTaXplLmNhbGwob2JqKSwgc2V0UGFydHMsIGluZGVudCk7XG4gICAgfVxuICAgIGlmIChpc1dlYWtNYXAob2JqKSkge1xuICAgICAgICByZXR1cm4gd2Vha0NvbGxlY3Rpb25PZignV2Vha01hcCcpO1xuICAgIH1cbiAgICBpZiAoaXNXZWFrU2V0KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIHdlYWtDb2xsZWN0aW9uT2YoJ1dlYWtTZXQnKTtcbiAgICB9XG4gICAgaWYgKGlzV2Vha1JlZihvYmopKSB7XG4gICAgICAgIHJldHVybiB3ZWFrQ29sbGVjdGlvbk9mKCdXZWFrUmVmJyk7XG4gICAgfVxuICAgIGlmIChpc051bWJlcihvYmopKSB7XG4gICAgICAgIHJldHVybiBtYXJrQm94ZWQoaW5zcGVjdChOdW1iZXIob2JqKSkpO1xuICAgIH1cbiAgICBpZiAoaXNCaWdJbnQob2JqKSkge1xuICAgICAgICByZXR1cm4gbWFya0JveGVkKGluc3BlY3QoYmlnSW50VmFsdWVPZi5jYWxsKG9iaikpKTtcbiAgICB9XG4gICAgaWYgKGlzQm9vbGVhbihvYmopKSB7XG4gICAgICAgIHJldHVybiBtYXJrQm94ZWQoYm9vbGVhblZhbHVlT2YuY2FsbChvYmopKTtcbiAgICB9XG4gICAgaWYgKGlzU3RyaW5nKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG1hcmtCb3hlZChpbnNwZWN0KFN0cmluZyhvYmopKSk7XG4gICAgfVxuICAgIGlmICghaXNEYXRlKG9iaikgJiYgIWlzUmVnRXhwKG9iaikpIHtcbiAgICAgICAgdmFyIHlzID0gYXJyT2JqS2V5cyhvYmosIGluc3BlY3QpO1xuICAgICAgICB2YXIgaXNQbGFpbk9iamVjdCA9IGdQTyA/IGdQTyhvYmopID09PSBPYmplY3QucHJvdG90eXBlIDogb2JqIGluc3RhbmNlb2YgT2JqZWN0IHx8IG9iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xuICAgICAgICB2YXIgcHJvdG9UYWcgPSBvYmogaW5zdGFuY2VvZiBPYmplY3QgPyAnJyA6ICdudWxsIHByb3RvdHlwZSc7XG4gICAgICAgIHZhciBzdHJpbmdUYWcgPSAhaXNQbGFpbk9iamVjdCAmJiB0b1N0cmluZ1RhZyAmJiBPYmplY3Qob2JqKSA9PT0gb2JqICYmIHRvU3RyaW5nVGFnIGluIG9iaiA/ICRzbGljZS5jYWxsKHRvU3RyKG9iaiksIDgsIC0xKSA6IHByb3RvVGFnID8gJ09iamVjdCcgOiAnJztcbiAgICAgICAgdmFyIGNvbnN0cnVjdG9yVGFnID0gaXNQbGFpbk9iamVjdCB8fCB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yICE9PSAnZnVuY3Rpb24nID8gJycgOiBvYmouY29uc3RydWN0b3IubmFtZSA/IG9iai5jb25zdHJ1Y3Rvci5uYW1lICsgJyAnIDogJyc7XG4gICAgICAgIHZhciB0YWcgPSBjb25zdHJ1Y3RvclRhZyArIChzdHJpbmdUYWcgfHwgcHJvdG9UYWcgPyAnWycgKyAkam9pbi5jYWxsKCRjb25jYXQuY2FsbChbXSwgc3RyaW5nVGFnIHx8IFtdLCBwcm90b1RhZyB8fCBbXSksICc6ICcpICsgJ10gJyA6ICcnKTtcbiAgICAgICAgaWYgKHlzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gdGFnICsgJ3t9JzsgfVxuICAgICAgICBpZiAoaW5kZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGFnICsgJ3snICsgaW5kZW50ZWRKb2luKHlzLCBpbmRlbnQpICsgJ30nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YWcgKyAneyAnICsgJGpvaW4uY2FsbCh5cywgJywgJykgKyAnIH0nO1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nKG9iaik7XG59O1xuXG5mdW5jdGlvbiB3cmFwUXVvdGVzKHMsIGRlZmF1bHRTdHlsZSwgb3B0cykge1xuICAgIHZhciBxdW90ZUNoYXIgPSAob3B0cy5xdW90ZVN0eWxlIHx8IGRlZmF1bHRTdHlsZSkgPT09ICdkb3VibGUnID8gJ1wiJyA6IFwiJ1wiO1xuICAgIHJldHVybiBxdW90ZUNoYXIgKyBzICsgcXVvdGVDaGFyO1xufVxuXG5mdW5jdGlvbiBxdW90ZShzKSB7XG4gICAgcmV0dXJuICRyZXBsYWNlLmNhbGwoU3RyaW5nKHMpLCAvXCIvZywgJyZxdW90OycpO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5KG9iaikgeyByZXR1cm4gdG9TdHIob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJyAmJiAoIXRvU3RyaW5nVGFnIHx8ICEodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdG9TdHJpbmdUYWcgaW4gb2JqKSk7IH1cbmZ1bmN0aW9uIGlzRGF0ZShvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IERhdGVdJyAmJiAoIXRvU3RyaW5nVGFnIHx8ICEodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdG9TdHJpbmdUYWcgaW4gb2JqKSk7IH1cbmZ1bmN0aW9uIGlzUmVnRXhwKG9iaikgeyByZXR1cm4gdG9TdHIob2JqKSA9PT0gJ1tvYmplY3QgUmVnRXhwXScgJiYgKCF0b1N0cmluZ1RhZyB8fCAhKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHRvU3RyaW5nVGFnIGluIG9iaikpOyB9XG5mdW5jdGlvbiBpc0Vycm9yKG9iaikgeyByZXR1cm4gdG9TdHIob2JqKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyAmJiAoIXRvU3RyaW5nVGFnIHx8ICEodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdG9TdHJpbmdUYWcgaW4gb2JqKSk7IH1cbmZ1bmN0aW9uIGlzU3RyaW5nKG9iaikgeyByZXR1cm4gdG9TdHIob2JqKSA9PT0gJ1tvYmplY3QgU3RyaW5nXScgJiYgKCF0b1N0cmluZ1RhZyB8fCAhKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHRvU3RyaW5nVGFnIGluIG9iaikpOyB9XG5mdW5jdGlvbiBpc051bWJlcihvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IE51bWJlcl0nICYmICghdG9TdHJpbmdUYWcgfHwgISh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiB0b1N0cmluZ1RhZyBpbiBvYmopKTsgfVxuZnVuY3Rpb24gaXNCb29sZWFuKG9iaikgeyByZXR1cm4gdG9TdHIob2JqKSA9PT0gJ1tvYmplY3QgQm9vbGVhbl0nICYmICghdG9TdHJpbmdUYWcgfHwgISh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiB0b1N0cmluZ1RhZyBpbiBvYmopKTsgfVxuXG4vLyBTeW1ib2wgYW5kIEJpZ0ludCBkbyBoYXZlIFN5bWJvbC50b1N0cmluZ1RhZyBieSBzcGVjLCBzbyB0aGF0IGNhbid0IGJlIHVzZWQgdG8gZWxpbWluYXRlIGZhbHNlIHBvc2l0aXZlc1xuZnVuY3Rpb24gaXNTeW1ib2wob2JqKSB7XG4gICAgaWYgKGhhc1NoYW1tZWRTeW1ib2xzKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqIGluc3RhbmNlb2YgU3ltYm9sO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8ICFzeW1Ub1N0cmluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHN5bVRvU3RyaW5nLmNhbGwob2JqKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzQmlnSW50KG9iaikge1xuICAgIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8ICFiaWdJbnRWYWx1ZU9mKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgYmlnSW50VmFsdWVPZi5jYWxsKG9iaik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSB8fCBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBrZXkgaW4gdGhpczsgfTtcbmZ1bmN0aW9uIGhhcyhvYmosIGtleSkge1xuICAgIHJldHVybiBoYXNPd24uY2FsbChvYmosIGtleSk7XG59XG5cbmZ1bmN0aW9uIHRvU3RyKG9iaikge1xuICAgIHJldHVybiBvYmplY3RUb1N0cmluZy5jYWxsKG9iaik7XG59XG5cbmZ1bmN0aW9uIG5hbWVPZihmKSB7XG4gICAgaWYgKGYubmFtZSkgeyByZXR1cm4gZi5uYW1lOyB9XG4gICAgdmFyIG0gPSAkbWF0Y2guY2FsbChmdW5jdGlvblRvU3RyaW5nLmNhbGwoZiksIC9eZnVuY3Rpb25cXHMqKFtcXHckXSspLyk7XG4gICAgaWYgKG0pIHsgcmV0dXJuIG1bMV07IH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaW5kZXhPZih4cywgeCkge1xuICAgIGlmICh4cy5pbmRleE9mKSB7IHJldHVybiB4cy5pbmRleE9mKHgpOyB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB4cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKHhzW2ldID09PSB4KSB7IHJldHVybiBpOyB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gaXNNYXAoeCkge1xuICAgIGlmICghbWFwU2l6ZSB8fCAheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBtYXBTaXplLmNhbGwoeCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRTaXplLmNhbGwoeCk7XG4gICAgICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4IGluc3RhbmNlb2YgTWFwOyAvLyBjb3JlLWpzIHdvcmthcm91bmQsIHByZS12Mi41LjBcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNXZWFrTWFwKHgpIHtcbiAgICBpZiAoIXdlYWtNYXBIYXMgfHwgIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgd2Vha01hcEhhcy5jYWxsKHgsIHdlYWtNYXBIYXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2Vha1NldEhhcy5jYWxsKHgsIHdlYWtTZXRIYXMpO1xuICAgICAgICB9IGNhdGNoIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geCBpbnN0YW5jZW9mIFdlYWtNYXA7IC8vIGNvcmUtanMgd29ya2Fyb3VuZCwgcHJlLXYyLjUuMFxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1dlYWtSZWYoeCkge1xuICAgIGlmICghd2Vha1JlZkRlcmVmIHx8ICF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHdlYWtSZWZEZXJlZi5jYWxsKHgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNTZXQoeCkge1xuICAgIGlmICghc2V0U2l6ZSB8fCAheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBzZXRTaXplLmNhbGwoeCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtYXBTaXplLmNhbGwoeCk7XG4gICAgICAgIH0gY2F0Y2ggKG0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4IGluc3RhbmNlb2YgU2V0OyAvLyBjb3JlLWpzIHdvcmthcm91bmQsIHByZS12Mi41LjBcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNXZWFrU2V0KHgpIHtcbiAgICBpZiAoIXdlYWtTZXRIYXMgfHwgIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgd2Vha1NldEhhcy5jYWxsKHgsIHdlYWtTZXRIYXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2Vha01hcEhhcy5jYWxsKHgsIHdlYWtNYXBIYXMpO1xuICAgICAgICB9IGNhdGNoIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geCBpbnN0YW5jZW9mIFdlYWtTZXQ7IC8vIGNvcmUtanMgd29ya2Fyb3VuZCwgcHJlLXYyLjUuMFxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc0VsZW1lbnQoeCkge1xuICAgIGlmICgheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgaWYgKHR5cGVvZiBIVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgeCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZW9mIHgubm9kZU5hbWUgPT09ICdzdHJpbmcnICYmIHR5cGVvZiB4LmdldEF0dHJpYnV0ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaW5zcGVjdFN0cmluZyhzdHIsIG9wdHMpIHtcbiAgICBpZiAoc3RyLmxlbmd0aCA+IG9wdHMubWF4U3RyaW5nTGVuZ3RoKSB7XG4gICAgICAgIHZhciByZW1haW5pbmcgPSBzdHIubGVuZ3RoIC0gb3B0cy5tYXhTdHJpbmdMZW5ndGg7XG4gICAgICAgIHZhciB0cmFpbGVyID0gJy4uLiAnICsgcmVtYWluaW5nICsgJyBtb3JlIGNoYXJhY3RlcicgKyAocmVtYWluaW5nID4gMSA/ICdzJyA6ICcnKTtcbiAgICAgICAgcmV0dXJuIGluc3BlY3RTdHJpbmcoJHNsaWNlLmNhbGwoc3RyLCAwLCBvcHRzLm1heFN0cmluZ0xlbmd0aCksIG9wdHMpICsgdHJhaWxlcjtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbiAgICB2YXIgcyA9ICRyZXBsYWNlLmNhbGwoJHJlcGxhY2UuY2FsbChzdHIsIC8oWydcXFxcXSkvZywgJ1xcXFwkMScpLCAvW1xceDAwLVxceDFmXS9nLCBsb3dieXRlKTtcbiAgICByZXR1cm4gd3JhcFF1b3RlcyhzLCAnc2luZ2xlJywgb3B0cyk7XG59XG5cbmZ1bmN0aW9uIGxvd2J5dGUoYykge1xuICAgIHZhciBuID0gYy5jaGFyQ29kZUF0KDApO1xuICAgIHZhciB4ID0ge1xuICAgICAgICA4OiAnYicsXG4gICAgICAgIDk6ICd0JyxcbiAgICAgICAgMTA6ICduJyxcbiAgICAgICAgMTI6ICdmJyxcbiAgICAgICAgMTM6ICdyJ1xuICAgIH1bbl07XG4gICAgaWYgKHgpIHsgcmV0dXJuICdcXFxcJyArIHg7IH1cbiAgICByZXR1cm4gJ1xcXFx4JyArIChuIDwgMHgxMCA/ICcwJyA6ICcnKSArICR0b1VwcGVyQ2FzZS5jYWxsKG4udG9TdHJpbmcoMTYpKTtcbn1cblxuZnVuY3Rpb24gbWFya0JveGVkKHN0cikge1xuICAgIHJldHVybiAnT2JqZWN0KCcgKyBzdHIgKyAnKSc7XG59XG5cbmZ1bmN0aW9uIHdlYWtDb2xsZWN0aW9uT2YodHlwZSkge1xuICAgIHJldHVybiB0eXBlICsgJyB7ID8gfSc7XG59XG5cbmZ1bmN0aW9uIGNvbGxlY3Rpb25PZih0eXBlLCBzaXplLCBlbnRyaWVzLCBpbmRlbnQpIHtcbiAgICB2YXIgam9pbmVkRW50cmllcyA9IGluZGVudCA/IGluZGVudGVkSm9pbihlbnRyaWVzLCBpbmRlbnQpIDogJGpvaW4uY2FsbChlbnRyaWVzLCAnLCAnKTtcbiAgICByZXR1cm4gdHlwZSArICcgKCcgKyBzaXplICsgJykgeycgKyBqb2luZWRFbnRyaWVzICsgJ30nO1xufVxuXG5mdW5jdGlvbiBzaW5nbGVMaW5lVmFsdWVzKHhzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaW5kZXhPZih4c1tpXSwgJ1xcbicpID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0SW5kZW50KG9wdHMsIGRlcHRoKSB7XG4gICAgdmFyIGJhc2VJbmRlbnQ7XG4gICAgaWYgKG9wdHMuaW5kZW50ID09PSAnXFx0Jykge1xuICAgICAgICBiYXNlSW5kZW50ID0gJ1xcdCc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0cy5pbmRlbnQgPT09ICdudW1iZXInICYmIG9wdHMuaW5kZW50ID4gMCkge1xuICAgICAgICBiYXNlSW5kZW50ID0gJGpvaW4uY2FsbChBcnJheShvcHRzLmluZGVudCArIDEpLCAnICcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBiYXNlOiBiYXNlSW5kZW50LFxuICAgICAgICBwcmV2OiAkam9pbi5jYWxsKEFycmF5KGRlcHRoICsgMSksIGJhc2VJbmRlbnQpXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gaW5kZW50ZWRKb2luKHhzLCBpbmRlbnQpIHtcbiAgICBpZiAoeHMubGVuZ3RoID09PSAwKSB7IHJldHVybiAnJzsgfVxuICAgIHZhciBsaW5lSm9pbmVyID0gJ1xcbicgKyBpbmRlbnQucHJldiArIGluZGVudC5iYXNlO1xuICAgIHJldHVybiBsaW5lSm9pbmVyICsgJGpvaW4uY2FsbCh4cywgJywnICsgbGluZUpvaW5lcikgKyAnXFxuJyArIGluZGVudC5wcmV2O1xufVxuXG5mdW5jdGlvbiBhcnJPYmpLZXlzKG9iaiwgaW5zcGVjdCkge1xuICAgIHZhciBpc0FyciA9IGlzQXJyYXkob2JqKTtcbiAgICB2YXIgeHMgPSBbXTtcbiAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgeHMubGVuZ3RoID0gb2JqLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHhzW2ldID0gaGFzKG9iaiwgaSkgPyBpbnNwZWN0KG9ialtpXSwgb2JqKSA6ICcnO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBzeW1zID0gdHlwZW9mIGdPUFMgPT09ICdmdW5jdGlvbicgPyBnT1BTKG9iaikgOiBbXTtcbiAgICB2YXIgc3ltTWFwO1xuICAgIGlmIChoYXNTaGFtbWVkU3ltYm9scykge1xuICAgICAgICBzeW1NYXAgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBzeW1zLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICBzeW1NYXBbJyQnICsgc3ltc1trXV0gPSBzeW1zW2tdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICAgIGlmICghaGFzKG9iaiwga2V5KSkgeyBjb250aW51ZTsgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4LCBuby1jb250aW51ZVxuICAgICAgICBpZiAoaXNBcnIgJiYgU3RyaW5nKE51bWJlcihrZXkpKSA9PT0ga2V5ICYmIGtleSA8IG9iai5sZW5ndGgpIHsgY29udGludWU7IH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheCwgbm8tY29udGludWVcbiAgICAgICAgaWYgKGhhc1NoYW1tZWRTeW1ib2xzICYmIHN5bU1hcFsnJCcgKyBrZXldIGluc3RhbmNlb2YgU3ltYm9sKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRvIHByZXZlbnQgc2hhbW1lZCBTeW1ib2xzLCB3aGljaCBhcmUgc3RvcmVkIGFzIHN0cmluZ3MsIGZyb20gYmVpbmcgaW5jbHVkZWQgaW4gdGhlIHN0cmluZyBrZXkgc2VjdGlvblxuICAgICAgICAgICAgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXgsIG5vLWNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoJHRlc3QuY2FsbCgvW15cXHckXS8sIGtleSkpIHtcbiAgICAgICAgICAgIHhzLnB1c2goaW5zcGVjdChrZXksIG9iaikgKyAnOiAnICsgaW5zcGVjdChvYmpba2V5XSwgb2JqKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4cy5wdXNoKGtleSArICc6ICcgKyBpbnNwZWN0KG9ialtrZXldLCBvYmopKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGdPUFMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzeW1zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoaXNFbnVtZXJhYmxlLmNhbGwob2JqLCBzeW1zW2pdKSkge1xuICAgICAgICAgICAgICAgIHhzLnB1c2goJ1snICsgaW5zcGVjdChzeW1zW2pdKSArICddOiAnICsgaW5zcGVjdChvYmpbc3ltc1tqXV0sIG9iaikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB4cztcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHJlcGxhY2UgPSBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2U7XG52YXIgcGVyY2VudFR3ZW50aWVzID0gLyUyMC9nO1xuXG52YXIgRm9ybWF0ID0ge1xuICAgIFJGQzE3Mzg6ICdSRkMxNzM4JyxcbiAgICBSRkMzOTg2OiAnUkZDMzk4Nidcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICdkZWZhdWx0JzogRm9ybWF0LlJGQzM5ODYsXG4gICAgZm9ybWF0dGVyczoge1xuICAgICAgICBSRkMxNzM4OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXBsYWNlLmNhbGwodmFsdWUsIHBlcmNlbnRUd2VudGllcywgJysnKTtcbiAgICAgICAgfSxcbiAgICAgICAgUkZDMzk4NjogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgUkZDMTczODogRm9ybWF0LlJGQzE3MzgsXG4gICAgUkZDMzk4NjogRm9ybWF0LlJGQzM5ODZcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnkgPSByZXF1aXJlKCcuL3N0cmluZ2lmeScpO1xudmFyIHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpO1xudmFyIGZvcm1hdHMgPSByZXF1aXJlKCcuL2Zvcm1hdHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgZm9ybWF0czogZm9ybWF0cyxcbiAgICBwYXJzZTogcGFyc2UsXG4gICAgc3RyaW5naWZ5OiBzdHJpbmdpZnlcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgICBhbGxvd0RvdHM6IGZhbHNlLFxuICAgIGFsbG93UHJvdG90eXBlczogZmFsc2UsXG4gICAgYWxsb3dTcGFyc2U6IGZhbHNlLFxuICAgIGFycmF5TGltaXQ6IDIwLFxuICAgIGNoYXJzZXQ6ICd1dGYtOCcsXG4gICAgY2hhcnNldFNlbnRpbmVsOiBmYWxzZSxcbiAgICBjb21tYTogZmFsc2UsXG4gICAgZGVjb2RlcjogdXRpbHMuZGVjb2RlLFxuICAgIGRlbGltaXRlcjogJyYnLFxuICAgIGRlcHRoOiA1LFxuICAgIGlnbm9yZVF1ZXJ5UHJlZml4OiBmYWxzZSxcbiAgICBpbnRlcnByZXROdW1lcmljRW50aXRpZXM6IGZhbHNlLFxuICAgIHBhcmFtZXRlckxpbWl0OiAxMDAwLFxuICAgIHBhcnNlQXJyYXlzOiB0cnVlLFxuICAgIHBsYWluT2JqZWN0czogZmFsc2UsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nOiBmYWxzZVxufTtcblxudmFyIGludGVycHJldE51bWVyaWNFbnRpdGllcyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyYjKFxcZCspOy9nLCBmdW5jdGlvbiAoJDAsIG51bWJlclN0cikge1xuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChudW1iZXJTdHIsIDEwKSk7XG4gICAgfSk7XG59O1xuXG52YXIgcGFyc2VBcnJheVZhbHVlID0gZnVuY3Rpb24gKHZhbCwgb3B0aW9ucykge1xuICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgJiYgb3B0aW9ucy5jb21tYSAmJiB2YWwuaW5kZXhPZignLCcpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHZhbC5zcGxpdCgnLCcpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWw7XG59O1xuXG4vLyBUaGlzIGlzIHdoYXQgYnJvd3NlcnMgd2lsbCBzdWJtaXQgd2hlbiB0aGUg4pyTIGNoYXJhY3RlciBvY2N1cnMgaW4gYW5cbi8vIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCBib2R5IGFuZCB0aGUgZW5jb2Rpbmcgb2YgdGhlIHBhZ2UgY29udGFpbmluZ1xuLy8gdGhlIGZvcm0gaXMgaXNvLTg4NTktMSwgb3Igd2hlbiB0aGUgc3VibWl0dGVkIGZvcm0gaGFzIGFuIGFjY2VwdC1jaGFyc2V0XG4vLyBhdHRyaWJ1dGUgb2YgaXNvLTg4NTktMS4gUHJlc3VtYWJseSBhbHNvIHdpdGggb3RoZXIgY2hhcnNldHMgdGhhdCBkbyBub3QgY29udGFpblxuLy8gdGhlIOKckyBjaGFyYWN0ZXIsIHN1Y2ggYXMgdXMtYXNjaWkuXG52YXIgaXNvU2VudGluZWwgPSAndXRmOD0lMjYlMjMxMDAwMyUzQic7IC8vIGVuY29kZVVSSUNvbXBvbmVudCgnJiMxMDAwMzsnKVxuXG4vLyBUaGVzZSBhcmUgdGhlIHBlcmNlbnQtZW5jb2RlZCB1dGYtOCBvY3RldHMgcmVwcmVzZW50aW5nIGEgY2hlY2ttYXJrLCBpbmRpY2F0aW5nIHRoYXQgdGhlIHJlcXVlc3QgYWN0dWFsbHkgaXMgdXRmLTggZW5jb2RlZC5cbnZhciBjaGFyc2V0U2VudGluZWwgPSAndXRmOD0lRTIlOUMlOTMnOyAvLyBlbmNvZGVVUklDb21wb25lbnQoJ+KckycpXG5cbnZhciBwYXJzZVZhbHVlcyA9IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmdWYWx1ZXMoc3RyLCBvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIHZhciBjbGVhblN0ciA9IG9wdGlvbnMuaWdub3JlUXVlcnlQcmVmaXggPyBzdHIucmVwbGFjZSgvXlxcPy8sICcnKSA6IHN0cjtcbiAgICB2YXIgbGltaXQgPSBvcHRpb25zLnBhcmFtZXRlckxpbWl0ID09PSBJbmZpbml0eSA/IHVuZGVmaW5lZCA6IG9wdGlvbnMucGFyYW1ldGVyTGltaXQ7XG4gICAgdmFyIHBhcnRzID0gY2xlYW5TdHIuc3BsaXQob3B0aW9ucy5kZWxpbWl0ZXIsIGxpbWl0KTtcbiAgICB2YXIgc2tpcEluZGV4ID0gLTE7IC8vIEtlZXAgdHJhY2sgb2Ygd2hlcmUgdGhlIHV0Zjggc2VudGluZWwgd2FzIGZvdW5kXG4gICAgdmFyIGk7XG5cbiAgICB2YXIgY2hhcnNldCA9IG9wdGlvbnMuY2hhcnNldDtcbiAgICBpZiAob3B0aW9ucy5jaGFyc2V0U2VudGluZWwpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAocGFydHNbaV0uaW5kZXhPZigndXRmOD0nKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0c1tpXSA9PT0gY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJzZXQgPSAndXRmLTgnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydHNbaV0gPT09IGlzb1NlbnRpbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJzZXQgPSAnaXNvLTg4NTktMSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNraXBJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgaSA9IHBhcnRzLmxlbmd0aDsgLy8gVGhlIGVzbGludCBzZXR0aW5ncyBkbyBub3QgYWxsb3cgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGkgPT09IHNraXBJbmRleCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTtcblxuICAgICAgICB2YXIgYnJhY2tldEVxdWFsc1BvcyA9IHBhcnQuaW5kZXhPZignXT0nKTtcbiAgICAgICAgdmFyIHBvcyA9IGJyYWNrZXRFcXVhbHNQb3MgPT09IC0xID8gcGFydC5pbmRleE9mKCc9JykgOiBicmFja2V0RXF1YWxzUG9zICsgMTtcblxuICAgICAgICB2YXIga2V5LCB2YWw7XG4gICAgICAgIGlmIChwb3MgPT09IC0xKSB7XG4gICAgICAgICAgICBrZXkgPSBvcHRpb25zLmRlY29kZXIocGFydCwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCwgJ2tleScpO1xuICAgICAgICAgICAgdmFsID0gb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgPyBudWxsIDogJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBrZXkgPSBvcHRpb25zLmRlY29kZXIocGFydC5zbGljZSgwLCBwb3MpLCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0LCAna2V5Jyk7XG4gICAgICAgICAgICB2YWwgPSB1dGlscy5tYXliZU1hcChcbiAgICAgICAgICAgICAgICBwYXJzZUFycmF5VmFsdWUocGFydC5zbGljZShwb3MgKyAxKSwgb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVuY29kZWRWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGVjb2RlcihlbmNvZGVkVmFsLCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0LCAndmFsdWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbCAmJiBvcHRpb25zLmludGVycHJldE51bWVyaWNFbnRpdGllcyAmJiBjaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgICAgIHZhbCA9IGludGVycHJldE51bWVyaWNFbnRpdGllcyh2YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQuaW5kZXhPZignW109JykgPiAtMSkge1xuICAgICAgICAgICAgdmFsID0gaXNBcnJheSh2YWwpID8gW3ZhbF0gOiB2YWw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzLmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHV0aWxzLmNvbWJpbmUob2JqW2tleV0sIHZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHZhbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG59O1xuXG52YXIgcGFyc2VPYmplY3QgPSBmdW5jdGlvbiAoY2hhaW4sIHZhbCwgb3B0aW9ucywgdmFsdWVzUGFyc2VkKSB7XG4gICAgdmFyIGxlYWYgPSB2YWx1ZXNQYXJzZWQgPyB2YWwgOiBwYXJzZUFycmF5VmFsdWUodmFsLCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIGkgPSBjaGFpbi5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgb2JqO1xuICAgICAgICB2YXIgcm9vdCA9IGNoYWluW2ldO1xuXG4gICAgICAgIGlmIChyb290ID09PSAnW10nICYmIG9wdGlvbnMucGFyc2VBcnJheXMpIHtcbiAgICAgICAgICAgIG9iaiA9IFtdLmNvbmNhdChsZWFmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9iaiA9IG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgICAgICAgdmFyIGNsZWFuUm9vdCA9IHJvb3QuY2hhckF0KDApID09PSAnWycgJiYgcm9vdC5jaGFyQXQocm9vdC5sZW5ndGggLSAxKSA9PT0gJ10nID8gcm9vdC5zbGljZSgxLCAtMSkgOiByb290O1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gcGFyc2VJbnQoY2xlYW5Sb290LCAxMCk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucGFyc2VBcnJheXMgJiYgY2xlYW5Sb290ID09PSAnJykge1xuICAgICAgICAgICAgICAgIG9iaiA9IHsgMDogbGVhZiB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAhaXNOYU4oaW5kZXgpXG4gICAgICAgICAgICAgICAgJiYgcm9vdCAhPT0gY2xlYW5Sb290XG4gICAgICAgICAgICAgICAgJiYgU3RyaW5nKGluZGV4KSA9PT0gY2xlYW5Sb290XG4gICAgICAgICAgICAgICAgJiYgaW5kZXggPj0gMFxuICAgICAgICAgICAgICAgICYmIChvcHRpb25zLnBhcnNlQXJyYXlzICYmIGluZGV4IDw9IG9wdGlvbnMuYXJyYXlMaW1pdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG9iaiA9IFtdO1xuICAgICAgICAgICAgICAgIG9ialtpbmRleF0gPSBsZWFmO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbGVhblJvb3QgIT09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgICAgICAgICAgb2JqW2NsZWFuUm9vdF0gPSBsZWFmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGVhZiA9IG9iajtcbiAgICB9XG5cbiAgICByZXR1cm4gbGVhZjtcbn07XG5cbnZhciBwYXJzZUtleXMgPSBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nS2V5cyhnaXZlbktleSwgdmFsLCBvcHRpb25zLCB2YWx1ZXNQYXJzZWQpIHtcbiAgICBpZiAoIWdpdmVuS2V5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUcmFuc2Zvcm0gZG90IG5vdGF0aW9uIHRvIGJyYWNrZXQgbm90YXRpb25cbiAgICB2YXIga2V5ID0gb3B0aW9ucy5hbGxvd0RvdHMgPyBnaXZlbktleS5yZXBsYWNlKC9cXC4oW14uW10rKS9nLCAnWyQxXScpIDogZ2l2ZW5LZXk7XG5cbiAgICAvLyBUaGUgcmVnZXggY2h1bmtzXG5cbiAgICB2YXIgYnJhY2tldHMgPSAvKFxcW1teW1xcXV0qXSkvO1xuICAgIHZhciBjaGlsZCA9IC8oXFxbW15bXFxdXSpdKS9nO1xuXG4gICAgLy8gR2V0IHRoZSBwYXJlbnRcblxuICAgIHZhciBzZWdtZW50ID0gb3B0aW9ucy5kZXB0aCA+IDAgJiYgYnJhY2tldHMuZXhlYyhrZXkpO1xuICAgIHZhciBwYXJlbnQgPSBzZWdtZW50ID8ga2V5LnNsaWNlKDAsIHNlZ21lbnQuaW5kZXgpIDoga2V5O1xuXG4gICAgLy8gU3Rhc2ggdGhlIHBhcmVudCBpZiBpdCBleGlzdHNcblxuICAgIHZhciBrZXlzID0gW107XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgICAvLyBJZiB3ZSBhcmVuJ3QgdXNpbmcgcGxhaW4gb2JqZWN0cywgb3B0aW9uYWxseSBwcmVmaXgga2V5cyB0aGF0IHdvdWxkIG92ZXJ3cml0ZSBvYmplY3QgcHJvdG90eXBlIHByb3BlcnRpZXNcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBwYXJlbnQpKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAga2V5cy5wdXNoKHBhcmVudCk7XG4gICAgfVxuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGNoaWxkcmVuIGFwcGVuZGluZyB0byB0aGUgYXJyYXkgdW50aWwgd2UgaGl0IGRlcHRoXG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKG9wdGlvbnMuZGVwdGggPiAwICYmIChzZWdtZW50ID0gY2hpbGQuZXhlYyhrZXkpKSAhPT0gbnVsbCAmJiBpIDwgb3B0aW9ucy5kZXB0aCkge1xuICAgICAgICBpICs9IDE7XG4gICAgICAgIGlmICghb3B0aW9ucy5wbGFpbk9iamVjdHMgJiYgaGFzLmNhbGwoT2JqZWN0LnByb3RvdHlwZSwgc2VnbWVudFsxXS5zbGljZSgxLCAtMSkpKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGtleXMucHVzaChzZWdtZW50WzFdKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSdzIGEgcmVtYWluZGVyLCBqdXN0IGFkZCB3aGF0ZXZlciBpcyBsZWZ0XG5cbiAgICBpZiAoc2VnbWVudCkge1xuICAgICAgICBrZXlzLnB1c2goJ1snICsga2V5LnNsaWNlKHNlZ21lbnQuaW5kZXgpICsgJ10nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VPYmplY3Qoa2V5cywgdmFsLCBvcHRpb25zLCB2YWx1ZXNQYXJzZWQpO1xufTtcblxudmFyIG5vcm1hbGl6ZVBhcnNlT3B0aW9ucyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVBhcnNlT3B0aW9ucyhvcHRzKSB7XG4gICAgaWYgKCFvcHRzKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0cztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5kZWNvZGVyICE9PSBudWxsICYmIG9wdHMuZGVjb2RlciAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvcHRzLmRlY29kZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRGVjb2RlciBoYXMgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMuY2hhcnNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAndXRmLTgnICYmIG9wdHMuY2hhcnNldCAhPT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjaGFyc2V0IG9wdGlvbiBtdXN0IGJlIGVpdGhlciB1dGYtOCwgaXNvLTg4NTktMSwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIHZhciBjaGFyc2V0ID0gdHlwZW9mIG9wdHMuY2hhcnNldCA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5jaGFyc2V0IDogb3B0cy5jaGFyc2V0O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWxsb3dEb3RzOiB0eXBlb2Ygb3B0cy5hbGxvd0RvdHMgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuYWxsb3dEb3RzIDogISFvcHRzLmFsbG93RG90cyxcbiAgICAgICAgYWxsb3dQcm90b3R5cGVzOiB0eXBlb2Ygb3B0cy5hbGxvd1Byb3RvdHlwZXMgPT09ICdib29sZWFuJyA/IG9wdHMuYWxsb3dQcm90b3R5cGVzIDogZGVmYXVsdHMuYWxsb3dQcm90b3R5cGVzLFxuICAgICAgICBhbGxvd1NwYXJzZTogdHlwZW9mIG9wdHMuYWxsb3dTcGFyc2UgPT09ICdib29sZWFuJyA/IG9wdHMuYWxsb3dTcGFyc2UgOiBkZWZhdWx0cy5hbGxvd1NwYXJzZSxcbiAgICAgICAgYXJyYXlMaW1pdDogdHlwZW9mIG9wdHMuYXJyYXlMaW1pdCA9PT0gJ251bWJlcicgPyBvcHRzLmFycmF5TGltaXQgOiBkZWZhdWx0cy5hcnJheUxpbWl0LFxuICAgICAgICBjaGFyc2V0OiBjaGFyc2V0LFxuICAgICAgICBjaGFyc2V0U2VudGluZWw6IHR5cGVvZiBvcHRzLmNoYXJzZXRTZW50aW5lbCA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5jaGFyc2V0U2VudGluZWwgOiBkZWZhdWx0cy5jaGFyc2V0U2VudGluZWwsXG4gICAgICAgIGNvbW1hOiB0eXBlb2Ygb3B0cy5jb21tYSA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5jb21tYSA6IGRlZmF1bHRzLmNvbW1hLFxuICAgICAgICBkZWNvZGVyOiB0eXBlb2Ygb3B0cy5kZWNvZGVyID09PSAnZnVuY3Rpb24nID8gb3B0cy5kZWNvZGVyIDogZGVmYXVsdHMuZGVjb2RlcixcbiAgICAgICAgZGVsaW1pdGVyOiB0eXBlb2Ygb3B0cy5kZWxpbWl0ZXIgPT09ICdzdHJpbmcnIHx8IHV0aWxzLmlzUmVnRXhwKG9wdHMuZGVsaW1pdGVyKSA/IG9wdHMuZGVsaW1pdGVyIDogZGVmYXVsdHMuZGVsaW1pdGVyLFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW1wbGljaXQtY29lcmNpb24sIG5vLWV4dHJhLXBhcmVuc1xuICAgICAgICBkZXB0aDogKHR5cGVvZiBvcHRzLmRlcHRoID09PSAnbnVtYmVyJyB8fCBvcHRzLmRlcHRoID09PSBmYWxzZSkgPyArb3B0cy5kZXB0aCA6IGRlZmF1bHRzLmRlcHRoLFxuICAgICAgICBpZ25vcmVRdWVyeVByZWZpeDogb3B0cy5pZ25vcmVRdWVyeVByZWZpeCA9PT0gdHJ1ZSxcbiAgICAgICAgaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzOiB0eXBlb2Ygb3B0cy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMgPT09ICdib29sZWFuJyA/IG9wdHMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzIDogZGVmYXVsdHMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzLFxuICAgICAgICBwYXJhbWV0ZXJMaW1pdDogdHlwZW9mIG9wdHMucGFyYW1ldGVyTGltaXQgPT09ICdudW1iZXInID8gb3B0cy5wYXJhbWV0ZXJMaW1pdCA6IGRlZmF1bHRzLnBhcmFtZXRlckxpbWl0LFxuICAgICAgICBwYXJzZUFycmF5czogb3B0cy5wYXJzZUFycmF5cyAhPT0gZmFsc2UsXG4gICAgICAgIHBsYWluT2JqZWN0czogdHlwZW9mIG9wdHMucGxhaW5PYmplY3RzID09PSAnYm9vbGVhbicgPyBvcHRzLnBsYWluT2JqZWN0cyA6IGRlZmF1bHRzLnBsYWluT2JqZWN0cyxcbiAgICAgICAgc3RyaWN0TnVsbEhhbmRsaW5nOiB0eXBlb2Ygb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgPT09ICdib29sZWFuJyA/IG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nIDogZGVmYXVsdHMuc3RyaWN0TnVsbEhhbmRsaW5nXG4gICAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0ciwgb3B0cykge1xuICAgIHZhciBvcHRpb25zID0gbm9ybWFsaXplUGFyc2VPcHRpb25zKG9wdHMpO1xuXG4gICAgaWYgKHN0ciA9PT0gJycgfHwgc3RyID09PSBudWxsIHx8IHR5cGVvZiBzdHIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICB9XG5cbiAgICB2YXIgdGVtcE9iaiA9IHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnID8gcGFyc2VWYWx1ZXMoc3RyLCBvcHRpb25zKSA6IHN0cjtcbiAgICB2YXIgb2JqID0gb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG5cbiAgICAvLyBJdGVyYXRlIG92ZXIgdGhlIGtleXMgYW5kIHNldHVwIHRoZSBuZXcgb2JqZWN0XG5cbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRlbXBPYmopO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgdmFyIG5ld09iaiA9IHBhcnNlS2V5cyhrZXksIHRlbXBPYmpba2V5XSwgb3B0aW9ucywgdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycpO1xuICAgICAgICBvYmogPSB1dGlscy5tZXJnZShvYmosIG5ld09iaiwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuYWxsb3dTcGFyc2UgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICByZXR1cm4gdXRpbHMuY29tcGFjdChvYmopO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGdldFNpZGVDaGFubmVsID0gcmVxdWlyZSgnc2lkZS1jaGFubmVsJyk7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgZm9ybWF0cyA9IHJlcXVpcmUoJy4vZm9ybWF0cycpO1xudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBhcnJheVByZWZpeEdlbmVyYXRvcnMgPSB7XG4gICAgYnJhY2tldHM6IGZ1bmN0aW9uIGJyYWNrZXRzKHByZWZpeCkge1xuICAgICAgICByZXR1cm4gcHJlZml4ICsgJ1tdJztcbiAgICB9LFxuICAgIGNvbW1hOiAnY29tbWEnLFxuICAgIGluZGljZXM6IGZ1bmN0aW9uIGluZGljZXMocHJlZml4LCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeCArICdbJyArIGtleSArICddJztcbiAgICB9LFxuICAgIHJlcGVhdDogZnVuY3Rpb24gcmVwZWF0KHByZWZpeCkge1xuICAgICAgICByZXR1cm4gcHJlZml4O1xuICAgIH1cbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbnZhciBzcGxpdCA9IFN0cmluZy5wcm90b3R5cGUuc3BsaXQ7XG52YXIgcHVzaCA9IEFycmF5LnByb3RvdHlwZS5wdXNoO1xudmFyIHB1c2hUb0FycmF5ID0gZnVuY3Rpb24gKGFyciwgdmFsdWVPckFycmF5KSB7XG4gICAgcHVzaC5hcHBseShhcnIsIGlzQXJyYXkodmFsdWVPckFycmF5KSA/IHZhbHVlT3JBcnJheSA6IFt2YWx1ZU9yQXJyYXldKTtcbn07XG5cbnZhciB0b0lTTyA9IERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nO1xuXG52YXIgZGVmYXVsdEZvcm1hdCA9IGZvcm1hdHNbJ2RlZmF1bHQnXTtcbnZhciBkZWZhdWx0cyA9IHtcbiAgICBhZGRRdWVyeVByZWZpeDogZmFsc2UsXG4gICAgYWxsb3dEb3RzOiBmYWxzZSxcbiAgICBjaGFyc2V0OiAndXRmLTgnLFxuICAgIGNoYXJzZXRTZW50aW5lbDogZmFsc2UsXG4gICAgZGVsaW1pdGVyOiAnJicsXG4gICAgZW5jb2RlOiB0cnVlLFxuICAgIGVuY29kZXI6IHV0aWxzLmVuY29kZSxcbiAgICBlbmNvZGVWYWx1ZXNPbmx5OiBmYWxzZSxcbiAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgZm9ybWF0dGVyOiBmb3JtYXRzLmZvcm1hdHRlcnNbZGVmYXVsdEZvcm1hdF0sXG4gICAgLy8gZGVwcmVjYXRlZFxuICAgIGluZGljZXM6IGZhbHNlLFxuICAgIHNlcmlhbGl6ZURhdGU6IGZ1bmN0aW9uIHNlcmlhbGl6ZURhdGUoZGF0ZSkge1xuICAgICAgICByZXR1cm4gdG9JU08uY2FsbChkYXRlKTtcbiAgICB9LFxuICAgIHNraXBOdWxsczogZmFsc2UsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nOiBmYWxzZVxufTtcblxudmFyIGlzTm9uTnVsbGlzaFByaW1pdGl2ZSA9IGZ1bmN0aW9uIGlzTm9uTnVsbGlzaFByaW1pdGl2ZSh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnc3RyaW5nJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ251bWJlcidcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdib29sZWFuJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ3N5bWJvbCdcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdiaWdpbnQnO1xufTtcblxudmFyIHNlbnRpbmVsID0ge307XG5cbnZhciBzdHJpbmdpZnkgPSBmdW5jdGlvbiBzdHJpbmdpZnkoXG4gICAgb2JqZWN0LFxuICAgIHByZWZpeCxcbiAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgIGNvbW1hUm91bmRUcmlwLFxuICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICBza2lwTnVsbHMsXG4gICAgZW5jb2RlcixcbiAgICBmaWx0ZXIsXG4gICAgc29ydCxcbiAgICBhbGxvd0RvdHMsXG4gICAgc2VyaWFsaXplRGF0ZSxcbiAgICBmb3JtYXQsXG4gICAgZm9ybWF0dGVyLFxuICAgIGVuY29kZVZhbHVlc09ubHksXG4gICAgY2hhcnNldCxcbiAgICBzaWRlQ2hhbm5lbFxuKSB7XG4gICAgdmFyIG9iaiA9IG9iamVjdDtcblxuICAgIHZhciB0bXBTYyA9IHNpZGVDaGFubmVsO1xuICAgIHZhciBzdGVwID0gMDtcbiAgICB2YXIgZmluZEZsYWcgPSBmYWxzZTtcbiAgICB3aGlsZSAoKHRtcFNjID0gdG1wU2MuZ2V0KHNlbnRpbmVsKSkgIT09IHZvaWQgdW5kZWZpbmVkICYmICFmaW5kRmxhZykge1xuICAgICAgICAvLyBXaGVyZSBvYmplY3QgbGFzdCBhcHBlYXJlZCBpbiB0aGUgcmVmIHRyZWVcbiAgICAgICAgdmFyIHBvcyA9IHRtcFNjLmdldChvYmplY3QpO1xuICAgICAgICBzdGVwICs9IDE7XG4gICAgICAgIGlmICh0eXBlb2YgcG9zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKHBvcyA9PT0gc3RlcCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdDeWNsaWMgb2JqZWN0IHZhbHVlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpbmRGbGFnID0gdHJ1ZTsgLy8gQnJlYWsgd2hpbGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRtcFNjLmdldChzZW50aW5lbCkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBzdGVwID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9iaiA9IGZpbHRlcihwcmVmaXgsIG9iaik7XG4gICAgfSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIG9iaiA9IHNlcmlhbGl6ZURhdGUob2JqKTtcbiAgICB9IGVsc2UgaWYgKGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdjb21tYScgJiYgaXNBcnJheShvYmopKSB7XG4gICAgICAgIG9iaiA9IHV0aWxzLm1heWJlTWFwKG9iaiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZURhdGUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICAgIGlmIChzdHJpY3ROdWxsSGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVyICYmICFlbmNvZGVWYWx1ZXNPbmx5ID8gZW5jb2RlcihwcmVmaXgsIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICdrZXknLCBmb3JtYXQpIDogcHJlZml4O1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKGlzTm9uTnVsbGlzaFByaW1pdGl2ZShvYmopIHx8IHV0aWxzLmlzQnVmZmVyKG9iaikpIHtcbiAgICAgICAgaWYgKGVuY29kZXIpIHtcbiAgICAgICAgICAgIHZhciBrZXlWYWx1ZSA9IGVuY29kZVZhbHVlc09ubHkgPyBwcmVmaXggOiBlbmNvZGVyKHByZWZpeCwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ2tleScsIGZvcm1hdCk7XG4gICAgICAgICAgICBpZiAoZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBlbmNvZGVWYWx1ZXNPbmx5KSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlc0FycmF5ID0gc3BsaXQuY2FsbChTdHJpbmcob2JqKSwgJywnKTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVzSm9pbmVkID0gJyc7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXNBcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNKb2luZWQgKz0gKGkgPT09IDAgPyAnJyA6ICcsJykgKyBmb3JtYXR0ZXIoZW5jb2Rlcih2YWx1ZXNBcnJheVtpXSwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ3ZhbHVlJywgZm9ybWF0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBbZm9ybWF0dGVyKGtleVZhbHVlKSArIChjb21tYVJvdW5kVHJpcCAmJiBpc0FycmF5KG9iaikgJiYgdmFsdWVzQXJyYXkubGVuZ3RoID09PSAxID8gJ1tdJyA6ICcnKSArICc9JyArIHZhbHVlc0pvaW5lZF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW2Zvcm1hdHRlcihrZXlWYWx1ZSkgKyAnPScgKyBmb3JtYXR0ZXIoZW5jb2RlcihvYmosIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICd2YWx1ZScsIGZvcm1hdCkpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2Zvcm1hdHRlcihwcmVmaXgpICsgJz0nICsgZm9ybWF0dGVyKFN0cmluZyhvYmopKV07XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgdmFyIG9iaktleXM7XG4gICAgaWYgKGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdjb21tYScgJiYgaXNBcnJheShvYmopKSB7XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gam9pbiBlbGVtZW50cyBpblxuICAgICAgICBvYmpLZXlzID0gW3sgdmFsdWU6IG9iai5sZW5ndGggPiAwID8gb2JqLmpvaW4oJywnKSB8fCBudWxsIDogdm9pZCB1bmRlZmluZWQgfV07XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGZpbHRlcikpIHtcbiAgICAgICAgb2JqS2V5cyA9IGZpbHRlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIG9iaktleXMgPSBzb3J0ID8ga2V5cy5zb3J0KHNvcnQpIDoga2V5cztcbiAgICB9XG5cbiAgICB2YXIgYWRqdXN0ZWRQcmVmaXggPSBjb21tYVJvdW5kVHJpcCAmJiBpc0FycmF5KG9iaikgJiYgb2JqLmxlbmd0aCA9PT0gMSA/IHByZWZpeCArICdbXScgOiBwcmVmaXg7XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iaktleXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgdmFyIGtleSA9IG9iaktleXNbal07XG4gICAgICAgIHZhciB2YWx1ZSA9IHR5cGVvZiBrZXkgPT09ICdvYmplY3QnICYmIHR5cGVvZiBrZXkudmFsdWUgIT09ICd1bmRlZmluZWQnID8ga2V5LnZhbHVlIDogb2JqW2tleV07XG5cbiAgICAgICAgaWYgKHNraXBOdWxscyAmJiB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIga2V5UHJlZml4ID0gaXNBcnJheShvYmopXG4gICAgICAgICAgICA/IHR5cGVvZiBnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnZnVuY3Rpb24nID8gZ2VuZXJhdGVBcnJheVByZWZpeChhZGp1c3RlZFByZWZpeCwga2V5KSA6IGFkanVzdGVkUHJlZml4XG4gICAgICAgICAgICA6IGFkanVzdGVkUHJlZml4ICsgKGFsbG93RG90cyA/ICcuJyArIGtleSA6ICdbJyArIGtleSArICddJyk7XG5cbiAgICAgICAgc2lkZUNoYW5uZWwuc2V0KG9iamVjdCwgc3RlcCk7XG4gICAgICAgIHZhciB2YWx1ZVNpZGVDaGFubmVsID0gZ2V0U2lkZUNoYW5uZWwoKTtcbiAgICAgICAgdmFsdWVTaWRlQ2hhbm5lbC5zZXQoc2VudGluZWwsIHNpZGVDaGFubmVsKTtcbiAgICAgICAgcHVzaFRvQXJyYXkodmFsdWVzLCBzdHJpbmdpZnkoXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGtleVByZWZpeCxcbiAgICAgICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgICAgICAgICBjb21tYVJvdW5kVHJpcCxcbiAgICAgICAgICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgIHNraXBOdWxscyxcbiAgICAgICAgICAgIGVuY29kZXIsXG4gICAgICAgICAgICBmaWx0ZXIsXG4gICAgICAgICAgICBzb3J0LFxuICAgICAgICAgICAgYWxsb3dEb3RzLFxuICAgICAgICAgICAgc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgICAgIGZvcm1hdCxcbiAgICAgICAgICAgIGZvcm1hdHRlcixcbiAgICAgICAgICAgIGVuY29kZVZhbHVlc09ubHksXG4gICAgICAgICAgICBjaGFyc2V0LFxuICAgICAgICAgICAgdmFsdWVTaWRlQ2hhbm5lbFxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzO1xufTtcblxudmFyIG5vcm1hbGl6ZVN0cmluZ2lmeU9wdGlvbnMgPSBmdW5jdGlvbiBub3JtYWxpemVTdHJpbmdpZnlPcHRpb25zKG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmVuY29kZXIgIT09IG51bGwgJiYgdHlwZW9mIG9wdHMuZW5jb2RlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG9wdHMuZW5jb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFbmNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBjaGFyc2V0ID0gb3B0cy5jaGFyc2V0IHx8IGRlZmF1bHRzLmNoYXJzZXQ7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmNoYXJzZXQgIT09ICd1bmRlZmluZWQnICYmIG9wdHMuY2hhcnNldCAhPT0gJ3V0Zi04JyAmJiBvcHRzLmNoYXJzZXQgIT09ICdpc28tODg1OS0xJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY2hhcnNldCBvcHRpb24gbXVzdCBiZSBlaXRoZXIgdXRmLTgsIGlzby04ODU5LTEsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIHZhciBmb3JtYXQgPSBmb3JtYXRzWydkZWZhdWx0J107XG4gICAgaWYgKHR5cGVvZiBvcHRzLmZvcm1hdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKCFoYXMuY2FsbChmb3JtYXRzLmZvcm1hdHRlcnMsIG9wdHMuZm9ybWF0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBmb3JtYXQgb3B0aW9uIHByb3ZpZGVkLicpO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdCA9IG9wdHMuZm9ybWF0O1xuICAgIH1cbiAgICB2YXIgZm9ybWF0dGVyID0gZm9ybWF0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cbiAgICB2YXIgZmlsdGVyID0gZGVmYXVsdHMuZmlsdGVyO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbicgfHwgaXNBcnJheShvcHRzLmZpbHRlcikpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0cy5maWx0ZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkUXVlcnlQcmVmaXg6IHR5cGVvZiBvcHRzLmFkZFF1ZXJ5UHJlZml4ID09PSAnYm9vbGVhbicgPyBvcHRzLmFkZFF1ZXJ5UHJlZml4IDogZGVmYXVsdHMuYWRkUXVlcnlQcmVmaXgsXG4gICAgICAgIGFsbG93RG90czogdHlwZW9mIG9wdHMuYWxsb3dEb3RzID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmFsbG93RG90cyA6ICEhb3B0cy5hbGxvd0RvdHMsXG4gICAgICAgIGNoYXJzZXQ6IGNoYXJzZXQsXG4gICAgICAgIGNoYXJzZXRTZW50aW5lbDogdHlwZW9mIG9wdHMuY2hhcnNldFNlbnRpbmVsID09PSAnYm9vbGVhbicgPyBvcHRzLmNoYXJzZXRTZW50aW5lbCA6IGRlZmF1bHRzLmNoYXJzZXRTZW50aW5lbCxcbiAgICAgICAgZGVsaW1pdGVyOiB0eXBlb2Ygb3B0cy5kZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuZGVsaW1pdGVyIDogb3B0cy5kZWxpbWl0ZXIsXG4gICAgICAgIGVuY29kZTogdHlwZW9mIG9wdHMuZW5jb2RlID09PSAnYm9vbGVhbicgPyBvcHRzLmVuY29kZSA6IGRlZmF1bHRzLmVuY29kZSxcbiAgICAgICAgZW5jb2RlcjogdHlwZW9mIG9wdHMuZW5jb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuZW5jb2RlciA6IGRlZmF1bHRzLmVuY29kZXIsXG4gICAgICAgIGVuY29kZVZhbHVlc09ubHk6IHR5cGVvZiBvcHRzLmVuY29kZVZhbHVlc09ubHkgPT09ICdib29sZWFuJyA/IG9wdHMuZW5jb2RlVmFsdWVzT25seSA6IGRlZmF1bHRzLmVuY29kZVZhbHVlc09ubHksXG4gICAgICAgIGZpbHRlcjogZmlsdGVyLFxuICAgICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgICAgZm9ybWF0dGVyOiBmb3JtYXR0ZXIsXG4gICAgICAgIHNlcmlhbGl6ZURhdGU6IHR5cGVvZiBvcHRzLnNlcmlhbGl6ZURhdGUgPT09ICdmdW5jdGlvbicgPyBvcHRzLnNlcmlhbGl6ZURhdGUgOiBkZWZhdWx0cy5zZXJpYWxpemVEYXRlLFxuICAgICAgICBza2lwTnVsbHM6IHR5cGVvZiBvcHRzLnNraXBOdWxscyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5za2lwTnVsbHMgOiBkZWZhdWx0cy5za2lwTnVsbHMsXG4gICAgICAgIHNvcnQ6IHR5cGVvZiBvcHRzLnNvcnQgPT09ICdmdW5jdGlvbicgPyBvcHRzLnNvcnQgOiBudWxsLFxuICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IHR5cGVvZiBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBkZWZhdWx0cy5zdHJpY3ROdWxsSGFuZGxpbmdcbiAgICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBvcHRzKSB7XG4gICAgdmFyIG9iaiA9IG9iamVjdDtcbiAgICB2YXIgb3B0aW9ucyA9IG5vcm1hbGl6ZVN0cmluZ2lmeU9wdGlvbnMob3B0cyk7XG5cbiAgICB2YXIgb2JqS2V5cztcbiAgICB2YXIgZmlsdGVyO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgb2JqID0gZmlsdGVyKCcnLCBvYmopO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvcHRpb25zLmZpbHRlcikpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgICAgIG9iaktleXMgPSBmaWx0ZXI7XG4gICAgfVxuXG4gICAgdmFyIGtleXMgPSBbXTtcblxuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHZhciBhcnJheUZvcm1hdDtcbiAgICBpZiAob3B0cyAmJiBvcHRzLmFycmF5Rm9ybWF0IGluIGFycmF5UHJlZml4R2VuZXJhdG9ycykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdHMuYXJyYXlGb3JtYXQ7XG4gICAgfSBlbHNlIGlmIChvcHRzICYmICdpbmRpY2VzJyBpbiBvcHRzKSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gb3B0cy5pbmRpY2VzID8gJ2luZGljZXMnIDogJ3JlcGVhdCc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSAnaW5kaWNlcyc7XG4gICAgfVxuXG4gICAgdmFyIGdlbmVyYXRlQXJyYXlQcmVmaXggPSBhcnJheVByZWZpeEdlbmVyYXRvcnNbYXJyYXlGb3JtYXRdO1xuICAgIGlmIChvcHRzICYmICdjb21tYVJvdW5kVHJpcCcgaW4gb3B0cyAmJiB0eXBlb2Ygb3B0cy5jb21tYVJvdW5kVHJpcCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Bjb21tYVJvdW5kVHJpcGAgbXVzdCBiZSBhIGJvb2xlYW4sIG9yIGFic2VudCcpO1xuICAgIH1cbiAgICB2YXIgY29tbWFSb3VuZFRyaXAgPSBnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnY29tbWEnICYmIG9wdHMgJiYgb3B0cy5jb21tYVJvdW5kVHJpcDtcblxuICAgIGlmICghb2JqS2V5cykge1xuICAgICAgICBvYmpLZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5zb3J0KSB7XG4gICAgICAgIG9iaktleXMuc29ydChvcHRpb25zLnNvcnQpO1xuICAgIH1cblxuICAgIHZhciBzaWRlQ2hhbm5lbCA9IGdldFNpZGVDaGFubmVsKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmpLZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpLZXlzW2ldO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNraXBOdWxscyAmJiBvYmpba2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcHVzaFRvQXJyYXkoa2V5cywgc3RyaW5naWZ5KFxuICAgICAgICAgICAgb2JqW2tleV0sXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgICAgICAgICAgY29tbWFSb3VuZFRyaXAsXG4gICAgICAgICAgICBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgIG9wdGlvbnMuc2tpcE51bGxzLFxuICAgICAgICAgICAgb3B0aW9ucy5lbmNvZGUgPyBvcHRpb25zLmVuY29kZXIgOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9ucy5maWx0ZXIsXG4gICAgICAgICAgICBvcHRpb25zLnNvcnQsXG4gICAgICAgICAgICBvcHRpb25zLmFsbG93RG90cyxcbiAgICAgICAgICAgIG9wdGlvbnMuc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgICAgIG9wdGlvbnMuZm9ybWF0LFxuICAgICAgICAgICAgb3B0aW9ucy5mb3JtYXR0ZXIsXG4gICAgICAgICAgICBvcHRpb25zLmVuY29kZVZhbHVlc09ubHksXG4gICAgICAgICAgICBvcHRpb25zLmNoYXJzZXQsXG4gICAgICAgICAgICBzaWRlQ2hhbm5lbFxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICB2YXIgam9pbmVkID0ga2V5cy5qb2luKG9wdGlvbnMuZGVsaW1pdGVyKTtcbiAgICB2YXIgcHJlZml4ID0gb3B0aW9ucy5hZGRRdWVyeVByZWZpeCA9PT0gdHJ1ZSA/ICc/JyA6ICcnO1xuXG4gICAgaWYgKG9wdGlvbnMuY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAgICAgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCcmIzEwMDAzOycpLCB0aGUgXCJudW1lcmljIGVudGl0eVwiIHJlcHJlc2VudGF0aW9uIG9mIGEgY2hlY2ttYXJrXG4gICAgICAgICAgICBwcmVmaXggKz0gJ3V0Zjg9JTI2JTIzMTAwMDMlM0ImJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVuY29kZVVSSUNvbXBvbmVudCgn4pyTJylcbiAgICAgICAgICAgIHByZWZpeCArPSAndXRmOD0lRTIlOUMlOTMmJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBqb2luZWQubGVuZ3RoID4gMCA/IHByZWZpeCArIGpvaW5lZCA6ICcnO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGZvcm1hdHMgPSByZXF1aXJlKCcuL2Zvcm1hdHMnKTtcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbnZhciBoZXhUYWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgICAgICBhcnJheS5wdXNoKCclJyArICgoaSA8IDE2ID8gJzAnIDogJycpICsgaS50b1N0cmluZygxNikpLnRvVXBwZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn0oKSk7XG5cbnZhciBjb21wYWN0UXVldWUgPSBmdW5jdGlvbiBjb21wYWN0UXVldWUocXVldWUpIHtcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMSkge1xuICAgICAgICB2YXIgaXRlbSA9IHF1ZXVlLnBvcCgpO1xuICAgICAgICB2YXIgb2JqID0gaXRlbS5vYmpbaXRlbS5wcm9wXTtcblxuICAgICAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICB2YXIgY29tcGFjdGVkID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmpbal0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBhY3RlZC5wdXNoKG9ialtqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpdGVtLm9ialtpdGVtLnByb3BdID0gY29tcGFjdGVkO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGFycmF5VG9PYmplY3QgPSBmdW5jdGlvbiBhcnJheVRvT2JqZWN0KHNvdXJjZSwgb3B0aW9ucykge1xuICAgIHZhciBvYmogPSBvcHRpb25zICYmIG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlW2ldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgb2JqW2ldID0gc291cmNlW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBtZXJnZSA9IGZ1bmN0aW9uIG1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgLyogZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOiAwICovXG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGFyZ2V0LnB1c2goc291cmNlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQgJiYgdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICgob3B0aW9ucyAmJiAob3B0aW9ucy5wbGFpbk9iamVjdHMgfHwgb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpKSB8fCAhaGFzLmNhbGwoT2JqZWN0LnByb3RvdHlwZSwgc291cmNlKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtzb3VyY2VdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbdGFyZ2V0LCBzb3VyY2VdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldCB8fCB0eXBlb2YgdGFyZ2V0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gW3RhcmdldF0uY29uY2F0KHNvdXJjZSk7XG4gICAgfVxuXG4gICAgdmFyIG1lcmdlVGFyZ2V0ID0gdGFyZ2V0O1xuICAgIGlmIChpc0FycmF5KHRhcmdldCkgJiYgIWlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICBtZXJnZVRhcmdldCA9IGFycmF5VG9PYmplY3QodGFyZ2V0LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheSh0YXJnZXQpICYmIGlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICBzb3VyY2UuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICAgICAgaWYgKGhhcy5jYWxsKHRhcmdldCwgaSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SXRlbSA9IHRhcmdldFtpXTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0SXRlbSAmJiB0eXBlb2YgdGFyZ2V0SXRlbSA9PT0gJ29iamVjdCcgJiYgaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gbWVyZ2UodGFyZ2V0SXRlbSwgaXRlbSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbaV0gPSBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVtrZXldO1xuXG4gICAgICAgIGlmIChoYXMuY2FsbChhY2MsIGtleSkpIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gbWVyZ2UoYWNjW2tleV0sIHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBtZXJnZVRhcmdldCk7XG59O1xuXG52YXIgYXNzaWduID0gZnVuY3Rpb24gYXNzaWduU2luZ2xlU291cmNlKHRhcmdldCwgc291cmNlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICBhY2Nba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHRhcmdldCk7XG59O1xuXG52YXIgZGVjb2RlID0gZnVuY3Rpb24gKHN0ciwgZGVjb2RlciwgY2hhcnNldCkge1xuICAgIHZhciBzdHJXaXRob3V0UGx1cyA9IHN0ci5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIC8vIHVuZXNjYXBlIG5ldmVyIHRocm93cywgbm8gdHJ5Li4uY2F0Y2ggbmVlZGVkOlxuICAgICAgICByZXR1cm4gc3RyV2l0aG91dFBsdXMucmVwbGFjZSgvJVswLTlhLWZdezJ9L2dpLCB1bmVzY2FwZSk7XG4gICAgfVxuICAgIC8vIHV0Zi04XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHJXaXRob3V0UGx1cyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gc3RyV2l0aG91dFBsdXM7XG4gICAgfVxufTtcblxudmFyIGVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShzdHIsIGRlZmF1bHRFbmNvZGVyLCBjaGFyc2V0LCBraW5kLCBmb3JtYXQpIHtcbiAgICAvLyBUaGlzIGNvZGUgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBieSBCcmlhbiBXaGl0ZSAobXNjZGV4KSBmb3IgdGhlIGlvLmpzIGNvcmUgcXVlcnlzdHJpbmcgbGlicmFyeS5cbiAgICAvLyBJdCBoYXMgYmVlbiBhZGFwdGVkIGhlcmUgZm9yIHN0cmljdGVyIGFkaGVyZW5jZSB0byBSRkMgMzk4NlxuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgdmFyIHN0cmluZyA9IHN0cjtcbiAgICBpZiAodHlwZW9mIHN0ciA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgc3RyaW5nID0gU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN0cik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICBzdHJpbmcgPSBTdHJpbmcoc3RyKTtcbiAgICB9XG5cbiAgICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHJldHVybiBlc2NhcGUoc3RyaW5nKS5yZXBsYWNlKC8ldVswLTlhLWZdezR9L2dpLCBmdW5jdGlvbiAoJDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJTI2JTIzJyArIHBhcnNlSW50KCQwLnNsaWNlKDIpLCAxNikgKyAnJTNCJztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIG91dCA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgYyA9PT0gMHgyRCAvLyAtXG4gICAgICAgICAgICB8fCBjID09PSAweDJFIC8vIC5cbiAgICAgICAgICAgIHx8IGMgPT09IDB4NUYgLy8gX1xuICAgICAgICAgICAgfHwgYyA9PT0gMHg3RSAvLyB+XG4gICAgICAgICAgICB8fCAoYyA+PSAweDMwICYmIGMgPD0gMHgzOSkgLy8gMC05XG4gICAgICAgICAgICB8fCAoYyA+PSAweDQxICYmIGMgPD0gMHg1QSkgLy8gYS16XG4gICAgICAgICAgICB8fCAoYyA+PSAweDYxICYmIGMgPD0gMHg3QSkgLy8gQS1aXG4gICAgICAgICAgICB8fCAoZm9ybWF0ID09PSBmb3JtYXRzLlJGQzE3MzggJiYgKGMgPT09IDB4MjggfHwgYyA9PT0gMHgyOSkpIC8vICggKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIG91dCArPSBzdHJpbmcuY2hhckF0KGkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4ODApIHtcbiAgICAgICAgICAgIG91dCA9IG91dCArIGhleFRhYmxlW2NdO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyAoaGV4VGFibGVbMHhDMCB8IChjID4+IDYpXSArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHhEODAwIHx8IGMgPj0gMHhFMDAwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyAoaGV4VGFibGVbMHhFMCB8IChjID4+IDEyKV0gKyBoZXhUYWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzRildICsgaGV4VGFibGVbMHg4MCB8IChjICYgMHgzRildKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaSArPSAxO1xuICAgICAgICBjID0gMHgxMDAwMCArICgoKGMgJiAweDNGRikgPDwgMTApIHwgKHN0cmluZy5jaGFyQ29kZUF0KGkpICYgMHgzRkYpKTtcbiAgICAgICAgLyogZXNsaW50IG9wZXJhdG9yLWxpbmVicmVhazogWzIsIFwiYmVmb3JlXCJdICovXG4gICAgICAgIG91dCArPSBoZXhUYWJsZVsweEYwIHwgKGMgPj4gMTgpXVxuICAgICAgICAgICAgKyBoZXhUYWJsZVsweDgwIHwgKChjID4+IDEyKSAmIDB4M0YpXVxuICAgICAgICAgICAgKyBoZXhUYWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzRildXG4gICAgICAgICAgICArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0O1xufTtcblxudmFyIGNvbXBhY3QgPSBmdW5jdGlvbiBjb21wYWN0KHZhbHVlKSB7XG4gICAgdmFyIHF1ZXVlID0gW3sgb2JqOiB7IG86IHZhbHVlIH0sIHByb3A6ICdvJyB9XTtcbiAgICB2YXIgcmVmcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgaXRlbSA9IHF1ZXVlW2ldO1xuICAgICAgICB2YXIgb2JqID0gaXRlbS5vYmpbaXRlbS5wcm9wXTtcblxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwga2V5cy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbal07XG4gICAgICAgICAgICB2YXIgdmFsID0gb2JqW2tleV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsICYmIHJlZnMuaW5kZXhPZih2YWwpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goeyBvYmo6IG9iaiwgcHJvcDoga2V5IH0pO1xuICAgICAgICAgICAgICAgIHJlZnMucHVzaCh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcGFjdFF1ZXVlKHF1ZXVlKTtcblxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbnZhciBpc1JlZ0V4cCA9IGZ1bmN0aW9uIGlzUmVnRXhwKG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59O1xuXG52YXIgaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlcihvYmopIHtcbiAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuICEhKG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iaikpO1xufTtcblxudmFyIGNvbWJpbmUgPSBmdW5jdGlvbiBjb21iaW5lKGEsIGIpIHtcbiAgICByZXR1cm4gW10uY29uY2F0KGEsIGIpO1xufTtcblxudmFyIG1heWJlTWFwID0gZnVuY3Rpb24gbWF5YmVNYXAodmFsLCBmbikge1xuICAgIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICAgICAgdmFyIG1hcHBlZCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgbWFwcGVkLnB1c2goZm4odmFsW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcHBlZDtcbiAgICB9XG4gICAgcmV0dXJuIGZuKHZhbCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBhcnJheVRvT2JqZWN0OiBhcnJheVRvT2JqZWN0LFxuICAgIGFzc2lnbjogYXNzaWduLFxuICAgIGNvbWJpbmU6IGNvbWJpbmUsXG4gICAgY29tcGFjdDogY29tcGFjdCxcbiAgICBkZWNvZGU6IGRlY29kZSxcbiAgICBlbmNvZGU6IGVuY29kZSxcbiAgICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gICAgaXNSZWdFeHA6IGlzUmVnRXhwLFxuICAgIG1heWJlTWFwOiBtYXliZU1hcCxcbiAgICBtZXJnZTogbWVyZ2Vcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBHZXRJbnRyaW5zaWMgPSByZXF1aXJlKCdnZXQtaW50cmluc2ljJyk7XG52YXIgY2FsbEJvdW5kID0gcmVxdWlyZSgnY2FsbC1iaW5kL2NhbGxCb3VuZCcpO1xudmFyIGluc3BlY3QgPSByZXF1aXJlKCdvYmplY3QtaW5zcGVjdCcpO1xuXG52YXIgJFR5cGVFcnJvciA9IEdldEludHJpbnNpYygnJVR5cGVFcnJvciUnKTtcbnZhciAkV2Vha01hcCA9IEdldEludHJpbnNpYygnJVdlYWtNYXAlJywgdHJ1ZSk7XG52YXIgJE1hcCA9IEdldEludHJpbnNpYygnJU1hcCUnLCB0cnVlKTtcblxudmFyICR3ZWFrTWFwR2V0ID0gY2FsbEJvdW5kKCdXZWFrTWFwLnByb3RvdHlwZS5nZXQnLCB0cnVlKTtcbnZhciAkd2Vha01hcFNldCA9IGNhbGxCb3VuZCgnV2Vha01hcC5wcm90b3R5cGUuc2V0JywgdHJ1ZSk7XG52YXIgJHdlYWtNYXBIYXMgPSBjYWxsQm91bmQoJ1dlYWtNYXAucHJvdG90eXBlLmhhcycsIHRydWUpO1xudmFyICRtYXBHZXQgPSBjYWxsQm91bmQoJ01hcC5wcm90b3R5cGUuZ2V0JywgdHJ1ZSk7XG52YXIgJG1hcFNldCA9IGNhbGxCb3VuZCgnTWFwLnByb3RvdHlwZS5zZXQnLCB0cnVlKTtcbnZhciAkbWFwSGFzID0gY2FsbEJvdW5kKCdNYXAucHJvdG90eXBlLmhhcycsIHRydWUpO1xuXG4vKlxuICogVGhpcyBmdW5jdGlvbiB0cmF2ZXJzZXMgdGhlIGxpc3QgcmV0dXJuaW5nIHRoZSBub2RlIGNvcnJlc3BvbmRpbmcgdG8gdGhlXG4gKiBnaXZlbiBrZXkuXG4gKlxuICogVGhhdCBub2RlIGlzIGFsc28gbW92ZWQgdG8gdGhlIGhlYWQgb2YgdGhlIGxpc3QsIHNvIHRoYXQgaWYgaXQncyBhY2Nlc3NlZFxuICogYWdhaW4gd2UgZG9uJ3QgbmVlZCB0byB0cmF2ZXJzZSB0aGUgd2hvbGUgbGlzdC4gQnkgZG9pbmcgc28sIGFsbCB0aGUgcmVjZW50bHlcbiAqIHVzZWQgbm9kZXMgY2FuIGJlIGFjY2Vzc2VkIHJlbGF0aXZlbHkgcXVpY2tseS5cbiAqL1xudmFyIGxpc3RHZXROb2RlID0gZnVuY3Rpb24gKGxpc3QsIGtleSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG5cdGZvciAodmFyIHByZXYgPSBsaXN0LCBjdXJyOyAoY3VyciA9IHByZXYubmV4dCkgIT09IG51bGw7IHByZXYgPSBjdXJyKSB7XG5cdFx0aWYgKGN1cnIua2V5ID09PSBrZXkpIHtcblx0XHRcdHByZXYubmV4dCA9IGN1cnIubmV4dDtcblx0XHRcdGN1cnIubmV4dCA9IGxpc3QubmV4dDtcblx0XHRcdGxpc3QubmV4dCA9IGN1cnI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cblx0XHRcdHJldHVybiBjdXJyO1xuXHRcdH1cblx0fVxufTtcblxudmFyIGxpc3RHZXQgPSBmdW5jdGlvbiAob2JqZWN0cywga2V5KSB7XG5cdHZhciBub2RlID0gbGlzdEdldE5vZGUob2JqZWN0cywga2V5KTtcblx0cmV0dXJuIG5vZGUgJiYgbm9kZS52YWx1ZTtcbn07XG52YXIgbGlzdFNldCA9IGZ1bmN0aW9uIChvYmplY3RzLCBrZXksIHZhbHVlKSB7XG5cdHZhciBub2RlID0gbGlzdEdldE5vZGUob2JqZWN0cywga2V5KTtcblx0aWYgKG5vZGUpIHtcblx0XHRub2RlLnZhbHVlID0gdmFsdWU7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gUHJlcGVuZCB0aGUgbmV3IG5vZGUgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgbGlzdFxuXHRcdG9iamVjdHMubmV4dCA9IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuXHRcdFx0a2V5OiBrZXksXG5cdFx0XHRuZXh0OiBvYmplY3RzLm5leHQsXG5cdFx0XHR2YWx1ZTogdmFsdWVcblx0XHR9O1xuXHR9XG59O1xudmFyIGxpc3RIYXMgPSBmdW5jdGlvbiAob2JqZWN0cywga2V5KSB7XG5cdHJldHVybiAhIWxpc3RHZXROb2RlKG9iamVjdHMsIGtleSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldFNpZGVDaGFubmVsKCkge1xuXHR2YXIgJHdtO1xuXHR2YXIgJG07XG5cdHZhciAkbztcblx0dmFyIGNoYW5uZWwgPSB7XG5cdFx0YXNzZXJ0OiBmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRpZiAoIWNoYW5uZWwuaGFzKGtleSkpIHtcblx0XHRcdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ1NpZGUgY2hhbm5lbCBkb2VzIG5vdCBjb250YWluICcgKyBpbnNwZWN0KGtleSkpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Z2V0OiBmdW5jdGlvbiAoa2V5KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY29uc2lzdGVudC1yZXR1cm5cblx0XHRcdGlmICgkV2Vha01hcCAmJiBrZXkgJiYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBrZXkgPT09ICdmdW5jdGlvbicpKSB7XG5cdFx0XHRcdGlmICgkd20pIHtcblx0XHRcdFx0XHRyZXR1cm4gJHdlYWtNYXBHZXQoJHdtLCBrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKCRNYXApIHtcblx0XHRcdFx0aWYgKCRtKSB7XG5cdFx0XHRcdFx0cmV0dXJuICRtYXBHZXQoJG0sIGtleSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICgkbykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxvbmVseS1pZlxuXHRcdFx0XHRcdHJldHVybiBsaXN0R2V0KCRvLCBrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRoYXM6IGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdGlmICgkV2Vha01hcCAmJiBrZXkgJiYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBrZXkgPT09ICdmdW5jdGlvbicpKSB7XG5cdFx0XHRcdGlmICgkd20pIHtcblx0XHRcdFx0XHRyZXR1cm4gJHdlYWtNYXBIYXMoJHdtLCBrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKCRNYXApIHtcblx0XHRcdFx0aWYgKCRtKSB7XG5cdFx0XHRcdFx0cmV0dXJuICRtYXBIYXMoJG0sIGtleSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICgkbykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxvbmVseS1pZlxuXHRcdFx0XHRcdHJldHVybiBsaXN0SGFzKCRvLCBrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG5cdFx0XHRpZiAoJFdlYWtNYXAgJiYga2V5ICYmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0JyB8fCB0eXBlb2Yga2V5ID09PSAnZnVuY3Rpb24nKSkge1xuXHRcdFx0XHRpZiAoISR3bSkge1xuXHRcdFx0XHRcdCR3bSA9IG5ldyAkV2Vha01hcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCR3ZWFrTWFwU2V0KCR3bSwga2V5LCB2YWx1ZSk7XG5cdFx0XHR9IGVsc2UgaWYgKCRNYXApIHtcblx0XHRcdFx0aWYgKCEkbSkge1xuXHRcdFx0XHRcdCRtID0gbmV3ICRNYXAoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQkbWFwU2V0KCRtLCBrZXksIHZhbHVlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICghJG8pIHtcblx0XHRcdFx0XHQvKlxuXHRcdFx0XHRcdCAqIEluaXRpYWxpemUgdGhlIGxpbmtlZCBsaXN0IGFzIGFuIGVtcHR5IG5vZGUsIHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZVxuXHRcdFx0XHRcdCAqIHRvIHNwZWNpYWwtY2FzZSBoYW5kbGluZyBvZiB0aGUgZmlyc3Qgbm9kZTogd2UgY2FuIGFsd2F5cyByZWZlciB0b1xuXHRcdFx0XHRcdCAqIGl0IGFzIChwcmV2aW91cyBub2RlKS5uZXh0LCBpbnN0ZWFkIG9mIHNvbWV0aGluZyBsaWtlIChsaXN0KS5oZWFkXG5cdFx0XHRcdFx0ICovXG5cdFx0XHRcdFx0JG8gPSB7IGtleToge30sIG5leHQ6IG51bGwgfTtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0U2V0KCRvLCBrZXksIHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBjaGFubmVsO1xufTtcbiIsIi8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuNC4xIGJ5IEBtYXRoaWFzICovXG47KGZ1bmN0aW9uKHJvb3QpIHtcblxuXHQvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiZcblx0XHQhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXHR2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmXG5cdFx0IW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cdHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG5cdGlmIChcblx0XHRmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsXG5cdCkge1xuXHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC5cblx0ICogQG5hbWUgcHVueWNvZGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHR2YXIgcHVueWNvZGUsXG5cblx0LyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXHRtYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xXG5cblx0LyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqL1xuXHRiYXNlID0gMzYsXG5cdHRNaW4gPSAxLFxuXHR0TWF4ID0gMjYsXG5cdHNrZXcgPSAzOCxcblx0ZGFtcCA9IDcwMCxcblx0aW5pdGlhbEJpYXMgPSA3Mixcblx0aW5pdGlhbE4gPSAxMjgsIC8vIDB4ODBcblx0ZGVsaW1pdGVyID0gJy0nLCAvLyAnXFx4MkQnXG5cblx0LyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi9cblx0cmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sXG5cdHJlZ2V4Tm9uQVNDSUkgPSAvW15cXHgyMC1cXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFyc1xuXHRyZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cblx0LyoqIEVycm9yIG1lc3NhZ2VzICovXG5cdGVycm9ycyA9IHtcblx0XHQnb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLFxuXHRcdCdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsXG5cdFx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcblx0fSxcblxuXHQvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovXG5cdGJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbixcblx0Zmxvb3IgPSBNYXRoLmZsb29yLFxuXHRzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuXG5cdC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi9cblx0a2V5O1xuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS5cblx0ICovXG5cdGZ1bmN0aW9uIGVycm9yKHR5cGUpIHtcblx0XHR0aHJvdyBuZXcgUmFuZ2VFcnJvcihlcnJvcnNbdHlwZV0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXlcblx0ICogaXRlbS5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwKGFycmF5LCBmbikge1xuXHRcdHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdHdoaWxlIChsZW5ndGgtLSkge1xuXHRcdFx0cmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWxcblx0ICogYWRkcmVzc2VzLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnlcblx0ICogY2hhcmFjdGVyLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFja1xuXHQgKiBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7XG5cdFx0dmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7XG5cdFx0dmFyIHJlc3VsdCA9ICcnO1xuXHRcdGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG5cdFx0XHQvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlXG5cdFx0XHQvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LlxuXHRcdFx0cmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7XG5cdFx0XHRzdHJpbmcgPSBwYXJ0c1sxXTtcblx0XHR9XG5cdFx0Ly8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LlxuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1xceDJFJyk7XG5cdFx0dmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpO1xuXHRcdHZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTtcblx0XHRyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlXG5cdCAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSxcblx0ICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2hcblx0ICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsXG5cdCAqIG1hdGNoaW5nIFVURi0xNi5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgXG5cdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBkZWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS5cblx0ICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGNvdW50ZXIgPSAwLFxuXHRcdCAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuXHRcdCAgICB2YWx1ZSxcblx0XHQgICAgZXh0cmE7XG5cdFx0d2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdHZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdFx0Ly8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyXG5cdFx0XHRcdGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdFx0aWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGVcblx0XHRcdFx0XHRvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0XG5cdFx0XHRcdFx0Ly8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0XHRcdGNvdW50ZXItLTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGVuY29kZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmV3IFVuaWNvZGUgc3RyaW5nIChVQ1MtMikuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdFx0cmV0dXJuIG1hcChhcnJheSwgZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBvdXRwdXQgPSAnJztcblx0XHRcdGlmICh2YWx1ZSA+IDB4RkZGRikge1xuXHRcdFx0XHR2YWx1ZSAtPSAweDEwMDAwO1xuXHRcdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdFx0dmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci5cblx0ICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWZcblx0ICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuXG5cdCAqL1xuXHRmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7XG5cdFx0aWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSAyMjtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA2NTtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA5Nztcblx0XHR9XG5cdFx0cmV0dXJuIGJhc2U7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3Jcblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2Vcblx0ICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzXG5cdCAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkXG5cdCAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uXG5cdCAqL1xuXHRmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHtcblx0XHQvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWlxuXHRcdC8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOVxuXHRcdHJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7XG5cdH1cblxuXHQvKipcblx0ICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi5cblx0ICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkge1xuXHRcdHZhciBrID0gMDtcblx0XHRkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxO1xuXHRcdGRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTtcblx0XHRmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkge1xuXHRcdFx0ZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pO1xuXHRcdH1cblx0XHRyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZVxuXHQgKiBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcblx0XHQvLyBEb24ndCB1c2UgVUNTLTJcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLFxuXHRcdCAgICBvdXQsXG5cdFx0ICAgIGkgPSAwLFxuXHRcdCAgICBuID0gaW5pdGlhbE4sXG5cdFx0ICAgIGJpYXMgPSBpbml0aWFsQmlhcyxcblx0XHQgICAgYmFzaWMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIGluZGV4LFxuXHRcdCAgICBvbGRpLFxuXHRcdCAgICB3LFxuXHRcdCAgICBrLFxuXHRcdCAgICBkaWdpdCxcblx0XHQgICAgdCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGJhc2VNaW51c1Q7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGVcblx0XHQvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weVxuXHRcdC8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LlxuXG5cdFx0YmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpO1xuXHRcdGlmIChiYXNpYyA8IDApIHtcblx0XHRcdGJhc2ljID0gMDtcblx0XHR9XG5cblx0XHRmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikge1xuXHRcdFx0Ly8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50XG5cdFx0XHRpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7XG5cdFx0XHRcdGVycm9yKCdub3QtYmFzaWMnKTtcblx0XHRcdH1cblx0XHRcdG91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGVcblx0XHQvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLlxuXG5cdFx0Zm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHtcblxuXHRcdFx0Ly8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLlxuXHRcdFx0Ly8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLFxuXHRcdFx0Ly8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXJcblx0XHRcdC8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nXG5cdFx0XHQvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLlxuXHRcdFx0Zm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXG5cdFx0XHRcdGlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkge1xuXHRcdFx0XHRcdGVycm9yKCdpbnZhbGlkLWlucHV0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpICs9IGRpZ2l0ICogdztcblx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0IDwgdCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3ICo9IGJhc2VNaW51c1Q7XG5cblx0XHRcdH1cblxuXHRcdFx0b3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7XG5cdFx0XHRiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTtcblxuXHRcdFx0Ly8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCxcblx0XHRcdC8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6XG5cdFx0XHRpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRuICs9IGZsb29yKGkgLyBvdXQpO1xuXHRcdFx0aSAlPSBvdXQ7XG5cblx0XHRcdC8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXRcblx0XHRcdG91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGFcblx0ICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7XG5cdFx0dmFyIG4sXG5cdFx0ICAgIGRlbHRhLFxuXHRcdCAgICBoYW5kbGVkQ1BDb3VudCxcblx0XHQgICAgYmFzaWNMZW5ndGgsXG5cdFx0ICAgIGJpYXMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIG0sXG5cdFx0ICAgIHEsXG5cdFx0ICAgIGssXG5cdFx0ICAgIHQsXG5cdFx0ICAgIGN1cnJlbnRWYWx1ZSxcblx0XHQgICAgb3V0cHV0ID0gW10sXG5cdFx0ICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovXG5cdFx0ICAgIGlucHV0TGVuZ3RoLFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLFxuXHRcdCAgICBiYXNlTWludXNULFxuXHRcdCAgICBxTWludXNUO1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZVxuXHRcdGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7XG5cblx0XHQvLyBDYWNoZSB0aGUgbGVuZ3RoXG5cdFx0aW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG5cblx0XHQvLyBJbml0aWFsaXplIHRoZSBzdGF0ZVxuXHRcdG4gPSBpbml0aWFsTjtcblx0XHRkZWx0YSA9IDA7XG5cdFx0YmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50c1xuXHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShjdXJyZW50VmFsdWUpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRoYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDtcblxuXHRcdC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkO1xuXHRcdC8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy5cblxuXHRcdC8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlclxuXHRcdGlmIChiYXNpY0xlbmd0aCkge1xuXHRcdFx0b3V0cHV0LnB1c2goZGVsaW1pdGVyKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGVuY29kaW5nIGxvb3A6XG5cdFx0d2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHtcblxuXHRcdFx0Ly8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dFxuXHRcdFx0Ly8gbGFyZ2VyIG9uZTpcblx0XHRcdGZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkge1xuXHRcdFx0XHRcdG0gPSBjdXJyZW50VmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LFxuXHRcdFx0Ly8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3dcblx0XHRcdGhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTtcblx0XHRcdGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lO1xuXHRcdFx0biA9IG07XG5cblx0XHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPT0gbikge1xuXHRcdFx0XHRcdC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyXG5cdFx0XHRcdFx0Zm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXHRcdFx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cdFx0XHRcdFx0XHRpZiAocSA8IHQpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRxTWludXNUID0gcSAtIHQ7XG5cdFx0XHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdFx0XHRvdXRwdXQucHVzaChcblx0XHRcdFx0XHRcdFx0c3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpO1xuXHRcdFx0XHRcdGJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7XG5cdFx0XHRcdFx0ZGVsdGEgPSAwO1xuXHRcdFx0XHRcdCsraGFuZGxlZENQQ291bnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0KytkZWx0YTtcblx0XHRcdCsrbjtcblxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3Ncblx0ICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLlxuXHQgKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW5cblx0ICogY29udmVydGVkIHRvIFVuaWNvZGUuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIGNvbnZlcnQgdG8gVW5pY29kZS5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlXG5cdCAqIHN0cmluZy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsXG5cdCAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpblxuXHQgKiBBU0NJSS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhXG5cdCAqIFVuaWNvZGUgc3RyaW5nLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yXG5cdCAqIGVtYWlsIGFkZHJlc3MuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b0FTQ0lJKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyAneG4tLScgKyBlbmNvZGUoc3RyaW5nKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi9cblx0cHVueWNvZGUgPSB7XG5cdFx0LyoqXG5cdFx0ICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IFB1bnljb2RlLmpzIHZlcnNpb24gbnVtYmVyLlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqL1xuXHRcdCd2ZXJzaW9uJzogJzEuNC4xJyxcblx0XHQvKipcblx0XHQgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlclxuXHRcdCAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suXG5cdFx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICovXG5cdFx0J3VjczInOiB7XG5cdFx0XHQnZGVjb2RlJzogdWNzMmRlY29kZSxcblx0XHRcdCdlbmNvZGUnOiB1Y3MyZW5jb2RlXG5cdFx0fSxcblx0XHQnZGVjb2RlJzogZGVjb2RlLFxuXHRcdCdlbmNvZGUnOiBlbmNvZGUsXG5cdFx0J3RvQVNDSUknOiB0b0FTQ0lJLFxuXHRcdCd0b1VuaWNvZGUnOiB0b1VuaWNvZGVcblx0fTtcblxuXHQvKiogRXhwb3NlIGBwdW55Y29kZWAgKi9cblx0Ly8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zXG5cdC8vIGxpa2UgdGhlIGZvbGxvd2luZzpcblx0aWYgKFxuXHRcdHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmXG5cdFx0ZGVmaW5lLmFtZFxuXHQpIHtcblx0XHRkZWZpbmUoJ3B1bnljb2RlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gcHVueWNvZGU7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkge1xuXHRcdGlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykge1xuXHRcdFx0Ly8gaW4gTm9kZS5qcywgaW8uanMsIG9yIFJpbmdvSlMgdjAuOC4wK1xuXHRcdFx0ZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHRmb3IgKGtleSBpbiBwdW55Y29kZSkge1xuXHRcdFx0XHRwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXJcblx0XHRyb290LnB1bnljb2RlID0gcHVueWNvZGU7XG5cdH1cblxufSh0aGlzKSk7XG4iLCIvKlxuICogQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbiAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbiAqIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuICogd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuICogZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuICogcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4gKiBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuICogaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuICogT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuICogTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4gKiBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1JcbiAqIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbiAqIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcHVueWNvZGUgPSByZXF1aXJlKCdwdW55Y29kZScpO1xuXG5mdW5jdGlvbiBVcmwoKSB7XG4gIHRoaXMucHJvdG9jb2wgPSBudWxsO1xuICB0aGlzLnNsYXNoZXMgPSBudWxsO1xuICB0aGlzLmF1dGggPSBudWxsO1xuICB0aGlzLmhvc3QgPSBudWxsO1xuICB0aGlzLnBvcnQgPSBudWxsO1xuICB0aGlzLmhvc3RuYW1lID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gbnVsbDtcbiAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgdGhpcy5wYXRobmFtZSA9IG51bGw7XG4gIHRoaXMucGF0aCA9IG51bGw7XG4gIHRoaXMuaHJlZiA9IG51bGw7XG59XG5cbi8vIFJlZmVyZW5jZTogUkZDIDM5ODYsIFJGQyAxODA4LCBSRkMgMjM5NlxuXG4vKlxuICogZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbiAqIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxuICovXG52YXIgcHJvdG9jb2xQYXR0ZXJuID0gL14oW2EtejAtOS4rLV0rOikvaSxcbiAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gIC8vIFNwZWNpYWwgY2FzZSBmb3IgYSBzaW1wbGUgcGF0aCBVUkxcbiAgc2ltcGxlUGF0aFBhdHRlcm4gPSAvXihcXC9cXC8/KD8hXFwvKVteP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAvKlxuICAgKiBSRkMgMjM5NjogY2hhcmFjdGVycyByZXNlcnZlZCBmb3IgZGVsaW1pdGluZyBVUkxzLlxuICAgKiBXZSBhY3R1YWxseSBqdXN0IGF1dG8tZXNjYXBlIHRoZXNlLlxuICAgKi9cbiAgZGVsaW1zID0gW1xuICAgICc8JywgJz4nLCAnXCInLCAnYCcsICcgJywgJ1xccicsICdcXG4nLCAnXFx0J1xuICBdLFxuXG4gIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gIHVud2lzZSA9IFtcbiAgICAneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXG4gIF0uY29uY2F0KGRlbGltcyksXG5cbiAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICBhdXRvRXNjYXBlID0gWydcXCcnXS5jb25jYXQodW53aXNlKSxcbiAgLypcbiAgICogQ2hhcmFjdGVycyB0aGF0IGFyZSBuZXZlciBldmVyIGFsbG93ZWQgaW4gYSBob3N0bmFtZS5cbiAgICogTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgKiBhcmUgdGhlIG9uZXMgdGhhdCBhcmUgKmV4cGVjdGVkKiB0byBiZSBzZWVuLCBzbyB3ZSBmYXN0LXBhdGhcbiAgICogdGhlbS5cbiAgICovXG4gIG5vbkhvc3RDaGFycyA9IFtcbiAgICAnJScsICcvJywgJz8nLCAnOycsICcjJ1xuICBdLmNvbmNhdChhdXRvRXNjYXBlKSxcbiAgaG9zdEVuZGluZ0NoYXJzID0gW1xuICAgICcvJywgJz8nLCAnIydcbiAgXSxcbiAgaG9zdG5hbWVNYXhMZW4gPSAyNTUsXG4gIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gIGhvc3RuYW1lUGFydFN0YXJ0ID0gL14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLFxuICAvLyBwcm90b2NvbHMgdGhhdCBjYW4gYWxsb3cgXCJ1bnNhZmVcIiBhbmQgXCJ1bndpc2VcIiBjaGFycy5cbiAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgamF2YXNjcmlwdDogdHJ1ZSxcbiAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gIH0sXG4gIC8vIHByb3RvY29scyB0aGF0IG5ldmVyIGhhdmUgYSBob3N0bmFtZS5cbiAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICBqYXZhc2NyaXB0OiB0cnVlLFxuICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgfSxcbiAgLy8gcHJvdG9jb2xzIHRoYXQgYWx3YXlzIGNvbnRhaW4gYSAvLyBiaXQuXG4gIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICBodHRwOiB0cnVlLFxuICAgIGh0dHBzOiB0cnVlLFxuICAgIGZ0cDogdHJ1ZSxcbiAgICBnb3BoZXI6IHRydWUsXG4gICAgZmlsZTogdHJ1ZSxcbiAgICAnaHR0cDonOiB0cnVlLFxuICAgICdodHRwczonOiB0cnVlLFxuICAgICdmdHA6JzogdHJ1ZSxcbiAgICAnZ29waGVyOic6IHRydWUsXG4gICAgJ2ZpbGU6JzogdHJ1ZVxuICB9LFxuICBxdWVyeXN0cmluZyA9IHJlcXVpcmUoJ3FzJyk7XG5cbmZ1bmN0aW9uIHVybFBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKHVybCAmJiB0eXBlb2YgdXJsID09PSAnb2JqZWN0JyAmJiB1cmwgaW5zdGFuY2VvZiBVcmwpIHsgcmV0dXJuIHVybDsgfVxuXG4gIHZhciB1ID0gbmV3IFVybCgpO1xuICB1LnBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpO1xuICByZXR1cm4gdTtcbn1cblxuVXJsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uICh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvKlxuICAgKiBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgICogQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gICAqIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gICAqL1xuICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksXG4gICAgc3BsaXR0ZXIgPSBxdWVyeUluZGV4ICE9PSAtMSAmJiBxdWVyeUluZGV4IDwgdXJsLmluZGV4T2YoJyMnKSA/ICc/JyA6ICcjJyxcbiAgICB1U3BsaXQgPSB1cmwuc3BsaXQoc3BsaXR0ZXIpLFxuICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLypcbiAgICogdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgICogVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICAgKi9cbiAgcmVzdCA9IHJlc3QudHJpbSgpO1xuXG4gIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHBcbiAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gICAgaWYgKHNpbXBsZVBhdGgpIHtcbiAgICAgIHRoaXMucGF0aCA9IHJlc3Q7XG4gICAgICB0aGlzLmhyZWYgPSByZXN0O1xuICAgICAgdGhpcy5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07XG4gICAgICBpZiAoc2ltcGxlUGF0aFsyXSkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07XG4gICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMuc2VhcmNoLnN1YnN0cigxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuc2VhcmNoLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm90byA9IHByb3RvY29sUGF0dGVybi5leGVjKHJlc3QpO1xuICBpZiAocHJvdG8pIHtcbiAgICBwcm90byA9IHByb3RvWzBdO1xuICAgIHZhciBsb3dlclByb3RvID0gcHJvdG8udG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnByb3RvY29sID0gbG93ZXJQcm90bztcbiAgICByZXN0ID0gcmVzdC5zdWJzdHIocHJvdG8ubGVuZ3RoKTtcbiAgfVxuXG4gIC8qXG4gICAqIGZpZ3VyZSBvdXQgaWYgaXQncyBnb3QgYSBob3N0XG4gICAqIHVzZXJAc2VydmVyIGlzICphbHdheXMqIGludGVycHJldGVkIGFzIGEgaG9zdG5hbWUsIGFuZCB1cmxcbiAgICogcmVzb2x1dGlvbiB3aWxsIHRyZWF0IC8vZm9vL2JhciBhcyBob3N0PWZvbyxwYXRoPWJhciBiZWNhdXNlIHRoYXQnc1xuICAgKiBob3cgdGhlIGJyb3dzZXIgcmVzb2x2ZXMgcmVsYXRpdmUgVVJMcy5cbiAgICovXG4gIGlmIChzbGFzaGVzRGVub3RlSG9zdCB8fCBwcm90byB8fCByZXN0Lm1hdGNoKC9eXFwvXFwvW15AL10rQFteQC9dKy8pKSB7XG4gICAgdmFyIHNsYXNoZXMgPSByZXN0LnN1YnN0cigwLCAyKSA9PT0gJy8vJztcbiAgICBpZiAoc2xhc2hlcyAmJiAhKHByb3RvICYmIGhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dKSkge1xuICAgICAgcmVzdCA9IHJlc3Quc3Vic3RyKDIpO1xuICAgICAgdGhpcy5zbGFzaGVzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvKlxuICAgICAqIHRoZXJlJ3MgYSBob3N0bmFtZS5cbiAgICAgKiB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgLywgPywgOywgb3IgIyBlbmRzIHRoZSBob3N0LlxuICAgICAqXG4gICAgICogSWYgdGhlcmUgaXMgYW4gQCBpbiB0aGUgaG9zdG5hbWUsIHRoZW4gbm9uLWhvc3QgY2hhcnMgKmFyZSogYWxsb3dlZFxuICAgICAqIHRvIHRoZSBsZWZ0IG9mIHRoZSBsYXN0IEAgc2lnbiwgdW5sZXNzIHNvbWUgaG9zdC1lbmRpbmcgY2hhcmFjdGVyXG4gICAgICogY29tZXMgKmJlZm9yZSogdGhlIEAtc2lnbi5cbiAgICAgKiBVUkxzIGFyZSBvYm5veGlvdXMuXG4gICAgICpcbiAgICAgKiBleDpcbiAgICAgKiBodHRwOi8vYUBiQGMvID0+IHVzZXI6YUBiIGhvc3Q6Y1xuICAgICAqIGh0dHA6Ly9hQGI/QGMgPT4gdXNlcjphIGhvc3Q6YyBwYXRoOi8/QGNcbiAgICAgKi9cblxuICAgIC8qXG4gICAgICogdjAuMTIgVE9ETyhpc2FhY3MpOiBUaGlzIGlzIG5vdCBxdWl0ZSBob3cgQ2hyb21lIGRvZXMgdGhpbmdzLlxuICAgICAqIFJldmlldyBvdXIgdGVzdCBjYXNlIGFnYWluc3QgYnJvd3NlcnMgbW9yZSBjb21wcmVoZW5zaXZlbHkuXG4gICAgICovXG5cbiAgICAvLyBmaW5kIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBhbnkgaG9zdEVuZGluZ0NoYXJzXG4gICAgdmFyIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihob3N0RW5kaW5nQ2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKSB7IGhvc3RFbmQgPSBoZWM7IH1cbiAgICB9XG5cbiAgICAvKlxuICAgICAqIGF0IHRoaXMgcG9pbnQsIGVpdGhlciB3ZSBoYXZlIGFuIGV4cGxpY2l0IHBvaW50IHdoZXJlIHRoZVxuICAgICAqIGF1dGggcG9ydGlvbiBjYW5ub3QgZ28gcGFzdCwgb3IgdGhlIGxhc3QgQCBjaGFyIGlzIHRoZSBkZWNpZGVyLlxuICAgICAqL1xuICAgIHZhciBhdXRoLCBhdFNpZ247XG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKSB7XG4gICAgICAvLyBhdFNpZ24gY2FuIGJlIGFueXdoZXJlLlxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKlxuICAgICAgICogYXRTaWduIG11c3QgYmUgaW4gYXV0aCBwb3J0aW9uLlxuICAgICAgICogaHR0cDovL2FAYi9jQGQgPT4gaG9zdDpiIGF1dGg6YSBwYXRoOi9jQGRcbiAgICAgICAqL1xuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcsIGhvc3RFbmQpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgICogUHVsbCB0aGF0IG9mZi5cbiAgICAgKi9cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSkgeyBob3N0RW5kID0gaGVjOyB9XG4gICAgfVxuICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC5cbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHsgaG9zdEVuZCA9IHJlc3QubGVuZ3RoOyB9XG5cbiAgICB0aGlzLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpO1xuXG4gICAgLy8gcHVsbCBvdXQgcG9ydC5cbiAgICB0aGlzLnBhcnNlSG9zdCgpO1xuXG4gICAgLypcbiAgICAgKiB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgICAqIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgICovXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvKlxuICAgICAqIGlmIGhvc3RuYW1lIGJlZ2lucyB3aXRoIFsgYW5kIGVuZHMgd2l0aCBdXG4gICAgICogYXNzdW1lIHRoYXQgaXQncyBhbiBJUHY2IGFkZHJlc3MuXG4gICAgICovXG4gICAgdmFyIGlwdjZIb3N0bmFtZSA9IHRoaXMuaG9zdG5hbWVbMF0gPT09ICdbJyAmJiB0aGlzLmhvc3RuYW1lW3RoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMV0gPT09ICddJztcblxuICAgIC8vIHZhbGlkYXRlIGEgbGl0dGxlLlxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB2YXIgaG9zdHBhcnRzID0gdGhpcy5ob3N0bmFtZS5zcGxpdCgvXFwuLyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGhvc3RwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSBob3N0cGFydHNbaV07XG4gICAgICAgIGlmICghcGFydCkgeyBjb250aW51ZTsgfVxuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICogd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgICAqIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgICogYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgbmV3cGFydCArPSAneCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9IHBhcnRbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdlIHRlc3QgYWdhaW4gd2l0aCBBU0NJSSBjaGFyIG9ubHlcbiAgICAgICAgICBpZiAoIW5ld3BhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZFBhcnRzID0gaG9zdHBhcnRzLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgdmFyIG5vdEhvc3QgPSBob3N0cGFydHMuc2xpY2UoaSArIDEpO1xuICAgICAgICAgICAgdmFyIGJpdCA9IHBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0U3RhcnQpO1xuICAgICAgICAgICAgaWYgKGJpdCkge1xuICAgICAgICAgICAgICB2YWxpZFBhcnRzLnB1c2goYml0WzFdKTtcbiAgICAgICAgICAgICAgbm90SG9zdC51bnNoaWZ0KGJpdFsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm90SG9zdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVzdCA9ICcvJyArIG5vdEhvc3Quam9pbignLicpICsgcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSB2YWxpZFBhcnRzLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3RuYW1lLmxlbmd0aCA+IGhvc3RuYW1lTWF4TGVuKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhvc3RuYW1lcyBhcmUgYWx3YXlzIGxvd2VyIGNhc2UuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICAvKlxuICAgICAgICogSUROQSBTdXBwb3J0OiBSZXR1cm5zIGEgcHVueWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIFwiZG9tYWluXCIuXG4gICAgICAgKiBJdCBvbmx5IGNvbnZlcnRzIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB0aGF0XG4gICAgICAgKiBoYXZlIG5vbi1BU0NJSSBjaGFyYWN0ZXJzLCBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmXG4gICAgICAgKiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQgYWxyZWFkeSBpcyBBU0NJSS1vbmx5LlxuICAgICAgICovXG4gICAgICB0aGlzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLmhvc3RuYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgcCA9IHRoaXMucG9ydCA/ICc6JyArIHRoaXMucG9ydCA6ICcnO1xuICAgIHZhciBoID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcbiAgICB0aGlzLmhvc3QgPSBoICsgcDtcbiAgICB0aGlzLmhyZWYgKz0gdGhpcy5ob3N0O1xuXG4gICAgLypcbiAgICAgKiBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgICogdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICAgKi9cbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gICAqIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgICovXG4gIGlmICghdW5zYWZlUHJvdG9jb2xbbG93ZXJQcm90b10pIHtcblxuICAgIC8qXG4gICAgICogRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgICAqIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgICAqIG5lZWQgdG8gYmUuXG4gICAgICovXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSkgeyBjb250aW51ZTsgfVxuICAgICAgdmFyIGVzYyA9IGVuY29kZVVSSUNvbXBvbmVudChhZSk7XG4gICAgICBpZiAoZXNjID09PSBhZSkge1xuICAgICAgICBlc2MgPSBlc2NhcGUoYWUpO1xuICAgICAgfVxuICAgICAgcmVzdCA9IHJlc3Quc3BsaXQoYWUpLmpvaW4oZXNjKTtcbiAgICB9XG4gIH1cblxuICAvLyBjaG9wIG9mZiBmcm9tIHRoZSB0YWlsIGZpcnN0LlxuICB2YXIgaGFzaCA9IHJlc3QuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaCAhPT0gLTEpIHtcbiAgICAvLyBnb3QgYSBmcmFnbWVudCBzdHJpbmcuXG4gICAgdGhpcy5oYXNoID0gcmVzdC5zdWJzdHIoaGFzaCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgaGFzaCk7XG4gIH1cbiAgdmFyIHFtID0gcmVzdC5pbmRleE9mKCc/Jyk7XG4gIGlmIChxbSAhPT0gLTEpIHtcbiAgICB0aGlzLnNlYXJjaCA9IHJlc3Quc3Vic3RyKHFtKTtcbiAgICB0aGlzLnF1ZXJ5ID0gcmVzdC5zdWJzdHIocW0gKyAxKTtcbiAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMucXVlcnkpO1xuICAgIH1cbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBxbSk7XG4gIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgIC8vIG5vIHF1ZXJ5IHN0cmluZywgYnV0IHBhcnNlUXVlcnlTdHJpbmcgc3RpbGwgcmVxdWVzdGVkXG4gICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICB0aGlzLnF1ZXJ5ID0ge307XG4gIH1cbiAgaWYgKHJlc3QpIHsgdGhpcy5wYXRobmFtZSA9IHJlc3Q7IH1cbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJiB0aGlzLmhvc3RuYW1lICYmICF0aGlzLnBhdGhuYW1lKSB7XG4gICAgdGhpcy5wYXRobmFtZSA9ICcvJztcbiAgfVxuXG4gIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8qXG4gICAqIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gICAqIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gICAqIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgICogdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgICovXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJykgeyBvYmogPSB1cmxQYXJzZShvYmopOyB9XG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIFVybCkpIHsgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTsgfVxuICByZXR1cm4gb2JqLmZvcm1hdCgpO1xufVxuXG5VcmwucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgcGF0aG5hbWUgPSB0aGlzLnBhdGhuYW1lIHx8ICcnLFxuICAgIGhhc2ggPSB0aGlzLmhhc2ggfHwgJycsXG4gICAgaG9zdCA9IGZhbHNlLFxuICAgIHF1ZXJ5ID0gJyc7XG5cbiAgaWYgKHRoaXMuaG9zdCkge1xuICAgIGhvc3QgPSBhdXRoICsgdGhpcy5ob3N0O1xuICB9IGVsc2UgaWYgKHRoaXMuaG9zdG5hbWUpIHtcbiAgICBob3N0ID0gYXV0aCArICh0aGlzLmhvc3RuYW1lLmluZGV4T2YoJzonKSA9PT0gLTEgPyB0aGlzLmhvc3RuYW1lIDogJ1snICsgdGhpcy5ob3N0bmFtZSArICddJyk7XG4gICAgaWYgKHRoaXMucG9ydCkge1xuICAgICAgaG9zdCArPSAnOicgKyB0aGlzLnBvcnQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMucXVlcnkgJiYgdHlwZW9mIHRoaXMucXVlcnkgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHRoaXMucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHRoaXMuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSB7IHByb3RvY29sICs9ICc6JzsgfVxuXG4gIC8qXG4gICAqIG9ubHkgdGhlIHNsYXNoZWRQcm90b2NvbHMgZ2V0IHRoZSAvLy4gIE5vdCBtYWlsdG86LCB4bXBwOiwgZXRjLlxuICAgKiB1bmxlc3MgdGhleSBoYWQgdGhlbSB0byBiZWdpbiB3aXRoLlxuICAgKi9cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fCAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbFtwcm90b2NvbF0pICYmIGhvc3QgIT09IGZhbHNlKSB7XG4gICAgaG9zdCA9ICcvLycgKyAoaG9zdCB8fCAnJyk7XG4gICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7IHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7IH1cbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIHsgaGFzaCA9ICcjJyArIGhhc2g7IH1cbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2guY2hhckF0KDApICE9PSAnPycpIHsgc2VhcmNoID0gJz8nICsgc2VhcmNoOyB9XG5cbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uIChyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSB7IHJldHVybiByZWxhdGl2ZTsgfVxuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZU9iamVjdChyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZU9iamVjdCA9IGZ1bmN0aW9uIChyZWxhdGl2ZSkge1xuICBpZiAodHlwZW9mIHJlbGF0aXZlID09PSAnc3RyaW5nJykge1xuICAgIHZhciByZWwgPSBuZXcgVXJsKCk7XG4gICAgcmVsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcmVsYXRpdmUgPSByZWw7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpO1xuICB2YXIgdGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgZm9yICh2YXIgdGsgPSAwOyB0ayA8IHRrZXlzLmxlbmd0aDsgdGsrKykge1xuICAgIHZhciB0a2V5ID0gdGtleXNbdGtdO1xuICAgIHJlc3VsdFt0a2V5XSA9IHRoaXNbdGtleV07XG4gIH1cblxuICAvKlxuICAgKiBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC5cbiAgICogZXZlbiBocmVmPVwiXCIgd2lsbCByZW1vdmUgaXQuXG4gICAqL1xuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJykgeyByZXN1bHRbcmtleV0gPSByZWxhdGl2ZVtya2V5XTsgfVxuICAgIH1cblxuICAgIC8vIHVybFBhcnNlIGFwcGVuZHMgdHJhaWxpbmcgLyB0byB1cmxzIGxpa2UgaHR0cDovL3d3dy5leGFtcGxlLmNvbVxuICAgIGlmIChzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXSAmJiByZXN1bHQuaG9zdG5hbWUgJiYgIXJlc3VsdC5wYXRobmFtZSkge1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgICAgcmVzdWx0LnBhdGggPSByZXN1bHQucGF0aG5hbWU7XG4gICAgfVxuXG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmIChyZWxhdGl2ZS5wcm90b2NvbCAmJiByZWxhdGl2ZS5wcm90b2NvbCAhPT0gcmVzdWx0LnByb3RvY29sKSB7XG4gICAgLypcbiAgICAgKiBpZiBpdCdzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nXG4gICAgICogdGhlIHByb3RvY29sIGRvZXMgd2VpcmQgdGhpbmdzXG4gICAgICogZmlyc3QsIGlmIGl0J3Mgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsXG4gICAgICogYW5kIGlmIHRoZXJlIHdhcyBhIHBhdGhcbiAgICAgKiB0byBiZWdpbiB3aXRoLCB0aGVuIHdlIE1VU1QgaGF2ZSBhIHBhdGguXG4gICAgICogaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCxcbiAgICAgKiBiZWNhdXNlIHRoYXQncyBrbm93biB0byBiZSBob3N0bGVzcy5cbiAgICAgKiBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuXG4gICAgICovXG4gICAgaWYgKCFzbGFzaGVkUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgICAgICB2YXIgayA9IGtleXNbdl07XG4gICAgICAgIHJlc3VsdFtrXSA9IHJlbGF0aXZlW2tdO1xuICAgICAgfVxuICAgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlc3VsdC5wcm90b2NvbCA9IHJlbGF0aXZlLnByb3RvY29sO1xuICAgIGlmICghcmVsYXRpdmUuaG9zdCAmJiAhaG9zdGxlc3NQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciByZWxQYXRoID0gKHJlbGF0aXZlLnBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnLycpO1xuICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpIHsgfVxuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSB7IHJlbGF0aXZlLmhvc3QgPSAnJzsgfVxuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0bmFtZSkgeyByZWxhdGl2ZS5ob3N0bmFtZSA9ICcnOyB9XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHsgcmVsUGF0aC51bnNoaWZ0KCcnKTsgfVxuICAgICAgaWYgKHJlbFBhdGgubGVuZ3RoIDwgMikgeyByZWxQYXRoLnVuc2hpZnQoJycpOyB9XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxQYXRoLmpvaW4oJy8nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsYXRpdmUucGF0aG5hbWU7XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgcmVzdWx0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0IHx8ICcnO1xuICAgIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0O1xuICAgIHJlc3VsdC5wb3J0ID0gcmVsYXRpdmUucG9ydDtcbiAgICAvLyB0byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQucGF0aG5hbWUgfHwgcmVzdWx0LnNlYXJjaCkge1xuICAgICAgdmFyIHAgPSByZXN1bHQucGF0aG5hbWUgfHwgJyc7XG4gICAgICB2YXIgcyA9IHJlc3VsdC5zZWFyY2ggfHwgJyc7XG4gICAgICByZXN1bHQucGF0aCA9IHAgKyBzO1xuICAgIH1cbiAgICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHZhciBpc1NvdXJjZUFicyA9IHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycsXG4gICAgaXNSZWxBYnMgPSByZWxhdGl2ZS5ob3N0IHx8IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nLFxuICAgIG11c3RFbmRBYnMgPSBpc1JlbEFicyB8fCBpc1NvdXJjZUFicyB8fCAocmVzdWx0Lmhvc3QgJiYgcmVsYXRpdmUucGF0aG5hbWUpLFxuICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLFxuICAgIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTtcblxuICAvKlxuICAgKiBpZiB0aGUgdXJsIGlzIGEgbm9uLXNsYXNoZWQgdXJsLCB0aGVuIHJlbGF0aXZlXG4gICAqIGxpbmtzIGxpa2UgLi4vLi4gc2hvdWxkIGJlIGFibGVcbiAgICogdG8gY3Jhd2wgdXAgdG8gdGhlIGhvc3RuYW1lLCBhcyB3ZWxsLiAgVGhpcyBpcyBzdHJhbmdlLlxuICAgKiByZXN1bHQucHJvdG9jb2wgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgbm93LlxuICAgKiBMYXRlciBvbiwgcHV0IHRoZSBmaXJzdCBwYXRoIHBhcnQgaW50byB0aGUgaG9zdCBmaWVsZC5cbiAgICovXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAnJztcbiAgICByZXN1bHQucG9ydCA9IG51bGw7XG4gICAgaWYgKHJlc3VsdC5ob3N0KSB7XG4gICAgICBpZiAoc3JjUGF0aFswXSA9PT0gJycpIHsgc3JjUGF0aFswXSA9IHJlc3VsdC5ob3N0OyB9IGVsc2UgeyBzcmNQYXRoLnVuc2hpZnQocmVzdWx0Lmhvc3QpOyB9XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgeyByZWxQYXRoWzBdID0gcmVsYXRpdmUuaG9zdDsgfSBlbHNlIHsgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpOyB9XG4gICAgICB9XG4gICAgICByZWxhdGl2ZS5ob3N0ID0gbnVsbDtcbiAgICB9XG4gICAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgJiYgKHJlbFBhdGhbMF0gPT09ICcnIHx8IHNyY1BhdGhbMF0gPT09ICcnKTtcbiAgfVxuXG4gIGlmIChpc1JlbEFicykge1xuICAgIC8vIGl0J3MgYWJzb2x1dGUuXG4gICAgcmVzdWx0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgPT09ICcnID8gcmVsYXRpdmUuaG9zdCA6IHJlc3VsdC5ob3N0O1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3RuYW1lID09PSAnJyA/IHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgc3JjUGF0aCA9IHJlbFBhdGg7XG4gICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuXG4gIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHtcbiAgICAvKlxuICAgICAqIGl0J3MgcmVsYXRpdmVcbiAgICAgKiB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICAgKi9cbiAgICBpZiAoIXNyY1BhdGgpIHsgc3JjUGF0aCA9IFtdOyB9XG4gICAgc3JjUGF0aC5wb3AoKTtcbiAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgfSBlbHNlIGlmIChyZWxhdGl2ZS5zZWFyY2ggIT0gbnVsbCkge1xuICAgIC8qXG4gICAgICoganVzdCBwdWxsIG91dCB0aGUgc2VhcmNoLlxuICAgICAqIGxpa2UgaHJlZj0nP2ZvbycuXG4gICAgICogUHV0IHRoaXMgYWZ0ZXIgdGhlIG90aGVyIHR3byBjYXNlcyBiZWNhdXNlIGl0IHNpbXBsaWZpZXMgdGhlIGJvb2xlYW5zXG4gICAgICovXG4gICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgcmVzdWx0Lmhvc3QgPSBzcmNQYXRoLnNoaWZ0KCk7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdDtcbiAgICAgIC8qXG4gICAgICAgKiBvY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgICAgICogdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgICogdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgICAgKi9cbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/IHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5wYXRobmFtZSAhPT0gbnVsbCB8fCByZXN1bHQuc2VhcmNoICE9PSBudWxsKSB7XG4gICAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgKyAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgLypcbiAgICAgKiBubyBwYXRoIGF0IGFsbC4gIGVhc3kuXG4gICAgICogd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBvdGhlciBzdHVmZiBhYm92ZS5cbiAgICAgKi9cbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gJy8nICsgcmVzdWx0LnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLypcbiAgICogaWYgYSB1cmwgRU5EcyBpbiAuIG9yIC4uLCB0aGVuIGl0IG11c3QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gICAqIGhvd2V2ZXIsIGlmIGl0IGVuZHMgaW4gYW55dGhpbmcgZWxzZSBub24tc2xhc2h5LFxuICAgKiB0aGVuIGl0IG11c3QgTk9UIGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAgKi9cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmIChsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJykgfHwgbGFzdCA9PT0gJyc7XG5cbiAgLypcbiAgICogc3RyaXAgc2luZ2xlIGRvdHMsIHJlc29sdmUgZG91YmxlIGRvdHMgdG8gcGFyZW50IGRpclxuICAgKiBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICAgKi9cbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHNyY1BhdGgubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIGxhc3QgPSBzcmNQYXRoW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmICghbXVzdEVuZEFicyAmJiAhcmVtb3ZlQWxsRG90cykge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgc3JjUGF0aC51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtdXN0RW5kQWJzICYmIHNyY1BhdGhbMF0gIT09ICcnICYmICghc3JjUGF0aFswXSB8fCBzcmNQYXRoWzBdLmNoYXJBdCgwKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiAoc3JjUGF0aC5qb2luKCcvJykuc3Vic3RyKC0xKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgucHVzaCgnJyk7XG4gIH1cblxuICB2YXIgaXNBYnNvbHV0ZSA9IHNyY1BhdGhbMF0gPT09ICcnIHx8IChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSBpc0Fic29sdXRlID8gJycgOiBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lO1xuICAgIC8qXG4gICAgICogb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgKiB0aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgICogdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgICovXG4gICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID8gcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lO1xuICAgIH1cbiAgfVxuXG4gIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzIHx8IChyZXN1bHQuaG9zdCAmJiBzcmNQYXRoLmxlbmd0aCk7XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKHNyY1BhdGgubGVuZ3RoID4gMCkge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IHNyY1BhdGguam9pbignLycpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICB9XG5cbiAgLy8gdG8gc3VwcG9ydCByZXF1ZXN0Lmh0dHBcbiAgaWYgKHJlc3VsdC5wYXRobmFtZSAhPT0gbnVsbCB8fCByZXN1bHQuc2VhcmNoICE9PSBudWxsKSB7XG4gICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICsgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgdmFyIHBvcnQgPSBwb3J0UGF0dGVybi5leGVjKGhvc3QpO1xuICBpZiAocG9ydCkge1xuICAgIHBvcnQgPSBwb3J0WzBdO1xuICAgIGlmIChwb3J0ICE9PSAnOicpIHtcbiAgICAgIHRoaXMucG9ydCA9IHBvcnQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICBob3N0ID0gaG9zdC5zdWJzdHIoMCwgaG9zdC5sZW5ndGggLSBwb3J0Lmxlbmd0aCk7XG4gIH1cbiAgaWYgKGhvc3QpIHsgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7IH1cbn07XG5cbmV4cG9ydHMucGFyc2UgPSB1cmxQYXJzZTtcbmV4cG9ydHMucmVzb2x2ZSA9IHVybFJlc29sdmU7XG5leHBvcnRzLnJlc29sdmVPYmplY3QgPSB1cmxSZXNvbHZlT2JqZWN0O1xuZXhwb3J0cy5mb3JtYXQgPSB1cmxGb3JtYXQ7XG5cbmV4cG9ydHMuVXJsID0gVXJsO1xuIiwiLyogKGlnbm9yZWQpICovIiwiaW1wb3J0IHsgdXRpbHMsIEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IEZlZGVyYXRlZEV2ZW50IH0gZnJvbSAnQHBpeGkvZXZlbnRzJztcbmltcG9ydCB7IGFjY2Vzc2libGVUYXJnZXQgfSBmcm9tICcuL2FjY2Vzc2libGVUYXJnZXQubWpzJztcblxuRGlzcGxheU9iamVjdC5taXhpbihhY2Nlc3NpYmxlVGFyZ2V0KTtcbmNvbnN0IEtFWV9DT0RFX1RBQiA9IDk7XG5jb25zdCBESVZfVE9VQ0hfU0laRSA9IDEwMDtcbmNvbnN0IERJVl9UT1VDSF9QT1NfWCA9IDA7XG5jb25zdCBESVZfVE9VQ0hfUE9TX1kgPSAwO1xuY29uc3QgRElWX1RPVUNIX1pJTkRFWCA9IDI7XG5jb25zdCBESVZfSE9PS19TSVpFID0gMTtcbmNvbnN0IERJVl9IT09LX1BPU19YID0gLTFlMztcbmNvbnN0IERJVl9IT09LX1BPU19ZID0gLTFlMztcbmNvbnN0IERJVl9IT09LX1pJTkRFWCA9IDI7XG5jbGFzcyBBY2Nlc3NpYmlsaXR5TWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5ID0gZmFsc2U7XG4gICAgdGhpcy5wb29sID0gW107XG4gICAgdGhpcy5yZW5kZXJJZCA9IDA7XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgIHRoaXMuYW5kcm9pZFVwZGF0ZUNvdW50ID0gMDtcbiAgICB0aGlzLmFuZHJvaWRVcGRhdGVGcmVxdWVuY3kgPSA1MDA7XG4gICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG4gICAgaWYgKHV0aWxzLmlzTW9iaWxlLnRhYmxldCB8fCB1dGlscy5pc01vYmlsZS5waG9uZSkge1xuICAgICAgdGhpcy5jcmVhdGVUb3VjaEhvb2soKTtcbiAgICB9XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkaXYuc3R5bGUud2lkdGggPSBgJHtESVZfVE9VQ0hfU0laRX1weGA7XG4gICAgZGl2LnN0eWxlLmhlaWdodCA9IGAke0RJVl9UT1VDSF9TSVpFfXB4YDtcbiAgICBkaXYuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgZGl2LnN0eWxlLnRvcCA9IGAke0RJVl9UT1VDSF9QT1NfWH1weGA7XG4gICAgZGl2LnN0eWxlLmxlZnQgPSBgJHtESVZfVE9VQ0hfUE9TX1l9cHhgO1xuICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYLnRvU3RyaW5nKCk7XG4gICAgdGhpcy5kaXYgPSBkaXY7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX29uS2V5RG93biA9IHRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uTW91c2VNb3ZlID0gdGhpcy5fb25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcbiAgICBnbG9iYWxUaGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICB9XG4gIGdldCBpc0FjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNBY3RpdmU7XG4gIH1cbiAgZ2V0IGlzTW9iaWxlQWNjZXNzaWJpbGl0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5O1xuICB9XG4gIGNyZWF0ZVRvdWNoSG9vaygpIHtcbiAgICBjb25zdCBob29rRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBob29rRGl2LnN0eWxlLndpZHRoID0gYCR7RElWX0hPT0tfU0laRX1weGA7XG4gICAgaG9va0Rpdi5zdHlsZS5oZWlnaHQgPSBgJHtESVZfSE9PS19TSVpFfXB4YDtcbiAgICBob29rRGl2LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIGhvb2tEaXYuc3R5bGUudG9wID0gYCR7RElWX0hPT0tfUE9TX1h9cHhgO1xuICAgIGhvb2tEaXYuc3R5bGUubGVmdCA9IGAke0RJVl9IT09LX1BPU19ZfXB4YDtcbiAgICBob29rRGl2LnN0eWxlLnpJbmRleCA9IERJVl9IT09LX1pJTkRFWC50b1N0cmluZygpO1xuICAgIGhvb2tEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjRkYwMDAwXCI7XG4gICAgaG9va0Rpdi50aXRsZSA9IFwic2VsZWN0IHRvIGVuYWJsZSBhY2Nlc3NpYmlsaXR5IGZvciB0aGlzIGNvbnRlbnRcIjtcbiAgICBob29rRGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHkgPSB0cnVlO1xuICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgICAgdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChob29rRGl2KTtcbiAgICB0aGlzLl9ob29rRGl2ID0gaG9va0RpdjtcbiAgfVxuICBkZXN0cm95VG91Y2hIb29rKCkge1xuICAgIGlmICghdGhpcy5faG9va0Rpdikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuX2hvb2tEaXYpO1xuICAgIHRoaXMuX2hvb2tEaXYgPSBudWxsO1xuICB9XG4gIGFjdGl2YXRlKCkge1xuICAgIGlmICh0aGlzLl9pc0FjdGl2ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9pc0FjdGl2ZSA9IHRydWU7XG4gICAgZ2xvYmFsVGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICBnbG9iYWxUaGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgIHRoaXMucmVuZGVyZXIub24oXCJwb3N0cmVuZGVyXCIsIHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICB0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZT8uYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICB9XG4gIGRlYWN0aXZhdGUoKSB7XG4gICAgaWYgKCF0aGlzLl9pc0FjdGl2ZSB8fCB0aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faXNBY3RpdmUgPSBmYWxzZTtcbiAgICBnbG9iYWxUaGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgIGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgdGhpcy5yZW5kZXJlci5vZmYoXCJwb3N0cmVuZGVyXCIsIHRoaXMudXBkYXRlKTtcbiAgICB0aGlzLmRpdi5wYXJlbnROb2RlPy5yZW1vdmVDaGlsZCh0aGlzLmRpdik7XG4gIH1cbiAgdXBkYXRlQWNjZXNzaWJsZU9iamVjdHMoZGlzcGxheU9iamVjdCkge1xuICAgIGlmICghZGlzcGxheU9iamVjdC52aXNpYmxlIHx8ICFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVDaGlsZHJlbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlICYmIGRpc3BsYXlPYmplY3QuaXNJbnRlcmFjdGl2ZSgpKSB7XG4gICAgICBpZiAoIWRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChkaXNwbGF5T2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVySWQgPSB0aGlzLnJlbmRlcklkO1xuICAgIH1cbiAgICBjb25zdCBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMoY2hpbGRyZW5baV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB1cGRhdGUoKSB7XG4gICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgaWYgKHV0aWxzLmlzTW9iaWxlLmFuZHJvaWQuZGV2aWNlICYmIG5vdyA8IHRoaXMuYW5kcm9pZFVwZGF0ZUNvdW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYW5kcm9pZFVwZGF0ZUNvdW50ID0gbm93ICsgdGhpcy5hbmRyb2lkVXBkYXRlRnJlcXVlbmN5O1xuICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZW5kZXJlci5sYXN0T2JqZWN0UmVuZGVyZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHModGhpcy5yZW5kZXJlci5sYXN0T2JqZWN0UmVuZGVyZWQpO1xuICAgIH1cbiAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMucmVuZGVyZXIudmlldy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCB7IHdpZHRoOiB2aWV3V2lkdGgsIGhlaWdodDogdmlld0hlaWdodCwgcmVzb2x1dGlvbiB9ID0gdGhpcy5yZW5kZXJlcjtcbiAgICBjb25zdCBzeCA9IHdpZHRoIC8gdmlld1dpZHRoICogcmVzb2x1dGlvbjtcbiAgICBjb25zdCBzeSA9IGhlaWdodCAvIHZpZXdIZWlnaHQgKiByZXNvbHV0aW9uO1xuICAgIGxldCBkaXYgPSB0aGlzLmRpdjtcbiAgICBkaXYuc3R5bGUubGVmdCA9IGAke3h9cHhgO1xuICAgIGRpdi5zdHlsZS50b3AgPSBgJHt5fXB4YDtcbiAgICBkaXYuc3R5bGUud2lkdGggPSBgJHt2aWV3V2lkdGh9cHhgO1xuICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBgJHt2aWV3SGVpZ2h0fXB4YDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgIGlmIChjaGlsZC5yZW5kZXJJZCAhPT0gdGhpcy5yZW5kZXJJZCkge1xuICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB1dGlscy5yZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpLCAxKTtcbiAgICAgICAgdGhpcy5kaXYucmVtb3ZlQ2hpbGQoY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICB0aGlzLnBvb2wucHVzaChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlRGl2ID0gbnVsbDtcbiAgICAgICAgaS0tO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGl2ID0gY2hpbGQuX2FjY2Vzc2libGVEaXY7XG4gICAgICAgIGxldCBoaXRBcmVhID0gY2hpbGQuaGl0QXJlYTtcbiAgICAgICAgY29uc3Qgd3QgPSBjaGlsZC53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgaWYgKGNoaWxkLmhpdEFyZWEpIHtcbiAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9IGAkeyh3dC50eCArIGhpdEFyZWEueCAqIHd0LmEpICogc3h9cHhgO1xuICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSBgJHsod3QudHkgKyBoaXRBcmVhLnkgKiB3dC5kKSAqIHN5fXB4YDtcbiAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBgJHtoaXRBcmVhLndpZHRoICogd3QuYSAqIHN4fXB4YDtcbiAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7aGl0QXJlYS5oZWlnaHQgKiB3dC5kICogc3l9cHhgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhpdEFyZWEgPSBjaGlsZC5nZXRCb3VuZHMoKTtcbiAgICAgICAgICB0aGlzLmNhcEhpdEFyZWEoaGl0QXJlYSk7XG4gICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBgJHtoaXRBcmVhLnggKiBzeH1weGA7XG4gICAgICAgICAgZGl2LnN0eWxlLnRvcCA9IGAke2hpdEFyZWEueSAqIHN5fXB4YDtcbiAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBgJHtoaXRBcmVhLndpZHRoICogc3h9cHhgO1xuICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBgJHtoaXRBcmVhLmhlaWdodCAqIHN5fXB4YDtcbiAgICAgICAgICBpZiAoZGl2LnRpdGxlICE9PSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgJiYgY2hpbGQuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBkaXYudGl0bGUgPSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkaXYuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSAhPT0gY2hpbGQuYWNjZXNzaWJsZUhpbnQgJiYgY2hpbGQuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGNoaWxkLmFjY2Vzc2libGVIaW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkLmFjY2Vzc2libGVUaXRsZSAhPT0gZGl2LnRpdGxlIHx8IGNoaWxkLnRhYkluZGV4ICE9PSBkaXYudGFiSW5kZXgpIHtcbiAgICAgICAgICBkaXYudGl0bGUgPSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgICAgZGl2LnRhYkluZGV4ID0gY2hpbGQudGFiSW5kZXg7XG4gICAgICAgICAgaWYgKHRoaXMuZGVidWcpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURlYnVnSFRNTChkaXYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVuZGVySWQrKztcbiAgfVxuICB1cGRhdGVEZWJ1Z0hUTUwoZGl2KSB7XG4gICAgZGl2LmlubmVySFRNTCA9IGB0eXBlOiAke2Rpdi50eXBlfTwvYnI+IHRpdGxlIDogJHtkaXYudGl0bGV9PC9icj4gdGFiSW5kZXg6ICR7ZGl2LnRhYkluZGV4fWA7XG4gIH1cbiAgY2FwSGl0QXJlYShoaXRBcmVhKSB7XG4gICAgaWYgKGhpdEFyZWEueCA8IDApIHtcbiAgICAgIGhpdEFyZWEud2lkdGggKz0gaGl0QXJlYS54O1xuICAgICAgaGl0QXJlYS54ID0gMDtcbiAgICB9XG4gICAgaWYgKGhpdEFyZWEueSA8IDApIHtcbiAgICAgIGhpdEFyZWEuaGVpZ2h0ICs9IGhpdEFyZWEueTtcbiAgICAgIGhpdEFyZWEueSA9IDA7XG4gICAgfVxuICAgIGNvbnN0IHsgd2lkdGg6IHZpZXdXaWR0aCwgaGVpZ2h0OiB2aWV3SGVpZ2h0IH0gPSB0aGlzLnJlbmRlcmVyO1xuICAgIGlmIChoaXRBcmVhLnggKyBoaXRBcmVhLndpZHRoID4gdmlld1dpZHRoKSB7XG4gICAgICBoaXRBcmVhLndpZHRoID0gdmlld1dpZHRoIC0gaGl0QXJlYS54O1xuICAgIH1cbiAgICBpZiAoaGl0QXJlYS55ICsgaGl0QXJlYS5oZWlnaHQgPiB2aWV3SGVpZ2h0KSB7XG4gICAgICBoaXRBcmVhLmhlaWdodCA9IHZpZXdIZWlnaHQgLSBoaXRBcmVhLnk7XG4gICAgfVxuICB9XG4gIGFkZENoaWxkKGRpc3BsYXlPYmplY3QpIHtcbiAgICBsZXQgZGl2ID0gdGhpcy5wb29sLnBvcCgpO1xuICAgIGlmICghZGl2KSB7XG4gICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgZGl2LnN0eWxlLndpZHRoID0gYCR7RElWX1RPVUNIX1NJWkV9cHhgO1xuICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGAke0RJVl9UT1VDSF9TSVpFfXB4YDtcbiAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmRlYnVnID8gXCJyZ2JhKDI1NSwyNTUsMjU1LDAuNSlcIiA6IFwidHJhbnNwYXJlbnRcIjtcbiAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYLnRvU3RyaW5nKCk7XG4gICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSBcIm5vbmVcIjtcbiAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJjaHJvbWVcIikpIHtcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiLCBcIm9mZlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIiwgXCJwb2xpdGVcIik7XG4gICAgICB9XG4gICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvcnY6LipHZWNrb1xcLy8pKSB7XG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXJlbGV2YW50XCIsIFwiYWRkaXRpb25zXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZShcImFyaWEtcmVsZXZhbnRcIiwgXCJ0ZXh0XCIpO1xuICAgICAgfVxuICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCB0aGlzLl9vbkZvY3VzLmJpbmQodGhpcykpO1xuICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c291dFwiLCB0aGlzLl9vbkZvY3VzT3V0LmJpbmQodGhpcykpO1xuICAgIH1cbiAgICBkaXYuc3R5bGUucG9pbnRlckV2ZW50cyA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVBvaW50ZXJFdmVudHM7XG4gICAgZGl2LnR5cGUgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUeXBlO1xuICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZSAmJiBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbCkge1xuICAgICAgZGl2LnRpdGxlID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgfSBlbHNlIGlmICghZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCB8fCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ID09PSBudWxsKSB7XG4gICAgICBkaXYudGl0bGUgPSBgZGlzcGxheU9iamVjdCAke2Rpc3BsYXlPYmplY3QudGFiSW5kZXh9YDtcbiAgICB9XG4gICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgJiYgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCAhPT0gbnVsbCkge1xuICAgICAgZGl2LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmRlYnVnKVxuICAgICAgdGhpcy51cGRhdGVEZWJ1Z0hUTUwoZGl2KTtcbiAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlID0gdHJ1ZTtcbiAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2ID0gZGl2O1xuICAgIGRpdi5kaXNwbGF5T2JqZWN0ID0gZGlzcGxheU9iamVjdDtcbiAgICB0aGlzLmNoaWxkcmVuLnB1c2goZGlzcGxheU9iamVjdCk7XG4gICAgdGhpcy5kaXYuYXBwZW5kQ2hpbGQoZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdik7XG4gICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdi50YWJJbmRleCA9IGRpc3BsYXlPYmplY3QudGFiSW5kZXg7XG4gIH1cbiAgX2Rpc3BhdGNoRXZlbnQoZSwgdHlwZSkge1xuICAgIGNvbnN0IHsgZGlzcGxheU9iamVjdDogdGFyZ2V0IH0gPSBlLnRhcmdldDtcbiAgICBjb25zdCBib3VuZHJ5ID0gdGhpcy5yZW5kZXJlci5ldmVudHMucm9vdEJvdW5kYXJ5O1xuICAgIGNvbnN0IGV2ZW50ID0gT2JqZWN0LmFzc2lnbihuZXcgRmVkZXJhdGVkRXZlbnQoYm91bmRyeSksIHsgdGFyZ2V0IH0pO1xuICAgIGJvdW5kcnkucm9vdFRhcmdldCA9IHRoaXMucmVuZGVyZXIubGFzdE9iamVjdFJlbmRlcmVkO1xuICAgIHR5cGUuZm9yRWFjaCgodHlwZTIpID0+IGJvdW5kcnkuZGlzcGF0Y2hFdmVudChldmVudCwgdHlwZTIpKTtcbiAgfVxuICBfb25DbGljayhlKSB7XG4gICAgdGhpcy5fZGlzcGF0Y2hFdmVudChlLCBbXCJjbGlja1wiLCBcInBvaW50ZXJ0YXBcIiwgXCJ0YXBcIl0pO1xuICB9XG4gIF9vbkZvY3VzKGUpIHtcbiAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiKSkge1xuICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIFwiYXNzZXJ0aXZlXCIpO1xuICAgIH1cbiAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KGUsIFtcIm1vdXNlb3ZlclwiXSk7XG4gIH1cbiAgX29uRm9jdXNPdXQoZSkge1xuICAgIGlmICghZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIpKSB7XG4gICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIiwgXCJwb2xpdGVcIik7XG4gICAgfVxuICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQoZSwgW1wibW91c2VvdXRcIl0pO1xuICB9XG4gIF9vbktleURvd24oZSkge1xuICAgIGlmIChlLmtleUNvZGUgIT09IEtFWV9DT0RFX1RBQikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmFjdGl2YXRlKCk7XG4gIH1cbiAgX29uTW91c2VNb3ZlKGUpIHtcbiAgICBpZiAoZS5tb3ZlbWVudFggPT09IDAgJiYgZS5tb3ZlbWVudFkgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmRlc3Ryb3lUb3VjaEhvb2soKTtcbiAgICB0aGlzLmRpdiA9IG51bGw7XG4gICAgZ2xvYmFsVGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICBnbG9iYWxUaGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX29uS2V5RG93bik7XG4gICAgdGhpcy5wb29sID0gbnVsbDtcbiAgICB0aGlzLmNoaWxkcmVuID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuQWNjZXNzaWJpbGl0eU1hbmFnZXIuZXh0ZW5zaW9uID0ge1xuICBuYW1lOiBcImFjY2Vzc2liaWxpdHlcIixcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuUmVuZGVyZXJQbHVnaW4sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNSZW5kZXJlclBsdWdpblxuICBdXG59O1xuZXh0ZW5zaW9ucy5hZGQoQWNjZXNzaWJpbGl0eU1hbmFnZXIpO1xuXG5leHBvcnQgeyBBY2Nlc3NpYmlsaXR5TWFuYWdlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWNjZXNzaWJpbGl0eU1hbmFnZXIubWpzLm1hcFxuIiwiY29uc3QgYWNjZXNzaWJsZVRhcmdldCA9IHtcbiAgYWNjZXNzaWJsZTogZmFsc2UsXG4gIGFjY2Vzc2libGVUaXRsZTogbnVsbCxcbiAgYWNjZXNzaWJsZUhpbnQ6IG51bGwsXG4gIHRhYkluZGV4OiAwLFxuICBfYWNjZXNzaWJsZUFjdGl2ZTogZmFsc2UsXG4gIF9hY2Nlc3NpYmxlRGl2OiBudWxsLFxuICBhY2Nlc3NpYmxlVHlwZTogXCJidXR0b25cIixcbiAgYWNjZXNzaWJsZVBvaW50ZXJFdmVudHM6IFwiYXV0b1wiLFxuICBhY2Nlc3NpYmxlQ2hpbGRyZW46IHRydWUsXG4gIHJlbmRlcklkOiAtMVxufTtcblxuZXhwb3J0IHsgYWNjZXNzaWJsZVRhcmdldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWNjZXNzaWJsZVRhcmdldC5tanMubWFwXG4iLCJleHBvcnQgeyBBY2Nlc3NpYmlsaXR5TWFuYWdlciB9IGZyb20gJy4vQWNjZXNzaWJpbGl0eU1hbmFnZXIubWpzJztcbmV4cG9ydCB7IGFjY2Vzc2libGVUYXJnZXQgfSBmcm9tICcuL2FjY2Vzc2libGVUYXJnZXQubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IGF1dG9EZXRlY3RSZW5kZXJlciwgZXh0ZW5zaW9ucywgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbmNvbnN0IF9BcHBsaWNhdGlvbiA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuc3RhZ2UgPSBuZXcgQ29udGFpbmVyKCk7XG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgZm9yY2VDYW52YXM6IGZhbHNlXG4gICAgfSwgb3B0aW9ucyk7XG4gICAgdGhpcy5yZW5kZXJlciA9IGF1dG9EZXRlY3RSZW5kZXJlcihvcHRpb25zKTtcbiAgICBfQXBwbGljYXRpb24uX3BsdWdpbnMuZm9yRWFjaCgocGx1Z2luKSA9PiB7XG4gICAgICBwbHVnaW4uaW5pdC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnN0YWdlKTtcbiAgfVxuICBnZXQgdmlldygpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlci52aWV3O1xuICB9XG4gIGdldCBzY3JlZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuc2NyZWVuO1xuICB9XG4gIGRlc3Ryb3kocmVtb3ZlVmlldywgc3RhZ2VPcHRpb25zKSB7XG4gICAgY29uc3QgcGx1Z2lucyA9IF9BcHBsaWNhdGlvbi5fcGx1Z2lucy5zbGljZSgwKTtcbiAgICBwbHVnaW5zLnJldmVyc2UoKTtcbiAgICBwbHVnaW5zLmZvckVhY2goKHBsdWdpbikgPT4ge1xuICAgICAgcGx1Z2luLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9KTtcbiAgICB0aGlzLnN0YWdlLmRlc3Ryb3koc3RhZ2VPcHRpb25zKTtcbiAgICB0aGlzLnN0YWdlID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH1cbn07XG5sZXQgQXBwbGljYXRpb24gPSBfQXBwbGljYXRpb247XG5BcHBsaWNhdGlvbi5fcGx1Z2lucyA9IFtdO1xuZXh0ZW5zaW9ucy5oYW5kbGVCeUxpc3QoRXh0ZW5zaW9uVHlwZS5BcHBsaWNhdGlvbiwgQXBwbGljYXRpb24uX3BsdWdpbnMpO1xuXG5leHBvcnQgeyBBcHBsaWNhdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXBwbGljYXRpb24ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jbGFzcyBSZXNpemVQbHVnaW4ge1xuICBzdGF0aWMgaW5pdChvcHRpb25zKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVzaXplVG9cIiwge1xuICAgICAgc2V0KGRvbSkge1xuICAgICAgICBnbG9iYWxUaGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5xdWV1ZVJlc2l6ZSk7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZVRvID0gZG9tO1xuICAgICAgICBpZiAoZG9tKSB7XG4gICAgICAgICAgZ2xvYmFsVGhpcy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucXVldWVSZXNpemUpO1xuICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNpemVUbztcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnF1ZXVlUmVzaXplID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9yZXNpemVUbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmNhbmNlbFJlc2l6ZSgpO1xuICAgICAgdGhpcy5fcmVzaXplSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5yZXNpemUoKSk7XG4gICAgfTtcbiAgICB0aGlzLmNhbmNlbFJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9yZXNpemVJZCkge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXNpemVJZCk7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZUlkID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMucmVzaXplID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9yZXNpemVUbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmNhbmNlbFJlc2l6ZSgpO1xuICAgICAgbGV0IHdpZHRoO1xuICAgICAgbGV0IGhlaWdodDtcbiAgICAgIGlmICh0aGlzLl9yZXNpemVUbyA9PT0gZ2xvYmFsVGhpcy53aW5kb3cpIHtcbiAgICAgICAgd2lkdGggPSBnbG9iYWxUaGlzLmlubmVyV2lkdGg7XG4gICAgICAgIGhlaWdodCA9IGdsb2JhbFRoaXMuaW5uZXJIZWlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB7IGNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQgfSA9IHRoaXMuX3Jlc2l6ZVRvO1xuICAgICAgICB3aWR0aCA9IGNsaWVudFdpZHRoO1xuICAgICAgICBoZWlnaHQgPSBjbGllbnRIZWlnaHQ7XG4gICAgICB9XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfTtcbiAgICB0aGlzLl9yZXNpemVJZCA9IG51bGw7XG4gICAgdGhpcy5fcmVzaXplVG8gPSBudWxsO1xuICAgIHRoaXMucmVzaXplVG8gPSBvcHRpb25zLnJlc2l6ZVRvIHx8IG51bGw7XG4gIH1cbiAgc3RhdGljIGRlc3Ryb3koKSB7XG4gICAgZ2xvYmFsVGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucXVldWVSZXNpemUpO1xuICAgIHRoaXMuY2FuY2VsUmVzaXplKCk7XG4gICAgdGhpcy5jYW5jZWxSZXNpemUgPSBudWxsO1xuICAgIHRoaXMucXVldWVSZXNpemUgPSBudWxsO1xuICAgIHRoaXMucmVzaXplVG8gPSBudWxsO1xuICAgIHRoaXMucmVzaXplID0gbnVsbDtcbiAgfVxufVxuUmVzaXplUGx1Z2luLmV4dGVuc2lvbiA9IEV4dGVuc2lvblR5cGUuQXBwbGljYXRpb247XG5leHRlbnNpb25zLmFkZChSZXNpemVQbHVnaW4pO1xuXG5leHBvcnQgeyBSZXNpemVQbHVnaW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlc2l6ZVBsdWdpbi5tanMubWFwXG4iLCJleHBvcnQgeyBBcHBsaWNhdGlvbiB9IGZyb20gJy4vQXBwbGljYXRpb24ubWpzJztcbmV4cG9ydCB7IFJlc2l6ZVBsdWdpbiB9IGZyb20gJy4vUmVzaXplUGx1Z2luLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmNvbnN0IGFzc2V0S2V5TWFwID0ge1xuICBsb2FkZXI6IEV4dGVuc2lvblR5cGUuTG9hZFBhcnNlcixcbiAgcmVzb2x2ZXI6IEV4dGVuc2lvblR5cGUuUmVzb2x2ZVBhcnNlcixcbiAgY2FjaGU6IEV4dGVuc2lvblR5cGUuQ2FjaGVQYXJzZXIsXG4gIGRldGVjdGlvbjogRXh0ZW5zaW9uVHlwZS5EZXRlY3Rpb25QYXJzZXJcbn07XG5leHRlbnNpb25zLmhhbmRsZShFeHRlbnNpb25UeXBlLkFzc2V0LCAoZXh0ZW5zaW9uKSA9PiB7XG4gIGNvbnN0IHJlZiA9IGV4dGVuc2lvbi5yZWY7XG4gIE9iamVjdC5lbnRyaWVzKGFzc2V0S2V5TWFwKS5maWx0ZXIoKFtrZXldKSA9PiAhIXJlZltrZXldKS5mb3JFYWNoKChba2V5LCB0eXBlXSkgPT4gZXh0ZW5zaW9ucy5hZGQoT2JqZWN0LmFzc2lnbihyZWZba2V5XSwgeyBleHRlbnNpb246IHJlZltrZXldLmV4dGVuc2lvbiA/PyB0eXBlIH0pKSk7XG59LCAoZXh0ZW5zaW9uKSA9PiB7XG4gIGNvbnN0IHJlZiA9IGV4dGVuc2lvbi5yZWY7XG4gIE9iamVjdC5rZXlzKGFzc2V0S2V5TWFwKS5maWx0ZXIoKGtleSkgPT4gISFyZWZba2V5XSkuZm9yRWFjaCgoa2V5KSA9PiBleHRlbnNpb25zLnJlbW92ZShyZWZba2V5XSkpO1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3NldEV4dGVuc2lvbi5tanMubWFwXG4iLCJpbXBvcnQgeyB1dGlscywgZXh0ZW5zaW9ucywgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQmFja2dyb3VuZExvYWRlciB9IGZyb20gJy4vQmFja2dyb3VuZExvYWRlci5tanMnO1xuaW1wb3J0IHsgQ2FjaGUgfSBmcm9tICcuL2NhY2hlL0NhY2hlLm1qcyc7XG5pbXBvcnQgeyBMb2FkZXIgfSBmcm9tICcuL2xvYWRlci9Mb2FkZXIubWpzJztcbmltcG9ydCAnLi9sb2FkZXIvcGFyc2Vycy9pbmRleC5tanMnO1xuaW1wb3J0IHsgUmVzb2x2ZXIgfSBmcm9tICcuL3Jlc29sdmVyL1Jlc29sdmVyLm1qcyc7XG5pbXBvcnQgeyBjb252ZXJ0VG9MaXN0IH0gZnJvbSAnLi91dGlscy9jb252ZXJ0VG9MaXN0Lm1qcyc7XG5pbXBvcnQgeyBpc1NpbmdsZUl0ZW0gfSBmcm9tICcuL3V0aWxzL2lzU2luZ2xlSXRlbS5tanMnO1xuaW1wb3J0IHsgbG9hZFRleHR1cmVzIH0gZnJvbSAnLi9sb2FkZXIvcGFyc2Vycy90ZXh0dXJlcy9sb2FkVGV4dHVyZXMubWpzJztcblxuY2xhc3MgQXNzZXRzQ2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9kZXRlY3Rpb25zID0gW107XG4gICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlc29sdmVyID0gbmV3IFJlc29sdmVyKCk7XG4gICAgdGhpcy5sb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gICAgdGhpcy5jYWNoZSA9IENhY2hlO1xuICAgIHRoaXMuX2JhY2tncm91bmRMb2FkZXIgPSBuZXcgQmFja2dyb3VuZExvYWRlcih0aGlzLmxvYWRlcik7XG4gICAgdGhpcy5fYmFja2dyb3VuZExvYWRlci5hY3RpdmUgPSB0cnVlO1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuICBhc3luYyBpbml0KG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICh0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgY29uc29sZS53YXJuKFwiW0Fzc2V0c11Bc3NldE1hbmFnZXIgYWxyZWFkeSBpbml0aWFsaXplZCwgZGlkIHlvdSBsb2FkIGJlZm9yZSBjYWxsaW5nIHRoaXMgQXNzZXQuaW5pdCgpP1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIGlmIChvcHRpb25zLmRlZmF1bHRTZWFyY2hQYXJhbXMpIHtcbiAgICAgIHRoaXMucmVzb2x2ZXIuc2V0RGVmYXVsdFNlYXJjaFBhcmFtcyhvcHRpb25zLmRlZmF1bHRTZWFyY2hQYXJhbXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5iYXNlUGF0aCkge1xuICAgICAgdGhpcy5yZXNvbHZlci5iYXNlUGF0aCA9IG9wdGlvbnMuYmFzZVBhdGg7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmJ1bmRsZUlkZW50aWZpZXIpIHtcbiAgICAgIHRoaXMucmVzb2x2ZXIuc2V0QnVuZGxlSWRlbnRpZmllcihvcHRpb25zLmJ1bmRsZUlkZW50aWZpZXIpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5tYW5pZmVzdCkge1xuICAgICAgbGV0IG1hbmlmZXN0ID0gb3B0aW9ucy5tYW5pZmVzdDtcbiAgICAgIGlmICh0eXBlb2YgbWFuaWZlc3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgbWFuaWZlc3QgPSBhd2FpdCB0aGlzLmxvYWQobWFuaWZlc3QpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZXNvbHZlci5hZGRNYW5pZmVzdChtYW5pZmVzdCk7XG4gICAgfVxuICAgIGNvbnN0IHJlc29sdXRpb25QcmVmID0gb3B0aW9ucy50ZXh0dXJlUHJlZmVyZW5jZT8ucmVzb2x1dGlvbiA/PyAxO1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSB0eXBlb2YgcmVzb2x1dGlvblByZWYgPT09IFwibnVtYmVyXCIgPyBbcmVzb2x1dGlvblByZWZdIDogcmVzb2x1dGlvblByZWY7XG4gICAgbGV0IGZvcm1hdHMgPSBbXTtcbiAgICBpZiAob3B0aW9ucy50ZXh0dXJlUHJlZmVyZW5jZT8uZm9ybWF0KSB7XG4gICAgICBjb25zdCBmb3JtYXRQcmVmID0gb3B0aW9ucy50ZXh0dXJlUHJlZmVyZW5jZT8uZm9ybWF0O1xuICAgICAgZm9ybWF0cyA9IHR5cGVvZiBmb3JtYXRQcmVmID09PSBcInN0cmluZ1wiID8gW2Zvcm1hdFByZWZdIDogZm9ybWF0UHJlZjtcbiAgICAgIGZvciAoY29uc3QgZGV0ZWN0aW9uIG9mIHRoaXMuX2RldGVjdGlvbnMpIHtcbiAgICAgICAgaWYgKCFhd2FpdCBkZXRlY3Rpb24udGVzdCgpKSB7XG4gICAgICAgICAgZm9ybWF0cyA9IGF3YWl0IGRldGVjdGlvbi5yZW1vdmUoZm9ybWF0cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBkZXRlY3Rpb24gb2YgdGhpcy5fZGV0ZWN0aW9ucykge1xuICAgICAgICBpZiAoYXdhaXQgZGV0ZWN0aW9uLnRlc3QoKSkge1xuICAgICAgICAgIGZvcm1hdHMgPSBhd2FpdCBkZXRlY3Rpb24uYWRkKGZvcm1hdHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVzb2x2ZXIucHJlZmVyKHtcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBmb3JtYXQ6IGZvcm1hdHMsXG4gICAgICAgIHJlc29sdXRpb25cbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy5wcmVmZXJlbmNlcykge1xuICAgICAgdGhpcy5zZXRQcmVmZXJlbmNlcyhvcHRpb25zLnByZWZlcmVuY2VzKTtcbiAgICB9XG4gIH1cbiAgYWRkKGtleXNJbiwgYXNzZXRzSW4sIGRhdGEpIHtcbiAgICB0aGlzLnJlc29sdmVyLmFkZChrZXlzSW4sIGFzc2V0c0luLCBkYXRhKTtcbiAgfVxuICBhc3luYyBsb2FkKHVybHMsIG9uUHJvZ3Jlc3MpIHtcbiAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICB9XG4gICAgY29uc3Qgc2luZ2xlQXNzZXQgPSBpc1NpbmdsZUl0ZW0odXJscyk7XG4gICAgY29uc3QgdXJsQXJyYXkgPSBjb252ZXJ0VG9MaXN0KHVybHMpLm1hcCgodXJsKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aGlzLnJlc29sdmVyLmFkZCh1cmwuc3JjLCB1cmwpO1xuICAgICAgICByZXR1cm4gdXJsLnNyYztcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5yZXNvbHZlci5oYXNLZXkodXJsKSkge1xuICAgICAgICB0aGlzLnJlc29sdmVyLmFkZCh1cmwsIHVybCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH0pO1xuICAgIGNvbnN0IHJlc29sdmVSZXN1bHRzID0gdGhpcy5yZXNvbHZlci5yZXNvbHZlKHVybEFycmF5KTtcbiAgICBjb25zdCBvdXQgPSBhd2FpdCB0aGlzLl9tYXBMb2FkVG9SZXNvbHZlKHJlc29sdmVSZXN1bHRzLCBvblByb2dyZXNzKTtcbiAgICByZXR1cm4gc2luZ2xlQXNzZXQgPyBvdXRbdXJsQXJyYXlbMF1dIDogb3V0O1xuICB9XG4gIGFkZEJ1bmRsZShidW5kbGVJZCwgYXNzZXRzKSB7XG4gICAgdGhpcy5yZXNvbHZlci5hZGRCdW5kbGUoYnVuZGxlSWQsIGFzc2V0cyk7XG4gIH1cbiAgYXN5bmMgbG9hZEJ1bmRsZShidW5kbGVJZHMsIG9uUHJvZ3Jlc3MpIHtcbiAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICB9XG4gICAgbGV0IHNpbmdsZUFzc2V0ID0gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBidW5kbGVJZHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHNpbmdsZUFzc2V0ID0gdHJ1ZTtcbiAgICAgIGJ1bmRsZUlkcyA9IFtidW5kbGVJZHNdO1xuICAgIH1cbiAgICBjb25zdCByZXNvbHZlUmVzdWx0cyA9IHRoaXMucmVzb2x2ZXIucmVzb2x2ZUJ1bmRsZShidW5kbGVJZHMpO1xuICAgIGNvbnN0IG91dCA9IHt9O1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyZXNvbHZlUmVzdWx0cyk7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBsZXQgdG90YWwgPSAwO1xuICAgIGNvbnN0IF9vblByb2dyZXNzID0gKCkgPT4ge1xuICAgICAgb25Qcm9ncmVzcz8uKCsrY291bnQgLyB0b3RhbCk7XG4gICAgfTtcbiAgICBjb25zdCBwcm9taXNlcyA9IGtleXMubWFwKChidW5kbGVJZCkgPT4ge1xuICAgICAgY29uc3QgcmVzb2x2ZVJlc3VsdCA9IHJlc29sdmVSZXN1bHRzW2J1bmRsZUlkXTtcbiAgICAgIHRvdGFsICs9IE9iamVjdC5rZXlzKHJlc29sdmVSZXN1bHQpLmxlbmd0aDtcbiAgICAgIHJldHVybiB0aGlzLl9tYXBMb2FkVG9SZXNvbHZlKHJlc29sdmVSZXN1bHQsIF9vblByb2dyZXNzKS50aGVuKChyZXNvbHZlUmVzdWx0MikgPT4ge1xuICAgICAgICBvdXRbYnVuZGxlSWRdID0gcmVzb2x2ZVJlc3VsdDI7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgcmV0dXJuIHNpbmdsZUFzc2V0ID8gb3V0W2J1bmRsZUlkc1swXV0gOiBvdXQ7XG4gIH1cbiAgYXN5bmMgYmFja2dyb3VuZExvYWQodXJscykge1xuICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHVybHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHVybHMgPSBbdXJsc107XG4gICAgfVxuICAgIGNvbnN0IHJlc29sdmVSZXN1bHRzID0gdGhpcy5yZXNvbHZlci5yZXNvbHZlKHVybHMpO1xuICAgIHRoaXMuX2JhY2tncm91bmRMb2FkZXIuYWRkKE9iamVjdC52YWx1ZXMocmVzb2x2ZVJlc3VsdHMpKTtcbiAgfVxuICBhc3luYyBiYWNrZ3JvdW5kTG9hZEJ1bmRsZShidW5kbGVJZHMpIHtcbiAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBidW5kbGVJZHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGJ1bmRsZUlkcyA9IFtidW5kbGVJZHNdO1xuICAgIH1cbiAgICBjb25zdCByZXNvbHZlUmVzdWx0cyA9IHRoaXMucmVzb2x2ZXIucmVzb2x2ZUJ1bmRsZShidW5kbGVJZHMpO1xuICAgIE9iamVjdC52YWx1ZXMocmVzb2x2ZVJlc3VsdHMpLmZvckVhY2goKHJlc29sdmVSZXN1bHQpID0+IHtcbiAgICAgIHRoaXMuX2JhY2tncm91bmRMb2FkZXIuYWRkKE9iamVjdC52YWx1ZXMocmVzb2x2ZVJlc3VsdCkpO1xuICAgIH0pO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMucmVzb2x2ZXIucmVzZXQoKTtcbiAgICB0aGlzLmxvYWRlci5yZXNldCgpO1xuICAgIHRoaXMuY2FjaGUucmVzZXQoKTtcbiAgICB0aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xuICB9XG4gIGdldChrZXlzKSB7XG4gICAgaWYgKHR5cGVvZiBrZXlzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gQ2FjaGUuZ2V0KGtleXMpO1xuICAgIH1cbiAgICBjb25zdCBhc3NldHMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFzc2V0c1tpXSA9IENhY2hlLmdldChrZXlzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGFzc2V0cztcbiAgfVxuICBhc3luYyBfbWFwTG9hZFRvUmVzb2x2ZShyZXNvbHZlUmVzdWx0cywgb25Qcm9ncmVzcykge1xuICAgIGNvbnN0IHJlc29sdmVBcnJheSA9IE9iamVjdC52YWx1ZXMocmVzb2x2ZVJlc3VsdHMpO1xuICAgIGNvbnN0IHJlc29sdmVLZXlzID0gT2JqZWN0LmtleXMocmVzb2x2ZVJlc3VsdHMpO1xuICAgIHRoaXMuX2JhY2tncm91bmRMb2FkZXIuYWN0aXZlID0gZmFsc2U7XG4gICAgY29uc3QgbG9hZGVkQXNzZXRzID0gYXdhaXQgdGhpcy5sb2FkZXIubG9hZChyZXNvbHZlQXJyYXksIG9uUHJvZ3Jlc3MpO1xuICAgIHRoaXMuX2JhY2tncm91bmRMb2FkZXIuYWN0aXZlID0gdHJ1ZTtcbiAgICBjb25zdCBvdXQgPSB7fTtcbiAgICByZXNvbHZlQXJyYXkuZm9yRWFjaCgocmVzb2x2ZVJlc3VsdCwgaSkgPT4ge1xuICAgICAgY29uc3QgYXNzZXQgPSBsb2FkZWRBc3NldHNbcmVzb2x2ZVJlc3VsdC5zcmNdO1xuICAgICAgY29uc3Qga2V5cyA9IFtyZXNvbHZlUmVzdWx0LnNyY107XG4gICAgICBpZiAocmVzb2x2ZVJlc3VsdC5hbGlhcykge1xuICAgICAgICBrZXlzLnB1c2goLi4ucmVzb2x2ZVJlc3VsdC5hbGlhcyk7XG4gICAgICB9XG4gICAgICBvdXRbcmVzb2x2ZUtleXNbaV1dID0gYXNzZXQ7XG4gICAgICBDYWNoZS5zZXQoa2V5cywgYXNzZXQpO1xuICAgIH0pO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgYXN5bmMgdW5sb2FkKHVybHMpIHtcbiAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICB9XG4gICAgY29uc3QgdXJsQXJyYXkgPSBjb252ZXJ0VG9MaXN0KHVybHMpLm1hcCgodXJsKSA9PiB0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiID8gdXJsLnNyYyA6IHVybCk7XG4gICAgY29uc3QgcmVzb2x2ZVJlc3VsdHMgPSB0aGlzLnJlc29sdmVyLnJlc29sdmUodXJsQXJyYXkpO1xuICAgIGF3YWl0IHRoaXMuX3VubG9hZEZyb21SZXNvbHZlZChyZXNvbHZlUmVzdWx0cyk7XG4gIH1cbiAgYXN5bmMgdW5sb2FkQnVuZGxlKGJ1bmRsZUlkcykge1xuICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgICBidW5kbGVJZHMgPSBjb252ZXJ0VG9MaXN0KGJ1bmRsZUlkcyk7XG4gICAgY29uc3QgcmVzb2x2ZVJlc3VsdHMgPSB0aGlzLnJlc29sdmVyLnJlc29sdmVCdW5kbGUoYnVuZGxlSWRzKTtcbiAgICBjb25zdCBwcm9taXNlcyA9IE9iamVjdC5rZXlzKHJlc29sdmVSZXN1bHRzKS5tYXAoKGJ1bmRsZUlkKSA9PiB0aGlzLl91bmxvYWRGcm9tUmVzb2x2ZWQocmVzb2x2ZVJlc3VsdHNbYnVuZGxlSWRdKSk7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICB9XG4gIGFzeW5jIF91bmxvYWRGcm9tUmVzb2x2ZWQocmVzb2x2ZVJlc3VsdCkge1xuICAgIGNvbnN0IHJlc29sdmVBcnJheSA9IE9iamVjdC52YWx1ZXMocmVzb2x2ZVJlc3VsdCk7XG4gICAgcmVzb2x2ZUFycmF5LmZvckVhY2goKHJlc29sdmVSZXN1bHQyKSA9PiB7XG4gICAgICBDYWNoZS5yZW1vdmUocmVzb2x2ZVJlc3VsdDIuc3JjKTtcbiAgICB9KTtcbiAgICBhd2FpdCB0aGlzLmxvYWRlci51bmxvYWQocmVzb2x2ZUFycmF5KTtcbiAgfVxuICBnZXQgZGV0ZWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5fZGV0ZWN0aW9ucztcbiAgfVxuICBnZXQgcHJlZmVyV29ya2VycygpIHtcbiAgICByZXR1cm4gbG9hZFRleHR1cmVzLmNvbmZpZy5wcmVmZXJXb3JrZXJzO1xuICB9XG4gIHNldCBwcmVmZXJXb3JrZXJzKHZhbHVlKSB7XG4gICAgdXRpbHMuZGVwcmVjYXRpb24oXCI3LjIuMFwiLCBcIkFzc2V0cy5wcmVmZXJzV29ya2VycyBpcyBkZXByZWNhdGVkLCB1c2UgQXNzZXRzLnNldFByZWZlcmVuY2VzKHsgcHJlZmVyV29ya2VyczogdHJ1ZSB9KSBpbnN0ZWFkLlwiKTtcbiAgICB0aGlzLnNldFByZWZlcmVuY2VzKHsgcHJlZmVyV29ya2VyczogdmFsdWUgfSk7XG4gIH1cbiAgc2V0UHJlZmVyZW5jZXMocHJlZmVyZW5jZXMpIHtcbiAgICB0aGlzLmxvYWRlci5wYXJzZXJzLmZvckVhY2goKHBhcnNlcikgPT4ge1xuICAgICAgaWYgKCFwYXJzZXIuY29uZmlnKVxuICAgICAgICByZXR1cm47XG4gICAgICBPYmplY3Qua2V5cyhwYXJzZXIuY29uZmlnKS5maWx0ZXIoKGtleSkgPT4ga2V5IGluIHByZWZlcmVuY2VzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgcGFyc2VyLmNvbmZpZ1trZXldID0gcHJlZmVyZW5jZXNba2V5XTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5jb25zdCBBc3NldHMgPSBuZXcgQXNzZXRzQ2xhc3MoKTtcbmV4dGVuc2lvbnMuaGFuZGxlQnlMaXN0KEV4dGVuc2lvblR5cGUuTG9hZFBhcnNlciwgQXNzZXRzLmxvYWRlci5wYXJzZXJzKS5oYW5kbGVCeUxpc3QoRXh0ZW5zaW9uVHlwZS5SZXNvbHZlUGFyc2VyLCBBc3NldHMucmVzb2x2ZXIucGFyc2VycykuaGFuZGxlQnlMaXN0KEV4dGVuc2lvblR5cGUuQ2FjaGVQYXJzZXIsIEFzc2V0cy5jYWNoZS5wYXJzZXJzKS5oYW5kbGVCeUxpc3QoRXh0ZW5zaW9uVHlwZS5EZXRlY3Rpb25QYXJzZXIsIEFzc2V0cy5kZXRlY3Rpb25zKTtcblxuZXhwb3J0IHsgQXNzZXRzLCBBc3NldHNDbGFzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXNzZXRzLm1qcy5tYXBcbiIsImNsYXNzIEJhY2tncm91bmRMb2FkZXIge1xuICBjb25zdHJ1Y3Rvcihsb2FkZXIsIHZlcmJvc2UgPSBmYWxzZSkge1xuICAgIHRoaXMuX2xvYWRlciA9IGxvYWRlcjtcbiAgICB0aGlzLl9hc3NldExpc3QgPSBbXTtcbiAgICB0aGlzLl9pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9tYXhDb25jdXJyZW50ID0gMTtcbiAgICB0aGlzLnZlcmJvc2UgPSB2ZXJib3NlO1xuICB9XG4gIGFkZChhc3NldFVybHMpIHtcbiAgICBhc3NldFVybHMuZm9yRWFjaCgoYSkgPT4ge1xuICAgICAgdGhpcy5fYXNzZXRMaXN0LnB1c2goYSk7XG4gICAgfSk7XG4gICAgaWYgKHRoaXMudmVyYm9zZSlcbiAgICAgIGNvbnNvbGUubG9nKFwiW0JhY2tncm91bmRMb2FkZXJdIGFzc2V0czogXCIsIHRoaXMuX2Fzc2V0TGlzdCk7XG4gICAgaWYgKHRoaXMuX2lzQWN0aXZlICYmICF0aGlzLl9pc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX25leHQoKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgX25leHQoKSB7XG4gICAgaWYgKHRoaXMuX2Fzc2V0TGlzdC5sZW5ndGggJiYgdGhpcy5faXNBY3RpdmUpIHtcbiAgICAgIHRoaXMuX2lzTG9hZGluZyA9IHRydWU7XG4gICAgICBjb25zdCB0b0xvYWQgPSBbXTtcbiAgICAgIGNvbnN0IHRvTG9hZEFtb3VudCA9IE1hdGgubWluKHRoaXMuX2Fzc2V0TGlzdC5sZW5ndGgsIHRoaXMuX21heENvbmN1cnJlbnQpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b0xvYWRBbW91bnQ7IGkrKykge1xuICAgICAgICB0b0xvYWQucHVzaCh0aGlzLl9hc3NldExpc3QucG9wKCkpO1xuICAgICAgfVxuICAgICAgYXdhaXQgdGhpcy5fbG9hZGVyLmxvYWQodG9Mb2FkKTtcbiAgICAgIHRoaXMuX2lzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5fbmV4dCgpO1xuICAgIH1cbiAgfVxuICBnZXQgYWN0aXZlKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0FjdGl2ZTtcbiAgfVxuICBzZXQgYWN0aXZlKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2lzQWN0aXZlID09PSB2YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLl9pc0FjdGl2ZSA9IHZhbHVlO1xuICAgIGlmICh2YWx1ZSAmJiAhdGhpcy5faXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9uZXh0KCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IEJhY2tncm91bmRMb2FkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhY2tncm91bmRMb2FkZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCAnLi4vdXRpbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IGNvbnZlcnRUb0xpc3QgfSBmcm9tICcuLi91dGlscy9jb252ZXJ0VG9MaXN0Lm1qcyc7XG5cbmNsYXNzIENhY2hlQ2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9wYXJzZXJzID0gW107XG4gICAgdGhpcy5fY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMuX2NhY2hlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLl9jYWNoZU1hcC5jbGVhcigpO1xuICAgIHRoaXMuX2NhY2hlLmNsZWFyKCk7XG4gIH1cbiAgaGFzKGtleSkge1xuICAgIHJldHVybiB0aGlzLl9jYWNoZS5oYXMoa2V5KTtcbiAgfVxuICBnZXQoa2V5KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fY2FjaGUuZ2V0KGtleSk7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIGNvbnNvbGUud2FybihgW0Fzc2V0c10gQXNzZXQgaWQgJHtrZXl9IHdhcyBub3QgZm91bmQgaW4gdGhlIENhY2hlYCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICBjb25zdCBrZXlzID0gY29udmVydFRvTGlzdChrZXkpO1xuICAgIGxldCBjYWNoZWFibGVBc3NldHM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcnNlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2Vyc1tpXTtcbiAgICAgIGlmIChwYXJzZXIudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgY2FjaGVhYmxlQXNzZXRzID0gcGFyc2VyLmdldENhY2hlYWJsZUFzc2V0cyhrZXlzLCB2YWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWNhY2hlYWJsZUFzc2V0cykge1xuICAgICAgY2FjaGVhYmxlQXNzZXRzID0ge307XG4gICAgICBrZXlzLmZvckVhY2goKGtleTIpID0+IHtcbiAgICAgICAgY2FjaGVhYmxlQXNzZXRzW2tleTJdID0gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgY2FjaGVLZXlzID0gT2JqZWN0LmtleXMoY2FjaGVhYmxlQXNzZXRzKTtcbiAgICBjb25zdCBjYWNoZWRBc3NldHMgPSB7XG4gICAgICBjYWNoZUtleXMsXG4gICAgICBrZXlzXG4gICAgfTtcbiAgICBrZXlzLmZvckVhY2goKGtleTIpID0+IHtcbiAgICAgIHRoaXMuX2NhY2hlTWFwLnNldChrZXkyLCBjYWNoZWRBc3NldHMpO1xuICAgIH0pO1xuICAgIGNhY2hlS2V5cy5mb3JFYWNoKChrZXkyKSA9PiB7XG4gICAgICBpZiAodGhpcy5fY2FjaGUuaGFzKGtleTIpICYmIHRoaXMuX2NhY2hlLmdldChrZXkyKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiW0NhY2hlXSBhbHJlYWR5IGhhcyBrZXk6XCIsIGtleTIpO1xuICAgICAgfVxuICAgICAgdGhpcy5fY2FjaGUuc2V0KGtleTIsIGNhY2hlYWJsZUFzc2V0c1trZXkyXSk7XG4gICAgfSk7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgY29uc3QgdGV4dHVyZSA9IHZhbHVlO1xuICAgICAga2V5cy5mb3JFYWNoKChrZXkyKSA9PiB7XG4gICAgICAgIGlmICh0ZXh0dXJlLmJhc2VUZXh0dXJlICE9PSBUZXh0dXJlLkVNUFRZLmJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBrZXkyKTtcbiAgICAgICAgfVxuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwga2V5Mik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmVtb3ZlKGtleSkge1xuICAgIHRoaXMuX2NhY2hlTWFwLmdldChrZXkpO1xuICAgIGlmICghdGhpcy5fY2FjaGVNYXAuaGFzKGtleSkpIHtcbiAgICAgIGNvbnNvbGUud2FybihgW0Fzc2V0c10gQXNzZXQgaWQgJHtrZXl9IHdhcyBub3QgZm91bmQgaW4gdGhlIENhY2hlYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNhY2hlTWFwID0gdGhpcy5fY2FjaGVNYXAuZ2V0KGtleSk7XG4gICAgY29uc3QgY2FjaGVLZXlzID0gY2FjaGVNYXAuY2FjaGVLZXlzO1xuICAgIGNhY2hlS2V5cy5mb3JFYWNoKChrZXkyKSA9PiB7XG4gICAgICB0aGlzLl9jYWNoZS5kZWxldGUoa2V5Mik7XG4gICAgfSk7XG4gICAgY2FjaGVNYXAua2V5cy5mb3JFYWNoKChrZXkyKSA9PiB7XG4gICAgICB0aGlzLl9jYWNoZU1hcC5kZWxldGUoa2V5Mik7XG4gICAgfSk7XG4gIH1cbiAgZ2V0IHBhcnNlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhcnNlcnM7XG4gIH1cbn1cbmNvbnN0IENhY2hlID0gbmV3IENhY2hlQ2xhc3MoKTtcblxuZXhwb3J0IHsgQ2FjaGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhY2hlLm1qcy5tYXBcbiIsIlxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FjaGVQYXJzZXIubWpzLm1hcFxuIiwiZXhwb3J0IHsgQ2FjaGUgfSBmcm9tICcuL0NhY2hlLm1qcyc7XG5pbXBvcnQgJy4vQ2FjaGVQYXJzZXIubWpzJztcbmltcG9ydCAnLi9wYXJzZXJzL2luZGV4Lm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBUZXh0dXJlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmNvbnN0IGNhY2hlVGV4dHVyZUFycmF5ID0ge1xuICBleHRlbnNpb246IEV4dGVuc2lvblR5cGUuQ2FjaGVQYXJzZXIsXG4gIHRlc3Q6IChhc3NldCkgPT4gQXJyYXkuaXNBcnJheShhc3NldCkgJiYgYXNzZXQuZXZlcnkoKHQpID0+IHQgaW5zdGFuY2VvZiBUZXh0dXJlKSxcbiAgZ2V0Q2FjaGVhYmxlQXNzZXRzOiAoa2V5cywgYXNzZXQpID0+IHtcbiAgICBjb25zdCBvdXQgPSB7fTtcbiAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgYXNzZXQuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICBvdXRba2V5ICsgKGkgPT09IDAgPyBcIlwiIDogaSArIDEpXSA9IGl0ZW07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gb3V0O1xuICB9XG59O1xuZXh0ZW5zaW9ucy5hZGQoY2FjaGVUZXh0dXJlQXJyYXkpO1xuXG5leHBvcnQgeyBjYWNoZVRleHR1cmVBcnJheSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FjaGVUZXh0dXJlQXJyYXkubWpzLm1hcFxuIiwiZXhwb3J0IHsgY2FjaGVUZXh0dXJlQXJyYXkgfSBmcm9tICcuL2NhY2hlVGV4dHVyZUFycmF5Lm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgJy4vcGFyc2Vycy9pbmRleC5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgc2V0dGluZ3MsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuY29uc3QgZGV0ZWN0QXZpZiA9IHtcbiAgZXh0ZW5zaW9uOiB7XG4gICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5EZXRlY3Rpb25QYXJzZXIsXG4gICAgcHJpb3JpdHk6IDFcbiAgfSxcbiAgdGVzdDogYXN5bmMgKCkgPT4ge1xuICAgIGlmICghZ2xvYmFsVGhpcy5jcmVhdGVJbWFnZUJpdG1hcClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBhdmlmRGF0YSA9IFwiZGF0YTppbWFnZS9hdmlmO2Jhc2U2NCxBQUFBSUdaMGVYQmhkbWxtQUFBQUFHRjJhV1p0YVdZeGJXbGhaazFCTVVJQUFBRHliV1YwWVFBQUFBQUFBQUFvYUdSc2NnQUFBQUFBQUFBQWNHbGpkQUFBQUFBQUFBQUFBQUFBQUd4cFltRjJhV1lBQUFBQURuQnBkRzBBQUFBQUFBRUFBQUFlYVd4dll3QUFBQUJFQUFBQkFBRUFBQUFCQUFBQkdnQUFBQjBBQUFBb2FXbHVaZ0FBQUFBQUFRQUFBQnBwYm1abEFnQUFBQUFCQUFCaGRqQXhRMjlzYjNJQUFBQUFhbWx3Y25BQUFBQkxhWEJqYndBQUFCUnBjM0JsQUFBQUFBQUFBQUlBQUFBQ0FBQUFFSEJwZUdrQUFBQUFBd2dJQ0FBQUFBeGhkakZEZ1EwTUFBQUFBQk5qYjJ4eWJtTnNlQUFDQUFJQUFZQUFBQUFYYVhCdFlRQUFBQUFBQUFBQkFBRUVBUUtEQkFBQUFDVnRaR0YwRWdBS0NCZ0FOb2dRRUF3Z01nOGY4RC8vLzhXZmh3QjgrRXJLNDJBPVwiO1xuICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBzZXR0aW5ncy5BREFQVEVSLmZldGNoKGF2aWZEYXRhKS50aGVuKChyKSA9PiByLmJsb2IoKSk7XG4gICAgcmV0dXJuIGNyZWF0ZUltYWdlQml0bWFwKGJsb2IpLnRoZW4oKCkgPT4gdHJ1ZSwgKCkgPT4gZmFsc2UpO1xuICB9LFxuICBhZGQ6IGFzeW5jIChmb3JtYXRzKSA9PiBbLi4uZm9ybWF0cywgXCJhdmlmXCJdLFxuICByZW1vdmU6IGFzeW5jIChmb3JtYXRzKSA9PiBmb3JtYXRzLmZpbHRlcigoZikgPT4gZiAhPT0gXCJhdmlmXCIpXG59O1xuZXh0ZW5zaW9ucy5hZGQoZGV0ZWN0QXZpZik7XG5cbmV4cG9ydCB7IGRldGVjdEF2aWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRldGVjdEF2aWYubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jb25zdCBpbWFnZUZvcm1hdHMgPSBbXCJwbmdcIiwgXCJqcGdcIiwgXCJqcGVnXCJdO1xuY29uc3QgZGV0ZWN0RGVmYXVsdHMgPSB7XG4gIGV4dGVuc2lvbjoge1xuICAgIHR5cGU6IEV4dGVuc2lvblR5cGUuRGV0ZWN0aW9uUGFyc2VyLFxuICAgIHByaW9yaXR5OiAtMVxuICB9LFxuICB0ZXN0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUodHJ1ZSksXG4gIGFkZDogYXN5bmMgKGZvcm1hdHMpID0+IFsuLi5mb3JtYXRzLCAuLi5pbWFnZUZvcm1hdHNdLFxuICByZW1vdmU6IGFzeW5jIChmb3JtYXRzKSA9PiBmb3JtYXRzLmZpbHRlcigoZikgPT4gIWltYWdlRm9ybWF0cy5pbmNsdWRlcyhmKSlcbn07XG5leHRlbnNpb25zLmFkZChkZXRlY3REZWZhdWx0cyk7XG5cbmV4cG9ydCB7IGRldGVjdERlZmF1bHRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXRlY3REZWZhdWx0cy5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBzZXR0aW5ncywgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jb25zdCBkZXRlY3RXZWJwID0ge1xuICBleHRlbnNpb246IHtcbiAgICB0eXBlOiBFeHRlbnNpb25UeXBlLkRldGVjdGlvblBhcnNlcixcbiAgICBwcmlvcml0eTogMFxuICB9LFxuICB0ZXN0OiBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFnbG9iYWxUaGlzLmNyZWF0ZUltYWdlQml0bWFwKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IHdlYnBEYXRhID0gXCJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSaDRBQUFCWFJVSlFWbEE0VEJFQUFBQXZBQUFBQUFmUS8vNzN2LytCaU9oL0FBQT1cIjtcbiAgICBjb25zdCBibG9iID0gYXdhaXQgc2V0dGluZ3MuQURBUFRFUi5mZXRjaCh3ZWJwRGF0YSkudGhlbigocikgPT4gci5ibG9iKCkpO1xuICAgIHJldHVybiBjcmVhdGVJbWFnZUJpdG1hcChibG9iKS50aGVuKCgpID0+IHRydWUsICgpID0+IGZhbHNlKTtcbiAgfSxcbiAgYWRkOiBhc3luYyAoZm9ybWF0cykgPT4gWy4uLmZvcm1hdHMsIFwid2VicFwiXSxcbiAgcmVtb3ZlOiBhc3luYyAoZm9ybWF0cykgPT4gZm9ybWF0cy5maWx0ZXIoKGYpID0+IGYgIT09IFwid2VicFwiKVxufTtcbmV4dGVuc2lvbnMuYWRkKGRldGVjdFdlYnApO1xuXG5leHBvcnQgeyBkZXRlY3RXZWJwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXRlY3RXZWJwLm1qcy5tYXBcbiIsImV4cG9ydCB7IGRldGVjdEF2aWYgfSBmcm9tICcuL2RldGVjdEF2aWYubWpzJztcbmV4cG9ydCB7IGRldGVjdFdlYnAgfSBmcm9tICcuL2RldGVjdFdlYnAubWpzJztcbmV4cG9ydCB7IGRldGVjdERlZmF1bHRzIH0gZnJvbSAnLi9kZXRlY3REZWZhdWx0cy5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0ICcuL0Fzc2V0RXh0ZW5zaW9uLm1qcyc7XG5leHBvcnQgeyBBc3NldHMsIEFzc2V0c0NsYXNzIH0gZnJvbSAnLi9Bc3NldHMubWpzJztcbmltcG9ydCAnLi9jYWNoZS9pbmRleC5tanMnO1xuaW1wb3J0ICcuL2RldGVjdGlvbnMvaW5kZXgubWpzJztcbmltcG9ydCAnLi9sb2FkZXIvaW5kZXgubWpzJztcbmltcG9ydCAnLi9yZXNvbHZlci9pbmRleC5tanMnO1xuaW1wb3J0ICcuL3V0aWxzL2luZGV4Lm1qcyc7XG5leHBvcnQgeyBDYWNoZSB9IGZyb20gJy4vY2FjaGUvQ2FjaGUubWpzJztcbmV4cG9ydCB7IGNhY2hlVGV4dHVyZUFycmF5IH0gZnJvbSAnLi9jYWNoZS9wYXJzZXJzL2NhY2hlVGV4dHVyZUFycmF5Lm1qcyc7XG5leHBvcnQgeyBkZXRlY3RBdmlmIH0gZnJvbSAnLi9kZXRlY3Rpb25zL3BhcnNlcnMvZGV0ZWN0QXZpZi5tanMnO1xuZXhwb3J0IHsgZGV0ZWN0V2VicCB9IGZyb20gJy4vZGV0ZWN0aW9ucy9wYXJzZXJzL2RldGVjdFdlYnAubWpzJztcbmV4cG9ydCB7IGRldGVjdERlZmF1bHRzIH0gZnJvbSAnLi9kZXRlY3Rpb25zL3BhcnNlcnMvZGV0ZWN0RGVmYXVsdHMubWpzJztcbmV4cG9ydCB7IExvYWRlclBhcnNlclByaW9yaXR5IH0gZnJvbSAnLi9sb2FkZXIvcGFyc2Vycy9Mb2FkZXJQYXJzZXIubWpzJztcbmV4cG9ydCB7IGxvYWRKc29uIH0gZnJvbSAnLi9sb2FkZXIvcGFyc2Vycy9sb2FkSnNvbi5tanMnO1xuZXhwb3J0IHsgbG9hZFR4dCB9IGZyb20gJy4vbG9hZGVyL3BhcnNlcnMvbG9hZFR4dC5tanMnO1xuZXhwb3J0IHsgZ2V0Rm9udEZhbWlseU5hbWUsIGxvYWRXZWJGb250IH0gZnJvbSAnLi9sb2FkZXIvcGFyc2Vycy9sb2FkV2ViRm9udC5tanMnO1xuZXhwb3J0IHsgbG9hZFNWRyB9IGZyb20gJy4vbG9hZGVyL3BhcnNlcnMvdGV4dHVyZXMvbG9hZFNWRy5tanMnO1xuZXhwb3J0IHsgbG9hZEltYWdlQml0bWFwLCBsb2FkVGV4dHVyZXMgfSBmcm9tICcuL2xvYWRlci9wYXJzZXJzL3RleHR1cmVzL2xvYWRUZXh0dXJlcy5tanMnO1xuZXhwb3J0IHsgY3JlYXRlVGV4dHVyZSB9IGZyb20gJy4vbG9hZGVyL3BhcnNlcnMvdGV4dHVyZXMvdXRpbHMvY3JlYXRlVGV4dHVyZS5tanMnO1xuZXhwb3J0IHsgcmVzb2x2ZVRleHR1cmVVcmwgfSBmcm9tICcuL3Jlc29sdmVyL3BhcnNlcnMvcmVzb2x2ZVRleHR1cmVVcmwubWpzJztcbmV4cG9ydCB7IGNoZWNrRGF0YVVybCB9IGZyb20gJy4vdXRpbHMvY2hlY2tEYXRhVXJsLm1qcyc7XG5leHBvcnQgeyBjaGVja0V4dGVuc2lvbiB9IGZyb20gJy4vdXRpbHMvY2hlY2tFeHRlbnNpb24ubWpzJztcbmV4cG9ydCB7IGNvbnZlcnRUb0xpc3QgfSBmcm9tICcuL3V0aWxzL2NvbnZlcnRUb0xpc3QubWpzJztcbmV4cG9ydCB7IGNvcHlTZWFyY2hQYXJhbXMgfSBmcm9tICcuL3V0aWxzL2NvcHlTZWFyY2hQYXJhbXMubWpzJztcbmV4cG9ydCB7IGNyZWF0ZVN0cmluZ1ZhcmlhdGlvbnMgfSBmcm9tICcuL3V0aWxzL2NyZWF0ZVN0cmluZ1ZhcmlhdGlvbnMubWpzJztcbmV4cG9ydCB7IGlzU2luZ2xlSXRlbSB9IGZyb20gJy4vdXRpbHMvaXNTaW5nbGVJdGVtLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyB1dGlscyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0ICcuLi91dGlscy9pbmRleC5tanMnO1xuaW1wb3J0IHsgaXNTaW5nbGVJdGVtIH0gZnJvbSAnLi4vdXRpbHMvaXNTaW5nbGVJdGVtLm1qcyc7XG5pbXBvcnQgeyBjb252ZXJ0VG9MaXN0IH0gZnJvbSAnLi4vdXRpbHMvY29udmVydFRvTGlzdC5tanMnO1xuXG5jbGFzcyBMb2FkZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9wYXJzZXJzID0gW107XG4gICAgdGhpcy5fcGFyc2Vyc1ZhbGlkYXRlZCA9IGZhbHNlO1xuICAgIHRoaXMucGFyc2VycyA9IG5ldyBQcm94eSh0aGlzLl9wYXJzZXJzLCB7XG4gICAgICBzZXQ6ICh0YXJnZXQsIGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgdGhpcy5fcGFyc2Vyc1ZhbGlkYXRlZCA9IGZhbHNlO1xuICAgICAgICB0YXJnZXRba2V5XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnByb21pc2VDYWNoZSA9IHt9O1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX3BhcnNlcnNWYWxpZGF0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnByb21pc2VDYWNoZSA9IHt9O1xuICB9XG4gIF9nZXRMb2FkUHJvbWlzZUFuZFBhcnNlcih1cmwsIGRhdGEpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBwcm9taXNlOiBudWxsLFxuICAgICAgcGFyc2VyOiBudWxsXG4gICAgfTtcbiAgICByZXN1bHQucHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgYXNzZXQgPSBudWxsO1xuICAgICAgbGV0IHBhcnNlciA9IG51bGw7XG4gICAgICBpZiAoZGF0YS5sb2FkUGFyc2VyKSB7XG4gICAgICAgIHBhcnNlciA9IHRoaXMuX3BhcnNlckhhc2hbZGF0YS5sb2FkUGFyc2VyXTtcbiAgICAgICAgaWYgKCFwYXJzZXIpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYFtBc3NldHNdIHNwZWNpZmllZCBsb2FkIHBhcnNlciBcIiR7ZGF0YS5sb2FkUGFyc2VyfVwiIG5vdCBmb3VuZCB3aGlsZSBsb2FkaW5nICR7dXJsfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXBhcnNlcikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGFyc2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHBhcnNlclggPSB0aGlzLnBhcnNlcnNbaV07XG4gICAgICAgICAgaWYgKHBhcnNlclgubG9hZCAmJiBwYXJzZXJYLnRlc3Q/Lih1cmwsIGRhdGEsIHRoaXMpKSB7XG4gICAgICAgICAgICBwYXJzZXIgPSBwYXJzZXJYO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyc2VyKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBbQXNzZXRzXSAke3VybH0gY291bGQgbm90IGJlIGxvYWRlZCBhcyB3ZSBkb24ndCBrbm93IGhvdyB0byBwYXJzZSBpdCwgZW5zdXJlIHRoZSBjb3JyZWN0IHBhcnNlciBoYXMgYmVlbiBhZGRlZGApO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhc3NldCA9IGF3YWl0IHBhcnNlci5sb2FkKHVybCwgZGF0YSwgdGhpcyk7XG4gICAgICByZXN1bHQucGFyc2VyID0gcGFyc2VyO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcnNlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGFyc2VyMiA9IHRoaXMucGFyc2Vyc1tpXTtcbiAgICAgICAgaWYgKHBhcnNlcjIucGFyc2UpIHtcbiAgICAgICAgICBpZiAocGFyc2VyMi5wYXJzZSAmJiBhd2FpdCBwYXJzZXIyLnRlc3RQYXJzZT8uKGFzc2V0LCBkYXRhLCB0aGlzKSkge1xuICAgICAgICAgICAgYXNzZXQgPSBhd2FpdCBwYXJzZXIyLnBhcnNlKGFzc2V0LCBkYXRhLCB0aGlzKSB8fCBhc3NldDtcbiAgICAgICAgICAgIHJlc3VsdC5wYXJzZXIgPSBwYXJzZXIyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFzc2V0O1xuICAgIH0pKCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBhc3luYyBsb2FkKGFzc2V0c1RvTG9hZEluLCBvblByb2dyZXNzKSB7XG4gICAgaWYgKCF0aGlzLl9wYXJzZXJzVmFsaWRhdGVkKSB7XG4gICAgICB0aGlzLl92YWxpZGF0ZVBhcnNlcnMoKTtcbiAgICB9XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBjb25zdCBhc3NldHMgPSB7fTtcbiAgICBjb25zdCBzaW5nbGVBc3NldCA9IGlzU2luZ2xlSXRlbShhc3NldHNUb0xvYWRJbik7XG4gICAgY29uc3QgYXNzZXRzVG9Mb2FkID0gY29udmVydFRvTGlzdChhc3NldHNUb0xvYWRJbiwgKGl0ZW0pID0+ICh7XG4gICAgICBzcmM6IGl0ZW1cbiAgICB9KSk7XG4gICAgY29uc3QgdG90YWwgPSBhc3NldHNUb0xvYWQubGVuZ3RoO1xuICAgIGNvbnN0IHByb21pc2VzID0gYXNzZXRzVG9Mb2FkLm1hcChhc3luYyAoYXNzZXQpID0+IHtcbiAgICAgIGNvbnN0IHVybCA9IHV0aWxzLnBhdGgudG9BYnNvbHV0ZShhc3NldC5zcmMpO1xuICAgICAgaWYgKCFhc3NldHNbYXNzZXQuc3JjXSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghdGhpcy5wcm9taXNlQ2FjaGVbdXJsXSkge1xuICAgICAgICAgICAgdGhpcy5wcm9taXNlQ2FjaGVbdXJsXSA9IHRoaXMuX2dldExvYWRQcm9taXNlQW5kUGFyc2VyKHVybCwgYXNzZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhc3NldHNbYXNzZXQuc3JjXSA9IGF3YWl0IHRoaXMucHJvbWlzZUNhY2hlW3VybF0ucHJvbWlzZTtcbiAgICAgICAgICBpZiAob25Qcm9ncmVzcylcbiAgICAgICAgICAgIG9uUHJvZ3Jlc3MoKytjb3VudCAvIHRvdGFsKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLnByb21pc2VDYWNoZVt1cmxdO1xuICAgICAgICAgIGRlbGV0ZSBhc3NldHNbYXNzZXQuc3JjXTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtMb2FkZXIubG9hZF0gRmFpbGVkIHRvIGxvYWQgJHt1cmx9LlxuJHtlfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIHJldHVybiBzaW5nbGVBc3NldCA/IGFzc2V0c1thc3NldHNUb0xvYWRbMF0uc3JjXSA6IGFzc2V0cztcbiAgfVxuICBhc3luYyB1bmxvYWQoYXNzZXRzVG9VbmxvYWRJbikge1xuICAgIGNvbnN0IGFzc2V0c1RvVW5sb2FkID0gY29udmVydFRvTGlzdChhc3NldHNUb1VubG9hZEluLCAoaXRlbSkgPT4gKHtcbiAgICAgIHNyYzogaXRlbVxuICAgIH0pKTtcbiAgICBjb25zdCBwcm9taXNlcyA9IGFzc2V0c1RvVW5sb2FkLm1hcChhc3luYyAoYXNzZXQpID0+IHtcbiAgICAgIGNvbnN0IHVybCA9IHV0aWxzLnBhdGgudG9BYnNvbHV0ZShhc3NldC5zcmMpO1xuICAgICAgY29uc3QgbG9hZFByb21pc2UgPSB0aGlzLnByb21pc2VDYWNoZVt1cmxdO1xuICAgICAgaWYgKGxvYWRQcm9taXNlKSB7XG4gICAgICAgIGNvbnN0IGxvYWRlZEFzc2V0ID0gYXdhaXQgbG9hZFByb21pc2UucHJvbWlzZTtcbiAgICAgICAgbG9hZFByb21pc2UucGFyc2VyPy51bmxvYWQ/Lihsb2FkZWRBc3NldCwgYXNzZXQsIHRoaXMpO1xuICAgICAgICBkZWxldGUgdGhpcy5wcm9taXNlQ2FjaGVbdXJsXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbiAgX3ZhbGlkYXRlUGFyc2VycygpIHtcbiAgICB0aGlzLl9wYXJzZXJzVmFsaWRhdGVkID0gdHJ1ZTtcbiAgICB0aGlzLl9wYXJzZXJIYXNoID0gdGhpcy5fcGFyc2Vycy5maWx0ZXIoKHBhcnNlcikgPT4gcGFyc2VyLm5hbWUpLnJlZHVjZSgoaGFzaCwgcGFyc2VyKSA9PiB7XG4gICAgICBpZiAoaGFzaFtwYXJzZXIubmFtZV0pIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBbQXNzZXRzXSBsb2FkUGFyc2VyIG5hbWUgY29uZmxpY3QgXCIke3BhcnNlci5uYW1lfVwiYCk7XG4gICAgICB9XG4gICAgICByZXR1cm4geyAuLi5oYXNoLCBbcGFyc2VyLm5hbWVdOiBwYXJzZXIgfTtcbiAgICB9LCB7fSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgTG9hZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Mb2FkZXIubWpzLm1hcFxuIiwiaW1wb3J0ICcuL3BhcnNlcnMvaW5kZXgubWpzJztcbmltcG9ydCAnLi90eXBlcy5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwidmFyIExvYWRlclBhcnNlclByaW9yaXR5ID0gLyogQF9fUFVSRV9fICovICgoTG9hZGVyUGFyc2VyUHJpb3JpdHkyKSA9PiB7XG4gIExvYWRlclBhcnNlclByaW9yaXR5MltMb2FkZXJQYXJzZXJQcmlvcml0eTJbXCJMb3dcIl0gPSAwXSA9IFwiTG93XCI7XG4gIExvYWRlclBhcnNlclByaW9yaXR5MltMb2FkZXJQYXJzZXJQcmlvcml0eTJbXCJOb3JtYWxcIl0gPSAxXSA9IFwiTm9ybWFsXCI7XG4gIExvYWRlclBhcnNlclByaW9yaXR5MltMb2FkZXJQYXJzZXJQcmlvcml0eTJbXCJIaWdoXCJdID0gMl0gPSBcIkhpZ2hcIjtcbiAgcmV0dXJuIExvYWRlclBhcnNlclByaW9yaXR5Mjtcbn0pKExvYWRlclBhcnNlclByaW9yaXR5IHx8IHt9KTtcblxuZXhwb3J0IHsgTG9hZGVyUGFyc2VyUHJpb3JpdHkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxvYWRlclBhcnNlci5tanMubWFwXG4iLCJsZXQgVVVJRCA9IDA7XG5sZXQgTUFYX1dPUktFUlM7XG5jb25zdCBXSElURV9QTkcgPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBUUFBQUMxSEF3Q0FBQUFDMGxFUVZSNDJtUDgveDhBQXdNQ0FPK2lwMXNBQUFBQVNVVk9SSzVDWUlJPVwiO1xuY29uc3QgY2hlY2tJbWFnZUJpdG1hcENvZGUgPSB7XG4gIGlkOiBcImNoZWNrSW1hZ2VCaXRtYXBcIixcbiAgY29kZTogYFxuICAgIGFzeW5jIGZ1bmN0aW9uIGNoZWNrSW1hZ2VCaXRtYXAoKVxuICAgIHtcbiAgICAgICAgdHJ5XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3JlYXRlSW1hZ2VCaXRtYXAgIT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnJHtXSElURV9QTkd9Jyk7XG4gICAgICAgICAgICBjb25zdCBpbWFnZUJsb2IgPSAgYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VCaXRtYXAgPSBhd2FpdCBjcmVhdGVJbWFnZUJpdG1hcChpbWFnZUJsb2IpO1xuXG4gICAgICAgICAgICByZXR1cm4gaW1hZ2VCaXRtYXAud2lkdGggPT09IDEgJiYgaW1hZ2VCaXRtYXAuaGVpZ2h0ID09PSAxO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2hlY2tJbWFnZUJpdG1hcCgpLnRoZW4oKHJlc3VsdCkgPT4geyBzZWxmLnBvc3RNZXNzYWdlKHJlc3VsdCk7IH0pO1xuICAgIGBcbn07XG5jb25zdCB3b3JrZXJDb2RlID0ge1xuICBpZDogXCJsb2FkSW1hZ2VCaXRtYXBcIixcbiAgY29kZTogYFxuICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRJbWFnZUJpdG1hcCh1cmwpXG4gICAge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxcYFtXb3JrZXJNYW5hZ2VyLmxvYWRJbWFnZUJpdG1hcF0gRmFpbGVkIHRvIGZldGNoIFxcJHt1cmx9OiBcXGBcbiAgICAgICAgICAgICAgICArIFxcYFxcJHtyZXNwb25zZS5zdGF0dXN9IFxcJHtyZXNwb25zZS5zdGF0dXNUZXh0fVxcYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbWFnZUJsb2IgPSAgYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICBjb25zdCBpbWFnZUJpdG1hcCA9IGF3YWl0IGNyZWF0ZUltYWdlQml0bWFwKGltYWdlQmxvYik7XG5cbiAgICAgICAgcmV0dXJuIGltYWdlQml0bWFwO1xuICAgIH1cbiAgICBzZWxmLm9ubWVzc2FnZSA9IGFzeW5jIChldmVudCkgPT5cbiAgICB7XG4gICAgICAgIHRyeVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZUJpdG1hcCA9IGF3YWl0IGxvYWRJbWFnZUJpdG1hcChldmVudC5kYXRhLmRhdGFbMF0pO1xuXG4gICAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBpbWFnZUJpdG1hcCxcbiAgICAgICAgICAgICAgICB1dWlkOiBldmVudC5kYXRhLnV1aWQsXG4gICAgICAgICAgICAgICAgaWQ6IGV2ZW50LmRhdGEuaWQsXG4gICAgICAgICAgICB9LCBbaW1hZ2VCaXRtYXBdKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaChlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBlcnJvcjogZSxcbiAgICAgICAgICAgICAgICB1dWlkOiBldmVudC5kYXRhLnV1aWQsXG4gICAgICAgICAgICAgICAgaWQ6IGV2ZW50LmRhdGEuaWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07YFxufTtcbmxldCB3b3JrZXJVUkw7XG5jbGFzcyBXb3JrZXJNYW5hZ2VyQ2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIHRoaXMuX2NyZWF0ZWRXb3JrZXJzID0gMDtcbiAgICB0aGlzLndvcmtlclBvb2wgPSBbXTtcbiAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgdGhpcy5yZXNvbHZlSGFzaCA9IHt9O1xuICB9XG4gIGlzSW1hZ2VCaXRtYXBTdXBwb3J0ZWQoKSB7XG4gICAgaWYgKHRoaXMuX2lzSW1hZ2VCaXRtYXBTdXBwb3J0ZWQgIT09IHZvaWQgMClcbiAgICAgIHJldHVybiB0aGlzLl9pc0ltYWdlQml0bWFwU3VwcG9ydGVkO1xuICAgIHRoaXMuX2lzSW1hZ2VCaXRtYXBTdXBwb3J0ZWQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgY29uc3Qgd29ya2VyVVJMMiA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2NoZWNrSW1hZ2VCaXRtYXBDb2RlLmNvZGVdLCB7IHR5cGU6IFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwiIH0pKTtcbiAgICAgIGNvbnN0IHdvcmtlciA9IG5ldyBXb3JrZXIod29ya2VyVVJMMik7XG4gICAgICB3b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh3b3JrZXJVUkwyKTtcbiAgICAgICAgcmVzb2x2ZShldmVudC5kYXRhKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9pc0ltYWdlQml0bWFwU3VwcG9ydGVkO1xuICB9XG4gIGxvYWRJbWFnZUJpdG1hcChzcmMpIHtcbiAgICByZXR1cm4gdGhpcy5fcnVuKFwibG9hZEltYWdlQml0bWFwXCIsIFtzcmNdKTtcbiAgfVxuICBhc3luYyBfaW5pdFdvcmtlcnMoKSB7XG4gICAgaWYgKHRoaXMuX2luaXRpYWxpemVkKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgfVxuICBnZXRXb3JrZXIoKSB7XG4gICAgaWYgKE1BWF9XT1JLRVJTID09PSB2b2lkIDApIHtcbiAgICAgIE1BWF9XT1JLRVJTID0gbmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3kgfHwgNDtcbiAgICB9XG4gICAgbGV0IHdvcmtlciA9IHRoaXMud29ya2VyUG9vbC5wb3AoKTtcbiAgICBpZiAoIXdvcmtlciAmJiB0aGlzLl9jcmVhdGVkV29ya2VycyA8IE1BWF9XT1JLRVJTKSB7XG4gICAgICBpZiAoIXdvcmtlclVSTCkge1xuICAgICAgICB3b3JrZXJVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFt3b3JrZXJDb2RlLmNvZGVdLCB7IHR5cGU6IFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwiIH0pKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NyZWF0ZWRXb3JrZXJzKys7XG4gICAgICB3b3JrZXIgPSBuZXcgV29ya2VyKHdvcmtlclVSTCk7XG4gICAgICB3b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuY29tcGxldGUoZXZlbnQuZGF0YSk7XG4gICAgICAgIHRoaXMucmV0dXJuV29ya2VyKGV2ZW50LnRhcmdldCk7XG4gICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB3b3JrZXI7XG4gIH1cbiAgcmV0dXJuV29ya2VyKHdvcmtlcikge1xuICAgIHRoaXMud29ya2VyUG9vbC5wdXNoKHdvcmtlcik7XG4gIH1cbiAgY29tcGxldGUoZGF0YSkge1xuICAgIGlmIChkYXRhLmVycm9yICE9PSB2b2lkIDApIHtcbiAgICAgIHRoaXMucmVzb2x2ZUhhc2hbZGF0YS51dWlkXS5yZWplY3QoZGF0YS5lcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVzb2x2ZUhhc2hbZGF0YS51dWlkXS5yZXNvbHZlKGRhdGEuZGF0YSk7XG4gICAgfVxuICAgIHRoaXMucmVzb2x2ZUhhc2hbZGF0YS51dWlkXSA9IG51bGw7XG4gIH1cbiAgYXN5bmMgX3J1bihpZCwgYXJncykge1xuICAgIGF3YWl0IHRoaXMuX2luaXRXb3JrZXJzKCk7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMucXVldWUucHVzaCh7IGlkLCBhcmd1bWVudHM6IGFyZ3MsIHJlc29sdmUsIHJlamVjdCB9KTtcbiAgICB9KTtcbiAgICB0aGlzLm5leHQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuICBuZXh0KCkge1xuICAgIGlmICghdGhpcy5xdWV1ZS5sZW5ndGgpXG4gICAgICByZXR1cm47XG4gICAgY29uc3Qgd29ya2VyID0gdGhpcy5nZXRXb3JrZXIoKTtcbiAgICBpZiAoIXdvcmtlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0b0RvID0gdGhpcy5xdWV1ZS5wb3AoKTtcbiAgICBjb25zdCBpZCA9IHRvRG8uaWQ7XG4gICAgdGhpcy5yZXNvbHZlSGFzaFtVVUlEXSA9IHsgcmVzb2x2ZTogdG9Eby5yZXNvbHZlLCByZWplY3Q6IHRvRG8ucmVqZWN0IH07XG4gICAgd29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgIGRhdGE6IHRvRG8uYXJndW1lbnRzLFxuICAgICAgdXVpZDogVVVJRCsrLFxuICAgICAgaWRcbiAgICB9KTtcbiAgfVxufVxuY29uc3QgV29ya2VyTWFuYWdlciA9IG5ldyBXb3JrZXJNYW5hZ2VyQ2xhc3MoKTtcblxuZXhwb3J0IHsgV29ya2VyTWFuYWdlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V29ya2VyTWFuYWdlci5tanMubWFwXG4iLCJleHBvcnQgeyBMb2FkZXJQYXJzZXJQcmlvcml0eSB9IGZyb20gJy4vTG9hZGVyUGFyc2VyLm1qcyc7XG5leHBvcnQgeyBsb2FkSnNvbiB9IGZyb20gJy4vbG9hZEpzb24ubWpzJztcbmV4cG9ydCB7IGxvYWRUeHQgfSBmcm9tICcuL2xvYWRUeHQubWpzJztcbmV4cG9ydCB7IGdldEZvbnRGYW1pbHlOYW1lLCBsb2FkV2ViRm9udCB9IGZyb20gJy4vbG9hZFdlYkZvbnQubWpzJztcbmltcG9ydCAnLi90ZXh0dXJlcy9pbmRleC5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgc2V0dGluZ3MsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IGNoZWNrRGF0YVVybCB9IGZyb20gJy4uLy4uL3V0aWxzL2NoZWNrRGF0YVVybC5tanMnO1xuaW1wb3J0IHsgY2hlY2tFeHRlbnNpb24gfSBmcm9tICcuLi8uLi91dGlscy9jaGVja0V4dGVuc2lvbi5tanMnO1xuaW1wb3J0IHsgTG9hZGVyUGFyc2VyUHJpb3JpdHkgfSBmcm9tICcuL0xvYWRlclBhcnNlci5tanMnO1xuXG5jb25zdCB2YWxpZEpTT05FeHRlbnNpb24gPSBcIi5qc29uXCI7XG5jb25zdCB2YWxpZEpTT05NSU1FID0gXCJhcHBsaWNhdGlvbi9qc29uXCI7XG5jb25zdCBsb2FkSnNvbiA9IHtcbiAgZXh0ZW5zaW9uOiB7XG4gICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5Mb2FkUGFyc2VyLFxuICAgIHByaW9yaXR5OiBMb2FkZXJQYXJzZXJQcmlvcml0eS5Mb3dcbiAgfSxcbiAgbmFtZTogXCJsb2FkSnNvblwiLFxuICB0ZXN0KHVybCkge1xuICAgIHJldHVybiBjaGVja0RhdGFVcmwodXJsLCB2YWxpZEpTT05NSU1FKSB8fCBjaGVja0V4dGVuc2lvbih1cmwsIHZhbGlkSlNPTkV4dGVuc2lvbik7XG4gIH0sXG4gIGFzeW5jIGxvYWQodXJsKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZXR0aW5ncy5BREFQVEVSLmZldGNoKHVybCk7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4ganNvbjtcbiAgfVxufTtcbmV4dGVuc2lvbnMuYWRkKGxvYWRKc29uKTtcblxuZXhwb3J0IHsgbG9hZEpzb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRKc29uLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUsIHNldHRpbmdzLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBjaGVja0RhdGFVcmwgfSBmcm9tICcuLi8uLi91dGlscy9jaGVja0RhdGFVcmwubWpzJztcbmltcG9ydCB7IGNoZWNrRXh0ZW5zaW9uIH0gZnJvbSAnLi4vLi4vdXRpbHMvY2hlY2tFeHRlbnNpb24ubWpzJztcbmltcG9ydCB7IExvYWRlclBhcnNlclByaW9yaXR5IH0gZnJvbSAnLi9Mb2FkZXJQYXJzZXIubWpzJztcblxuY29uc3QgdmFsaWRUWFRFeHRlbnNpb24gPSBcIi50eHRcIjtcbmNvbnN0IHZhbGlkVFhUTUlNRSA9IFwidGV4dC9wbGFpblwiO1xuY29uc3QgbG9hZFR4dCA9IHtcbiAgbmFtZTogXCJsb2FkVHh0XCIsXG4gIGV4dGVuc2lvbjoge1xuICAgIHR5cGU6IEV4dGVuc2lvblR5cGUuTG9hZFBhcnNlcixcbiAgICBwcmlvcml0eTogTG9hZGVyUGFyc2VyUHJpb3JpdHkuTG93XG4gIH0sXG4gIHRlc3QodXJsKSB7XG4gICAgcmV0dXJuIGNoZWNrRGF0YVVybCh1cmwsIHZhbGlkVFhUTUlNRSkgfHwgY2hlY2tFeHRlbnNpb24odXJsLCB2YWxpZFRYVEV4dGVuc2lvbik7XG4gIH0sXG4gIGFzeW5jIGxvYWQodXJsKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZXR0aW5ncy5BREFQVEVSLmZldGNoKHVybCk7XG4gICAgY29uc3QgdHh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIHJldHVybiB0eHQ7XG4gIH1cbn07XG5leHRlbnNpb25zLmFkZChsb2FkVHh0KTtcblxuZXhwb3J0IHsgbG9hZFR4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZFR4dC5tanMubWFwXG4iLCJpbXBvcnQgeyB1dGlscywgRXh0ZW5zaW9uVHlwZSwgc2V0dGluZ3MsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IGNoZWNrRGF0YVVybCB9IGZyb20gJy4uLy4uL3V0aWxzL2NoZWNrRGF0YVVybC5tanMnO1xuaW1wb3J0IHsgY2hlY2tFeHRlbnNpb24gfSBmcm9tICcuLi8uLi91dGlscy9jaGVja0V4dGVuc2lvbi5tanMnO1xuaW1wb3J0IHsgTG9hZGVyUGFyc2VyUHJpb3JpdHkgfSBmcm9tICcuL0xvYWRlclBhcnNlci5tanMnO1xuXG5jb25zdCB2YWxpZFdlaWdodHMgPSBbXG4gIFwibm9ybWFsXCIsXG4gIFwiYm9sZFwiLFxuICBcIjEwMFwiLFxuICBcIjIwMFwiLFxuICBcIjMwMFwiLFxuICBcIjQwMFwiLFxuICBcIjUwMFwiLFxuICBcIjYwMFwiLFxuICBcIjcwMFwiLFxuICBcIjgwMFwiLFxuICBcIjkwMFwiXG5dO1xuY29uc3QgdmFsaWRGb250RXh0ZW5zaW9ucyA9IFtcIi50dGZcIiwgXCIub3RmXCIsIFwiLndvZmZcIiwgXCIud29mZjJcIl07XG5jb25zdCB2YWxpZEZvbnRNSU1FcyA9IFtcbiAgXCJmb250L3R0ZlwiLFxuICBcImZvbnQvb3RmXCIsXG4gIFwiZm9udC93b2ZmXCIsXG4gIFwiZm9udC93b2ZmMlwiXG5dO1xuY29uc3QgQ1NTX0lERU5UX1RPS0VOX1JFR0VYID0gL14oLS18LT9bQS1aX10pWzAtOUEtWl8tXSokL2k7XG5mdW5jdGlvbiBnZXRGb250RmFtaWx5TmFtZSh1cmwpIHtcbiAgY29uc3QgZXh0ID0gdXRpbHMucGF0aC5leHRuYW1lKHVybCk7XG4gIGNvbnN0IG5hbWUgPSB1dGlscy5wYXRoLmJhc2VuYW1lKHVybCwgZXh0KTtcbiAgY29uc3QgbmFtZVdpdGhTcGFjZXMgPSBuYW1lLnJlcGxhY2UoLygtfF8pL2csIFwiIFwiKTtcbiAgY29uc3QgbmFtZVRva2VucyA9IG5hbWVXaXRoU3BhY2VzLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIgXCIpLm1hcCgod29yZCkgPT4gd29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSkpO1xuICBsZXQgdmFsaWQgPSBuYW1lVG9rZW5zLmxlbmd0aCA+IDA7XG4gIGZvciAoY29uc3QgdG9rZW4gb2YgbmFtZVRva2Vucykge1xuICAgIGlmICghdG9rZW4ubWF0Y2goQ1NTX0lERU5UX1RPS0VOX1JFR0VYKSkge1xuICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBsZXQgZm9udEZhbWlseU5hbWUgPSBuYW1lVG9rZW5zLmpvaW4oXCIgXCIpO1xuICBpZiAoIXZhbGlkKSB7XG4gICAgZm9udEZhbWlseU5hbWUgPSBgXCIke2ZvbnRGYW1pbHlOYW1lLnJlcGxhY2UoL1tcXFxcXCJdL2csIFwiXFxcXCQmXCIpfVwiYDtcbiAgfVxuICByZXR1cm4gZm9udEZhbWlseU5hbWU7XG59XG5jb25zdCBsb2FkV2ViRm9udCA9IHtcbiAgZXh0ZW5zaW9uOiB7XG4gICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5Mb2FkUGFyc2VyLFxuICAgIHByaW9yaXR5OiBMb2FkZXJQYXJzZXJQcmlvcml0eS5Mb3dcbiAgfSxcbiAgbmFtZTogXCJsb2FkV2ViRm9udFwiLFxuICB0ZXN0KHVybCkge1xuICAgIHJldHVybiBjaGVja0RhdGFVcmwodXJsLCB2YWxpZEZvbnRNSU1FcykgfHwgY2hlY2tFeHRlbnNpb24odXJsLCB2YWxpZEZvbnRFeHRlbnNpb25zKTtcbiAgfSxcbiAgYXN5bmMgbG9hZCh1cmwsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBmb250cyA9IHNldHRpbmdzLkFEQVBURVIuZ2V0Rm9udEZhY2VTZXQoKTtcbiAgICBpZiAoZm9udHMpIHtcbiAgICAgIGNvbnN0IGZvbnRGYWNlcyA9IFtdO1xuICAgICAgY29uc3QgbmFtZSA9IG9wdGlvbnMuZGF0YT8uZmFtaWx5ID8/IGdldEZvbnRGYW1pbHlOYW1lKHVybCk7XG4gICAgICBjb25zdCB3ZWlnaHRzID0gb3B0aW9ucy5kYXRhPy53ZWlnaHRzPy5maWx0ZXIoKHdlaWdodCkgPT4gdmFsaWRXZWlnaHRzLmluY2x1ZGVzKHdlaWdodCkpID8/IFtcIm5vcm1hbFwiXTtcbiAgICAgIGNvbnN0IGRhdGEgPSBvcHRpb25zLmRhdGEgPz8ge307XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdlaWdodHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgd2VpZ2h0ID0gd2VpZ2h0c1tpXTtcbiAgICAgICAgY29uc3QgZm9udCA9IG5ldyBGb250RmFjZShuYW1lLCBgdXJsKCR7ZW5jb2RlVVJJKHVybCl9KWAsIHtcbiAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgIHdlaWdodFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgZm9udC5sb2FkKCk7XG4gICAgICAgIGZvbnRzLmFkZChmb250KTtcbiAgICAgICAgZm9udEZhY2VzLnB1c2goZm9udCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZm9udEZhY2VzLmxlbmd0aCA9PT0gMSA/IGZvbnRGYWNlc1swXSA6IGZvbnRGYWNlcztcbiAgICB9XG4gICAgY29uc29sZS53YXJuKFwiW2xvYWRXZWJGb250XSBGb250RmFjZSBBUEkgaXMgbm90IHN1cHBvcnRlZC4gU2tpcHBpbmcgbG9hZGluZyBmb250XCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICB1bmxvYWQoZm9udCkge1xuICAgIChBcnJheS5pc0FycmF5KGZvbnQpID8gZm9udCA6IFtmb250XSkuZm9yRWFjaCgodCkgPT4gc2V0dGluZ3MuQURBUFRFUi5nZXRGb250RmFjZVNldCgpLmRlbGV0ZSh0KSk7XG4gIH1cbn07XG5leHRlbnNpb25zLmFkZChsb2FkV2ViRm9udCk7XG5cbmV4cG9ydCB7IGdldEZvbnRGYW1pbHlOYW1lLCBsb2FkV2ViRm9udCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZFdlYkZvbnQubWpzLm1hcFxuIiwiZXhwb3J0IHsgbG9hZFNWRyB9IGZyb20gJy4vbG9hZFNWRy5tanMnO1xuZXhwb3J0IHsgbG9hZEltYWdlQml0bWFwLCBsb2FkVGV4dHVyZXMgfSBmcm9tICcuL2xvYWRUZXh0dXJlcy5tanMnO1xuaW1wb3J0ICcuL3V0aWxzL2luZGV4Lm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBTVkdSZXNvdXJjZSwgQmFzZVRleHR1cmUsIHV0aWxzLCBzZXR0aW5ncywgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgY2hlY2tEYXRhVXJsIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY2hlY2tEYXRhVXJsLm1qcyc7XG5pbXBvcnQgeyBjaGVja0V4dGVuc2lvbiB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2NoZWNrRXh0ZW5zaW9uLm1qcyc7XG5pbXBvcnQgeyBMb2FkZXJQYXJzZXJQcmlvcml0eSB9IGZyb20gJy4uL0xvYWRlclBhcnNlci5tanMnO1xuaW1wb3J0IHsgbG9hZFRleHR1cmVzIH0gZnJvbSAnLi9sb2FkVGV4dHVyZXMubWpzJztcbmltcG9ydCB7IGNyZWF0ZVRleHR1cmUgfSBmcm9tICcuL3V0aWxzL2NyZWF0ZVRleHR1cmUubWpzJztcblxuY29uc3QgdmFsaWRTVkdFeHRlbnNpb24gPSBcIi5zdmdcIjtcbmNvbnN0IHZhbGlkU1ZHTUlNRSA9IFwiaW1hZ2Uvc3ZnK3htbFwiO1xuY29uc3QgbG9hZFNWRyA9IHtcbiAgZXh0ZW5zaW9uOiB7XG4gICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5Mb2FkUGFyc2VyLFxuICAgIHByaW9yaXR5OiBMb2FkZXJQYXJzZXJQcmlvcml0eS5IaWdoXG4gIH0sXG4gIG5hbWU6IFwibG9hZFNWR1wiLFxuICB0ZXN0KHVybCkge1xuICAgIHJldHVybiBjaGVja0RhdGFVcmwodXJsLCB2YWxpZFNWR01JTUUpIHx8IGNoZWNrRXh0ZW5zaW9uKHVybCwgdmFsaWRTVkdFeHRlbnNpb24pO1xuICB9LFxuICBhc3luYyB0ZXN0UGFyc2UoZGF0YSkge1xuICAgIHJldHVybiBTVkdSZXNvdXJjZS50ZXN0KGRhdGEpO1xuICB9LFxuICBhc3luYyBwYXJzZShhc3NldCwgZGF0YSwgbG9hZGVyKSB7XG4gICAgY29uc3Qgc3JjID0gbmV3IFNWR1Jlc291cmNlKGFzc2V0LCBkYXRhPy5kYXRhPy5yZXNvdXJjZU9wdGlvbnMpO1xuICAgIGF3YWl0IHNyYy5sb2FkKCk7XG4gICAgY29uc3QgYmFzZSA9IG5ldyBCYXNlVGV4dHVyZShzcmMsIHtcbiAgICAgIHJlc29sdXRpb246IHV0aWxzLmdldFJlc29sdXRpb25PZlVybChhc3NldCksXG4gICAgICAuLi5kYXRhPy5kYXRhXG4gICAgfSk7XG4gICAgYmFzZS5yZXNvdXJjZS5zcmMgPSBhc3NldDtcbiAgICBjb25zdCB0ZXh0dXJlID0gY3JlYXRlVGV4dHVyZShiYXNlLCBsb2FkZXIsIGFzc2V0KTtcbiAgICByZXR1cm4gdGV4dHVyZTtcbiAgfSxcbiAgYXN5bmMgbG9hZCh1cmwsIF9vcHRpb25zKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZXR0aW5ncy5BREFQVEVSLmZldGNoKHVybCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgfSxcbiAgdW5sb2FkOiBsb2FkVGV4dHVyZXMudW5sb2FkXG59O1xuZXh0ZW5zaW9ucy5hZGQobG9hZFNWRyk7XG5cbmV4cG9ydCB7IGxvYWRTVkcgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRTVkcubWpzLm1hcFxuIiwiaW1wb3J0IHsgc2V0dGluZ3MsIEV4dGVuc2lvblR5cGUsIEJhc2VUZXh0dXJlLCB1dGlscywgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgY2hlY2tEYXRhVXJsIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY2hlY2tEYXRhVXJsLm1qcyc7XG5pbXBvcnQgeyBjaGVja0V4dGVuc2lvbiB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2NoZWNrRXh0ZW5zaW9uLm1qcyc7XG5pbXBvcnQgeyBMb2FkZXJQYXJzZXJQcmlvcml0eSB9IGZyb20gJy4uL0xvYWRlclBhcnNlci5tanMnO1xuaW1wb3J0IHsgV29ya2VyTWFuYWdlciB9IGZyb20gJy4uL1dvcmtlck1hbmFnZXIubWpzJztcbmltcG9ydCB7IGNyZWF0ZVRleHR1cmUgfSBmcm9tICcuL3V0aWxzL2NyZWF0ZVRleHR1cmUubWpzJztcblxuY29uc3QgdmFsaWRJbWFnZUV4dGVuc2lvbnMgPSBbXCIuanBlZ1wiLCBcIi5qcGdcIiwgXCIucG5nXCIsIFwiLndlYnBcIiwgXCIuYXZpZlwiXTtcbmNvbnN0IHZhbGlkSW1hZ2VNSU1FcyA9IFtcbiAgXCJpbWFnZS9qcGVnXCIsXG4gIFwiaW1hZ2UvcG5nXCIsXG4gIFwiaW1hZ2Uvd2VicFwiLFxuICBcImltYWdlL2F2aWZcIlxuXTtcbmFzeW5jIGZ1bmN0aW9uIGxvYWRJbWFnZUJpdG1hcCh1cmwpIHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZXR0aW5ncy5BREFQVEVSLmZldGNoKHVybCk7XG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFtsb2FkSW1hZ2VCaXRtYXBdIEZhaWxlZCB0byBmZXRjaCAke3VybH06ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gIH1cbiAgY29uc3QgaW1hZ2VCbG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICBjb25zdCBpbWFnZUJpdG1hcCA9IGF3YWl0IGNyZWF0ZUltYWdlQml0bWFwKGltYWdlQmxvYik7XG4gIHJldHVybiBpbWFnZUJpdG1hcDtcbn1cbmNvbnN0IGxvYWRUZXh0dXJlcyA9IHtcbiAgbmFtZTogXCJsb2FkVGV4dHVyZXNcIixcbiAgZXh0ZW5zaW9uOiB7XG4gICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5Mb2FkUGFyc2VyLFxuICAgIHByaW9yaXR5OiBMb2FkZXJQYXJzZXJQcmlvcml0eS5IaWdoXG4gIH0sXG4gIGNvbmZpZzoge1xuICAgIHByZWZlcldvcmtlcnM6IHRydWUsXG4gICAgcHJlZmVyQ3JlYXRlSW1hZ2VCaXRtYXA6IHRydWUsXG4gICAgY3Jvc3NPcmlnaW46IFwiYW5vbnltb3VzXCJcbiAgfSxcbiAgdGVzdCh1cmwpIHtcbiAgICByZXR1cm4gY2hlY2tEYXRhVXJsKHVybCwgdmFsaWRJbWFnZU1JTUVzKSB8fCBjaGVja0V4dGVuc2lvbih1cmwsIHZhbGlkSW1hZ2VFeHRlbnNpb25zKTtcbiAgfSxcbiAgYXN5bmMgbG9hZCh1cmwsIGFzc2V0LCBsb2FkZXIpIHtcbiAgICBsZXQgc3JjID0gbnVsbDtcbiAgICBpZiAoZ2xvYmFsVGhpcy5jcmVhdGVJbWFnZUJpdG1hcCAmJiB0aGlzLmNvbmZpZy5wcmVmZXJDcmVhdGVJbWFnZUJpdG1hcCkge1xuICAgICAgaWYgKHRoaXMuY29uZmlnLnByZWZlcldvcmtlcnMgJiYgYXdhaXQgV29ya2VyTWFuYWdlci5pc0ltYWdlQml0bWFwU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgc3JjID0gYXdhaXQgV29ya2VyTWFuYWdlci5sb2FkSW1hZ2VCaXRtYXAodXJsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNyYyA9IGF3YWl0IGxvYWRJbWFnZUJpdG1hcCh1cmwpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzcmMgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBzcmMgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgc3JjLmNyb3NzT3JpZ2luID0gdGhpcy5jb25maWcuY3Jvc3NPcmlnaW47XG4gICAgICAgIHNyYy5zcmMgPSB1cmw7XG4gICAgICAgIGlmIChzcmMuY29tcGxldGUpIHtcbiAgICAgICAgICByZXNvbHZlKHNyYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3JjLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoc3JjKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgYmFzZSA9IG5ldyBCYXNlVGV4dHVyZShzcmMsIHtcbiAgICAgIHJlc29sdXRpb246IHV0aWxzLmdldFJlc29sdXRpb25PZlVybCh1cmwpLFxuICAgICAgLi4uYXNzZXQuZGF0YVxuICAgIH0pO1xuICAgIGJhc2UucmVzb3VyY2Uuc3JjID0gdXJsO1xuICAgIHJldHVybiBjcmVhdGVUZXh0dXJlKGJhc2UsIGxvYWRlciwgdXJsKTtcbiAgfSxcbiAgdW5sb2FkKHRleHR1cmUpIHtcbiAgICB0ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gIH1cbn07XG5leHRlbnNpb25zLmFkZChsb2FkVGV4dHVyZXMpO1xuXG5leHBvcnQgeyBsb2FkSW1hZ2VCaXRtYXAsIGxvYWRUZXh0dXJlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZFRleHR1cmVzLm1qcy5tYXBcbiIsImltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuZnVuY3Rpb24gY3JlYXRlVGV4dHVyZShiYXNlLCBsb2FkZXIsIHVybCkge1xuICBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUoYmFzZSk7XG4gIHRleHR1cmUuYmFzZVRleHR1cmUub24oXCJkaXNwb3NlXCIsICgpID0+IHtcbiAgICBkZWxldGUgbG9hZGVyLnByb21pc2VDYWNoZVt1cmxdO1xuICB9KTtcbiAgcmV0dXJuIHRleHR1cmU7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVRleHR1cmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZVRleHR1cmUubWpzLm1hcFxuIiwiZXhwb3J0IHsgY3JlYXRlVGV4dHVyZSB9IGZyb20gJy4vY3JlYXRlVGV4dHVyZS5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiXG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5tanMubWFwXG4iLCJpbXBvcnQgeyB1dGlscyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgY29udmVydFRvTGlzdCB9IGZyb20gJy4uL3V0aWxzL2NvbnZlcnRUb0xpc3QubWpzJztcbmltcG9ydCB7IGNyZWF0ZVN0cmluZ1ZhcmlhdGlvbnMgfSBmcm9tICcuLi91dGlscy9jcmVhdGVTdHJpbmdWYXJpYXRpb25zLm1qcyc7XG5pbXBvcnQgeyBpc1NpbmdsZUl0ZW0gfSBmcm9tICcuLi91dGlscy9pc1NpbmdsZUl0ZW0ubWpzJztcblxuY2xhc3MgUmVzb2x2ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9kZWZhdWx0QnVuZGxlSWRlbnRpZmllck9wdGlvbnMgPSB7XG4gICAgICBjb25uZWN0b3I6IFwiLVwiLFxuICAgICAgY3JlYXRlQnVuZGxlQXNzZXRJZDogKGJ1bmRsZUlkLCBhc3NldElkKSA9PiBgJHtidW5kbGVJZH0ke3RoaXMuX2J1bmRsZUlkQ29ubmVjdG9yfSR7YXNzZXRJZH1gLFxuICAgICAgZXh0cmFjdEFzc2V0SWRGcm9tQnVuZGxlOiAoYnVuZGxlSWQsIGFzc2V0QnVuZGxlSWQpID0+IGFzc2V0QnVuZGxlSWQucmVwbGFjZShgJHtidW5kbGVJZH0ke3RoaXMuX2J1bmRsZUlkQ29ubmVjdG9yfWAsIFwiXCIpXG4gICAgfTtcbiAgICB0aGlzLl9idW5kbGVJZENvbm5lY3RvciA9IHRoaXMuX2RlZmF1bHRCdW5kbGVJZGVudGlmaWVyT3B0aW9ucy5jb25uZWN0b3I7XG4gICAgdGhpcy5fY3JlYXRlQnVuZGxlQXNzZXRJZCA9IHRoaXMuX2RlZmF1bHRCdW5kbGVJZGVudGlmaWVyT3B0aW9ucy5jcmVhdGVCdW5kbGVBc3NldElkO1xuICAgIHRoaXMuX2V4dHJhY3RBc3NldElkRnJvbUJ1bmRsZSA9IHRoaXMuX2RlZmF1bHRCdW5kbGVJZGVudGlmaWVyT3B0aW9ucy5leHRyYWN0QXNzZXRJZEZyb21CdW5kbGU7XG4gICAgdGhpcy5fYXNzZXRNYXAgPSB7fTtcbiAgICB0aGlzLl9wcmVmZXJyZWRPcmRlciA9IFtdO1xuICAgIHRoaXMuX3BhcnNlcnMgPSBbXTtcbiAgICB0aGlzLl9yZXNvbHZlckhhc2ggPSB7fTtcbiAgICB0aGlzLl9idW5kbGVzID0ge307XG4gIH1cbiAgc2V0QnVuZGxlSWRlbnRpZmllcihidW5kbGVJZGVudGlmaWVyKSB7XG4gICAgdGhpcy5fYnVuZGxlSWRDb25uZWN0b3IgPSBidW5kbGVJZGVudGlmaWVyLmNvbm5lY3RvciA/PyB0aGlzLl9idW5kbGVJZENvbm5lY3RvcjtcbiAgICB0aGlzLl9jcmVhdGVCdW5kbGVBc3NldElkID0gYnVuZGxlSWRlbnRpZmllci5jcmVhdGVCdW5kbGVBc3NldElkID8/IHRoaXMuX2NyZWF0ZUJ1bmRsZUFzc2V0SWQ7XG4gICAgdGhpcy5fZXh0cmFjdEFzc2V0SWRGcm9tQnVuZGxlID0gYnVuZGxlSWRlbnRpZmllci5leHRyYWN0QXNzZXRJZEZyb21CdW5kbGUgPz8gdGhpcy5fZXh0cmFjdEFzc2V0SWRGcm9tQnVuZGxlO1xuICAgIGlmICh0aGlzLl9leHRyYWN0QXNzZXRJZEZyb21CdW5kbGUoXCJmb29cIiwgdGhpcy5fY3JlYXRlQnVuZGxlQXNzZXRJZChcImZvb1wiLCBcImJhclwiKSkgIT09IFwiYmFyXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIltSZXNvbHZlcl0gR2VuZXJhdGVCdW5kbGVBc3NldElkIGFyZSBub3Qgd29ya2luZyBjb3JyZWN0bHlcIik7XG4gICAgfVxuICB9XG4gIHByZWZlciguLi5wcmVmZXJPcmRlcnMpIHtcbiAgICBwcmVmZXJPcmRlcnMuZm9yRWFjaCgocHJlZmVyKSA9PiB7XG4gICAgICB0aGlzLl9wcmVmZXJyZWRPcmRlci5wdXNoKHByZWZlcik7XG4gICAgICBpZiAoIXByZWZlci5wcmlvcml0eSkge1xuICAgICAgICBwcmVmZXIucHJpb3JpdHkgPSBPYmplY3Qua2V5cyhwcmVmZXIucGFyYW1zKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9yZXNvbHZlckhhc2ggPSB7fTtcbiAgfVxuICBzZXQgYmFzZVBhdGgoYmFzZVBhdGgpIHtcbiAgICB0aGlzLl9iYXNlUGF0aCA9IGJhc2VQYXRoO1xuICB9XG4gIGdldCBiYXNlUGF0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmFzZVBhdGg7XG4gIH1cbiAgc2V0IHJvb3RQYXRoKHJvb3RQYXRoKSB7XG4gICAgdGhpcy5fcm9vdFBhdGggPSByb290UGF0aDtcbiAgfVxuICBnZXQgcm9vdFBhdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jvb3RQYXRoO1xuICB9XG4gIGdldCBwYXJzZXJzKCkge1xuICAgIHJldHVybiB0aGlzLl9wYXJzZXJzO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMuc2V0QnVuZGxlSWRlbnRpZmllcih0aGlzLl9kZWZhdWx0QnVuZGxlSWRlbnRpZmllck9wdGlvbnMpO1xuICAgIHRoaXMuX2Fzc2V0TWFwID0ge307XG4gICAgdGhpcy5fcHJlZmVycmVkT3JkZXIgPSBbXTtcbiAgICB0aGlzLl9yZXNvbHZlckhhc2ggPSB7fTtcbiAgICB0aGlzLl9yb290UGF0aCA9IG51bGw7XG4gICAgdGhpcy5fYmFzZVBhdGggPSBudWxsO1xuICAgIHRoaXMuX21hbmlmZXN0ID0gbnVsbDtcbiAgICB0aGlzLl9idW5kbGVzID0ge307XG4gICAgdGhpcy5fZGVmYXVsdFNlYXJjaFBhcmFtcyA9IG51bGw7XG4gIH1cbiAgc2V0RGVmYXVsdFNlYXJjaFBhcmFtcyhzZWFyY2hQYXJhbXMpIHtcbiAgICBpZiAodHlwZW9mIHNlYXJjaFBhcmFtcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhpcy5fZGVmYXVsdFNlYXJjaFBhcmFtcyA9IHNlYXJjaFBhcmFtcztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcXVlcnlWYWx1ZXMgPSBzZWFyY2hQYXJhbXM7XG4gICAgICB0aGlzLl9kZWZhdWx0U2VhcmNoUGFyYW1zID0gT2JqZWN0LmtleXMocXVlcnlWYWx1ZXMpLm1hcCgoa2V5KSA9PiBgJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX09JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnlWYWx1ZXNba2V5XSl9YCkuam9pbihcIiZcIik7XG4gICAgfVxuICB9XG4gIGFkZE1hbmlmZXN0KG1hbmlmZXN0KSB7XG4gICAgaWYgKHRoaXMuX21hbmlmZXN0KSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJbUmVzb2x2ZXJdIE1hbmlmZXN0IGFscmVhZHkgZXhpc3RzLCB0aGlzIHdpbGwgYmUgb3ZlcndyaXR0ZW5cIik7XG4gICAgfVxuICAgIHRoaXMuX21hbmlmZXN0ID0gbWFuaWZlc3Q7XG4gICAgbWFuaWZlc3QuYnVuZGxlcy5mb3JFYWNoKChidW5kbGUpID0+IHtcbiAgICAgIHRoaXMuYWRkQnVuZGxlKGJ1bmRsZS5uYW1lLCBidW5kbGUuYXNzZXRzKTtcbiAgICB9KTtcbiAgfVxuICBhZGRCdW5kbGUoYnVuZGxlSWQsIGFzc2V0cykge1xuICAgIGNvbnN0IGFzc2V0TmFtZXMgPSBbXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhc3NldHMpKSB7XG4gICAgICBhc3NldHMuZm9yRWFjaCgoYXNzZXQpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBhc3NldC5uYW1lID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgY29uc3QgYnVuZGxlQXNzZXRJZCA9IHRoaXMuX2NyZWF0ZUJ1bmRsZUFzc2V0SWQoYnVuZGxlSWQsIGFzc2V0Lm5hbWUpO1xuICAgICAgICAgIGFzc2V0TmFtZXMucHVzaChidW5kbGVBc3NldElkKTtcbiAgICAgICAgICB0aGlzLmFkZChbYXNzZXQubmFtZSwgYnVuZGxlQXNzZXRJZF0sIGFzc2V0LnNyY3MsIGFzc2V0LmRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGJ1bmRsZUlkcyA9IGFzc2V0Lm5hbWUubWFwKChuYW1lKSA9PiB0aGlzLl9jcmVhdGVCdW5kbGVBc3NldElkKGJ1bmRsZUlkLCBuYW1lKSk7XG4gICAgICAgICAgYnVuZGxlSWRzLmZvckVhY2goKGJ1bmRsZUlkMikgPT4ge1xuICAgICAgICAgICAgYXNzZXROYW1lcy5wdXNoKGJ1bmRsZUlkMik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5hZGQoWy4uLmFzc2V0Lm5hbWUsIC4uLmJ1bmRsZUlkc10sIGFzc2V0LnNyY3MpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmtleXMoYXNzZXRzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgYXNzZXROYW1lcy5wdXNoKHRoaXMuX2NyZWF0ZUJ1bmRsZUFzc2V0SWQoYnVuZGxlSWQsIGtleSkpO1xuICAgICAgICB0aGlzLmFkZChba2V5LCB0aGlzLl9jcmVhdGVCdW5kbGVBc3NldElkKGJ1bmRsZUlkLCBrZXkpXSwgYXNzZXRzW2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuX2J1bmRsZXNbYnVuZGxlSWRdID0gYXNzZXROYW1lcztcbiAgfVxuICBhZGQoa2V5c0luLCBhc3NldHNJbiwgZGF0YSkge1xuICAgIGNvbnN0IGtleXMgPSBjb252ZXJ0VG9MaXN0KGtleXNJbik7XG4gICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmICh0aGlzLmhhc0tleShrZXkpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgW1Jlc29sdmVyXSBhbHJlYWR5IGhhcyBrZXk6ICR7a2V5fSBvdmVyd3JpdGluZ2ApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhc3NldHNJbikpIHtcbiAgICAgIGlmICh0eXBlb2YgYXNzZXRzSW4gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgYXNzZXRzSW4gPSBjcmVhdGVTdHJpbmdWYXJpYXRpb25zKGFzc2V0c0luKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2V0c0luID0gW2Fzc2V0c0luXTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYXNzZXRNYXAgPSBhc3NldHNJbi5tYXAoKGFzc2V0KSA9PiB7XG4gICAgICBsZXQgZm9ybWF0dGVkQXNzZXQgPSBhc3NldDtcbiAgICAgIGlmICh0eXBlb2YgYXNzZXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgbGV0IHBhcnNlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3BhcnNlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBwYXJzZXIgPSB0aGlzLl9wYXJzZXJzW2ldO1xuICAgICAgICAgIGlmIChwYXJzZXIudGVzdChhc3NldCkpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZEFzc2V0ID0gcGFyc2VyLnBhcnNlKGFzc2V0KTtcbiAgICAgICAgICAgIHBhcnNlZCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXJzZWQpIHtcbiAgICAgICAgICBmb3JtYXR0ZWRBc3NldCA9IHtcbiAgICAgICAgICAgIHNyYzogYXNzZXRcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWZvcm1hdHRlZEFzc2V0LmZvcm1hdCkge1xuICAgICAgICBmb3JtYXR0ZWRBc3NldC5mb3JtYXQgPSBmb3JtYXR0ZWRBc3NldC5zcmMuc3BsaXQoXCIuXCIpLnBvcCgpO1xuICAgICAgfVxuICAgICAgaWYgKCFmb3JtYXR0ZWRBc3NldC5hbGlhcykge1xuICAgICAgICBmb3JtYXR0ZWRBc3NldC5hbGlhcyA9IGtleXM7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fYmFzZVBhdGggfHwgdGhpcy5fcm9vdFBhdGgpIHtcbiAgICAgICAgZm9ybWF0dGVkQXNzZXQuc3JjID0gdXRpbHMucGF0aC50b0Fic29sdXRlKGZvcm1hdHRlZEFzc2V0LnNyYywgdGhpcy5fYmFzZVBhdGgsIHRoaXMuX3Jvb3RQYXRoKTtcbiAgICAgIH1cbiAgICAgIGZvcm1hdHRlZEFzc2V0LnNyYyA9IHRoaXMuX2FwcGVuZERlZmF1bHRTZWFyY2hQYXJhbXMoZm9ybWF0dGVkQXNzZXQuc3JjKTtcbiAgICAgIGZvcm1hdHRlZEFzc2V0LmRhdGEgPSBmb3JtYXR0ZWRBc3NldC5kYXRhID8/IGRhdGE7XG4gICAgICByZXR1cm4gZm9ybWF0dGVkQXNzZXQ7XG4gICAgfSk7XG4gICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIHRoaXMuX2Fzc2V0TWFwW2tleV0gPSBhc3NldE1hcDtcbiAgICB9KTtcbiAgfVxuICByZXNvbHZlQnVuZGxlKGJ1bmRsZUlkcykge1xuICAgIGNvbnN0IHNpbmdsZUFzc2V0ID0gaXNTaW5nbGVJdGVtKGJ1bmRsZUlkcyk7XG4gICAgYnVuZGxlSWRzID0gY29udmVydFRvTGlzdChidW5kbGVJZHMpO1xuICAgIGNvbnN0IG91dCA9IHt9O1xuICAgIGJ1bmRsZUlkcy5mb3JFYWNoKChidW5kbGVJZCkgPT4ge1xuICAgICAgY29uc3QgYXNzZXROYW1lcyA9IHRoaXMuX2J1bmRsZXNbYnVuZGxlSWRdO1xuICAgICAgaWYgKGFzc2V0TmFtZXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMucmVzb2x2ZShhc3NldE5hbWVzKTtcbiAgICAgICAgY29uc3QgYXNzZXRzID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJlc3VsdHMpIHtcbiAgICAgICAgICBjb25zdCBhc3NldCA9IHJlc3VsdHNba2V5XTtcbiAgICAgICAgICBhc3NldHNbdGhpcy5fZXh0cmFjdEFzc2V0SWRGcm9tQnVuZGxlKGJ1bmRsZUlkLCBrZXkpXSA9IGFzc2V0O1xuICAgICAgICB9XG4gICAgICAgIG91dFtidW5kbGVJZF0gPSBhc3NldHM7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHNpbmdsZUFzc2V0ID8gb3V0W2J1bmRsZUlkc1swXV0gOiBvdXQ7XG4gIH1cbiAgcmVzb2x2ZVVybChrZXkpIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc29sdmUoa2V5KTtcbiAgICBpZiAodHlwZW9mIGtleSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3Qgb3V0ID0ge307XG4gICAgICBmb3IgKGNvbnN0IGkgaW4gcmVzdWx0KSB7XG4gICAgICAgIG91dFtpXSA9IHJlc3VsdFtpXS5zcmM7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LnNyYztcbiAgfVxuICByZXNvbHZlKGtleXMpIHtcbiAgICBjb25zdCBzaW5nbGVBc3NldCA9IGlzU2luZ2xlSXRlbShrZXlzKTtcbiAgICBrZXlzID0gY29udmVydFRvTGlzdChrZXlzKTtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9yZXNvbHZlckhhc2hba2V5XSkge1xuICAgICAgICBpZiAodGhpcy5fYXNzZXRNYXBba2V5XSkge1xuICAgICAgICAgIGxldCBhc3NldHMgPSB0aGlzLl9hc3NldE1hcFtrZXldO1xuICAgICAgICAgIGNvbnN0IHByZWZlcnJlZE9yZGVyID0gdGhpcy5fZ2V0UHJlZmVycmVkT3JkZXIoYXNzZXRzKTtcbiAgICAgICAgICBjb25zdCBiZXN0QXNzZXQgPSBhc3NldHNbMF07XG4gICAgICAgICAgcHJlZmVycmVkT3JkZXI/LnByaW9yaXR5LmZvckVhY2goKHByaW9yaXR5S2V5KSA9PiB7XG4gICAgICAgICAgICBwcmVmZXJyZWRPcmRlci5wYXJhbXNbcHJpb3JpdHlLZXldLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkQXNzZXRzID0gYXNzZXRzLmZpbHRlcigoYXNzZXQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXNzZXRbcHJpb3JpdHlLZXldKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXNzZXRbcHJpb3JpdHlLZXldID09PSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkQXNzZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGFzc2V0cyA9IGZpbHRlcmVkQXNzZXRzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLl9yZXNvbHZlckhhc2hba2V5XSA9IGFzc2V0c1swXSA/PyBiZXN0QXNzZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IHNyYyA9IGtleTtcbiAgICAgICAgICBpZiAodGhpcy5fYmFzZVBhdGggfHwgdGhpcy5fcm9vdFBhdGgpIHtcbiAgICAgICAgICAgIHNyYyA9IHV0aWxzLnBhdGgudG9BYnNvbHV0ZShzcmMsIHRoaXMuX2Jhc2VQYXRoLCB0aGlzLl9yb290UGF0aCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNyYyA9IHRoaXMuX2FwcGVuZERlZmF1bHRTZWFyY2hQYXJhbXMoc3JjKTtcbiAgICAgICAgICB0aGlzLl9yZXNvbHZlckhhc2hba2V5XSA9IHtcbiAgICAgICAgICAgIHNyY1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlc3VsdFtrZXldID0gdGhpcy5fcmVzb2x2ZXJIYXNoW2tleV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHNpbmdsZUFzc2V0ID8gcmVzdWx0W2tleXNbMF1dIDogcmVzdWx0O1xuICB9XG4gIGhhc0tleShrZXkpIHtcbiAgICByZXR1cm4gISF0aGlzLl9hc3NldE1hcFtrZXldO1xuICB9XG4gIGhhc0J1bmRsZShrZXkpIHtcbiAgICByZXR1cm4gISF0aGlzLl9idW5kbGVzW2tleV07XG4gIH1cbiAgX2dldFByZWZlcnJlZE9yZGVyKGFzc2V0cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXNzZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBhc3NldCA9IGFzc2V0c1swXTtcbiAgICAgIGNvbnN0IHByZWZlcnJlZCA9IHRoaXMuX3ByZWZlcnJlZE9yZGVyLmZpbmQoKHByZWZlcmVuY2UpID0+IHByZWZlcmVuY2UucGFyYW1zLmZvcm1hdC5pbmNsdWRlcyhhc3NldC5mb3JtYXQpKTtcbiAgICAgIGlmIChwcmVmZXJyZWQpIHtcbiAgICAgICAgcmV0dXJuIHByZWZlcnJlZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3ByZWZlcnJlZE9yZGVyWzBdO1xuICB9XG4gIF9hcHBlbmREZWZhdWx0U2VhcmNoUGFyYW1zKHVybCkge1xuICAgIGlmICghdGhpcy5fZGVmYXVsdFNlYXJjaFBhcmFtcylcbiAgICAgIHJldHVybiB1cmw7XG4gICAgY29uc3QgcGFyYW1Db25uZWN0b3IgPSAvXFw/Ly50ZXN0KHVybCkgPyBcIiZcIiA6IFwiP1wiO1xuICAgIHJldHVybiBgJHt1cmx9JHtwYXJhbUNvbm5lY3Rvcn0ke3RoaXMuX2RlZmF1bHRTZWFyY2hQYXJhbXN9YDtcbiAgfVxufVxuXG5leHBvcnQgeyBSZXNvbHZlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzb2x2ZXIubWpzLm1hcFxuIiwiaW1wb3J0ICcuL3BhcnNlcnMvaW5kZXgubWpzJztcbmltcG9ydCAnLi90eXBlcy5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiZXhwb3J0IHsgcmVzb2x2ZVRleHR1cmVVcmwgfSBmcm9tICcuL3Jlc29sdmVUZXh0dXJlVXJsLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBzZXR0aW5ncywgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0ICcuLi8uLi9sb2FkZXIvaW5kZXgubWpzJztcbmltcG9ydCB7IGxvYWRUZXh0dXJlcyB9IGZyb20gJy4uLy4uL2xvYWRlci9wYXJzZXJzL3RleHR1cmVzL2xvYWRUZXh0dXJlcy5tanMnO1xuXG5jb25zdCByZXNvbHZlVGV4dHVyZVVybCA9IHtcbiAgZXh0ZW5zaW9uOiBFeHRlbnNpb25UeXBlLlJlc29sdmVQYXJzZXIsXG4gIHRlc3Q6IGxvYWRUZXh0dXJlcy50ZXN0LFxuICBwYXJzZTogKHZhbHVlKSA9PiAoe1xuICAgIHJlc29sdXRpb246IHBhcnNlRmxvYXQoc2V0dGluZ3MuUkVUSU5BX1BSRUZJWC5leGVjKHZhbHVlKT8uWzFdID8/IFwiMVwiKSxcbiAgICBmb3JtYXQ6IHZhbHVlLnNwbGl0KFwiLlwiKS5wb3AoKSxcbiAgICBzcmM6IHZhbHVlXG4gIH0pXG59O1xuZXh0ZW5zaW9ucy5hZGQocmVzb2x2ZVRleHR1cmVVcmwpO1xuXG5leHBvcnQgeyByZXNvbHZlVGV4dHVyZVVybCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x2ZVRleHR1cmVVcmwubWpzLm1hcFxuIiwiXG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5tanMubWFwXG4iLCJmdW5jdGlvbiBjaGVja0RhdGFVcmwodXJsLCBtaW1lcykge1xuICBpZiAoQXJyYXkuaXNBcnJheShtaW1lcykpIHtcbiAgICBmb3IgKGNvbnN0IG1pbWUgb2YgbWltZXMpIHtcbiAgICAgIGlmICh1cmwuc3RhcnRzV2l0aChgZGF0YToke21pbWV9YCkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHVybC5zdGFydHNXaXRoKGBkYXRhOiR7bWltZXN9YCk7XG59XG5cbmV4cG9ydCB7IGNoZWNrRGF0YVVybCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hlY2tEYXRhVXJsLm1qcy5tYXBcbiIsImltcG9ydCB7IHV0aWxzIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmZ1bmN0aW9uIGNoZWNrRXh0ZW5zaW9uKHVybCwgZXh0ZW5zaW9uKSB7XG4gIGNvbnN0IHRlbXBVUkwgPSB1cmwuc3BsaXQoXCI/XCIpWzBdO1xuICBjb25zdCBleHQgPSB1dGlscy5wYXRoLmV4dG5hbWUodGVtcFVSTCkudG9Mb3dlckNhc2UoKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZXh0ZW5zaW9uKSkge1xuICAgIHJldHVybiBleHRlbnNpb24uaW5jbHVkZXMoZXh0KTtcbiAgfVxuICByZXR1cm4gZXh0ID09PSBleHRlbnNpb247XG59XG5cbmV4cG9ydCB7IGNoZWNrRXh0ZW5zaW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGVja0V4dGVuc2lvbi5tanMubWFwXG4iLCJjb25zdCBjb252ZXJ0VG9MaXN0ID0gKGlucHV0LCB0cmFuc2Zvcm0pID0+IHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGlucHV0KSkge1xuICAgIGlucHV0ID0gW2lucHV0XTtcbiAgfVxuICBpZiAoIXRyYW5zZm9ybSkge1xuICAgIHJldHVybiBpbnB1dDtcbiAgfVxuICByZXR1cm4gaW5wdXQubWFwKChpdGVtKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtKGl0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gaXRlbTtcbiAgfSk7XG59O1xuXG5leHBvcnQgeyBjb252ZXJ0VG9MaXN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb252ZXJ0VG9MaXN0Lm1qcy5tYXBcbiIsImNvbnN0IGNvcHlTZWFyY2hQYXJhbXMgPSAodGFyZ2V0VXJsLCBzb3VyY2VVcmwpID0+IHtcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gc291cmNlVXJsLnNwbGl0KFwiP1wiKVsxXTtcbiAgaWYgKHNlYXJjaFBhcmFtcykge1xuICAgIHRhcmdldFVybCArPSBgPyR7c2VhcmNoUGFyYW1zfWA7XG4gIH1cbiAgcmV0dXJuIHRhcmdldFVybDtcbn07XG5cbmV4cG9ydCB7IGNvcHlTZWFyY2hQYXJhbXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcHlTZWFyY2hQYXJhbXMubWpzLm1hcFxuIiwiZnVuY3Rpb24gcHJvY2Vzc1goYmFzZSwgaWRzLCBkZXB0aCwgcmVzdWx0LCB0YWdzKSB7XG4gIGNvbnN0IGlkID0gaWRzW2RlcHRoXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHZhbHVlID0gaWRbaV07XG4gICAgaWYgKGRlcHRoIDwgaWRzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHByb2Nlc3NYKGJhc2UucmVwbGFjZShyZXN1bHRbZGVwdGhdLCB2YWx1ZSksIGlkcywgZGVwdGggKyAxLCByZXN1bHQsIHRhZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YWdzLnB1c2goYmFzZS5yZXBsYWNlKHJlc3VsdFtkZXB0aF0sIHZhbHVlKSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVTdHJpbmdWYXJpYXRpb25zKHN0cmluZykge1xuICBjb25zdCByZWdleCA9IC9cXHsoLio/KVxcfS9nO1xuICBjb25zdCByZXN1bHQgPSBzdHJpbmcubWF0Y2gocmVnZXgpO1xuICBjb25zdCB0YWdzID0gW107XG4gIGlmIChyZXN1bHQpIHtcbiAgICBjb25zdCBpZHMgPSBbXTtcbiAgICByZXN1bHQuZm9yRWFjaCgodmFycykgPT4ge1xuICAgICAgY29uc3Qgc3BsaXQgPSB2YXJzLnN1YnN0cmluZygxLCB2YXJzLmxlbmd0aCAtIDEpLnNwbGl0KFwiLFwiKTtcbiAgICAgIGlkcy5wdXNoKHNwbGl0KTtcbiAgICB9KTtcbiAgICBwcm9jZXNzWChzdHJpbmcsIGlkcywgMCwgcmVzdWx0LCB0YWdzKTtcbiAgfSBlbHNlIHtcbiAgICB0YWdzLnB1c2goc3RyaW5nKTtcbiAgfVxuICByZXR1cm4gdGFncztcbn1cblxuZXhwb3J0IHsgY3JlYXRlU3RyaW5nVmFyaWF0aW9ucyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlU3RyaW5nVmFyaWF0aW9ucy5tanMubWFwXG4iLCJleHBvcnQgeyBjaGVja0RhdGFVcmwgfSBmcm9tICcuL2NoZWNrRGF0YVVybC5tanMnO1xuZXhwb3J0IHsgY2hlY2tFeHRlbnNpb24gfSBmcm9tICcuL2NoZWNrRXh0ZW5zaW9uLm1qcyc7XG5leHBvcnQgeyBjb252ZXJ0VG9MaXN0IH0gZnJvbSAnLi9jb252ZXJ0VG9MaXN0Lm1qcyc7XG5leHBvcnQgeyBjb3B5U2VhcmNoUGFyYW1zIH0gZnJvbSAnLi9jb3B5U2VhcmNoUGFyYW1zLm1qcyc7XG5leHBvcnQgeyBjcmVhdGVTdHJpbmdWYXJpYXRpb25zIH0gZnJvbSAnLi9jcmVhdGVTdHJpbmdWYXJpYXRpb25zLm1qcyc7XG5leHBvcnQgeyBpc1NpbmdsZUl0ZW0gfSBmcm9tICcuL2lzU2luZ2xlSXRlbS5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiY29uc3QgaXNTaW5nbGVJdGVtID0gKGl0ZW0pID0+ICFBcnJheS5pc0FycmF5KGl0ZW0pO1xuXG5leHBvcnQgeyBpc1NpbmdsZUl0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzU2luZ2xlSXRlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbmQsIGNvbG9yZCB9IGZyb20gJ2NvbG9yZCc7XG5pbXBvcnQgbmFtZXNQbHVnaW4gZnJvbSAnY29sb3JkL3BsdWdpbnMvbmFtZXMnO1xuXG5leHRlbmQoW25hbWVzUGx1Z2luXSk7XG5jb25zdCBfQ29sb3IgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHZhbHVlID0gMTY3NzcyMTUpIHtcbiAgICB0aGlzLl92YWx1ZSA9IG51bGw7XG4gICAgdGhpcy5fY29tcG9uZW50cyA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgdGhpcy5fY29tcG9uZW50cy5maWxsKDEpO1xuICAgIHRoaXMuX2ludCA9IDE2Nzc3MjE1O1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuICBnZXQgcmVkKCkge1xuICAgIHJldHVybiB0aGlzLl9jb21wb25lbnRzWzBdO1xuICB9XG4gIGdldCBncmVlbigpIHtcbiAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50c1sxXTtcbiAgfVxuICBnZXQgYmx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50c1syXTtcbiAgfVxuICBnZXQgYWxwaGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudHNbM107XG4gIH1cbiAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc2V0IHZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgX0NvbG9yKSB7XG4gICAgICB0aGlzLl92YWx1ZSA9IHRoaXMuY2xvbmVTb3VyY2UodmFsdWUuX3ZhbHVlKTtcbiAgICAgIHRoaXMuX2ludCA9IHZhbHVlLl9pbnQ7XG4gICAgICB0aGlzLl9jb21wb25lbnRzLnNldCh2YWx1ZS5fY29tcG9uZW50cyk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNldCBQSVhJLkNvbG9yI3ZhbHVlIHRvIG51bGxcIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLl92YWx1ZSA9PT0gbnVsbCB8fCAhdGhpcy5pc1NvdXJjZUVxdWFsKHRoaXMuX3ZhbHVlLCB2YWx1ZSkpIHtcbiAgICAgIHRoaXMubm9ybWFsaXplKHZhbHVlKTtcbiAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5jbG9uZVNvdXJjZSh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgY2xvbmVTb3VyY2UodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiB8fCB2YWx1ZSBpbnN0YW5jZW9mIE51bWJlciB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlLnNsaWNlKDApO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4geyAuLi52YWx1ZSB9O1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaXNTb3VyY2VFcXVhbCh2YWx1ZTEsIHZhbHVlMikge1xuICAgIGNvbnN0IHR5cGUxID0gdHlwZW9mIHZhbHVlMTtcbiAgICBjb25zdCB0eXBlMiA9IHR5cGVvZiB2YWx1ZTI7XG4gICAgaWYgKHR5cGUxICE9PSB0eXBlMikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAodHlwZTEgPT09IFwibnVtYmVyXCIgfHwgdHlwZTEgPT09IFwic3RyaW5nXCIgfHwgdmFsdWUxIGluc3RhbmNlb2YgTnVtYmVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUxID09PSB2YWx1ZTI7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlMSkgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZTIpIHx8IEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZTEpICYmIEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZTIpKSB7XG4gICAgICBpZiAodmFsdWUxLmxlbmd0aCAhPT0gdmFsdWUyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUxLmV2ZXJ5KCh2LCBpKSA9PiB2ID09PSB2YWx1ZTJbaV0pO1xuICAgIH0gZWxzZSBpZiAodmFsdWUxICE9PSBudWxsICYmIHZhbHVlMiAhPT0gbnVsbCkge1xuICAgICAgY29uc3Qga2V5czEgPSBPYmplY3Qua2V5cyh2YWx1ZTEpO1xuICAgICAgY29uc3Qga2V5czIgPSBPYmplY3Qua2V5cyh2YWx1ZTIpO1xuICAgICAgaWYgKGtleXMxLmxlbmd0aCAhPT0ga2V5czIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBrZXlzMS5ldmVyeSgoa2V5KSA9PiB2YWx1ZTFba2V5XSA9PT0gdmFsdWUyW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUxID09PSB2YWx1ZTI7XG4gIH1cbiAgdG9SZ2JhKCkge1xuICAgIGNvbnN0IFtyLCBnLCBiLCBhXSA9IHRoaXMuX2NvbXBvbmVudHM7XG4gICAgcmV0dXJuIHsgciwgZywgYiwgYSB9O1xuICB9XG4gIHRvUmdiKCkge1xuICAgIGNvbnN0IFtyLCBnLCBiXSA9IHRoaXMuX2NvbXBvbmVudHM7XG4gICAgcmV0dXJuIHsgciwgZywgYiB9O1xuICB9XG4gIHRvUmdiYVN0cmluZygpIHtcbiAgICBjb25zdCBbciwgZywgYl0gPSB0aGlzLnRvVWludDhSZ2JBcnJheSgpO1xuICAgIHJldHVybiBgcmdiYSgke3J9LCR7Z30sJHtifSwke3RoaXMuYWxwaGF9KWA7XG4gIH1cbiAgdG9VaW50OFJnYkFycmF5KG91dCkge1xuICAgIGNvbnN0IFtyLCBnLCBiXSA9IHRoaXMuX2NvbXBvbmVudHM7XG4gICAgb3V0ID0gb3V0ID8/IFtdO1xuICAgIG91dFswXSA9IE1hdGgucm91bmQociAqIDI1NSk7XG4gICAgb3V0WzFdID0gTWF0aC5yb3VuZChnICogMjU1KTtcbiAgICBvdXRbMl0gPSBNYXRoLnJvdW5kKGIgKiAyNTUpO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgdG9SZ2JBcnJheShvdXQpIHtcbiAgICBvdXQgPSBvdXQgPz8gW107XG4gICAgY29uc3QgW3IsIGcsIGJdID0gdGhpcy5fY29tcG9uZW50cztcbiAgICBvdXRbMF0gPSByO1xuICAgIG91dFsxXSA9IGc7XG4gICAgb3V0WzJdID0gYjtcbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIHRvTnVtYmVyKCkge1xuICAgIHJldHVybiB0aGlzLl9pbnQ7XG4gIH1cbiAgdG9MaXR0bGVFbmRpYW5OdW1iZXIoKSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLl9pbnQ7XG4gICAgcmV0dXJuICh2YWx1ZSA+PiAxNikgKyAodmFsdWUgJiA2NTI4MCkgKyAoKHZhbHVlICYgMjU1KSA8PCAxNik7XG4gIH1cbiAgbXVsdGlwbHkodmFsdWUpIHtcbiAgICBjb25zdCBbciwgZywgYiwgYV0gPSBfQ29sb3IudGVtcC5zZXRWYWx1ZSh2YWx1ZSkuX2NvbXBvbmVudHM7XG4gICAgdGhpcy5fY29tcG9uZW50c1swXSAqPSByO1xuICAgIHRoaXMuX2NvbXBvbmVudHNbMV0gKj0gZztcbiAgICB0aGlzLl9jb21wb25lbnRzWzJdICo9IGI7XG4gICAgdGhpcy5fY29tcG9uZW50c1szXSAqPSBhO1xuICAgIHRoaXMucmVmcmVzaEludCgpO1xuICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBwcmVtdWx0aXBseShhbHBoYSwgYXBwbHlUb1JHQiA9IHRydWUpIHtcbiAgICBpZiAoYXBwbHlUb1JHQikge1xuICAgICAgdGhpcy5fY29tcG9uZW50c1swXSAqPSBhbHBoYTtcbiAgICAgIHRoaXMuX2NvbXBvbmVudHNbMV0gKj0gYWxwaGE7XG4gICAgICB0aGlzLl9jb21wb25lbnRzWzJdICo9IGFscGhhO1xuICAgIH1cbiAgICB0aGlzLl9jb21wb25lbnRzWzNdID0gYWxwaGE7XG4gICAgdGhpcy5yZWZyZXNoSW50KCk7XG4gICAgdGhpcy5fdmFsdWUgPSBudWxsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHRvUHJlbXVsdGlwbGllZChhbHBoYSwgYXBwbHlUb1JHQiA9IHRydWUpIHtcbiAgICBpZiAoYWxwaGEgPT09IDEpIHtcbiAgICAgIHJldHVybiAoMjU1IDw8IDI0KSArIHRoaXMuX2ludDtcbiAgICB9XG4gICAgaWYgKGFscGhhID09PSAwKSB7XG4gICAgICByZXR1cm4gYXBwbHlUb1JHQiA/IDAgOiB0aGlzLl9pbnQ7XG4gICAgfVxuICAgIGxldCByID0gdGhpcy5faW50ID4+IDE2ICYgMjU1O1xuICAgIGxldCBnID0gdGhpcy5faW50ID4+IDggJiAyNTU7XG4gICAgbGV0IGIgPSB0aGlzLl9pbnQgJiAyNTU7XG4gICAgaWYgKGFwcGx5VG9SR0IpIHtcbiAgICAgIHIgPSByICogYWxwaGEgKyAwLjUgfCAwO1xuICAgICAgZyA9IGcgKiBhbHBoYSArIDAuNSB8IDA7XG4gICAgICBiID0gYiAqIGFscGhhICsgMC41IHwgMDtcbiAgICB9XG4gICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyAociA8PCAxNikgKyAoZyA8PCA4KSArIGI7XG4gIH1cbiAgdG9IZXgoKSB7XG4gICAgY29uc3QgaGV4U3RyaW5nID0gdGhpcy5faW50LnRvU3RyaW5nKDE2KTtcbiAgICByZXR1cm4gYCMke1wiMDAwMDAwXCIuc3Vic3RyaW5nKDAsIDYgLSBoZXhTdHJpbmcubGVuZ3RoKSArIGhleFN0cmluZ31gO1xuICB9XG4gIHRvSGV4YSgpIHtcbiAgICBjb25zdCBhbHBoYVZhbHVlID0gTWF0aC5yb3VuZCh0aGlzLl9jb21wb25lbnRzWzNdICogMjU1KTtcbiAgICBjb25zdCBhbHBoYVN0cmluZyA9IGFscGhhVmFsdWUudG9TdHJpbmcoMTYpO1xuICAgIHJldHVybiB0aGlzLnRvSGV4KCkgKyBcIjAwXCIuc3Vic3RyaW5nKDAsIDIgLSBhbHBoYVN0cmluZy5sZW5ndGgpICsgYWxwaGFTdHJpbmc7XG4gIH1cbiAgc2V0QWxwaGEoYWxwaGEpIHtcbiAgICB0aGlzLl9jb21wb25lbnRzWzNdID0gdGhpcy5fY2xhbXAoYWxwaGEpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJvdW5kKHN0ZXBzKSB7XG4gICAgY29uc3QgW3IsIGcsIGJdID0gdGhpcy5fY29tcG9uZW50cztcbiAgICB0aGlzLl9jb21wb25lbnRzWzBdID0gTWF0aC5yb3VuZChyICogc3RlcHMpIC8gc3RlcHM7XG4gICAgdGhpcy5fY29tcG9uZW50c1sxXSA9IE1hdGgucm91bmQoZyAqIHN0ZXBzKSAvIHN0ZXBzO1xuICAgIHRoaXMuX2NvbXBvbmVudHNbMl0gPSBNYXRoLnJvdW5kKGIgKiBzdGVwcykgLyBzdGVwcztcbiAgICB0aGlzLnJlZnJlc2hJbnQoKTtcbiAgICB0aGlzLl92YWx1ZSA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdG9BcnJheShvdXQpIHtcbiAgICBvdXQgPSBvdXQgPz8gW107XG4gICAgY29uc3QgW3IsIGcsIGIsIGFdID0gdGhpcy5fY29tcG9uZW50cztcbiAgICBvdXRbMF0gPSByO1xuICAgIG91dFsxXSA9IGc7XG4gICAgb3V0WzJdID0gYjtcbiAgICBvdXRbM10gPSBhO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgbm9ybWFsaXplKHZhbHVlKSB7XG4gICAgbGV0IHI7XG4gICAgbGV0IGc7XG4gICAgbGV0IGI7XG4gICAgbGV0IGE7XG4gICAgaWYgKCh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgfHwgdmFsdWUgaW5zdGFuY2VvZiBOdW1iZXIpICYmIHZhbHVlID49IDAgJiYgdmFsdWUgPD0gMTY3NzcyMTUpIHtcbiAgICAgIGNvbnN0IGludCA9IHZhbHVlO1xuICAgICAgciA9IChpbnQgPj4gMTYgJiAyNTUpIC8gMjU1O1xuICAgICAgZyA9IChpbnQgPj4gOCAmIDI1NSkgLyAyNTU7XG4gICAgICBiID0gKGludCAmIDI1NSkgLyAyNTU7XG4gICAgICBhID0gMTtcbiAgICB9IGVsc2UgaWYgKChBcnJheS5pc0FycmF5KHZhbHVlKSB8fCB2YWx1ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkgJiYgdmFsdWUubGVuZ3RoID49IDMgJiYgdmFsdWUubGVuZ3RoIDw9IDQpIHtcbiAgICAgIHZhbHVlID0gdGhpcy5fY2xhbXAodmFsdWUpO1xuICAgICAgW3IsIGcsIGIsIGEgPSAxXSA9IHZhbHVlO1xuICAgIH0gZWxzZSBpZiAoKHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCB2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5KSAmJiB2YWx1ZS5sZW5ndGggPj0gMyAmJiB2YWx1ZS5sZW5ndGggPD0gNCkge1xuICAgICAgdmFsdWUgPSB0aGlzLl9jbGFtcCh2YWx1ZSwgMCwgMjU1KTtcbiAgICAgIFtyLCBnLCBiLCBhID0gMjU1XSA9IHZhbHVlO1xuICAgICAgciAvPSAyNTU7XG4gICAgICBnIC89IDI1NTtcbiAgICAgIGIgLz0gMjU1O1xuICAgICAgYSAvPSAyNTU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gX0NvbG9yLkhFWF9QQVRURVJOLmV4ZWModmFsdWUpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICB2YWx1ZSA9IGAjJHttYXRjaFsyXX1gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBjb2xvciA9IGNvbG9yZCh2YWx1ZSk7XG4gICAgICBpZiAoY29sb3IuaXNWYWxpZCgpKSB7XG4gICAgICAgICh7IHIsIGcsIGIsIGEgfSA9IGNvbG9yLnJnYmEpO1xuICAgICAgICByIC89IDI1NTtcbiAgICAgICAgZyAvPSAyNTU7XG4gICAgICAgIGIgLz0gMjU1O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAociAhPT0gdm9pZCAwKSB7XG4gICAgICB0aGlzLl9jb21wb25lbnRzWzBdID0gcjtcbiAgICAgIHRoaXMuX2NvbXBvbmVudHNbMV0gPSBnO1xuICAgICAgdGhpcy5fY29tcG9uZW50c1syXSA9IGI7XG4gICAgICB0aGlzLl9jb21wb25lbnRzWzNdID0gYTtcbiAgICAgIHRoaXMucmVmcmVzaEludCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjb252ZXJ0IGNvbG9yICR7dmFsdWV9YCk7XG4gICAgfVxuICB9XG4gIHJlZnJlc2hJbnQoKSB7XG4gICAgdGhpcy5fY2xhbXAodGhpcy5fY29tcG9uZW50cyk7XG4gICAgY29uc3QgW3IsIGcsIGJdID0gdGhpcy5fY29tcG9uZW50cztcbiAgICB0aGlzLl9pbnQgPSAociAqIDI1NSA8PCAxNikgKyAoZyAqIDI1NSA8PCA4KSArIChiICogMjU1IHwgMCk7XG4gIH1cbiAgX2NsYW1wKHZhbHVlLCBtaW4gPSAwLCBtYXggPSAxKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBtaW4pLCBtYXgpO1xuICAgIH1cbiAgICB2YWx1ZS5mb3JFYWNoKCh2LCBpKSA9PiB7XG4gICAgICB2YWx1ZVtpXSA9IE1hdGgubWluKE1hdGgubWF4KHYsIG1pbiksIG1heCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59O1xubGV0IENvbG9yID0gX0NvbG9yO1xuQ29sb3Iuc2hhcmVkID0gbmV3IF9Db2xvcigpO1xuQ29sb3IudGVtcCA9IG5ldyBfQ29sb3IoKTtcbkNvbG9yLkhFWF9QQVRURVJOID0gL14oI3wweCk/KChbYS1mMC05XXszfSl7MSwyfShbYS1mMC05XXsyfSk/KSQvaTtcblxuZXhwb3J0IHsgQ29sb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbG9yLm1qcy5tYXBcbiIsImV4cG9ydCB7IENvbG9yIH0gZnJvbSAnLi9Db2xvci5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwidmFyIElOVEVSTkFMX0ZPUk1BVFMgPSAvKiBAX19QVVJFX18gKi8gKChJTlRFUk5BTF9GT1JNQVRTMikgPT4ge1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfUkdCX1MzVENfRFhUMV9FWFRcIl0gPSAzMzc3Nl0gPSBcIkNPTVBSRVNTRURfUkdCX1MzVENfRFhUMV9FWFRcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVFwiXSA9IDMzNzc3XSA9IFwiQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFRcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVFwiXSA9IDMzNzc4XSA9IFwiQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFRcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVFwiXSA9IDMzNzc5XSA9IFwiQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFRcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVFwiXSA9IDM1OTE3XSA9IFwiQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFRcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQzX0VYVFwiXSA9IDM1OTE4XSA9IFwiQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUM19FWFRcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVFwiXSA9IDM1OTE5XSA9IFwiQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFRcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVFwiXSA9IDM1OTE2XSA9IFwiQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFRcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1IxMV9FQUNcIl0gPSAzNzQ4OF0gPSBcIkNPTVBSRVNTRURfUjExX0VBQ1wiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfU0lHTkVEX1IxMV9FQUNcIl0gPSAzNzQ4OV0gPSBcIkNPTVBSRVNTRURfU0lHTkVEX1IxMV9FQUNcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1JHMTFfRUFDXCJdID0gMzc0OTBdID0gXCJDT01QUkVTU0VEX1JHMTFfRUFDXCI7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9TSUdORURfUkcxMV9FQUNcIl0gPSAzNzQ5MV0gPSBcIkNPTVBSRVNTRURfU0lHTkVEX1JHMTFfRUFDXCI7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9SR0I4X0VUQzJcIl0gPSAzNzQ5Ml0gPSBcIkNPTVBSRVNTRURfUkdCOF9FVEMyXCI7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQ1wiXSA9IDM3NDk2XSA9IFwiQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQ1wiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfU1JHQjhfRVRDMlwiXSA9IDM3NDkzXSA9IFwiQ09NUFJFU1NFRF9TUkdCOF9FVEMyXCI7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUNcIl0gPSAzNzQ5N10gPSBcIkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDXCI7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9SR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMlwiXSA9IDM3NDk0XSA9IFwiQ09NUFJFU1NFRF9SR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMlwiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfU1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyXCJdID0gMzc0OTVdID0gXCJDT01QUkVTU0VEX1NSR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMlwiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfUkdCX1BWUlRDXzRCUFBWMV9JTUdcIl0gPSAzNTg0MF0gPSBcIkNPTVBSRVNTRURfUkdCX1BWUlRDXzRCUFBWMV9JTUdcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1JHQkFfUFZSVENfNEJQUFYxX0lNR1wiXSA9IDM1ODQyXSA9IFwiQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzRCUFBWMV9JTUdcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1JHQl9QVlJUQ18yQlBQVjFfSU1HXCJdID0gMzU4NDFdID0gXCJDT01QUkVTU0VEX1JHQl9QVlJUQ18yQlBQVjFfSU1HXCI7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzJCUFBWMV9JTUdcIl0gPSAzNTg0M10gPSBcIkNPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HXCI7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9SR0JfRVRDMV9XRUJHTFwiXSA9IDM2MTk2XSA9IFwiQ09NUFJFU1NFRF9SR0JfRVRDMV9XRUJHTFwiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfUkdCX0FUQ19XRUJHTFwiXSA9IDM1OTg2XSA9IFwiQ09NUFJFU1NFRF9SR0JfQVRDX1dFQkdMXCI7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9SR0JBX0FUQ19FWFBMSUNJVF9BTFBIQV9XRUJHTFwiXSA9IDM1OTg2XSA9IFwiQ09NUFJFU1NFRF9SR0JBX0FUQ19FWFBMSUNJVF9BTFBIQV9XRUJHTFwiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfUkdCQV9BVENfSU5URVJQT0xBVEVEX0FMUEhBX1dFQkdMXCJdID0gMzQ3OThdID0gXCJDT01QUkVTU0VEX1JHQkFfQVRDX0lOVEVSUE9MQVRFRF9BTFBIQV9XRUJHTFwiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfUkdCQV9BU1RDXzR4NF9LSFJcIl0gPSAzNzgwOF0gPSBcIkNPTVBSRVNTRURfUkdCQV9BU1RDXzR4NF9LSFJcIjtcbiAgcmV0dXJuIElOVEVSTkFMX0ZPUk1BVFMyO1xufSkoSU5URVJOQUxfRk9STUFUUyB8fCB7fSk7XG5jb25zdCBJTlRFUk5BTF9GT1JNQVRfVE9fQllURVNfUEVSX1BJWEVMID0ge1xuICBbMzM3NzYgLyogQ09NUFJFU1NFRF9SR0JfUzNUQ19EWFQxX0VYVCAqL106IDAuNSxcbiAgWzMzNzc3IC8qIENPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDFfRVhUICovXTogMC41LFxuICBbMzM3NzggLyogQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQgKi9dOiAxLFxuICBbMzM3NzkgLyogQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFQgKi9dOiAxLFxuICBbMzU5MTYgLyogQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFQgKi9dOiAwLjUsXG4gIFszNTkxNyAvKiBDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVCAqL106IDAuNSxcbiAgWzM1OTE4IC8qIENPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDNfRVhUICovXTogMSxcbiAgWzM1OTE5IC8qIENPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUICovXTogMSxcbiAgWzM3NDg4IC8qIENPTVBSRVNTRURfUjExX0VBQyAqL106IDAuNSxcbiAgWzM3NDg5IC8qIENPTVBSRVNTRURfU0lHTkVEX1IxMV9FQUMgKi9dOiAwLjUsXG4gIFszNzQ5MCAvKiBDT01QUkVTU0VEX1JHMTFfRUFDICovXTogMSxcbiAgWzM3NDkxIC8qIENPTVBSRVNTRURfU0lHTkVEX1JHMTFfRUFDICovXTogMSxcbiAgWzM3NDkyIC8qIENPTVBSRVNTRURfUkdCOF9FVEMyICovXTogMC41LFxuICBbMzc0OTYgLyogQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQyAqL106IDEsXG4gIFszNzQ5MyAvKiBDT01QUkVTU0VEX1NSR0I4X0VUQzIgKi9dOiAwLjUsXG4gIFszNzQ5NyAvKiBDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQyAqL106IDEsXG4gIFszNzQ5NCAvKiBDT01QUkVTU0VEX1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyICovXTogMC41LFxuICBbMzc0OTUgLyogQ09NUFJFU1NFRF9TUkdCOF9QVU5DSFRIUk9VR0hfQUxQSEExX0VUQzIgKi9dOiAwLjUsXG4gIFszNTg0MCAvKiBDT01QUkVTU0VEX1JHQl9QVlJUQ180QlBQVjFfSU1HICovXTogMC41LFxuICBbMzU4NDIgLyogQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzRCUFBWMV9JTUcgKi9dOiAwLjUsXG4gIFszNTg0MSAvKiBDT01QUkVTU0VEX1JHQl9QVlJUQ18yQlBQVjFfSU1HICovXTogMC4yNSxcbiAgWzM1ODQzIC8qIENPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HICovXTogMC4yNSxcbiAgWzM2MTk2IC8qIENPTVBSRVNTRURfUkdCX0VUQzFfV0VCR0wgKi9dOiAwLjUsXG4gIFszNTk4NiAvKiBDT01QUkVTU0VEX1JHQl9BVENfV0VCR0wgKi9dOiAwLjUsXG4gIFszNTk4NiAvKiBDT01QUkVTU0VEX1JHQkFfQVRDX0VYUExJQ0lUX0FMUEhBX1dFQkdMICovXTogMSxcbiAgWzM0Nzk4IC8qIENPTVBSRVNTRURfUkdCQV9BVENfSU5URVJQT0xBVEVEX0FMUEhBX1dFQkdMICovXTogMSxcbiAgWzM3ODA4IC8qIENPTVBSRVNTRURfUkdCQV9BU1RDXzR4NF9LSFIgKi9dOiAxXG59O1xuXG5leHBvcnQgeyBJTlRFUk5BTF9GT1JNQVRTLCBJTlRFUk5BTF9GT1JNQVRfVE9fQllURVNfUEVSX1BJWEVMIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdC5tanMubWFwXG4iLCJleHBvcnQgeyBJTlRFUk5BTF9GT1JNQVRTLCBJTlRFUk5BTF9GT1JNQVRfVE9fQllURVNfUEVSX1BJWEVMIH0gZnJvbSAnLi9jb25zdC5tanMnO1xuaW1wb3J0ICcuL2xvYWRlcnMvaW5kZXgubWpzJztcbmltcG9ydCAnLi9wYXJzZXJzL2luZGV4Lm1qcyc7XG5pbXBvcnQgJy4vcmVzb3VyY2VzL2luZGV4Lm1qcyc7XG5leHBvcnQgeyBkZXRlY3RDb21wcmVzc2VkVGV4dHVyZXMgfSBmcm9tICcuL2xvYWRlcnMvZGV0ZWN0Q29tcHJlc3NlZFRleHR1cmVzLm1qcyc7XG5leHBvcnQgeyBsb2FkRERTIH0gZnJvbSAnLi9sb2FkZXJzL2xvYWRERFMubWpzJztcbmV4cG9ydCB7IGxvYWRLVFggfSBmcm9tICcuL2xvYWRlcnMvbG9hZEtUWC5tanMnO1xuZXhwb3J0IHsgcmVzb2x2ZUNvbXByZXNzZWRUZXh0dXJlVXJsIH0gZnJvbSAnLi9sb2FkZXJzL3Jlc29sdmVDb21wcmVzc2VkVGV4dHVyZVVybC5tanMnO1xuZXhwb3J0IHsgcGFyc2VERFMgfSBmcm9tICcuL3BhcnNlcnMvcGFyc2VERFMubWpzJztcbmV4cG9ydCB7IEZPUk1BVFNfVE9fQ09NUE9ORU5UUywgVFlQRVNfVE9fQllURVNfUEVSX0NPTVBPTkVOVCwgVFlQRVNfVE9fQllURVNfUEVSX1BJWEVMLCBwYXJzZUtUWCB9IGZyb20gJy4vcGFyc2Vycy9wYXJzZUtUWC5tanMnO1xuZXhwb3J0IHsgQmxvYlJlc291cmNlIH0gZnJvbSAnLi9yZXNvdXJjZXMvQmxvYlJlc291cmNlLm1qcyc7XG5leHBvcnQgeyBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlIH0gZnJvbSAnLi9yZXNvdXJjZXMvQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZS5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wcmVzc2VkVGV4dHVyZUV4dGVuc2lvbnMubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgc2V0dGluZ3MsIGV4dGVuc2lvbnMgYXMgZXh0ZW5zaW9ucyQxIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmxldCBzdG9yZWRHbDtcbmxldCBleHRlbnNpb25zO1xuZnVuY3Rpb24gZ2V0Q29tcHJlc3NlZFRleHR1cmVFeHRlbnNpb25zKCkge1xuICBleHRlbnNpb25zID0ge1xuICAgIHMzdGM6IHN0b3JlZEdsLmdldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXCIpLFxuICAgIHMzdGNfc1JHQjogc3RvcmVkR2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYlwiKSxcbiAgICBldGM6IHN0b3JlZEdsLmdldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGNcIiksXG4gICAgZXRjMTogc3RvcmVkR2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzFcIiksXG4gICAgcHZydGM6IHN0b3JlZEdsLmdldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0Y1wiKSB8fCBzdG9yZWRHbC5nZXRFeHRlbnNpb24oXCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXCIpLFxuICAgIGF0Yzogc3RvcmVkR2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2F0Y1wiKSxcbiAgICBhc3RjOiBzdG9yZWRHbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0Y1wiKVxuICB9O1xufVxuY29uc3QgZGV0ZWN0Q29tcHJlc3NlZFRleHR1cmVzID0ge1xuICBleHRlbnNpb246IHtcbiAgICB0eXBlOiBFeHRlbnNpb25UeXBlLkRldGVjdGlvblBhcnNlcixcbiAgICBwcmlvcml0eTogMlxuICB9LFxuICB0ZXN0OiBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gc2V0dGluZ3MuQURBUFRFUi5jcmVhdGVDYW52YXMoKTtcbiAgICBjb25zdCBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIik7XG4gICAgaWYgKCFnbCkge1xuICAgICAgY29uc29sZS53YXJuKFwiV2ViR0wgbm90IGF2YWlsYWJsZSBmb3IgY29tcHJlc3NlZCB0ZXh0dXJlcy5cIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHN0b3JlZEdsID0gZ2w7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIGFkZDogYXN5bmMgKGZvcm1hdHMpID0+IHtcbiAgICBpZiAoIWV4dGVuc2lvbnMpXG4gICAgICBnZXRDb21wcmVzc2VkVGV4dHVyZUV4dGVuc2lvbnMoKTtcbiAgICBjb25zdCB0ZXh0dXJlRm9ybWF0cyA9IFtdO1xuICAgIGZvciAoY29uc3QgZXh0ZW5zaW9uTmFtZSBpbiBleHRlbnNpb25zKSB7XG4gICAgICBjb25zdCBleHRlbnNpb24gPSBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdO1xuICAgICAgaWYgKCFleHRlbnNpb24pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0ZXh0dXJlRm9ybWF0cy5wdXNoKGV4dGVuc2lvbk5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gWy4uLnRleHR1cmVGb3JtYXRzLCAuLi5mb3JtYXRzXTtcbiAgfSxcbiAgcmVtb3ZlOiBhc3luYyAoZm9ybWF0cykgPT4ge1xuICAgIGlmICghZXh0ZW5zaW9ucylcbiAgICAgIGdldENvbXByZXNzZWRUZXh0dXJlRXh0ZW5zaW9ucygpO1xuICAgIHJldHVybiBmb3JtYXRzLmZpbHRlcigoZikgPT4gIShmIGluIGV4dGVuc2lvbnMpKTtcbiAgfVxufTtcbmV4dGVuc2lvbnMkMS5hZGQoZGV0ZWN0Q29tcHJlc3NlZFRleHR1cmVzKTtcblxuZXhwb3J0IHsgZGV0ZWN0Q29tcHJlc3NlZFRleHR1cmVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXRlY3RDb21wcmVzc2VkVGV4dHVyZXMubWpzLm1hcFxuIiwiaW1wb3J0ICcuL2NvbXByZXNzZWRUZXh0dXJlRXh0ZW5zaW9ucy5tanMnO1xuZXhwb3J0IHsgZGV0ZWN0Q29tcHJlc3NlZFRleHR1cmVzIH0gZnJvbSAnLi9kZXRlY3RDb21wcmVzc2VkVGV4dHVyZXMubWpzJztcbmV4cG9ydCB7IGxvYWRERFMgfSBmcm9tICcuL2xvYWRERFMubWpzJztcbmV4cG9ydCB7IGxvYWRLVFggfSBmcm9tICcuL2xvYWRLVFgubWpzJztcbmV4cG9ydCB7IHJlc29sdmVDb21wcmVzc2VkVGV4dHVyZVVybCB9IGZyb20gJy4vcmVzb2x2ZUNvbXByZXNzZWRUZXh0dXJlVXJsLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBMb2FkZXJQYXJzZXJQcmlvcml0eSwgY2hlY2tFeHRlbnNpb24sIGNyZWF0ZVRleHR1cmUgfSBmcm9tICdAcGl4aS9hc3NldHMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgc2V0dGluZ3MsIEJhc2VUZXh0dXJlLCBNSVBNQVBfTU9ERVMsIEFMUEhBX01PREVTLCB1dGlscywgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0ICcuLi9wYXJzZXJzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBwYXJzZUREUyB9IGZyb20gJy4uL3BhcnNlcnMvcGFyc2VERFMubWpzJztcblxuY29uc3QgbG9hZEREUyA9IHtcbiAgZXh0ZW5zaW9uOiB7XG4gICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5Mb2FkUGFyc2VyLFxuICAgIHByaW9yaXR5OiBMb2FkZXJQYXJzZXJQcmlvcml0eS5IaWdoXG4gIH0sXG4gIG5hbWU6IFwibG9hZEREU1wiLFxuICB0ZXN0KHVybCkge1xuICAgIHJldHVybiBjaGVja0V4dGVuc2lvbih1cmwsIFwiLmRkc1wiKTtcbiAgfSxcbiAgYXN5bmMgbG9hZCh1cmwsIGFzc2V0LCBsb2FkZXIpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNldHRpbmdzLkFEQVBURVIuZmV0Y2godXJsKTtcbiAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG4gICAgY29uc3QgcmVzb3VyY2VzID0gcGFyc2VERFMoYXJyYXlCdWZmZXIpO1xuICAgIGNvbnN0IHRleHR1cmVzID0gcmVzb3VyY2VzLm1hcCgocmVzb3VyY2UpID0+IHtcbiAgICAgIGNvbnN0IGJhc2UgPSBuZXcgQmFzZVRleHR1cmUocmVzb3VyY2UsIHtcbiAgICAgICAgbWlwbWFwOiBNSVBNQVBfTU9ERVMuT0ZGLFxuICAgICAgICBhbHBoYU1vZGU6IEFMUEhBX01PREVTLk5PX1BSRU1VTFRJUExJRURfQUxQSEEsXG4gICAgICAgIHJlc29sdXRpb246IHV0aWxzLmdldFJlc29sdXRpb25PZlVybCh1cmwpLFxuICAgICAgICAuLi5hc3NldC5kYXRhXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjcmVhdGVUZXh0dXJlKGJhc2UsIGxvYWRlciwgdXJsKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGV4dHVyZXMubGVuZ3RoID09PSAxID8gdGV4dHVyZXNbMF0gOiB0ZXh0dXJlcztcbiAgfSxcbiAgdW5sb2FkKHRleHR1cmUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0dXJlKSkge1xuICAgICAgdGV4dHVyZS5mb3JFYWNoKCh0KSA9PiB0LmRlc3Ryb3kodHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuICB9XG59O1xuZXh0ZW5zaW9ucy5hZGQobG9hZEREUyk7XG5cbmV4cG9ydCB7IGxvYWRERFMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRERFMubWpzLm1hcFxuIiwiaW1wb3J0IHsgTG9hZGVyUGFyc2VyUHJpb3JpdHksIGNoZWNrRXh0ZW5zaW9uLCBjcmVhdGVUZXh0dXJlIH0gZnJvbSAnQHBpeGkvYXNzZXRzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUsIHNldHRpbmdzLCBNSVBNQVBfTU9ERVMsIEFMUEhBX01PREVTLCB1dGlscywgQmFzZVRleHR1cmUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCAnLi4vcGFyc2Vycy9pbmRleC5tanMnO1xuaW1wb3J0IHsgcGFyc2VLVFggfSBmcm9tICcuLi9wYXJzZXJzL3BhcnNlS1RYLm1qcyc7XG5cbmNvbnN0IGxvYWRLVFggPSB7XG4gIGV4dGVuc2lvbjoge1xuICAgIHR5cGU6IEV4dGVuc2lvblR5cGUuTG9hZFBhcnNlcixcbiAgICBwcmlvcml0eTogTG9hZGVyUGFyc2VyUHJpb3JpdHkuSGlnaFxuICB9LFxuICBuYW1lOiBcImxvYWRLVFhcIixcbiAgdGVzdCh1cmwpIHtcbiAgICByZXR1cm4gY2hlY2tFeHRlbnNpb24odXJsLCBcIi5rdHhcIik7XG4gIH0sXG4gIGFzeW5jIGxvYWQodXJsLCBhc3NldCwgbG9hZGVyKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZXR0aW5ncy5BREFQVEVSLmZldGNoKHVybCk7XG4gICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICAgIGNvbnN0IHsgY29tcHJlc3NlZCwgdW5jb21wcmVzc2VkLCBrdkRhdGEgfSA9IHBhcnNlS1RYKHVybCwgYXJyYXlCdWZmZXIpO1xuICAgIGNvbnN0IHJlc291cmNlcyA9IGNvbXByZXNzZWQgPz8gdW5jb21wcmVzc2VkO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBtaXBtYXA6IE1JUE1BUF9NT0RFUy5PRkYsXG4gICAgICBhbHBoYU1vZGU6IEFMUEhBX01PREVTLk5PX1BSRU1VTFRJUExJRURfQUxQSEEsXG4gICAgICByZXNvbHV0aW9uOiB1dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwodXJsKSxcbiAgICAgIC4uLmFzc2V0LmRhdGFcbiAgICB9O1xuICAgIGNvbnN0IHRleHR1cmVzID0gcmVzb3VyY2VzLm1hcCgocmVzb3VyY2UpID0+IHtcbiAgICAgIGlmIChyZXNvdXJjZXMgPT09IHVuY29tcHJlc3NlZCkge1xuICAgICAgICBPYmplY3QuYXNzaWduKG9wdGlvbnMsIHtcbiAgICAgICAgICB0eXBlOiByZXNvdXJjZS50eXBlLFxuICAgICAgICAgIGZvcm1hdDogcmVzb3VyY2UuZm9ybWF0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgYmFzZSA9IG5ldyBCYXNlVGV4dHVyZShyZXNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICBiYXNlLmt0eEtleVZhbHVlRGF0YSA9IGt2RGF0YTtcbiAgICAgIHJldHVybiBjcmVhdGVUZXh0dXJlKGJhc2UsIGxvYWRlciwgdXJsKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGV4dHVyZXMubGVuZ3RoID09PSAxID8gdGV4dHVyZXNbMF0gOiB0ZXh0dXJlcztcbiAgfSxcbiAgdW5sb2FkKHRleHR1cmUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0dXJlKSkge1xuICAgICAgdGV4dHVyZS5mb3JFYWNoKCh0KSA9PiB0LmRlc3Ryb3kodHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuICB9XG59O1xuZXh0ZW5zaW9ucy5hZGQobG9hZEtUWCk7XG5cbmV4cG9ydCB7IGxvYWRLVFggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRLVFgubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgc2V0dGluZ3MsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuY29uc3QgcmVzb2x2ZUNvbXByZXNzZWRUZXh0dXJlVXJsID0ge1xuICBleHRlbnNpb246IEV4dGVuc2lvblR5cGUuUmVzb2x2ZVBhcnNlcixcbiAgdGVzdDogKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgdGVtcCA9IHZhbHVlLnNwbGl0KFwiP1wiKVswXTtcbiAgICBjb25zdCBleHRlbnNpb24gPSB0ZW1wLnNwbGl0KFwiLlwiKS5wb3AoKTtcbiAgICByZXR1cm4gW1wiYmFzaXNcIiwgXCJrdHhcIiwgXCJkZHNcIl0uaW5jbHVkZXMoZXh0ZW5zaW9uKTtcbiAgfSxcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHRlbXAgPSB2YWx1ZS5zcGxpdChcIj9cIilbMF07XG4gICAgY29uc3QgZXh0ZW5zaW9uID0gdGVtcC5zcGxpdChcIi5cIikucG9wKCk7XG4gICAgaWYgKGV4dGVuc2lvbiA9PT0gXCJrdHhcIikge1xuICAgICAgY29uc3QgZXh0ZW5zaW9uczIgPSBbXG4gICAgICAgIFwiLnMzdGMua3R4XCIsXG4gICAgICAgIFwiLnMzdGNfc1JHQi5rdHhcIixcbiAgICAgICAgXCIuZXRjLmt0eFwiLFxuICAgICAgICBcIi5ldGMxLmt0eFwiLFxuICAgICAgICBcIi5wdnJ0Lmt0eFwiLFxuICAgICAgICBcIi5hdGMua3R4XCIsXG4gICAgICAgIFwiLmFzdGMua3R4XCJcbiAgICAgIF07XG4gICAgICBpZiAoZXh0ZW5zaW9uczIuc29tZSgoZXh0KSA9PiB2YWx1ZS5lbmRzV2l0aChleHQpKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc29sdXRpb246IHBhcnNlRmxvYXQoc2V0dGluZ3MuUkVUSU5BX1BSRUZJWC5leGVjKHZhbHVlKT8uWzFdID8/IFwiMVwiKSxcbiAgICAgICAgICBmb3JtYXQ6IGV4dGVuc2lvbnMyLmZpbmQoKGV4dCkgPT4gdmFsdWUuZW5kc1dpdGgoZXh0KSksXG4gICAgICAgICAgc3JjOiB2YWx1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgcmVzb2x1dGlvbjogcGFyc2VGbG9hdChzZXR0aW5ncy5SRVRJTkFfUFJFRklYLmV4ZWModmFsdWUpPy5bMV0gPz8gXCIxXCIpLFxuICAgICAgZm9ybWF0OiB2YWx1ZS5zcGxpdChcIi5cIikucG9wKCksXG4gICAgICBzcmM6IHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbmV4dGVuc2lvbnMuYWRkKHJlc29sdmVDb21wcmVzc2VkVGV4dHVyZVVybCk7XG5cbmV4cG9ydCB7IHJlc29sdmVDb21wcmVzc2VkVGV4dHVyZVVybCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x2ZUNvbXByZXNzZWRUZXh0dXJlVXJsLm1qcy5tYXBcbiIsImV4cG9ydCB7IHBhcnNlRERTIH0gZnJvbSAnLi9wYXJzZUREUy5tanMnO1xuZXhwb3J0IHsgRk9STUFUU19UT19DT01QT05FTlRTLCBUWVBFU19UT19CWVRFU19QRVJfQ09NUE9ORU5ULCBUWVBFU19UT19CWVRFU19QRVJfUElYRUwsIHBhcnNlS1RYIH0gZnJvbSAnLi9wYXJzZUtUWC5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgSU5URVJOQUxfRk9STUFUUywgSU5URVJOQUxfRk9STUFUX1RPX0JZVEVTX1BFUl9QSVhFTCB9IGZyb20gJy4uL2NvbnN0Lm1qcyc7XG5pbXBvcnQgJy4uL3Jlc291cmNlcy9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSB9IGZyb20gJy4uL3Jlc291cmNlcy9Db21wcmVzc2VkVGV4dHVyZVJlc291cmNlLm1qcyc7XG5cbmNvbnN0IEREU19NQUdJQ19TSVpFID0gNDtcbmNvbnN0IEREU19IRUFERVJfU0laRSA9IDEyNDtcbmNvbnN0IEREU19IRUFERVJfUEZfU0laRSA9IDMyO1xuY29uc3QgRERTX0hFQURFUl9EWDEwX1NJWkUgPSAyMDtcbmNvbnN0IEREU19NQUdJQyA9IDU0MjMyNzg3NjtcbmNvbnN0IEREU19GSUVMRFMgPSB7XG4gIFNJWkU6IDEsXG4gIEZMQUdTOiAyLFxuICBIRUlHSFQ6IDMsXG4gIFdJRFRIOiA0LFxuICBNSVBNQVBfQ09VTlQ6IDcsXG4gIFBJWEVMX0ZPUk1BVDogMTlcbn07XG5jb25zdCBERFNfUEZfRklFTERTID0ge1xuICBTSVpFOiAwLFxuICBGTEFHUzogMSxcbiAgRk9VUkNDOiAyLFxuICBSR0JfQklUQ09VTlQ6IDMsXG4gIFJfQklUX01BU0s6IDQsXG4gIEdfQklUX01BU0s6IDUsXG4gIEJfQklUX01BU0s6IDYsXG4gIEFfQklUX01BU0s6IDdcbn07XG5jb25zdCBERFNfRFgxMF9GSUVMRFMgPSB7XG4gIERYR0lfRk9STUFUOiAwLFxuICBSRVNPVVJDRV9ESU1FTlNJT046IDEsXG4gIE1JU0NfRkxBRzogMixcbiAgQVJSQVlfU0laRTogMyxcbiAgTUlTQ19GTEFHUzI6IDRcbn07XG52YXIgRFhHSV9GT1JNQVQgPSAvKiBAX19QVVJFX18gKi8gKChEWEdJX0ZPUk1BVDIpID0+IHtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1VOS05PV05cIl0gPSAwXSA9IFwiRFhHSV9GT1JNQVRfVU5LTk9XTlwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX1RZUEVMRVNTXCJdID0gMV0gPSBcIkRYR0lfRk9STUFUX1IzMkczMkIzMkEzMl9UWVBFTEVTU1wiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX0ZMT0FUXCJdID0gMl0gPSBcIkRYR0lfRk9STUFUX1IzMkczMkIzMkEzMl9GTE9BVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX1VJTlRcIl0gPSAzXSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX1VJTlRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IzMkczMkIzMkEzMl9TSU5UXCJdID0gNF0gPSBcIkRYR0lfRk9STUFUX1IzMkczMkIzMkEzMl9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfVFlQRUxFU1NcIl0gPSA1XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyX1RZUEVMRVNTXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfRkxPQVRcIl0gPSA2XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyX0ZMT0FUXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfVUlOVFwiXSA9IDddID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyRzMyQjMyX1NJTlRcIl0gPSA4XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyX1NJTlRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9UWVBFTEVTU1wiXSA9IDldID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZCMTZBMTZfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9GTE9BVFwiXSA9IDEwXSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X0ZMT0FUXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZHMTZCMTZBMTZfVU5PUk1cIl0gPSAxMV0gPSBcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1VJTlRcIl0gPSAxMl0gPSBcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9VSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZHMTZCMTZBMTZfU05PUk1cIl0gPSAxM10gPSBcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9TTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1NJTlRcIl0gPSAxNF0gPSBcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMzJHMzJfVFlQRUxFU1NcIl0gPSAxNV0gPSBcIkRYR0lfRk9STUFUX1IzMkczMl9UWVBFTEVTU1wiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyRzMyX0ZMT0FUXCJdID0gMTZdID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJfRkxPQVRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IzMkczMl9VSU5UXCJdID0gMTddID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyRzMyX1NJTlRcIl0gPSAxOF0gPSBcIkRYR0lfRk9STUFUX1IzMkczMl9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMzJHOFgyNF9UWVBFTEVTU1wiXSA9IDE5XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzhYMjRfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0QzMl9GTE9BVF9TOFgyNF9VSU5UXCJdID0gMjBdID0gXCJEWEdJX0ZPUk1BVF9EMzJfRkxPQVRfUzhYMjRfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyX0ZMT0FUX1g4WDI0X1RZUEVMRVNTXCJdID0gMjFdID0gXCJEWEdJX0ZPUk1BVF9SMzJfRkxPQVRfWDhYMjRfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1gzMl9UWVBFTEVTU19HOFgyNF9VSU5UXCJdID0gMjJdID0gXCJEWEdJX0ZPUk1BVF9YMzJfVFlQRUxFU1NfRzhYMjRfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjEwRzEwQjEwQTJfVFlQRUxFU1NcIl0gPSAyM10gPSBcIkRYR0lfRk9STUFUX1IxMEcxMEIxMEEyX1RZUEVMRVNTXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTBHMTBCMTBBMl9VTk9STVwiXSA9IDI0XSA9IFwiRFhHSV9GT1JNQVRfUjEwRzEwQjEwQTJfVU5PUk1cIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxMEcxMEIxMEEyX1VJTlRcIl0gPSAyNV0gPSBcIkRYR0lfRk9STUFUX1IxMEcxMEIxMEEyX1VJTlRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxMUcxMUIxMF9GTE9BVFwiXSA9IDI2XSA9IFwiRFhHSV9GT1JNQVRfUjExRzExQjEwX0ZMT0FUXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9UWVBFTEVTU1wiXSA9IDI3XSA9IFwiRFhHSV9GT1JNQVRfUjhHOEI4QThfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1I4RzhCOEE4X1VOT1JNXCJdID0gMjhdID0gXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhHOEI4QThfVU5PUk1fU1JHQlwiXSA9IDI5XSA9IFwiRFhHSV9GT1JNQVRfUjhHOEI4QThfVU5PUk1fU1JHQlwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhHOEI4QThfVUlOVFwiXSA9IDMwXSA9IFwiRFhHSV9GT1JNQVRfUjhHOEI4QThfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhHOEI4QThfU05PUk1cIl0gPSAzMV0gPSBcIkRYR0lfRk9STUFUX1I4RzhCOEE4X1NOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9TSU5UXCJdID0gMzJdID0gXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZHMTZfVFlQRUxFU1NcIl0gPSAzM10gPSBcIkRYR0lfRk9STUFUX1IxNkcxNl9UWVBFTEVTU1wiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjE2RzE2X0ZMT0FUXCJdID0gMzRdID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZfRkxPQVRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxNkcxNl9VTk9STVwiXSA9IDM1XSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2X1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZHMTZfVUlOVFwiXSA9IDM2XSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2X1VJTlRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxNkcxNl9TTk9STVwiXSA9IDM3XSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2X1NOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZHMTZfU0lOVFwiXSA9IDM4XSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2X1NJTlRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IzMl9UWVBFTEVTU1wiXSA9IDM5XSA9IFwiRFhHSV9GT1JNQVRfUjMyX1RZUEVMRVNTXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9EMzJfRkxPQVRcIl0gPSA0MF0gPSBcIkRYR0lfRk9STUFUX0QzMl9GTE9BVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyX0ZMT0FUXCJdID0gNDFdID0gXCJEWEdJX0ZPUk1BVF9SMzJfRkxPQVRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IzMl9VSU5UXCJdID0gNDJdID0gXCJEWEdJX0ZPUk1BVF9SMzJfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyX1NJTlRcIl0gPSA0M10gPSBcIkRYR0lfRk9STUFUX1IzMl9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMjRHOF9UWVBFTEVTU1wiXSA9IDQ0XSA9IFwiRFhHSV9GT1JNQVRfUjI0RzhfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0QyNF9VTk9STV9TOF9VSU5UXCJdID0gNDVdID0gXCJEWEdJX0ZPUk1BVF9EMjRfVU5PUk1fUzhfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjI0X1VOT1JNX1g4X1RZUEVMRVNTXCJdID0gNDZdID0gXCJEWEdJX0ZPUk1BVF9SMjRfVU5PUk1fWDhfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1gyNF9UWVBFTEVTU19HOF9VSU5UXCJdID0gNDddID0gXCJEWEdJX0ZPUk1BVF9YMjRfVFlQRUxFU1NfRzhfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhHOF9UWVBFTEVTU1wiXSA9IDQ4XSA9IFwiRFhHSV9GT1JNQVRfUjhHOF9UWVBFTEVTU1wiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhHOF9VTk9STVwiXSA9IDQ5XSA9IFwiRFhHSV9GT1JNQVRfUjhHOF9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhHOF9VSU5UXCJdID0gNTBdID0gXCJEWEdJX0ZPUk1BVF9SOEc4X1VJTlRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1I4RzhfU05PUk1cIl0gPSA1MV0gPSBcIkRYR0lfRk9STUFUX1I4RzhfU05PUk1cIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1I4RzhfU0lOVFwiXSA9IDUyXSA9IFwiRFhHSV9GT1JNQVRfUjhHOF9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZfVFlQRUxFU1NcIl0gPSA1M10gPSBcIkRYR0lfRk9STUFUX1IxNl9UWVBFTEVTU1wiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjE2X0ZMT0FUXCJdID0gNTRdID0gXCJEWEdJX0ZPUk1BVF9SMTZfRkxPQVRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0QxNl9VTk9STVwiXSA9IDU1XSA9IFwiRFhHSV9GT1JNQVRfRDE2X1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZfVU5PUk1cIl0gPSA1Nl0gPSBcIkRYR0lfRk9STUFUX1IxNl9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjE2X1VJTlRcIl0gPSA1N10gPSBcIkRYR0lfRk9STUFUX1IxNl9VSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZfU05PUk1cIl0gPSA1OF0gPSBcIkRYR0lfRk9STUFUX1IxNl9TTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjE2X1NJTlRcIl0gPSA1OV0gPSBcIkRYR0lfRk9STUFUX1IxNl9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SOF9UWVBFTEVTU1wiXSA9IDYwXSA9IFwiRFhHSV9GT1JNQVRfUjhfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1I4X1VOT1JNXCJdID0gNjFdID0gXCJEWEdJX0ZPUk1BVF9SOF9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhfVUlOVFwiXSA9IDYyXSA9IFwiRFhHSV9GT1JNQVRfUjhfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhfU05PUk1cIl0gPSA2M10gPSBcIkRYR0lfRk9STUFUX1I4X1NOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SOF9TSU5UXCJdID0gNjRdID0gXCJEWEdJX0ZPUk1BVF9SOF9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9BOF9VTk9STVwiXSA9IDY1XSA9IFwiRFhHSV9GT1JNQVRfQThfVU5PUk1cIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxX1VOT1JNXCJdID0gNjZdID0gXCJEWEdJX0ZPUk1BVF9SMV9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjlHOUI5RTVfU0hBUkVERVhQXCJdID0gNjddID0gXCJEWEdJX0ZPUk1BVF9SOUc5QjlFNV9TSEFSRURFWFBcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1I4RzhfQjhHOF9VTk9STVwiXSA9IDY4XSA9IFwiRFhHSV9GT1JNQVRfUjhHOF9COEc4X1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9HOFI4X0c4QjhfVU5PUk1cIl0gPSA2OV0gPSBcIkRYR0lfRk9STUFUX0c4UjhfRzhCOF9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQkMxX1RZUEVMRVNTXCJdID0gNzBdID0gXCJEWEdJX0ZPUk1BVF9CQzFfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDMV9VTk9STVwiXSA9IDcxXSA9IFwiRFhHSV9GT1JNQVRfQkMxX1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9CQzFfVU5PUk1fU1JHQlwiXSA9IDcyXSA9IFwiRFhHSV9GT1JNQVRfQkMxX1VOT1JNX1NSR0JcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDMl9UWVBFTEVTU1wiXSA9IDczXSA9IFwiRFhHSV9GT1JNQVRfQkMyX1RZUEVMRVNTXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9CQzJfVU5PUk1cIl0gPSA3NF0gPSBcIkRYR0lfRk9STUFUX0JDMl9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQkMyX1VOT1JNX1NSR0JcIl0gPSA3NV0gPSBcIkRYR0lfRk9STUFUX0JDMl9VTk9STV9TUkdCXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9CQzNfVFlQRUxFU1NcIl0gPSA3Nl0gPSBcIkRYR0lfRk9STUFUX0JDM19UWVBFTEVTU1wiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQkMzX1VOT1JNXCJdID0gNzddID0gXCJEWEdJX0ZPUk1BVF9CQzNfVU5PUk1cIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDM19VTk9STV9TUkdCXCJdID0gNzhdID0gXCJEWEdJX0ZPUk1BVF9CQzNfVU5PUk1fU1JHQlwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQkM0X1RZUEVMRVNTXCJdID0gNzldID0gXCJEWEdJX0ZPUk1BVF9CQzRfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDNF9VTk9STVwiXSA9IDgwXSA9IFwiRFhHSV9GT1JNQVRfQkM0X1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9CQzRfU05PUk1cIl0gPSA4MV0gPSBcIkRYR0lfRk9STUFUX0JDNF9TTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQkM1X1RZUEVMRVNTXCJdID0gODJdID0gXCJEWEdJX0ZPUk1BVF9CQzVfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDNV9VTk9STVwiXSA9IDgzXSA9IFwiRFhHSV9GT1JNQVRfQkM1X1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9CQzVfU05PUk1cIl0gPSA4NF0gPSBcIkRYR0lfRk9STUFUX0JDNV9TTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQjVHNlI1X1VOT1JNXCJdID0gODVdID0gXCJEWEdJX0ZPUk1BVF9CNUc2UjVfVU5PUk1cIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0I1RzVSNUExX1VOT1JNXCJdID0gODZdID0gXCJEWEdJX0ZPUk1BVF9CNUc1UjVBMV9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQjhHOFI4QThfVU5PUk1cIl0gPSA4N10gPSBcIkRYR0lfRk9STUFUX0I4RzhSOEE4X1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9COEc4UjhYOF9VTk9STVwiXSA9IDg4XSA9IFwiRFhHSV9GT1JNQVRfQjhHOFI4WDhfVU5PUk1cIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxMEcxMEIxMF9YUl9CSUFTX0EyX1VOT1JNXCJdID0gODldID0gXCJEWEdJX0ZPUk1BVF9SMTBHMTBCMTBfWFJfQklBU19BMl9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQjhHOFI4QThfVFlQRUxFU1NcIl0gPSA5MF0gPSBcIkRYR0lfRk9STUFUX0I4RzhSOEE4X1RZUEVMRVNTXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9COEc4UjhBOF9VTk9STV9TUkdCXCJdID0gOTFdID0gXCJEWEdJX0ZPUk1BVF9COEc4UjhBOF9VTk9STV9TUkdCXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9COEc4UjhYOF9UWVBFTEVTU1wiXSA9IDkyXSA9IFwiRFhHSV9GT1JNQVRfQjhHOFI4WDhfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0I4RzhSOFg4X1VOT1JNX1NSR0JcIl0gPSA5M10gPSBcIkRYR0lfRk9STUFUX0I4RzhSOFg4X1VOT1JNX1NSR0JcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDNkhfVFlQRUxFU1NcIl0gPSA5NF0gPSBcIkRYR0lfRk9STUFUX0JDNkhfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDNkhfVUYxNlwiXSA9IDk1XSA9IFwiRFhHSV9GT1JNQVRfQkM2SF9VRjE2XCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9CQzZIX1NGMTZcIl0gPSA5Nl0gPSBcIkRYR0lfRk9STUFUX0JDNkhfU0YxNlwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQkM3X1RZUEVMRVNTXCJdID0gOTddID0gXCJEWEdJX0ZPUk1BVF9CQzdfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDN19VTk9STVwiXSA9IDk4XSA9IFwiRFhHSV9GT1JNQVRfQkM3X1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9CQzdfVU5PUk1fU1JHQlwiXSA9IDk5XSA9IFwiRFhHSV9GT1JNQVRfQkM3X1VOT1JNX1NSR0JcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0FZVVZcIl0gPSAxMDBdID0gXCJEWEdJX0ZPUk1BVF9BWVVWXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9ZNDEwXCJdID0gMTAxXSA9IFwiRFhHSV9GT1JNQVRfWTQxMFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfWTQxNlwiXSA9IDEwMl0gPSBcIkRYR0lfRk9STUFUX1k0MTZcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX05WMTJcIl0gPSAxMDNdID0gXCJEWEdJX0ZPUk1BVF9OVjEyXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9QMDEwXCJdID0gMTA0XSA9IFwiRFhHSV9GT1JNQVRfUDAxMFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUDAxNlwiXSA9IDEwNV0gPSBcIkRYR0lfRk9STUFUX1AwMTZcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUXzQyMF9PUEFRVUVcIl0gPSAxMDZdID0gXCJEWEdJX0ZPUk1BVF80MjBfT1BBUVVFXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9ZVVkyXCJdID0gMTA3XSA9IFwiRFhHSV9GT1JNQVRfWVVZMlwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfWTIxMFwiXSA9IDEwOF0gPSBcIkRYR0lfRk9STUFUX1kyMTBcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1kyMTZcIl0gPSAxMDldID0gXCJEWEdJX0ZPUk1BVF9ZMjE2XCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9OVjExXCJdID0gMTEwXSA9IFwiRFhHSV9GT1JNQVRfTlYxMVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQUk0NFwiXSA9IDExMV0gPSBcIkRYR0lfRk9STUFUX0FJNDRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0lBNDRcIl0gPSAxMTJdID0gXCJEWEdJX0ZPUk1BVF9JQTQ0XCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9QOFwiXSA9IDExM10gPSBcIkRYR0lfRk9STUFUX1A4XCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9BOFA4XCJdID0gMTE0XSA9IFwiRFhHSV9GT1JNQVRfQThQOFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQjRHNFI0QTRfVU5PUk1cIl0gPSAxMTVdID0gXCJEWEdJX0ZPUk1BVF9CNEc0UjRBNF9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUDIwOFwiXSA9IDExNl0gPSBcIkRYR0lfRk9STUFUX1AyMDhcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1YyMDhcIl0gPSAxMTddID0gXCJEWEdJX0ZPUk1BVF9WMjA4XCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9WNDA4XCJdID0gMTE4XSA9IFwiRFhHSV9GT1JNQVRfVjQwOFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfU0FNUExFUl9GRUVEQkFDS19NSU5fTUlQX09QQVFVRVwiXSA9IDExOV0gPSBcIkRYR0lfRk9STUFUX1NBTVBMRVJfRkVFREJBQ0tfTUlOX01JUF9PUEFRVUVcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1NBTVBMRVJfRkVFREJBQ0tfTUlQX1JFR0lPTl9VU0VEX09QQVFVRVwiXSA9IDEyMF0gPSBcIkRYR0lfRk9STUFUX1NBTVBMRVJfRkVFREJBQ0tfTUlQX1JFR0lPTl9VU0VEX09QQVFVRVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfRk9SQ0VfVUlOVFwiXSA9IDEyMV0gPSBcIkRYR0lfRk9STUFUX0ZPUkNFX1VJTlRcIjtcbiAgcmV0dXJuIERYR0lfRk9STUFUMjtcbn0pKERYR0lfRk9STUFUIHx8IHt9KTtcbnZhciBEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT04gPSAvKiBAX19QVVJFX18gKi8gKChEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT04yKSA9PiB7XG4gIEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTjJbRDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OMltcIkREU19ESU1FTlNJT05fVEVYVFVSRTFEXCJdID0gMl0gPSBcIkREU19ESU1FTlNJT05fVEVYVFVSRTFEXCI7XG4gIEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTjJbRDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OMltcIkREU19ESU1FTlNJT05fVEVYVFVSRTJEXCJdID0gM10gPSBcIkREU19ESU1FTlNJT05fVEVYVFVSRTJEXCI7XG4gIEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTjJbRDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OMltcIkREU19ESU1FTlNJT05fVEVYVFVSRTNEXCJdID0gNl0gPSBcIkREU19ESU1FTlNJT05fVEVYVFVSRTNEXCI7XG4gIHJldHVybiBEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT04yO1xufSkoRDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OIHx8IHt9KTtcbmNvbnN0IFBGX0ZMQUdTID0gMTtcbmNvbnN0IEREUEZfQUxQSEEgPSAyO1xuY29uc3QgRERQRl9GT1VSQ0MgPSA0O1xuY29uc3QgRERQRl9SR0IgPSA2NDtcbmNvbnN0IEREUEZfWVVWID0gNTEyO1xuY29uc3QgRERQRl9MVU1JTkFOQ0UgPSAxMzEwNzI7XG5jb25zdCBGT1VSQ0NfRFhUMSA9IDgyNzYxMTIwNDtcbmNvbnN0IEZPVVJDQ19EWFQzID0gODYxMTY1NjM2O1xuY29uc3QgRk9VUkNDX0RYVDUgPSA4OTQ3MjAwNjg7XG5jb25zdCBGT1VSQ0NfRFgxMCA9IDgwODU0MDIyODtcbmNvbnN0IEREU19SRVNPVVJDRV9NSVNDX1RFWFRVUkVDVUJFID0gNDtcbmNvbnN0IEZPVVJDQ19UT19GT1JNQVQgPSB7XG4gIFtGT1VSQ0NfRFhUMV06IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFQsXG4gIFtGT1VSQ0NfRFhUM106IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQsXG4gIFtGT1VSQ0NfRFhUNV06IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFRcbn07XG5jb25zdCBEWEdJX1RPX0ZPUk1BVCA9IHtcbiAgWzcwIC8qIERYR0lfRk9STUFUX0JDMV9UWVBFTEVTUyAqL106IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFQsXG4gIFs3MSAvKiBEWEdJX0ZPUk1BVF9CQzFfVU5PUk0gKi9dOiBJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDFfRVhULFxuICBbNzMgLyogRFhHSV9GT1JNQVRfQkMyX1RZUEVMRVNTICovXTogSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVCxcbiAgWzc0IC8qIERYR0lfRk9STUFUX0JDMl9VTk9STSAqL106IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQsXG4gIFs3NiAvKiBEWEdJX0ZPUk1BVF9CQzNfVFlQRUxFU1MgKi9dOiBJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDVfRVhULFxuICBbNzcgLyogRFhHSV9GT1JNQVRfQkMzX1VOT1JNICovXTogSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVCxcbiAgWzcyIC8qIERYR0lfRk9STUFUX0JDMV9VTk9STV9TUkdCICovXTogSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVCxcbiAgWzc1IC8qIERYR0lfRk9STUFUX0JDMl9VTk9STV9TUkdCICovXTogSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQzX0VYVCxcbiAgWzc4IC8qIERYR0lfRk9STUFUX0JDM19VTk9STV9TUkdCICovXTogSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVFxufTtcbmZ1bmN0aW9uIHBhcnNlRERTKGFycmF5QnVmZmVyKSB7XG4gIGNvbnN0IGRhdGEgPSBuZXcgVWludDMyQXJyYXkoYXJyYXlCdWZmZXIpO1xuICBjb25zdCBtYWdpY1dvcmQgPSBkYXRhWzBdO1xuICBpZiAobWFnaWNXb3JkICE9PSBERFNfTUFHSUMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEREUyBmaWxlIG1hZ2ljIHdvcmRcIik7XG4gIH1cbiAgY29uc3QgaGVhZGVyID0gbmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyLCAwLCBERFNfSEVBREVSX1NJWkUgLyBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gIGNvbnN0IGhlaWdodCA9IGhlYWRlcltERFNfRklFTERTLkhFSUdIVF07XG4gIGNvbnN0IHdpZHRoID0gaGVhZGVyW0REU19GSUVMRFMuV0lEVEhdO1xuICBjb25zdCBtaXBtYXBDb3VudCA9IGhlYWRlcltERFNfRklFTERTLk1JUE1BUF9DT1VOVF07XG4gIGNvbnN0IHBpeGVsRm9ybWF0ID0gbmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyLCBERFNfRklFTERTLlBJWEVMX0ZPUk1BVCAqIFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULCBERFNfSEVBREVSX1BGX1NJWkUgLyBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gIGNvbnN0IGZvcm1hdEZsYWdzID0gcGl4ZWxGb3JtYXRbUEZfRkxBR1NdO1xuICBpZiAoZm9ybWF0RmxhZ3MgJiBERFBGX0ZPVVJDQykge1xuICAgIGNvbnN0IGZvdXJDQyA9IHBpeGVsRm9ybWF0W0REU19QRl9GSUVMRFMuRk9VUkNDXTtcbiAgICBpZiAoZm91ckNDICE9PSBGT1VSQ0NfRFgxMCkge1xuICAgICAgY29uc3QgaW50ZXJuYWxGb3JtYXQyID0gRk9VUkNDX1RPX0ZPUk1BVFtmb3VyQ0NdO1xuICAgICAgY29uc3QgZGF0YU9mZnNldDIgPSBERFNfTUFHSUNfU0laRSArIEREU19IRUFERVJfU0laRTtcbiAgICAgIGNvbnN0IHRleERhdGEgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldDIpO1xuICAgICAgY29uc3QgcmVzb3VyY2UgPSBuZXcgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSh0ZXhEYXRhLCB7XG4gICAgICAgIGZvcm1hdDogaW50ZXJuYWxGb3JtYXQyLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBsZXZlbHM6IG1pcG1hcENvdW50XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBbcmVzb3VyY2VdO1xuICAgIH1cbiAgICBjb25zdCBkeDEwT2Zmc2V0ID0gRERTX01BR0lDX1NJWkUgKyBERFNfSEVBREVSX1NJWkU7XG4gICAgY29uc3QgZHgxMEhlYWRlciA9IG5ldyBVaW50MzJBcnJheShkYXRhLmJ1ZmZlciwgZHgxME9mZnNldCwgRERTX0hFQURFUl9EWDEwX1NJWkUgLyBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gICAgY29uc3QgZHhnaUZvcm1hdCA9IGR4MTBIZWFkZXJbRERTX0RYMTBfRklFTERTLkRYR0lfRk9STUFUXTtcbiAgICBjb25zdCByZXNvdXJjZURpbWVuc2lvbiA9IGR4MTBIZWFkZXJbRERTX0RYMTBfRklFTERTLlJFU09VUkNFX0RJTUVOU0lPTl07XG4gICAgY29uc3QgbWlzY0ZsYWcgPSBkeDEwSGVhZGVyW0REU19EWDEwX0ZJRUxEUy5NSVNDX0ZMQUddO1xuICAgIGNvbnN0IGFycmF5U2l6ZSA9IGR4MTBIZWFkZXJbRERTX0RYMTBfRklFTERTLkFSUkFZX1NJWkVdO1xuICAgIGNvbnN0IGludGVybmFsRm9ybWF0ID0gRFhHSV9UT19GT1JNQVRbZHhnaUZvcm1hdF07XG4gICAgaWYgKGludGVybmFsRm9ybWF0ID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRERTUGFyc2VyIGNhbm5vdCBwYXJzZSB0ZXh0dXJlIGRhdGEgd2l0aCBEWEdJIGZvcm1hdCAke2R4Z2lGb3JtYXR9YCk7XG4gICAgfVxuICAgIGlmIChtaXNjRmxhZyA9PT0gRERTX1JFU09VUkNFX01JU0NfVEVYVFVSRUNVQkUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkREU1BhcnNlciBkb2VzIG5vdCBzdXBwb3J0IGN1YmVtYXAgdGV4dHVyZXNcIik7XG4gICAgfVxuICAgIGlmIChyZXNvdXJjZURpbWVuc2lvbiA9PT0gNiAvKiBERFNfRElNRU5TSU9OX1RFWFRVUkUzRCAqLykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRERTUGFyc2VyIGRvZXMgbm90IHN1cHBvcnRlZCAzRCB0ZXh0dXJlIGRhdGFcIik7XG4gICAgfVxuICAgIGNvbnN0IGltYWdlQnVmZmVycyA9IG5ldyBBcnJheSgpO1xuICAgIGNvbnN0IGRhdGFPZmZzZXQgPSBERFNfTUFHSUNfU0laRSArIEREU19IRUFERVJfU0laRSArIEREU19IRUFERVJfRFgxMF9TSVpFO1xuICAgIGlmIChhcnJheVNpemUgPT09IDEpIHtcbiAgICAgIGltYWdlQnVmZmVycy5wdXNoKG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBpeGVsU2l6ZSA9IElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUxbaW50ZXJuYWxGb3JtYXRdO1xuICAgICAgbGV0IGltYWdlU2l6ZSA9IDA7XG4gICAgICBsZXQgbGV2ZWxXaWR0aCA9IHdpZHRoO1xuICAgICAgbGV0IGxldmVsSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtaXBtYXBDb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGFsaWduZWRMZXZlbFdpZHRoID0gTWF0aC5tYXgoMSwgbGV2ZWxXaWR0aCArIDMgJiB+Myk7XG4gICAgICAgIGNvbnN0IGFsaWduZWRMZXZlbEhlaWdodCA9IE1hdGgubWF4KDEsIGxldmVsSGVpZ2h0ICsgMyAmIH4zKTtcbiAgICAgICAgY29uc3QgbGV2ZWxTaXplID0gYWxpZ25lZExldmVsV2lkdGggKiBhbGlnbmVkTGV2ZWxIZWlnaHQgKiBwaXhlbFNpemU7XG4gICAgICAgIGltYWdlU2l6ZSArPSBsZXZlbFNpemU7XG4gICAgICAgIGxldmVsV2lkdGggPSBsZXZlbFdpZHRoID4+PiAxO1xuICAgICAgICBsZXZlbEhlaWdodCA9IGxldmVsSGVpZ2h0ID4+PiAxO1xuICAgICAgfVxuICAgICAgbGV0IGltYWdlT2Zmc2V0ID0gZGF0YU9mZnNldDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlTaXplOyBpKyspIHtcbiAgICAgICAgaW1hZ2VCdWZmZXJzLnB1c2gobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGltYWdlT2Zmc2V0LCBpbWFnZVNpemUpKTtcbiAgICAgICAgaW1hZ2VPZmZzZXQgKz0gaW1hZ2VTaXplO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW1hZ2VCdWZmZXJzLm1hcCgoYnVmZmVyKSA9PiBuZXcgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZShidWZmZXIsIHtcbiAgICAgIGZvcm1hdDogaW50ZXJuYWxGb3JtYXQsXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIGxldmVsczogbWlwbWFwQ291bnRcbiAgICB9KSk7XG4gIH1cbiAgaWYgKGZvcm1hdEZsYWdzICYgRERQRl9SR0IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJERFNQYXJzZXIgZG9lcyBub3Qgc3VwcG9ydCB1bmNvbXByZXNzZWQgdGV4dHVyZSBkYXRhLlwiKTtcbiAgfVxuICBpZiAoZm9ybWF0RmxhZ3MgJiBERFBGX1lVVikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkREU1BhcnNlciBkb2VzIG5vdCBzdXBwb3J0ZWQgWVVWIHVuY29tcHJlc3NlZCB0ZXh0dXJlIGRhdGEuXCIpO1xuICB9XG4gIGlmIChmb3JtYXRGbGFncyAmIEREUEZfTFVNSU5BTkNFKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRERTUGFyc2VyIGRvZXMgbm90IHN1cHBvcnQgc2luZ2xlLWNoYW5uZWwgKGx1bW5pbmFuY2UpIHRleHR1cmUgZGF0YSFcIik7XG4gIH1cbiAgaWYgKGZvcm1hdEZsYWdzICYgRERQRl9BTFBIQSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkREU1BhcnNlciBkb2VzIG5vdCBzdXBwb3J0IHNpbmdsZS1jaGFubmVsIChhbHBoYSkgdGV4dHVyZSBkYXRhIVwiKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJERFNQYXJzZXIgZmFpbGVkIHRvIGxvYWQgYSB0ZXh0dXJlIGZpbGUgZHVlIHRvIGFuIHVua25vd24gcmVhc29uIVwiKTtcbn1cblxuZXhwb3J0IHsgcGFyc2VERFMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlRERTLm1qcy5tYXBcbiIsImltcG9ydCB7IFRZUEVTLCBGT1JNQVRTLCBCdWZmZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgSU5URVJOQUxfRk9STUFUX1RPX0JZVEVTX1BFUl9QSVhFTCB9IGZyb20gJy4uL2NvbnN0Lm1qcyc7XG5pbXBvcnQgJy4uL3Jlc291cmNlcy9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSB9IGZyb20gJy4uL3Jlc291cmNlcy9Db21wcmVzc2VkVGV4dHVyZVJlc291cmNlLm1qcyc7XG5cbmNvbnN0IEZJTEVfSURFTlRJRklFUiA9IFsxNzEsIDc1LCA4NCwgODgsIDMyLCA0OSwgNDksIDE4NywgMTMsIDEwLCAyNiwgMTBdO1xuY29uc3QgRU5ESUFOTkVTUyA9IDY3MzA1OTg1O1xuY29uc3QgS1RYX0ZJRUxEUyA9IHtcbiAgRklMRV9JREVOVElGSUVSOiAwLFxuICBFTkRJQU5ORVNTOiAxMixcbiAgR0xfVFlQRTogMTYsXG4gIEdMX1RZUEVfU0laRTogMjAsXG4gIEdMX0ZPUk1BVDogMjQsXG4gIEdMX0lOVEVSTkFMX0ZPUk1BVDogMjgsXG4gIEdMX0JBU0VfSU5URVJOQUxfRk9STUFUOiAzMixcbiAgUElYRUxfV0lEVEg6IDM2LFxuICBQSVhFTF9IRUlHSFQ6IDQwLFxuICBQSVhFTF9ERVBUSDogNDQsXG4gIE5VTUJFUl9PRl9BUlJBWV9FTEVNRU5UUzogNDgsXG4gIE5VTUJFUl9PRl9GQUNFUzogNTIsXG4gIE5VTUJFUl9PRl9NSVBNQVBfTEVWRUxTOiA1NixcbiAgQllURVNfT0ZfS0VZX1ZBTFVFX0RBVEE6IDYwXG59O1xuY29uc3QgRklMRV9IRUFERVJfU0laRSA9IDY0O1xuY29uc3QgVFlQRVNfVE9fQllURVNfUEVSX0NPTVBPTkVOVCA9IHtcbiAgW1RZUEVTLlVOU0lHTkVEX0JZVEVdOiAxLFxuICBbVFlQRVMuVU5TSUdORURfU0hPUlRdOiAyLFxuICBbVFlQRVMuSU5UXTogNCxcbiAgW1RZUEVTLlVOU0lHTkVEX0lOVF06IDQsXG4gIFtUWVBFUy5GTE9BVF06IDQsXG4gIFtUWVBFUy5IQUxGX0ZMT0FUXTogOFxufTtcbmNvbnN0IEZPUk1BVFNfVE9fQ09NUE9ORU5UUyA9IHtcbiAgW0ZPUk1BVFMuUkdCQV06IDQsXG4gIFtGT1JNQVRTLlJHQl06IDMsXG4gIFtGT1JNQVRTLlJHXTogMixcbiAgW0ZPUk1BVFMuUkVEXTogMSxcbiAgW0ZPUk1BVFMuTFVNSU5BTkNFXTogMSxcbiAgW0ZPUk1BVFMuTFVNSU5BTkNFX0FMUEhBXTogMixcbiAgW0ZPUk1BVFMuQUxQSEFdOiAxXG59O1xuY29uc3QgVFlQRVNfVE9fQllURVNfUEVSX1BJWEVMID0ge1xuICBbVFlQRVMuVU5TSUdORURfU0hPUlRfNF80XzRfNF06IDIsXG4gIFtUWVBFUy5VTlNJR05FRF9TSE9SVF81XzVfNV8xXTogMixcbiAgW1RZUEVTLlVOU0lHTkVEX1NIT1JUXzVfNl81XTogMlxufTtcbmZ1bmN0aW9uIHBhcnNlS1RYKHVybCwgYXJyYXlCdWZmZXIsIGxvYWRLZXlWYWx1ZURhdGEgPSBmYWxzZSkge1xuICBjb25zdCBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7XG4gIGlmICghdmFsaWRhdGUodXJsLCBkYXRhVmlldykpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBsaXR0bGVFbmRpYW4gPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5FTkRJQU5ORVNTLCB0cnVlKSA9PT0gRU5ESUFOTkVTUztcbiAgY29uc3QgZ2xUeXBlID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuR0xfVFlQRSwgbGl0dGxlRW5kaWFuKTtcbiAgY29uc3QgZ2xGb3JtYXQgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5HTF9GT1JNQVQsIGxpdHRsZUVuZGlhbik7XG4gIGNvbnN0IGdsSW50ZXJuYWxGb3JtYXQgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5HTF9JTlRFUk5BTF9GT1JNQVQsIGxpdHRsZUVuZGlhbik7XG4gIGNvbnN0IHBpeGVsV2lkdGggPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5QSVhFTF9XSURUSCwgbGl0dGxlRW5kaWFuKTtcbiAgY29uc3QgcGl4ZWxIZWlnaHQgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5QSVhFTF9IRUlHSFQsIGxpdHRsZUVuZGlhbikgfHwgMTtcbiAgY29uc3QgcGl4ZWxEZXB0aCA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLlBJWEVMX0RFUFRILCBsaXR0bGVFbmRpYW4pIHx8IDE7XG4gIGNvbnN0IG51bWJlck9mQXJyYXlFbGVtZW50cyA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLk5VTUJFUl9PRl9BUlJBWV9FTEVNRU5UUywgbGl0dGxlRW5kaWFuKSB8fCAxO1xuICBjb25zdCBudW1iZXJPZkZhY2VzID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuTlVNQkVSX09GX0ZBQ0VTLCBsaXR0bGVFbmRpYW4pO1xuICBjb25zdCBudW1iZXJPZk1pcG1hcExldmVscyA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLk5VTUJFUl9PRl9NSVBNQVBfTEVWRUxTLCBsaXR0bGVFbmRpYW4pO1xuICBjb25zdCBieXRlc09mS2V5VmFsdWVEYXRhID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuQllURVNfT0ZfS0VZX1ZBTFVFX0RBVEEsIGxpdHRsZUVuZGlhbik7XG4gIGlmIChwaXhlbEhlaWdodCA9PT0gMCB8fCBwaXhlbERlcHRoICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSAyRCB0ZXh0dXJlcyBhcmUgc3VwcG9ydGVkXCIpO1xuICB9XG4gIGlmIChudW1iZXJPZkZhY2VzICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ3ViZVRleHR1cmVzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IEtUWExvYWRlciB5ZXQhXCIpO1xuICB9XG4gIGlmIChudW1iZXJPZkFycmF5RWxlbWVudHMgIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJXZWJHTCBkb2VzIG5vdCBzdXBwb3J0IGFycmF5IHRleHR1cmVzXCIpO1xuICB9XG4gIGNvbnN0IGJsb2NrV2lkdGggPSA0O1xuICBjb25zdCBibG9ja0hlaWdodCA9IDQ7XG4gIGNvbnN0IGFsaWduZWRXaWR0aCA9IHBpeGVsV2lkdGggKyAzICYgfjM7XG4gIGNvbnN0IGFsaWduZWRIZWlnaHQgPSBwaXhlbEhlaWdodCArIDMgJiB+MztcbiAgY29uc3QgaW1hZ2VCdWZmZXJzID0gbmV3IEFycmF5KG51bWJlck9mQXJyYXlFbGVtZW50cyk7XG4gIGxldCBpbWFnZVBpeGVscyA9IHBpeGVsV2lkdGggKiBwaXhlbEhlaWdodDtcbiAgaWYgKGdsVHlwZSA9PT0gMCkge1xuICAgIGltYWdlUGl4ZWxzID0gYWxpZ25lZFdpZHRoICogYWxpZ25lZEhlaWdodDtcbiAgfVxuICBsZXQgaW1hZ2VQaXhlbEJ5dGVTaXplO1xuICBpZiAoZ2xUeXBlICE9PSAwKSB7XG4gICAgaWYgKFRZUEVTX1RPX0JZVEVTX1BFUl9DT01QT05FTlRbZ2xUeXBlXSkge1xuICAgICAgaW1hZ2VQaXhlbEJ5dGVTaXplID0gVFlQRVNfVE9fQllURVNfUEVSX0NPTVBPTkVOVFtnbFR5cGVdICogRk9STUFUU19UT19DT01QT05FTlRTW2dsRm9ybWF0XTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW1hZ2VQaXhlbEJ5dGVTaXplID0gVFlQRVNfVE9fQllURVNfUEVSX1BJWEVMW2dsVHlwZV07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGltYWdlUGl4ZWxCeXRlU2l6ZSA9IElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUxbZ2xJbnRlcm5hbEZvcm1hdF07XG4gIH1cbiAgaWYgKGltYWdlUGl4ZWxCeXRlU2l6ZSA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHJlc29sdmUgdGhlIHBpeGVsIGZvcm1hdCBzdG9yZWQgaW4gdGhlICoua3R4IGZpbGUhXCIpO1xuICB9XG4gIGNvbnN0IGt2RGF0YSA9IGxvYWRLZXlWYWx1ZURhdGEgPyBwYXJzZUt2RGF0YShkYXRhVmlldywgYnl0ZXNPZktleVZhbHVlRGF0YSwgbGl0dGxlRW5kaWFuKSA6IG51bGw7XG4gIGNvbnN0IGltYWdlQnl0ZVNpemUgPSBpbWFnZVBpeGVscyAqIGltYWdlUGl4ZWxCeXRlU2l6ZTtcbiAgbGV0IG1pcEJ5dGVTaXplID0gaW1hZ2VCeXRlU2l6ZTtcbiAgbGV0IG1pcFdpZHRoID0gcGl4ZWxXaWR0aDtcbiAgbGV0IG1pcEhlaWdodCA9IHBpeGVsSGVpZ2h0O1xuICBsZXQgYWxpZ25lZE1pcFdpZHRoID0gYWxpZ25lZFdpZHRoO1xuICBsZXQgYWxpZ25lZE1pcEhlaWdodCA9IGFsaWduZWRIZWlnaHQ7XG4gIGxldCBpbWFnZU9mZnNldCA9IEZJTEVfSEVBREVSX1NJWkUgKyBieXRlc09mS2V5VmFsdWVEYXRhO1xuICBmb3IgKGxldCBtaXBtYXBMZXZlbCA9IDA7IG1pcG1hcExldmVsIDwgbnVtYmVyT2ZNaXBtYXBMZXZlbHM7IG1pcG1hcExldmVsKyspIHtcbiAgICBjb25zdCBpbWFnZVNpemUgPSBkYXRhVmlldy5nZXRVaW50MzIoaW1hZ2VPZmZzZXQsIGxpdHRsZUVuZGlhbik7XG4gICAgbGV0IGVsZW1lbnRPZmZzZXQgPSBpbWFnZU9mZnNldCArIDQ7XG4gICAgZm9yIChsZXQgYXJyYXlFbGVtZW50ID0gMDsgYXJyYXlFbGVtZW50IDwgbnVtYmVyT2ZBcnJheUVsZW1lbnRzOyBhcnJheUVsZW1lbnQrKykge1xuICAgICAgbGV0IG1pcHMgPSBpbWFnZUJ1ZmZlcnNbYXJyYXlFbGVtZW50XTtcbiAgICAgIGlmICghbWlwcykge1xuICAgICAgICBtaXBzID0gaW1hZ2VCdWZmZXJzW2FycmF5RWxlbWVudF0gPSBuZXcgQXJyYXkobnVtYmVyT2ZNaXBtYXBMZXZlbHMpO1xuICAgICAgfVxuICAgICAgbWlwc1ttaXBtYXBMZXZlbF0gPSB7XG4gICAgICAgIGxldmVsSUQ6IG1pcG1hcExldmVsLFxuICAgICAgICBsZXZlbFdpZHRoOiBudW1iZXJPZk1pcG1hcExldmVscyA+IDEgfHwgZ2xUeXBlICE9PSAwID8gbWlwV2lkdGggOiBhbGlnbmVkTWlwV2lkdGgsXG4gICAgICAgIGxldmVsSGVpZ2h0OiBudW1iZXJPZk1pcG1hcExldmVscyA+IDEgfHwgZ2xUeXBlICE9PSAwID8gbWlwSGVpZ2h0IDogYWxpZ25lZE1pcEhlaWdodCxcbiAgICAgICAgbGV2ZWxCdWZmZXI6IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBlbGVtZW50T2Zmc2V0LCBtaXBCeXRlU2l6ZSlcbiAgICAgIH07XG4gICAgICBlbGVtZW50T2Zmc2V0ICs9IG1pcEJ5dGVTaXplO1xuICAgIH1cbiAgICBpbWFnZU9mZnNldCArPSBpbWFnZVNpemUgKyA0O1xuICAgIGltYWdlT2Zmc2V0ID0gaW1hZ2VPZmZzZXQgJSA0ICE9PSAwID8gaW1hZ2VPZmZzZXQgKyA0IC0gaW1hZ2VPZmZzZXQgJSA0IDogaW1hZ2VPZmZzZXQ7XG4gICAgbWlwV2lkdGggPSBtaXBXaWR0aCA+PiAxIHx8IDE7XG4gICAgbWlwSGVpZ2h0ID0gbWlwSGVpZ2h0ID4+IDEgfHwgMTtcbiAgICBhbGlnbmVkTWlwV2lkdGggPSBtaXBXaWR0aCArIGJsb2NrV2lkdGggLSAxICYgfihibG9ja1dpZHRoIC0gMSk7XG4gICAgYWxpZ25lZE1pcEhlaWdodCA9IG1pcEhlaWdodCArIGJsb2NrSGVpZ2h0IC0gMSAmIH4oYmxvY2tIZWlnaHQgLSAxKTtcbiAgICBtaXBCeXRlU2l6ZSA9IGFsaWduZWRNaXBXaWR0aCAqIGFsaWduZWRNaXBIZWlnaHQgKiBpbWFnZVBpeGVsQnl0ZVNpemU7XG4gIH1cbiAgaWYgKGdsVHlwZSAhPT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICB1bmNvbXByZXNzZWQ6IGltYWdlQnVmZmVycy5tYXAoKGxldmVsQnVmZmVycykgPT4ge1xuICAgICAgICBsZXQgYnVmZmVyID0gbGV2ZWxCdWZmZXJzWzBdLmxldmVsQnVmZmVyO1xuICAgICAgICBsZXQgY29udmVydFRvSW50ID0gZmFsc2U7XG4gICAgICAgIGlmIChnbFR5cGUgPT09IFRZUEVTLkZMT0FUKSB7XG4gICAgICAgICAgYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxCdWZmZXIuYnVmZmVyLCBsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxCdWZmZXIuYnl0ZU9mZnNldCwgbGV2ZWxCdWZmZXJzWzBdLmxldmVsQnVmZmVyLmJ5dGVMZW5ndGggLyA0KTtcbiAgICAgICAgfSBlbHNlIGlmIChnbFR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0lOVCkge1xuICAgICAgICAgIGNvbnZlcnRUb0ludCA9IHRydWU7XG4gICAgICAgICAgYnVmZmVyID0gbmV3IFVpbnQzMkFycmF5KGxldmVsQnVmZmVyc1swXS5sZXZlbEJ1ZmZlci5idWZmZXIsIGxldmVsQnVmZmVyc1swXS5sZXZlbEJ1ZmZlci5ieXRlT2Zmc2V0LCBsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxCdWZmZXIuYnl0ZUxlbmd0aCAvIDQpO1xuICAgICAgICB9IGVsc2UgaWYgKGdsVHlwZSA9PT0gVFlQRVMuSU5UKSB7XG4gICAgICAgICAgY29udmVydFRvSW50ID0gdHJ1ZTtcbiAgICAgICAgICBidWZmZXIgPSBuZXcgSW50MzJBcnJheShsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxCdWZmZXIuYnVmZmVyLCBsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxCdWZmZXIuYnl0ZU9mZnNldCwgbGV2ZWxCdWZmZXJzWzBdLmxldmVsQnVmZmVyLmJ5dGVMZW5ndGggLyA0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc291cmNlOiBuZXcgQnVmZmVyUmVzb3VyY2UoYnVmZmVyLCB7XG4gICAgICAgICAgICB3aWR0aDogbGV2ZWxCdWZmZXJzWzBdLmxldmVsV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGxldmVsQnVmZmVyc1swXS5sZXZlbEhlaWdodFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHR5cGU6IGdsVHlwZSxcbiAgICAgICAgICBmb3JtYXQ6IGNvbnZlcnRUb0ludCA/IGNvbnZlcnRGb3JtYXRUb0ludGVnZXIoZ2xGb3JtYXQpIDogZ2xGb3JtYXRcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAga3ZEYXRhXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGNvbXByZXNzZWQ6IGltYWdlQnVmZmVycy5tYXAoKGxldmVsQnVmZmVycykgPT4gbmV3IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UobnVsbCwge1xuICAgICAgZm9ybWF0OiBnbEludGVybmFsRm9ybWF0LFxuICAgICAgd2lkdGg6IHBpeGVsV2lkdGgsXG4gICAgICBoZWlnaHQ6IHBpeGVsSGVpZ2h0LFxuICAgICAgbGV2ZWxzOiBudW1iZXJPZk1pcG1hcExldmVscyxcbiAgICAgIGxldmVsQnVmZmVyc1xuICAgIH0pKSxcbiAgICBrdkRhdGFcbiAgfTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlKHVybCwgZGF0YVZpZXcpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBGSUxFX0lERU5USUZJRVIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZGF0YVZpZXcuZ2V0VWludDgoaSkgIT09IEZJTEVfSURFTlRJRklFUltpXSkge1xuICAgICAgY29uc29sZS5lcnJvcihgJHt1cmx9IGlzIG5vdCBhIHZhbGlkICoua3R4IGZpbGUhYCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gY29udmVydEZvcm1hdFRvSW50ZWdlcihmb3JtYXQpIHtcbiAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICBjYXNlIEZPUk1BVFMuUkdCQTpcbiAgICAgIHJldHVybiBGT1JNQVRTLlJHQkFfSU5URUdFUjtcbiAgICBjYXNlIEZPUk1BVFMuUkdCOlxuICAgICAgcmV0dXJuIEZPUk1BVFMuUkdCX0lOVEVHRVI7XG4gICAgY2FzZSBGT1JNQVRTLlJHOlxuICAgICAgcmV0dXJuIEZPUk1BVFMuUkdfSU5URUdFUjtcbiAgICBjYXNlIEZPUk1BVFMuUkVEOlxuICAgICAgcmV0dXJuIEZPUk1BVFMuUkVEX0lOVEVHRVI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmb3JtYXQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHBhcnNlS3ZEYXRhKGRhdGFWaWV3LCBieXRlc09mS2V5VmFsdWVEYXRhLCBsaXR0bGVFbmRpYW4pIHtcbiAgY29uc3Qga3ZEYXRhID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IGJ5dGVzSW50b0tleVZhbHVlRGF0YSA9IDA7XG4gIHdoaWxlIChieXRlc0ludG9LZXlWYWx1ZURhdGEgPCBieXRlc09mS2V5VmFsdWVEYXRhKSB7XG4gICAgY29uc3Qga2V5QW5kVmFsdWVCeXRlU2l6ZSA9IGRhdGFWaWV3LmdldFVpbnQzMihGSUxFX0hFQURFUl9TSVpFICsgYnl0ZXNJbnRvS2V5VmFsdWVEYXRhLCBsaXR0bGVFbmRpYW4pO1xuICAgIGNvbnN0IGtleUFuZFZhbHVlQnl0ZU9mZnNldCA9IEZJTEVfSEVBREVSX1NJWkUgKyBieXRlc0ludG9LZXlWYWx1ZURhdGEgKyA0O1xuICAgIGNvbnN0IHZhbHVlUGFkZGluZyA9IDMgLSAoa2V5QW5kVmFsdWVCeXRlU2l6ZSArIDMpICUgNDtcbiAgICBpZiAoa2V5QW5kVmFsdWVCeXRlU2l6ZSA9PT0gMCB8fCBrZXlBbmRWYWx1ZUJ5dGVTaXplID4gYnl0ZXNPZktleVZhbHVlRGF0YSAtIGJ5dGVzSW50b0tleVZhbHVlRGF0YSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIktUWExvYWRlcjoga2V5QW5kVmFsdWVCeXRlU2l6ZSBvdXQgb2YgYm91bmRzXCIpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGxldCBrZXlOdWxCeXRlID0gMDtcbiAgICBmb3IgKDsga2V5TnVsQnl0ZSA8IGtleUFuZFZhbHVlQnl0ZVNpemU7IGtleU51bEJ5dGUrKykge1xuICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQ4KGtleUFuZFZhbHVlQnl0ZU9mZnNldCArIGtleU51bEJ5dGUpID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoa2V5TnVsQnl0ZSA9PT0gLTEpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJLVFhMb2FkZXI6IEZhaWxlZCB0byBmaW5kIG51bGwgYnl0ZSB0ZXJtaW5hdGluZyBrdkRhdGEga2V5XCIpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNvbnN0IGtleSA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShuZXcgVWludDhBcnJheShkYXRhVmlldy5idWZmZXIsIGtleUFuZFZhbHVlQnl0ZU9mZnNldCwga2V5TnVsQnl0ZSkpO1xuICAgIGNvbnN0IHZhbHVlID0gbmV3IERhdGFWaWV3KGRhdGFWaWV3LmJ1ZmZlciwga2V5QW5kVmFsdWVCeXRlT2Zmc2V0ICsga2V5TnVsQnl0ZSArIDEsIGtleUFuZFZhbHVlQnl0ZVNpemUgLSBrZXlOdWxCeXRlIC0gMSk7XG4gICAga3ZEYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICBieXRlc0ludG9LZXlWYWx1ZURhdGEgKz0gNCArIGtleUFuZFZhbHVlQnl0ZVNpemUgKyB2YWx1ZVBhZGRpbmc7XG4gIH1cbiAgcmV0dXJuIGt2RGF0YTtcbn1cblxuZXhwb3J0IHsgRk9STUFUU19UT19DT01QT05FTlRTLCBUWVBFU19UT19CWVRFU19QRVJfQ09NUE9ORU5ULCBUWVBFU19UT19CWVRFU19QRVJfUElYRUwsIHBhcnNlS1RYIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZUtUWC5tanMubWFwXG4iLCJpbXBvcnQgeyBCdWZmZXJSZXNvdXJjZSwgVmlld2FibGVCdWZmZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuY2xhc3MgQmxvYlJlc291cmNlIGV4dGVuZHMgQnVmZmVyUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMgPSB7IHdpZHRoOiAxLCBoZWlnaHQ6IDEsIGF1dG9Mb2FkOiB0cnVlIH0pIHtcbiAgICBsZXQgb3JpZ2luO1xuICAgIGxldCBkYXRhO1xuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBvcmlnaW4gPSBzb3VyY2U7XG4gICAgICBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3JpZ2luID0gbnVsbDtcbiAgICAgIGRhdGEgPSBzb3VyY2U7XG4gICAgfVxuICAgIHN1cGVyKGRhdGEsIG9wdGlvbnMpO1xuICAgIHRoaXMub3JpZ2luID0gb3JpZ2luO1xuICAgIHRoaXMuYnVmZmVyID0gZGF0YSA/IG5ldyBWaWV3YWJsZUJ1ZmZlcihkYXRhKSA6IG51bGw7XG4gICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5vcmlnaW4gIT09IG51bGwgJiYgb3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcmlnaW4gPT09IG51bGwgJiYgdGhpcy5idWZmZXIpIHtcbiAgICAgIHRoaXMuX2xvYWQgPSBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XG4gICAgICB0aGlzLm9uQmxvYkxvYWRlZCh0aGlzLmJ1ZmZlci5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG4gIH1cbiAgb25CbG9iTG9hZGVkKF9kYXRhKSB7XG4gIH1cbiAgbG9hZCgpIHtcbiAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfVxuICAgIHRoaXMuX2xvYWQgPSBmZXRjaCh0aGlzLm9yaWdpbikudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmJsb2IoKSkudGhlbigoYmxvYikgPT4gYmxvYi5hcnJheUJ1ZmZlcigpKS50aGVuKChhcnJheUJ1ZmZlcikgPT4ge1xuICAgICAgdGhpcy5kYXRhID0gbmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyKTtcbiAgICAgIHRoaXMuYnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKGFycmF5QnVmZmVyKTtcbiAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMub25CbG9iTG9hZGVkKGFycmF5QnVmZmVyKTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgfVxufVxuXG5leHBvcnQgeyBCbG9iUmVzb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsb2JSZXNvdXJjZS5tanMubWFwXG4iLCJpbXBvcnQgeyBJTlRFUk5BTF9GT1JNQVRfVE9fQllURVNfUEVSX1BJWEVMIH0gZnJvbSAnLi4vY29uc3QubWpzJztcbmltcG9ydCB7IEJsb2JSZXNvdXJjZSB9IGZyb20gJy4vQmxvYlJlc291cmNlLm1qcyc7XG5cbmNsYXNzIENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UgZXh0ZW5kcyBCbG9iUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xuICAgIHRoaXMuZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQ7XG4gICAgdGhpcy5sZXZlbHMgPSBvcHRpb25zLmxldmVscyB8fCAxO1xuICAgIHRoaXMuX3dpZHRoID0gb3B0aW9ucy53aWR0aDtcbiAgICB0aGlzLl9oZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgICB0aGlzLl9leHRlbnNpb24gPSBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlLl9mb3JtYXRUb0V4dGVuc2lvbih0aGlzLmZvcm1hdCk7XG4gICAgaWYgKG9wdGlvbnMubGV2ZWxCdWZmZXJzIHx8IHRoaXMuYnVmZmVyKSB7XG4gICAgICB0aGlzLl9sZXZlbEJ1ZmZlcnMgPSBvcHRpb25zLmxldmVsQnVmZmVycyB8fCBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlLl9jcmVhdGVMZXZlbEJ1ZmZlcnMoc291cmNlIGluc3RhbmNlb2YgVWludDhBcnJheSA/IHNvdXJjZSA6IHRoaXMuYnVmZmVyLnVpbnQ4VmlldywgdGhpcy5mb3JtYXQsIHRoaXMubGV2ZWxzLCA0LCA0LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfVxuICB9XG4gIHVwbG9hZChyZW5kZXJlciwgX3RleHR1cmUsIF9nbFRleHR1cmUpIHtcbiAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuICAgIGNvbnN0IGV4dGVuc2lvbiA9IHJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9uc1t0aGlzLl9leHRlbnNpb25dO1xuICAgIGlmICghZXh0ZW5zaW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dGhpcy5fZXh0ZW5zaW9ufSB0ZXh0dXJlcyBhcmUgbm90IHN1cHBvcnRlZCBvbiB0aGUgY3VycmVudCBtYWNoaW5lYCk7XG4gICAgfVxuICAgIGlmICghdGhpcy5fbGV2ZWxCdWZmZXJzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5sZXZlbHM7IGkgPCBqOyBpKyspIHtcbiAgICAgIGNvbnN0IHsgbGV2ZWxJRCwgbGV2ZWxXaWR0aCwgbGV2ZWxIZWlnaHQsIGxldmVsQnVmZmVyIH0gPSB0aGlzLl9sZXZlbEJ1ZmZlcnNbaV07XG4gICAgICBnbC5jb21wcmVzc2VkVGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCBsZXZlbElELCB0aGlzLmZvcm1hdCwgbGV2ZWxXaWR0aCwgbGV2ZWxIZWlnaHQsIDAsIGxldmVsQnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgb25CbG9iTG9hZGVkKCkge1xuICAgIHRoaXMuX2xldmVsQnVmZmVycyA9IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UuX2NyZWF0ZUxldmVsQnVmZmVycyh0aGlzLmJ1ZmZlci51aW50OFZpZXcsIHRoaXMuZm9ybWF0LCB0aGlzLmxldmVscywgNCwgNCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9XG4gIHN0YXRpYyBfZm9ybWF0VG9FeHRlbnNpb24oZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA+PSAzMzc3NiAmJiBmb3JtYXQgPD0gMzM3NzkpIHtcbiAgICAgIHJldHVybiBcInMzdGNcIjtcbiAgICB9IGVsc2UgaWYgKGZvcm1hdCA+PSAzNzQ4OCAmJiBmb3JtYXQgPD0gMzc0OTcpIHtcbiAgICAgIHJldHVybiBcImV0Y1wiO1xuICAgIH0gZWxzZSBpZiAoZm9ybWF0ID49IDM1ODQwICYmIGZvcm1hdCA8PSAzNTg0Mykge1xuICAgICAgcmV0dXJuIFwicHZydGNcIjtcbiAgICB9IGVsc2UgaWYgKGZvcm1hdCA+PSAzNjE5Nikge1xuICAgICAgcmV0dXJuIFwiZXRjMVwiO1xuICAgIH0gZWxzZSBpZiAoZm9ybWF0ID49IDM1OTg2ICYmIGZvcm1hdCA8PSAzNDc5OCkge1xuICAgICAgcmV0dXJuIFwiYXRjXCI7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgKGNvbXByZXNzZWQpIHRleHR1cmUgZm9ybWF0IGdpdmVuIVwiKTtcbiAgfVxuICBzdGF0aWMgX2NyZWF0ZUxldmVsQnVmZmVycyhidWZmZXIsIGZvcm1hdCwgbGV2ZWxzLCBibG9ja1dpZHRoLCBibG9ja0hlaWdodCwgaW1hZ2VXaWR0aCwgaW1hZ2VIZWlnaHQpIHtcbiAgICBjb25zdCBidWZmZXJzID0gbmV3IEFycmF5KGxldmVscyk7XG4gICAgbGV0IG9mZnNldCA9IGJ1ZmZlci5ieXRlT2Zmc2V0O1xuICAgIGxldCBsZXZlbFdpZHRoID0gaW1hZ2VXaWR0aDtcbiAgICBsZXQgbGV2ZWxIZWlnaHQgPSBpbWFnZUhlaWdodDtcbiAgICBsZXQgYWxpZ25lZExldmVsV2lkdGggPSBsZXZlbFdpZHRoICsgYmxvY2tXaWR0aCAtIDEgJiB+KGJsb2NrV2lkdGggLSAxKTtcbiAgICBsZXQgYWxpZ25lZExldmVsSGVpZ2h0ID0gbGV2ZWxIZWlnaHQgKyBibG9ja0hlaWdodCAtIDEgJiB+KGJsb2NrSGVpZ2h0IC0gMSk7XG4gICAgbGV0IGxldmVsU2l6ZSA9IGFsaWduZWRMZXZlbFdpZHRoICogYWxpZ25lZExldmVsSGVpZ2h0ICogSU5URVJOQUxfRk9STUFUX1RPX0JZVEVTX1BFUl9QSVhFTFtmb3JtYXRdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGV2ZWxzOyBpKyspIHtcbiAgICAgIGJ1ZmZlcnNbaV0gPSB7XG4gICAgICAgIGxldmVsSUQ6IGksXG4gICAgICAgIGxldmVsV2lkdGg6IGxldmVscyA+IDEgPyBsZXZlbFdpZHRoIDogYWxpZ25lZExldmVsV2lkdGgsXG4gICAgICAgIGxldmVsSGVpZ2h0OiBsZXZlbHMgPiAxID8gbGV2ZWxIZWlnaHQgOiBhbGlnbmVkTGV2ZWxIZWlnaHQsXG4gICAgICAgIGxldmVsQnVmZmVyOiBuZXcgVWludDhBcnJheShidWZmZXIuYnVmZmVyLCBvZmZzZXQsIGxldmVsU2l6ZSlcbiAgICAgIH07XG4gICAgICBvZmZzZXQgKz0gbGV2ZWxTaXplO1xuICAgICAgbGV2ZWxXaWR0aCA9IGxldmVsV2lkdGggPj4gMSB8fCAxO1xuICAgICAgbGV2ZWxIZWlnaHQgPSBsZXZlbEhlaWdodCA+PiAxIHx8IDE7XG4gICAgICBhbGlnbmVkTGV2ZWxXaWR0aCA9IGxldmVsV2lkdGggKyBibG9ja1dpZHRoIC0gMSAmIH4oYmxvY2tXaWR0aCAtIDEpO1xuICAgICAgYWxpZ25lZExldmVsSGVpZ2h0ID0gbGV2ZWxIZWlnaHQgKyBibG9ja0hlaWdodCAtIDEgJiB+KGJsb2NrSGVpZ2h0IC0gMSk7XG4gICAgICBsZXZlbFNpemUgPSBhbGlnbmVkTGV2ZWxXaWR0aCAqIGFsaWduZWRMZXZlbEhlaWdodCAqIElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUxbZm9ybWF0XTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1ZmZlcnM7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZS5tanMubWFwXG4iLCJleHBvcnQgeyBCbG9iUmVzb3VyY2UgfSBmcm9tICcuL0Jsb2JSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSB9IGZyb20gJy4vQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZS5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwidmFyIEVOViA9IC8qIEBfX1BVUkVfXyAqLyAoKEVOVjIpID0+IHtcbiAgRU5WMltFTlYyW1wiV0VCR0xfTEVHQUNZXCJdID0gMF0gPSBcIldFQkdMX0xFR0FDWVwiO1xuICBFTlYyW0VOVjJbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICBFTlYyW0VOVjJbXCJXRUJHTDJcIl0gPSAyXSA9IFwiV0VCR0wyXCI7XG4gIHJldHVybiBFTlYyO1xufSkoRU5WIHx8IHt9KTtcbnZhciBSRU5ERVJFUl9UWVBFID0gLyogQF9fUFVSRV9fICovICgoUkVOREVSRVJfVFlQRTIpID0+IHtcbiAgUkVOREVSRVJfVFlQRTJbUkVOREVSRVJfVFlQRTJbXCJVTktOT1dOXCJdID0gMF0gPSBcIlVOS05PV05cIjtcbiAgUkVOREVSRVJfVFlQRTJbUkVOREVSRVJfVFlQRTJbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICBSRU5ERVJFUl9UWVBFMltSRU5ERVJFUl9UWVBFMltcIkNBTlZBU1wiXSA9IDJdID0gXCJDQU5WQVNcIjtcbiAgcmV0dXJuIFJFTkRFUkVSX1RZUEUyO1xufSkoUkVOREVSRVJfVFlQRSB8fCB7fSk7XG52YXIgQlVGRkVSX0JJVFMgPSAvKiBAX19QVVJFX18gKi8gKChCVUZGRVJfQklUUzIpID0+IHtcbiAgQlVGRkVSX0JJVFMyW0JVRkZFUl9CSVRTMltcIkNPTE9SXCJdID0gMTYzODRdID0gXCJDT0xPUlwiO1xuICBCVUZGRVJfQklUUzJbQlVGRkVSX0JJVFMyW1wiREVQVEhcIl0gPSAyNTZdID0gXCJERVBUSFwiO1xuICBCVUZGRVJfQklUUzJbQlVGRkVSX0JJVFMyW1wiU1RFTkNJTFwiXSA9IDEwMjRdID0gXCJTVEVOQ0lMXCI7XG4gIHJldHVybiBCVUZGRVJfQklUUzI7XG59KShCVUZGRVJfQklUUyB8fCB7fSk7XG52YXIgQkxFTkRfTU9ERVMgPSAvKiBAX19QVVJFX18gKi8gKChCTEVORF9NT0RFUzIpID0+IHtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIk5PUk1BTFwiXSA9IDBdID0gXCJOT1JNQUxcIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIkFERFwiXSA9IDFdID0gXCJBRERcIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIk1VTFRJUExZXCJdID0gMl0gPSBcIk1VTFRJUExZXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJTQ1JFRU5cIl0gPSAzXSA9IFwiU0NSRUVOXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJPVkVSTEFZXCJdID0gNF0gPSBcIk9WRVJMQVlcIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIkRBUktFTlwiXSA9IDVdID0gXCJEQVJLRU5cIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIkxJR0hURU5cIl0gPSA2XSA9IFwiTElHSFRFTlwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiQ09MT1JfRE9ER0VcIl0gPSA3XSA9IFwiQ09MT1JfRE9ER0VcIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIkNPTE9SX0JVUk5cIl0gPSA4XSA9IFwiQ09MT1JfQlVSTlwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiSEFSRF9MSUdIVFwiXSA9IDldID0gXCJIQVJEX0xJR0hUXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJTT0ZUX0xJR0hUXCJdID0gMTBdID0gXCJTT0ZUX0xJR0hUXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJESUZGRVJFTkNFXCJdID0gMTFdID0gXCJESUZGRVJFTkNFXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJFWENMVVNJT05cIl0gPSAxMl0gPSBcIkVYQ0xVU0lPTlwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiSFVFXCJdID0gMTNdID0gXCJIVUVcIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIlNBVFVSQVRJT05cIl0gPSAxNF0gPSBcIlNBVFVSQVRJT05cIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIkNPTE9SXCJdID0gMTVdID0gXCJDT0xPUlwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiTFVNSU5PU0lUWVwiXSA9IDE2XSA9IFwiTFVNSU5PU0lUWVwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiTk9STUFMX05QTVwiXSA9IDE3XSA9IFwiTk9STUFMX05QTVwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiQUREX05QTVwiXSA9IDE4XSA9IFwiQUREX05QTVwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiU0NSRUVOX05QTVwiXSA9IDE5XSA9IFwiU0NSRUVOX05QTVwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiTk9ORVwiXSA9IDIwXSA9IFwiTk9ORVwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiU1JDX09WRVJcIl0gPSAwXSA9IFwiU1JDX09WRVJcIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIlNSQ19JTlwiXSA9IDIxXSA9IFwiU1JDX0lOXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJTUkNfT1VUXCJdID0gMjJdID0gXCJTUkNfT1VUXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJTUkNfQVRPUFwiXSA9IDIzXSA9IFwiU1JDX0FUT1BcIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIkRTVF9PVkVSXCJdID0gMjRdID0gXCJEU1RfT1ZFUlwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiRFNUX0lOXCJdID0gMjVdID0gXCJEU1RfSU5cIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIkRTVF9PVVRcIl0gPSAyNl0gPSBcIkRTVF9PVVRcIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIkRTVF9BVE9QXCJdID0gMjddID0gXCJEU1RfQVRPUFwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiRVJBU0VcIl0gPSAyNl0gPSBcIkVSQVNFXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJTVUJUUkFDVFwiXSA9IDI4XSA9IFwiU1VCVFJBQ1RcIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIlhPUlwiXSA9IDI5XSA9IFwiWE9SXCI7XG4gIHJldHVybiBCTEVORF9NT0RFUzI7XG59KShCTEVORF9NT0RFUyB8fCB7fSk7XG52YXIgRFJBV19NT0RFUyA9IC8qIEBfX1BVUkVfXyAqLyAoKERSQVdfTU9ERVMyKSA9PiB7XG4gIERSQVdfTU9ERVMyW0RSQVdfTU9ERVMyW1wiUE9JTlRTXCJdID0gMF0gPSBcIlBPSU5UU1wiO1xuICBEUkFXX01PREVTMltEUkFXX01PREVTMltcIkxJTkVTXCJdID0gMV0gPSBcIkxJTkVTXCI7XG4gIERSQVdfTU9ERVMyW0RSQVdfTU9ERVMyW1wiTElORV9MT09QXCJdID0gMl0gPSBcIkxJTkVfTE9PUFwiO1xuICBEUkFXX01PREVTMltEUkFXX01PREVTMltcIkxJTkVfU1RSSVBcIl0gPSAzXSA9IFwiTElORV9TVFJJUFwiO1xuICBEUkFXX01PREVTMltEUkFXX01PREVTMltcIlRSSUFOR0xFU1wiXSA9IDRdID0gXCJUUklBTkdMRVNcIjtcbiAgRFJBV19NT0RFUzJbRFJBV19NT0RFUzJbXCJUUklBTkdMRV9TVFJJUFwiXSA9IDVdID0gXCJUUklBTkdMRV9TVFJJUFwiO1xuICBEUkFXX01PREVTMltEUkFXX01PREVTMltcIlRSSUFOR0xFX0ZBTlwiXSA9IDZdID0gXCJUUklBTkdMRV9GQU5cIjtcbiAgcmV0dXJuIERSQVdfTU9ERVMyO1xufSkoRFJBV19NT0RFUyB8fCB7fSk7XG52YXIgRk9STUFUUyA9IC8qIEBfX1BVUkVfXyAqLyAoKEZPUk1BVFMyKSA9PiB7XG4gIEZPUk1BVFMyW0ZPUk1BVFMyW1wiUkdCQVwiXSA9IDY0MDhdID0gXCJSR0JBXCI7XG4gIEZPUk1BVFMyW0ZPUk1BVFMyW1wiUkdCXCJdID0gNjQwN10gPSBcIlJHQlwiO1xuICBGT1JNQVRTMltGT1JNQVRTMltcIlJHXCJdID0gMzMzMTldID0gXCJSR1wiO1xuICBGT1JNQVRTMltGT1JNQVRTMltcIlJFRFwiXSA9IDY0MDNdID0gXCJSRURcIjtcbiAgRk9STUFUUzJbRk9STUFUUzJbXCJSR0JBX0lOVEVHRVJcIl0gPSAzNjI0OV0gPSBcIlJHQkFfSU5URUdFUlwiO1xuICBGT1JNQVRTMltGT1JNQVRTMltcIlJHQl9JTlRFR0VSXCJdID0gMzYyNDhdID0gXCJSR0JfSU5URUdFUlwiO1xuICBGT1JNQVRTMltGT1JNQVRTMltcIlJHX0lOVEVHRVJcIl0gPSAzMzMyMF0gPSBcIlJHX0lOVEVHRVJcIjtcbiAgRk9STUFUUzJbRk9STUFUUzJbXCJSRURfSU5URUdFUlwiXSA9IDM2MjQ0XSA9IFwiUkVEX0lOVEVHRVJcIjtcbiAgRk9STUFUUzJbRk9STUFUUzJbXCJBTFBIQVwiXSA9IDY0MDZdID0gXCJBTFBIQVwiO1xuICBGT1JNQVRTMltGT1JNQVRTMltcIkxVTUlOQU5DRVwiXSA9IDY0MDldID0gXCJMVU1JTkFOQ0VcIjtcbiAgRk9STUFUUzJbRk9STUFUUzJbXCJMVU1JTkFOQ0VfQUxQSEFcIl0gPSA2NDEwXSA9IFwiTFVNSU5BTkNFX0FMUEhBXCI7XG4gIEZPUk1BVFMyW0ZPUk1BVFMyW1wiREVQVEhfQ09NUE9ORU5UXCJdID0gNjQwMl0gPSBcIkRFUFRIX0NPTVBPTkVOVFwiO1xuICBGT1JNQVRTMltGT1JNQVRTMltcIkRFUFRIX1NURU5DSUxcIl0gPSAzNDA0MV0gPSBcIkRFUFRIX1NURU5DSUxcIjtcbiAgcmV0dXJuIEZPUk1BVFMyO1xufSkoRk9STUFUUyB8fCB7fSk7XG52YXIgVEFSR0VUUyA9IC8qIEBfX1BVUkVfXyAqLyAoKFRBUkdFVFMyKSA9PiB7XG4gIFRBUkdFVFMyW1RBUkdFVFMyW1wiVEVYVFVSRV8yRFwiXSA9IDM1NTNdID0gXCJURVhUVVJFXzJEXCI7XG4gIFRBUkdFVFMyW1RBUkdFVFMyW1wiVEVYVFVSRV9DVUJFX01BUFwiXSA9IDM0MDY3XSA9IFwiVEVYVFVSRV9DVUJFX01BUFwiO1xuICBUQVJHRVRTMltUQVJHRVRTMltcIlRFWFRVUkVfMkRfQVJSQVlcIl0gPSAzNTg2Nl0gPSBcIlRFWFRVUkVfMkRfQVJSQVlcIjtcbiAgVEFSR0VUUzJbVEFSR0VUUzJbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIl0gPSAzNDA2OV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiO1xuICBUQVJHRVRTMltUQVJHRVRTMltcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiXSA9IDM0MDcwXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCI7XG4gIFRBUkdFVFMyW1RBUkdFVFMyW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCJdID0gMzQwNzFdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIjtcbiAgVEFSR0VUUzJbVEFSR0VUUzJbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIl0gPSAzNDA3Ml0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiO1xuICBUQVJHRVRTMltUQVJHRVRTMltcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiXSA9IDM0MDczXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCI7XG4gIFRBUkdFVFMyW1RBUkdFVFMyW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCJdID0gMzQwNzRdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIjtcbiAgcmV0dXJuIFRBUkdFVFMyO1xufSkoVEFSR0VUUyB8fCB7fSk7XG52YXIgVFlQRVMgPSAvKiBAX19QVVJFX18gKi8gKChUWVBFUzIpID0+IHtcbiAgVFlQRVMyW1RZUEVTMltcIlVOU0lHTkVEX0JZVEVcIl0gPSA1MTIxXSA9IFwiVU5TSUdORURfQllURVwiO1xuICBUWVBFUzJbVFlQRVMyW1wiVU5TSUdORURfU0hPUlRcIl0gPSA1MTIzXSA9IFwiVU5TSUdORURfU0hPUlRcIjtcbiAgVFlQRVMyW1RZUEVTMltcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCJdID0gMzM2MzVdID0gXCJVTlNJR05FRF9TSE9SVF81XzZfNVwiO1xuICBUWVBFUzJbVFlQRVMyW1wiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiXSA9IDMyODE5XSA9IFwiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiO1xuICBUWVBFUzJbVFlQRVMyW1wiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiXSA9IDMyODIwXSA9IFwiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiO1xuICBUWVBFUzJbVFlQRVMyW1wiVU5TSUdORURfSU5UXCJdID0gNTEyNV0gPSBcIlVOU0lHTkVEX0lOVFwiO1xuICBUWVBFUzJbVFlQRVMyW1wiVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVlwiXSA9IDM1ODk5XSA9IFwiVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVlwiO1xuICBUWVBFUzJbVFlQRVMyW1wiVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWXCJdID0gMzM2NDBdID0gXCJVTlNJR05FRF9JTlRfMl8xMF8xMF8xMF9SRVZcIjtcbiAgVFlQRVMyW1RZUEVTMltcIlVOU0lHTkVEX0lOVF8yNF84XCJdID0gMzQwNDJdID0gXCJVTlNJR05FRF9JTlRfMjRfOFwiO1xuICBUWVBFUzJbVFlQRVMyW1wiVU5TSUdORURfSU5UXzVfOV85XzlfUkVWXCJdID0gMzU5MDJdID0gXCJVTlNJR05FRF9JTlRfNV85XzlfOV9SRVZcIjtcbiAgVFlQRVMyW1RZUEVTMltcIkJZVEVcIl0gPSA1MTIwXSA9IFwiQllURVwiO1xuICBUWVBFUzJbVFlQRVMyW1wiU0hPUlRcIl0gPSA1MTIyXSA9IFwiU0hPUlRcIjtcbiAgVFlQRVMyW1RZUEVTMltcIklOVFwiXSA9IDUxMjRdID0gXCJJTlRcIjtcbiAgVFlQRVMyW1RZUEVTMltcIkZMT0FUXCJdID0gNTEyNl0gPSBcIkZMT0FUXCI7XG4gIFRZUEVTMltUWVBFUzJbXCJGTE9BVF8zMl9VTlNJR05FRF9JTlRfMjRfOF9SRVZcIl0gPSAzNjI2OV0gPSBcIkZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVlwiO1xuICBUWVBFUzJbVFlQRVMyW1wiSEFMRl9GTE9BVFwiXSA9IDM2MTkzXSA9IFwiSEFMRl9GTE9BVFwiO1xuICByZXR1cm4gVFlQRVMyO1xufSkoVFlQRVMgfHwge30pO1xudmFyIFNBTVBMRVJfVFlQRVMgPSAvKiBAX19QVVJFX18gKi8gKChTQU1QTEVSX1RZUEVTMikgPT4ge1xuICBTQU1QTEVSX1RZUEVTMltTQU1QTEVSX1RZUEVTMltcIkZMT0FUXCJdID0gMF0gPSBcIkZMT0FUXCI7XG4gIFNBTVBMRVJfVFlQRVMyW1NBTVBMRVJfVFlQRVMyW1wiSU5UXCJdID0gMV0gPSBcIklOVFwiO1xuICBTQU1QTEVSX1RZUEVTMltTQU1QTEVSX1RZUEVTMltcIlVJTlRcIl0gPSAyXSA9IFwiVUlOVFwiO1xuICByZXR1cm4gU0FNUExFUl9UWVBFUzI7XG59KShTQU1QTEVSX1RZUEVTIHx8IHt9KTtcbnZhciBTQ0FMRV9NT0RFUyA9IC8qIEBfX1BVUkVfXyAqLyAoKFNDQUxFX01PREVTMikgPT4ge1xuICBTQ0FMRV9NT0RFUzJbU0NBTEVfTU9ERVMyW1wiTkVBUkVTVFwiXSA9IDBdID0gXCJORUFSRVNUXCI7XG4gIFNDQUxFX01PREVTMltTQ0FMRV9NT0RFUzJbXCJMSU5FQVJcIl0gPSAxXSA9IFwiTElORUFSXCI7XG4gIHJldHVybiBTQ0FMRV9NT0RFUzI7XG59KShTQ0FMRV9NT0RFUyB8fCB7fSk7XG52YXIgV1JBUF9NT0RFUyA9IC8qIEBfX1BVUkVfXyAqLyAoKFdSQVBfTU9ERVMyKSA9PiB7XG4gIFdSQVBfTU9ERVMyW1dSQVBfTU9ERVMyW1wiQ0xBTVBcIl0gPSAzMzA3MV0gPSBcIkNMQU1QXCI7XG4gIFdSQVBfTU9ERVMyW1dSQVBfTU9ERVMyW1wiUkVQRUFUXCJdID0gMTA0OTddID0gXCJSRVBFQVRcIjtcbiAgV1JBUF9NT0RFUzJbV1JBUF9NT0RFUzJbXCJNSVJST1JFRF9SRVBFQVRcIl0gPSAzMzY0OF0gPSBcIk1JUlJPUkVEX1JFUEVBVFwiO1xuICByZXR1cm4gV1JBUF9NT0RFUzI7XG59KShXUkFQX01PREVTIHx8IHt9KTtcbnZhciBNSVBNQVBfTU9ERVMgPSAvKiBAX19QVVJFX18gKi8gKChNSVBNQVBfTU9ERVMyKSA9PiB7XG4gIE1JUE1BUF9NT0RFUzJbTUlQTUFQX01PREVTMltcIk9GRlwiXSA9IDBdID0gXCJPRkZcIjtcbiAgTUlQTUFQX01PREVTMltNSVBNQVBfTU9ERVMyW1wiUE9XMlwiXSA9IDFdID0gXCJQT1cyXCI7XG4gIE1JUE1BUF9NT0RFUzJbTUlQTUFQX01PREVTMltcIk9OXCJdID0gMl0gPSBcIk9OXCI7XG4gIE1JUE1BUF9NT0RFUzJbTUlQTUFQX01PREVTMltcIk9OX01BTlVBTFwiXSA9IDNdID0gXCJPTl9NQU5VQUxcIjtcbiAgcmV0dXJuIE1JUE1BUF9NT0RFUzI7XG59KShNSVBNQVBfTU9ERVMgfHwge30pO1xudmFyIEFMUEhBX01PREVTID0gLyogQF9fUFVSRV9fICovICgoQUxQSEFfTU9ERVMyKSA9PiB7XG4gIEFMUEhBX01PREVTMltBTFBIQV9NT0RFUzJbXCJOUE1cIl0gPSAwXSA9IFwiTlBNXCI7XG4gIEFMUEhBX01PREVTMltBTFBIQV9NT0RFUzJbXCJVTlBBQ0tcIl0gPSAxXSA9IFwiVU5QQUNLXCI7XG4gIEFMUEhBX01PREVTMltBTFBIQV9NT0RFUzJbXCJQTUFcIl0gPSAyXSA9IFwiUE1BXCI7XG4gIEFMUEhBX01PREVTMltBTFBIQV9NT0RFUzJbXCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBXCJdID0gMF0gPSBcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIjtcbiAgQUxQSEFfTU9ERVMyW0FMUEhBX01PREVTMltcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiXSA9IDFdID0gXCJQUkVNVUxUSVBMWV9PTl9VUExPQURcIjtcbiAgQUxQSEFfTU9ERVMyW0FMUEhBX01PREVTMltcIlBSRU1VTFRJUExJRURfQUxQSEFcIl0gPSAyXSA9IFwiUFJFTVVMVElQTElFRF9BTFBIQVwiO1xuICByZXR1cm4gQUxQSEFfTU9ERVMyO1xufSkoQUxQSEFfTU9ERVMgfHwge30pO1xudmFyIENMRUFSX01PREVTID0gLyogQF9fUFVSRV9fICovICgoQ0xFQVJfTU9ERVMyKSA9PiB7XG4gIENMRUFSX01PREVTMltDTEVBUl9NT0RFUzJbXCJOT1wiXSA9IDBdID0gXCJOT1wiO1xuICBDTEVBUl9NT0RFUzJbQ0xFQVJfTU9ERVMyW1wiWUVTXCJdID0gMV0gPSBcIllFU1wiO1xuICBDTEVBUl9NT0RFUzJbQ0xFQVJfTU9ERVMyW1wiQVVUT1wiXSA9IDJdID0gXCJBVVRPXCI7XG4gIENMRUFSX01PREVTMltDTEVBUl9NT0RFUzJbXCJCTEVORFwiXSA9IDBdID0gXCJCTEVORFwiO1xuICBDTEVBUl9NT0RFUzJbQ0xFQVJfTU9ERVMyW1wiQ0xFQVJcIl0gPSAxXSA9IFwiQ0xFQVJcIjtcbiAgQ0xFQVJfTU9ERVMyW0NMRUFSX01PREVTMltcIkJMSVRcIl0gPSAyXSA9IFwiQkxJVFwiO1xuICByZXR1cm4gQ0xFQVJfTU9ERVMyO1xufSkoQ0xFQVJfTU9ERVMgfHwge30pO1xudmFyIEdDX01PREVTID0gLyogQF9fUFVSRV9fICovICgoR0NfTU9ERVMyKSA9PiB7XG4gIEdDX01PREVTMltHQ19NT0RFUzJbXCJBVVRPXCJdID0gMF0gPSBcIkFVVE9cIjtcbiAgR0NfTU9ERVMyW0dDX01PREVTMltcIk1BTlVBTFwiXSA9IDFdID0gXCJNQU5VQUxcIjtcbiAgcmV0dXJuIEdDX01PREVTMjtcbn0pKEdDX01PREVTIHx8IHt9KTtcbnZhciBQUkVDSVNJT04gPSAvKiBAX19QVVJFX18gKi8gKChQUkVDSVNJT04yKSA9PiB7XG4gIFBSRUNJU0lPTjJbXCJMT1dcIl0gPSBcImxvd3BcIjtcbiAgUFJFQ0lTSU9OMltcIk1FRElVTVwiXSA9IFwibWVkaXVtcFwiO1xuICBQUkVDSVNJT04yW1wiSElHSFwiXSA9IFwiaGlnaHBcIjtcbiAgcmV0dXJuIFBSRUNJU0lPTjI7XG59KShQUkVDSVNJT04gfHwge30pO1xudmFyIE1BU0tfVFlQRVMgPSAvKiBAX19QVVJFX18gKi8gKChNQVNLX1RZUEVTMikgPT4ge1xuICBNQVNLX1RZUEVTMltNQVNLX1RZUEVTMltcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICBNQVNLX1RZUEVTMltNQVNLX1RZUEVTMltcIlNDSVNTT1JcIl0gPSAxXSA9IFwiU0NJU1NPUlwiO1xuICBNQVNLX1RZUEVTMltNQVNLX1RZUEVTMltcIlNURU5DSUxcIl0gPSAyXSA9IFwiU1RFTkNJTFwiO1xuICBNQVNLX1RZUEVTMltNQVNLX1RZUEVTMltcIlNQUklURVwiXSA9IDNdID0gXCJTUFJJVEVcIjtcbiAgTUFTS19UWVBFUzJbTUFTS19UWVBFUzJbXCJDT0xPUlwiXSA9IDRdID0gXCJDT0xPUlwiO1xuICByZXR1cm4gTUFTS19UWVBFUzI7XG59KShNQVNLX1RZUEVTIHx8IHt9KTtcbnZhciBDT0xPUl9NQVNLX0JJVFMgPSAvKiBAX19QVVJFX18gKi8gKChDT0xPUl9NQVNLX0JJVFMyKSA9PiB7XG4gIENPTE9SX01BU0tfQklUUzJbQ09MT1JfTUFTS19CSVRTMltcIlJFRFwiXSA9IDFdID0gXCJSRURcIjtcbiAgQ09MT1JfTUFTS19CSVRTMltDT0xPUl9NQVNLX0JJVFMyW1wiR1JFRU5cIl0gPSAyXSA9IFwiR1JFRU5cIjtcbiAgQ09MT1JfTUFTS19CSVRTMltDT0xPUl9NQVNLX0JJVFMyW1wiQkxVRVwiXSA9IDRdID0gXCJCTFVFXCI7XG4gIENPTE9SX01BU0tfQklUUzJbQ09MT1JfTUFTS19CSVRTMltcIkFMUEhBXCJdID0gOF0gPSBcIkFMUEhBXCI7XG4gIHJldHVybiBDT0xPUl9NQVNLX0JJVFMyO1xufSkoQ09MT1JfTUFTS19CSVRTIHx8IHt9KTtcbnZhciBNU0FBX1FVQUxJVFkgPSAvKiBAX19QVVJFX18gKi8gKChNU0FBX1FVQUxJVFkyKSA9PiB7XG4gIE1TQUFfUVVBTElUWTJbTVNBQV9RVUFMSVRZMltcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICBNU0FBX1FVQUxJVFkyW01TQUFfUVVBTElUWTJbXCJMT1dcIl0gPSAyXSA9IFwiTE9XXCI7XG4gIE1TQUFfUVVBTElUWTJbTVNBQV9RVUFMSVRZMltcIk1FRElVTVwiXSA9IDRdID0gXCJNRURJVU1cIjtcbiAgTVNBQV9RVUFMSVRZMltNU0FBX1FVQUxJVFkyW1wiSElHSFwiXSA9IDhdID0gXCJISUdIXCI7XG4gIHJldHVybiBNU0FBX1FVQUxJVFkyO1xufSkoTVNBQV9RVUFMSVRZIHx8IHt9KTtcbnZhciBCVUZGRVJfVFlQRSA9IC8qIEBfX1BVUkVfXyAqLyAoKEJVRkZFUl9UWVBFMikgPT4ge1xuICBCVUZGRVJfVFlQRTJbQlVGRkVSX1RZUEUyW1wiRUxFTUVOVF9BUlJBWV9CVUZGRVJcIl0gPSAzNDk2M10gPSBcIkVMRU1FTlRfQVJSQVlfQlVGRkVSXCI7XG4gIEJVRkZFUl9UWVBFMltCVUZGRVJfVFlQRTJbXCJBUlJBWV9CVUZGRVJcIl0gPSAzNDk2Ml0gPSBcIkFSUkFZX0JVRkZFUlwiO1xuICBCVUZGRVJfVFlQRTJbQlVGRkVSX1RZUEUyW1wiVU5JRk9STV9CVUZGRVJcIl0gPSAzNTM0NV0gPSBcIlVOSUZPUk1fQlVGRkVSXCI7XG4gIHJldHVybiBCVUZGRVJfVFlQRTI7XG59KShCVUZGRVJfVFlQRSB8fCB7fSk7XG5cbmV4cG9ydCB7IEFMUEhBX01PREVTLCBCTEVORF9NT0RFUywgQlVGRkVSX0JJVFMsIEJVRkZFUl9UWVBFLCBDTEVBUl9NT0RFUywgQ09MT1JfTUFTS19CSVRTLCBEUkFXX01PREVTLCBFTlYsIEZPUk1BVFMsIEdDX01PREVTLCBNQVNLX1RZUEVTLCBNSVBNQVBfTU9ERVMsIE1TQUFfUVVBTElUWSwgUFJFQ0lTSU9OLCBSRU5ERVJFUl9UWVBFLCBTQU1QTEVSX1RZUEVTLCBTQ0FMRV9NT0RFUywgVEFSR0VUUywgVFlQRVMsIFdSQVBfTU9ERVMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIlxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SVJlbmRlcmVyLm1qcy5tYXBcbiIsImltcG9ydCB7IFJFTkRFUkVSX1RZUEUgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uLCBpc1dlYkdMU3VwcG9ydGVkIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi9zaGFkZXIvVW5pZm9ybUdyb3VwLm1qcyc7XG5pbXBvcnQgeyBTeXN0ZW1NYW5hZ2VyIH0gZnJvbSAnLi9zeXN0ZW0vU3lzdGVtTWFuYWdlci5tanMnO1xuXG5jb25zdCBfUmVuZGVyZXIgPSBjbGFzcyBleHRlbmRzIFN5c3RlbU1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnR5cGUgPSBSRU5ERVJFUl9UWVBFLldFQkdMO1xuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBzZXR0aW5ncy5SRU5ERVJfT1BUSU9OUywgb3B0aW9ucyk7XG4gICAgdGhpcy5nbCA9IG51bGw7XG4gICAgdGhpcy5DT05URVhUX1VJRCA9IDA7XG4gICAgdGhpcy5nbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgcHJvamVjdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpXG4gICAgfSwgdHJ1ZSk7XG4gICAgY29uc3Qgc3lzdGVtQ29uZmlnID0ge1xuICAgICAgcnVubmVyczogW1xuICAgICAgICBcImluaXRcIixcbiAgICAgICAgXCJkZXN0cm95XCIsXG4gICAgICAgIFwiY29udGV4dENoYW5nZVwiLFxuICAgICAgICBcInJlc29sdXRpb25DaGFuZ2VcIixcbiAgICAgICAgXCJyZXNldFwiLFxuICAgICAgICBcInVwZGF0ZVwiLFxuICAgICAgICBcInBvc3RyZW5kZXJcIixcbiAgICAgICAgXCJwcmVyZW5kZXJcIixcbiAgICAgICAgXCJyZXNpemVcIlxuICAgICAgXSxcbiAgICAgIHN5c3RlbXM6IF9SZW5kZXJlci5fX3N5c3RlbXMsXG4gICAgICBwcmlvcml0eTogW1xuICAgICAgICBcIl92aWV3XCIsXG4gICAgICAgIFwidGV4dHVyZUdlbmVyYXRvclwiLFxuICAgICAgICBcImJhY2tncm91bmRcIixcbiAgICAgICAgXCJfcGx1Z2luXCIsXG4gICAgICAgIFwic3RhcnR1cFwiLFxuICAgICAgICBcImNvbnRleHRcIixcbiAgICAgICAgXCJzdGF0ZVwiLFxuICAgICAgICBcInRleHR1cmVcIixcbiAgICAgICAgXCJidWZmZXJcIixcbiAgICAgICAgXCJnZW9tZXRyeVwiLFxuICAgICAgICBcImZyYW1lYnVmZmVyXCIsXG4gICAgICAgIFwidHJhbnNmb3JtRmVlZGJhY2tcIixcbiAgICAgICAgXCJtYXNrXCIsXG4gICAgICAgIFwic2Npc3NvclwiLFxuICAgICAgICBcInN0ZW5jaWxcIixcbiAgICAgICAgXCJwcm9qZWN0aW9uXCIsXG4gICAgICAgIFwidGV4dHVyZUdDXCIsXG4gICAgICAgIFwiZmlsdGVyXCIsXG4gICAgICAgIFwicmVuZGVyVGV4dHVyZVwiLFxuICAgICAgICBcImJhdGNoXCIsXG4gICAgICAgIFwib2JqZWN0UmVuZGVyZXJcIixcbiAgICAgICAgXCJfbXVsdGlzYW1wbGVcIlxuICAgICAgXVxuICAgIH07XG4gICAgdGhpcy5zZXR1cChzeXN0ZW1Db25maWcpO1xuICAgIGlmIChcInVzZUNvbnRleHRBbHBoYVwiIGluIG9wdGlvbnMpIHtcbiAgICAgIGRlcHJlY2F0aW9uKFwiNy4wLjBcIiwgXCJvcHRpb25zLnVzZUNvbnRleHRBbHBoYSBpcyBkZXByZWNhdGVkLCB1c2Ugb3B0aW9ucy5wcmVtdWx0aXBsaWVkQWxwaGEgYW5kIG9wdGlvbnMuYmFja2dyb3VuZEFscGhhIGluc3RlYWRcIik7XG4gICAgICBvcHRpb25zLnByZW11bHRpcGxpZWRBbHBoYSA9IG9wdGlvbnMudXNlQ29udGV4dEFscGhhICYmIG9wdGlvbnMudXNlQ29udGV4dEFscGhhICE9PSBcIm5vdE11bHRpcGxpZWRcIjtcbiAgICAgIG9wdGlvbnMuYmFja2dyb3VuZEFscGhhID0gb3B0aW9ucy51c2VDb250ZXh0QWxwaGEgPT09IGZhbHNlID8gMSA6IG9wdGlvbnMuYmFja2dyb3VuZEFscGhhO1xuICAgIH1cbiAgICB0aGlzLl9wbHVnaW4ucmVuZGVyZXJQbHVnaW5zID0gX1JlbmRlcmVyLl9fcGx1Z2lucztcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuc3RhcnR1cC5ydW4odGhpcy5vcHRpb25zKTtcbiAgfVxuICBzdGF0aWMgdGVzdChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnM/LmZvcmNlQ2FudmFzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBpc1dlYkdMU3VwcG9ydGVkKCk7XG4gIH1cbiAgcmVuZGVyKGRpc3BsYXlPYmplY3QsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9iamVjdFJlbmRlcmVyLnJlbmRlcihkaXNwbGF5T2JqZWN0LCBvcHRpb25zKTtcbiAgfVxuICByZXNpemUoZGVzaXJlZFNjcmVlbldpZHRoLCBkZXNpcmVkU2NyZWVuSGVpZ2h0KSB7XG4gICAgdGhpcy5fdmlldy5yZXNpemVWaWV3KGRlc2lyZWRTY3JlZW5XaWR0aCwgZGVzaXJlZFNjcmVlbkhlaWdodCk7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5ydW5uZXJzLnJlc2V0LmVtaXQoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzLnJlbmRlclRleHR1cmUuYmluZCgpO1xuICAgIHRoaXMucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICB9XG4gIGRlc3Ryb3kocmVtb3ZlVmlldyA9IGZhbHNlKSB7XG4gICAgdGhpcy5ydW5uZXJzLmRlc3Ryb3kuaXRlbXMucmV2ZXJzZSgpO1xuICAgIHRoaXMuZW1pdFdpdGhDdXN0b21PcHRpb25zKHRoaXMucnVubmVycy5kZXN0cm95LCB7XG4gICAgICBfdmlldzogcmVtb3ZlVmlld1xuICAgIH0pO1xuICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgfVxuICBnZXQgcGx1Z2lucygpIHtcbiAgICByZXR1cm4gdGhpcy5fcGx1Z2luLnBsdWdpbnM7XG4gIH1cbiAgZ2V0IG11bHRpc2FtcGxlKCkge1xuICAgIHJldHVybiB0aGlzLl9tdWx0aXNhbXBsZS5tdWx0aXNhbXBsZTtcbiAgfVxuICBnZXQgd2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZpZXcuZWxlbWVudC53aWR0aDtcbiAgfVxuICBnZXQgaGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLl92aWV3LmVsZW1lbnQuaGVpZ2h0O1xuICB9XG4gIGdldCByZXNvbHV0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl92aWV3LnJlc29sdXRpb247XG4gIH1cbiAgc2V0IHJlc29sdXRpb24odmFsdWUpIHtcbiAgICB0aGlzLl92aWV3LnJlc29sdXRpb24gPSB2YWx1ZTtcbiAgICB0aGlzLnJ1bm5lcnMucmVzb2x1dGlvbkNoYW5nZS5lbWl0KHZhbHVlKTtcbiAgfVxuICBnZXQgYXV0b0RlbnNpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZpZXcuYXV0b0RlbnNpdHk7XG4gIH1cbiAgZ2V0IHZpZXcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZpZXcuZWxlbWVudDtcbiAgfVxuICBnZXQgc2NyZWVuKCkge1xuICAgIHJldHVybiB0aGlzLl92aWV3LnNjcmVlbjtcbiAgfVxuICBnZXQgbGFzdE9iamVjdFJlbmRlcmVkKCkge1xuICAgIHJldHVybiB0aGlzLm9iamVjdFJlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgfVxuICBnZXQgcmVuZGVyaW5nVG9TY3JlZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqZWN0UmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW47XG4gIH1cbiAgZ2V0IHJlbmRlcmVyTG9nSWQoKSB7XG4gICAgcmV0dXJuIGBXZWJHTCAke3RoaXMuY29udGV4dC53ZWJHTFZlcnNpb259YDtcbiAgfVxuICBnZXQgY2xlYXJCZWZvcmVSZW5kZXIoKSB7XG4gICAgZGVwcmVjYXRpb24oXCI3LjAuMFwiLCBcInJlbmRlcmVyLmNsZWFyQmVmb3JlUmVuZGVyIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuYmFja2dyb3VuZC5jbGVhckJlZm9yZVJlbmRlciBpbnN0ZWFkLlwiKTtcbiAgICByZXR1cm4gdGhpcy5iYWNrZ3JvdW5kLmNsZWFyQmVmb3JlUmVuZGVyO1xuICB9XG4gIGdldCB1c2VDb250ZXh0QWxwaGEoKSB7XG4gICAgZGVwcmVjYXRpb24oXCI3LjAuMFwiLCBcInJlbmRlcmVyLnVzZUNvbnRleHRBbHBoYSBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmNvbnRleHQucHJlbXVsdGlwbGllZEFscGhhIGluc3RlYWQuXCIpO1xuICAgIHJldHVybiB0aGlzLmNvbnRleHQudXNlQ29udGV4dEFscGhhO1xuICB9XG4gIGdldCBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIoKSB7XG4gICAgZGVwcmVjYXRpb24oXCI3LjAuMFwiLCBcInJlbmRlcmVyLnByZXNlcnZlRHJhd2luZ0J1ZmZlciBoYXMgYmVlbiBkZXByZWNhdGVkLCB3ZSBjYW5ub3QgdHJ1bHkga25vdyB0aGlzIHVubGVzcyBwaXhpIGNyZWF0ZWQgdGhlIGNvbnRleHRcIik7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dC5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI7XG4gIH1cbiAgZ2V0IGJhY2tncm91bmRDb2xvcigpIHtcbiAgICBkZXByZWNhdGlvbihcIjcuMC4wXCIsIFwicmVuZGVyZXIuYmFja2dyb3VuZENvbG9yIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHVzZSByZW5kZXJlci5iYWNrZ3JvdW5kLmNvbG9yIGluc3RlYWQuXCIpO1xuICAgIHJldHVybiB0aGlzLmJhY2tncm91bmQuY29sb3I7XG4gIH1cbiAgc2V0IGJhY2tncm91bmRDb2xvcih2YWx1ZSkge1xuICAgIGRlcHJlY2F0aW9uKFwiNy4wLjBcIiwgXCJyZW5kZXJlci5iYWNrZ3JvdW5kQ29sb3IgaGFzIGJlZW4gZGVwcmVjYXRlZCwgdXNlIHJlbmRlcmVyLmJhY2tncm91bmQuY29sb3IgaW5zdGVhZC5cIik7XG4gICAgdGhpcy5iYWNrZ3JvdW5kLmNvbG9yID0gdmFsdWU7XG4gIH1cbiAgZ2V0IGJhY2tncm91bmRBbHBoYSgpIHtcbiAgICBkZXByZWNhdGlvbihcIjcuMC4wXCIsIFwicmVuZGVyZXIuYmFja2dyb3VuZEFscGhhIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHVzZSByZW5kZXJlci5iYWNrZ3JvdW5kLmFscGhhIGluc3RlYWQuXCIpO1xuICAgIHJldHVybiB0aGlzLmJhY2tncm91bmQuYWxwaGE7XG4gIH1cbiAgc2V0IGJhY2tncm91bmRBbHBoYSh2YWx1ZSkge1xuICAgIGRlcHJlY2F0aW9uKFwiNy4wLjBcIiwgXCJyZW5kZXJlci5iYWNrZ3JvdW5kQWxwaGEgaGFzIGJlZW4gZGVwcmVjYXRlZCwgdXNlIHJlbmRlcmVyLmJhY2tncm91bmQuYWxwaGEgaW5zdGVhZC5cIik7XG4gICAgdGhpcy5iYWNrZ3JvdW5kLmFscGhhID0gdmFsdWU7XG4gIH1cbiAgZ2V0IHBvd2VyUHJlZmVyZW5jZSgpIHtcbiAgICBkZXByZWNhdGlvbihcIjcuMC4wXCIsIFwicmVuZGVyZXIucG93ZXJQcmVmZXJlbmNlIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHdlIGNhbiBvbmx5IGtub3cgdGhpcyBpZiBwaXhpIGNyZWF0ZXMgdGhlIGNvbnRleHRcIik7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dC5wb3dlclByZWZlcmVuY2U7XG4gIH1cbiAgZ2VuZXJhdGVUZXh0dXJlKGRpc3BsYXlPYmplY3QsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0dXJlR2VuZXJhdG9yLmdlbmVyYXRlVGV4dHVyZShkaXNwbGF5T2JqZWN0LCBvcHRpb25zKTtcbiAgfVxufTtcbmxldCBSZW5kZXJlciA9IF9SZW5kZXJlcjtcblJlbmRlcmVyLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlcixcbiAgcHJpb3JpdHk6IDFcbn07XG5SZW5kZXJlci5fX3BsdWdpbnMgPSB7fTtcblJlbmRlcmVyLl9fc3lzdGVtcyA9IHt9O1xuZXh0ZW5zaW9ucy5oYW5kbGVCeU1hcChFeHRlbnNpb25UeXBlLlJlbmRlcmVyUGx1Z2luLCBSZW5kZXJlci5fX3BsdWdpbnMpO1xuZXh0ZW5zaW9ucy5oYW5kbGVCeU1hcChFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLCBSZW5kZXJlci5fX3N5c3RlbXMpO1xuZXh0ZW5zaW9ucy5hZGQoUmVuZGVyZXIpO1xuXG5leHBvcnQgeyBSZW5kZXJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucywgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuXG5jb25zdCByZW5kZXJlcnMgPSBbXTtcbmV4dGVuc2lvbnMuaGFuZGxlQnlMaXN0KEV4dGVuc2lvblR5cGUuUmVuZGVyZXIsIHJlbmRlcmVycyk7XG5mdW5jdGlvbiBhdXRvRGV0ZWN0UmVuZGVyZXIob3B0aW9ucykge1xuICBmb3IgKGNvbnN0IFJlbmRlcmVyVHlwZSBvZiByZW5kZXJlcnMpIHtcbiAgICBpZiAoUmVuZGVyZXJUeXBlLnRlc3Qob3B0aW9ucykpIHtcbiAgICAgIHJldHVybiBuZXcgUmVuZGVyZXJUeXBlKG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gYXV0by1kZXRlY3QgYSBzdWl0YWJsZSByZW5kZXJlci5cIik7XG59XG5cbmV4cG9ydCB7IGF1dG9EZXRlY3RSZW5kZXJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXV0b0RldGVjdFJlbmRlcmVyLm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnQHBpeGkvY29sb3InO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuXG5jbGFzcyBCYWNrZ3JvdW5kU3lzdGVtIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IHRydWU7XG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gbmV3IENvbG9yKDApO1xuICAgIHRoaXMuYWxwaGEgPSAxO1xuICB9XG4gIGluaXQob3B0aW9ucykge1xuICAgIHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyO1xuICAgIGNvbnN0IHsgYmFja2dyb3VuZENvbG9yLCBiYWNrZ3JvdW5kLCBiYWNrZ3JvdW5kQWxwaGEgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgY29sb3IgPSBiYWNrZ3JvdW5kID8/IGJhY2tncm91bmRDb2xvcjtcbiAgICBpZiAoY29sb3IgIT09IHZvaWQgMCkge1xuICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgIH1cbiAgICB0aGlzLmFscGhhID0gYmFja2dyb3VuZEFscGhhO1xuICB9XG4gIGdldCBjb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yLnZhbHVlO1xuICB9XG4gIHNldCBjb2xvcih2YWx1ZSkge1xuICAgIHRoaXMuX2JhY2tncm91bmRDb2xvci5zZXRWYWx1ZSh2YWx1ZSk7XG4gIH1cbiAgZ2V0IGFscGhhKCkge1xuICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IuYWxwaGE7XG4gIH1cbiAgc2V0IGFscGhhKHZhbHVlKSB7XG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yLnNldEFscGhhKHZhbHVlKTtcbiAgfVxuICBnZXQgYmFja2dyb3VuZENvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgfVxufVxuQmFja2dyb3VuZFN5c3RlbS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgYmFja2dyb3VuZEFscGhhOiAxLFxuICBiYWNrZ3JvdW5kQ29sb3I6IDAsXG4gIGNsZWFyQmVmb3JlUmVuZGVyOiB0cnVlXG59O1xuQmFja2dyb3VuZFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUmVuZGVyZXJTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJiYWNrZ3JvdW5kXCJcbn07XG5leHRlbnNpb25zLmFkZChCYWNrZ3JvdW5kU3lzdGVtKTtcblxuZXhwb3J0IHsgQmFja2dyb3VuZFN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFja2dyb3VuZFN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBEUkFXX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuY2xhc3MgQmF0Y2hEcmF3Q2FsbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudGV4QXJyYXkgPSBudWxsO1xuICAgIHRoaXMuYmxlbmQgPSAwO1xuICAgIHRoaXMudHlwZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgeyBCYXRjaERyYXdDYWxsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaERyYXdDYWxsLm1qcy5tYXBcbiIsImltcG9ydCB7IFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJy4uL2dlb21ldHJ5L0J1ZmZlci5tanMnO1xuaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuLi9nZW9tZXRyeS9HZW9tZXRyeS5tanMnO1xuXG5jbGFzcyBCYXRjaEdlb21ldHJ5IGV4dGVuZHMgR2VvbWV0cnkge1xuICBjb25zdHJ1Y3Rvcihfc3RhdGljID0gZmFsc2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2J1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgZmFsc2UpO1xuICAgIHRoaXMuX2luZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihudWxsLCBfc3RhdGljLCB0cnVlKTtcbiAgICB0aGlzLmFkZEF0dHJpYnV0ZShcImFWZXJ0ZXhQb3NpdGlvblwiLCB0aGlzLl9idWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVCkuYWRkQXR0cmlidXRlKFwiYVRleHR1cmVDb29yZFwiLCB0aGlzLl9idWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVCkuYWRkQXR0cmlidXRlKFwiYUNvbG9yXCIsIHRoaXMuX2J1ZmZlciwgNCwgdHJ1ZSwgVFlQRVMuVU5TSUdORURfQllURSkuYWRkQXR0cmlidXRlKFwiYVRleHR1cmVJZFwiLCB0aGlzLl9idWZmZXIsIDEsIHRydWUsIFRZUEVTLkZMT0FUKS5hZGRJbmRleCh0aGlzLl9pbmRleEJ1ZmZlcik7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmF0Y2hHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hHZW9tZXRyeS5tanMubWFwXG4iLCJpbXBvcnQgeyBDb2xvciB9IGZyb20gJ0BwaXhpL2NvbG9yJztcbmltcG9ydCB7IEVOViB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uLCBwcmVtdWx0aXBseUJsZW5kTW9kZSwgbmV4dFBvdzIsIGxvZzIgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBWaWV3YWJsZUJ1ZmZlciB9IGZyb20gJy4uL2dlb21ldHJ5L1ZpZXdhYmxlQnVmZmVyLm1qcyc7XG5pbXBvcnQgeyBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyIH0gZnJvbSAnLi4vc2hhZGVyL3V0aWxzL2NoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIubWpzJztcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi4vc3RhdGUvU3RhdGUubWpzJztcbmltcG9ydCB7IEJhc2VUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZXMvQmFzZVRleHR1cmUubWpzJztcbmltcG9ydCB7IEJhdGNoRHJhd0NhbGwgfSBmcm9tICcuL0JhdGNoRHJhd0NhbGwubWpzJztcbmltcG9ydCB7IEJhdGNoR2VvbWV0cnkgfSBmcm9tICcuL0JhdGNoR2VvbWV0cnkubWpzJztcbmltcG9ydCB7IEJhdGNoU2hhZGVyR2VuZXJhdG9yIH0gZnJvbSAnLi9CYXRjaFNoYWRlckdlbmVyYXRvci5tanMnO1xuaW1wb3J0IHsgQmF0Y2hUZXh0dXJlQXJyYXkgfSBmcm9tICcuL0JhdGNoVGV4dHVyZUFycmF5Lm1qcyc7XG5pbXBvcnQgeyBjYW5VcGxvYWRTYW1lQnVmZmVyIH0gZnJvbSAnLi9jYW5VcGxvYWRTYW1lQnVmZmVyLm1qcyc7XG5pbXBvcnQgeyBtYXhSZWNvbW1lbmRlZFRleHR1cmVzIH0gZnJvbSAnLi9tYXhSZWNvbW1lbmRlZFRleHR1cmVzLm1qcyc7XG5pbXBvcnQgeyBPYmplY3RSZW5kZXJlciB9IGZyb20gJy4vT2JqZWN0UmVuZGVyZXIubWpzJztcbmltcG9ydCBkZWZhdWx0RnJhZ21lbnQgZnJvbSAnLi90ZXh0dXJlLm1qcyc7XG5pbXBvcnQgZGVmYXVsdFZlcnRleCBmcm9tICcuL3RleHR1cmUyLm1qcyc7XG5cbmNvbnN0IF9CYXRjaFJlbmRlcmVyID0gY2xhc3MgZXh0ZW5kcyBPYmplY3RSZW5kZXJlciB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgc3VwZXIocmVuZGVyZXIpO1xuICAgIHRoaXMuc2V0U2hhZGVyR2VuZXJhdG9yKCk7XG4gICAgdGhpcy5nZW9tZXRyeUNsYXNzID0gQmF0Y2hHZW9tZXRyeTtcbiAgICB0aGlzLnZlcnRleFNpemUgPSA2O1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgIHRoaXMuc2l6ZSA9IF9CYXRjaFJlbmRlcmVyLmRlZmF1bHRCYXRjaFNpemUgKiA0O1xuICAgIHRoaXMuX3ZlcnRleENvdW50ID0gMDtcbiAgICB0aGlzLl9pbmRleENvdW50ID0gMDtcbiAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzID0gW107XG4gICAgdGhpcy5fYnVmZmVyZWRUZXh0dXJlcyA9IFtdO1xuICAgIHRoaXMuX2J1ZmZlclNpemUgPSAwO1xuICAgIHRoaXMuX3NoYWRlciA9IG51bGw7XG4gICAgdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IFtdO1xuICAgIHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPSAyO1xuICAgIHRoaXMuX2ZsdXNoSWQgPSAwO1xuICAgIHRoaXMuX2FCdWZmZXJzID0ge307XG4gICAgdGhpcy5faUJ1ZmZlcnMgPSB7fTtcbiAgICB0aGlzLm1heFRleHR1cmVzID0gMTtcbiAgICB0aGlzLnJlbmRlcmVyLm9uKFwicHJlcmVuZGVyXCIsIHRoaXMub25QcmVyZW5kZXIsIHRoaXMpO1xuICAgIHJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5hZGQodGhpcyk7XG4gICAgdGhpcy5fZGNJbmRleCA9IDA7XG4gICAgdGhpcy5fYUluZGV4ID0gMDtcbiAgICB0aGlzLl9pSW5kZXggPSAwO1xuICAgIHRoaXMuX2F0dHJpYnV0ZUJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5faW5kZXhCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuX3RlbXBCb3VuZFRleHR1cmVzID0gW107XG4gIH1cbiAgc3RhdGljIGdldCBkZWZhdWx0TWF4VGV4dHVyZXMoKSB7XG4gICAgdGhpcy5fZGVmYXVsdE1heFRleHR1cmVzID0gdGhpcy5fZGVmYXVsdE1heFRleHR1cmVzID8/IG1heFJlY29tbWVuZGVkVGV4dHVyZXMoMzIpO1xuICAgIHJldHVybiB0aGlzLl9kZWZhdWx0TWF4VGV4dHVyZXM7XG4gIH1cbiAgc3RhdGljIHNldCBkZWZhdWx0TWF4VGV4dHVyZXModmFsdWUpIHtcbiAgICB0aGlzLl9kZWZhdWx0TWF4VGV4dHVyZXMgPSB2YWx1ZTtcbiAgfVxuICBzdGF0aWMgZ2V0IGNhblVwbG9hZFNhbWVCdWZmZXIoKSB7XG4gICAgdGhpcy5fY2FuVXBsb2FkU2FtZUJ1ZmZlciA9IHRoaXMuX2NhblVwbG9hZFNhbWVCdWZmZXIgPz8gY2FuVXBsb2FkU2FtZUJ1ZmZlcigpO1xuICAgIHJldHVybiB0aGlzLl9jYW5VcGxvYWRTYW1lQnVmZmVyO1xuICB9XG4gIHN0YXRpYyBzZXQgY2FuVXBsb2FkU2FtZUJ1ZmZlcih2YWx1ZSkge1xuICAgIHRoaXMuX2NhblVwbG9hZFNhbWVCdWZmZXIgPSB2YWx1ZTtcbiAgfVxuICBnZXQgTUFYX1RFWFRVUkVTKCkge1xuICAgIGRlcHJlY2F0aW9uKFwiNy4xLjBcIiwgXCJCYXRjaFJlbmRlcmVyI01BWF9URVhUVVJFUyByZW5hbWVkIHRvIEJhdGNoUmVuZGVyZXIjbWF4VGV4dHVyZXNcIik7XG4gICAgcmV0dXJuIHRoaXMubWF4VGV4dHVyZXM7XG4gIH1cbiAgc3RhdGljIGdldCBkZWZhdWx0VmVydGV4U3JjKCkge1xuICAgIHJldHVybiBkZWZhdWx0VmVydGV4O1xuICB9XG4gIHN0YXRpYyBnZXQgZGVmYXVsdEZyYWdtZW50VGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudDtcbiAgfVxuICBzZXRTaGFkZXJHZW5lcmF0b3Ioe1xuICAgIHZlcnRleCA9IF9CYXRjaFJlbmRlcmVyLmRlZmF1bHRWZXJ0ZXhTcmMsXG4gICAgZnJhZ21lbnQgPSBfQmF0Y2hSZW5kZXJlci5kZWZhdWx0RnJhZ21lbnRUZW1wbGF0ZVxuICB9ID0ge30pIHtcbiAgICB0aGlzLnNoYWRlckdlbmVyYXRvciA9IG5ldyBCYXRjaFNoYWRlckdlbmVyYXRvcih2ZXJ0ZXgsIGZyYWdtZW50KTtcbiAgfVxuICBjb250ZXh0Q2hhbmdlKCkge1xuICAgIGNvbnN0IGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSkge1xuICAgICAgdGhpcy5tYXhUZXh0dXJlcyA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWF4VGV4dHVyZXMgPSBNYXRoLm1pbihnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLCBfQmF0Y2hSZW5kZXJlci5kZWZhdWx0TWF4VGV4dHVyZXMpO1xuICAgICAgdGhpcy5tYXhUZXh0dXJlcyA9IGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIodGhpcy5tYXhUZXh0dXJlcywgZ2wpO1xuICAgIH1cbiAgICB0aGlzLl9zaGFkZXIgPSB0aGlzLnNoYWRlckdlbmVyYXRvci5nZW5lcmF0ZVNoYWRlcih0aGlzLm1heFRleHR1cmVzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemU7IGkrKykge1xuICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXSA9IG5ldyB0aGlzLmdlb21ldHJ5Q2xhc3MoKTtcbiAgICB9XG4gICAgdGhpcy5pbml0Rmx1c2hCdWZmZXJzKCk7XG4gIH1cbiAgaW5pdEZsdXNoQnVmZmVycygpIHtcbiAgICBjb25zdCB7XG4gICAgICBfZHJhd0NhbGxQb29sLFxuICAgICAgX3RleHR1cmVBcnJheVBvb2xcbiAgICB9ID0gX0JhdGNoUmVuZGVyZXI7XG4gICAgY29uc3QgTUFYX1NQUklURVMgPSB0aGlzLnNpemUgLyA0O1xuICAgIGNvbnN0IE1BWF9UQSA9IE1hdGguZmxvb3IoTUFYX1NQUklURVMgLyB0aGlzLm1heFRleHR1cmVzKSArIDE7XG4gICAgd2hpbGUgKF9kcmF3Q2FsbFBvb2wubGVuZ3RoIDwgTUFYX1NQUklURVMpIHtcbiAgICAgIF9kcmF3Q2FsbFBvb2wucHVzaChuZXcgQmF0Y2hEcmF3Q2FsbCgpKTtcbiAgICB9XG4gICAgd2hpbGUgKF90ZXh0dXJlQXJyYXlQb29sLmxlbmd0aCA8IE1BWF9UQSkge1xuICAgICAgX3RleHR1cmVBcnJheVBvb2wucHVzaChuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICB0aGlzLl90ZW1wQm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgfVxuICB9XG4gIG9uUHJlcmVuZGVyKCkge1xuICAgIHRoaXMuX2ZsdXNoSWQgPSAwO1xuICB9XG4gIHJlbmRlcihlbGVtZW50KSB7XG4gICAgaWYgKCFlbGVtZW50Ll90ZXh0dXJlLnZhbGlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl92ZXJ0ZXhDb3VudCArIGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyID4gdGhpcy5zaXplKSB7XG4gICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfVxuICAgIHRoaXMuX3ZlcnRleENvdW50ICs9IGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyO1xuICAgIHRoaXMuX2luZGV4Q291bnQgKz0gZWxlbWVudC5pbmRpY2VzLmxlbmd0aDtcbiAgICB0aGlzLl9idWZmZXJlZFRleHR1cmVzW3RoaXMuX2J1ZmZlclNpemVdID0gZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzW3RoaXMuX2J1ZmZlclNpemUrK10gPSBlbGVtZW50O1xuICB9XG4gIGJ1aWxkVGV4dHVyZXNBbmREcmF3Q2FsbHMoKSB7XG4gICAgY29uc3Qge1xuICAgICAgX2J1ZmZlcmVkVGV4dHVyZXM6IHRleHR1cmVzLFxuICAgICAgbWF4VGV4dHVyZXNcbiAgICB9ID0gdGhpcztcbiAgICBjb25zdCB0ZXh0dXJlQXJyYXlzID0gX0JhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2w7XG4gICAgY29uc3QgYmF0Y2ggPSB0aGlzLnJlbmRlcmVyLmJhdGNoO1xuICAgIGNvbnN0IGJvdW5kVGV4dHVyZXMgPSB0aGlzLl90ZW1wQm91bmRUZXh0dXJlcztcbiAgICBjb25zdCB0b3VjaCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuICAgIGxldCBUSUNLID0gKytCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2g7XG4gICAgbGV0IGNvdW50VGV4QXJyYXlzID0gMDtcbiAgICBsZXQgdGV4QXJyYXkgPSB0ZXh0dXJlQXJyYXlzWzBdO1xuICAgIGxldCBzdGFydCA9IDA7XG4gICAgYmF0Y2guY29weUJvdW5kVGV4dHVyZXMoYm91bmRUZXh0dXJlcywgbWF4VGV4dHVyZXMpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fYnVmZmVyU2l6ZTsgKytpKSB7XG4gICAgICBjb25zdCB0ZXggPSB0ZXh0dXJlc1tpXTtcbiAgICAgIHRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgIGlmICh0ZXguX2JhdGNoRW5hYmxlZCA9PT0gVElDSykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0ZXhBcnJheS5jb3VudCA+PSBtYXhUZXh0dXJlcykge1xuICAgICAgICBiYXRjaC5ib3VuZEFycmF5KHRleEFycmF5LCBib3VuZFRleHR1cmVzLCBUSUNLLCBtYXhUZXh0dXJlcyk7XG4gICAgICAgIHRoaXMuYnVpbGREcmF3Q2FsbHModGV4QXJyYXksIHN0YXJ0LCBpKTtcbiAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICB0ZXhBcnJheSA9IHRleHR1cmVBcnJheXNbKytjb3VudFRleEFycmF5c107XG4gICAgICAgICsrVElDSztcbiAgICAgIH1cbiAgICAgIHRleC5fYmF0Y2hFbmFibGVkID0gVElDSztcbiAgICAgIHRleC50b3VjaGVkID0gdG91Y2g7XG4gICAgICB0ZXhBcnJheS5lbGVtZW50c1t0ZXhBcnJheS5jb3VudCsrXSA9IHRleDtcbiAgICB9XG4gICAgaWYgKHRleEFycmF5LmNvdW50ID4gMCkge1xuICAgICAgYmF0Y2guYm91bmRBcnJheSh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgVElDSywgbWF4VGV4dHVyZXMpO1xuICAgICAgdGhpcy5idWlsZERyYXdDYWxscyh0ZXhBcnJheSwgc3RhcnQsIHRoaXMuX2J1ZmZlclNpemUpO1xuICAgICAgKytjb3VudFRleEFycmF5cztcbiAgICAgICsrVElDSztcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICB9XG4gICAgQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gVElDSztcbiAgfVxuICBidWlsZERyYXdDYWxscyh0ZXhBcnJheSwgc3RhcnQsIGZpbmlzaCkge1xuICAgIGNvbnN0IHtcbiAgICAgIF9idWZmZXJlZEVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgIF9hdHRyaWJ1dGVCdWZmZXIsXG4gICAgICBfaW5kZXhCdWZmZXIsXG4gICAgICB2ZXJ0ZXhTaXplXG4gICAgfSA9IHRoaXM7XG4gICAgY29uc3QgZHJhd0NhbGxzID0gX0JhdGNoUmVuZGVyZXIuX2RyYXdDYWxsUG9vbDtcbiAgICBsZXQgZGNJbmRleCA9IHRoaXMuX2RjSW5kZXg7XG4gICAgbGV0IGFJbmRleCA9IHRoaXMuX2FJbmRleDtcbiAgICBsZXQgaUluZGV4ID0gdGhpcy5faUluZGV4O1xuICAgIGxldCBkcmF3Q2FsbCA9IGRyYXdDYWxsc1tkY0luZGV4XTtcbiAgICBkcmF3Q2FsbC5zdGFydCA9IHRoaXMuX2lJbmRleDtcbiAgICBkcmF3Q2FsbC50ZXhBcnJheSA9IHRleEFycmF5O1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGZpbmlzaDsgKytpKSB7XG4gICAgICBjb25zdCBzcHJpdGUgPSBlbGVtZW50c1tpXTtcbiAgICAgIGNvbnN0IHRleCA9IHNwcml0ZS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgIGNvbnN0IHNwcml0ZUJsZW5kTW9kZSA9IHByZW11bHRpcGx5QmxlbmRNb2RlW3RleC5hbHBoYU1vZGUgPyAxIDogMF1bc3ByaXRlLmJsZW5kTW9kZV07XG4gICAgICBlbGVtZW50c1tpXSA9IG51bGw7XG4gICAgICBpZiAoc3RhcnQgPCBpICYmIGRyYXdDYWxsLmJsZW5kICE9PSBzcHJpdGVCbGVuZE1vZGUpIHtcbiAgICAgICAgZHJhd0NhbGwuc2l6ZSA9IGlJbmRleCAtIGRyYXdDYWxsLnN0YXJ0O1xuICAgICAgICBzdGFydCA9IGk7XG4gICAgICAgIGRyYXdDYWxsID0gZHJhd0NhbGxzWysrZGNJbmRleF07XG4gICAgICAgIGRyYXdDYWxsLnRleEFycmF5ID0gdGV4QXJyYXk7XG4gICAgICAgIGRyYXdDYWxsLnN0YXJ0ID0gaUluZGV4O1xuICAgICAgfVxuICAgICAgdGhpcy5wYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeShzcHJpdGUsIF9hdHRyaWJ1dGVCdWZmZXIsIF9pbmRleEJ1ZmZlciwgYUluZGV4LCBpSW5kZXgpO1xuICAgICAgYUluZGV4ICs9IHNwcml0ZS52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDIgKiB2ZXJ0ZXhTaXplO1xuICAgICAgaUluZGV4ICs9IHNwcml0ZS5pbmRpY2VzLmxlbmd0aDtcbiAgICAgIGRyYXdDYWxsLmJsZW5kID0gc3ByaXRlQmxlbmRNb2RlO1xuICAgIH1cbiAgICBpZiAoc3RhcnQgPCBmaW5pc2gpIHtcbiAgICAgIGRyYXdDYWxsLnNpemUgPSBpSW5kZXggLSBkcmF3Q2FsbC5zdGFydDtcbiAgICAgICsrZGNJbmRleDtcbiAgICB9XG4gICAgdGhpcy5fZGNJbmRleCA9IGRjSW5kZXg7XG4gICAgdGhpcy5fYUluZGV4ID0gYUluZGV4O1xuICAgIHRoaXMuX2lJbmRleCA9IGlJbmRleDtcbiAgfVxuICBiaW5kQW5kQ2xlYXJUZXhBcnJheSh0ZXhBcnJheSkge1xuICAgIGNvbnN0IHRleHR1cmVTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0ZXhBcnJheS5jb3VudDsgaisrKSB7XG4gICAgICB0ZXh0dXJlU3lzdGVtLmJpbmQodGV4QXJyYXkuZWxlbWVudHNbal0sIHRleEFycmF5Lmlkc1tqXSk7XG4gICAgICB0ZXhBcnJheS5lbGVtZW50c1tqXSA9IG51bGw7XG4gICAgfVxuICAgIHRleEFycmF5LmNvdW50ID0gMDtcbiAgfVxuICB1cGRhdGVHZW9tZXRyeSgpIHtcbiAgICBjb25zdCB7XG4gICAgICBfcGFja2VkR2VvbWV0cmllczogcGFja2VkR2VvbWV0cmllcyxcbiAgICAgIF9hdHRyaWJ1dGVCdWZmZXI6IGF0dHJpYnV0ZUJ1ZmZlcixcbiAgICAgIF9pbmRleEJ1ZmZlcjogaW5kZXhCdWZmZXJcbiAgICB9ID0gdGhpcztcbiAgICBpZiAoIV9CYXRjaFJlbmRlcmVyLmNhblVwbG9hZFNhbWVCdWZmZXIpIHtcbiAgICAgIGlmICh0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplIDw9IHRoaXMuX2ZsdXNoSWQpIHtcbiAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSsrO1xuICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdID0gbmV3IHRoaXMuZ2VvbWV0cnlDbGFzcygpO1xuICAgICAgfVxuICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5fYnVmZmVyLnVwZGF0ZShhdHRyaWJ1dGVCdWZmZXIucmF3QmluYXJ5RGF0YSk7XG4gICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9pbmRleEJ1ZmZlci51cGRhdGUoaW5kZXhCdWZmZXIpO1xuICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS5iaW5kKHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0pO1xuICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS51cGRhdGVCdWZmZXJzKCk7XG4gICAgICB0aGlzLl9mbHVzaElkKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2J1ZmZlci51cGRhdGUoYXR0cmlidXRlQnVmZmVyLnJhd0JpbmFyeURhdGEpO1xuICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5faW5kZXhCdWZmZXIudXBkYXRlKGluZGV4QnVmZmVyKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkudXBkYXRlQnVmZmVycygpO1xuICAgIH1cbiAgfVxuICBkcmF3QmF0Y2hlcygpIHtcbiAgICBjb25zdCBkY0NvdW50ID0gdGhpcy5fZGNJbmRleDtcbiAgICBjb25zdCB7IGdsLCBzdGF0ZTogc3RhdGVTeXN0ZW0gfSA9IHRoaXMucmVuZGVyZXI7XG4gICAgY29uc3QgZHJhd0NhbGxzID0gX0JhdGNoUmVuZGVyZXIuX2RyYXdDYWxsUG9vbDtcbiAgICBsZXQgY3VyVGV4QXJyYXkgPSBudWxsO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGNDb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCB7IHRleEFycmF5LCB0eXBlLCBzaXplLCBzdGFydCwgYmxlbmQgfSA9IGRyYXdDYWxsc1tpXTtcbiAgICAgIGlmIChjdXJUZXhBcnJheSAhPT0gdGV4QXJyYXkpIHtcbiAgICAgICAgY3VyVGV4QXJyYXkgPSB0ZXhBcnJheTtcbiAgICAgICAgdGhpcy5iaW5kQW5kQ2xlYXJUZXhBcnJheSh0ZXhBcnJheSk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IGJsZW5kO1xuICAgICAgc3RhdGVTeXN0ZW0uc2V0KHRoaXMuc3RhdGUpO1xuICAgICAgZ2wuZHJhd0VsZW1lbnRzKHR5cGUsIHNpemUsIGdsLlVOU0lHTkVEX1NIT1JULCBzdGFydCAqIDIpO1xuICAgIH1cbiAgfVxuICBmbHVzaCgpIHtcbiAgICBpZiAodGhpcy5fdmVydGV4Q291bnQgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fYXR0cmlidXRlQnVmZmVyID0gdGhpcy5nZXRBdHRyaWJ1dGVCdWZmZXIodGhpcy5fdmVydGV4Q291bnQpO1xuICAgIHRoaXMuX2luZGV4QnVmZmVyID0gdGhpcy5nZXRJbmRleEJ1ZmZlcih0aGlzLl9pbmRleENvdW50KTtcbiAgICB0aGlzLl9hSW5kZXggPSAwO1xuICAgIHRoaXMuX2lJbmRleCA9IDA7XG4gICAgdGhpcy5fZGNJbmRleCA9IDA7XG4gICAgdGhpcy5idWlsZFRleHR1cmVzQW5kRHJhd0NhbGxzKCk7XG4gICAgdGhpcy51cGRhdGVHZW9tZXRyeSgpO1xuICAgIHRoaXMuZHJhd0JhdGNoZXMoKTtcbiAgICB0aGlzLl9idWZmZXJTaXplID0gMDtcbiAgICB0aGlzLl92ZXJ0ZXhDb3VudCA9IDA7XG4gICAgdGhpcy5faW5kZXhDb3VudCA9IDA7XG4gIH1cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmVuc3VyZVNhbXBsZXJUeXBlKHRoaXMubWF4VGV4dHVyZXMpO1xuICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5fc2hhZGVyKTtcbiAgICBpZiAoX0JhdGNoUmVuZGVyZXIuY2FuVXBsb2FkU2FtZUJ1ZmZlcikge1xuICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0pO1xuICAgIH1cbiAgfVxuICBzdG9wKCkge1xuICAgIHRoaXMuZmx1c2goKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZTsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXSkge1xuICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5yZW5kZXJlci5vZmYoXCJwcmVyZW5kZXJcIiwgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG4gICAgdGhpcy5fYUJ1ZmZlcnMgPSBudWxsO1xuICAgIHRoaXMuX2lCdWZmZXJzID0gbnVsbDtcbiAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzID0gbnVsbDtcbiAgICB0aGlzLl9hdHRyaWJ1dGVCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuX2luZGV4QnVmZmVyID0gbnVsbDtcbiAgICBpZiAodGhpcy5fc2hhZGVyKSB7XG4gICAgICB0aGlzLl9zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgdGhpcy5fc2hhZGVyID0gbnVsbDtcbiAgICB9XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICB9XG4gIGdldEF0dHJpYnV0ZUJ1ZmZlcihzaXplKSB7XG4gICAgY29uc3Qgcm91bmRlZFAyID0gbmV4dFBvdzIoTWF0aC5jZWlsKHNpemUgLyA4KSk7XG4gICAgY29uc3Qgcm91bmRlZFNpemVJbmRleCA9IGxvZzIocm91bmRlZFAyKTtcbiAgICBjb25zdCByb3VuZGVkU2l6ZSA9IHJvdW5kZWRQMiAqIDg7XG4gICAgaWYgKHRoaXMuX2FCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KSB7XG4gICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICB9XG4gICAgbGV0IGJ1ZmZlciA9IHRoaXMuX2FCdWZmZXJzW3JvdW5kZWRTaXplXTtcbiAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdID0gYnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKHJvdW5kZWRTaXplICogdGhpcy52ZXJ0ZXhTaXplICogNCk7XG4gICAgfVxuICAgIHJldHVybiBidWZmZXI7XG4gIH1cbiAgZ2V0SW5kZXhCdWZmZXIoc2l6ZSkge1xuICAgIGNvbnN0IHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gMTIpKTtcbiAgICBjb25zdCByb3VuZGVkU2l6ZUluZGV4ID0gbG9nMihyb3VuZGVkUDIpO1xuICAgIGNvbnN0IHJvdW5kZWRTaXplID0gcm91bmRlZFAyICogMTI7XG4gICAgaWYgKHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KSB7XG4gICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICB9XG4gICAgbGV0IGJ1ZmZlciA9IHRoaXMuX2lCdWZmZXJzW3JvdW5kZWRTaXplSW5kZXhdO1xuICAgIGlmICghYnVmZmVyKSB7XG4gICAgICB0aGlzLl9pQnVmZmVyc1tyb3VuZGVkU2l6ZUluZGV4XSA9IGJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheShyb3VuZGVkU2l6ZSk7XG4gICAgfVxuICAgIHJldHVybiBidWZmZXI7XG4gIH1cbiAgcGFja0ludGVybGVhdmVkR2VvbWV0cnkoZWxlbWVudCwgYXR0cmlidXRlQnVmZmVyLCBpbmRleEJ1ZmZlciwgYUluZGV4LCBpSW5kZXgpIHtcbiAgICBjb25zdCB7XG4gICAgICB1aW50MzJWaWV3LFxuICAgICAgZmxvYXQzMlZpZXdcbiAgICB9ID0gYXR0cmlidXRlQnVmZmVyO1xuICAgIGNvbnN0IHBhY2tlZFZlcnRpY2VzID0gYUluZGV4IC8gdGhpcy52ZXJ0ZXhTaXplO1xuICAgIGNvbnN0IHV2cyA9IGVsZW1lbnQudXZzO1xuICAgIGNvbnN0IGluZGljaWVzID0gZWxlbWVudC5pbmRpY2VzO1xuICAgIGNvbnN0IHZlcnRleERhdGEgPSBlbGVtZW50LnZlcnRleERhdGE7XG4gICAgY29uc3QgdGV4dHVyZUlkID0gZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5fYmF0Y2hMb2NhdGlvbjtcbiAgICBjb25zdCBhbHBoYSA9IE1hdGgubWluKGVsZW1lbnQud29ybGRBbHBoYSwgMSk7XG4gICAgY29uc3QgYXJnYiA9IENvbG9yLnNoYXJlZC5zZXRWYWx1ZShlbGVtZW50Ll90aW50UkdCKS50b1ByZW11bHRpcGxpZWQoYWxwaGEsIGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmUuYWxwaGFNb2RlID4gMCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdmVydGV4RGF0YVtpICsgMV07XG4gICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaV07XG4gICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaSArIDFdO1xuICAgICAgdWludDMyVmlld1thSW5kZXgrK10gPSBhcmdiO1xuICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdGV4dHVyZUlkO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGljaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpbmRleEJ1ZmZlcltpSW5kZXgrK10gPSBwYWNrZWRWZXJ0aWNlcyArIGluZGljaWVzW2ldO1xuICAgIH1cbiAgfVxufTtcbmxldCBCYXRjaFJlbmRlcmVyID0gX0JhdGNoUmVuZGVyZXI7XG5CYXRjaFJlbmRlcmVyLmRlZmF1bHRCYXRjaFNpemUgPSA0MDk2O1xuQmF0Y2hSZW5kZXJlci5leHRlbnNpb24gPSB7XG4gIG5hbWU6IFwiYmF0Y2hcIixcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclBsdWdpblxufTtcbkJhdGNoUmVuZGVyZXIuX2RyYXdDYWxsUG9vbCA9IFtdO1xuQmF0Y2hSZW5kZXJlci5fdGV4dHVyZUFycmF5UG9vbCA9IFtdO1xuZXh0ZW5zaW9ucy5hZGQoQmF0Y2hSZW5kZXJlcik7XG5cbmV4cG9ydCB7IEJhdGNoUmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhdGNoUmVuZGVyZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBQcm9ncmFtIH0gZnJvbSAnLi4vc2hhZGVyL1Byb2dyYW0ubWpzJztcbmltcG9ydCB7IFNoYWRlciB9IGZyb20gJy4uL3NoYWRlci9TaGFkZXIubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcblxuY2xhc3MgQmF0Y2hTaGFkZXJHZW5lcmF0b3Ige1xuICBjb25zdHJ1Y3Rvcih2ZXJ0ZXhTcmMsIGZyYWdUZW1wbGF0ZSkge1xuICAgIHRoaXMudmVydGV4U3JjID0gdmVydGV4U3JjO1xuICAgIHRoaXMuZnJhZ1RlbXBsYXRlID0gZnJhZ1RlbXBsYXRlO1xuICAgIHRoaXMucHJvZ3JhbUNhY2hlID0ge307XG4gICAgdGhpcy5kZWZhdWx0R3JvdXBDYWNoZSA9IHt9O1xuICAgIGlmICghZnJhZ1RlbXBsYXRlLmluY2x1ZGVzKFwiJWNvdW50JVwiKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGcmFnbWVudCB0ZW1wbGF0ZSBtdXN0IGNvbnRhaW4gXCIlY291bnQlXCIuJyk7XG4gICAgfVxuICAgIGlmICghZnJhZ1RlbXBsYXRlLmluY2x1ZGVzKFwiJWZvcmxvb3AlXCIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZyYWdtZW50IHRlbXBsYXRlIG11c3QgY29udGFpbiBcIiVmb3Jsb29wJVwiLicpO1xuICAgIH1cbiAgfVxuICBnZW5lcmF0ZVNoYWRlcihtYXhUZXh0dXJlcykge1xuICAgIGlmICghdGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdKSB7XG4gICAgICBjb25zdCBzYW1wbGVWYWx1ZXMgPSBuZXcgSW50MzJBcnJheShtYXhUZXh0dXJlcyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspIHtcbiAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gaTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGVbbWF4VGV4dHVyZXNdID0gVW5pZm9ybUdyb3VwLmZyb20oeyB1U2FtcGxlcnM6IHNhbXBsZVZhbHVlcyB9LCB0cnVlKTtcbiAgICAgIGxldCBmcmFnbWVudFNyYyA9IHRoaXMuZnJhZ1RlbXBsYXRlO1xuICAgICAgZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYy5yZXBsYWNlKC8lY291bnQlL2dpLCBgJHttYXhUZXh0dXJlc31gKTtcbiAgICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCB0aGlzLmdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKSk7XG4gICAgICB0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10gPSBuZXcgUHJvZ3JhbSh0aGlzLnZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgIH1cbiAgICBjb25zdCB1bmlmb3JtcyA9IHtcbiAgICAgIHRpbnQ6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgIHRyYW5zbGF0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICBkZWZhdWx0OiB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXVxuICAgIH07XG4gICAgcmV0dXJuIG5ldyBTaGFkZXIodGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdLCB1bmlmb3Jtcyk7XG4gIH1cbiAgZ2VuZXJhdGVTYW1wbGVTcmMobWF4VGV4dHVyZXMpIHtcbiAgICBsZXQgc3JjID0gXCJcIjtcbiAgICBzcmMgKz0gXCJcXG5cIjtcbiAgICBzcmMgKz0gXCJcXG5cIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspIHtcbiAgICAgIGlmIChpID4gMCkge1xuICAgICAgICBzcmMgKz0gXCJcXG5lbHNlIFwiO1xuICAgICAgfVxuICAgICAgaWYgKGkgPCBtYXhUZXh0dXJlcyAtIDEpIHtcbiAgICAgICAgc3JjICs9IGBpZih2VGV4dHVyZUlkIDwgJHtpfS41KWA7XG4gICAgICB9XG4gICAgICBzcmMgKz0gXCJcXG57XCI7XG4gICAgICBzcmMgKz0gYFxuXHRjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlcnNbJHtpfV0sIHZUZXh0dXJlQ29vcmQpO2A7XG4gICAgICBzcmMgKz0gXCJcXG59XCI7XG4gICAgfVxuICAgIHNyYyArPSBcIlxcblwiO1xuICAgIHNyYyArPSBcIlxcblwiO1xuICAgIHJldHVybiBzcmM7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmF0Y2hTaGFkZXJHZW5lcmF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhdGNoU2hhZGVyR2VuZXJhdG9yLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcbmltcG9ydCB7IE9iamVjdFJlbmRlcmVyIH0gZnJvbSAnLi9PYmplY3RSZW5kZXJlci5tanMnO1xuXG5jbGFzcyBCYXRjaFN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuZW1wdHlSZW5kZXJlciA9IG5ldyBPYmplY3RSZW5kZXJlcihyZW5kZXJlcik7XG4gICAgdGhpcy5jdXJyZW50UmVuZGVyZXIgPSB0aGlzLmVtcHR5UmVuZGVyZXI7XG4gIH1cbiAgc2V0T2JqZWN0UmVuZGVyZXIob2JqZWN0UmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50UmVuZGVyZXIgPT09IG9iamVjdFJlbmRlcmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0b3AoKTtcbiAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG9iamVjdFJlbmRlcmVyO1xuICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gIH1cbiAgZmx1c2goKSB7XG4gICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5lbXB0eVJlbmRlcmVyKTtcbiAgfVxuICBjb3B5Qm91bmRUZXh0dXJlcyhhcnIsIG1heFRleHR1cmVzKSB7XG4gICAgY29uc3QgeyBib3VuZFRleHR1cmVzIH0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgZm9yIChsZXQgaSA9IG1heFRleHR1cmVzIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGFycltpXSA9IGJvdW5kVGV4dHVyZXNbaV0gfHwgbnVsbDtcbiAgICAgIGlmIChhcnJbaV0pIHtcbiAgICAgICAgYXJyW2ldLl9iYXRjaExvY2F0aW9uID0gaTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYm91bmRBcnJheSh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgYmF0Y2hJZCwgbWF4VGV4dHVyZXMpIHtcbiAgICBjb25zdCB7IGVsZW1lbnRzLCBpZHMsIGNvdW50IH0gPSB0ZXhBcnJheTtcbiAgICBsZXQgaiA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCB0ZXggPSBlbGVtZW50c1tpXTtcbiAgICAgIGNvbnN0IGxvYyA9IHRleC5fYmF0Y2hMb2NhdGlvbjtcbiAgICAgIGlmIChsb2MgPj0gMCAmJiBsb2MgPCBtYXhUZXh0dXJlcyAmJiBib3VuZFRleHR1cmVzW2xvY10gPT09IHRleCkge1xuICAgICAgICBpZHNbaV0gPSBsb2M7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgd2hpbGUgKGogPCBtYXhUZXh0dXJlcykge1xuICAgICAgICBjb25zdCBib3VuZCA9IGJvdW5kVGV4dHVyZXNbal07XG4gICAgICAgIGlmIChib3VuZCAmJiBib3VuZC5fYmF0Y2hFbmFibGVkID09PSBiYXRjaElkICYmIGJvdW5kLl9iYXRjaExvY2F0aW9uID09PSBqKSB7XG4gICAgICAgICAgaisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlkc1tpXSA9IGo7XG4gICAgICAgIHRleC5fYmF0Y2hMb2NhdGlvbiA9IGo7XG4gICAgICAgIGJvdW5kVGV4dHVyZXNbal0gPSB0ZXg7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG5CYXRjaFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IEV4dGVuc2lvblR5cGUuUmVuZGVyZXJTeXN0ZW0sXG4gIG5hbWU6IFwiYmF0Y2hcIlxufTtcbmV4dGVuc2lvbnMuYWRkKEJhdGNoU3lzdGVtKTtcblxuZXhwb3J0IHsgQmF0Y2hTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhdGNoU3lzdGVtLm1qcy5tYXBcbiIsImNsYXNzIEJhdGNoVGV4dHVyZUFycmF5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5lbGVtZW50cyA9IFtdO1xuICAgIHRoaXMuaWRzID0gW107XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gIH1cbiAgY2xlYXIoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvdW50OyBpKyspIHtcbiAgICAgIHRoaXMuZWxlbWVudHNbaV0gPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgfVxufVxuXG5leHBvcnQgeyBCYXRjaFRleHR1cmVBcnJheSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hUZXh0dXJlQXJyYXkubWpzLm1hcFxuIiwiY2xhc3MgT2JqZWN0UmVuZGVyZXIge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBmbHVzaCgpIHtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG4gIHN0YXJ0KCkge1xuICB9XG4gIHN0b3AoKSB7XG4gICAgdGhpcy5mbHVzaCgpO1xuICB9XG4gIHJlbmRlcihfb2JqZWN0KSB7XG4gIH1cbn1cblxuZXhwb3J0IHsgT2JqZWN0UmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdFJlbmRlcmVyLm1qcy5tYXBcbiIsImltcG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG5mdW5jdGlvbiBjYW5VcGxvYWRTYW1lQnVmZmVyKCkge1xuICByZXR1cm4gIWlzTW9iaWxlLmFwcGxlLmRldmljZTtcbn1cblxuZXhwb3J0IHsgY2FuVXBsb2FkU2FtZUJ1ZmZlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuVXBsb2FkU2FtZUJ1ZmZlci5tanMubWFwXG4iLCJpbXBvcnQgeyBzZXR0aW5ncywgaXNNb2JpbGUgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbmZ1bmN0aW9uIG1heFJlY29tbWVuZGVkVGV4dHVyZXMobWF4KSB7XG4gIGxldCBhbGxvd01heCA9IHRydWU7XG4gIGNvbnN0IG5hdmlnYXRvciA9IHNldHRpbmdzLkFEQVBURVIuZ2V0TmF2aWdhdG9yKCk7XG4gIGlmIChpc01vYmlsZS50YWJsZXQgfHwgaXNNb2JpbGUucGhvbmUpIHtcbiAgICBpZiAoaXNNb2JpbGUuYXBwbGUuZGV2aWNlKSB7XG4gICAgICBjb25zdCBtYXRjaCA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL09TIChcXGQrKV8oXFxkKyk/Lyk7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgY29uc3QgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICAgICAgaWYgKG1ham9yVmVyc2lvbiA8IDExKSB7XG4gICAgICAgICAgYWxsb3dNYXggPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNNb2JpbGUuYW5kcm9pZC5kZXZpY2UpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZFxccyhbMC05Ll0qKS8pO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGNvbnN0IG1ham9yVmVyc2lvbiA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG4gICAgICAgIGlmIChtYWpvclZlcnNpb24gPCA3KSB7XG4gICAgICAgICAgYWxsb3dNYXggPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gYWxsb3dNYXggPyBtYXggOiA0O1xufVxuXG5leHBvcnQgeyBtYXhSZWNvbW1lbmRlZFRleHR1cmVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXhSZWNvbW1lbmRlZFRleHR1cmVzLm1qcy5tYXBcbiIsInZhciBkZWZhdWx0RnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyc1slY291bnQlXTtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgICVmb3Jsb29wJVxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIHZDb2xvcjtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IGRlZmF1bHRGcmFnbWVudCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0dXJlLm1qcy5tYXBcbiIsInZhciBkZWZhdWx0VmVydGV4ID0gXCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzQgYUNvbG9yO1xcbmF0dHJpYnV0ZSBmbG9hdCBhVGV4dHVyZUlkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIHZlYzQgdGludDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcbnZhcnlpbmcgZmxvYXQgdlRleHR1cmVJZDtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2VGV4dHVyZUlkID0gYVRleHR1cmVJZDtcXG4gICAgdkNvbG9yID0gYUNvbG9yICogdGludDtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IGRlZmF1bHRWZXJ0ZXggYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dHVyZTIubWpzLm1hcFxuIiwiaW1wb3J0IHsgRU5WIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG5sZXQgQ09OVEVYVF9VSURfQ09VTlRFUiA9IDA7XG5jbGFzcyBDb250ZXh0U3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy53ZWJHTFZlcnNpb24gPSAxO1xuICAgIHRoaXMuZXh0ZW5zaW9ucyA9IHt9O1xuICAgIHRoaXMuc3VwcG9ydHMgPSB7XG4gICAgICB1aW50MzJJbmRpY2VzOiBmYWxzZVxuICAgIH07XG4gICAgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCA9IHRoaXMuaGFuZGxlQ29udGV4dExvc3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLmJpbmQodGhpcyk7XG4gIH1cbiAgZ2V0IGlzTG9zdCgpIHtcbiAgICByZXR1cm4gIXRoaXMuZ2wgfHwgdGhpcy5nbC5pc0NvbnRleHRMb3N0KCk7XG4gIH1cbiAgY29udGV4dENoYW5nZShnbCkge1xuICAgIHRoaXMuZ2wgPSBnbDtcbiAgICB0aGlzLnJlbmRlcmVyLmdsID0gZ2w7XG4gICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEX0NPVU5URVIrKztcbiAgfVxuICBpbml0KG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5jb250ZXh0KSB7XG4gICAgICB0aGlzLmluaXRGcm9tQ29udGV4dChvcHRpb25zLmNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBhbHBoYSA9IHRoaXMucmVuZGVyZXIuYmFja2dyb3VuZC5hbHBoYSA8IDE7XG4gICAgICBjb25zdCBwcmVtdWx0aXBsaWVkQWxwaGEgPSBvcHRpb25zLnByZW11bHRpcGxpZWRBbHBoYTtcbiAgICAgIHRoaXMucHJlc2VydmVEcmF3aW5nQnVmZmVyID0gb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI7XG4gICAgICB0aGlzLnVzZUNvbnRleHRBbHBoYSA9IG9wdGlvbnMudXNlQ29udGV4dEFscGhhO1xuICAgICAgdGhpcy5wb3dlclByZWZlcmVuY2UgPSBvcHRpb25zLnBvd2VyUHJlZmVyZW5jZTtcbiAgICAgIHRoaXMuaW5pdEZyb21PcHRpb25zKHtcbiAgICAgICAgYWxwaGEsXG4gICAgICAgIHByZW11bHRpcGxpZWRBbHBoYSxcbiAgICAgICAgYW50aWFsaWFzOiBvcHRpb25zLmFudGlhbGlhcyxcbiAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcixcbiAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiBvcHRpb25zLnBvd2VyUHJlZmVyZW5jZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGluaXRGcm9tQ29udGV4dChnbCkge1xuICAgIHRoaXMuZ2wgPSBnbDtcbiAgICB0aGlzLnZhbGlkYXRlQ29udGV4dChnbCk7XG4gICAgdGhpcy5yZW5kZXJlci5nbCA9IGdsO1xuICAgIHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQgPSBDT05URVhUX1VJRF9DT1VOVEVSKys7XG4gICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuZW1pdChnbCk7XG4gICAgY29uc3QgdmlldyA9IHRoaXMucmVuZGVyZXIudmlldztcbiAgICBpZiAodmlldy5hZGRFdmVudExpc3RlbmVyICE9PSB2b2lkIDApIHtcbiAgICAgIHZpZXcuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dGxvc3RcIiwgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCwgZmFsc2UpO1xuICAgICAgdmlldy5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0cmVzdG9yZWRcIiwgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQsIGZhbHNlKTtcbiAgICB9XG4gIH1cbiAgaW5pdEZyb21PcHRpb25zKG9wdGlvbnMpIHtcbiAgICBjb25zdCBnbCA9IHRoaXMuY3JlYXRlQ29udGV4dCh0aGlzLnJlbmRlcmVyLnZpZXcsIG9wdGlvbnMpO1xuICAgIHRoaXMuaW5pdEZyb21Db250ZXh0KGdsKTtcbiAgfVxuICBjcmVhdGVDb250ZXh0KGNhbnZhcywgb3B0aW9ucykge1xuICAgIGxldCBnbDtcbiAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA+PSBFTlYuV0VCR0wyKSB7XG4gICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2wyXCIsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoZ2wpIHtcbiAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAxO1xuICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIsIG9wdGlvbnMpIHx8IGNhbnZhcy5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsIG9wdGlvbnMpO1xuICAgICAgaWYgKCFnbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJHTC4gVHJ5IHVzaW5nIHRoZSBjYW52YXMgcmVuZGVyZXJcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZ2wgPSBnbDtcbiAgICB0aGlzLmdldEV4dGVuc2lvbnMoKTtcbiAgICByZXR1cm4gdGhpcy5nbDtcbiAgfVxuICBnZXRFeHRlbnNpb25zKCkge1xuICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG4gICAgY29uc3QgY29tbW9uID0ge1xuICAgICAgbG9zZUNvbnRleHQ6IGdsLmdldEV4dGVuc2lvbihcIldFQkdMX2xvc2VfY29udGV4dFwiKSxcbiAgICAgIGFuaXNvdHJvcGljRmlsdGVyaW5nOiBnbC5nZXRFeHRlbnNpb24oXCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIiksXG4gICAgICBmbG9hdFRleHR1cmVMaW5lYXI6IGdsLmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhclwiKSxcbiAgICAgIHMzdGM6IGdsLmdldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXCIpLFxuICAgICAgczN0Y19zUkdCOiBnbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiXCIpLFxuICAgICAgZXRjOiBnbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjXCIpLFxuICAgICAgZXRjMTogZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzFcIiksXG4gICAgICBwdnJ0YzogZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXCIpIHx8IGdsLmdldEV4dGVuc2lvbihcIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGNcIiksXG4gICAgICBhdGM6IGdsLmdldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hdGNcIiksXG4gICAgICBhc3RjOiBnbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0Y1wiKVxuICAgIH07XG4gICAgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAxKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywgY29tbW9uLCB7XG4gICAgICAgIGRyYXdCdWZmZXJzOiBnbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9kcmF3X2J1ZmZlcnNcIiksXG4gICAgICAgIGRlcHRoVGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfZGVwdGhfdGV4dHVyZVwiKSxcbiAgICAgICAgdmVydGV4QXJyYXlPYmplY3Q6IGdsLmdldEV4dGVuc2lvbihcIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0XCIpIHx8IGdsLmdldEV4dGVuc2lvbihcIk1PWl9PRVNfdmVydGV4X2FycmF5X29iamVjdFwiKSB8fCBnbC5nZXRFeHRlbnNpb24oXCJXRUJLSVRfT0VTX3ZlcnRleF9hcnJheV9vYmplY3RcIiksXG4gICAgICAgIHVpbnQzMkVsZW1lbnRJbmRleDogZ2wuZ2V0RXh0ZW5zaW9uKFwiT0VTX2VsZW1lbnRfaW5kZXhfdWludFwiKSxcbiAgICAgICAgZmxvYXRUZXh0dXJlOiBnbC5nZXRFeHRlbnNpb24oXCJPRVNfdGV4dHVyZV9mbG9hdFwiKSxcbiAgICAgICAgZmxvYXRUZXh0dXJlTGluZWFyOiBnbC5nZXRFeHRlbnNpb24oXCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXJcIiksXG4gICAgICAgIHRleHR1cmVIYWxmRmxvYXQ6IGdsLmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRcIiksXG4gICAgICAgIHRleHR1cmVIYWxmRmxvYXRMaW5lYXI6IGdsLmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyXCIpXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAyKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywgY29tbW9uLCB7XG4gICAgICAgIGNvbG9yQnVmZmVyRmxvYXQ6IGdsLmdldEV4dGVuc2lvbihcIkVYVF9jb2xvcl9idWZmZXJfZmxvYXRcIilcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBoYW5kbGVDb250ZXh0TG9zdChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5nbC5pc0NvbnRleHRMb3N0KCkgJiYgdGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9ucy5sb3NlQ29udGV4dC5yZXN0b3JlQ29udGV4dCgpO1xuICAgICAgfVxuICAgIH0sIDApO1xuICB9XG4gIGhhbmRsZUNvbnRleHRSZXN0b3JlZCgpIHtcbiAgICB0aGlzLnJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5lbWl0KHRoaXMuZ2wpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgY29uc3QgdmlldyA9IHRoaXMucmVuZGVyZXIudmlldztcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICBpZiAodmlldy5yZW1vdmVFdmVudExpc3RlbmVyICE9PSB2b2lkIDApIHtcbiAgICAgIHZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dGxvc3RcIiwgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCk7XG4gICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRyZXN0b3JlZFwiLCB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCk7XG4gICAgfVxuICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShudWxsKTtcbiAgICBpZiAodGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0KSB7XG4gICAgICB0aGlzLmV4dGVuc2lvbnMubG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICB9XG4gIH1cbiAgcG9zdHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJlci5vYmplY3RSZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgdGhpcy5nbC5mbHVzaCgpO1xuICAgIH1cbiAgfVxuICB2YWxpZGF0ZUNvbnRleHQoZ2wpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKTtcbiAgICBjb25zdCBpc1dlYkdsMiA9IFwiV2ViR0wyUmVuZGVyaW5nQ29udGV4dFwiIGluIGdsb2JhbFRoaXMgJiYgZ2wgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLldlYkdMMlJlbmRlcmluZ0NvbnRleHQ7XG4gICAgaWYgKGlzV2ViR2wyKSB7XG4gICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDI7XG4gICAgfVxuICAgIGlmIChhdHRyaWJ1dGVzICYmICFhdHRyaWJ1dGVzLnN0ZW5jaWwpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlByb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLCBtYXNrcyBtYXkgbm90IHJlbmRlciBjb3JyZWN0bHlcIik7XG4gICAgfVxuICAgIGNvbnN0IGhhc3VpbnQzMiA9IGlzV2ViR2wyIHx8ICEhZ2wuZ2V0RXh0ZW5zaW9uKFwiT0VTX2VsZW1lbnRfaW5kZXhfdWludFwiKTtcbiAgICB0aGlzLnN1cHBvcnRzLnVpbnQzMkluZGljZXMgPSBoYXN1aW50MzI7XG4gICAgaWYgKCFoYXN1aW50MzIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlByb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3Qgc3VwcG9ydCAzMiBpbmRleCBidWZmZXIsIGNvbXBsZXggZ3JhcGhpY3MgbWF5IG5vdCByZW5kZXIgY29ycmVjdGx5XCIpO1xuICAgIH1cbiAgfVxufVxuQ29udGV4dFN5c3RlbS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgY29udGV4dDogbnVsbCxcbiAgYW50aWFsaWFzOiBmYWxzZSxcbiAgcHJlbXVsdGlwbGllZEFscGhhOiB0cnVlLFxuICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IGZhbHNlLFxuICBwb3dlclByZWZlcmVuY2U6IFwiZGVmYXVsdFwiXG59O1xuQ29udGV4dFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IEV4dGVuc2lvblR5cGUuUmVuZGVyZXJTeXN0ZW0sXG4gIG5hbWU6IFwiY29udGV4dFwiXG59O1xuZXh0ZW5zaW9ucy5hZGQoQ29udGV4dFN5c3RlbSk7XG5cbmV4cG9ydCB7IENvbnRleHRTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnRleHRTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgTVNBQV9RVUFMSVRZIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFByb2dyYW0gfSBmcm9tICcuLi9zaGFkZXIvUHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgU2hhZGVyIH0gZnJvbSAnLi4vc2hhZGVyL1NoYWRlci5tanMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9zdGF0ZS9TdGF0ZS5tanMnO1xuaW1wb3J0IGRlZmF1bHRGcmFnbWVudCBmcm9tICcuL2RlZmF1bHRGaWx0ZXIubWpzJztcbmltcG9ydCBkZWZhdWx0VmVydGV4IGZyb20gJy4vZGVmYXVsdEZpbHRlcjIubWpzJztcblxuY29uc3QgX0ZpbHRlciA9IGNsYXNzIGV4dGVuZHMgU2hhZGVyIHtcbiAgY29uc3RydWN0b3IodmVydGV4U3JjLCBmcmFnbWVudFNyYywgdW5pZm9ybXMpIHtcbiAgICBjb25zdCBwcm9ncmFtID0gUHJvZ3JhbS5mcm9tKHZlcnRleFNyYyB8fCBfRmlsdGVyLmRlZmF1bHRWZXJ0ZXhTcmMsIGZyYWdtZW50U3JjIHx8IF9GaWx0ZXIuZGVmYXVsdEZyYWdtZW50U3JjKTtcbiAgICBzdXBlcihwcm9ncmFtLCB1bmlmb3Jtcyk7XG4gICAgdGhpcy5wYWRkaW5nID0gMDtcbiAgICB0aGlzLnJlc29sdXRpb24gPSBfRmlsdGVyLmRlZmF1bHRSZXNvbHV0aW9uO1xuICAgIHRoaXMubXVsdGlzYW1wbGUgPSBfRmlsdGVyLmRlZmF1bHRNdWx0aXNhbXBsZTtcbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuYXV0b0ZpdCA9IHRydWU7XG4gICAgdGhpcy5zdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICB9XG4gIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSwgX2N1cnJlbnRTdGF0ZSkge1xuICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgfVxuICBnZXQgYmxlbmRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgfVxuICBzZXQgYmxlbmRNb2RlKHZhbHVlKSB7XG4gICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgfVxuICBnZXQgcmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVzb2x1dGlvbjtcbiAgfVxuICBzZXQgcmVzb2x1dGlvbih2YWx1ZSkge1xuICAgIHRoaXMuX3Jlc29sdXRpb24gPSB2YWx1ZTtcbiAgfVxuICBzdGF0aWMgZ2V0IGRlZmF1bHRWZXJ0ZXhTcmMoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXg7XG4gIH1cbiAgc3RhdGljIGdldCBkZWZhdWx0RnJhZ21lbnRTcmMoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudDtcbiAgfVxufTtcbmxldCBGaWx0ZXIgPSBfRmlsdGVyO1xuRmlsdGVyLmRlZmF1bHRSZXNvbHV0aW9uID0gMTtcbkZpbHRlci5kZWZhdWx0TXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORTtcblxuZXhwb3J0IHsgRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWx0ZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgTVNBQV9RVUFMSVRZIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG5jbGFzcyBGaWx0ZXJTdGF0ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucmVuZGVyVGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgIHRoaXMubGVnYWN5ID0gZmFsc2U7XG4gICAgdGhpcy5yZXNvbHV0aW9uID0gMTtcbiAgICB0aGlzLm11bHRpc2FtcGxlID0gTVNBQV9RVUFMSVRZLk5PTkU7XG4gICAgdGhpcy5zb3VyY2VGcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgdGhpcy5iaW5kaW5nU291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgdGhpcy5iaW5kaW5nRGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB0aGlzLmZpbHRlcnMgPSBbXTtcbiAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gIH1cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgeyBGaWx0ZXJTdGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmlsdGVyU3RhdGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ0xFQVJfTU9ERVMsIERSQVdfTU9ERVMsIE1TQUFfUVVBTElUWSB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5pbXBvcnQgeyBQb2ludCwgTWF0cml4LCBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFJlbmRlclRleHR1cmVQb29sIH0gZnJvbSAnLi4vcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlUG9vbC5tanMnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi4vc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMnO1xuaW1wb3J0IHsgUXVhZCB9IGZyb20gJy4uL3V0aWxzL1F1YWQubWpzJztcbmltcG9ydCB7IFF1YWRVdiB9IGZyb20gJy4uL3V0aWxzL1F1YWRVdi5tanMnO1xuaW1wb3J0IHsgRmlsdGVyU3RhdGUgfSBmcm9tICcuL0ZpbHRlclN0YXRlLm1qcyc7XG5cbmNvbnN0IHRlbXBQb2ludHMgPSBbbmV3IFBvaW50KCksIG5ldyBQb2ludCgpLCBuZXcgUG9pbnQoKSwgbmV3IFBvaW50KCldO1xuY29uc3QgdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbmNsYXNzIEZpbHRlclN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrID0gW3t9XTtcbiAgICB0aGlzLnRleHR1cmVQb29sID0gbmV3IFJlbmRlclRleHR1cmVQb29sKCk7XG4gICAgdGhpcy5zdGF0ZVBvb2wgPSBbXTtcbiAgICB0aGlzLnF1YWQgPSBuZXcgUXVhZCgpO1xuICAgIHRoaXMucXVhZFV2ID0gbmV3IFF1YWRVdigpO1xuICAgIHRoaXMudGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgdGhpcy5hY3RpdmVTdGF0ZSA9IHt9O1xuICAgIHRoaXMuZ2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgIG91dHB1dEZyYW1lOiBuZXcgUmVjdGFuZ2xlKCksXG4gICAgICBpbnB1dFNpemU6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICBpbnB1dFBpeGVsOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgaW5wdXRDbGFtcDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICBmaWx0ZXJBcmVhOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgZmlsdGVyQ2xhbXA6IG5ldyBGbG9hdDMyQXJyYXkoNClcbiAgICB9LCB0cnVlKTtcbiAgICB0aGlzLmZvcmNlQ2xlYXIgPSBmYWxzZTtcbiAgICB0aGlzLnVzZU1heFBhZGRpbmcgPSBmYWxzZTtcbiAgfVxuICBpbml0KCkge1xuICAgIHRoaXMudGV4dHVyZVBvb2wuc2V0U2NyZWVuU2l6ZSh0aGlzLnJlbmRlcmVyLnZpZXcpO1xuICB9XG4gIHB1c2godGFyZ2V0LCBmaWx0ZXJzKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIGNvbnN0IGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlUG9vbC5wb3AoKSB8fCBuZXcgRmlsdGVyU3RhdGUoKTtcbiAgICBjb25zdCByZW5kZXJUZXh0dXJlU3lzdGVtID0gdGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlO1xuICAgIGxldCByZXNvbHV0aW9uID0gZmlsdGVyc1swXS5yZXNvbHV0aW9uO1xuICAgIGxldCBtdWx0aXNhbXBsZSA9IGZpbHRlcnNbMF0ubXVsdGlzYW1wbGU7XG4gICAgbGV0IHBhZGRpbmcgPSBmaWx0ZXJzWzBdLnBhZGRpbmc7XG4gICAgbGV0IGF1dG9GaXQgPSBmaWx0ZXJzWzBdLmF1dG9GaXQ7XG4gICAgbGV0IGxlZ2FjeSA9IGZpbHRlcnNbMF0ubGVnYWN5ID8/IHRydWU7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBmaWx0ZXIgPSBmaWx0ZXJzW2ldO1xuICAgICAgcmVzb2x1dGlvbiA9IE1hdGgubWluKHJlc29sdXRpb24sIGZpbHRlci5yZXNvbHV0aW9uKTtcbiAgICAgIG11bHRpc2FtcGxlID0gTWF0aC5taW4obXVsdGlzYW1wbGUsIGZpbHRlci5tdWx0aXNhbXBsZSk7XG4gICAgICBwYWRkaW5nID0gdGhpcy51c2VNYXhQYWRkaW5nID8gTWF0aC5tYXgocGFkZGluZywgZmlsdGVyLnBhZGRpbmcpIDogcGFkZGluZyArIGZpbHRlci5wYWRkaW5nO1xuICAgICAgYXV0b0ZpdCA9IGF1dG9GaXQgJiYgZmlsdGVyLmF1dG9GaXQ7XG4gICAgICBsZWdhY3kgPSBsZWdhY3kgfHwgKGZpbHRlci5sZWdhY3kgPz8gdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChmaWx0ZXJTdGFjay5sZW5ndGggPT09IDEpIHtcbiAgICAgIHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrWzBdLnJlbmRlclRleHR1cmUgPSByZW5kZXJUZXh0dXJlU3lzdGVtLmN1cnJlbnQ7XG4gICAgfVxuICAgIGZpbHRlclN0YWNrLnB1c2goc3RhdGUpO1xuICAgIHN0YXRlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgIHN0YXRlLm11bHRpc2FtcGxlID0gbXVsdGlzYW1wbGU7XG4gICAgc3RhdGUubGVnYWN5ID0gbGVnYWN5O1xuICAgIHN0YXRlLnRhcmdldCA9IHRhcmdldDtcbiAgICBzdGF0ZS5zb3VyY2VGcmFtZS5jb3B5RnJvbSh0YXJnZXQuZmlsdGVyQXJlYSB8fCB0YXJnZXQuZ2V0Qm91bmRzKHRydWUpKTtcbiAgICBzdGF0ZS5zb3VyY2VGcmFtZS5wYWQocGFkZGluZyk7XG4gICAgY29uc3Qgc291cmNlRnJhbWVQcm9qZWN0ZWQgPSB0aGlzLnRlbXBSZWN0LmNvcHlGcm9tKHJlbmRlclRleHR1cmVTeXN0ZW0uc291cmNlRnJhbWUpO1xuICAgIGlmIChyZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSkge1xuICAgICAgdGhpcy50cmFuc2Zvcm1BQUJCKHRlbXBNYXRyaXguY29weUZyb20ocmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0pLmludmVydCgpLCBzb3VyY2VGcmFtZVByb2plY3RlZCk7XG4gICAgfVxuICAgIGlmIChhdXRvRml0KSB7XG4gICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5maXQoc291cmNlRnJhbWVQcm9qZWN0ZWQpO1xuICAgICAgaWYgKHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoIDw9IDAgfHwgc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUud2lkdGggPSAwO1xuICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQgPSAwO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXN0YXRlLnNvdXJjZUZyYW1lLmludGVyc2VjdHMoc291cmNlRnJhbWVQcm9qZWN0ZWQpKSB7XG4gICAgICBzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCA9IDA7XG4gICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQgPSAwO1xuICAgIH1cbiAgICB0aGlzLnJvdW5kRnJhbWUoc3RhdGUuc291cmNlRnJhbWUsIHJlbmRlclRleHR1cmVTeXN0ZW0uY3VycmVudCA/IHJlbmRlclRleHR1cmVTeXN0ZW0uY3VycmVudC5yZXNvbHV0aW9uIDogcmVuZGVyZXIucmVzb2x1dGlvbiwgcmVuZGVyVGV4dHVyZVN5c3RlbS5zb3VyY2VGcmFtZSwgcmVuZGVyVGV4dHVyZVN5c3RlbS5kZXN0aW5hdGlvbkZyYW1lLCByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSk7XG4gICAgc3RhdGUucmVuZGVyVGV4dHVyZSA9IHRoaXMuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUoc3RhdGUuc291cmNlRnJhbWUud2lkdGgsIHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbiwgbXVsdGlzYW1wbGUpO1xuICAgIHN0YXRlLmZpbHRlcnMgPSBmaWx0ZXJzO1xuICAgIHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBzdGF0ZS5yZW5kZXJUZXh0dXJlLndpZHRoO1xuICAgIHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gc3RhdGUucmVuZGVyVGV4dHVyZS5oZWlnaHQ7XG4gICAgY29uc3QgZGVzdGluYXRpb25GcmFtZSA9IHRoaXMudGVtcFJlY3Q7XG4gICAgZGVzdGluYXRpb25GcmFtZS54ID0gMDtcbiAgICBkZXN0aW5hdGlvbkZyYW1lLnkgPSAwO1xuICAgIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aDtcbiAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodDtcbiAgICBzdGF0ZS5yZW5kZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gc3RhdGUuc291cmNlRnJhbWU7XG4gICAgc3RhdGUuYmluZGluZ1NvdXJjZUZyYW1lLmNvcHlGcm9tKHJlbmRlclRleHR1cmVTeXN0ZW0uc291cmNlRnJhbWUpO1xuICAgIHN0YXRlLmJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLmNvcHlGcm9tKHJlbmRlclRleHR1cmVTeXN0ZW0uZGVzdGluYXRpb25GcmFtZSk7XG4gICAgc3RhdGUudHJhbnNmb3JtID0gcmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm07XG4gICAgcmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0gPSBudWxsO1xuICAgIHJlbmRlclRleHR1cmVTeXN0ZW0uYmluZChzdGF0ZS5yZW5kZXJUZXh0dXJlLCBzdGF0ZS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSk7XG4gICAgcmVuZGVyZXIuZnJhbWVidWZmZXIuY2xlYXIoMCwgMCwgMCwgMCk7XG4gIH1cbiAgcG9wKCkge1xuICAgIGNvbnN0IGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgY29uc3Qgc3RhdGUgPSBmaWx0ZXJTdGFjay5wb3AoKTtcbiAgICBjb25zdCBmaWx0ZXJzID0gc3RhdGUuZmlsdGVycztcbiAgICB0aGlzLmFjdGl2ZVN0YXRlID0gc3RhdGU7XG4gICAgY29uc3QgZ2xvYmFsVW5pZm9ybXMgPSB0aGlzLmdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zO1xuICAgIGdsb2JhbFVuaWZvcm1zLm91dHB1dEZyYW1lID0gc3RhdGUuc291cmNlRnJhbWU7XG4gICAgZ2xvYmFsVW5pZm9ybXMucmVzb2x1dGlvbiA9IHN0YXRlLnJlc29sdXRpb247XG4gICAgY29uc3QgaW5wdXRTaXplID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRTaXplO1xuICAgIGNvbnN0IGlucHV0UGl4ZWwgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dFBpeGVsO1xuICAgIGNvbnN0IGlucHV0Q2xhbXAgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dENsYW1wO1xuICAgIGlucHV0U2l6ZVswXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgaW5wdXRTaXplWzFdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgaW5wdXRTaXplWzJdID0gMSAvIGlucHV0U2l6ZVswXTtcbiAgICBpbnB1dFNpemVbM10gPSAxIC8gaW5wdXRTaXplWzFdO1xuICAgIGlucHV0UGl4ZWxbMF0gPSBNYXRoLnJvdW5kKGlucHV0U2l6ZVswXSAqIHN0YXRlLnJlc29sdXRpb24pO1xuICAgIGlucHV0UGl4ZWxbMV0gPSBNYXRoLnJvdW5kKGlucHV0U2l6ZVsxXSAqIHN0YXRlLnJlc29sdXRpb24pO1xuICAgIGlucHV0UGl4ZWxbMl0gPSAxIC8gaW5wdXRQaXhlbFswXTtcbiAgICBpbnB1dFBpeGVsWzNdID0gMSAvIGlucHV0UGl4ZWxbMV07XG4gICAgaW5wdXRDbGFtcFswXSA9IDAuNSAqIGlucHV0UGl4ZWxbMl07XG4gICAgaW5wdXRDbGFtcFsxXSA9IDAuNSAqIGlucHV0UGl4ZWxbM107XG4gICAgaW5wdXRDbGFtcFsyXSA9IHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoICogaW5wdXRTaXplWzJdIC0gMC41ICogaW5wdXRQaXhlbFsyXTtcbiAgICBpbnB1dENsYW1wWzNdID0gc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0ICogaW5wdXRTaXplWzNdIC0gMC41ICogaW5wdXRQaXhlbFszXTtcbiAgICBpZiAoc3RhdGUubGVnYWN5KSB7XG4gICAgICBjb25zdCBmaWx0ZXJBcmVhID0gZ2xvYmFsVW5pZm9ybXMuZmlsdGVyQXJlYTtcbiAgICAgIGZpbHRlckFyZWFbMF0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgZmlsdGVyQXJlYVsxXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgICAgZmlsdGVyQXJlYVsyXSA9IHN0YXRlLnNvdXJjZUZyYW1lLng7XG4gICAgICBmaWx0ZXJBcmVhWzNdID0gc3RhdGUuc291cmNlRnJhbWUueTtcbiAgICAgIGdsb2JhbFVuaWZvcm1zLmZpbHRlckNsYW1wID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRDbGFtcDtcbiAgICB9XG4gICAgdGhpcy5nbG9iYWxVbmlmb3Jtcy51cGRhdGUoKTtcbiAgICBjb25zdCBsYXN0U3RhdGUgPSBmaWx0ZXJTdGFja1tmaWx0ZXJTdGFjay5sZW5ndGggLSAxXTtcbiAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmJsaXQoKTtcbiAgICBpZiAoZmlsdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGZpbHRlcnNbMF0uYXBwbHkodGhpcywgc3RhdGUucmVuZGVyVGV4dHVyZSwgbGFzdFN0YXRlLnJlbmRlclRleHR1cmUsIENMRUFSX01PREVTLkJMRU5ELCBzdGF0ZSk7XG4gICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUoc3RhdGUucmVuZGVyVGV4dHVyZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBmbGlwID0gc3RhdGUucmVuZGVyVGV4dHVyZTtcbiAgICAgIGxldCBmbG9wID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShmbGlwLndpZHRoLCBmbGlwLmhlaWdodCwgc3RhdGUucmVzb2x1dGlvbik7XG4gICAgICBmbG9wLmZpbHRlckZyYW1lID0gZmxpcC5maWx0ZXJGcmFtZTtcbiAgICAgIGxldCBpID0gMDtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICBpZiAoaSA9PT0gMSAmJiBzdGF0ZS5tdWx0aXNhbXBsZSA+IDEpIHtcbiAgICAgICAgICBmbG9wID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShmbGlwLndpZHRoLCBmbGlwLmhlaWdodCwgc3RhdGUucmVzb2x1dGlvbik7XG4gICAgICAgICAgZmxvcC5maWx0ZXJGcmFtZSA9IGZsaXAuZmlsdGVyRnJhbWU7XG4gICAgICAgIH1cbiAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBmbG9wLCBDTEVBUl9NT0RFUy5DTEVBUiwgc3RhdGUpO1xuICAgICAgICBjb25zdCB0ID0gZmxpcDtcbiAgICAgICAgZmxpcCA9IGZsb3A7XG4gICAgICAgIGZsb3AgPSB0O1xuICAgICAgfVxuICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgQ0xFQVJfTU9ERVMuQkxFTkQsIHN0YXRlKTtcbiAgICAgIGlmIChpID4gMSAmJiBzdGF0ZS5tdWx0aXNhbXBsZSA+IDEpIHtcbiAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKHN0YXRlLnJlbmRlclRleHR1cmUpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsaXApO1xuICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsb3ApO1xuICAgIH1cbiAgICBzdGF0ZS5jbGVhcigpO1xuICAgIHRoaXMuc3RhdGVQb29sLnB1c2goc3RhdGUpO1xuICB9XG4gIGJpbmRBbmRDbGVhcihmaWx0ZXJUZXh0dXJlLCBjbGVhck1vZGUgPSBDTEVBUl9NT0RFUy5DTEVBUikge1xuICAgIGNvbnN0IHtcbiAgICAgIHJlbmRlclRleHR1cmU6IHJlbmRlclRleHR1cmVTeXN0ZW0sXG4gICAgICBzdGF0ZTogc3RhdGVTeXN0ZW1cbiAgICB9ID0gdGhpcy5yZW5kZXJlcjtcbiAgICBpZiAoZmlsdGVyVGV4dHVyZSA9PT0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2tbdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2subGVuZ3RoIC0gMV0ucmVuZGVyVGV4dHVyZSkge1xuICAgICAgdGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IHRoaXMuYWN0aXZlU3RhdGUudHJhbnNmb3JtO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGZpbHRlclRleHR1cmU/LmZpbHRlckZyYW1lKSB7XG4gICAgICBjb25zdCBkZXN0aW5hdGlvbkZyYW1lID0gdGhpcy50ZW1wUmVjdDtcbiAgICAgIGRlc3RpbmF0aW9uRnJhbWUueCA9IDA7XG4gICAgICBkZXN0aW5hdGlvbkZyYW1lLnkgPSAwO1xuICAgICAgZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUud2lkdGg7XG4gICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUuaGVpZ2h0O1xuICAgICAgcmVuZGVyVGV4dHVyZVN5c3RlbS5iaW5kKGZpbHRlclRleHR1cmUsIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpO1xuICAgIH0gZWxzZSBpZiAoZmlsdGVyVGV4dHVyZSAhPT0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2tbdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2subGVuZ3RoIC0gMV0ucmVuZGVyVGV4dHVyZSkge1xuICAgICAgcmVuZGVyVGV4dHVyZVN5c3RlbS5iaW5kKGZpbHRlclRleHR1cmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChmaWx0ZXJUZXh0dXJlLCB0aGlzLmFjdGl2ZVN0YXRlLmJpbmRpbmdTb3VyY2VGcmFtZSwgdGhpcy5hY3RpdmVTdGF0ZS5iaW5kaW5nRGVzdGluYXRpb25GcmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGF1dG9DbGVhciA9IHN0YXRlU3lzdGVtLnN0YXRlSWQgJiAxIHx8IHRoaXMuZm9yY2VDbGVhcjtcbiAgICBpZiAoY2xlYXJNb2RlID09PSBDTEVBUl9NT0RFUy5DTEVBUiB8fCBjbGVhck1vZGUgPT09IENMRUFSX01PREVTLkJMSVQgJiYgYXV0b0NsZWFyKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmNsZWFyKDAsIDAsIDAsIDApO1xuICAgIH1cbiAgfVxuICBhcHBseUZpbHRlcihmaWx0ZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICByZW5kZXJlci5zdGF0ZS5zZXQoZmlsdGVyLnN0YXRlKTtcbiAgICB0aGlzLmJpbmRBbmRDbGVhcihvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgZmlsdGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gaW5wdXQ7XG4gICAgZmlsdGVyLnVuaWZvcm1zLmZpbHRlckdsb2JhbHMgPSB0aGlzLmdsb2JhbFVuaWZvcm1zO1xuICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKGZpbHRlcik7XG4gICAgZmlsdGVyLmxlZ2FjeSA9ICEhZmlsdGVyLnByb2dyYW0uYXR0cmlidXRlRGF0YS5hVGV4dHVyZUNvb3JkO1xuICAgIGlmIChmaWx0ZXIubGVnYWN5KSB7XG4gICAgICB0aGlzLnF1YWRVdi5tYXAoaW5wdXQuX2ZyYW1lLCBpbnB1dC5maWx0ZXJGcmFtZSk7XG4gICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMucXVhZFV2KTtcbiAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoRFJBV19NT0RFUy5UUklBTkdMRVMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMucXVhZCk7XG4gICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KERSQVdfTU9ERVMuVFJJQU5HTEVfU1RSSVApO1xuICAgIH1cbiAgfVxuICBjYWxjdWxhdGVTcHJpdGVNYXRyaXgob3V0cHV0TWF0cml4LCBzcHJpdGUpIHtcbiAgICBjb25zdCB7IHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lIH0gPSB0aGlzLmFjdGl2ZVN0YXRlO1xuICAgIGNvbnN0IHsgb3JpZyB9ID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgIGNvbnN0IG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5zZXQoZGVzdGluYXRpb25GcmFtZS53aWR0aCwgMCwgMCwgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQsIHNvdXJjZUZyYW1lLngsIHNvdXJjZUZyYW1lLnkpO1xuICAgIGNvbnN0IHdvcmxkVHJhbnNmb3JtID0gc3ByaXRlLndvcmxkVHJhbnNmb3JtLmNvcHlUbyhNYXRyaXguVEVNUF9NQVRSSVgpO1xuICAgIHdvcmxkVHJhbnNmb3JtLmludmVydCgpO1xuICAgIG1hcHBlZE1hdHJpeC5wcmVwZW5kKHdvcmxkVHJhbnNmb3JtKTtcbiAgICBtYXBwZWRNYXRyaXguc2NhbGUoMSAvIG9yaWcud2lkdGgsIDEgLyBvcmlnLmhlaWdodCk7XG4gICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzcHJpdGUuYW5jaG9yLngsIHNwcml0ZS5hbmNob3IueSk7XG4gICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZVBvb2wuY2xlYXIoZmFsc2UpO1xuICB9XG4gIGdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24gPSAxLCBtdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5OT05FKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbiwgbXVsdGlzYW1wbGUpO1xuICB9XG4gIGdldEZpbHRlclRleHR1cmUoaW5wdXQsIHJlc29sdXRpb24sIG11bHRpc2FtcGxlKSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29uc3Qgc3dhcCA9IGlucHV0O1xuICAgICAgaW5wdXQgPSByZXNvbHV0aW9uO1xuICAgICAgcmVzb2x1dGlvbiA9IHN3YXA7XG4gICAgfVxuICAgIGlucHV0ID0gaW5wdXQgfHwgdGhpcy5hY3RpdmVTdGF0ZS5yZW5kZXJUZXh0dXJlO1xuICAgIGNvbnN0IGZpbHRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKGlucHV0LndpZHRoLCBpbnB1dC5oZWlnaHQsIHJlc29sdXRpb24gfHwgaW5wdXQucmVzb2x1dGlvbiwgbXVsdGlzYW1wbGUgfHwgTVNBQV9RVUFMSVRZLk5PTkUpO1xuICAgIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBpbnB1dC5maWx0ZXJGcmFtZTtcbiAgICByZXR1cm4gZmlsdGVyVGV4dHVyZTtcbiAgfVxuICByZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRleHR1cmUpIHtcbiAgICB0aGlzLnRleHR1cmVQb29sLnJldHVyblRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gIH1cbiAgZW1wdHlQb29sKCkge1xuICAgIHRoaXMudGV4dHVyZVBvb2wuY2xlYXIodHJ1ZSk7XG4gIH1cbiAgcmVzaXplKCkge1xuICAgIHRoaXMudGV4dHVyZVBvb2wuc2V0U2NyZWVuU2l6ZSh0aGlzLnJlbmRlcmVyLnZpZXcpO1xuICB9XG4gIHRyYW5zZm9ybUFBQkIobWF0cml4LCByZWN0KSB7XG4gICAgY29uc3QgbHQgPSB0ZW1wUG9pbnRzWzBdO1xuICAgIGNvbnN0IGxiID0gdGVtcFBvaW50c1sxXTtcbiAgICBjb25zdCBydCA9IHRlbXBQb2ludHNbMl07XG4gICAgY29uc3QgcmIgPSB0ZW1wUG9pbnRzWzNdO1xuICAgIGx0LnNldChyZWN0LmxlZnQsIHJlY3QudG9wKTtcbiAgICBsYi5zZXQocmVjdC5sZWZ0LCByZWN0LmJvdHRvbSk7XG4gICAgcnQuc2V0KHJlY3QucmlnaHQsIHJlY3QudG9wKTtcbiAgICByYi5zZXQocmVjdC5yaWdodCwgcmVjdC5ib3R0b20pO1xuICAgIG1hdHJpeC5hcHBseShsdCwgbHQpO1xuICAgIG1hdHJpeC5hcHBseShsYiwgbGIpO1xuICAgIG1hdHJpeC5hcHBseShydCwgcnQpO1xuICAgIG1hdHJpeC5hcHBseShyYiwgcmIpO1xuICAgIGNvbnN0IHgwID0gTWF0aC5taW4obHQueCwgbGIueCwgcnQueCwgcmIueCk7XG4gICAgY29uc3QgeTAgPSBNYXRoLm1pbihsdC55LCBsYi55LCBydC55LCByYi55KTtcbiAgICBjb25zdCB4MSA9IE1hdGgubWF4KGx0LngsIGxiLngsIHJ0LngsIHJiLngpO1xuICAgIGNvbnN0IHkxID0gTWF0aC5tYXgobHQueSwgbGIueSwgcnQueSwgcmIueSk7XG4gICAgcmVjdC54ID0geDA7XG4gICAgcmVjdC55ID0geTA7XG4gICAgcmVjdC53aWR0aCA9IHgxIC0geDA7XG4gICAgcmVjdC5oZWlnaHQgPSB5MSAtIHkwO1xuICB9XG4gIHJvdW5kRnJhbWUoZnJhbWUsIHJlc29sdXRpb24sIGJpbmRpbmdTb3VyY2VGcmFtZSwgYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUsIHRyYW5zZm9ybSkge1xuICAgIGlmIChmcmFtZS53aWR0aCA8PSAwIHx8IGZyYW1lLmhlaWdodCA8PSAwIHx8IGJpbmRpbmdTb3VyY2VGcmFtZS53aWR0aCA8PSAwIHx8IGJpbmRpbmdTb3VyY2VGcmFtZS5oZWlnaHQgPD0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICBjb25zdCB7IGEsIGIsIGMsIGQgfSA9IHRyYW5zZm9ybTtcbiAgICAgIGlmICgoTWF0aC5hYnMoYikgPiAxZS00IHx8IE1hdGguYWJzKGMpID4gMWUtNCkgJiYgKE1hdGguYWJzKGEpID4gMWUtNCB8fCBNYXRoLmFicyhkKSA+IDFlLTQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdHJhbnNmb3JtID0gdHJhbnNmb3JtID8gdGVtcE1hdHJpeC5jb3B5RnJvbSh0cmFuc2Zvcm0pIDogdGVtcE1hdHJpeC5pZGVudGl0eSgpO1xuICAgIHRyYW5zZm9ybS50cmFuc2xhdGUoLWJpbmRpbmdTb3VyY2VGcmFtZS54LCAtYmluZGluZ1NvdXJjZUZyYW1lLnkpLnNjYWxlKGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gYmluZGluZ1NvdXJjZUZyYW1lLndpZHRoLCBiaW5kaW5nRGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyBiaW5kaW5nU291cmNlRnJhbWUuaGVpZ2h0KS50cmFuc2xhdGUoYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUueCwgYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUueSk7XG4gICAgdGhpcy50cmFuc2Zvcm1BQUJCKHRyYW5zZm9ybSwgZnJhbWUpO1xuICAgIGZyYW1lLmNlaWwocmVzb2x1dGlvbik7XG4gICAgdGhpcy50cmFuc2Zvcm1BQUJCKHRyYW5zZm9ybS5pbnZlcnQoKSwgZnJhbWUpO1xuICB9XG59XG5GaWx0ZXJTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICBuYW1lOiBcImZpbHRlclwiXG59O1xuZXh0ZW5zaW9ucy5hZGQoRmlsdGVyU3lzdGVtKTtcblxuZXhwb3J0IHsgRmlsdGVyU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWx0ZXJTeXN0ZW0ubWpzLm1hcFxuIiwiXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JRmlsdGVyVGFyZ2V0Lm1qcy5tYXBcbiIsInZhciBkZWZhdWx0RnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZGVmYXVsdEZyYWdtZW50IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHRGaWx0ZXIubWpzLm1hcFxuIiwidmFyIGRlZmF1bHRWZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZGVmYXVsdFZlcnRleCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0RmlsdGVyMi5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFRleHR1cmVNYXRyaXggfSBmcm9tICcuLi8uLi90ZXh0dXJlcy9UZXh0dXJlTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuLi9GaWx0ZXIubWpzJztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL3Nwcml0ZU1hc2tGaWx0ZXIyLm1qcyc7XG5pbXBvcnQgdmVydGV4IGZyb20gJy4vc3ByaXRlTWFza0ZpbHRlcjMubWpzJztcblxuY2xhc3MgU3ByaXRlTWFza0ZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gIGNvbnN0cnVjdG9yKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKSB7XG4gICAgbGV0IHNwcml0ZSA9IG51bGw7XG4gICAgaWYgKHR5cGVvZiB2ZXJ0ZXhTcmMgIT09IFwic3RyaW5nXCIgJiYgZnJhZ21lbnRTcmMgPT09IHZvaWQgMCAmJiB1bmlmb3JtcyA9PT0gdm9pZCAwKSB7XG4gICAgICBzcHJpdGUgPSB2ZXJ0ZXhTcmM7XG4gICAgICB2ZXJ0ZXhTcmMgPSB2b2lkIDA7XG4gICAgICBmcmFnbWVudFNyYyA9IHZvaWQgMDtcbiAgICAgIHVuaWZvcm1zID0gdm9pZCAwO1xuICAgIH1cbiAgICBzdXBlcih2ZXJ0ZXhTcmMgfHwgdmVydGV4LCBmcmFnbWVudFNyYyB8fCBmcmFnbWVudCwgdW5pZm9ybXMpO1xuICAgIHRoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICB0aGlzLm1hc2tNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gIH1cbiAgZ2V0IG1hc2tTcHJpdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hc2tTcHJpdGU7XG4gIH1cbiAgc2V0IG1hc2tTcHJpdGUodmFsdWUpIHtcbiAgICB0aGlzLl9tYXNrU3ByaXRlID0gdmFsdWU7XG4gICAgaWYgKHRoaXMuX21hc2tTcHJpdGUpIHtcbiAgICAgIHRoaXMuX21hc2tTcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICBjb25zdCBtYXNrU3ByaXRlID0gdGhpcy5fbWFza1Nwcml0ZTtcbiAgICBjb25zdCB0ZXggPSBtYXNrU3ByaXRlLl90ZXh0dXJlO1xuICAgIGlmICghdGV4LnZhbGlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdGV4LnV2TWF0cml4KSB7XG4gICAgICB0ZXgudXZNYXRyaXggPSBuZXcgVGV4dHVyZU1hdHJpeCh0ZXgsIDApO1xuICAgIH1cbiAgICB0ZXgudXZNYXRyaXgudXBkYXRlKCk7XG4gICAgdGhpcy51bmlmb3Jtcy5ucG1BbHBoYSA9IHRleC5iYXNlVGV4dHVyZS5hbHBoYU1vZGUgPyAwIDogMTtcbiAgICB0aGlzLnVuaWZvcm1zLm1hc2sgPSB0ZXg7XG4gICAgdGhpcy51bmlmb3Jtcy5vdGhlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgbWFza1Nwcml0ZSkucHJlcGVuZCh0ZXgudXZNYXRyaXgubWFwQ29vcmQpO1xuICAgIHRoaXMudW5pZm9ybXMuYWxwaGEgPSBtYXNrU3ByaXRlLndvcmxkQWxwaGE7XG4gICAgdGhpcy51bmlmb3Jtcy5tYXNrQ2xhbXAgPSB0ZXgudXZNYXRyaXgudUNsYW1wRnJhbWU7XG4gICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICB9XG59XG5cbmV4cG9ydCB7IFNwcml0ZU1hc2tGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNwcml0ZU1hc2tGaWx0ZXIubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXNrO1xcbnVuaWZvcm0gZmxvYXQgYWxwaGE7XFxudW5pZm9ybSBmbG9hdCBucG1BbHBoYTtcXG51bmlmb3JtIHZlYzQgbWFza0NsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZmxvYXQgY2xpcCA9IHN0ZXAoMy41LFxcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueCwgdk1hc2tDb29yZC54KSArXFxuICAgICAgICBzdGVwKG1hc2tDbGFtcC55LCB2TWFza0Nvb3JkLnkpICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC54LCBtYXNrQ2xhbXAueikgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLnksIG1hc2tDbGFtcC53KSk7XFxuXFxuICAgIHZlYzQgb3JpZ2luYWwgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZTJEKG1hc2ssIHZNYXNrQ29vcmQpO1xcbiAgICBmbG9hdCBhbHBoYU11bCA9IDEuMCAtIG5wbUFscGhhICogKDEuMCAtIG1hc2t5LmEpO1xcblxcbiAgICBvcmlnaW5hbCAqPSAoYWxwaGFNdWwgKiBtYXNreS5yICogYWxwaGEgKiBjbGlwKTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gb3JpZ2luYWw7XFxufVxcblwiO1xuXG5leHBvcnQgeyBmcmFnbWVudCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGVNYXNrRmlsdGVyMi5tanMubWFwXG4iLCJ2YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgb3RoZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZNYXNrQ29vcmQgPSAoIG90aGVyTWF0cml4ICogdmVjMyggYVRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IHZlcnRleCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGVNYXNrRmlsdGVyMy5tanMubWFwXG4iLCJ2YXIgJGRlZmF1bHRWZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cIjtcblxuZXhwb3J0IHsgJGRlZmF1bHRWZXJ0ZXggYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdC5tanMubWFwXG4iLCJ2YXIgJGRlZmF1bHRGaWx0ZXJWZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgJGRlZmF1bHRGaWx0ZXJWZXJ0ZXggYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdEZpbHRlci5tanMubWFwXG4iLCJpbXBvcnQgJGRlZmF1bHRWZXJ0ZXggZnJvbSAnLi9kZWZhdWx0Lm1qcyc7XG5pbXBvcnQgJGRlZmF1bHRGaWx0ZXJWZXJ0ZXggZnJvbSAnLi9kZWZhdWx0RmlsdGVyLm1qcyc7XG5cbmNvbnN0IGRlZmF1bHRWZXJ0ZXggPSAkZGVmYXVsdFZlcnRleDtcbmNvbnN0IGRlZmF1bHRGaWx0ZXJWZXJ0ZXggPSAkZGVmYXVsdEZpbHRlclZlcnRleDtcblxuZXhwb3J0IHsgZGVmYXVsdEZpbHRlclZlcnRleCwgZGVmYXVsdFZlcnRleCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgTVNBQV9RVUFMSVRZLCBTQ0FMRV9NT0RFUywgTUlQTUFQX01PREVTLCBGT1JNQVRTLCBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuaW1wb3J0IHsgQmFzZVRleHR1cmUgfSBmcm9tICcuLi90ZXh0dXJlcy9CYXNlVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgRGVwdGhSZXNvdXJjZSB9IGZyb20gJy4uL3RleHR1cmVzL3Jlc291cmNlcy9EZXB0aFJlc291cmNlLm1qcyc7XG5cbmNsYXNzIEZyYW1lYnVmZmVyIHtcbiAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCkge1xuICAgIHRoaXMud2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoIHx8IDEwMCk7XG4gICAgdGhpcy5oZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCB8fCAxMDApO1xuICAgIHRoaXMuc3RlbmNpbCA9IGZhbHNlO1xuICAgIHRoaXMuZGVwdGggPSBmYWxzZTtcbiAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgIHRoaXMuZGlydHlGb3JtYXQgPSAwO1xuICAgIHRoaXMuZGlydHlTaXplID0gMDtcbiAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5jb2xvclRleHR1cmVzID0gW107XG4gICAgdGhpcy5nbEZyYW1lYnVmZmVycyA9IHt9O1xuICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoXCJkaXNwb3NlRnJhbWVidWZmZXJcIik7XG4gICAgdGhpcy5tdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5OT05FO1xuICB9XG4gIGdldCBjb2xvclRleHR1cmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sb3JUZXh0dXJlc1swXTtcbiAgfVxuICBhZGRDb2xvclRleHR1cmUoaW5kZXggPSAwLCB0ZXh0dXJlKSB7XG4gICAgdGhpcy5jb2xvclRleHR1cmVzW2luZGV4XSA9IHRleHR1cmUgfHwgbmV3IEJhc2VUZXh0dXJlKG51bGwsIHtcbiAgICAgIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVCxcbiAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICBtaXBtYXA6IE1JUE1BUF9NT0RFUy5PRkYsXG4gICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgIGhlaWdodDogdGhpcy5oZWlnaHRcbiAgICB9KTtcbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYWRkRGVwdGhUZXh0dXJlKHRleHR1cmUpIHtcbiAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IHRleHR1cmUgfHwgbmV3IEJhc2VUZXh0dXJlKG5ldyBEZXB0aFJlc291cmNlKG51bGwsIHsgd2lkdGg6IHRoaXMud2lkdGgsIGhlaWdodDogdGhpcy5oZWlnaHQgfSksIHtcbiAgICAgIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVCxcbiAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICBtaXBtYXA6IE1JUE1BUF9NT0RFUy5PRkYsXG4gICAgICBmb3JtYXQ6IEZPUk1BVFMuREVQVEhfQ09NUE9ORU5ULFxuICAgICAgdHlwZTogVFlQRVMuVU5TSUdORURfU0hPUlRcbiAgICB9KTtcbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZW5hYmxlRGVwdGgoKSB7XG4gICAgdGhpcy5kZXB0aCA9IHRydWU7XG4gICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGVuYWJsZVN0ZW5jaWwoKSB7XG4gICAgdGhpcy5zdGVuY2lsID0gdHJ1ZTtcbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGgpO1xuICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0KTtcbiAgICBpZiAod2lkdGggPT09IHRoaXMud2lkdGggJiYgaGVpZ2h0ID09PSB0aGlzLmhlaWdodClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgdGhpcy5kaXJ0eVNpemUrKztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuY29sb3JUZXh0dXJlc1tpXTtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSB0ZXh0dXJlLnJlc29sdXRpb247XG4gICAgICB0ZXh0dXJlLnNldFNpemUod2lkdGggLyByZXNvbHV0aW9uLCBoZWlnaHQgLyByZXNvbHV0aW9uKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGVwdGhUZXh0dXJlKSB7XG4gICAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5kZXB0aFRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgIHRoaXMuZGVwdGhUZXh0dXJlLnNldFNpemUod2lkdGggLyByZXNvbHV0aW9uLCBoZWlnaHQgLyByZXNvbHV0aW9uKTtcbiAgICB9XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLmRpc3Bvc2VSdW5uZXIuZW1pdCh0aGlzLCBmYWxzZSk7XG4gIH1cbiAgZGVzdHJveURlcHRoVGV4dHVyZSgpIHtcbiAgICBpZiAodGhpcy5kZXB0aFRleHR1cmUpIHtcbiAgICAgIHRoaXMuZGVwdGhUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gbnVsbDtcbiAgICAgICsrdGhpcy5kaXJ0eUlkO1xuICAgICAgKyt0aGlzLmRpcnR5Rm9ybWF0O1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBGcmFtZWJ1ZmZlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RnJhbWVidWZmZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgRU5WLCBCVUZGRVJfQklUUywgTVNBQV9RVUFMSVRZIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBGcmFtZWJ1ZmZlciB9IGZyb20gJy4vRnJhbWVidWZmZXIubWpzJztcbmltcG9ydCB7IEdMRnJhbWVidWZmZXIgfSBmcm9tICcuL0dMRnJhbWVidWZmZXIubWpzJztcblxuY29uc3QgdGVtcFJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoKTtcbmNsYXNzIEZyYW1lYnVmZmVyU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzID0gW107XG4gICAgdGhpcy51bmtub3duRnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIoMTAsIDEwKTtcbiAgICB0aGlzLm1zYWFTYW1wbGVzID0gbnVsbDtcbiAgfVxuICBjb250ZXh0Q2hhbmdlKCkge1xuICAgIHRoaXMuZGlzcG9zZUFsbCh0cnVlKTtcbiAgICBjb25zdCBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgIHRoaXMuY3VycmVudCA9IHRoaXMudW5rbm93bkZyYW1lYnVmZmVyO1xuICAgIHRoaXMudmlld3BvcnQgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgdGhpcy5oYXNNUlQgPSB0cnVlO1xuICAgIHRoaXMud3JpdGVEZXB0aFRleHR1cmUgPSB0cnVlO1xuICAgIGlmICh0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAxKSB7XG4gICAgICBsZXQgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy5kcmF3QnVmZmVycztcbiAgICAgIGxldCBuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy5kZXB0aFRleHR1cmU7XG4gICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSkge1xuICAgICAgICBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbiA9IG51bGw7XG4gICAgICAgIG5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbiA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAobmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb24pIHtcbiAgICAgICAgZ2wuZHJhd0J1ZmZlcnMgPSAoYWN0aXZlVGV4dHVyZXMpID0+IG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uLmRyYXdCdWZmZXJzV0VCR0woYWN0aXZlVGV4dHVyZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5oYXNNUlQgPSBmYWxzZTtcbiAgICAgICAgZ2wuZHJhd0J1ZmZlcnMgPSAoKSA9PiB7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoIW5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbikge1xuICAgICAgICB0aGlzLndyaXRlRGVwdGhUZXh0dXJlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubXNhYVNhbXBsZXMgPSBnbC5nZXRJbnRlcm5hbGZvcm1hdFBhcmFtZXRlcihnbC5SRU5ERVJCVUZGRVIsIGdsLlJHQkE4LCBnbC5TQU1QTEVTKTtcbiAgICB9XG4gIH1cbiAgYmluZChmcmFtZWJ1ZmZlciwgZnJhbWUsIG1pcExldmVsID0gMCkge1xuICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG4gICAgaWYgKGZyYW1lYnVmZmVyKSB7XG4gICAgICBjb25zdCBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmluaXRGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSBmcmFtZWJ1ZmZlcikge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBmcmFtZWJ1ZmZlcjtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgfVxuICAgICAgaWYgKGZiby5taXBMZXZlbCAhPT0gbWlwTGV2ZWwpIHtcbiAgICAgICAgZnJhbWVidWZmZXIuZGlydHlJZCsrO1xuICAgICAgICBmcmFtZWJ1ZmZlci5kaXJ0eUZvcm1hdCsrO1xuICAgICAgICBmYm8ubWlwTGV2ZWwgPSBtaXBMZXZlbDtcbiAgICAgIH1cbiAgICAgIGlmIChmYm8uZGlydHlJZCAhPT0gZnJhbWVidWZmZXIuZGlydHlJZCkge1xuICAgICAgICBmYm8uZGlydHlJZCA9IGZyYW1lYnVmZmVyLmRpcnR5SWQ7XG4gICAgICAgIGlmIChmYm8uZGlydHlGb3JtYXQgIT09IGZyYW1lYnVmZmVyLmRpcnR5Rm9ybWF0KSB7XG4gICAgICAgICAgZmJvLmRpcnR5Rm9ybWF0ID0gZnJhbWVidWZmZXIuZGlydHlGb3JtYXQ7XG4gICAgICAgICAgZmJvLmRpcnR5U2l6ZSA9IGZyYW1lYnVmZmVyLmRpcnR5U2l6ZTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyLCBtaXBMZXZlbCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmJvLmRpcnR5U2l6ZSAhPT0gZnJhbWVidWZmZXIuZGlydHlTaXplKSB7XG4gICAgICAgICAgZmJvLmRpcnR5U2l6ZSA9IGZyYW1lYnVmZmVyLmRpcnR5U2l6ZTtcbiAgICAgICAgICB0aGlzLnJlc2l6ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHRleCA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV07XG4gICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQodGV4LnBhcmVudFRleHR1cmVBcnJheSB8fCB0ZXgpO1xuICAgICAgfVxuICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSk7XG4gICAgICB9XG4gICAgICBpZiAoZnJhbWUpIHtcbiAgICAgICAgY29uc3QgbWlwV2lkdGggPSBmcmFtZS53aWR0aCA+PiBtaXBMZXZlbDtcbiAgICAgICAgY29uc3QgbWlwSGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ID4+IG1pcExldmVsO1xuICAgICAgICBjb25zdCBzY2FsZSA9IG1pcFdpZHRoIC8gZnJhbWUud2lkdGg7XG4gICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoZnJhbWUueCAqIHNjYWxlLCBmcmFtZS55ICogc2NhbGUsIG1pcFdpZHRoLCBtaXBIZWlnaHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbWlwV2lkdGggPSBmcmFtZWJ1ZmZlci53aWR0aCA+PiBtaXBMZXZlbDtcbiAgICAgICAgY29uc3QgbWlwSGVpZ2h0ID0gZnJhbWVidWZmZXIuaGVpZ2h0ID4+IG1pcExldmVsO1xuICAgICAgICB0aGlzLnNldFZpZXdwb3J0KDAsIDAsIG1pcFdpZHRoLCBtaXBIZWlnaHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50KSB7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICB9XG4gICAgICBpZiAoZnJhbWUpIHtcbiAgICAgICAgdGhpcy5zZXRWaWV3cG9ydChmcmFtZS54LCBmcmFtZS55LCBmcmFtZS53aWR0aCwgZnJhbWUuaGVpZ2h0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoMCwgMCwgdGhpcy5yZW5kZXJlci53aWR0aCwgdGhpcy5yZW5kZXJlci5oZWlnaHQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBzZXRWaWV3cG9ydCh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgY29uc3QgdiA9IHRoaXMudmlld3BvcnQ7XG4gICAgeCA9IE1hdGgucm91bmQoeCk7XG4gICAgeSA9IE1hdGgucm91bmQoeSk7XG4gICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcbiAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCk7XG4gICAgaWYgKHYud2lkdGggIT09IHdpZHRoIHx8IHYuaGVpZ2h0ICE9PSBoZWlnaHQgfHwgdi54ICE9PSB4IHx8IHYueSAhPT0geSkge1xuICAgICAgdi54ID0geDtcbiAgICAgIHYueSA9IHk7XG4gICAgICB2LndpZHRoID0gd2lkdGg7XG4gICAgICB2LmhlaWdodCA9IGhlaWdodDtcbiAgICAgIHRoaXMuZ2wudmlld3BvcnQoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICB9XG4gIGdldCBzaXplKCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHdpZHRoOiB0aGlzLmN1cnJlbnQud2lkdGgsIGhlaWdodDogdGhpcy5jdXJyZW50LmhlaWdodCB9O1xuICAgIH1cbiAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogdGhpcy5yZW5kZXJlci53aWR0aCwgaGVpZ2h0OiB0aGlzLnJlbmRlcmVyLmhlaWdodCB9O1xuICB9XG4gIGNsZWFyKHIsIGcsIGIsIGEsIG1hc2sgPSBCVUZGRVJfQklUUy5DT0xPUiB8IEJVRkZFUl9CSVRTLkRFUFRIKSB7XG4gICAgY29uc3QgeyBnbCB9ID0gdGhpcztcbiAgICBnbC5jbGVhckNvbG9yKHIsIGcsIGIsIGEpO1xuICAgIGdsLmNsZWFyKG1hc2spO1xuICB9XG4gIGluaXRGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcikge1xuICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG4gICAgY29uc3QgZmJvID0gbmV3IEdMRnJhbWVidWZmZXIoZ2wuY3JlYXRlRnJhbWVidWZmZXIoKSk7XG4gICAgZmJvLm11bHRpc2FtcGxlID0gdGhpcy5kZXRlY3RTYW1wbGVzKGZyYW1lYnVmZmVyLm11bHRpc2FtcGxlKTtcbiAgICBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGZibztcbiAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMucHVzaChmcmFtZWJ1ZmZlcik7XG4gICAgZnJhbWVidWZmZXIuZGlzcG9zZVJ1bm5lci5hZGQodGhpcyk7XG4gICAgcmV0dXJuIGZibztcbiAgfVxuICByZXNpemVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcikge1xuICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG4gICAgY29uc3QgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgaWYgKGZiby5zdGVuY2lsKSB7XG4gICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgaWYgKGZiby5tc2FhQnVmZmVyKSB7XG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShnbC5SRU5ERVJCVUZGRVIsIGZiby5tdWx0aXNhbXBsZSwgZ2wuREVQVEgyNF9TVEVOQ0lMOCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNvbG9yVGV4dHVyZXMgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzO1xuICAgIGxldCBjb3VudCA9IGNvbG9yVGV4dHVyZXMubGVuZ3RoO1xuICAgIGlmICghZ2wuZHJhd0J1ZmZlcnMpIHtcbiAgICAgIGNvdW50ID0gTWF0aC5taW4oY291bnQsIDEpO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IHRleHR1cmUgPSBjb2xvclRleHR1cmVzW2ldO1xuICAgICAgY29uc3QgcGFyZW50VGV4dHVyZSA9IHRleHR1cmUucGFyZW50VGV4dHVyZUFycmF5IHx8IHRleHR1cmU7XG4gICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChwYXJlbnRUZXh0dXJlLCAwKTtcbiAgICAgIGlmIChpID09PSAwICYmIGZiby5tc2FhQnVmZmVyKSB7XG4gICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXNhYUJ1ZmZlcik7XG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShnbC5SRU5ERVJCVUZGRVIsIGZiby5tdWx0aXNhbXBsZSwgcGFyZW50VGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS5pbnRlcm5hbEZvcm1hdCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUgJiYgdGhpcy53cml0ZURlcHRoVGV4dHVyZSkge1xuICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlLCAwKTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlRnJhbWVidWZmZXIoZnJhbWVidWZmZXIsIG1pcExldmVsKSB7XG4gICAgY29uc3QgeyBnbCB9ID0gdGhpcztcbiAgICBjb25zdCBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICBjb25zdCBjb2xvclRleHR1cmVzID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcztcbiAgICBsZXQgY291bnQgPSBjb2xvclRleHR1cmVzLmxlbmd0aDtcbiAgICBpZiAoIWdsLmRyYXdCdWZmZXJzKSB7XG4gICAgICBjb3VudCA9IE1hdGgubWluKGNvdW50LCAxKTtcbiAgICB9XG4gICAgaWYgKGZiby5tdWx0aXNhbXBsZSA+IDEgJiYgdGhpcy5jYW5NdWx0aXNhbXBsZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKSkge1xuICAgICAgZmJvLm1zYWFCdWZmZXIgPSBmYm8ubXNhYUJ1ZmZlciB8fCBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgICB9IGVsc2UgaWYgKGZiby5tc2FhQnVmZmVyKSB7XG4gICAgICBnbC5kZWxldGVSZW5kZXJidWZmZXIoZmJvLm1zYWFCdWZmZXIpO1xuICAgICAgZmJvLm1zYWFCdWZmZXIgPSBudWxsO1xuICAgICAgaWYgKGZiby5ibGl0RnJhbWVidWZmZXIpIHtcbiAgICAgICAgZmJvLmJsaXRGcmFtZWJ1ZmZlci5kaXNwb3NlKCk7XG4gICAgICAgIGZiby5ibGl0RnJhbWVidWZmZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhY3RpdmVUZXh0dXJlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgY29uc3QgdGV4dHVyZSA9IGNvbG9yVGV4dHVyZXNbaV07XG4gICAgICBjb25zdCBwYXJlbnRUZXh0dXJlID0gdGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXkgfHwgdGV4dHVyZTtcbiAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKHBhcmVudFRleHR1cmUsIDApO1xuICAgICAgaWYgKGkgPT09IDAgJiYgZmJvLm1zYWFCdWZmZXIpIHtcbiAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIGZiby5tc2FhQnVmZmVyKTtcbiAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKGdsLlJFTkRFUkJVRkZFUiwgZmJvLm11bHRpc2FtcGxlLCBwYXJlbnRUZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLmludGVybmFsRm9ybWF0LCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5SRU5ERVJCVUZGRVIsIGZiby5tc2FhQnVmZmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIGksIHRleHR1cmUudGFyZ2V0LCBwYXJlbnRUZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUsIG1pcExldmVsKTtcbiAgICAgICAgYWN0aXZlVGV4dHVyZXMucHVzaChnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIGkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYWN0aXZlVGV4dHVyZXMubGVuZ3RoID4gMSkge1xuICAgICAgZ2wuZHJhd0J1ZmZlcnMoYWN0aXZlVGV4dHVyZXMpO1xuICAgIH1cbiAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKSB7XG4gICAgICBjb25zdCB3cml0ZURlcHRoVGV4dHVyZSA9IHRoaXMud3JpdGVEZXB0aFRleHR1cmU7XG4gICAgICBpZiAod3JpdGVEZXB0aFRleHR1cmUpIHtcbiAgICAgICAgY29uc3QgZGVwdGhUZXh0dXJlID0gZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChkZXB0aFRleHR1cmUsIDApO1xuICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfQVRUQUNITUVOVCwgZ2wuVEVYVFVSRV8yRCwgZGVwdGhUZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUsIG1pcExldmVsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKChmcmFtZWJ1ZmZlci5zdGVuY2lsIHx8IGZyYW1lYnVmZmVyLmRlcHRoKSAmJiAhKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSAmJiB0aGlzLndyaXRlRGVwdGhUZXh0dXJlKSkge1xuICAgICAgZmJvLnN0ZW5jaWwgPSBmYm8uc3RlbmNpbCB8fCBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG4gICAgICBpZiAoZmJvLm1zYWFCdWZmZXIpIHtcbiAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKGdsLlJFTkRFUkJVRkZFUiwgZmJvLm11bHRpc2FtcGxlLCBnbC5ERVBUSDI0X1NURU5DSUw4LCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgIH0gZWxzZSBpZiAoZmJvLnN0ZW5jaWwpIHtcbiAgICAgIGdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcihmYm8uc3RlbmNpbCk7XG4gICAgICBmYm8uc3RlbmNpbCA9IG51bGw7XG4gICAgfVxuICB9XG4gIGNhbk11bHRpc2FtcGxlRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbiAhPT0gMSAmJiBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzLmxlbmd0aCA8PSAxICYmICFmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmU7XG4gIH1cbiAgZGV0ZWN0U2FtcGxlcyhzYW1wbGVzKSB7XG4gICAgY29uc3QgeyBtc2FhU2FtcGxlcyB9ID0gdGhpcztcbiAgICBsZXQgcmVzID0gTVNBQV9RVUFMSVRZLk5PTkU7XG4gICAgaWYgKHNhbXBsZXMgPD0gMSB8fCBtc2FhU2FtcGxlcyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtc2FhU2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG1zYWFTYW1wbGVzW2ldIDw9IHNhbXBsZXMpIHtcbiAgICAgICAgcmVzID0gbXNhYVNhbXBsZXNbaV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVzID09PSAxKSB7XG4gICAgICByZXMgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBibGl0KGZyYW1lYnVmZmVyLCBzb3VyY2VQaXhlbHMsIGRlc3RQaXhlbHMpIHtcbiAgICBjb25zdCB7IGN1cnJlbnQsIHJlbmRlcmVyLCBnbCwgQ09OVEVYVF9VSUQgfSA9IHRoaXM7XG4gICAgaWYgKHJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uICE9PSAyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmYm8gPSBjdXJyZW50LmdsRnJhbWVidWZmZXJzW0NPTlRFWFRfVUlEXTtcbiAgICBpZiAoIWZibykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWZyYW1lYnVmZmVyKSB7XG4gICAgICBpZiAoIWZiby5tc2FhQnVmZmVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbG9yVGV4dHVyZSA9IGN1cnJlbnQuY29sb3JUZXh0dXJlc1swXTtcbiAgICAgIGlmICghY29sb3JUZXh0dXJlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmJvLmJsaXRGcmFtZWJ1ZmZlcikge1xuICAgICAgICBmYm8uYmxpdEZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKGN1cnJlbnQud2lkdGgsIGN1cnJlbnQuaGVpZ2h0KTtcbiAgICAgICAgZmJvLmJsaXRGcmFtZWJ1ZmZlci5hZGRDb2xvclRleHR1cmUoMCwgY29sb3JUZXh0dXJlKTtcbiAgICAgIH1cbiAgICAgIGZyYW1lYnVmZmVyID0gZmJvLmJsaXRGcmFtZWJ1ZmZlcjtcbiAgICAgIGlmIChmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzWzBdICE9PSBjb2xvclRleHR1cmUpIHtcbiAgICAgICAgZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1swXSA9IGNvbG9yVGV4dHVyZTtcbiAgICAgICAgZnJhbWVidWZmZXIuZGlydHlJZCsrO1xuICAgICAgICBmcmFtZWJ1ZmZlci5kaXJ0eUZvcm1hdCsrO1xuICAgICAgfVxuICAgICAgaWYgKGZyYW1lYnVmZmVyLndpZHRoICE9PSBjdXJyZW50LndpZHRoIHx8IGZyYW1lYnVmZmVyLmhlaWdodCAhPT0gY3VycmVudC5oZWlnaHQpIHtcbiAgICAgICAgZnJhbWVidWZmZXIud2lkdGggPSBjdXJyZW50LndpZHRoO1xuICAgICAgICBmcmFtZWJ1ZmZlci5oZWlnaHQgPSBjdXJyZW50LmhlaWdodDtcbiAgICAgICAgZnJhbWVidWZmZXIuZGlydHlJZCsrO1xuICAgICAgICBmcmFtZWJ1ZmZlci5kaXJ0eVNpemUrKztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFzb3VyY2VQaXhlbHMpIHtcbiAgICAgIHNvdXJjZVBpeGVscyA9IHRlbXBSZWN0YW5nbGU7XG4gICAgICBzb3VyY2VQaXhlbHMud2lkdGggPSBjdXJyZW50LndpZHRoO1xuICAgICAgc291cmNlUGl4ZWxzLmhlaWdodCA9IGN1cnJlbnQuaGVpZ2h0O1xuICAgIH1cbiAgICBpZiAoIWRlc3RQaXhlbHMpIHtcbiAgICAgIGRlc3RQaXhlbHMgPSBzb3VyY2VQaXhlbHM7XG4gICAgfVxuICAgIGNvbnN0IHNhbWVTaXplID0gc291cmNlUGl4ZWxzLndpZHRoID09PSBkZXN0UGl4ZWxzLndpZHRoICYmIHNvdXJjZVBpeGVscy5oZWlnaHQgPT09IGRlc3RQaXhlbHMuaGVpZ2h0O1xuICAgIHRoaXMuYmluZChmcmFtZWJ1ZmZlcik7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLlJFQURfRlJBTUVCVUZGRVIsIGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgZ2wuYmxpdEZyYW1lYnVmZmVyKHNvdXJjZVBpeGVscy5sZWZ0LCBzb3VyY2VQaXhlbHMudG9wLCBzb3VyY2VQaXhlbHMucmlnaHQsIHNvdXJjZVBpeGVscy5ib3R0b20sIGRlc3RQaXhlbHMubGVmdCwgZGVzdFBpeGVscy50b3AsIGRlc3RQaXhlbHMucmlnaHQsIGRlc3RQaXhlbHMuYm90dG9tLCBnbC5DT0xPUl9CVUZGRVJfQklULCBzYW1lU2l6ZSA/IGdsLk5FQVJFU1QgOiBnbC5MSU5FQVIpO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5SRUFEX0ZSQU1FQlVGRkVSLCBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXS5mcmFtZWJ1ZmZlcik7XG4gIH1cbiAgZGlzcG9zZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyLCBjb250ZXh0TG9zdCkge1xuICAgIGNvbnN0IGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICBpZiAoIWZibykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWxldGUgZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMuaW5kZXhPZihmcmFtZWJ1ZmZlcik7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICBmcmFtZWJ1ZmZlci5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcbiAgICBpZiAoIWNvbnRleHRMb3N0KSB7XG4gICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgaWYgKGZiby5tc2FhQnVmZmVyKSB7XG4gICAgICAgIGdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcihmYm8ubXNhYUJ1ZmZlcik7XG4gICAgICB9XG4gICAgICBpZiAoZmJvLnN0ZW5jaWwpIHtcbiAgICAgICAgZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKGZiby5zdGVuY2lsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZiby5ibGl0RnJhbWVidWZmZXIpIHtcbiAgICAgIHRoaXMuZGlzcG9zZUZyYW1lYnVmZmVyKGZiby5ibGl0RnJhbWVidWZmZXIsIGNvbnRleHRMb3N0KTtcbiAgICB9XG4gIH1cbiAgZGlzcG9zZUFsbChjb250ZXh0TG9zdCkge1xuICAgIGNvbnN0IGxpc3QgPSB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnM7XG4gICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmRpc3Bvc2VGcmFtZWJ1ZmZlcihsaXN0W2ldLCBjb250ZXh0TG9zdCk7XG4gICAgfVxuICB9XG4gIGZvcmNlU3RlbmNpbCgpIHtcbiAgICBjb25zdCBmcmFtZWJ1ZmZlciA9IHRoaXMuY3VycmVudDtcbiAgICBpZiAoIWZyYW1lYnVmZmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIGlmICghZmJvIHx8IGZiby5zdGVuY2lsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZyYW1lYnVmZmVyLnN0ZW5jaWwgPSB0cnVlO1xuICAgIGNvbnN0IHcgPSBmcmFtZWJ1ZmZlci53aWR0aDtcbiAgICBjb25zdCBoID0gZnJhbWVidWZmZXIuaGVpZ2h0O1xuICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICBjb25zdCBzdGVuY2lsID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHN0ZW5jaWwpO1xuICAgIGlmIChmYm8ubXNhYUJ1ZmZlcikge1xuICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKGdsLlJFTkRFUkJVRkZFUiwgZmJvLm11bHRpc2FtcGxlLCBnbC5ERVBUSDI0X1NURU5DSUw4LCB3LCBoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIHcsIGgpO1xuICAgIH1cbiAgICBmYm8uc3RlbmNpbCA9IHN0ZW5jaWw7XG4gICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCBzdGVuY2lsKTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbkZyYW1lYnVmZmVyU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbSxcbiAgbmFtZTogXCJmcmFtZWJ1ZmZlclwiXG59O1xuZXh0ZW5zaW9ucy5hZGQoRnJhbWVidWZmZXJTeXN0ZW0pO1xuXG5leHBvcnQgeyBGcmFtZWJ1ZmZlclN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RnJhbWVidWZmZXJTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgTVNBQV9RVUFMSVRZIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuY2xhc3MgR0xGcmFtZWJ1ZmZlciB7XG4gIGNvbnN0cnVjdG9yKGZyYW1lYnVmZmVyKSB7XG4gICAgdGhpcy5mcmFtZWJ1ZmZlciA9IGZyYW1lYnVmZmVyO1xuICAgIHRoaXMuc3RlbmNpbCA9IG51bGw7XG4gICAgdGhpcy5kaXJ0eUlkID0gLTE7XG4gICAgdGhpcy5kaXJ0eUZvcm1hdCA9IC0xO1xuICAgIHRoaXMuZGlydHlTaXplID0gLTE7XG4gICAgdGhpcy5tdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5OT05FO1xuICAgIHRoaXMubXNhYUJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5ibGl0RnJhbWVidWZmZXIgPSBudWxsO1xuICAgIHRoaXMubWlwTGV2ZWwgPSAwO1xuICB9XG59XG5cbmV4cG9ydCB7IEdMRnJhbWVidWZmZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdMRnJhbWVidWZmZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgTVNBQV9RVUFMSVRZIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcblxuY2xhc3MgTXVsdGlzYW1wbGVTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBjb250ZXh0Q2hhbmdlKGdsKSB7XG4gICAgbGV0IHNhbXBsZXM7XG4gICAgaWYgKHRoaXMucmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDEpIHtcbiAgICAgIGNvbnN0IGZyYW1lYnVmZmVyID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLkZSQU1FQlVGRkVSX0JJTkRJTkcpO1xuICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgIHNhbXBsZXMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuU0FNUExFUyk7XG4gICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lYnVmZmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZnJhbWVidWZmZXIgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuRFJBV19GUkFNRUJVRkZFUl9CSU5ESU5HKTtcbiAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5EUkFXX0ZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgIHNhbXBsZXMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuU0FNUExFUyk7XG4gICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRFJBV19GUkFNRUJVRkZFUiwgZnJhbWVidWZmZXIpO1xuICAgIH1cbiAgICBpZiAoc2FtcGxlcyA+PSBNU0FBX1FVQUxJVFkuSElHSCkge1xuICAgICAgdGhpcy5tdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5ISUdIO1xuICAgIH0gZWxzZSBpZiAoc2FtcGxlcyA+PSBNU0FBX1FVQUxJVFkuTUVESVVNKSB7XG4gICAgICB0aGlzLm11bHRpc2FtcGxlID0gTVNBQV9RVUFMSVRZLk1FRElVTTtcbiAgICB9IGVsc2UgaWYgKHNhbXBsZXMgPj0gTVNBQV9RVUFMSVRZLkxPVykge1xuICAgICAgdGhpcy5tdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5MT1c7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgfVxufVxuTXVsdGlzYW1wbGVTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICBuYW1lOiBcIl9tdWx0aXNhbXBsZVwiXG59O1xuZXh0ZW5zaW9ucy5hZGQoTXVsdGlzYW1wbGVTeXN0ZW0pO1xuXG5leHBvcnQgeyBNdWx0aXNhbXBsZVN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXVsdGlzYW1wbGVTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5jbGFzcyBBdHRyaWJ1dGUge1xuICBjb25zdHJ1Y3RvcihidWZmZXIsIHNpemUgPSAwLCBub3JtYWxpemVkID0gZmFsc2UsIHR5cGUgPSBUWVBFUy5GTE9BVCwgc3RyaWRlLCBzdGFydCwgaW5zdGFuY2UsIGRpdmlzb3IgPSAxKSB7XG4gICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLm5vcm1hbGl6ZWQgPSBub3JtYWxpemVkO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICB0aGlzLmRpdmlzb3IgPSBkaXZpc29yO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICB9XG4gIHN0YXRpYyBmcm9tKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKSB7XG4gICAgcmV0dXJuIG5ldyBBdHRyaWJ1dGUoYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUpO1xuICB9XG59XG5cbmV4cG9ydCB7IEF0dHJpYnV0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXR0cmlidXRlLm1qcy5tYXBcbiIsImltcG9ydCB7IEJVRkZFUl9UWVBFIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5cbmxldCBVSUQgPSAwO1xuY2xhc3MgQnVmZmVyIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgX3N0YXRpYyA9IHRydWUsIGluZGV4ID0gZmFsc2UpIHtcbiAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IG5ldyBGbG9hdDMyQXJyYXkoMSk7XG4gICAgdGhpcy5fZ2xCdWZmZXJzID0ge307XG4gICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICB0aGlzLnN0YXRpYyA9IF9zdGF0aWM7XG4gICAgdGhpcy5pZCA9IFVJRCsrO1xuICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoXCJkaXNwb3NlQnVmZmVyXCIpO1xuICB9XG4gIHVwZGF0ZShkYXRhKSB7XG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YSk7XG4gICAgfVxuICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgdGhpcy5kYXRhO1xuICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLmRpc3Bvc2VSdW5uZXIuZW1pdCh0aGlzLCBmYWxzZSk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuICB9XG4gIHNldCBpbmRleCh2YWx1ZSkge1xuICAgIHRoaXMudHlwZSA9IHZhbHVlID8gQlVGRkVSX1RZUEUuRUxFTUVOVF9BUlJBWV9CVUZGRVIgOiBCVUZGRVJfVFlQRS5BUlJBWV9CVUZGRVI7XG4gIH1cbiAgZ2V0IGluZGV4KCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUgPT09IEJVRkZFUl9UWVBFLkVMRU1FTlRfQVJSQVlfQlVGRkVSO1xuICB9XG4gIHN0YXRpYyBmcm9tKGRhdGEpIHtcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICBkYXRhID0gbmV3IEZsb2F0MzJBcnJheShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBCdWZmZXIoZGF0YSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgQnVmZmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CdWZmZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuaW1wb3J0IHsgR0xCdWZmZXIgfSBmcm9tICcuL0dMQnVmZmVyLm1qcyc7XG5cbmNsYXNzIEJ1ZmZlclN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMubWFuYWdlZEJ1ZmZlcnMgPSB7fTtcbiAgICB0aGlzLmJvdW5kQnVmZmVyQmFzZXMgPSB7fTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG4gIGNvbnRleHRDaGFuZ2UoKSB7XG4gICAgdGhpcy5kaXNwb3NlQWxsKHRydWUpO1xuICAgIHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICB9XG4gIGJpbmQoYnVmZmVyKSB7XG4gICAgY29uc3QgeyBnbCwgQ09OVEVYVF9VSUQgfSA9IHRoaXM7XG4gICAgY29uc3QgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0gfHwgdGhpcy5jcmVhdGVHTEJ1ZmZlcihidWZmZXIpO1xuICAgIGdsLmJpbmRCdWZmZXIoYnVmZmVyLnR5cGUsIGdsQnVmZmVyLmJ1ZmZlcik7XG4gIH1cbiAgdW5iaW5kKHR5cGUpIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIGdsLmJpbmRCdWZmZXIodHlwZSwgbnVsbCk7XG4gIH1cbiAgYmluZEJ1ZmZlckJhc2UoYnVmZmVyLCBpbmRleCkge1xuICAgIGNvbnN0IHsgZ2wsIENPTlRFWFRfVUlEIH0gPSB0aGlzO1xuICAgIGlmICh0aGlzLmJvdW5kQnVmZmVyQmFzZXNbaW5kZXhdICE9PSBidWZmZXIpIHtcbiAgICAgIGNvbnN0IGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdIHx8IHRoaXMuY3JlYXRlR0xCdWZmZXIoYnVmZmVyKTtcbiAgICAgIHRoaXMuYm91bmRCdWZmZXJCYXNlc1tpbmRleF0gPSBidWZmZXI7XG4gICAgICBnbC5iaW5kQnVmZmVyQmFzZShnbC5VTklGT1JNX0JVRkZFUiwgaW5kZXgsIGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgfVxuICB9XG4gIGJpbmRCdWZmZXJSYW5nZShidWZmZXIsIGluZGV4LCBvZmZzZXQpIHtcbiAgICBjb25zdCB7IGdsLCBDT05URVhUX1VJRCB9ID0gdGhpcztcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcbiAgICBjb25zdCBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSB8fCB0aGlzLmNyZWF0ZUdMQnVmZmVyKGJ1ZmZlcik7XG4gICAgZ2wuYmluZEJ1ZmZlclJhbmdlKGdsLlVOSUZPUk1fQlVGRkVSLCBpbmRleCB8fCAwLCBnbEJ1ZmZlci5idWZmZXIsIG9mZnNldCAqIDI1NiwgMjU2KTtcbiAgfVxuICB1cGRhdGUoYnVmZmVyKSB7XG4gICAgY29uc3QgeyBnbCwgQ09OVEVYVF9VSUQgfSA9IHRoaXM7XG4gICAgY29uc3QgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0gfHwgdGhpcy5jcmVhdGVHTEJ1ZmZlcihidWZmZXIpO1xuICAgIGlmIChidWZmZXIuX3VwZGF0ZUlEID09PSBnbEJ1ZmZlci51cGRhdGVJRCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBnbEJ1ZmZlci51cGRhdGVJRCA9IGJ1ZmZlci5fdXBkYXRlSUQ7XG4gICAgZ2wuYmluZEJ1ZmZlcihidWZmZXIudHlwZSwgZ2xCdWZmZXIuYnVmZmVyKTtcbiAgICBpZiAoZ2xCdWZmZXIuYnl0ZUxlbmd0aCA+PSBidWZmZXIuZGF0YS5ieXRlTGVuZ3RoKSB7XG4gICAgICBnbC5idWZmZXJTdWJEYXRhKGJ1ZmZlci50eXBlLCAwLCBidWZmZXIuZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRyYXdUeXBlID0gYnVmZmVyLnN0YXRpYyA/IGdsLlNUQVRJQ19EUkFXIDogZ2wuRFlOQU1JQ19EUkFXO1xuICAgICAgZ2xCdWZmZXIuYnl0ZUxlbmd0aCA9IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGg7XG4gICAgICBnbC5idWZmZXJEYXRhKGJ1ZmZlci50eXBlLCBidWZmZXIuZGF0YSwgZHJhd1R5cGUpO1xuICAgIH1cbiAgfVxuICBkaXNwb3NlKGJ1ZmZlciwgY29udGV4dExvc3QpIHtcbiAgICBpZiAoIXRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWxldGUgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdO1xuICAgIGNvbnN0IGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgIGJ1ZmZlci5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcbiAgICBpZiAoIWdsQnVmZmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihnbEJ1ZmZlci5idWZmZXIpO1xuICAgIH1cbiAgICBkZWxldGUgYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gIH1cbiAgZGlzcG9zZUFsbChjb250ZXh0TG9zdCkge1xuICAgIGNvbnN0IGFsbCA9IE9iamVjdC5rZXlzKHRoaXMubWFuYWdlZEJ1ZmZlcnMpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmRpc3Bvc2UodGhpcy5tYW5hZ2VkQnVmZmVyc1thbGxbaV1dLCBjb250ZXh0TG9zdCk7XG4gICAgfVxuICB9XG4gIGNyZWF0ZUdMQnVmZmVyKGJ1ZmZlcikge1xuICAgIGNvbnN0IHsgQ09OVEVYVF9VSUQsIGdsIH0gPSB0aGlzO1xuICAgIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSA9IG5ldyBHTEJ1ZmZlcihnbC5jcmVhdGVCdWZmZXIoKSk7XG4gICAgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdID0gYnVmZmVyO1xuICAgIGJ1ZmZlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICByZXR1cm4gYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdO1xuICB9XG59XG5CdWZmZXJTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICBuYW1lOiBcImJ1ZmZlclwiXG59O1xuZXh0ZW5zaW9ucy5hZGQoQnVmZmVyU3lzdGVtKTtcblxuZXhwb3J0IHsgQnVmZmVyU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CdWZmZXJTeXN0ZW0ubWpzLm1hcFxuIiwiY2xhc3MgR0xCdWZmZXIge1xuICBjb25zdHJ1Y3RvcihidWZmZXIpIHtcbiAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlciB8fCBudWxsO1xuICAgIHRoaXMudXBkYXRlSUQgPSAtMTtcbiAgICB0aGlzLmJ5dGVMZW5ndGggPSAtMTtcbiAgICB0aGlzLnJlZkNvdW50ID0gMDtcbiAgfVxufVxuXG5leHBvcnQgeyBHTEJ1ZmZlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R0xCdWZmZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgQlVGRkVSX1RZUEUgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcbmltcG9ydCB7IGdldEJ1ZmZlclR5cGUgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBBdHRyaWJ1dGUgfSBmcm9tICcuL0F0dHJpYnV0ZS5tanMnO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnLi9CdWZmZXIubWpzJztcbmltcG9ydCB7IGludGVybGVhdmVUeXBlZEFycmF5cyB9IGZyb20gJy4vdXRpbHMvaW50ZXJsZWF2ZVR5cGVkQXJyYXlzLm1qcyc7XG5cbmNvbnN0IGJ5dGVTaXplTWFwID0geyA1MTI2OiA0LCA1MTIzOiAyLCA1MTIxOiAxIH07XG5sZXQgVUlEID0gMDtcbmNvbnN0IG1hcCA9IHtcbiAgRmxvYXQzMkFycmF5LFxuICBVaW50MzJBcnJheSxcbiAgSW50MzJBcnJheSxcbiAgVWludDhBcnJheSxcbiAgVWludDE2QXJyYXlcbn07XG5jbGFzcyBHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKGJ1ZmZlcnMgPSBbXSwgYXR0cmlidXRlcyA9IHt9KSB7XG4gICAgdGhpcy5idWZmZXJzID0gYnVmZmVycztcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICAgIHRoaXMuZ2xWZXJ0ZXhBcnJheU9iamVjdHMgPSB7fTtcbiAgICB0aGlzLmlkID0gVUlEKys7XG4gICAgdGhpcy5pbnN0YW5jZWQgPSBmYWxzZTtcbiAgICB0aGlzLmluc3RhbmNlQ291bnQgPSAxO1xuICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoXCJkaXNwb3NlR2VvbWV0cnlcIik7XG4gICAgdGhpcy5yZWZDb3VudCA9IDA7XG4gIH1cbiAgYWRkQXR0cmlidXRlKGlkLCBidWZmZXIsIHNpemUgPSAwLCBub3JtYWxpemVkID0gZmFsc2UsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlID0gZmFsc2UpIHtcbiAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgcGFzcyBhIGJ1ZmZlciB3aGVuIGNyZWF0aW5nIGFuIGF0dHJpYnV0ZVwiKTtcbiAgICB9XG4gICAgaWYgKCEoYnVmZmVyIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIGJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbiAgICAgIH1cbiAgICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKTtcbiAgICB9XG4gICAgY29uc3QgaWRzID0gaWQuc3BsaXQoXCJ8XCIpO1xuICAgIGlmIChpZHMubGVuZ3RoID4gMSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoaWRzW2ldLCBidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGxldCBidWZmZXJJbmRleCA9IHRoaXMuYnVmZmVycy5pbmRleE9mKGJ1ZmZlcik7XG4gICAgaWYgKGJ1ZmZlckluZGV4ID09PSAtMSkge1xuICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgIGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIHRoaXMuYXR0cmlidXRlc1tpZF0gPSBuZXcgQXR0cmlidXRlKGJ1ZmZlckluZGV4LCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSk7XG4gICAgdGhpcy5pbnN0YW5jZWQgPSB0aGlzLmluc3RhbmNlZCB8fCBpbnN0YW5jZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBnZXRBdHRyaWJ1dGUoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2lkXTtcbiAgfVxuICBnZXRCdWZmZXIoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5idWZmZXJzW3RoaXMuZ2V0QXR0cmlidXRlKGlkKS5idWZmZXJdO1xuICB9XG4gIGFkZEluZGV4KGJ1ZmZlcikge1xuICAgIGlmICghKGJ1ZmZlciBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICAgIGlmIChidWZmZXIgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBidWZmZXIgPSBuZXcgVWludDE2QXJyYXkoYnVmZmVyKTtcbiAgICAgIH1cbiAgICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKTtcbiAgICB9XG4gICAgYnVmZmVyLnR5cGUgPSBCVUZGRVJfVFlQRS5FTEVNRU5UX0FSUkFZX0JVRkZFUjtcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gYnVmZmVyO1xuICAgIGlmICghdGhpcy5idWZmZXJzLmluY2x1ZGVzKGJ1ZmZlcikpIHtcbiAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGdldEluZGV4KCkge1xuICAgIHJldHVybiB0aGlzLmluZGV4QnVmZmVyO1xuICB9XG4gIGludGVybGVhdmUoKSB7XG4gICAgaWYgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IDEgfHwgdGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gMiAmJiB0aGlzLmluZGV4QnVmZmVyKVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgY29uc3QgYXJyYXlzID0gW107XG4gICAgY29uc3Qgc2l6ZXMgPSBbXTtcbiAgICBjb25zdCBpbnRlcmxlYXZlZEJ1ZmZlciA9IG5ldyBCdWZmZXIoKTtcbiAgICBsZXQgaTtcbiAgICBmb3IgKGkgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XG4gICAgICBjb25zdCBhdHRyaWJ1dGUgPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG4gICAgICBjb25zdCBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICBhcnJheXMucHVzaChidWZmZXIuZGF0YSk7XG4gICAgICBzaXplcy5wdXNoKGF0dHJpYnV0ZS5zaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdIC8gNCk7XG4gICAgICBhdHRyaWJ1dGUuYnVmZmVyID0gMDtcbiAgICB9XG4gICAgaW50ZXJsZWF2ZWRCdWZmZXIuZGF0YSA9IGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5idWZmZXJzW2ldICE9PSB0aGlzLmluZGV4QnVmZmVyKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuYnVmZmVycyA9IFtpbnRlcmxlYXZlZEJ1ZmZlcl07XG4gICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpIHtcbiAgICAgIHRoaXMuYnVmZmVycy5wdXNoKHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBnZXRTaXplKCkge1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLmF0dHJpYnV0ZXMpIHtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tpXTtcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgIHJldHVybiBidWZmZXIuZGF0YS5sZW5ndGggLyAoYXR0cmlidXRlLnN0cmlkZSAvIDQgfHwgYXR0cmlidXRlLnNpemUpO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuICBkaXNwb3NlKCkge1xuICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5lbWl0KHRoaXMsIGZhbHNlKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgIHRoaXMuYnVmZmVycyA9IG51bGw7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbiAgfVxuICBjbG9uZSgpIHtcbiAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBnZW9tZXRyeS5idWZmZXJzW2ldID0gbmV3IEJ1ZmZlcih0aGlzLmJ1ZmZlcnNbaV0uZGF0YS5zbGljZSgwKSk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLmF0dHJpYnV0ZXMpIHtcbiAgICAgIGNvbnN0IGF0dHJpYiA9IHRoaXMuYXR0cmlidXRlc1tpXTtcbiAgICAgIGdlb21ldHJ5LmF0dHJpYnV0ZXNbaV0gPSBuZXcgQXR0cmlidXRlKGF0dHJpYi5idWZmZXIsIGF0dHJpYi5zaXplLCBhdHRyaWIubm9ybWFsaXplZCwgYXR0cmliLnR5cGUsIGF0dHJpYi5zdHJpZGUsIGF0dHJpYi5zdGFydCwgYXR0cmliLmluc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpIHtcbiAgICAgIGdlb21ldHJ5LmluZGV4QnVmZmVyID0gZ2VvbWV0cnkuYnVmZmVyc1t0aGlzLmJ1ZmZlcnMuaW5kZXhPZih0aGlzLmluZGV4QnVmZmVyKV07XG4gICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlci50eXBlID0gQlVGRkVSX1RZUEUuRUxFTUVOVF9BUlJBWV9CVUZGRVI7XG4gICAgfVxuICAgIHJldHVybiBnZW9tZXRyeTtcbiAgfVxuICBzdGF0aWMgbWVyZ2UoZ2VvbWV0cmllcykge1xuICAgIGNvbnN0IGdlb21ldHJ5T3V0ID0gbmV3IEdlb21ldHJ5KCk7XG4gICAgY29uc3QgYXJyYXlzID0gW107XG4gICAgY29uc3Qgc2l6ZXMgPSBbXTtcbiAgICBjb25zdCBvZmZzZXRzID0gW107XG4gICAgbGV0IGdlb21ldHJ5O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHNpemVzW2pdID0gc2l6ZXNbal0gfHwgMDtcbiAgICAgICAgc2l6ZXNbal0gKz0gZ2VvbWV0cnkuYnVmZmVyc1tqXS5kYXRhLmxlbmd0aDtcbiAgICAgICAgb2Zmc2V0c1tqXSA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJyYXlzW2ldID0gbmV3IG1hcFtnZXRCdWZmZXJUeXBlKGdlb21ldHJ5LmJ1ZmZlcnNbaV0uZGF0YSldKHNpemVzW2ldKTtcbiAgICAgIGdlb21ldHJ5T3V0LmJ1ZmZlcnNbaV0gPSBuZXcgQnVmZmVyKGFycmF5c1tpXSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGFycmF5c1tqXS5zZXQoZ2VvbWV0cnkuYnVmZmVyc1tqXS5kYXRhLCBvZmZzZXRzW2pdKTtcbiAgICAgICAgb2Zmc2V0c1tqXSArPSBnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEubGVuZ3RoO1xuICAgICAgfVxuICAgIH1cbiAgICBnZW9tZXRyeU91dC5hdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpIHtcbiAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyID0gZ2VvbWV0cnlPdXQuYnVmZmVyc1tnZW9tZXRyeS5idWZmZXJzLmluZGV4T2YoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXTtcbiAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyLnR5cGUgPSBCVUZGRVJfVFlQRS5FTEVNRU5UX0FSUkFZX0JVRkZFUjtcbiAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgbGV0IHN0cmlkZSA9IDA7XG4gICAgICBsZXQgb2Zmc2V0MiA9IDA7XG4gICAgICBsZXQgYnVmZmVySW5kZXhUb0NvdW50ID0gMDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZ2VvbWV0cnkuYnVmZmVyc1tpXSAhPT0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICBidWZmZXJJbmRleFRvQ291bnQgPSBpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IGkgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcykge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICBpZiAoKGF0dHJpYnV0ZS5idWZmZXIgfCAwKSA9PT0gYnVmZmVySW5kZXhUb0NvdW50KSB7XG4gICAgICAgICAgc3RyaWRlICs9IGF0dHJpYnV0ZS5zaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdIC8gNDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGluZGV4QnVmZmVyRGF0YSA9IGdlb21ldHJpZXNbaV0uaW5kZXhCdWZmZXIuZGF0YTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpbmRleEJ1ZmZlckRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlci5kYXRhW2ogKyBvZmZzZXQyXSArPSBvZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0ICs9IGdlb21ldHJpZXNbaV0uYnVmZmVyc1tidWZmZXJJbmRleFRvQ291bnRdLmRhdGEubGVuZ3RoIC8gc3RyaWRlO1xuICAgICAgICBvZmZzZXQyICs9IGluZGV4QnVmZmVyRGF0YS5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBnZW9tZXRyeU91dDtcbiAgfVxufVxuXG5leHBvcnQgeyBHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2VvbWV0cnkubWpzLm1hcFxuIiwiaW1wb3J0IHsgRU5WLCBCVUZGRVJfVFlQRSB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuY29uc3QgYnl0ZVNpemVNYXAgPSB7IDUxMjY6IDQsIDUxMjM6IDIsIDUxMjE6IDEgfTtcbmNsYXNzIEdlb21ldHJ5U3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBudWxsO1xuICAgIHRoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG4gICAgdGhpcy5oYXNWYW8gPSB0cnVlO1xuICAgIHRoaXMuaGFzSW5zdGFuY2UgPSB0cnVlO1xuICAgIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4ID0gZmFsc2U7XG4gICAgdGhpcy5tYW5hZ2VkR2VvbWV0cmllcyA9IHt9O1xuICB9XG4gIGNvbnRleHRDaGFuZ2UoKSB7XG4gICAgdGhpcy5kaXNwb3NlQWxsKHRydWUpO1xuICAgIGNvbnN0IGdsID0gdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dDtcbiAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcbiAgICBpZiAoY29udGV4dC53ZWJHTFZlcnNpb24gIT09IDIpIHtcbiAgICAgIGxldCBuYXRpdmVWYW9FeHRlbnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy52ZXJ0ZXhBcnJheU9iamVjdDtcbiAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKSB7XG4gICAgICAgIG5hdGl2ZVZhb0V4dGVuc2lvbiA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAobmF0aXZlVmFvRXh0ZW5zaW9uKSB7XG4gICAgICAgIGdsLmNyZWF0ZVZlcnRleEFycmF5ID0gKCkgPT4gbmF0aXZlVmFvRXh0ZW5zaW9uLmNyZWF0ZVZlcnRleEFycmF5T0VTKCk7XG4gICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9ICh2YW8pID0+IG5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVModmFvKTtcbiAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkgPSAodmFvKSA9PiBuYXRpdmVWYW9FeHRlbnNpb24uZGVsZXRlVmVydGV4QXJyYXlPRVModmFvKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGFzVmFvID0gZmFsc2U7XG4gICAgICAgIGdsLmNyZWF0ZVZlcnRleEFycmF5ID0gKCkgPT4gbnVsbDtcbiAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5ID0gKCkgPT4gbnVsbDtcbiAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkgPSAoKSA9PiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29udGV4dC53ZWJHTFZlcnNpb24gIT09IDIpIHtcbiAgICAgIGNvbnN0IGluc3RhbmNlRXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKFwiQU5HTEVfaW5zdGFuY2VkX2FycmF5c1wiKTtcbiAgICAgIGlmIChpbnN0YW5jZUV4dCkge1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yID0gKGEsIGIpID0+IGluc3RhbmNlRXh0LnZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRShhLCBiKTtcbiAgICAgICAgZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkID0gKGEsIGIsIGMsIGQsIGUpID0+IGluc3RhbmNlRXh0LmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFKGEsIGIsIGMsIGQsIGUpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzSW5zdGFuY2VkID0gKGEsIGIsIGMsIGQpID0+IGluc3RhbmNlRXh0LmRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRShhLCBiLCBjLCBkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGFzSW5zdGFuY2UgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXggPSBjb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMiB8fCAhIWNvbnRleHQuZXh0ZW5zaW9ucy51aW50MzJFbGVtZW50SW5kZXg7XG4gIH1cbiAgYmluZChnZW9tZXRyeSwgc2hhZGVyKSB7XG4gICAgc2hhZGVyID0gc2hhZGVyIHx8IHRoaXMucmVuZGVyZXIuc2hhZGVyLnNoYWRlcjtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIGxldCB2YW9zID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgbGV0IGluY1JlZkNvdW50ID0gZmFsc2U7XG4gICAgaWYgKCF2YW9zKSB7XG4gICAgICB0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXSA9IGdlb21ldHJ5O1xuICAgICAgZ2VvbWV0cnkuZGlzcG9zZVJ1bm5lci5hZGQodGhpcyk7XG4gICAgICBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXSA9IHZhb3MgPSB7fTtcbiAgICAgIGluY1JlZkNvdW50ID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgdmFvID0gdmFvc1tzaGFkZXIucHJvZ3JhbS5pZF0gfHwgdGhpcy5pbml0R2VvbWV0cnlWYW8oZ2VvbWV0cnksIHNoYWRlciwgaW5jUmVmQ291bnQpO1xuICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gZ2VvbWV0cnk7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyAhPT0gdmFvKSB7XG4gICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG4gICAgICBpZiAodGhpcy5oYXNWYW8pIHtcbiAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5KHZhbyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFjdGl2YXRlVmFvKGdlb21ldHJ5LCBzaGFkZXIucHJvZ3JhbSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudXBkYXRlQnVmZmVycygpO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMudW5iaW5kKCk7XG4gIH1cbiAgdXBkYXRlQnVmZmVycygpIHtcbiAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuX2FjdGl2ZUdlb21ldHJ5O1xuICAgIGNvbnN0IGJ1ZmZlclN5c3RlbSA9IHRoaXMucmVuZGVyZXIuYnVmZmVyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYnVmZmVyID0gZ2VvbWV0cnkuYnVmZmVyc1tpXTtcbiAgICAgIGJ1ZmZlclN5c3RlbS51cGRhdGUoYnVmZmVyKTtcbiAgICB9XG4gIH1cbiAgY2hlY2tDb21wYXRpYmlsaXR5KGdlb21ldHJ5LCBwcm9ncmFtKSB7XG4gICAgY29uc3QgZ2VvbWV0cnlBdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICBjb25zdCBzaGFkZXJBdHRyaWJ1dGVzID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhO1xuICAgIGZvciAoY29uc3QgaiBpbiBzaGFkZXJBdHRyaWJ1dGVzKSB7XG4gICAgICBpZiAoIWdlb21ldHJ5QXR0cmlidXRlc1tqXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHNoYWRlciBhbmQgZ2VvbWV0cnkgaW5jb21wYXRpYmxlLCBnZW9tZXRyeSBtaXNzaW5nIHRoZSBcIiR7an1cIiBhdHRyaWJ1dGVgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZ2V0U2lnbmF0dXJlKGdlb21ldHJ5LCBwcm9ncmFtKSB7XG4gICAgY29uc3QgYXR0cmlicyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgY29uc3Qgc2hhZGVyQXR0cmlidXRlcyA9IHByb2dyYW0uYXR0cmlidXRlRGF0YTtcbiAgICBjb25zdCBzdHJpbmdzID0gW1wiZ1wiLCBnZW9tZXRyeS5pZF07XG4gICAgZm9yIChjb25zdCBpIGluIGF0dHJpYnMpIHtcbiAgICAgIGlmIChzaGFkZXJBdHRyaWJ1dGVzW2ldKSB7XG4gICAgICAgIHN0cmluZ3MucHVzaChpLCBzaGFkZXJBdHRyaWJ1dGVzW2ldLmxvY2F0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZ3Muam9pbihcIi1cIik7XG4gIH1cbiAgaW5pdEdlb21ldHJ5VmFvKGdlb21ldHJ5LCBzaGFkZXIsIGluY1JlZkNvdW50ID0gdHJ1ZSkge1xuICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICBjb25zdCBDT05URVhUX1VJRCA9IHRoaXMuQ09OVEVYVF9VSUQ7XG4gICAgY29uc3QgYnVmZmVyU3lzdGVtID0gdGhpcy5yZW5kZXJlci5idWZmZXI7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHNoYWRlci5wcm9ncmFtO1xuICAgIGlmICghcHJvZ3JhbS5nbFByb2dyYW1zW0NPTlRFWFRfVUlEXSkge1xuICAgICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuZ2VuZXJhdGVQcm9ncmFtKHNoYWRlcik7XG4gICAgfVxuICAgIHRoaXMuY2hlY2tDb21wYXRpYmlsaXR5KGdlb21ldHJ5LCBwcm9ncmFtKTtcbiAgICBjb25zdCBzaWduYXR1cmUgPSB0aGlzLmdldFNpZ25hdHVyZShnZW9tZXRyeSwgcHJvZ3JhbSk7XG4gICAgY29uc3QgdmFvT2JqZWN0SGFzaCA9IGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIGxldCB2YW8gPSB2YW9PYmplY3RIYXNoW3NpZ25hdHVyZV07XG4gICAgaWYgKHZhbykge1xuICAgICAgdmFvT2JqZWN0SGFzaFtwcm9ncmFtLmlkXSA9IHZhbztcbiAgICAgIHJldHVybiB2YW87XG4gICAgfVxuICAgIGNvbnN0IGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgIGNvbnN0IHRlbXBTdHJpZGUgPSB7fTtcbiAgICBjb25zdCB0ZW1wU3RhcnQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGogaW4gYnVmZmVycykge1xuICAgICAgdGVtcFN0cmlkZVtqXSA9IDA7XG4gICAgICB0ZW1wU3RhcnRbal0gPSAwO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGogaW4gYXR0cmlidXRlcykge1xuICAgICAgaWYgKCFhdHRyaWJ1dGVzW2pdLnNpemUgJiYgcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdKSB7XG4gICAgICAgIGF0dHJpYnV0ZXNbal0uc2l6ZSA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXS5zaXplO1xuICAgICAgfSBlbHNlIGlmICghYXR0cmlidXRlc1tqXS5zaXplKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgUElYSSBHZW9tZXRyeSBhdHRyaWJ1dGUgJyR7an0nIHNpemUgY2Fubm90IGJlIGRldGVybWluZWQgKGxpa2VseSB0aGUgYm91bmQgc2hhZGVyIGRvZXMgbm90IGhhdmUgdGhlIGF0dHJpYnV0ZSlgKTtcbiAgICAgIH1cbiAgICAgIHRlbXBTdHJpZGVbYXR0cmlidXRlc1tqXS5idWZmZXJdICs9IGF0dHJpYnV0ZXNbal0uc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZXNbal0udHlwZV07XG4gICAgfVxuICAgIGZvciAoY29uc3QgaiBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICBjb25zdCBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2pdO1xuICAgICAgY29uc3QgYXR0cmliU2l6ZSA9IGF0dHJpYnV0ZS5zaXplO1xuICAgICAgaWYgKGF0dHJpYnV0ZS5zdHJpZGUgPT09IHZvaWQgMCkge1xuICAgICAgICBpZiAodGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXSA9PT0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSkge1xuICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSB0ZW1wU3RyaWRlW2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXR0cmlidXRlLnN0YXJ0ID09PSB2b2lkIDApIHtcbiAgICAgICAgYXR0cmlidXRlLnN0YXJ0ID0gdGVtcFN0YXJ0W2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl0gKz0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFvID0gZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtcbiAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcnNbaV07XG4gICAgICBidWZmZXJTeXN0ZW0uYmluZChidWZmZXIpO1xuICAgICAgaWYgKGluY1JlZkNvdW50KSB7XG4gICAgICAgIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXS5yZWZDb3VudCsrO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFjdGl2YXRlVmFvKGdlb21ldHJ5LCBwcm9ncmFtKTtcbiAgICB2YW9PYmplY3RIYXNoW3Byb2dyYW0uaWRdID0gdmFvO1xuICAgIHZhb09iamVjdEhhc2hbc2lnbmF0dXJlXSA9IHZhbztcbiAgICBnbC5iaW5kVmVydGV4QXJyYXkobnVsbCk7XG4gICAgYnVmZmVyU3lzdGVtLnVuYmluZChCVUZGRVJfVFlQRS5BUlJBWV9CVUZGRVIpO1xuICAgIHJldHVybiB2YW87XG4gIH1cbiAgZGlzcG9zZUdlb21ldHJ5KGdlb21ldHJ5LCBjb250ZXh0TG9zdCkge1xuICAgIGlmICghdGhpcy5tYW5hZ2VkR2VvbWV0cmllc1tnZW9tZXRyeS5pZF0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVsZXRlIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdO1xuICAgIGNvbnN0IHZhb3MgPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgY29uc3QgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgY29uc3QgYnVmZmVyU3lzdGVtID0gdGhpcy5yZW5kZXJlcj8uYnVmZmVyO1xuICAgIGdlb21ldHJ5LmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuICAgIGlmICghdmFvcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYnVmZmVyU3lzdGVtKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYnVmID0gYnVmZmVyc1tpXS5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoYnVmKSB7XG4gICAgICAgICAgYnVmLnJlZkNvdW50LS07XG4gICAgICAgICAgaWYgKGJ1Zi5yZWZDb3VudCA9PT0gMCAmJiAhY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgIGJ1ZmZlclN5c3RlbS5kaXNwb3NlKGJ1ZmZlcnNbaV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFjb250ZXh0TG9zdCkge1xuICAgICAgZm9yIChjb25zdCB2YW9JZCBpbiB2YW9zKSB7XG4gICAgICAgIGlmICh2YW9JZFswXSA9PT0gXCJnXCIpIHtcbiAgICAgICAgICBjb25zdCB2YW8gPSB2YW9zW3Zhb0lkXTtcbiAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlVmFvID09PSB2YW8pIHtcbiAgICAgICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5KHZhbyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZGVsZXRlIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICB9XG4gIGRpc3Bvc2VBbGwoY29udGV4dExvc3QpIHtcbiAgICBjb25zdCBhbGwgPSBPYmplY3Qua2V5cyh0aGlzLm1hbmFnZWRHZW9tZXRyaWVzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5kaXNwb3NlR2VvbWV0cnkodGhpcy5tYW5hZ2VkR2VvbWV0cmllc1thbGxbaV1dLCBjb250ZXh0TG9zdCk7XG4gICAgfVxuICB9XG4gIGFjdGl2YXRlVmFvKGdlb21ldHJ5LCBwcm9ncmFtKSB7XG4gICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgIGNvbnN0IENPTlRFWFRfVUlEID0gdGhpcy5DT05URVhUX1VJRDtcbiAgICBjb25zdCBidWZmZXJTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLmJ1ZmZlcjtcbiAgICBjb25zdCBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpIHtcbiAgICAgIGJ1ZmZlclN5c3RlbS5iaW5kKGdlb21ldHJ5LmluZGV4QnVmZmVyKTtcbiAgICB9XG4gICAgbGV0IGxhc3RCdWZmZXIgPSBudWxsO1xuICAgIGZvciAoY29uc3QgaiBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICBjb25zdCBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2pdO1xuICAgICAgY29uc3QgYnVmZmVyID0gYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgIGNvbnN0IGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdO1xuICAgICAgaWYgKHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXSkge1xuICAgICAgICBpZiAobGFzdEJ1ZmZlciAhPT0gZ2xCdWZmZXIpIHtcbiAgICAgICAgICBidWZmZXJTeXN0ZW0uYmluZChidWZmZXIpO1xuICAgICAgICAgIGxhc3RCdWZmZXIgPSBnbEJ1ZmZlcjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXS5sb2NhdGlvbjtcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb24pO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGxvY2F0aW9uLCBhdHRyaWJ1dGUuc2l6ZSwgYXR0cmlidXRlLnR5cGUgfHwgZ2wuRkxPQVQsIGF0dHJpYnV0ZS5ub3JtYWxpemVkLCBhdHRyaWJ1dGUuc3RyaWRlLCBhdHRyaWJ1dGUuc3RhcnQpO1xuICAgICAgICBpZiAoYXR0cmlidXRlLmluc3RhbmNlKSB7XG4gICAgICAgICAgaWYgKHRoaXMuaGFzSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IobG9jYXRpb24sIGF0dHJpYnV0ZS5kaXZpc29yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ2VvbWV0cnkgZXJyb3IsIEdQVSBJbnN0YW5jaW5nIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBkZXZpY2VcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGRyYXcodHlwZSwgc2l6ZSwgc3RhcnQsIGluc3RhbmNlQ291bnQpIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5fYWN0aXZlR2VvbWV0cnk7XG4gICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICBjb25zdCBieXRlU2l6ZSA9IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICBjb25zdCBnbFR5cGUgPSBieXRlU2l6ZSA9PT0gMiA/IGdsLlVOU0lHTkVEX1NIT1JUIDogZ2wuVU5TSUdORURfSU5UO1xuICAgICAgaWYgKGJ5dGVTaXplID09PSAyIHx8IGJ5dGVTaXplID09PSA0ICYmIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4KSB7XG4gICAgICAgIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpIHtcbiAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQodHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2xUeXBlLCAoc3RhcnQgfHwgMCkgKiBieXRlU2l6ZSwgaW5zdGFuY2VDb3VudCB8fCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnbC5kcmF3RWxlbWVudHModHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2xUeXBlLCAoc3RhcnQgfHwgMCkgKiBieXRlU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcInVuc3VwcG9ydGVkIGluZGV4IGJ1ZmZlciB0eXBlOiB1aW50MzJcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpIHtcbiAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQodHlwZSwgc3RhcnQsIHNpemUgfHwgZ2VvbWV0cnkuZ2V0U2l6ZSgpLCBpbnN0YW5jZUNvdW50IHx8IDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbC5kcmF3QXJyYXlzKHR5cGUsIHN0YXJ0LCBzaXplIHx8IGdlb21ldHJ5LmdldFNpemUoKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHVuYmluZCgpIHtcbiAgICB0aGlzLmdsLmJpbmRWZXJ0ZXhBcnJheShudWxsKTtcbiAgICB0aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG5HZW9tZXRyeVN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IEV4dGVuc2lvblR5cGUuUmVuZGVyZXJTeXN0ZW0sXG4gIG5hbWU6IFwiZ2VvbWV0cnlcIlxufTtcbmV4dGVuc2lvbnMuYWRkKEdlb21ldHJ5U3lzdGVtKTtcblxuZXhwb3J0IHsgR2VvbWV0cnlTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdlb21ldHJ5U3lzdGVtLm1qcy5tYXBcbiIsImNsYXNzIFZpZXdhYmxlQnVmZmVyIHtcbiAgY29uc3RydWN0b3Ioc2l6ZU9yQnVmZmVyKSB7XG4gICAgaWYgKHR5cGVvZiBzaXplT3JCdWZmZXIgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRoaXMucmF3QmluYXJ5RGF0YSA9IG5ldyBBcnJheUJ1ZmZlcihzaXplT3JCdWZmZXIpO1xuICAgIH0gZWxzZSBpZiAoc2l6ZU9yQnVmZmVyIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgdGhpcy5yYXdCaW5hcnlEYXRhID0gc2l6ZU9yQnVmZmVyLmJ1ZmZlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yYXdCaW5hcnlEYXRhID0gc2l6ZU9yQnVmZmVyO1xuICAgIH1cbiAgICB0aGlzLnVpbnQzMlZpZXcgPSBuZXcgVWludDMyQXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICB9XG4gIGdldCBpbnQ4VmlldygpIHtcbiAgICBpZiAoIXRoaXMuX2ludDhWaWV3KSB7XG4gICAgICB0aGlzLl9pbnQ4VmlldyA9IG5ldyBJbnQ4QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2ludDhWaWV3O1xuICB9XG4gIGdldCB1aW50OFZpZXcoKSB7XG4gICAgaWYgKCF0aGlzLl91aW50OFZpZXcpIHtcbiAgICAgIHRoaXMuX3VpbnQ4VmlldyA9IG5ldyBVaW50OEFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl91aW50OFZpZXc7XG4gIH1cbiAgZ2V0IGludDE2VmlldygpIHtcbiAgICBpZiAoIXRoaXMuX2ludDE2Vmlldykge1xuICAgICAgdGhpcy5faW50MTZWaWV3ID0gbmV3IEludDE2QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2ludDE2VmlldztcbiAgfVxuICBnZXQgdWludDE2VmlldygpIHtcbiAgICBpZiAoIXRoaXMuX3VpbnQxNlZpZXcpIHtcbiAgICAgIHRoaXMuX3VpbnQxNlZpZXcgPSBuZXcgVWludDE2QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3VpbnQxNlZpZXc7XG4gIH1cbiAgZ2V0IGludDMyVmlldygpIHtcbiAgICBpZiAoIXRoaXMuX2ludDMyVmlldykge1xuICAgICAgdGhpcy5faW50MzJWaWV3ID0gbmV3IEludDMyQXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2ludDMyVmlldztcbiAgfVxuICB2aWV3KHR5cGUpIHtcbiAgICByZXR1cm4gdGhpc1tgJHt0eXBlfVZpZXdgXTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmF3QmluYXJ5RGF0YSA9IG51bGw7XG4gICAgdGhpcy5faW50OFZpZXcgPSBudWxsO1xuICAgIHRoaXMuX3VpbnQ4VmlldyA9IG51bGw7XG4gICAgdGhpcy5faW50MTZWaWV3ID0gbnVsbDtcbiAgICB0aGlzLl91aW50MTZWaWV3ID0gbnVsbDtcbiAgICB0aGlzLl9pbnQzMlZpZXcgPSBudWxsO1xuICAgIHRoaXMudWludDMyVmlldyA9IG51bGw7XG4gICAgdGhpcy5mbG9hdDMyVmlldyA9IG51bGw7XG4gIH1cbiAgc3RhdGljIHNpemVPZih0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiaW50OFwiOlxuICAgICAgY2FzZSBcInVpbnQ4XCI6XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgY2FzZSBcImludDE2XCI6XG4gICAgICBjYXNlIFwidWludDE2XCI6XG4gICAgICAgIHJldHVybiAyO1xuICAgICAgY2FzZSBcImludDMyXCI6XG4gICAgICBjYXNlIFwidWludDMyXCI6XG4gICAgICBjYXNlIFwiZmxvYXQzMlwiOlxuICAgICAgICByZXR1cm4gNDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHt0eXBlfSBpc24ndCBhIHZhbGlkIHZpZXcgdHlwZWApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBWaWV3YWJsZUJ1ZmZlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlld2FibGVCdWZmZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgZ2V0QnVmZmVyVHlwZSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuY29uc3QgbWFwID0ge1xuICBGbG9hdDMyQXJyYXksXG4gIFVpbnQzMkFycmF5LFxuICBJbnQzMkFycmF5LFxuICBVaW50OEFycmF5XG59O1xuZnVuY3Rpb24gaW50ZXJsZWF2ZVR5cGVkQXJyYXlzKGFycmF5cywgc2l6ZXMpIHtcbiAgbGV0IG91dFNpemUgPSAwO1xuICBsZXQgc3RyaWRlID0gMDtcbiAgY29uc3Qgdmlld3MgPSB7fTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICBzdHJpZGUgKz0gc2l6ZXNbaV07XG4gICAgb3V0U2l6ZSArPSBhcnJheXNbaV0ubGVuZ3RoO1xuICB9XG4gIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihvdXRTaXplICogNCk7XG4gIGxldCBvdXQgPSBudWxsO1xuICBsZXQgbGl0dGxlT2Zmc2V0ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzaXplID0gc2l6ZXNbaV07XG4gICAgY29uc3QgYXJyYXkgPSBhcnJheXNbaV07XG4gICAgY29uc3QgdHlwZSA9IGdldEJ1ZmZlclR5cGUoYXJyYXkpO1xuICAgIGlmICghdmlld3NbdHlwZV0pIHtcbiAgICAgIHZpZXdzW3R5cGVdID0gbmV3IG1hcFt0eXBlXShidWZmZXIpO1xuICAgIH1cbiAgICBvdXQgPSB2aWV3c1t0eXBlXTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICBjb25zdCBpbmRleFN0YXJ0ID0gKGogLyBzaXplIHwgMCkgKiBzdHJpZGUgKyBsaXR0bGVPZmZzZXQ7XG4gICAgICBjb25zdCBpbmRleCA9IGogJSBzaXplO1xuICAgICAgb3V0W2luZGV4U3RhcnQgKyBpbmRleF0gPSBhcnJheVtqXTtcbiAgICB9XG4gICAgbGl0dGxlT2Zmc2V0ICs9IHNpemU7XG4gIH1cbiAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbn1cblxuZXhwb3J0IHsgaW50ZXJsZWF2ZVR5cGVkQXJyYXlzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcmxlYXZlVHlwZWRBcnJheXMubWpzLm1hcFxuIiwiaW1wb3J0ICcuL3NldHRpbmdzLm1qcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb2xvcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tYXRoJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3J1bm5lcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0ICogYXMgdXRpbHMkMSBmcm9tICdAcGl4aS91dGlscyc7XG5leHBvcnQgeyB1dGlscyQxIGFzIHV0aWxzIH07XG5leHBvcnQgeyBhdXRvRGV0ZWN0UmVuZGVyZXIgfSBmcm9tICcuL2F1dG9EZXRlY3RSZW5kZXJlci5tanMnO1xuZXhwb3J0IHsgQmFja2dyb3VuZFN5c3RlbSB9IGZyb20gJy4vYmFja2dyb3VuZC9CYWNrZ3JvdW5kU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBCYXRjaERyYXdDYWxsIH0gZnJvbSAnLi9iYXRjaC9CYXRjaERyYXdDYWxsLm1qcyc7XG5leHBvcnQgeyBCYXRjaEdlb21ldHJ5IH0gZnJvbSAnLi9iYXRjaC9CYXRjaEdlb21ldHJ5Lm1qcyc7XG5leHBvcnQgeyBCYXRjaFJlbmRlcmVyIH0gZnJvbSAnLi9iYXRjaC9CYXRjaFJlbmRlcmVyLm1qcyc7XG5leHBvcnQgeyBCYXRjaFNoYWRlckdlbmVyYXRvciB9IGZyb20gJy4vYmF0Y2gvQmF0Y2hTaGFkZXJHZW5lcmF0b3IubWpzJztcbmV4cG9ydCB7IEJhdGNoU3lzdGVtIH0gZnJvbSAnLi9iYXRjaC9CYXRjaFN5c3RlbS5tanMnO1xuZXhwb3J0IHsgQmF0Y2hUZXh0dXJlQXJyYXkgfSBmcm9tICcuL2JhdGNoL0JhdGNoVGV4dHVyZUFycmF5Lm1qcyc7XG5leHBvcnQgeyBPYmplY3RSZW5kZXJlciB9IGZyb20gJy4vYmF0Y2gvT2JqZWN0UmVuZGVyZXIubWpzJztcbmV4cG9ydCB7IENvbnRleHRTeXN0ZW0gfSBmcm9tICcuL2NvbnRleHQvQ29udGV4dFN5c3RlbS5tanMnO1xuZXhwb3J0IHsgRmlsdGVyIH0gZnJvbSAnLi9maWx0ZXJzL0ZpbHRlci5tanMnO1xuZXhwb3J0IHsgRmlsdGVyU3RhdGUgfSBmcm9tICcuL2ZpbHRlcnMvRmlsdGVyU3RhdGUubWpzJztcbmV4cG9ydCB7IEZpbHRlclN5c3RlbSB9IGZyb20gJy4vZmlsdGVycy9GaWx0ZXJTeXN0ZW0ubWpzJztcbmltcG9ydCAnLi9maWx0ZXJzL0lGaWx0ZXJUYXJnZXQubWpzJztcbmV4cG9ydCB7IFNwcml0ZU1hc2tGaWx0ZXIgfSBmcm9tICcuL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyLm1qcyc7XG5leHBvcnQgeyBkZWZhdWx0RmlsdGVyVmVydGV4LCBkZWZhdWx0VmVydGV4IH0gZnJvbSAnLi9mcmFnbWVudHMvaW5kZXgubWpzJztcbmV4cG9ydCB7IEZyYW1lYnVmZmVyIH0gZnJvbSAnLi9mcmFtZWJ1ZmZlci9GcmFtZWJ1ZmZlci5tanMnO1xuZXhwb3J0IHsgRnJhbWVidWZmZXJTeXN0ZW0gfSBmcm9tICcuL2ZyYW1lYnVmZmVyL0ZyYW1lYnVmZmVyU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBHTEZyYW1lYnVmZmVyIH0gZnJvbSAnLi9mcmFtZWJ1ZmZlci9HTEZyYW1lYnVmZmVyLm1qcyc7XG5leHBvcnQgeyBNdWx0aXNhbXBsZVN5c3RlbSB9IGZyb20gJy4vZnJhbWVidWZmZXIvTXVsdGlzYW1wbGVTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IEF0dHJpYnV0ZSB9IGZyb20gJy4vZ2VvbWV0cnkvQXR0cmlidXRlLm1qcyc7XG5leHBvcnQgeyBCdWZmZXIgfSBmcm9tICcuL2dlb21ldHJ5L0J1ZmZlci5tanMnO1xuZXhwb3J0IHsgQnVmZmVyU3lzdGVtIH0gZnJvbSAnLi9nZW9tZXRyeS9CdWZmZXJTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IEdlb21ldHJ5IH0gZnJvbSAnLi9nZW9tZXRyeS9HZW9tZXRyeS5tanMnO1xuZXhwb3J0IHsgR2VvbWV0cnlTeXN0ZW0gfSBmcm9tICcuL2dlb21ldHJ5L0dlb21ldHJ5U3lzdGVtLm1qcyc7XG5leHBvcnQgeyBWaWV3YWJsZUJ1ZmZlciB9IGZyb20gJy4vZ2VvbWV0cnkvVmlld2FibGVCdWZmZXIubWpzJztcbmltcG9ydCAnLi9JUmVuZGVyZXIubWpzJztcbmV4cG9ydCB7IE1hc2tEYXRhIH0gZnJvbSAnLi9tYXNrL01hc2tEYXRhLm1qcyc7XG5leHBvcnQgeyBNYXNrU3lzdGVtIH0gZnJvbSAnLi9tYXNrL01hc2tTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFNjaXNzb3JTeXN0ZW0gfSBmcm9tICcuL21hc2svU2Npc3NvclN5c3RlbS5tanMnO1xuZXhwb3J0IHsgU3RlbmNpbFN5c3RlbSB9IGZyb20gJy4vbWFzay9TdGVuY2lsU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBQbHVnaW5TeXN0ZW0gfSBmcm9tICcuL3BsdWdpbi9QbHVnaW5TeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFByb2plY3Rpb25TeXN0ZW0gfSBmcm9tICcuL3Byb2plY3Rpb24vUHJvamVjdGlvblN5c3RlbS5tanMnO1xuZXhwb3J0IHsgT2JqZWN0UmVuZGVyZXJTeXN0ZW0gfSBmcm9tICcuL3JlbmRlci9PYmplY3RSZW5kZXJlclN5c3RlbS5tanMnO1xuZXhwb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuL1JlbmRlcmVyLm1qcyc7XG5leHBvcnQgeyBCYXNlUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4vcmVuZGVyVGV4dHVyZS9CYXNlUmVuZGVyVGV4dHVyZS5tanMnO1xuZXhwb3J0IHsgR2VuZXJhdGVUZXh0dXJlU3lzdGVtIH0gZnJvbSAnLi9yZW5kZXJUZXh0dXJlL0dlbmVyYXRlVGV4dHVyZVN5c3RlbS5tanMnO1xuZXhwb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4vcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlLm1qcyc7XG5leHBvcnQgeyBSZW5kZXJUZXh0dXJlUG9vbCB9IGZyb20gJy4vcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlUG9vbC5tanMnO1xuZXhwb3J0IHsgUmVuZGVyVGV4dHVyZVN5c3RlbSB9IGZyb20gJy4vcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBHTFByb2dyYW0sIElHTFVuaWZvcm1EYXRhIH0gZnJvbSAnLi9zaGFkZXIvR0xQcm9ncmFtLm1qcyc7XG5leHBvcnQgeyBQcm9ncmFtIH0gZnJvbSAnLi9zaGFkZXIvUHJvZ3JhbS5tanMnO1xuZXhwb3J0IHsgU2hhZGVyIH0gZnJvbSAnLi9zaGFkZXIvU2hhZGVyLm1qcyc7XG5leHBvcnQgeyBTaGFkZXJTeXN0ZW0gfSBmcm9tICcuL3NoYWRlci9TaGFkZXJTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4vc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMnO1xuZXhwb3J0IHsgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciB9IGZyb20gJy4vc2hhZGVyL3V0aWxzL2NoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIubWpzJztcbmV4cG9ydCB7IGdlbmVyYXRlUHJvZ3JhbSB9IGZyb20gJy4vc2hhZGVyL3V0aWxzL2dlbmVyYXRlUHJvZ3JhbS5tanMnO1xuZXhwb3J0IHsgY3JlYXRlVUJPRWxlbWVudHMsIGdlbmVyYXRlVW5pZm9ybUJ1ZmZlclN5bmMsIGdldFVCT0RhdGEgfSBmcm9tICcuL3NoYWRlci91dGlscy9nZW5lcmF0ZVVuaWZvcm1CdWZmZXJTeW5jLm1qcyc7XG5leHBvcnQgeyBnZXRUZXN0Q29udGV4dCB9IGZyb20gJy4vc2hhZGVyL3V0aWxzL2dldFRlc3RDb250ZXh0Lm1qcyc7XG5leHBvcnQgeyB1bmlmb3JtUGFyc2VycyB9IGZyb20gJy4vc2hhZGVyL3V0aWxzL3VuaWZvcm1QYXJzZXJzLm1qcyc7XG5leHBvcnQgeyB1bnNhZmVFdmFsU3VwcG9ydGVkIH0gZnJvbSAnLi9zaGFkZXIvdXRpbHMvdW5zYWZlRXZhbFN1cHBvcnRlZC5tanMnO1xuZXhwb3J0IHsgU3RhcnR1cFN5c3RlbSB9IGZyb20gJy4vc3RhcnR1cC9TdGFydHVwU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vc3RhdGUvU3RhdGUubWpzJztcbmV4cG9ydCB7IFN0YXRlU3lzdGVtIH0gZnJvbSAnLi9zdGF0ZS9TdGF0ZVN5c3RlbS5tanMnO1xuaW1wb3J0ICcuL3N5c3RlbS9JU3lzdGVtLm1qcyc7XG5pbXBvcnQgJy4vc3lzdGVtcy5tanMnO1xuZXhwb3J0IHsgQmFzZVRleHR1cmUgfSBmcm9tICcuL3RleHR1cmVzL0Jhc2VUZXh0dXJlLm1qcyc7XG5leHBvcnQgeyBHTFRleHR1cmUgfSBmcm9tICcuL3RleHR1cmVzL0dMVGV4dHVyZS5tanMnO1xuaW1wb3J0ICcuL3RleHR1cmVzL3Jlc291cmNlcy9pbmRleC5tanMnO1xuZXhwb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4vdGV4dHVyZXMvVGV4dHVyZS5tanMnO1xuZXhwb3J0IHsgVGV4dHVyZUdDU3lzdGVtIH0gZnJvbSAnLi90ZXh0dXJlcy9UZXh0dXJlR0NTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFRleHR1cmVNYXRyaXggfSBmcm9tICcuL3RleHR1cmVzL1RleHR1cmVNYXRyaXgubWpzJztcbmV4cG9ydCB7IFRleHR1cmVTeXN0ZW0gfSBmcm9tICcuL3RleHR1cmVzL1RleHR1cmVTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFRleHR1cmVVdnMgfSBmcm9tICcuL3RleHR1cmVzL1RleHR1cmVVdnMubWpzJztcbmV4cG9ydCB7IFRyYW5zZm9ybUZlZWRiYWNrIH0gZnJvbSAnLi90cmFuc2Zvcm1GZWVkYmFjay9UcmFuc2Zvcm1GZWVkYmFjay5tanMnO1xuZXhwb3J0IHsgVHJhbnNmb3JtRmVlZGJhY2tTeXN0ZW0gfSBmcm9tICcuL3RyYW5zZm9ybUZlZWRiYWNrL1RyYW5zZm9ybUZlZWRiYWNrU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBRdWFkIH0gZnJvbSAnLi91dGlscy9RdWFkLm1qcyc7XG5leHBvcnQgeyBRdWFkVXYgfSBmcm9tICcuL3V0aWxzL1F1YWRVdi5tanMnO1xuZXhwb3J0IHsgVmlld1N5c3RlbSB9IGZyb20gJy4vdmlldy9WaWV3U3lzdGVtLm1qcyc7XG5leHBvcnQgeyBTeXN0ZW1NYW5hZ2VyIH0gZnJvbSAnLi9zeXN0ZW0vU3lzdGVtTWFuYWdlci5tanMnO1xuZXhwb3J0IHsgQmFzZUltYWdlUmVzb3VyY2UgfSBmcm9tICcuL3RleHR1cmVzL3Jlc291cmNlcy9CYXNlSW1hZ2VSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgUmVzb3VyY2UgfSBmcm9tICcuL3RleHR1cmVzL3Jlc291cmNlcy9SZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgQWJzdHJhY3RNdWx0aVJlc291cmNlIH0gZnJvbSAnLi90ZXh0dXJlcy9yZXNvdXJjZXMvQWJzdHJhY3RNdWx0aVJlc291cmNlLm1qcyc7XG5leHBvcnQgeyBBcnJheVJlc291cmNlIH0gZnJvbSAnLi90ZXh0dXJlcy9yZXNvdXJjZXMvQXJyYXlSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgSU5TVEFMTEVELCBhdXRvRGV0ZWN0UmVzb3VyY2UgfSBmcm9tICcuL3RleHR1cmVzL3Jlc291cmNlcy9hdXRvRGV0ZWN0UmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IEJ1ZmZlclJlc291cmNlIH0gZnJvbSAnLi90ZXh0dXJlcy9yZXNvdXJjZXMvQnVmZmVyUmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IENhbnZhc1Jlc291cmNlIH0gZnJvbSAnLi90ZXh0dXJlcy9yZXNvdXJjZXMvQ2FudmFzUmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IEN1YmVSZXNvdXJjZSB9IGZyb20gJy4vdGV4dHVyZXMvcmVzb3VyY2VzL0N1YmVSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgSW1hZ2VCaXRtYXBSZXNvdXJjZSB9IGZyb20gJy4vdGV4dHVyZXMvcmVzb3VyY2VzL0ltYWdlQml0bWFwUmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IEltYWdlUmVzb3VyY2UgfSBmcm9tICcuL3RleHR1cmVzL3Jlc291cmNlcy9JbWFnZVJlc291cmNlLm1qcyc7XG5leHBvcnQgeyBTVkdSZXNvdXJjZSB9IGZyb20gJy4vdGV4dHVyZXMvcmVzb3VyY2VzL1NWR1Jlc291cmNlLm1qcyc7XG5leHBvcnQgeyBWaWRlb1Jlc291cmNlIH0gZnJvbSAnLi90ZXh0dXJlcy9yZXNvdXJjZXMvVmlkZW9SZXNvdXJjZS5tanMnO1xuXG5jb25zdCBWRVJTSU9OID0gXCI3LjIuNFwiO1xuXG5leHBvcnQgeyBWRVJTSU9OIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJjbGFzcyBBYnN0cmFjdE1hc2tTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLm1hc2tTdGFjayA9IFtdO1xuICAgIHRoaXMuZ2xDb25zdCA9IDA7XG4gIH1cbiAgZ2V0U3RhY2tMZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFza1N0YWNrLmxlbmd0aDtcbiAgfVxuICBzZXRNYXNrU3RhY2sobWFza1N0YWNrKSB7XG4gICAgY29uc3QgeyBnbCB9ID0gdGhpcy5yZW5kZXJlcjtcbiAgICBjb25zdCBjdXJTdGFja0xlbiA9IHRoaXMuZ2V0U3RhY2tMZW5ndGgoKTtcbiAgICB0aGlzLm1hc2tTdGFjayA9IG1hc2tTdGFjaztcbiAgICBjb25zdCBuZXdTdGFja0xlbiA9IHRoaXMuZ2V0U3RhY2tMZW5ndGgoKTtcbiAgICBpZiAobmV3U3RhY2tMZW4gIT09IGN1clN0YWNrTGVuKSB7XG4gICAgICBpZiAobmV3U3RhY2tMZW4gPT09IDApIHtcbiAgICAgICAgZ2wuZGlzYWJsZSh0aGlzLmdsQ29uc3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2wuZW5hYmxlKHRoaXMuZ2xDb25zdCk7XG4gICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3VzZUN1cnJlbnQoKSB7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLm1hc2tTdGFjayA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgQWJzdHJhY3RNYXNrU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BYnN0cmFjdE1hc2tTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgTUFTS19UWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuLi9maWx0ZXJzL0ZpbHRlci5tanMnO1xuXG5jbGFzcyBNYXNrRGF0YSB7XG4gIGNvbnN0cnVjdG9yKG1hc2tPYmplY3QgPSBudWxsKSB7XG4gICAgdGhpcy50eXBlID0gTUFTS19UWVBFUy5OT05FO1xuICAgIHRoaXMuYXV0b0RldGVjdCA9IHRydWU7XG4gICAgdGhpcy5tYXNrT2JqZWN0ID0gbWFza09iamVjdCB8fCBudWxsO1xuICAgIHRoaXMucG9vbGVkID0gZmFsc2U7XG4gICAgdGhpcy5pc01hc2tEYXRhID0gdHJ1ZTtcbiAgICB0aGlzLnJlc29sdXRpb24gPSBudWxsO1xuICAgIHRoaXMubXVsdGlzYW1wbGUgPSBGaWx0ZXIuZGVmYXVsdE11bHRpc2FtcGxlO1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgdGhpcy5jb2xvck1hc2sgPSAxNTtcbiAgICB0aGlzLl9maWx0ZXJzID0gbnVsbDtcbiAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IDA7XG4gICAgdGhpcy5fc2Npc3NvckNvdW50ZXIgPSAwO1xuICAgIHRoaXMuX3NjaXNzb3JSZWN0ID0gbnVsbDtcbiAgICB0aGlzLl9zY2lzc29yUmVjdExvY2FsID0gbnVsbDtcbiAgICB0aGlzLl9jb2xvck1hc2sgPSAxNTtcbiAgICB0aGlzLl90YXJnZXQgPSBudWxsO1xuICB9XG4gIGdldCBmaWx0ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbHRlcnMgPyB0aGlzLl9maWx0ZXJzWzBdIDogbnVsbDtcbiAgfVxuICBzZXQgZmlsdGVyKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5fZmlsdGVycykge1xuICAgICAgICB0aGlzLl9maWx0ZXJzWzBdID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9maWx0ZXJzID0gW3ZhbHVlXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZmlsdGVycyA9IG51bGw7XG4gICAgfVxuICB9XG4gIHJlc2V0KCkge1xuICAgIGlmICh0aGlzLnBvb2xlZCkge1xuICAgICAgdGhpcy5tYXNrT2JqZWN0ID0gbnVsbDtcbiAgICAgIHRoaXMudHlwZSA9IE1BU0tfVFlQRVMuTk9ORTtcbiAgICAgIHRoaXMuYXV0b0RldGVjdCA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuX3RhcmdldCA9IG51bGw7XG4gICAgdGhpcy5fc2Npc3NvclJlY3RMb2NhbCA9IG51bGw7XG4gIH1cbiAgY29weUNvdW50ZXJzT3JSZXNldChtYXNrQWJvdmUpIHtcbiAgICBpZiAobWFza0Fib3ZlKSB7XG4gICAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IG1hc2tBYm92ZS5fc3RlbmNpbENvdW50ZXI7XG4gICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IG1hc2tBYm92ZS5fc2Npc3NvckNvdW50ZXI7XG4gICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG1hc2tBYm92ZS5fc2Npc3NvclJlY3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N0ZW5jaWxDb3VudGVyID0gMDtcbiAgICAgIHRoaXMuX3NjaXNzb3JDb3VudGVyID0gMDtcbiAgICAgIHRoaXMuX3NjaXNzb3JSZWN0ID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgTWFza0RhdGEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hc2tEYXRhLm1qcy5tYXBcbiIsImltcG9ydCB7IE1BU0tfVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuaW1wb3J0IHsgU3ByaXRlTWFza0ZpbHRlciB9IGZyb20gJy4uL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyLm1qcyc7XG5pbXBvcnQgeyBNYXNrRGF0YSB9IGZyb20gJy4vTWFza0RhdGEubWpzJztcblxuY2xhc3MgTWFza1N5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuZW5hYmxlU2Npc3NvciA9IHRydWU7XG4gICAgdGhpcy5hbHBoYU1hc2tQb29sID0gW107XG4gICAgdGhpcy5tYXNrRGF0YVBvb2wgPSBbXTtcbiAgICB0aGlzLm1hc2tTdGFjayA9IFtdO1xuICAgIHRoaXMuYWxwaGFNYXNrSW5kZXggPSAwO1xuICB9XG4gIHNldE1hc2tTdGFjayhtYXNrU3RhY2spIHtcbiAgICB0aGlzLm1hc2tTdGFjayA9IG1hc2tTdGFjaztcbiAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3Iuc2V0TWFza1N0YWNrKG1hc2tTdGFjayk7XG4gICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsLnNldE1hc2tTdGFjayhtYXNrU3RhY2spO1xuICB9XG4gIHB1c2godGFyZ2V0LCBtYXNrRGF0YU9yVGFyZ2V0KSB7XG4gICAgbGV0IG1hc2tEYXRhID0gbWFza0RhdGFPclRhcmdldDtcbiAgICBpZiAoIW1hc2tEYXRhLmlzTWFza0RhdGEpIHtcbiAgICAgIGNvbnN0IGQgPSB0aGlzLm1hc2tEYXRhUG9vbC5wb3AoKSB8fCBuZXcgTWFza0RhdGEoKTtcbiAgICAgIGQucG9vbGVkID0gdHJ1ZTtcbiAgICAgIGQubWFza09iamVjdCA9IG1hc2tEYXRhT3JUYXJnZXQ7XG4gICAgICBtYXNrRGF0YSA9IGQ7XG4gICAgfVxuICAgIGNvbnN0IG1hc2tBYm92ZSA9IHRoaXMubWFza1N0YWNrLmxlbmd0aCAhPT0gMCA/IHRoaXMubWFza1N0YWNrW3RoaXMubWFza1N0YWNrLmxlbmd0aCAtIDFdIDogbnVsbDtcbiAgICBtYXNrRGF0YS5jb3B5Q291bnRlcnNPclJlc2V0KG1hc2tBYm92ZSk7XG4gICAgbWFza0RhdGEuX2NvbG9yTWFzayA9IG1hc2tBYm92ZSA/IG1hc2tBYm92ZS5fY29sb3JNYXNrIDogMTU7XG4gICAgaWYgKG1hc2tEYXRhLmF1dG9EZXRlY3QpIHtcbiAgICAgIHRoaXMuZGV0ZWN0KG1hc2tEYXRhKTtcbiAgICB9XG4gICAgbWFza0RhdGEuX3RhcmdldCA9IHRhcmdldDtcbiAgICBpZiAobWFza0RhdGEudHlwZSAhPT0gTUFTS19UWVBFUy5TUFJJVEUpIHtcbiAgICAgIHRoaXMubWFza1N0YWNrLnB1c2gobWFza0RhdGEpO1xuICAgIH1cbiAgICBpZiAobWFza0RhdGEuZW5hYmxlZCkge1xuICAgICAgc3dpdGNoIChtYXNrRGF0YS50eXBlKSB7XG4gICAgICAgIGNhc2UgTUFTS19UWVBFUy5TQ0lTU09SOlxuICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2Npc3Nvci5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNURU5DSUw6XG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1BSSVRFOlxuICAgICAgICAgIG1hc2tEYXRhLmNvcHlDb3VudGVyc09yUmVzZXQobnVsbCk7XG4gICAgICAgICAgdGhpcy5wdXNoU3ByaXRlTWFzayhtYXNrRGF0YSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTUFTS19UWVBFUy5DT0xPUjpcbiAgICAgICAgICB0aGlzLnB1c2hDb2xvck1hc2sobWFza0RhdGEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWFza0RhdGEudHlwZSA9PT0gTUFTS19UWVBFUy5TUFJJVEUpIHtcbiAgICAgIHRoaXMubWFza1N0YWNrLnB1c2gobWFza0RhdGEpO1xuICAgIH1cbiAgfVxuICBwb3AodGFyZ2V0KSB7XG4gICAgY29uc3QgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFjay5wb3AoKTtcbiAgICBpZiAoIW1hc2tEYXRhIHx8IG1hc2tEYXRhLl90YXJnZXQgIT09IHRhcmdldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobWFza0RhdGEuZW5hYmxlZCkge1xuICAgICAgc3dpdGNoIChtYXNrRGF0YS50eXBlKSB7XG4gICAgICAgIGNhc2UgTUFTS19UWVBFUy5TQ0lTU09SOlxuICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2Npc3Nvci5wb3AobWFza0RhdGEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1RFTkNJTDpcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwucG9wKG1hc2tEYXRhLm1hc2tPYmplY3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1BSSVRFOlxuICAgICAgICAgIHRoaXMucG9wU3ByaXRlTWFzayhtYXNrRGF0YSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTUFTS19UWVBFUy5DT0xPUjpcbiAgICAgICAgICB0aGlzLnBvcENvbG9yTWFzayhtYXNrRGF0YSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIG1hc2tEYXRhLnJlc2V0KCk7XG4gICAgaWYgKG1hc2tEYXRhLnBvb2xlZCkge1xuICAgICAgdGhpcy5tYXNrRGF0YVBvb2wucHVzaChtYXNrRGF0YSk7XG4gICAgfVxuICAgIGlmICh0aGlzLm1hc2tTdGFjay5sZW5ndGggIT09IDApIHtcbiAgICAgIGNvbnN0IG1hc2tDdXJyZW50ID0gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICBpZiAobWFza0N1cnJlbnQudHlwZSA9PT0gTUFTS19UWVBFUy5TUFJJVEUgJiYgbWFza0N1cnJlbnQuX2ZpbHRlcnMpIHtcbiAgICAgICAgbWFza0N1cnJlbnQuX2ZpbHRlcnNbMF0ubWFza1Nwcml0ZSA9IG1hc2tDdXJyZW50Lm1hc2tPYmplY3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGRldGVjdChtYXNrRGF0YSkge1xuICAgIGNvbnN0IG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgIGlmICghbWFza09iamVjdCkge1xuICAgICAgbWFza0RhdGEudHlwZSA9IE1BU0tfVFlQRVMuQ09MT1I7XG4gICAgfSBlbHNlIGlmIChtYXNrT2JqZWN0LmlzU3ByaXRlKSB7XG4gICAgICBtYXNrRGF0YS50eXBlID0gTUFTS19UWVBFUy5TUFJJVEU7XG4gICAgfSBlbHNlIGlmICh0aGlzLmVuYWJsZVNjaXNzb3IgJiYgdGhpcy5yZW5kZXJlci5zY2lzc29yLnRlc3RTY2lzc29yKG1hc2tEYXRhKSkge1xuICAgICAgbWFza0RhdGEudHlwZSA9IE1BU0tfVFlQRVMuU0NJU1NPUjtcbiAgICB9IGVsc2Uge1xuICAgICAgbWFza0RhdGEudHlwZSA9IE1BU0tfVFlQRVMuU1RFTkNJTDtcbiAgICB9XG4gIH1cbiAgcHVzaFNwcml0ZU1hc2sobWFza0RhdGEpIHtcbiAgICBjb25zdCB7IG1hc2tPYmplY3QgfSA9IG1hc2tEYXRhO1xuICAgIGNvbnN0IHRhcmdldCA9IG1hc2tEYXRhLl90YXJnZXQ7XG4gICAgbGV0IGFscGhhTWFza0ZpbHRlciA9IG1hc2tEYXRhLl9maWx0ZXJzO1xuICAgIGlmICghYWxwaGFNYXNrRmlsdGVyKSB7XG4gICAgICBhbHBoYU1hc2tGaWx0ZXIgPSB0aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF07XG4gICAgICBpZiAoIWFscGhhTWFza0ZpbHRlcikge1xuICAgICAgICBhbHBoYU1hc2tGaWx0ZXIgPSB0aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF0gPSBbbmV3IFNwcml0ZU1hc2tGaWx0ZXIoKV07XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICBjb25zdCByZW5kZXJUZXh0dXJlU3lzdGVtID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZTtcbiAgICBsZXQgcmVzb2x1dGlvbjtcbiAgICBsZXQgbXVsdGlzYW1wbGU7XG4gICAgaWYgKHJlbmRlclRleHR1cmVTeXN0ZW0uY3VycmVudCkge1xuICAgICAgY29uc3QgcmVuZGVyVGV4dHVyZSA9IHJlbmRlclRleHR1cmVTeXN0ZW0uY3VycmVudDtcbiAgICAgIHJlc29sdXRpb24gPSBtYXNrRGF0YS5yZXNvbHV0aW9uIHx8IHJlbmRlclRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgIG11bHRpc2FtcGxlID0gbWFza0RhdGEubXVsdGlzYW1wbGUgPz8gcmVuZGVyVGV4dHVyZS5tdWx0aXNhbXBsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x1dGlvbiA9IG1hc2tEYXRhLnJlc29sdXRpb24gfHwgcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgIG11bHRpc2FtcGxlID0gbWFza0RhdGEubXVsdGlzYW1wbGUgPz8gcmVuZGVyZXIubXVsdGlzYW1wbGU7XG4gICAgfVxuICAgIGFscGhhTWFza0ZpbHRlclswXS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ubXVsdGlzYW1wbGUgPSBtdWx0aXNhbXBsZTtcbiAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ubWFza1Nwcml0ZSA9IG1hc2tPYmplY3Q7XG4gICAgY29uc3Qgc3Rhc2hGaWx0ZXJBcmVhID0gdGFyZ2V0LmZpbHRlckFyZWE7XG4gICAgdGFyZ2V0LmZpbHRlckFyZWEgPSBtYXNrT2JqZWN0LmdldEJvdW5kcyh0cnVlKTtcbiAgICByZW5kZXJlci5maWx0ZXIucHVzaCh0YXJnZXQsIGFscGhhTWFza0ZpbHRlcik7XG4gICAgdGFyZ2V0LmZpbHRlckFyZWEgPSBzdGFzaEZpbHRlckFyZWE7XG4gICAgaWYgKCFtYXNrRGF0YS5fZmlsdGVycykge1xuICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleCsrO1xuICAgIH1cbiAgfVxuICBwb3BTcHJpdGVNYXNrKG1hc2tEYXRhKSB7XG4gICAgdGhpcy5yZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgaWYgKG1hc2tEYXRhLl9maWx0ZXJzKSB7XG4gICAgICBtYXNrRGF0YS5fZmlsdGVyc1swXS5tYXNrU3ByaXRlID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleC0tO1xuICAgICAgdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdWzBdLm1hc2tTcHJpdGUgPSBudWxsO1xuICAgIH1cbiAgfVxuICBwdXNoQ29sb3JNYXNrKG1hc2tEYXRhKSB7XG4gICAgY29uc3QgY3VyckNvbG9yTWFzayA9IG1hc2tEYXRhLl9jb2xvck1hc2s7XG4gICAgY29uc3QgbmV4dENvbG9yTWFzayA9IG1hc2tEYXRhLl9jb2xvck1hc2sgPSBjdXJyQ29sb3JNYXNrICYgbWFza0RhdGEuY29sb3JNYXNrO1xuICAgIGlmIChuZXh0Q29sb3JNYXNrICE9PSBjdXJyQ29sb3JNYXNrKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLmdsLmNvbG9yTWFzaygobmV4dENvbG9yTWFzayAmIDEpICE9PSAwLCAobmV4dENvbG9yTWFzayAmIDIpICE9PSAwLCAobmV4dENvbG9yTWFzayAmIDQpICE9PSAwLCAobmV4dENvbG9yTWFzayAmIDgpICE9PSAwKTtcbiAgICB9XG4gIH1cbiAgcG9wQ29sb3JNYXNrKG1hc2tEYXRhKSB7XG4gICAgY29uc3QgY3VyckNvbG9yTWFzayA9IG1hc2tEYXRhLl9jb2xvck1hc2s7XG4gICAgY29uc3QgbmV4dENvbG9yTWFzayA9IHRoaXMubWFza1N0YWNrLmxlbmd0aCA+IDAgPyB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXS5fY29sb3JNYXNrIDogMTU7XG4gICAgaWYgKG5leHRDb2xvck1hc2sgIT09IGN1cnJDb2xvck1hc2spIHtcbiAgICAgIHRoaXMucmVuZGVyZXIuZ2wuY29sb3JNYXNrKChuZXh0Q29sb3JNYXNrICYgMSkgIT09IDAsIChuZXh0Q29sb3JNYXNrICYgMikgIT09IDAsIChuZXh0Q29sb3JNYXNrICYgNCkgIT09IDAsIChuZXh0Q29sb3JNYXNrICYgOCkgIT09IDApO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG5NYXNrU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbSxcbiAgbmFtZTogXCJtYXNrXCJcbn07XG5leHRlbnNpb25zLmFkZChNYXNrU3lzdGVtKTtcblxuZXhwb3J0IHsgTWFza1N5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFza1N5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5pbXBvcnQgeyBNYXRyaXgsIFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBBYnN0cmFjdE1hc2tTeXN0ZW0gfSBmcm9tICcuL0Fic3RyYWN0TWFza1N5c3RlbS5tanMnO1xuXG5jb25zdCB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuY29uc3QgcmVjdFBvb2wgPSBbXTtcbmNvbnN0IF9TY2lzc29yU3lzdGVtID0gY2xhc3MgZXh0ZW5kcyBBYnN0cmFjdE1hc2tTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHN1cGVyKHJlbmRlcmVyKTtcbiAgICB0aGlzLmdsQ29uc3QgPSBzZXR0aW5ncy5BREFQVEVSLmdldFdlYkdMUmVuZGVyaW5nQ29udGV4dCgpLlNDSVNTT1JfVEVTVDtcbiAgfVxuICBnZXRTdGFja0xlbmd0aCgpIHtcbiAgICBjb25zdCBtYXNrRGF0YSA9IHRoaXMubWFza1N0YWNrW3RoaXMubWFza1N0YWNrLmxlbmd0aCAtIDFdO1xuICAgIGlmIChtYXNrRGF0YSkge1xuICAgICAgcmV0dXJuIG1hc2tEYXRhLl9zY2lzc29yQ291bnRlcjtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY2FsY1NjaXNzb3JSZWN0KG1hc2tEYXRhKSB7XG4gICAgaWYgKG1hc2tEYXRhLl9zY2lzc29yUmVjdExvY2FsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByZXZEYXRhID0gbWFza0RhdGEuX3NjaXNzb3JSZWN0O1xuICAgIGNvbnN0IHsgbWFza09iamVjdCB9ID0gbWFza0RhdGE7XG4gICAgY29uc3QgeyByZW5kZXJlciB9ID0gdGhpcztcbiAgICBjb25zdCByZW5kZXJUZXh0dXJlU3lzdGVtID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZTtcbiAgICBjb25zdCByZWN0ID0gbWFza09iamVjdC5nZXRCb3VuZHModHJ1ZSwgcmVjdFBvb2wucG9wKCkgPz8gbmV3IFJlY3RhbmdsZSgpKTtcbiAgICB0aGlzLnJvdW5kRnJhbWVUb1BpeGVscyhyZWN0LCByZW5kZXJUZXh0dXJlU3lzdGVtLmN1cnJlbnQgPyByZW5kZXJUZXh0dXJlU3lzdGVtLmN1cnJlbnQucmVzb2x1dGlvbiA6IHJlbmRlcmVyLnJlc29sdXRpb24sIHJlbmRlclRleHR1cmVTeXN0ZW0uc291cmNlRnJhbWUsIHJlbmRlclRleHR1cmVTeXN0ZW0uZGVzdGluYXRpb25GcmFtZSwgcmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0pO1xuICAgIGlmIChwcmV2RGF0YSkge1xuICAgICAgcmVjdC5maXQocHJldkRhdGEpO1xuICAgIH1cbiAgICBtYXNrRGF0YS5fc2Npc3NvclJlY3RMb2NhbCA9IHJlY3Q7XG4gIH1cbiAgc3RhdGljIGlzTWF0cml4Um90YXRlZChtYXRyaXgpIHtcbiAgICBpZiAoIW1hdHJpeCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB7IGEsIGIsIGMsIGQgfSA9IG1hdHJpeDtcbiAgICByZXR1cm4gKE1hdGguYWJzKGIpID4gMWUtNCB8fCBNYXRoLmFicyhjKSA+IDFlLTQpICYmIChNYXRoLmFicyhhKSA+IDFlLTQgfHwgTWF0aC5hYnMoZCkgPiAxZS00KTtcbiAgfVxuICB0ZXN0U2Npc3NvcihtYXNrRGF0YSkge1xuICAgIGNvbnN0IHsgbWFza09iamVjdCB9ID0gbWFza0RhdGE7XG4gICAgaWYgKCFtYXNrT2JqZWN0LmlzRmFzdFJlY3QgfHwgIW1hc2tPYmplY3QuaXNGYXN0UmVjdCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChfU2Npc3NvclN5c3RlbS5pc01hdHJpeFJvdGF0ZWQobWFza09iamVjdC53b3JsZFRyYW5zZm9ybSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKF9TY2lzc29yU3lzdGVtLmlzTWF0cml4Um90YXRlZCh0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmNhbGNTY2lzc29yUmVjdChtYXNrRGF0YSk7XG4gICAgY29uc3QgcmVjdCA9IG1hc2tEYXRhLl9zY2lzc29yUmVjdExvY2FsO1xuICAgIHJldHVybiByZWN0LndpZHRoID4gMCAmJiByZWN0LmhlaWdodCA+IDA7XG4gIH1cbiAgcm91bmRGcmFtZVRvUGl4ZWxzKGZyYW1lLCByZXNvbHV0aW9uLCBiaW5kaW5nU291cmNlRnJhbWUsIGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLCB0cmFuc2Zvcm0pIHtcbiAgICBpZiAoX1NjaXNzb3JTeXN0ZW0uaXNNYXRyaXhSb3RhdGVkKHRyYW5zZm9ybSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJhbnNmb3JtID0gdHJhbnNmb3JtID8gdGVtcE1hdHJpeC5jb3B5RnJvbSh0cmFuc2Zvcm0pIDogdGVtcE1hdHJpeC5pZGVudGl0eSgpO1xuICAgIHRyYW5zZm9ybS50cmFuc2xhdGUoLWJpbmRpbmdTb3VyY2VGcmFtZS54LCAtYmluZGluZ1NvdXJjZUZyYW1lLnkpLnNjYWxlKGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gYmluZGluZ1NvdXJjZUZyYW1lLndpZHRoLCBiaW5kaW5nRGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyBiaW5kaW5nU291cmNlRnJhbWUuaGVpZ2h0KS50cmFuc2xhdGUoYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUueCwgYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUueSk7XG4gICAgdGhpcy5yZW5kZXJlci5maWx0ZXIudHJhbnNmb3JtQUFCQih0cmFuc2Zvcm0sIGZyYW1lKTtcbiAgICBmcmFtZS5maXQoYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUpO1xuICAgIGZyYW1lLnggPSBNYXRoLnJvdW5kKGZyYW1lLnggKiByZXNvbHV0aW9uKTtcbiAgICBmcmFtZS55ID0gTWF0aC5yb3VuZChmcmFtZS55ICogcmVzb2x1dGlvbik7XG4gICAgZnJhbWUud2lkdGggPSBNYXRoLnJvdW5kKGZyYW1lLndpZHRoICogcmVzb2x1dGlvbik7XG4gICAgZnJhbWUuaGVpZ2h0ID0gTWF0aC5yb3VuZChmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uKTtcbiAgfVxuICBwdXNoKG1hc2tEYXRhKSB7XG4gICAgaWYgKCFtYXNrRGF0YS5fc2Npc3NvclJlY3RMb2NhbCkge1xuICAgICAgdGhpcy5jYWxjU2Npc3NvclJlY3QobWFza0RhdGEpO1xuICAgIH1cbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzLnJlbmRlcmVyO1xuICAgIGlmICghbWFza0RhdGEuX3NjaXNzb3JSZWN0KSB7XG4gICAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICB9XG4gICAgbWFza0RhdGEuX3NjaXNzb3JDb3VudGVyKys7XG4gICAgbWFza0RhdGEuX3NjaXNzb3JSZWN0ID0gbWFza0RhdGEuX3NjaXNzb3JSZWN0TG9jYWw7XG4gICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICB9XG4gIHBvcChtYXNrRGF0YSkge1xuICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXMucmVuZGVyZXI7XG4gICAgaWYgKG1hc2tEYXRhKSB7XG4gICAgICByZWN0UG9vbC5wdXNoKG1hc2tEYXRhLl9zY2lzc29yUmVjdExvY2FsKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSA+IDApIHtcbiAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgIH1cbiAgfVxuICBfdXNlQ3VycmVudCgpIHtcbiAgICBjb25zdCByZWN0ID0gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV0uX3NjaXNzb3JSZWN0O1xuICAgIGxldCB5O1xuICAgIGlmICh0aGlzLnJlbmRlcmVyLnJlbmRlclRleHR1cmUuY3VycmVudCkge1xuICAgICAgeSA9IHJlY3QueTtcbiAgICB9IGVsc2Uge1xuICAgICAgeSA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0IC0gcmVjdC5oZWlnaHQgLSByZWN0Lnk7XG4gICAgfVxuICAgIHRoaXMucmVuZGVyZXIuZ2wuc2Npc3NvcihyZWN0LngsIHksIHJlY3Qud2lkdGgsIHJlY3QuaGVpZ2h0KTtcbiAgfVxufTtcbmxldCBTY2lzc29yU3lzdGVtID0gX1NjaXNzb3JTeXN0ZW07XG5TY2lzc29yU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbSxcbiAgbmFtZTogXCJzY2lzc29yXCJcbn07XG5leHRlbnNpb25zLmFkZChTY2lzc29yU3lzdGVtKTtcblxuZXhwb3J0IHsgU2Npc3NvclN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2Npc3NvclN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IEFic3RyYWN0TWFza1N5c3RlbSB9IGZyb20gJy4vQWJzdHJhY3RNYXNrU3lzdGVtLm1qcyc7XG5cbmNsYXNzIFN0ZW5jaWxTeXN0ZW0gZXh0ZW5kcyBBYnN0cmFjdE1hc2tTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHN1cGVyKHJlbmRlcmVyKTtcbiAgICB0aGlzLmdsQ29uc3QgPSBzZXR0aW5ncy5BREFQVEVSLmdldFdlYkdMUmVuZGVyaW5nQ29udGV4dCgpLlNURU5DSUxfVEVTVDtcbiAgfVxuICBnZXRTdGFja0xlbmd0aCgpIHtcbiAgICBjb25zdCBtYXNrRGF0YSA9IHRoaXMubWFza1N0YWNrW3RoaXMubWFza1N0YWNrLmxlbmd0aCAtIDFdO1xuICAgIGlmIChtYXNrRGF0YSkge1xuICAgICAgcmV0dXJuIG1hc2tEYXRhLl9zdGVuY2lsQ291bnRlcjtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgcHVzaChtYXNrRGF0YSkge1xuICAgIGNvbnN0IG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXMucmVuZGVyZXI7XG4gICAgY29uc3QgcHJldk1hc2tDb3VudCA9IG1hc2tEYXRhLl9zdGVuY2lsQ291bnRlcjtcbiAgICBpZiAocHJldk1hc2tDb3VudCA9PT0gMCkge1xuICAgICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5mb3JjZVN0ZW5jaWwoKTtcbiAgICAgIGdsLmNsZWFyU3RlbmNpbCgwKTtcbiAgICAgIGdsLmNsZWFyKGdsLlNURU5DSUxfQlVGRkVSX0JJVCk7XG4gICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICB9XG4gICAgbWFza0RhdGEuX3N0ZW5jaWxDb3VudGVyKys7XG4gICAgY29uc3QgY29sb3JNYXNrID0gbWFza0RhdGEuX2NvbG9yTWFzaztcbiAgICBpZiAoY29sb3JNYXNrICE9PSAwKSB7XG4gICAgICBtYXNrRGF0YS5fY29sb3JNYXNrID0gMDtcbiAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgfVxuICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCBwcmV2TWFza0NvdW50LCA0Mjk0OTY3Mjk1KTtcbiAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuSU5DUik7XG4gICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICBtYXNrT2JqZWN0LnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICB0aGlzLnJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgaWYgKGNvbG9yTWFzayAhPT0gMCkge1xuICAgICAgbWFza0RhdGEuX2NvbG9yTWFzayA9IGNvbG9yTWFzaztcbiAgICAgIGdsLmNvbG9yTWFzaygoY29sb3JNYXNrICYgMSkgIT09IDAsIChjb2xvck1hc2sgJiAyKSAhPT0gMCwgKGNvbG9yTWFzayAmIDQpICE9PSAwLCAoY29sb3JNYXNrICYgOCkgIT09IDApO1xuICAgIH1cbiAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gIH1cbiAgcG9wKG1hc2tPYmplY3QpIHtcbiAgICBjb25zdCBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgaWYgKHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSA9PT0gMCkge1xuICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBtYXNrRGF0YSA9IHRoaXMubWFza1N0YWNrLmxlbmd0aCAhPT0gMCA/IHRoaXMubWFza1N0YWNrW3RoaXMubWFza1N0YWNrLmxlbmd0aCAtIDFdIDogbnVsbDtcbiAgICAgIGNvbnN0IGNvbG9yTWFzayA9IG1hc2tEYXRhID8gbWFza0RhdGEuX2NvbG9yTWFzayA6IDE1O1xuICAgICAgaWYgKGNvbG9yTWFzayAhPT0gMCkge1xuICAgICAgICBtYXNrRGF0YS5fY29sb3JNYXNrID0gMDtcbiAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5ERUNSKTtcbiAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICBtYXNrT2JqZWN0LnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgaWYgKGNvbG9yTWFzayAhPT0gMCkge1xuICAgICAgICBtYXNrRGF0YS5fY29sb3JNYXNrID0gY29sb3JNYXNrO1xuICAgICAgICBnbC5jb2xvck1hc2soKGNvbG9yTWFzayAmIDEpICE9PSAwLCAoY29sb3JNYXNrICYgMikgIT09IDAsIChjb2xvck1hc2sgJiA0KSAhPT0gMCwgKGNvbG9yTWFzayAmIDgpICE9PSAwKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICB9XG4gIH1cbiAgX3VzZUN1cnJlbnQoKSB7XG4gICAgY29uc3QgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCB0aGlzLmdldFN0YWNrTGVuZ3RoKCksIDQyOTQ5NjcyOTUpO1xuICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5LRUVQKTtcbiAgfVxufVxuU3RlbmNpbFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IEV4dGVuc2lvblR5cGUuUmVuZGVyZXJTeXN0ZW0sXG4gIG5hbWU6IFwic3RlbmNpbFwiXG59O1xuZXh0ZW5zaW9ucy5hZGQoU3RlbmNpbFN5c3RlbSk7XG5cbmV4cG9ydCB7IFN0ZW5jaWxTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0ZW5jaWxTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuaW1wb3J0IHsgZGVwcmVjYXRpb24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbmNsYXNzIFBsdWdpblN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMucGx1Z2lucyA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMucGx1Z2lucywge1xuICAgICAgZXh0cmFjdDoge1xuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIGRlcHJlY2F0aW9uKFwiNy4wLjBcIiwgXCJyZW5kZXJlci5wbHVnaW5zLmV4dHJhY3QgaGFzIG1vdmVkIHRvIHJlbmRlcmVyLmV4dHJhY3RcIik7XG4gICAgICAgICAgcmV0dXJuIHJlbmRlcmVyLmV4dHJhY3Q7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwcmVwYXJlOiB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgZGVwcmVjYXRpb24oXCI3LjAuMFwiLCBcInJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZSBoYXMgbW92ZWQgdG8gcmVuZGVyZXIucHJlcGFyZVwiKTtcbiAgICAgICAgICByZXR1cm4gcmVuZGVyZXIucHJlcGFyZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGludGVyYWN0aW9uOiB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgZGVwcmVjYXRpb24oXCI3LjAuMFwiLCBcInJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb24gaGFzIGJlZW4gZGVwcmVjYXRlZCwgdXNlIHJlbmRlcmVyLmV2ZW50c1wiKTtcbiAgICAgICAgICByZXR1cm4gcmVuZGVyZXIuZXZlbnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaW5pdCgpIHtcbiAgICBjb25zdCBzdGF0aWNNYXAgPSB0aGlzLnJlbmRlcmVyUGx1Z2lucztcbiAgICBmb3IgKGNvbnN0IG8gaW4gc3RhdGljTWFwKSB7XG4gICAgICB0aGlzLnBsdWdpbnNbb10gPSBuZXcgc3RhdGljTWFwW29dKHRoaXMucmVuZGVyZXIpO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGZvciAoY29uc3QgbyBpbiB0aGlzLnBsdWdpbnMpIHtcbiAgICAgIHRoaXMucGx1Z2luc1tvXS5kZXN0cm95KCk7XG4gICAgICB0aGlzLnBsdWdpbnNbb10gPSBudWxsO1xuICAgIH1cbiAgfVxufVxuUGx1Z2luU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuUmVuZGVyZXJTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNSZW5kZXJlclN5c3RlbVxuICBdLFxuICBuYW1lOiBcIl9wbHVnaW5cIlxufTtcbmV4dGVuc2lvbnMuYWRkKFBsdWdpblN5c3RlbSk7XG5cbmV4cG9ydCB7IFBsdWdpblN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGx1Z2luU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG5jbGFzcyBQcm9qZWN0aW9uU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbnVsbDtcbiAgICB0aGlzLnNvdXJjZUZyYW1lID0gbnVsbDtcbiAgICB0aGlzLmRlZmF1bHRGcmFtZSA9IG51bGw7XG4gICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgIHRoaXMudHJhbnNmb3JtID0gbnVsbDtcbiAgfVxuICB1cGRhdGUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sIHJvb3QpIHtcbiAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlZmF1bHRGcmFtZTtcbiAgICB0aGlzLnNvdXJjZUZyYW1lID0gc291cmNlRnJhbWUgfHwgdGhpcy5zb3VyY2VGcmFtZSB8fCBkZXN0aW5hdGlvbkZyYW1lO1xuICAgIHRoaXMuY2FsY3VsYXRlUHJvamVjdGlvbih0aGlzLmRlc3RpbmF0aW9uRnJhbWUsIHRoaXMuc291cmNlRnJhbWUsIHJlc29sdXRpb24sIHJvb3QpO1xuICAgIGlmICh0aGlzLnRyYW5zZm9ybSkge1xuICAgICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4LmFwcGVuZCh0aGlzLnRyYW5zZm9ybSk7XG4gICAgfVxuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5wcm9qZWN0aW9uTWF0cml4O1xuICAgIHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnVwZGF0ZSgpO1xuICAgIGlmIChyZW5kZXJlci5zaGFkZXIuc2hhZGVyKSB7XG4gICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cChyZW5kZXJlci5zaGFkZXIuc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMpO1xuICAgIH1cbiAgfVxuICBjYWxjdWxhdGVQcm9qZWN0aW9uKF9kZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSwgX3Jlc29sdXRpb24sIHJvb3QpIHtcbiAgICBjb25zdCBwbSA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcbiAgICBjb25zdCBzaWduID0gIXJvb3QgPyAxIDogLTE7XG4gICAgcG0uaWRlbnRpdHkoKTtcbiAgICBwbS5hID0gMSAvIHNvdXJjZUZyYW1lLndpZHRoICogMjtcbiAgICBwbS5kID0gc2lnbiAqICgxIC8gc291cmNlRnJhbWUuaGVpZ2h0ICogMik7XG4gICAgcG0udHggPSAtMSAtIHNvdXJjZUZyYW1lLnggKiBwbS5hO1xuICAgIHBtLnR5ID0gLXNpZ24gLSBzb3VyY2VGcmFtZS55ICogcG0uZDtcbiAgfVxuICBzZXRUcmFuc2Zvcm0oX21hdHJpeCkge1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cblByb2plY3Rpb25TeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICBuYW1lOiBcInByb2plY3Rpb25cIlxufTtcbmV4dGVuc2lvbnMuYWRkKFByb2plY3Rpb25TeXN0ZW0pO1xuXG5leHBvcnQgeyBQcm9qZWN0aW9uU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm9qZWN0aW9uU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnQHBpeGkvY29sb3InO1xuaW1wb3J0IHsgTVNBQV9RVUFMSVRZLCBNSVBNQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgRnJhbWVidWZmZXIgfSBmcm9tICcuLi9mcmFtZWJ1ZmZlci9GcmFtZWJ1ZmZlci5tanMnO1xuaW1wb3J0IHsgQmFzZVRleHR1cmUgfSBmcm9tICcuLi90ZXh0dXJlcy9CYXNlVGV4dHVyZS5tanMnO1xuXG5jbGFzcyBCYXNlUmVuZGVyVGV4dHVyZSBleHRlbmRzIEJhc2VUZXh0dXJlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb25zdCB3aWR0aCA9IGFyZ3VtZW50c1swXTtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGNvbnN0IHNjYWxlTW9kZSA9IGFyZ3VtZW50c1syXTtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSBhcmd1bWVudHNbM107XG4gICAgICBvcHRpb25zID0geyB3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24gfTtcbiAgICB9XG4gICAgb3B0aW9ucy53aWR0aCA9IG9wdGlvbnMud2lkdGggfHwgMTAwO1xuICAgIG9wdGlvbnMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgfHwgMTAwO1xuICAgIG9wdGlvbnMubXVsdGlzYW1wbGUgPz8gKG9wdGlvbnMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORSk7XG4gICAgc3VwZXIobnVsbCwgb3B0aW9ucyk7XG4gICAgdGhpcy5taXBtYXAgPSBNSVBNQVBfTU9ERVMuT0ZGO1xuICAgIHRoaXMudmFsaWQgPSB0cnVlO1xuICAgIHRoaXMuX2NsZWFyID0gbmV3IENvbG9yKFswLCAwLCAwLCAwXSk7XG4gICAgdGhpcy5mcmFtZWJ1ZmZlciA9IG5ldyBGcmFtZWJ1ZmZlcih0aGlzLnJlYWxXaWR0aCwgdGhpcy5yZWFsSGVpZ2h0KS5hZGRDb2xvclRleHR1cmUoMCwgdGhpcyk7XG4gICAgdGhpcy5mcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSA9IG9wdGlvbnMubXVsdGlzYW1wbGU7XG4gICAgdGhpcy5tYXNrU3RhY2sgPSBbXTtcbiAgICB0aGlzLmZpbHRlclN0YWNrID0gW3t9XTtcbiAgfVxuICBzZXQgY2xlYXJDb2xvcih2YWx1ZSkge1xuICAgIHRoaXMuX2NsZWFyLnNldFZhbHVlKHZhbHVlKTtcbiAgfVxuICBnZXQgY2xlYXJDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fY2xlYXIudmFsdWU7XG4gIH1cbiAgZ2V0IGNsZWFyKCkge1xuICAgIHJldHVybiB0aGlzLl9jbGVhcjtcbiAgfVxuICByZXNpemUoZGVzaXJlZFdpZHRoLCBkZXNpcmVkSGVpZ2h0KSB7XG4gICAgdGhpcy5mcmFtZWJ1ZmZlci5yZXNpemUoZGVzaXJlZFdpZHRoICogdGhpcy5yZXNvbHV0aW9uLCBkZXNpcmVkSGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgICB0aGlzLnNldFJlYWxTaXplKHRoaXMuZnJhbWVidWZmZXIud2lkdGgsIHRoaXMuZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgfVxuICBkaXNwb3NlKCkge1xuICAgIHRoaXMuZnJhbWVidWZmZXIuZGlzcG9zZSgpO1xuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLmZyYW1lYnVmZmVyLmRlc3Ryb3lEZXB0aFRleHR1cmUoKTtcbiAgICB0aGlzLmZyYW1lYnVmZmVyID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgeyBCYXNlUmVuZGVyVGV4dHVyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZVJlbmRlclRleHR1cmUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuaW1wb3J0IHsgVHJhbnNmb3JtLCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFJlbmRlclRleHR1cmUgfSBmcm9tICcuL1JlbmRlclRleHR1cmUubWpzJztcblxuY29uc3QgdGVtcFRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcbmNsYXNzIEdlbmVyYXRlVGV4dHVyZVN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX3RlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gIH1cbiAgZ2VuZXJhdGVUZXh0dXJlKGRpc3BsYXlPYmplY3QsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHJlZ2lvbjogbWFudWFsUmVnaW9uLCAuLi50ZXh0dXJlT3B0aW9ucyB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgICBjb25zdCByZWdpb24gPSBtYW51YWxSZWdpb24gfHwgZGlzcGxheU9iamVjdC5nZXRMb2NhbEJvdW5kcyhudWxsLCB0cnVlKTtcbiAgICBpZiAocmVnaW9uLndpZHRoID09PSAwKVxuICAgICAgcmVnaW9uLndpZHRoID0gMTtcbiAgICBpZiAocmVnaW9uLmhlaWdodCA9PT0gMClcbiAgICAgIHJlZ2lvbi5oZWlnaHQgPSAxO1xuICAgIGNvbnN0IHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7XG4gICAgICB3aWR0aDogcmVnaW9uLndpZHRoLFxuICAgICAgaGVpZ2h0OiByZWdpb24uaGVpZ2h0LFxuICAgICAgLi4udGV4dHVyZU9wdGlvbnNcbiAgICB9KTtcbiAgICB0aGlzLl90ZW1wTWF0cml4LnR4ID0gLXJlZ2lvbi54O1xuICAgIHRoaXMuX3RlbXBNYXRyaXgudHkgPSAtcmVnaW9uLnk7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gZGlzcGxheU9iamVjdC50cmFuc2Zvcm07XG4gICAgZGlzcGxheU9iamVjdC50cmFuc2Zvcm0gPSB0ZW1wVHJhbnNmb3JtO1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKGRpc3BsYXlPYmplY3QsIHtcbiAgICAgIHJlbmRlclRleHR1cmUsXG4gICAgICB0cmFuc2Zvcm06IHRoaXMuX3RlbXBNYXRyaXgsXG4gICAgICBza2lwVXBkYXRlVHJhbnNmb3JtOiAhIWRpc3BsYXlPYmplY3QucGFyZW50LFxuICAgICAgYmxpdDogdHJ1ZVxuICAgIH0pO1xuICAgIGRpc3BsYXlPYmplY3QudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIHJldHVybiByZW5kZXJUZXh0dXJlO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gIH1cbn1cbkdlbmVyYXRlVGV4dHVyZVN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUmVuZGVyZXJTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJ0ZXh0dXJlR2VuZXJhdG9yXCJcbn07XG5leHRlbnNpb25zLmFkZChHZW5lcmF0ZVRleHR1cmVTeXN0ZW0pO1xuXG5leHBvcnQgeyBHZW5lcmF0ZVRleHR1cmVTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdlbmVyYXRlVGV4dHVyZVN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZXMvVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgQmFzZVJlbmRlclRleHR1cmUgfSBmcm9tICcuL0Jhc2VSZW5kZXJUZXh0dXJlLm1qcyc7XG5cbmNsYXNzIFJlbmRlclRleHR1cmUgZXh0ZW5kcyBUZXh0dXJlIHtcbiAgY29uc3RydWN0b3IoYmFzZVJlbmRlclRleHR1cmUsIGZyYW1lKSB7XG4gICAgc3VwZXIoYmFzZVJlbmRlclRleHR1cmUsIGZyYW1lKTtcbiAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICB0aGlzLmZpbHRlckZyYW1lID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlclBvb2xLZXkgPSBudWxsO1xuICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gIH1cbiAgZ2V0IGZyYW1lYnVmZmVyKCkge1xuICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlLmZyYW1lYnVmZmVyO1xuICB9XG4gIGdldCBtdWx0aXNhbXBsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5mcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZTtcbiAgfVxuICBzZXQgbXVsdGlzYW1wbGUodmFsdWUpIHtcbiAgICB0aGlzLmZyYW1lYnVmZmVyLm11bHRpc2FtcGxlID0gdmFsdWU7XG4gIH1cbiAgcmVzaXplKGRlc2lyZWRXaWR0aCwgZGVzaXJlZEhlaWdodCwgcmVzaXplQmFzZVRleHR1cmUgPSB0cnVlKSB7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHRoaXMuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICBjb25zdCB3aWR0aCA9IE1hdGgucm91bmQoZGVzaXJlZFdpZHRoICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgIGNvbnN0IGhlaWdodCA9IE1hdGgucm91bmQoZGVzaXJlZEhlaWdodCAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICB0aGlzLnZhbGlkID0gd2lkdGggPiAwICYmIGhlaWdodCA+IDA7XG4gICAgdGhpcy5fZnJhbWUud2lkdGggPSB0aGlzLm9yaWcud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSB0aGlzLm9yaWcuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIGlmIChyZXNpemVCYXNlVGV4dHVyZSkge1xuICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gIH1cbiAgc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKSB7XG4gICAgY29uc3QgeyBiYXNlVGV4dHVyZSB9ID0gdGhpcztcbiAgICBpZiAoYmFzZVRleHR1cmUucmVzb2x1dGlvbiA9PT0gcmVzb2x1dGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBiYXNlVGV4dHVyZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgIHRoaXMucmVzaXplKGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQsIGZhbHNlKTtcbiAgfVxuICBzdGF0aWMgY3JlYXRlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUobmV3IEJhc2VSZW5kZXJUZXh0dXJlKG9wdGlvbnMpKTtcbiAgfVxufVxuXG5leHBvcnQgeyBSZW5kZXJUZXh0dXJlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJUZXh0dXJlLm1qcy5tYXBcbiIsImltcG9ydCB7IE1TQUFfUVVBTElUWSB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBuZXh0UG93MiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEJhc2VSZW5kZXJUZXh0dXJlIH0gZnJvbSAnLi9CYXNlUmVuZGVyVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4vUmVuZGVyVGV4dHVyZS5tanMnO1xuXG5jbGFzcyBSZW5kZXJUZXh0dXJlUG9vbCB7XG4gIGNvbnN0cnVjdG9yKHRleHR1cmVPcHRpb25zKSB7XG4gICAgdGhpcy50ZXh0dXJlUG9vbCA9IHt9O1xuICAgIHRoaXMudGV4dHVyZU9wdGlvbnMgPSB0ZXh0dXJlT3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gPSBmYWxzZTtcbiAgICB0aGlzLl9waXhlbHNXaWR0aCA9IDA7XG4gICAgdGhpcy5fcGl4ZWxzSGVpZ2h0ID0gMDtcbiAgfVxuICBjcmVhdGVUZXh0dXJlKHJlYWxXaWR0aCwgcmVhbEhlaWdodCwgbXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORSkge1xuICAgIGNvbnN0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IEJhc2VSZW5kZXJUZXh0dXJlKE9iamVjdC5hc3NpZ24oe1xuICAgICAgd2lkdGg6IHJlYWxXaWR0aCxcbiAgICAgIGhlaWdodDogcmVhbEhlaWdodCxcbiAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICBtdWx0aXNhbXBsZVxuICAgIH0sIHRoaXMudGV4dHVyZU9wdGlvbnMpKTtcbiAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICB9XG4gIGdldE9wdGltYWxUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24gPSAxLCBtdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5OT05FKSB7XG4gICAgbGV0IGtleTtcbiAgICBtaW5XaWR0aCA9IE1hdGguY2VpbChtaW5XaWR0aCAqIHJlc29sdXRpb24gLSAxZS02KTtcbiAgICBtaW5IZWlnaHQgPSBNYXRoLmNlaWwobWluSGVpZ2h0ICogcmVzb2x1dGlvbiAtIDFlLTYpO1xuICAgIGlmICghdGhpcy5lbmFibGVGdWxsU2NyZWVuIHx8IG1pbldpZHRoICE9PSB0aGlzLl9waXhlbHNXaWR0aCB8fCBtaW5IZWlnaHQgIT09IHRoaXMuX3BpeGVsc0hlaWdodCkge1xuICAgICAgbWluV2lkdGggPSBuZXh0UG93MihtaW5XaWR0aCk7XG4gICAgICBtaW5IZWlnaHQgPSBuZXh0UG93MihtaW5IZWlnaHQpO1xuICAgICAga2V5ID0gKChtaW5XaWR0aCAmIDY1NTM1KSA8PCAxNiB8IG1pbkhlaWdodCAmIDY1NTM1KSA+Pj4gMDtcbiAgICAgIGlmIChtdWx0aXNhbXBsZSA+IDEpIHtcbiAgICAgICAga2V5ICs9IG11bHRpc2FtcGxlICogNDI5NDk2NzI5NjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAga2V5ID0gbXVsdGlzYW1wbGUgPiAxID8gLW11bHRpc2FtcGxlIDogLTE7XG4gICAgfVxuICAgIGlmICghdGhpcy50ZXh0dXJlUG9vbFtrZXldKSB7XG4gICAgICB0aGlzLnRleHR1cmVQb29sW2tleV0gPSBbXTtcbiAgICB9XG4gICAgbGV0IHJlbmRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sW2tleV0ucG9wKCk7XG4gICAgaWYgKCFyZW5kZXJUZXh0dXJlKSB7XG4gICAgICByZW5kZXJUZXh0dXJlID0gdGhpcy5jcmVhdGVUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQsIG11bHRpc2FtcGxlKTtcbiAgICB9XG4gICAgcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5ID0ga2V5O1xuICAgIHJlbmRlclRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICByZXR1cm4gcmVuZGVyVGV4dHVyZTtcbiAgfVxuICBnZXRGaWx0ZXJUZXh0dXJlKGlucHV0LCByZXNvbHV0aW9uLCBtdWx0aXNhbXBsZSkge1xuICAgIGNvbnN0IGZpbHRlclRleHR1cmUgPSB0aGlzLmdldE9wdGltYWxUZXh0dXJlKGlucHV0LndpZHRoLCBpbnB1dC5oZWlnaHQsIHJlc29sdXRpb24gfHwgaW5wdXQucmVzb2x1dGlvbiwgbXVsdGlzYW1wbGUgfHwgTVNBQV9RVUFMSVRZLk5PTkUpO1xuICAgIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBpbnB1dC5maWx0ZXJGcmFtZTtcbiAgICByZXR1cm4gZmlsdGVyVGV4dHVyZTtcbiAgfVxuICByZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpIHtcbiAgICBjb25zdCBrZXkgPSByZW5kZXJUZXh0dXJlLmZpbHRlclBvb2xLZXk7XG4gICAgcmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldLnB1c2gocmVuZGVyVGV4dHVyZSk7XG4gIH1cbiAgcmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlKSB7XG4gICAgdGhpcy5yZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICB9XG4gIGNsZWFyKGRlc3Ryb3lUZXh0dXJlcykge1xuICAgIGRlc3Ryb3lUZXh0dXJlcyA9IGRlc3Ryb3lUZXh0dXJlcyAhPT0gZmFsc2U7XG4gICAgaWYgKGRlc3Ryb3lUZXh0dXJlcykge1xuICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMudGV4dHVyZVBvb2wpIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZXMgPSB0aGlzLnRleHR1cmVQb29sW2ldO1xuICAgICAgICBpZiAodGV4dHVyZXMpIHtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB0ZXh0dXJlc1tqXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnRleHR1cmVQb29sID0ge307XG4gIH1cbiAgc2V0U2NyZWVuU2l6ZShzaXplKSB7XG4gICAgaWYgKHNpemUud2lkdGggPT09IHRoaXMuX3BpeGVsc1dpZHRoICYmIHNpemUuaGVpZ2h0ID09PSB0aGlzLl9waXhlbHNIZWlnaHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5lbmFibGVGdWxsU2NyZWVuID0gc2l6ZS53aWR0aCA+IDAgJiYgc2l6ZS5oZWlnaHQgPiAwO1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLnRleHR1cmVQb29sKSB7XG4gICAgICBpZiAoIShOdW1iZXIoaSkgPCAwKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRleHR1cmVzID0gdGhpcy50ZXh0dXJlUG9vbFtpXTtcbiAgICAgIGlmICh0ZXh0dXJlcykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy50ZXh0dXJlUG9vbFtpXSA9IFtdO1xuICAgIH1cbiAgICB0aGlzLl9waXhlbHNXaWR0aCA9IHNpemUud2lkdGg7XG4gICAgdGhpcy5fcGl4ZWxzSGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7XG4gIH1cbn1cblJlbmRlclRleHR1cmVQb29sLlNDUkVFTl9LRVkgPSAtMTtcblxuZXhwb3J0IHsgUmVuZGVyVGV4dHVyZVBvb2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbmRlclRleHR1cmVQb29sLm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnQHBpeGkvY29sb3InO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbmNvbnN0IHRlbXBSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuY29uc3QgdGVtcFJlY3QyID0gbmV3IFJlY3RhbmdsZSgpO1xuY2xhc3MgUmVuZGVyVGV4dHVyZVN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuZGVmYXVsdE1hc2tTdGFjayA9IFtdO1xuICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgdGhpcy5zb3VyY2VGcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgdGhpcy52aWV3cG9ydEZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICB9XG4gIGNvbnRleHRDaGFuZ2UoKSB7XG4gICAgY29uc3QgYXR0cmlidXRlcyA9IHRoaXMucmVuZGVyZXI/LmdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7XG4gICAgdGhpcy5fcmVuZGVyZXJQcmVtdWx0aXBsaWVkQWxwaGEgPSAhIShhdHRyaWJ1dGVzICYmIGF0dHJpYnV0ZXMuYWxwaGEgJiYgYXR0cmlidXRlcy5wcmVtdWx0aXBsaWVkQWxwaGEpO1xuICB9XG4gIGJpbmQocmVuZGVyVGV4dHVyZSA9IG51bGwsIHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIHRoaXMuY3VycmVudCA9IHJlbmRlclRleHR1cmU7XG4gICAgbGV0IGJhc2VUZXh0dXJlO1xuICAgIGxldCBmcmFtZWJ1ZmZlcjtcbiAgICBsZXQgcmVzb2x1dGlvbjtcbiAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgcmVzb2x1dGlvbiA9IGJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICBpZiAoIXNvdXJjZUZyYW1lKSB7XG4gICAgICAgIHRlbXBSZWN0LndpZHRoID0gcmVuZGVyVGV4dHVyZS5mcmFtZS53aWR0aDtcbiAgICAgICAgdGVtcFJlY3QuaGVpZ2h0ID0gcmVuZGVyVGV4dHVyZS5mcmFtZS5oZWlnaHQ7XG4gICAgICAgIHNvdXJjZUZyYW1lID0gdGVtcFJlY3Q7XG4gICAgICB9XG4gICAgICBpZiAoIWRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICAgICAgdGVtcFJlY3QyLnggPSByZW5kZXJUZXh0dXJlLmZyYW1lLng7XG4gICAgICAgIHRlbXBSZWN0Mi55ID0gcmVuZGVyVGV4dHVyZS5mcmFtZS55O1xuICAgICAgICB0ZW1wUmVjdDIud2lkdGggPSBzb3VyY2VGcmFtZS53aWR0aDtcbiAgICAgICAgdGVtcFJlY3QyLmhlaWdodCA9IHNvdXJjZUZyYW1lLmhlaWdodDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZSA9IHRlbXBSZWN0MjtcbiAgICAgIH1cbiAgICAgIGZyYW1lYnVmZmVyID0gYmFzZVRleHR1cmUuZnJhbWVidWZmZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgaWYgKCFzb3VyY2VGcmFtZSkge1xuICAgICAgICB0ZW1wUmVjdC53aWR0aCA9IHJlbmRlcmVyLl92aWV3LnNjcmVlbi53aWR0aDtcbiAgICAgICAgdGVtcFJlY3QuaGVpZ2h0ID0gcmVuZGVyZXIuX3ZpZXcuc2NyZWVuLmhlaWdodDtcbiAgICAgICAgc291cmNlRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgIH1cbiAgICAgIGlmICghZGVzdGluYXRpb25GcmFtZSkge1xuICAgICAgICBkZXN0aW5hdGlvbkZyYW1lID0gdGVtcFJlY3Q7XG4gICAgICAgIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBzb3VyY2VGcmFtZS53aWR0aDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzb3VyY2VGcmFtZS5oZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHZpZXdwb3J0RnJhbWUgPSB0aGlzLnZpZXdwb3J0RnJhbWU7XG4gICAgdmlld3BvcnRGcmFtZS54ID0gZGVzdGluYXRpb25GcmFtZS54ICogcmVzb2x1dGlvbjtcbiAgICB2aWV3cG9ydEZyYW1lLnkgPSBkZXN0aW5hdGlvbkZyYW1lLnkgKiByZXNvbHV0aW9uO1xuICAgIHZpZXdwb3J0RnJhbWUud2lkdGggPSBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICB2aWV3cG9ydEZyYW1lLmhlaWdodCA9IGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICBpZiAoIXJlbmRlclRleHR1cmUpIHtcbiAgICAgIHZpZXdwb3J0RnJhbWUueSA9IHJlbmRlcmVyLnZpZXcuaGVpZ2h0IC0gKHZpZXdwb3J0RnJhbWUueSArIHZpZXdwb3J0RnJhbWUuaGVpZ2h0KTtcbiAgICB9XG4gICAgdmlld3BvcnRGcmFtZS5jZWlsKCk7XG4gICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5iaW5kKGZyYW1lYnVmZmVyLCB2aWV3cG9ydEZyYW1lKTtcbiAgICB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24udXBkYXRlKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCAhZnJhbWVidWZmZXIpO1xuICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLm1hc2suc2V0TWFza1N0YWNrKGJhc2VUZXh0dXJlLm1hc2tTdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVuZGVyZXIubWFzay5zZXRNYXNrU3RhY2sodGhpcy5kZWZhdWx0TWFza1N0YWNrKTtcbiAgICB9XG4gICAgdGhpcy5zb3VyY2VGcmFtZS5jb3B5RnJvbShzb3VyY2VGcmFtZSk7XG4gICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLmNvcHlGcm9tKGRlc3RpbmF0aW9uRnJhbWUpO1xuICB9XG4gIGNsZWFyKGNsZWFyQ29sb3IsIG1hc2spIHtcbiAgICBjb25zdCBmYWxsYmFja0NvbG9yID0gdGhpcy5jdXJyZW50ID8gdGhpcy5jdXJyZW50LmJhc2VUZXh0dXJlLmNsZWFyIDogdGhpcy5yZW5kZXJlci5iYWNrZ3JvdW5kLmJhY2tncm91bmRDb2xvcjtcbiAgICBjb25zdCBjb2xvciA9IENvbG9yLnNoYXJlZC5zZXRWYWx1ZShjbGVhckNvbG9yID8gY2xlYXJDb2xvciA6IGZhbGxiYWNrQ29sb3IpO1xuICAgIGlmICh0aGlzLmN1cnJlbnQgJiYgdGhpcy5jdXJyZW50LmJhc2VUZXh0dXJlLmFscGhhTW9kZSA+IDAgfHwgIXRoaXMuY3VycmVudCAmJiB0aGlzLl9yZW5kZXJlclByZW11bHRpcGxpZWRBbHBoYSkge1xuICAgICAgY29sb3IucHJlbXVsdGlwbHkoY29sb3IuYWxwaGEpO1xuICAgIH1cbiAgICBjb25zdCBkZXN0aW5hdGlvbkZyYW1lID0gdGhpcy5kZXN0aW5hdGlvbkZyYW1lO1xuICAgIGNvbnN0IGJhc2VGcmFtZSA9IHRoaXMuY3VycmVudCA/IHRoaXMuY3VycmVudC5iYXNlVGV4dHVyZSA6IHRoaXMucmVuZGVyZXIuX3ZpZXcuc2NyZWVuO1xuICAgIGNvbnN0IGNsZWFyTWFzayA9IGRlc3RpbmF0aW9uRnJhbWUud2lkdGggIT09IGJhc2VGcmFtZS53aWR0aCB8fCBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAhPT0gYmFzZUZyYW1lLmhlaWdodDtcbiAgICBpZiAoY2xlYXJNYXNrKSB7XG4gICAgICBsZXQgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnZpZXdwb3J0RnJhbWU7XG4gICAgICB4ID0gTWF0aC5yb3VuZCh4KTtcbiAgICAgIHkgPSBNYXRoLnJvdW5kKHkpO1xuICAgICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcbiAgICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0KTtcbiAgICAgIHRoaXMucmVuZGVyZXIuZ2wuZW5hYmxlKHRoaXMucmVuZGVyZXIuZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuZ2wuc2Npc3Nvcih4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5jbGVhcihjb2xvci5yZWQsIGNvbG9yLmdyZWVuLCBjb2xvci5ibHVlLCBjb2xvci5hbHBoYSwgbWFzayk7XG4gICAgaWYgKGNsZWFyTWFzaykge1xuICAgICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnBvcCgpO1xuICAgIH1cbiAgfVxuICByZXNpemUoKSB7XG4gICAgdGhpcy5iaW5kKG51bGwpO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMuYmluZChudWxsKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG5SZW5kZXJUZXh0dXJlU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbSxcbiAgbmFtZTogXCJyZW5kZXJUZXh0dXJlXCJcbn07XG5leHRlbnNpb25zLmFkZChSZW5kZXJUZXh0dXJlU3lzdGVtKTtcblxuZXhwb3J0IHsgUmVuZGVyVGV4dHVyZVN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGV4dHVyZVN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5cbmNsYXNzIE9iamVjdFJlbmRlcmVyU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgcmVuZGVyKGRpc3BsYXlPYmplY3QsIG9wdGlvbnMpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgbGV0IHJlbmRlclRleHR1cmU7XG4gICAgbGV0IGNsZWFyO1xuICAgIGxldCB0cmFuc2Zvcm07XG4gICAgbGV0IHNraXBVcGRhdGVUcmFuc2Zvcm07XG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHJlbmRlclRleHR1cmUgPSBvcHRpb25zLnJlbmRlclRleHR1cmU7XG4gICAgICBjbGVhciA9IG9wdGlvbnMuY2xlYXI7XG4gICAgICB0cmFuc2Zvcm0gPSBvcHRpb25zLnRyYW5zZm9ybTtcbiAgICAgIHNraXBVcGRhdGVUcmFuc2Zvcm0gPSBvcHRpb25zLnNraXBVcGRhdGVUcmFuc2Zvcm07XG4gICAgfVxuICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSAhcmVuZGVyVGV4dHVyZTtcbiAgICByZW5kZXJlci5ydW5uZXJzLnByZXJlbmRlci5lbWl0KCk7XG4gICAgcmVuZGVyZXIuZW1pdChcInByZXJlbmRlclwiKTtcbiAgICByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICBpZiAocmVuZGVyZXIuY29udGV4dC5pc0xvc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFyZW5kZXJUZXh0dXJlKSB7XG4gICAgICB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgfVxuICAgIGlmICghc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgY29uc3QgY2FjaGVQYXJlbnQgPSBkaXNwbGF5T2JqZWN0LmVuYWJsZVRlbXBQYXJlbnQoKTtcbiAgICAgIGRpc3BsYXlPYmplY3QudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICBkaXNwbGF5T2JqZWN0LmRpc2FibGVUZW1wUGFyZW50KGNhY2hlUGFyZW50KTtcbiAgICB9XG4gICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgIHJlbmRlcmVyLmJhdGNoLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuICAgIGlmIChjbGVhciA/PyByZW5kZXJlci5iYWNrZ3JvdW5kLmNsZWFyQmVmb3JlUmVuZGVyKSB7XG4gICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmNsZWFyKCk7XG4gICAgfVxuICAgIGRpc3BsYXlPYmplY3QucmVuZGVyKHJlbmRlcmVyKTtcbiAgICByZW5kZXJlci5iYXRjaC5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTtcbiAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgaWYgKG9wdGlvbnMuYmxpdCkge1xuICAgICAgICByZW5kZXJlci5mcmFtZWJ1ZmZlci5ibGl0KCk7XG4gICAgICB9XG4gICAgICByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnVwZGF0ZSgpO1xuICAgIH1cbiAgICByZW5kZXJlci5ydW5uZXJzLnBvc3RyZW5kZXIuZW1pdCgpO1xuICAgIHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtID0gbnVsbDtcbiAgICByZW5kZXJlci5lbWl0KFwicG9zdHJlbmRlclwiKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkID0gbnVsbDtcbiAgfVxufVxuT2JqZWN0UmVuZGVyZXJTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICBuYW1lOiBcIm9iamVjdFJlbmRlcmVyXCJcbn07XG5leHRlbnNpb25zLmFkZChPYmplY3RSZW5kZXJlclN5c3RlbSk7XG5cbmV4cG9ydCB7IE9iamVjdFJlbmRlcmVyU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYmplY3RSZW5kZXJlclN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBFTlYgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEJhdGNoUmVuZGVyZXIgfSBmcm9tICcuL2JhdGNoL0JhdGNoUmVuZGVyZXIubWpzJztcbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJy4vZmlsdGVycy9GaWx0ZXIubWpzJztcbmltcG9ydCB7IFByb2dyYW0gfSBmcm9tICcuL3NoYWRlci9Qcm9ncmFtLm1qcyc7XG5pbXBvcnQgJy4vc3lzdGVtcy5tanMnO1xuaW1wb3J0IHsgQmFzZVRleHR1cmUgfSBmcm9tICcuL3RleHR1cmVzL0Jhc2VUZXh0dXJlLm1qcyc7XG5pbXBvcnQgeyBDb250ZXh0U3lzdGVtIH0gZnJvbSAnLi9jb250ZXh0L0NvbnRleHRTeXN0ZW0ubWpzJztcbmltcG9ydCB7IEJhY2tncm91bmRTeXN0ZW0gfSBmcm9tICcuL2JhY2tncm91bmQvQmFja2dyb3VuZFN5c3RlbS5tanMnO1xuaW1wb3J0IHsgVmlld1N5c3RlbSB9IGZyb20gJy4vdmlldy9WaWV3U3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBTdGFydHVwU3lzdGVtIH0gZnJvbSAnLi9zdGFydHVwL1N0YXJ0dXBTeXN0ZW0ubWpzJztcbmltcG9ydCB7IFRleHR1cmVHQ1N5c3RlbSB9IGZyb20gJy4vdGV4dHVyZXMvVGV4dHVyZUdDU3lzdGVtLm1qcyc7XG5cbnNldHRpbmdzLlBSRUZFUl9FTlYgPSBFTlYuV0VCR0wyO1xuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEUgPSBmYWxzZTtcbnNldHRpbmdzLlJFTkRFUl9PUFRJT05TID0ge1xuICAuLi5Db250ZXh0U3lzdGVtLmRlZmF1bHRPcHRpb25zLFxuICAuLi5CYWNrZ3JvdW5kU3lzdGVtLmRlZmF1bHRPcHRpb25zLFxuICAuLi5WaWV3U3lzdGVtLmRlZmF1bHRPcHRpb25zLFxuICAuLi5TdGFydHVwU3lzdGVtLmRlZmF1bHRPcHRpb25zXG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc2V0dGluZ3MsIHtcbiAgV1JBUF9NT0RFOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlLmRlZmF1bHRPcHRpb25zLndyYXBNb2RlO1xuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICBkZXByZWNhdGlvbihcIjcuMS4wXCIsIFwic2V0dGluZ3MuV1JBUF9NT0RFIGlzIGRlcHJlY2F0ZWQsIHVzZSBCYXNlVGV4dHVyZS5kZWZhdWx0T3B0aW9ucy53cmFwTW9kZVwiKTtcbiAgICAgIEJhc2VUZXh0dXJlLmRlZmF1bHRPcHRpb25zLndyYXBNb2RlID0gdmFsdWU7XG4gICAgfVxuICB9LFxuICBTQ0FMRV9NT0RFOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlLmRlZmF1bHRPcHRpb25zLnNjYWxlTW9kZTtcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgZGVwcmVjYXRpb24oXCI3LjEuMFwiLCBcInNldHRpbmdzLlNDQUxFX01PREUgaXMgZGVwcmVjYXRlZCwgdXNlIEJhc2VUZXh0dXJlLmRlZmF1bHRPcHRpb25zLnNjYWxlTW9kZVwiKTtcbiAgICAgIEJhc2VUZXh0dXJlLmRlZmF1bHRPcHRpb25zLnNjYWxlTW9kZSA9IHZhbHVlO1xuICAgIH1cbiAgfSxcbiAgTUlQTUFQX1RFWFRVUkVTOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlLmRlZmF1bHRPcHRpb25zLm1pcG1hcDtcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgZGVwcmVjYXRpb24oXCI3LjEuMFwiLCBcInNldHRpbmdzLk1JUE1BUF9URVhUVVJFUyBpcyBkZXByZWNhdGVkLCB1c2UgQmFzZVRleHR1cmUuZGVmYXVsdE9wdGlvbnMubWlwbWFwXCIpO1xuICAgICAgQmFzZVRleHR1cmUuZGVmYXVsdE9wdGlvbnMubWlwbWFwID0gdmFsdWU7XG4gICAgfVxuICB9LFxuICBBTklTT1RST1BJQ19MRVZFTDoge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5kZWZhdWx0T3B0aW9ucy5hbmlzb3Ryb3BpY0xldmVsO1xuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICBkZXByZWNhdGlvbihcIjcuMS4wXCIsIFwic2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUwgaXMgZGVwcmVjYXRlZCwgdXNlIEJhc2VUZXh0dXJlLmRlZmF1bHRPcHRpb25zLmFuaXNvdHJvcGljTGV2ZWxcIik7XG4gICAgICBCYXNlVGV4dHVyZS5kZWZhdWx0T3B0aW9ucy5hbmlzb3Ryb3BpY0xldmVsID0gdmFsdWU7XG4gICAgfVxuICB9LFxuICBGSUxURVJfUkVTT0xVVElPTjoge1xuICAgIGdldCgpIHtcbiAgICAgIGRlcHJlY2F0aW9uKFwiNy4xLjBcIiwgXCJzZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTiBpcyBkZXByZWNhdGVkLCB1c2UgRmlsdGVyLmRlZmF1bHRSZXNvbHV0aW9uXCIpO1xuICAgICAgcmV0dXJuIEZpbHRlci5kZWZhdWx0UmVzb2x1dGlvbjtcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgRmlsdGVyLmRlZmF1bHRSZXNvbHV0aW9uID0gdmFsdWU7XG4gICAgfVxuICB9LFxuICBGSUxURVJfTVVMVElTQU1QTEU6IHtcbiAgICBnZXQoKSB7XG4gICAgICBkZXByZWNhdGlvbihcIjcuMS4wXCIsIFwic2V0dGluZ3MuRklMVEVSX01VTFRJU0FNUExFIGlzIGRlcHJlY2F0ZWQsIHVzZSBGaWx0ZXIuZGVmYXVsdE11bHRpc2FtcGxlXCIpO1xuICAgICAgcmV0dXJuIEZpbHRlci5kZWZhdWx0TXVsdGlzYW1wbGU7XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIEZpbHRlci5kZWZhdWx0TXVsdGlzYW1wbGUgPSB2YWx1ZTtcbiAgICB9XG4gIH0sXG4gIFNQUklURV9NQVhfVEVYVFVSRVM6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gQmF0Y2hSZW5kZXJlci5kZWZhdWx0TWF4VGV4dHVyZXM7XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIGRlcHJlY2F0aW9uKFwiNy4xLjBcIiwgXCJzZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTIGlzIGRlcHJlY2F0ZWQsIHVzZSBCYXRjaFJlbmRlcmVyLmRlZmF1bHRNYXhUZXh0dXJlc1wiKTtcbiAgICAgIEJhdGNoUmVuZGVyZXIuZGVmYXVsdE1heFRleHR1cmVzID0gdmFsdWU7XG4gICAgfVxuICB9LFxuICBTUFJJVEVfQkFUQ0hfU0laRToge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBCYXRjaFJlbmRlcmVyLmRlZmF1bHRCYXRjaFNpemU7XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIGRlcHJlY2F0aW9uKFwiNy4xLjBcIiwgXCJzZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRSBpcyBkZXByZWNhdGVkLCB1c2UgQmF0Y2hSZW5kZXJlci5kZWZhdWx0QmF0Y2hTaXplXCIpO1xuICAgICAgQmF0Y2hSZW5kZXJlci5kZWZhdWx0QmF0Y2hTaXplID0gdmFsdWU7XG4gICAgfVxuICB9LFxuICBDQU5fVVBMT0FEX1NBTUVfQlVGRkVSOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIEJhdGNoUmVuZGVyZXIuY2FuVXBsb2FkU2FtZUJ1ZmZlcjtcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgZGVwcmVjYXRpb24oXCI3LjEuMFwiLCBcInNldHRpbmdzLkNBTl9VUExPQURfU0FNRV9CVUZGRVIgaXMgZGVwcmVjYXRlZCwgdXNlIEJhdGNoUmVuZGVyZXIuY2FuVXBsb2FkU2FtZUJ1ZmZlclwiKTtcbiAgICAgIEJhdGNoUmVuZGVyZXIuY2FuVXBsb2FkU2FtZUJ1ZmZlciA9IHZhbHVlO1xuICAgIH1cbiAgfSxcbiAgR0NfTU9ERToge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBUZXh0dXJlR0NTeXN0ZW0uZGVmYXVsdE1vZGU7XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIGRlcHJlY2F0aW9uKFwiNy4xLjBcIiwgXCJzZXR0aW5ncy5HQ19NT0RFIGlzIGRlcHJlY2F0ZWQsIHVzZSBUZXh0dXJlR0NTeXN0ZW0uZGVmYXVsdE1vZGVcIik7XG4gICAgICBUZXh0dXJlR0NTeXN0ZW0uZGVmYXVsdE1vZGUgPSB2YWx1ZTtcbiAgICB9XG4gIH0sXG4gIEdDX01BWF9JRExFOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIFRleHR1cmVHQ1N5c3RlbS5kZWZhdWx0TWF4SWRsZTtcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgZGVwcmVjYXRpb24oXCI3LjEuMFwiLCBcInNldHRpbmdzLkdDX01BWF9JRExFIGlzIGRlcHJlY2F0ZWQsIHVzZSBUZXh0dXJlR0NTeXN0ZW0uZGVmYXVsdE1heElkbGVcIik7XG4gICAgICBUZXh0dXJlR0NTeXN0ZW0uZGVmYXVsdE1heElkbGUgPSB2YWx1ZTtcbiAgICB9XG4gIH0sXG4gIEdDX01BWF9DSEVDS19DT1VOVDoge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBUZXh0dXJlR0NTeXN0ZW0uZGVmYXVsdENoZWNrQ291bnRNYXg7XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIGRlcHJlY2F0aW9uKFwiNy4xLjBcIiwgXCJzZXR0aW5ncy5HQ19NQVhfQ0hFQ0tfQ09VTlQgaXMgZGVwcmVjYXRlZCwgdXNlIFRleHR1cmVHQ1N5c3RlbS5kZWZhdWx0Q2hlY2tDb3VudE1heFwiKTtcbiAgICAgIFRleHR1cmVHQ1N5c3RlbS5kZWZhdWx0Q2hlY2tDb3VudE1heCA9IHZhbHVlO1xuICAgIH1cbiAgfSxcbiAgUFJFQ0lTSU9OX1ZFUlRFWDoge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBQcm9ncmFtLmRlZmF1bHRWZXJ0ZXhQcmVjaXNpb247XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIGRlcHJlY2F0aW9uKFwiNy4xLjBcIiwgXCJzZXR0aW5ncy5QUkVDSVNJT05fVkVSVEVYIGlzIGRlcHJlY2F0ZWQsIHVzZSBQcm9ncmFtLmRlZmF1bHRWZXJ0ZXhQcmVjaXNpb25cIik7XG4gICAgICBQcm9ncmFtLmRlZmF1bHRWZXJ0ZXhQcmVjaXNpb24gPSB2YWx1ZTtcbiAgICB9XG4gIH0sXG4gIFBSRUNJU0lPTl9GUkFHTUVOVDoge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBQcm9ncmFtLmRlZmF1bHRGcmFnbWVudFByZWNpc2lvbjtcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgZGVwcmVjYXRpb24oXCI3LjEuMFwiLCBcInNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVCBpcyBkZXByZWNhdGVkLCB1c2UgUHJvZ3JhbS5kZWZhdWx0RnJhZ21lbnRQcmVjaXNpb25cIik7XG4gICAgICBQcm9ncmFtLmRlZmF1bHRGcmFnbWVudFByZWNpc2lvbiA9IHZhbHVlO1xuICAgIH1cbiAgfVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR0aW5ncy5tanMubWFwXG4iLCJjbGFzcyBJR0xVbmlmb3JtRGF0YSB7XG59XG5jbGFzcyBHTFByb2dyYW0ge1xuICBjb25zdHJ1Y3Rvcihwcm9ncmFtLCB1bmlmb3JtRGF0YSkge1xuICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgdGhpcy51bmlmb3JtRGF0YSA9IHVuaWZvcm1EYXRhO1xuICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IHt9O1xuICAgIHRoaXMudW5pZm9ybURpcnR5R3JvdXBzID0ge307XG4gICAgdGhpcy51bmlmb3JtQnVmZmVyQmluZGluZ3MgPSB7fTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMudW5pZm9ybURhdGEgPSBudWxsO1xuICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IG51bGw7XG4gICAgdGhpcy51bmlmb3JtRGlydHlHcm91cHMgPSBudWxsO1xuICAgIHRoaXMudW5pZm9ybUJ1ZmZlckJpbmRpbmdzID0gbnVsbDtcbiAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCB7IEdMUHJvZ3JhbSwgSUdMVW5pZm9ybURhdGEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdMUHJvZ3JhbS5tanMubWFwXG4iLCJpbXBvcnQgeyBQUkVDSVNJT04gfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgUHJvZ3JhbUNhY2hlLCBpc01vYmlsZSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCBkZWZhdWx0RnJhZ21lbnQgZnJvbSAnLi9kZWZhdWx0UHJvZ3JhbS5tanMnO1xuaW1wb3J0IGRlZmF1bHRWZXJ0ZXggZnJvbSAnLi9kZWZhdWx0UHJvZ3JhbTIubWpzJztcbmltcG9ydCAnLi91dGlscy9pbmRleC5tanMnO1xuaW1wb3J0IHsgc2V0UHJlY2lzaW9uIH0gZnJvbSAnLi91dGlscy9zZXRQcmVjaXNpb24ubWpzJztcbmltcG9ydCB7IGdldE1heEZyYWdtZW50UHJlY2lzaW9uIH0gZnJvbSAnLi91dGlscy9nZXRNYXhGcmFnbWVudFByZWNpc2lvbi5tanMnO1xuXG5sZXQgVUlEID0gMDtcbmNvbnN0IG5hbWVDYWNoZSA9IHt9O1xuY29uc3QgX1Byb2dyYW0gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG5hbWUgPSBcInBpeGktc2hhZGVyXCIsIGV4dHJhID0ge30pIHtcbiAgICB0aGlzLmV4dHJhID0ge307XG4gICAgdGhpcy5pZCA9IFVJRCsrO1xuICAgIHRoaXMudmVydGV4U3JjID0gdmVydGV4U3JjIHx8IF9Qcm9ncmFtLmRlZmF1bHRWZXJ0ZXhTcmM7XG4gICAgdGhpcy5mcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjIHx8IF9Qcm9ncmFtLmRlZmF1bHRGcmFnbWVudFNyYztcbiAgICB0aGlzLnZlcnRleFNyYyA9IHRoaXMudmVydGV4U3JjLnRyaW0oKTtcbiAgICB0aGlzLmZyYWdtZW50U3JjID0gdGhpcy5mcmFnbWVudFNyYy50cmltKCk7XG4gICAgdGhpcy5leHRyYSA9IGV4dHJhO1xuICAgIGlmICh0aGlzLnZlcnRleFNyYy5zdWJzdHJpbmcoMCwgOCkgIT09IFwiI3ZlcnNpb25cIikge1xuICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvXFxzKy9nLCBcIi1cIik7XG4gICAgICBpZiAobmFtZUNhY2hlW25hbWVdKSB7XG4gICAgICAgIG5hbWVDYWNoZVtuYW1lXSsrO1xuICAgICAgICBuYW1lICs9IGAtJHtuYW1lQ2FjaGVbbmFtZV19YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5hbWVDYWNoZVtuYW1lXSA9IDE7XG4gICAgICB9XG4gICAgICB0aGlzLnZlcnRleFNyYyA9IGAjZGVmaW5lIFNIQURFUl9OQU1FICR7bmFtZX1cbiR7dGhpcy52ZXJ0ZXhTcmN9YDtcbiAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBgI2RlZmluZSBTSEFERVJfTkFNRSAke25hbWV9XG4ke3RoaXMuZnJhZ21lbnRTcmN9YDtcbiAgICAgIHRoaXMudmVydGV4U3JjID0gc2V0UHJlY2lzaW9uKHRoaXMudmVydGV4U3JjLCBfUHJvZ3JhbS5kZWZhdWx0VmVydGV4UHJlY2lzaW9uLCBQUkVDSVNJT04uSElHSCk7XG4gICAgICB0aGlzLmZyYWdtZW50U3JjID0gc2V0UHJlY2lzaW9uKHRoaXMuZnJhZ21lbnRTcmMsIF9Qcm9ncmFtLmRlZmF1bHRGcmFnbWVudFByZWNpc2lvbiwgZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24oKSk7XG4gICAgfVxuICAgIHRoaXMuZ2xQcm9ncmFtcyA9IHt9O1xuICAgIHRoaXMuc3luY1VuaWZvcm1zID0gbnVsbDtcbiAgfVxuICBzdGF0aWMgZ2V0IGRlZmF1bHRWZXJ0ZXhTcmMoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXg7XG4gIH1cbiAgc3RhdGljIGdldCBkZWZhdWx0RnJhZ21lbnRTcmMoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudDtcbiAgfVxuICBzdGF0aWMgZnJvbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKSB7XG4gICAgY29uc3Qga2V5ID0gdmVydGV4U3JjICsgZnJhZ21lbnRTcmM7XG4gICAgbGV0IHByb2dyYW0gPSBQcm9ncmFtQ2FjaGVba2V5XTtcbiAgICBpZiAoIXByb2dyYW0pIHtcbiAgICAgIFByb2dyYW1DYWNoZVtrZXldID0gcHJvZ3JhbSA9IG5ldyBfUHJvZ3JhbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb2dyYW07XG4gIH1cbn07XG5sZXQgUHJvZ3JhbSA9IF9Qcm9ncmFtO1xuUHJvZ3JhbS5kZWZhdWx0VmVydGV4UHJlY2lzaW9uID0gUFJFQ0lTSU9OLkhJR0g7XG5Qcm9ncmFtLmRlZmF1bHRGcmFnbWVudFByZWNpc2lvbiA9IGlzTW9iaWxlLmFwcGxlLmRldmljZSA/IFBSRUNJU0lPTi5ISUdIIDogUFJFQ0lTSU9OLk1FRElVTTtcblxuZXhwb3J0IHsgUHJvZ3JhbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJvZ3JhbS5tanMubWFwXG4iLCJpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuaW1wb3J0IHsgUHJvZ3JhbSB9IGZyb20gJy4vUHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi9Vbmlmb3JtR3JvdXAubWpzJztcblxuY2xhc3MgU2hhZGVyIHtcbiAgY29uc3RydWN0b3IocHJvZ3JhbSwgdW5pZm9ybXMpIHtcbiAgICB0aGlzLnVuaWZvcm1CaW5kQ291bnQgPSAwO1xuICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgaWYgKHVuaWZvcm1zKSB7XG4gICAgICBpZiAodW5pZm9ybXMgaW5zdGFuY2VvZiBVbmlmb3JtR3JvdXApIHtcbiAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSB1bmlmb3JtcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3Jtcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh7fSk7XG4gICAgfVxuICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoXCJkaXNwb3NlU2hhZGVyXCIpO1xuICB9XG4gIGNoZWNrVW5pZm9ybUV4aXN0cyhuYW1lLCBncm91cCkge1xuICAgIGlmIChncm91cC51bmlmb3Jtc1tuYW1lXSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZvciAoY29uc3QgaSBpbiBncm91cC51bmlmb3Jtcykge1xuICAgICAgY29uc3QgdW5pZm9ybSA9IGdyb3VwLnVuaWZvcm1zW2ldO1xuICAgICAgaWYgKHVuaWZvcm0uZ3JvdXApIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tVbmlmb3JtRXhpc3RzKG5hbWUsIHVuaWZvcm0pKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy51bmlmb3JtR3JvdXAgPSBudWxsO1xuICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5lbWl0KHRoaXMpO1xuICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5kZXN0cm95KCk7XG4gIH1cbiAgZ2V0IHVuaWZvcm1zKCkge1xuICAgIHJldHVybiB0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3JtcztcbiAgfVxuICBzdGF0aWMgZnJvbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCB1bmlmb3Jtcykge1xuICAgIGNvbnN0IHByb2dyYW0gPSBQcm9ncmFtLmZyb20odmVydGV4U3JjLCBmcmFnbWVudFNyYyk7XG4gICAgcmV0dXJuIG5ldyBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpO1xuICB9XG59XG5cbmV4cG9ydCB7IFNoYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2hhZGVyLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcbmltcG9ydCAnLi91dGlscy9pbmRleC5tanMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVQcm9ncmFtIH0gZnJvbSAnLi91dGlscy9nZW5lcmF0ZVByb2dyYW0ubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlVW5pZm9ybUJ1ZmZlclN5bmMgfSBmcm9tICcuL3V0aWxzL2dlbmVyYXRlVW5pZm9ybUJ1ZmZlclN5bmMubWpzJztcbmltcG9ydCB7IHVuc2FmZUV2YWxTdXBwb3J0ZWQgfSBmcm9tICcuL3V0aWxzL3Vuc2FmZUV2YWxTdXBwb3J0ZWQubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlVW5pZm9ybXNTeW5jIH0gZnJvbSAnLi91dGlscy9nZW5lcmF0ZVVuaWZvcm1zU3luYy5tanMnO1xuXG5sZXQgVUlEID0gMDtcbmNvbnN0IGRlZmF1bHRTeW5jRGF0YSA9IHsgdGV4dHVyZUNvdW50OiAwLCB1Ym9Db3VudDogMCB9O1xuY2xhc3MgU2hhZGVyU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLnN5c3RlbUNoZWNrKCk7XG4gICAgdGhpcy5nbCA9IG51bGw7XG4gICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgdGhpcy5jYWNoZSA9IHt9O1xuICAgIHRoaXMuX3Vib0NhY2hlID0ge307XG4gICAgdGhpcy5pZCA9IFVJRCsrO1xuICB9XG4gIHN5c3RlbUNoZWNrKCkge1xuICAgIGlmICghdW5zYWZlRXZhbFN1cHBvcnRlZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IGFsbG93IHVuc2FmZS1ldmFsLCBwbGVhc2UgdXNlIEBwaXhpL3Vuc2FmZS1ldmFsIG1vZHVsZSB0byBlbmFibGUgc3VwcG9ydC5cIik7XG4gICAgfVxuICB9XG4gIGNvbnRleHRDaGFuZ2UoZ2wpIHtcbiAgICB0aGlzLmdsID0gZ2w7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG4gIGJpbmQoc2hhZGVyLCBkb250U3luYykge1xuICAgIHNoYWRlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICBzaGFkZXIudW5pZm9ybXMuZ2xvYmFscyA9IHRoaXMucmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXM7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHNoYWRlci5wcm9ncmFtO1xuICAgIGNvbnN0IGdsUHJvZ3JhbSA9IHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmdlbmVyYXRlUHJvZ3JhbShzaGFkZXIpO1xuICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuICAgIGlmICh0aGlzLnByb2dyYW0gIT09IHByb2dyYW0pIHtcbiAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICB0aGlzLmdsLnVzZVByb2dyYW0oZ2xQcm9ncmFtLnByb2dyYW0pO1xuICAgIH1cbiAgICBpZiAoIWRvbnRTeW5jKSB7XG4gICAgICBkZWZhdWx0U3luY0RhdGEudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgIGRlZmF1bHRTeW5jRGF0YS51Ym9Db3VudCA9IDA7XG4gICAgICB0aGlzLnN5bmNVbmlmb3JtR3JvdXAoc2hhZGVyLnVuaWZvcm1Hcm91cCwgZGVmYXVsdFN5bmNEYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGdsUHJvZ3JhbTtcbiAgfVxuICBzZXRVbmlmb3Jtcyh1bmlmb3Jtcykge1xuICAgIGNvbnN0IHNoYWRlciA9IHRoaXMuc2hhZGVyLnByb2dyYW07XG4gICAgY29uc3QgZ2xQcm9ncmFtID0gc2hhZGVyLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG4gICAgc2hhZGVyLnN5bmNVbmlmb3JtcyhnbFByb2dyYW0udW5pZm9ybURhdGEsIHVuaWZvcm1zLCB0aGlzLnJlbmRlcmVyKTtcbiAgfVxuICBzeW5jVW5pZm9ybUdyb3VwKGdyb3VwLCBzeW5jRGF0YSkge1xuICAgIGNvbnN0IGdsUHJvZ3JhbSA9IHRoaXMuZ2V0R2xQcm9ncmFtKCk7XG4gICAgaWYgKCFncm91cC5zdGF0aWMgfHwgZ3JvdXAuZGlydHlJZCAhPT0gZ2xQcm9ncmFtLnVuaWZvcm1EaXJ0eUdyb3Vwc1tncm91cC5pZF0pIHtcbiAgICAgIGdsUHJvZ3JhbS51bmlmb3JtRGlydHlHcm91cHNbZ3JvdXAuaWRdID0gZ3JvdXAuZGlydHlJZDtcbiAgICAgIHRoaXMuc3luY1VuaWZvcm1zKGdyb3VwLCBnbFByb2dyYW0sIHN5bmNEYXRhKTtcbiAgICB9XG4gIH1cbiAgc3luY1VuaWZvcm1zKGdyb3VwLCBnbFByb2dyYW0sIHN5bmNEYXRhKSB7XG4gICAgY29uc3Qgc3luY0Z1bmMgPSBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF0gfHwgdGhpcy5jcmVhdGVTeW5jR3JvdXBzKGdyb3VwKTtcbiAgICBzeW5jRnVuYyhnbFByb2dyYW0udW5pZm9ybURhdGEsIGdyb3VwLnVuaWZvcm1zLCB0aGlzLnJlbmRlcmVyLCBzeW5jRGF0YSk7XG4gIH1cbiAgY3JlYXRlU3luY0dyb3Vwcyhncm91cCkge1xuICAgIGNvbnN0IGlkID0gdGhpcy5nZXRTaWduYXR1cmUoZ3JvdXAsIHRoaXMuc2hhZGVyLnByb2dyYW0udW5pZm9ybURhdGEsIFwidVwiKTtcbiAgICBpZiAoIXRoaXMuY2FjaGVbaWRdKSB7XG4gICAgICB0aGlzLmNhY2hlW2lkXSA9IGdlbmVyYXRlVW5pZm9ybXNTeW5jKGdyb3VwLCB0aGlzLnNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhKTtcbiAgICB9XG4gICAgZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdID0gdGhpcy5jYWNoZVtpZF07XG4gICAgcmV0dXJuIGdyb3VwLnN5bmNVbmlmb3Jtc1t0aGlzLnNoYWRlci5wcm9ncmFtLmlkXTtcbiAgfVxuICBzeW5jVW5pZm9ybUJ1ZmZlckdyb3VwKGdyb3VwLCBuYW1lKSB7XG4gICAgY29uc3QgZ2xQcm9ncmFtID0gdGhpcy5nZXRHbFByb2dyYW0oKTtcbiAgICBpZiAoIWdyb3VwLnN0YXRpYyB8fCBncm91cC5kaXJ0eUlkICE9PSAwIHx8ICFnbFByb2dyYW0udW5pZm9ybUdyb3Vwc1tncm91cC5pZF0pIHtcbiAgICAgIGdyb3VwLmRpcnR5SWQgPSAwO1xuICAgICAgY29uc3Qgc3luY0Z1bmMgPSBnbFByb2dyYW0udW5pZm9ybUdyb3Vwc1tncm91cC5pZF0gfHwgdGhpcy5jcmVhdGVTeW5jQnVmZmVyR3JvdXAoZ3JvdXAsIGdsUHJvZ3JhbSwgbmFtZSk7XG4gICAgICBncm91cC5idWZmZXIudXBkYXRlKCk7XG4gICAgICBzeW5jRnVuYyhnbFByb2dyYW0udW5pZm9ybURhdGEsIGdyb3VwLnVuaWZvcm1zLCB0aGlzLnJlbmRlcmVyLCBkZWZhdWx0U3luY0RhdGEsIGdyb3VwLmJ1ZmZlcik7XG4gICAgfVxuICAgIHRoaXMucmVuZGVyZXIuYnVmZmVyLmJpbmRCdWZmZXJCYXNlKGdyb3VwLmJ1ZmZlciwgZ2xQcm9ncmFtLnVuaWZvcm1CdWZmZXJCaW5kaW5nc1tuYW1lXSk7XG4gIH1cbiAgY3JlYXRlU3luY0J1ZmZlckdyb3VwKGdyb3VwLCBnbFByb2dyYW0sIG5hbWUpIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzLnJlbmRlcmVyO1xuICAgIHRoaXMucmVuZGVyZXIuYnVmZmVyLmJpbmQoZ3JvdXAuYnVmZmVyKTtcbiAgICBjb25zdCB1bmlmb3JtQmxvY2tJbmRleCA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUJsb2NrSW5kZXgoZ2xQcm9ncmFtLnByb2dyYW0sIG5hbWUpO1xuICAgIGdsUHJvZ3JhbS51bmlmb3JtQnVmZmVyQmluZGluZ3NbbmFtZV0gPSB0aGlzLnNoYWRlci51bmlmb3JtQmluZENvdW50O1xuICAgIGdsLnVuaWZvcm1CbG9ja0JpbmRpbmcoZ2xQcm9ncmFtLnByb2dyYW0sIHVuaWZvcm1CbG9ja0luZGV4LCB0aGlzLnNoYWRlci51bmlmb3JtQmluZENvdW50KTtcbiAgICB0aGlzLnNoYWRlci51bmlmb3JtQmluZENvdW50Kys7XG4gICAgY29uc3QgaWQgPSB0aGlzLmdldFNpZ25hdHVyZShncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSwgXCJ1Ym9cIik7XG4gICAgbGV0IHVib0RhdGEgPSB0aGlzLl91Ym9DYWNoZVtpZF07XG4gICAgaWYgKCF1Ym9EYXRhKSB7XG4gICAgICB1Ym9EYXRhID0gdGhpcy5fdWJvQ2FjaGVbaWRdID0gZ2VuZXJhdGVVbmlmb3JtQnVmZmVyU3luYyhncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG4gICAgfVxuICAgIGlmIChncm91cC5hdXRvTWFuYWdlKSB7XG4gICAgICBjb25zdCBkYXRhID0gbmV3IEZsb2F0MzJBcnJheSh1Ym9EYXRhLnNpemUgLyA0KTtcbiAgICAgIGdyb3VwLmJ1ZmZlci51cGRhdGUoZGF0YSk7XG4gICAgfVxuICAgIGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXSA9IHVib0RhdGEuc3luY0Z1bmM7XG4gICAgcmV0dXJuIGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXTtcbiAgfVxuICBnZXRTaWduYXR1cmUoZ3JvdXAsIHVuaWZvcm1EYXRhLCBwcmVGaXgpIHtcbiAgICBjb25zdCB1bmlmb3JtcyA9IGdyb3VwLnVuaWZvcm1zO1xuICAgIGNvbnN0IHN0cmluZ3MgPSBbYCR7cHJlRml4fS1gXTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdW5pZm9ybXMpIHtcbiAgICAgIHN0cmluZ3MucHVzaChpKTtcbiAgICAgIGlmICh1bmlmb3JtRGF0YVtpXSkge1xuICAgICAgICBzdHJpbmdzLnB1c2godW5pZm9ybURhdGFbaV0udHlwZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmdzLmpvaW4oXCItXCIpO1xuICB9XG4gIGdldEdsUHJvZ3JhbSgpIHtcbiAgICBpZiAodGhpcy5zaGFkZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLnNoYWRlci5wcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGdlbmVyYXRlUHJvZ3JhbShzaGFkZXIpIHtcbiAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHNoYWRlci5wcm9ncmFtO1xuICAgIGNvbnN0IGdsUHJvZ3JhbSA9IGdlbmVyYXRlUHJvZ3JhbShnbCwgcHJvZ3JhbSk7XG4gICAgcHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdID0gZ2xQcm9ncmFtO1xuICAgIHJldHVybiBnbFByb2dyYW07XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcbiAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gIH1cbiAgZGlzcG9zZVNoYWRlcihzaGFkZXIpIHtcbiAgICBpZiAodGhpcy5zaGFkZXIgPT09IHNoYWRlcikge1xuICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgfVxufVxuU2hhZGVyU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbSxcbiAgbmFtZTogXCJzaGFkZXJcIlxufTtcbmV4dGVuc2lvbnMuYWRkKFNoYWRlclN5c3RlbSk7XG5cbmV4cG9ydCB7IFNoYWRlclN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2hhZGVyU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IEJVRkZFUl9UWVBFIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJy4uL2dlb21ldHJ5L0J1ZmZlci5tanMnO1xuXG5sZXQgVUlEID0gMDtcbmNsYXNzIFVuaWZvcm1Hcm91cCB7XG4gIGNvbnN0cnVjdG9yKHVuaWZvcm1zLCBpc1N0YXRpYywgaXNVYm8pIHtcbiAgICB0aGlzLmdyb3VwID0gdHJ1ZTtcbiAgICB0aGlzLnN5bmNVbmlmb3JtcyA9IHt9O1xuICAgIHRoaXMuZGlydHlJZCA9IDA7XG4gICAgdGhpcy5pZCA9IFVJRCsrO1xuICAgIHRoaXMuc3RhdGljID0gISFpc1N0YXRpYztcbiAgICB0aGlzLnVibyA9ICEhaXNVYm87XG4gICAgaWYgKHVuaWZvcm1zIGluc3RhbmNlb2YgQnVmZmVyKSB7XG4gICAgICB0aGlzLmJ1ZmZlciA9IHVuaWZvcm1zO1xuICAgICAgdGhpcy5idWZmZXIudHlwZSA9IEJVRkZFUl9UWVBFLlVOSUZPUk1fQlVGRkVSO1xuICAgICAgdGhpcy5hdXRvTWFuYWdlID0gZmFsc2U7XG4gICAgICB0aGlzLnVibyA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudW5pZm9ybXMgPSB1bmlmb3JtcztcbiAgICAgIGlmICh0aGlzLnVibykge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ldyBCdWZmZXIobmV3IEZsb2F0MzJBcnJheSgxKSk7XG4gICAgICAgIHRoaXMuYnVmZmVyLnR5cGUgPSBCVUZGRVJfVFlQRS5VTklGT1JNX0JVRkZFUjtcbiAgICAgICAgdGhpcy5hdXRvTWFuYWdlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdXBkYXRlKCkge1xuICAgIHRoaXMuZGlydHlJZCsrO1xuICAgIGlmICghdGhpcy5hdXRvTWFuYWdlICYmIHRoaXMuYnVmZmVyKSB7XG4gICAgICB0aGlzLmJ1ZmZlci51cGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgYWRkKG5hbWUsIHVuaWZvcm1zLCBfc3RhdGljKSB7XG4gICAgaWYgKCF0aGlzLnVibykge1xuICAgICAgdGhpcy51bmlmb3Jtc1tuYW1lXSA9IG5ldyBVbmlmb3JtR3JvdXAodW5pZm9ybXMsIF9zdGF0aWMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbVW5pZm9ybUdyb3VwXSB1bmlmb3JtIGdyb3VwcyBpbiB1Ym8gbW9kZSBjYW5ub3QgYmUgbW9kaWZpZWQsIG9yIGhhdmUgdW5pZm9ybSBncm91cHMgbmVzdGVkIGluIHRoZW1cIik7XG4gICAgfVxuICB9XG4gIHN0YXRpYyBmcm9tKHVuaWZvcm1zLCBfc3RhdGljLCBfdWJvKSB7XG4gICAgcmV0dXJuIG5ldyBVbmlmb3JtR3JvdXAodW5pZm9ybXMsIF9zdGF0aWMsIF91Ym8pO1xuICB9XG4gIHN0YXRpYyB1Ym9Gcm9tKHVuaWZvcm1zLCBfc3RhdGljKSB7XG4gICAgcmV0dXJuIG5ldyBVbmlmb3JtR3JvdXAodW5pZm9ybXMsIF9zdGF0aWMgPz8gdHJ1ZSwgdHJ1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgVW5pZm9ybUdyb3VwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Vbmlmb3JtR3JvdXAubWpzLm1hcFxuIiwidmFyIGRlZmF1bHRGcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgIGdsX0ZyYWdDb2xvciAqPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbn1cIjtcblxuZXhwb3J0IHsgZGVmYXVsdEZyYWdtZW50IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHRQcm9ncmFtLm1qcy5tYXBcbiIsInZhciBkZWZhdWx0VmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufVxcblwiO1xuXG5leHBvcnQgeyBkZWZhdWx0VmVydGV4IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHRQcm9ncmFtMi5tanMubWFwXG4iLCJjb25zdCBmcmFnVGVtcGxhdGUgPSBbXG4gIFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXG4gIFwidm9pZCBtYWluKHZvaWQpe1wiLFxuICBcImZsb2F0IHRlc3QgPSAwLjE7XCIsXG4gIFwiJWZvcmxvb3AlXCIsXG4gIFwiZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApO1wiLFxuICBcIn1cIlxuXS5qb2luKFwiXFxuXCIpO1xuZnVuY3Rpb24gZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKSB7XG4gIGxldCBzcmMgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG1heElmczsgKytpKSB7XG4gICAgaWYgKGkgPiAwKSB7XG4gICAgICBzcmMgKz0gXCJcXG5lbHNlIFwiO1xuICAgIH1cbiAgICBpZiAoaSA8IG1heElmcyAtIDEpIHtcbiAgICAgIHNyYyArPSBgaWYodGVzdCA9PSAke2l9LjApe31gO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3JjO1xufVxuZnVuY3Rpb24gY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcihtYXhJZnMsIGdsKSB7XG4gIGlmIChtYXhJZnMgPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIG9mIGAwYCBwYXNzZWQgdG8gYGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXJgXCIpO1xuICB9XG4gIGNvbnN0IHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbnN0IGZyYWdtZW50U3JjID0gZnJhZ1RlbXBsYXRlLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKSk7XG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgZnJhZ21lbnRTcmMpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgbWF4SWZzID0gbWF4SWZzIC8gMiB8IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWF4SWZzO1xufVxuXG5leHBvcnQgeyBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyLm1qcy5tYXBcbiIsImZ1bmN0aW9uIGNvbXBpbGVTaGFkZXIoZ2wsIHR5cGUsIHNyYykge1xuICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XG4gIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNyYyk7XG4gIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgcmV0dXJuIHNoYWRlcjtcbn1cblxuZXhwb3J0IHsgY29tcGlsZVNoYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGlsZVNoYWRlci5tanMubWFwXG4iLCJmdW5jdGlvbiBib29sZWFuQXJyYXkoc2l6ZSkge1xuICBjb25zdCBhcnJheSA9IG5ldyBBcnJheShzaXplKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGFycmF5W2ldID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuZnVuY3Rpb24gZGVmYXVsdFZhbHVlKHR5cGUsIHNpemUpIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcImZsb2F0XCI6XG4gICAgICByZXR1cm4gMDtcbiAgICBjYXNlIFwidmVjMlwiOlxuICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMiAqIHNpemUpO1xuICAgIGNhc2UgXCJ2ZWMzXCI6XG4gICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgzICogc2l6ZSk7XG4gICAgY2FzZSBcInZlYzRcIjpcbiAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDQgKiBzaXplKTtcbiAgICBjYXNlIFwiaW50XCI6XG4gICAgY2FzZSBcInVpbnRcIjpcbiAgICBjYXNlIFwic2FtcGxlcjJEXCI6XG4gICAgY2FzZSBcInNhbXBsZXIyREFycmF5XCI6XG4gICAgICByZXR1cm4gMDtcbiAgICBjYXNlIFwiaXZlYzJcIjpcbiAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgyICogc2l6ZSk7XG4gICAgY2FzZSBcIml2ZWMzXCI6XG4gICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMyAqIHNpemUpO1xuICAgIGNhc2UgXCJpdmVjNFwiOlxuICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDQgKiBzaXplKTtcbiAgICBjYXNlIFwidXZlYzJcIjpcbiAgICAgIHJldHVybiBuZXcgVWludDMyQXJyYXkoMiAqIHNpemUpO1xuICAgIGNhc2UgXCJ1dmVjM1wiOlxuICAgICAgcmV0dXJuIG5ldyBVaW50MzJBcnJheSgzICogc2l6ZSk7XG4gICAgY2FzZSBcInV2ZWM0XCI6XG4gICAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KDQgKiBzaXplKTtcbiAgICBjYXNlIFwiYm9vbFwiOlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgXCJidmVjMlwiOlxuICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgyICogc2l6ZSk7XG4gICAgY2FzZSBcImJ2ZWMzXCI6XG4gICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDMgKiBzaXplKTtcbiAgICBjYXNlIFwiYnZlYzRcIjpcbiAgICAgIHJldHVybiBib29sZWFuQXJyYXkoNCAqIHNpemUpO1xuICAgIGNhc2UgXCJtYXQyXCI6XG4gICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDFcbiAgICAgIF0pO1xuICAgIGNhc2UgXCJtYXQzXCI6XG4gICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDFcbiAgICAgIF0pO1xuICAgIGNhc2UgXCJtYXQ0XCI6XG4gICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDFcbiAgICAgIF0pO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgeyBkZWZhdWx0VmFsdWUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHRWYWx1ZS5tanMubWFwXG4iLCJpbXBvcnQgeyBHTFByb2dyYW0gfSBmcm9tICcuLi9HTFByb2dyYW0ubWpzJztcbmltcG9ydCB7IGNvbXBpbGVTaGFkZXIgfSBmcm9tICcuL2NvbXBpbGVTaGFkZXIubWpzJztcbmltcG9ydCB7IGRlZmF1bHRWYWx1ZSB9IGZyb20gJy4vZGVmYXVsdFZhbHVlLm1qcyc7XG5pbXBvcnQgeyBnZXRBdHRyaWJ1dGVEYXRhIH0gZnJvbSAnLi9nZXRBdHRyaWJ1dGVEYXRhLm1qcyc7XG5pbXBvcnQgeyBnZXRVbmlmb3JtRGF0YSB9IGZyb20gJy4vZ2V0VW5pZm9ybURhdGEubWpzJztcbmltcG9ydCB7IGxvZ1Byb2dyYW1FcnJvciB9IGZyb20gJy4vbG9nUHJvZ3JhbUVycm9yLm1qcyc7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlUHJvZ3JhbShnbCwgcHJvZ3JhbSkge1xuICBjb25zdCBnbFZlcnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCBwcm9ncmFtLnZlcnRleFNyYyk7XG4gIGNvbnN0IGdsRnJhZ1NoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgcHJvZ3JhbS5mcmFnbWVudFNyYyk7XG4gIGNvbnN0IHdlYkdMUHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgZ2wuYXR0YWNoU2hhZGVyKHdlYkdMUHJvZ3JhbSwgZ2xWZXJ0U2hhZGVyKTtcbiAgZ2wuYXR0YWNoU2hhZGVyKHdlYkdMUHJvZ3JhbSwgZ2xGcmFnU2hhZGVyKTtcbiAgY29uc3QgdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyA9IHByb2dyYW0uZXh0cmE/LnRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3M7XG4gIGlmICh0cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzKSB7XG4gICAgaWYgKHR5cGVvZiBnbC50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNvbnNvbGUud2FybihgVHJhbnNmb3JtRmVlZGJhY2sgaXMgbm90IHN1cHBvcnRlZCBidXQgVHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyBhcmUgZ2l2ZW4uYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsLnRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3Mod2ViR0xQcm9ncmFtLCB0cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzLm5hbWVzLCB0cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzLmJ1ZmZlck1vZGUgPT09IFwic2VwYXJhdGVcIiA/IGdsLlNFUEFSQVRFX0FUVFJJQlMgOiBnbC5JTlRFUkxFQVZFRF9BVFRSSUJTKTtcbiAgICB9XG4gIH1cbiAgZ2wubGlua1Byb2dyYW0od2ViR0xQcm9ncmFtKTtcbiAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHdlYkdMUHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgbG9nUHJvZ3JhbUVycm9yKGdsLCB3ZWJHTFByb2dyYW0sIGdsVmVydFNoYWRlciwgZ2xGcmFnU2hhZGVyKTtcbiAgfVxuICBwcm9ncmFtLmF0dHJpYnV0ZURhdGEgPSBnZXRBdHRyaWJ1dGVEYXRhKHdlYkdMUHJvZ3JhbSwgZ2wpO1xuICBwcm9ncmFtLnVuaWZvcm1EYXRhID0gZ2V0VW5pZm9ybURhdGEod2ViR0xQcm9ncmFtLCBnbCk7XG4gIGlmICghL15bIFxcdF0qI1sgXFx0XSp2ZXJzaW9uWyBcXHRdKzMwMFsgXFx0XStlc1sgXFx0XSokL20udGVzdChwcm9ncmFtLnZlcnRleFNyYykpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocHJvZ3JhbS5hdHRyaWJ1dGVEYXRhKTtcbiAgICBrZXlzLnNvcnQoKGEsIGIpID0+IGEgPiBiID8gMSA6IC0xKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHByb2dyYW0uYXR0cmlidXRlRGF0YVtrZXlzW2ldXS5sb2NhdGlvbiA9IGk7XG4gICAgICBnbC5iaW5kQXR0cmliTG9jYXRpb24od2ViR0xQcm9ncmFtLCBpLCBrZXlzW2ldKTtcbiAgICB9XG4gICAgZ2wubGlua1Byb2dyYW0od2ViR0xQcm9ncmFtKTtcbiAgfVxuICBnbC5kZWxldGVTaGFkZXIoZ2xWZXJ0U2hhZGVyKTtcbiAgZ2wuZGVsZXRlU2hhZGVyKGdsRnJhZ1NoYWRlcik7XG4gIGNvbnN0IHVuaWZvcm1EYXRhID0ge307XG4gIGZvciAoY29uc3QgaSBpbiBwcm9ncmFtLnVuaWZvcm1EYXRhKSB7XG4gICAgY29uc3QgZGF0YSA9IHByb2dyYW0udW5pZm9ybURhdGFbaV07XG4gICAgdW5pZm9ybURhdGFbaV0gPSB7XG4gICAgICBsb2NhdGlvbjogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHdlYkdMUHJvZ3JhbSwgaSksXG4gICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKGRhdGEudHlwZSwgZGF0YS5zaXplKVxuICAgIH07XG4gIH1cbiAgY29uc3QgZ2xQcm9ncmFtID0gbmV3IEdMUHJvZ3JhbSh3ZWJHTFByb2dyYW0sIHVuaWZvcm1EYXRhKTtcbiAgcmV0dXJuIGdsUHJvZ3JhbTtcbn1cblxuZXhwb3J0IHsgZ2VuZXJhdGVQcm9ncmFtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZVByb2dyYW0ubWpzLm1hcFxuIiwiaW1wb3J0ICcuL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyB1bmlmb3JtUGFyc2VycyB9IGZyb20gJy4vdW5pZm9ybVBhcnNlcnMubWpzJztcbmltcG9ydCB7IG1hcFNpemUgfSBmcm9tICcuL21hcFNpemUubWpzJztcblxuZnVuY3Rpb24gdWJvVXBkYXRlKF91ZCwgX3V2LCBfcmVuZGVyZXIsIF9zeW5jRGF0YSwgYnVmZmVyKSB7XG4gIF9yZW5kZXJlci5idWZmZXIudXBkYXRlKGJ1ZmZlcik7XG59XG5jb25zdCBVQk9fVE9fU0lOR0xFX1NFVFRFUlMgPSB7XG4gIGZsb2F0OiBgXG4gICAgICAgIGRhdGFbb2Zmc2V0XSA9IHY7XG4gICAgYCxcbiAgdmVjMjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCsxXSA9IHZbMV07XG4gICAgYCxcbiAgdmVjMzogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCsxXSA9IHZbMV07XG4gICAgICAgIGRhdGFbb2Zmc2V0KzJdID0gdlsyXTtcblxuICAgIGAsXG4gIHZlYzQ6IGBcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdlswXTtcbiAgICAgICAgZGF0YVtvZmZzZXQrMV0gPSB2WzFdO1xuICAgICAgICBkYXRhW29mZnNldCsyXSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0KzNdID0gdlszXTtcbiAgICBgLFxuICBtYXQyOiBgXG4gICAgICAgIGRhdGFbb2Zmc2V0XSA9IHZbMF07XG4gICAgICAgIGRhdGFbb2Zmc2V0KzFdID0gdlsxXTtcblxuICAgICAgICBkYXRhW29mZnNldCs0XSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0KzVdID0gdlszXTtcbiAgICBgLFxuICBtYXQzOiBgXG4gICAgICAgIGRhdGFbb2Zmc2V0XSA9IHZbMF07XG4gICAgICAgIGRhdGFbb2Zmc2V0KzFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQrMl0gPSB2WzJdO1xuXG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgNF0gPSB2WzNdO1xuICAgICAgICBkYXRhW29mZnNldCArIDVdID0gdls0XTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyA2XSA9IHZbNV07XG5cbiAgICAgICAgZGF0YVtvZmZzZXQgKyA4XSA9IHZbNl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgOV0gPSB2WzddO1xuICAgICAgICBkYXRhW29mZnNldCArIDEwXSA9IHZbOF07XG4gICAgYCxcbiAgbWF0NDogYFxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgMTY7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyBpXSA9IHZbaV07XG4gICAgICAgIH1cbiAgICBgXG59O1xuY29uc3QgR0xTTF9UT19TVEQ0MF9TSVpFID0ge1xuICBmbG9hdDogNCxcbiAgdmVjMjogOCxcbiAgdmVjMzogMTIsXG4gIHZlYzQ6IDE2LFxuICBpbnQ6IDQsXG4gIGl2ZWMyOiA4LFxuICBpdmVjMzogMTIsXG4gIGl2ZWM0OiAxNixcbiAgdWludDogNCxcbiAgdXZlYzI6IDgsXG4gIHV2ZWMzOiAxMixcbiAgdXZlYzQ6IDE2LFxuICBib29sOiA0LFxuICBidmVjMjogOCxcbiAgYnZlYzM6IDEyLFxuICBidmVjNDogMTYsXG4gIG1hdDI6IDE2ICogMixcbiAgbWF0MzogMTYgKiAzLFxuICBtYXQ0OiAxNiAqIDRcbn07XG5mdW5jdGlvbiBjcmVhdGVVQk9FbGVtZW50cyh1bmlmb3JtRGF0YSkge1xuICBjb25zdCB1Ym9FbGVtZW50cyA9IHVuaWZvcm1EYXRhLm1hcCgoZGF0YSkgPT4gKHtcbiAgICBkYXRhLFxuICAgIG9mZnNldDogMCxcbiAgICBkYXRhTGVuOiAwLFxuICAgIGRpcnR5OiAwXG4gIH0pKTtcbiAgbGV0IHNpemUgPSAwO1xuICBsZXQgY2h1bmtTaXplID0gMDtcbiAgbGV0IG9mZnNldCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdWJvRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB1Ym9FbGVtZW50ID0gdWJvRWxlbWVudHNbaV07XG4gICAgc2l6ZSA9IEdMU0xfVE9fU1RENDBfU0laRVt1Ym9FbGVtZW50LmRhdGEudHlwZV07XG4gICAgaWYgKHVib0VsZW1lbnQuZGF0YS5zaXplID4gMSkge1xuICAgICAgc2l6ZSA9IE1hdGgubWF4KHNpemUsIDE2KSAqIHVib0VsZW1lbnQuZGF0YS5zaXplO1xuICAgIH1cbiAgICB1Ym9FbGVtZW50LmRhdGFMZW4gPSBzaXplO1xuICAgIGlmIChjaHVua1NpemUgJSBzaXplICE9PSAwICYmIGNodW5rU2l6ZSA8IDE2KSB7XG4gICAgICBjb25zdCBsaW5lVXBWYWx1ZSA9IGNodW5rU2l6ZSAlIHNpemUgJSAxNjtcbiAgICAgIGNodW5rU2l6ZSArPSBsaW5lVXBWYWx1ZTtcbiAgICAgIG9mZnNldCArPSBsaW5lVXBWYWx1ZTtcbiAgICB9XG4gICAgaWYgKGNodW5rU2l6ZSArIHNpemUgPiAxNikge1xuICAgICAgb2Zmc2V0ID0gTWF0aC5jZWlsKG9mZnNldCAvIDE2KSAqIDE2O1xuICAgICAgdWJvRWxlbWVudC5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICBvZmZzZXQgKz0gc2l6ZTtcbiAgICAgIGNodW5rU2l6ZSA9IHNpemU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVib0VsZW1lbnQub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgY2h1bmtTaXplICs9IHNpemU7XG4gICAgICBvZmZzZXQgKz0gc2l6ZTtcbiAgICB9XG4gIH1cbiAgb2Zmc2V0ID0gTWF0aC5jZWlsKG9mZnNldCAvIDE2KSAqIDE2O1xuICByZXR1cm4geyB1Ym9FbGVtZW50cywgc2l6ZTogb2Zmc2V0IH07XG59XG5mdW5jdGlvbiBnZXRVQk9EYXRhKHVuaWZvcm1zLCB1bmlmb3JtRGF0YSkge1xuICBjb25zdCB1c2VkVW5pZm9ybURhdGFzID0gW107XG4gIGZvciAoY29uc3QgaSBpbiB1bmlmb3Jtcykge1xuICAgIGlmICh1bmlmb3JtRGF0YVtpXSkge1xuICAgICAgdXNlZFVuaWZvcm1EYXRhcy5wdXNoKHVuaWZvcm1EYXRhW2ldKTtcbiAgICB9XG4gIH1cbiAgdXNlZFVuaWZvcm1EYXRhcy5zb3J0KChhLCBiKSA9PiBhLmluZGV4IC0gYi5pbmRleCk7XG4gIHJldHVybiB1c2VkVW5pZm9ybURhdGFzO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVVbmlmb3JtQnVmZmVyU3luYyhncm91cCwgdW5pZm9ybURhdGEpIHtcbiAgaWYgKCFncm91cC5hdXRvTWFuYWdlKSB7XG4gICAgcmV0dXJuIHsgc2l6ZTogMCwgc3luY0Z1bmM6IHVib1VwZGF0ZSB9O1xuICB9XG4gIGNvbnN0IHVzZWRVbmlmb3JtRGF0YXMgPSBnZXRVQk9EYXRhKGdyb3VwLnVuaWZvcm1zLCB1bmlmb3JtRGF0YSk7XG4gIGNvbnN0IHsgdWJvRWxlbWVudHMsIHNpemUgfSA9IGNyZWF0ZVVCT0VsZW1lbnRzKHVzZWRVbmlmb3JtRGF0YXMpO1xuICBjb25zdCBmdW5jRnJhZ21lbnRzID0gW2BcbiAgICB2YXIgdiA9IG51bGw7XG4gICAgdmFyIHYyID0gbnVsbDtcbiAgICB2YXIgY3YgPSBudWxsO1xuICAgIHZhciB0ID0gMDtcbiAgICB2YXIgZ2wgPSByZW5kZXJlci5nbFxuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGRhdGEgPSBidWZmZXIuZGF0YTtcbiAgICBgXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB1Ym9FbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHVib0VsZW1lbnQgPSB1Ym9FbGVtZW50c1tpXTtcbiAgICBjb25zdCB1bmlmb3JtID0gZ3JvdXAudW5pZm9ybXNbdWJvRWxlbWVudC5kYXRhLm5hbWVdO1xuICAgIGNvbnN0IG5hbWUgPSB1Ym9FbGVtZW50LmRhdGEubmFtZTtcbiAgICBsZXQgcGFyc2VkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB1bmlmb3JtUGFyc2Vycy5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3QgdW5pZm9ybVBhcnNlciA9IHVuaWZvcm1QYXJzZXJzW2pdO1xuICAgICAgaWYgKHVuaWZvcm1QYXJzZXIuY29kZVVibyAmJiB1bmlmb3JtUGFyc2VyLnRlc3QodWJvRWxlbWVudC5kYXRhLCB1bmlmb3JtKSkge1xuICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2goYG9mZnNldCA9ICR7dWJvRWxlbWVudC5vZmZzZXQgLyA0fTtgLCB1bmlmb3JtUGFyc2Vyc1tqXS5jb2RlVWJvKHVib0VsZW1lbnQuZGF0YS5uYW1lLCB1bmlmb3JtKSk7XG4gICAgICAgIHBhcnNlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXBhcnNlZCkge1xuICAgICAgaWYgKHVib0VsZW1lbnQuZGF0YS5zaXplID4gMSkge1xuICAgICAgICBjb25zdCBzaXplMiA9IG1hcFNpemUodWJvRWxlbWVudC5kYXRhLnR5cGUpO1xuICAgICAgICBjb25zdCByb3dTaXplID0gTWF0aC5tYXgoR0xTTF9UT19TVEQ0MF9TSVpFW3Vib0VsZW1lbnQuZGF0YS50eXBlXSAvIDE2LCAxKTtcbiAgICAgICAgY29uc3QgZWxlbWVudFNpemUgPSBzaXplMiAvIHJvd1NpemU7XG4gICAgICAgIGNvbnN0IHJlbWFpbmRlciA9ICg0IC0gZWxlbWVudFNpemUgJSA0KSAlIDQ7XG4gICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaChgXG4gICAgICAgICAgICAgICAgY3YgPSB1ZC4ke25hbWV9LnZhbHVlO1xuICAgICAgICAgICAgICAgIHYgPSB1di4ke25hbWV9O1xuICAgICAgICAgICAgICAgIG9mZnNldCA9ICR7dWJvRWxlbWVudC5vZmZzZXQgLyA0fTtcblxuICAgICAgICAgICAgICAgIHQgPSAwO1xuXG4gICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCAke3Vib0VsZW1lbnQuZGF0YS5zaXplICogcm93U2l6ZX07IGkrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaiA9IDA7IGogPCAke2VsZW1lbnRTaXplfTsgaisrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW29mZnNldCsrXSA9IHZbdCsrXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gJHtyZW1haW5kZXJ9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBVQk9fVE9fU0lOR0xFX1NFVFRFUlNbdWJvRWxlbWVudC5kYXRhLnR5cGVdO1xuICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2goYFxuICAgICAgICAgICAgICAgIGN2ID0gdWQuJHtuYW1lfS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2ID0gdXYuJHtuYW1lfTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSAke3Vib0VsZW1lbnQub2Zmc2V0IC8gNH07XG4gICAgICAgICAgICAgICAgJHt0ZW1wbGF0ZX07XG4gICAgICAgICAgICAgICAgYCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmNGcmFnbWVudHMucHVzaChgXG4gICAgICAgcmVuZGVyZXIuYnVmZmVyLnVwZGF0ZShidWZmZXIpO1xuICAgIGApO1xuICByZXR1cm4ge1xuICAgIHNpemUsXG4gICAgc3luY0Z1bmM6IG5ldyBGdW5jdGlvbihcInVkXCIsIFwidXZcIiwgXCJyZW5kZXJlclwiLCBcInN5bmNEYXRhXCIsIFwiYnVmZmVyXCIsIGZ1bmNGcmFnbWVudHMuam9pbihcIlxcblwiKSlcbiAgfTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlVUJPRWxlbWVudHMsIGdlbmVyYXRlVW5pZm9ybUJ1ZmZlclN5bmMsIGdldFVCT0RhdGEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlVW5pZm9ybUJ1ZmZlclN5bmMubWpzLm1hcFxuIiwiaW1wb3J0IHsgdW5pZm9ybVBhcnNlcnMgfSBmcm9tICcuL3VuaWZvcm1QYXJzZXJzLm1qcyc7XG5cbmNvbnN0IEdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEID0ge1xuICBmbG9hdDogYFxuICAgIGlmIChjdiAhPT0gdilcbiAgICB7XG4gICAgICAgIGN1LnZhbHVlID0gdjtcbiAgICAgICAgZ2wudW5pZm9ybTFmKGxvY2F0aW9uLCB2KTtcbiAgICB9YCxcbiAgdmVjMjogYFxuICAgIGlmIChjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSlcbiAgICB7XG4gICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xuXG4gICAgICAgIGdsLnVuaWZvcm0yZihsb2NhdGlvbiwgdlswXSwgdlsxXSlcbiAgICB9YCxcbiAgdmVjMzogYFxuICAgIGlmIChjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSlcbiAgICB7XG4gICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICBjdlsyXSA9IHZbMl07XG5cbiAgICAgICAgZ2wudW5pZm9ybTNmKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKVxuICAgIH1gLFxuICB2ZWM0OiBgXG4gICAgaWYgKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdIHx8IGN2WzNdICE9PSB2WzNdKVxuICAgIHtcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xuICAgICAgICBjdlsxXSA9IHZbMV07XG4gICAgICAgIGN2WzJdID0gdlsyXTtcbiAgICAgICAgY3ZbM10gPSB2WzNdO1xuXG4gICAgICAgIGdsLnVuaWZvcm00Zihsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSk7XG4gICAgfWAsXG4gIGludDogYFxuICAgIGlmIChjdiAhPT0gdilcbiAgICB7XG4gICAgICAgIGN1LnZhbHVlID0gdjtcblxuICAgICAgICBnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpO1xuICAgIH1gLFxuICBpdmVjMjogYFxuICAgIGlmIChjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSlcbiAgICB7XG4gICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xuXG4gICAgICAgIGdsLnVuaWZvcm0yaShsb2NhdGlvbiwgdlswXSwgdlsxXSk7XG4gICAgfWAsXG4gIGl2ZWMzOiBgXG4gICAgaWYgKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdKVxuICAgIHtcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xuICAgICAgICBjdlsxXSA9IHZbMV07XG4gICAgICAgIGN2WzJdID0gdlsyXTtcblxuICAgICAgICBnbC51bmlmb3JtM2kobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgIH1gLFxuICBpdmVjNDogYFxuICAgIGlmIChjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSB8fCBjdlszXSAhPT0gdlszXSlcbiAgICB7XG4gICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICBjdlsyXSA9IHZbMl07XG4gICAgICAgIGN2WzNdID0gdlszXTtcblxuICAgICAgICBnbC51bmlmb3JtNGkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xuICAgIH1gLFxuICB1aW50OiBgXG4gICAgaWYgKGN2ICE9PSB2KVxuICAgIHtcbiAgICAgICAgY3UudmFsdWUgPSB2O1xuXG4gICAgICAgIGdsLnVuaWZvcm0xdWkobG9jYXRpb24sIHYpO1xuICAgIH1gLFxuICB1dmVjMjogYFxuICAgIGlmIChjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSlcbiAgICB7XG4gICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xuXG4gICAgICAgIGdsLnVuaWZvcm0ydWkobG9jYXRpb24sIHZbMF0sIHZbMV0pO1xuICAgIH1gLFxuICB1dmVjMzogYFxuICAgIGlmIChjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSlcbiAgICB7XG4gICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICBjdlsyXSA9IHZbMl07XG5cbiAgICAgICAgZ2wudW5pZm9ybTN1aShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSk7XG4gICAgfWAsXG4gIHV2ZWM0OiBgXG4gICAgaWYgKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdIHx8IGN2WzNdICE9PSB2WzNdKVxuICAgIHtcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xuICAgICAgICBjdlsxXSA9IHZbMV07XG4gICAgICAgIGN2WzJdID0gdlsyXTtcbiAgICAgICAgY3ZbM10gPSB2WzNdO1xuXG4gICAgICAgIGdsLnVuaWZvcm00dWkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xuICAgIH1gLFxuICBib29sOiBgXG4gICAgaWYgKGN2ICE9PSB2KVxuICAgIHtcbiAgICAgICAgY3UudmFsdWUgPSB2O1xuICAgICAgICBnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpO1xuICAgIH1gLFxuICBidmVjMjogYFxuICAgIGlmIChjdlswXSAhPSB2WzBdIHx8IGN2WzFdICE9IHZbMV0pXG4gICAge1xuICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgIGN2WzFdID0gdlsxXTtcblxuICAgICAgICBnbC51bmlmb3JtMmkobG9jYXRpb24sIHZbMF0sIHZbMV0pO1xuICAgIH1gLFxuICBidmVjMzogYFxuICAgIGlmIChjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSlcbiAgICB7XG4gICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICBjdlsyXSA9IHZbMl07XG5cbiAgICAgICAgZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKTtcbiAgICB9YCxcbiAgYnZlYzQ6IGBcbiAgICBpZiAoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0gfHwgY3ZbM10gIT09IHZbM10pXG4gICAge1xuICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgIGN2WzFdID0gdlsxXTtcbiAgICAgICAgY3ZbMl0gPSB2WzJdO1xuICAgICAgICBjdlszXSA9IHZbM107XG5cbiAgICAgICAgZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKTtcbiAgICB9YCxcbiAgbWF0MjogXCJnbC51bmlmb3JtTWF0cml4MmZ2KGxvY2F0aW9uLCBmYWxzZSwgdilcIixcbiAgbWF0MzogXCJnbC51bmlmb3JtTWF0cml4M2Z2KGxvY2F0aW9uLCBmYWxzZSwgdilcIixcbiAgbWF0NDogXCJnbC51bmlmb3JtTWF0cml4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdilcIixcbiAgc2FtcGxlcjJEOiBgXG4gICAgaWYgKGN2ICE9PSB2KVxuICAgIHtcbiAgICAgICAgY3UudmFsdWUgPSB2O1xuXG4gICAgICAgIGdsLnVuaWZvcm0xaShsb2NhdGlvbiwgdik7XG4gICAgfWAsXG4gIHNhbXBsZXJDdWJlOiBgXG4gICAgaWYgKGN2ICE9PSB2KVxuICAgIHtcbiAgICAgICAgY3UudmFsdWUgPSB2O1xuXG4gICAgICAgIGdsLnVuaWZvcm0xaShsb2NhdGlvbiwgdik7XG4gICAgfWAsXG4gIHNhbXBsZXIyREFycmF5OiBgXG4gICAgaWYgKGN2ICE9PSB2KVxuICAgIHtcbiAgICAgICAgY3UudmFsdWUgPSB2O1xuXG4gICAgICAgIGdsLnVuaWZvcm0xaShsb2NhdGlvbiwgdik7XG4gICAgfWBcbn07XG5jb25zdCBHTFNMX1RPX0FSUkFZX1NFVFRFUlMgPSB7XG4gIGZsb2F0OiBgZ2wudW5pZm9ybTFmdihsb2NhdGlvbiwgdilgLFxuICB2ZWMyOiBgZ2wudW5pZm9ybTJmdihsb2NhdGlvbiwgdilgLFxuICB2ZWMzOiBgZ2wudW5pZm9ybTNmdihsb2NhdGlvbiwgdilgLFxuICB2ZWM0OiBcImdsLnVuaWZvcm00ZnYobG9jYXRpb24sIHYpXCIsXG4gIG1hdDQ6IFwiZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHYpXCIsXG4gIG1hdDM6IFwiZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpXCIsXG4gIG1hdDI6IFwiZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpXCIsXG4gIGludDogXCJnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KVwiLFxuICBpdmVjMjogXCJnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2KVwiLFxuICBpdmVjMzogXCJnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2KVwiLFxuICBpdmVjNDogXCJnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2KVwiLFxuICB1aW50OiBcImdsLnVuaWZvcm0xdWl2KGxvY2F0aW9uLCB2KVwiLFxuICB1dmVjMjogXCJnbC51bmlmb3JtMnVpdihsb2NhdGlvbiwgdilcIixcbiAgdXZlYzM6IFwiZ2wudW5pZm9ybTN1aXYobG9jYXRpb24sIHYpXCIsXG4gIHV2ZWM0OiBcImdsLnVuaWZvcm00dWl2KGxvY2F0aW9uLCB2KVwiLFxuICBib29sOiBcImdsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpXCIsXG4gIGJ2ZWMyOiBcImdsLnVuaWZvcm0yaXYobG9jYXRpb24sIHYpXCIsXG4gIGJ2ZWMzOiBcImdsLnVuaWZvcm0zaXYobG9jYXRpb24sIHYpXCIsXG4gIGJ2ZWM0OiBcImdsLnVuaWZvcm00aXYobG9jYXRpb24sIHYpXCIsXG4gIHNhbXBsZXIyRDogXCJnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KVwiLFxuICBzYW1wbGVyQ3ViZTogXCJnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KVwiLFxuICBzYW1wbGVyMkRBcnJheTogXCJnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KVwiXG59O1xuZnVuY3Rpb24gZ2VuZXJhdGVVbmlmb3Jtc1N5bmMoZ3JvdXAsIHVuaWZvcm1EYXRhKSB7XG4gIGNvbnN0IGZ1bmNGcmFnbWVudHMgPSBbYFxuICAgICAgICB2YXIgdiA9IG51bGw7XG4gICAgICAgIHZhciBjdiA9IG51bGw7XG4gICAgICAgIHZhciBjdSA9IG51bGw7XG4gICAgICAgIHZhciB0ID0gMDtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgYF07XG4gIGZvciAoY29uc3QgaSBpbiBncm91cC51bmlmb3Jtcykge1xuICAgIGNvbnN0IGRhdGEgPSB1bmlmb3JtRGF0YVtpXTtcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXT8uZ3JvdXApIHtcbiAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW2ldLnVibykge1xuICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaChgXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1CdWZmZXJHcm91cCh1di4ke2l9LCAnJHtpfScpO1xuICAgICAgICAgICAgICAgICAgICBgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2goYFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLnN5bmNVbmlmb3JtR3JvdXAodXYuJHtpfSwgc3luY0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICBgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IHVuaWZvcm0gPSBncm91cC51bmlmb3Jtc1tpXTtcbiAgICBsZXQgcGFyc2VkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB1bmlmb3JtUGFyc2Vycy5sZW5ndGg7IGorKykge1xuICAgICAgaWYgKHVuaWZvcm1QYXJzZXJzW2pdLnRlc3QoZGF0YSwgdW5pZm9ybSkpIHtcbiAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKHVuaWZvcm1QYXJzZXJzW2pdLmNvZGUoaSwgdW5pZm9ybSkpO1xuICAgICAgICBwYXJzZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFwYXJzZWQpIHtcbiAgICAgIGNvbnN0IHRlbXBsYXRlVHlwZSA9IGRhdGEuc2l6ZSA9PT0gMSAmJiAhZGF0YS5pc0FycmF5ID8gR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQgOiBHTFNMX1RPX0FSUkFZX1NFVFRFUlM7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRlbXBsYXRlVHlwZVtkYXRhLnR5cGVdLnJlcGxhY2UoXCJsb2NhdGlvblwiLCBgdWRbXCIke2l9XCJdLmxvY2F0aW9uYCk7XG4gICAgICBmdW5jRnJhZ21lbnRzLnB1c2goYFxuICAgICAgICAgICAgY3UgPSB1ZFtcIiR7aX1cIl07XG4gICAgICAgICAgICBjdiA9IGN1LnZhbHVlO1xuICAgICAgICAgICAgdiA9IHV2W1wiJHtpfVwiXTtcbiAgICAgICAgICAgICR7dGVtcGxhdGV9O2ApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwidWRcIiwgXCJ1dlwiLCBcInJlbmRlcmVyXCIsIFwic3luY0RhdGFcIiwgZnVuY0ZyYWdtZW50cy5qb2luKFwiXFxuXCIpKTtcbn1cblxuZXhwb3J0IHsgZ2VuZXJhdGVVbmlmb3Jtc1N5bmMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlVW5pZm9ybXNTeW5jLm1qcy5tYXBcbiIsImltcG9ydCB7IG1hcFNpemUgfSBmcm9tICcuL21hcFNpemUubWpzJztcbmltcG9ydCB7IG1hcFR5cGUgfSBmcm9tICcuL21hcFR5cGUubWpzJztcblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlRGF0YShwcm9ncmFtLCBnbCkge1xuICBjb25zdCBhdHRyaWJ1dGVzID0ge307XG4gIGNvbnN0IHRvdGFsQXR0cmlidXRlcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX0FUVFJJQlVURVMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsQXR0cmlidXRlczsgaSsrKSB7XG4gICAgY29uc3QgYXR0cmliRGF0YSA9IGdsLmdldEFjdGl2ZUF0dHJpYihwcm9ncmFtLCBpKTtcbiAgICBpZiAoYXR0cmliRGF0YS5uYW1lLnN0YXJ0c1dpdGgoXCJnbF9cIikpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCB0eXBlID0gbWFwVHlwZShnbCwgYXR0cmliRGF0YS50eXBlKTtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgdHlwZSxcbiAgICAgIG5hbWU6IGF0dHJpYkRhdGEubmFtZSxcbiAgICAgIHNpemU6IG1hcFNpemUodHlwZSksXG4gICAgICBsb2NhdGlvbjogZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgYXR0cmliRGF0YS5uYW1lKVxuICAgIH07XG4gICAgYXR0cmlidXRlc1thdHRyaWJEYXRhLm5hbWVdID0gZGF0YTtcbiAgfVxuICByZXR1cm4gYXR0cmlidXRlcztcbn1cblxuZXhwb3J0IHsgZ2V0QXR0cmlidXRlRGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0QXR0cmlidXRlRGF0YS5tanMubWFwXG4iLCJpbXBvcnQgeyBQUkVDSVNJT04gfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0VGVzdENvbnRleHQgfSBmcm9tICcuL2dldFRlc3RDb250ZXh0Lm1qcyc7XG5cbmxldCBtYXhGcmFnbWVudFByZWNpc2lvbjtcbmZ1bmN0aW9uIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKCkge1xuICBpZiAoIW1heEZyYWdtZW50UHJlY2lzaW9uKSB7XG4gICAgbWF4RnJhZ21lbnRQcmVjaXNpb24gPSBQUkVDSVNJT04uTUVESVVNO1xuICAgIGNvbnN0IGdsID0gZ2V0VGVzdENvbnRleHQoKTtcbiAgICBpZiAoZ2wpIHtcbiAgICAgIGlmIChnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQpIHtcbiAgICAgICAgY29uc3Qgc2hhZGVyRnJhZ21lbnQgPSBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2wuRlJBR01FTlRfU0hBREVSLCBnbC5ISUdIX0ZMT0FUKTtcbiAgICAgICAgbWF4RnJhZ21lbnRQcmVjaXNpb24gPSBzaGFkZXJGcmFnbWVudC5wcmVjaXNpb24gPyBQUkVDSVNJT04uSElHSCA6IFBSRUNJU0lPTi5NRURJVU07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXhGcmFnbWVudFByZWNpc2lvbjtcbn1cblxuZXhwb3J0IHsgZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldE1heEZyYWdtZW50UHJlY2lzaW9uLm1qcy5tYXBcbiIsImltcG9ydCB7IEVOViB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuY29uc3QgdW5rbm93bkNvbnRleHQgPSB7fTtcbmxldCBjb250ZXh0ID0gdW5rbm93bkNvbnRleHQ7XG5mdW5jdGlvbiBnZXRUZXN0Q29udGV4dCgpIHtcbiAgaWYgKGNvbnRleHQgPT09IHVua25vd25Db250ZXh0IHx8IGNvbnRleHQ/LmlzQ29udGV4dExvc3QoKSkge1xuICAgIGNvbnN0IGNhbnZhcyA9IHNldHRpbmdzLkFEQVBURVIuY3JlYXRlQ2FudmFzKCk7XG4gICAgbGV0IGdsO1xuICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID49IEVOVi5XRUJHTDIpIHtcbiAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbDJcIiwge30pO1xuICAgIH1cbiAgICBpZiAoIWdsKSB7XG4gICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIiwge30pIHx8IGNhbnZhcy5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsIHt9KTtcbiAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgZ2wgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfZHJhd19idWZmZXJzXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb250ZXh0ID0gZ2w7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbmV4cG9ydCB7IGdldFRlc3RDb250ZXh0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRUZXN0Q29udGV4dC5tanMubWFwXG4iLCJpbXBvcnQgeyBkZWZhdWx0VmFsdWUgfSBmcm9tICcuL2RlZmF1bHRWYWx1ZS5tanMnO1xuaW1wb3J0IHsgbWFwVHlwZSB9IGZyb20gJy4vbWFwVHlwZS5tanMnO1xuXG5mdW5jdGlvbiBnZXRVbmlmb3JtRGF0YShwcm9ncmFtLCBnbCkge1xuICBjb25zdCB1bmlmb3JtcyA9IHt9O1xuICBjb25zdCB0b3RhbFVuaWZvcm1zID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsVW5pZm9ybXM7IGkrKykge1xuICAgIGNvbnN0IHVuaWZvcm1EYXRhID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybShwcm9ncmFtLCBpKTtcbiAgICBjb25zdCBuYW1lID0gdW5pZm9ybURhdGEubmFtZS5yZXBsYWNlKC9cXFsuKj9cXF0kLywgXCJcIik7XG4gICAgY29uc3QgaXNBcnJheSA9ICEhdW5pZm9ybURhdGEubmFtZS5tYXRjaCgvXFxbLio/XFxdJC8pO1xuICAgIGNvbnN0IHR5cGUgPSBtYXBUeXBlKGdsLCB1bmlmb3JtRGF0YS50eXBlKTtcbiAgICB1bmlmb3Jtc1tuYW1lXSA9IHtcbiAgICAgIG5hbWUsXG4gICAgICBpbmRleDogaSxcbiAgICAgIHR5cGUsXG4gICAgICBzaXplOiB1bmlmb3JtRGF0YS5zaXplLFxuICAgICAgaXNBcnJheSxcbiAgICAgIHZhbHVlOiBkZWZhdWx0VmFsdWUodHlwZSwgdW5pZm9ybURhdGEuc2l6ZSlcbiAgICB9O1xuICB9XG4gIHJldHVybiB1bmlmb3Jtcztcbn1cblxuZXhwb3J0IHsgZ2V0VW5pZm9ybURhdGEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFVuaWZvcm1EYXRhLm1qcy5tYXBcbiIsImV4cG9ydCB7IGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIgfSBmcm9tICcuL2NoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIubWpzJztcbmV4cG9ydCB7IGNvbXBpbGVTaGFkZXIgfSBmcm9tICcuL2NvbXBpbGVTaGFkZXIubWpzJztcbmV4cG9ydCB7IGRlZmF1bHRWYWx1ZSB9IGZyb20gJy4vZGVmYXVsdFZhbHVlLm1qcyc7XG5leHBvcnQgeyBnZW5lcmF0ZVVuaWZvcm1zU3luYyB9IGZyb20gJy4vZ2VuZXJhdGVVbmlmb3Jtc1N5bmMubWpzJztcbmV4cG9ydCB7IGdldE1heEZyYWdtZW50UHJlY2lzaW9uIH0gZnJvbSAnLi9nZXRNYXhGcmFnbWVudFByZWNpc2lvbi5tanMnO1xuZXhwb3J0IHsgZ2V0VGVzdENvbnRleHQgfSBmcm9tICcuL2dldFRlc3RDb250ZXh0Lm1qcyc7XG5leHBvcnQgeyBsb2dQcm9ncmFtRXJyb3IgfSBmcm9tICcuL2xvZ1Byb2dyYW1FcnJvci5tanMnO1xuZXhwb3J0IHsgbWFwU2l6ZSB9IGZyb20gJy4vbWFwU2l6ZS5tanMnO1xuZXhwb3J0IHsgbWFwVHlwZSB9IGZyb20gJy4vbWFwVHlwZS5tanMnO1xuZXhwb3J0IHsgc2V0UHJlY2lzaW9uIH0gZnJvbSAnLi9zZXRQcmVjaXNpb24ubWpzJztcbmV4cG9ydCB7IHVuaWZvcm1QYXJzZXJzIH0gZnJvbSAnLi91bmlmb3JtUGFyc2Vycy5tanMnO1xuZXhwb3J0IHsgdW5zYWZlRXZhbFN1cHBvcnRlZCB9IGZyb20gJy4vdW5zYWZlRXZhbFN1cHBvcnRlZC5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiZnVuY3Rpb24gbG9nUHJldHR5U2hhZGVyRXJyb3IoZ2wsIHNoYWRlcikge1xuICBjb25zdCBzaGFkZXJTcmMgPSBnbC5nZXRTaGFkZXJTb3VyY2Uoc2hhZGVyKS5zcGxpdChcIlxcblwiKS5tYXAoKGxpbmUsIGluZGV4KSA9PiBgJHtpbmRleH06ICR7bGluZX1gKTtcbiAgY29uc3Qgc2hhZGVyTG9nID0gZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpO1xuICBjb25zdCBzcGxpdFNoYWRlciA9IHNoYWRlckxvZy5zcGxpdChcIlxcblwiKTtcbiAgY29uc3QgZGVkdXBlID0ge307XG4gIGNvbnN0IGxpbmVOdW1iZXJzID0gc3BsaXRTaGFkZXIubWFwKChsaW5lKSA9PiBwYXJzZUZsb2F0KGxpbmUucmVwbGFjZSgvXkVSUk9SXFw6IDBcXDooW1xcZF0rKVxcOi4qJC8sIFwiJDFcIikpKS5maWx0ZXIoKG4pID0+IHtcbiAgICBpZiAobiAmJiAhZGVkdXBlW25dKSB7XG4gICAgICBkZWR1cGVbbl0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gIGNvbnN0IGxvZ0FyZ3MgPSBbXCJcIl07XG4gIGxpbmVOdW1iZXJzLmZvckVhY2goKG51bWJlcikgPT4ge1xuICAgIHNoYWRlclNyY1tudW1iZXIgLSAxXSA9IGAlYyR7c2hhZGVyU3JjW251bWJlciAtIDFdfSVjYDtcbiAgICBsb2dBcmdzLnB1c2goXCJiYWNrZ3JvdW5kOiAjRkYwMDAwOyBjb2xvcjojRkZGRkZGOyBmb250LXNpemU6IDEwcHhcIiwgXCJmb250LXNpemU6IDEwcHhcIik7XG4gIH0pO1xuICBjb25zdCBmcmFnbWVudFNvdXJjZVRvTG9nID0gc2hhZGVyU3JjLmpvaW4oXCJcXG5cIik7XG4gIGxvZ0FyZ3NbMF0gPSBmcmFnbWVudFNvdXJjZVRvTG9nO1xuICBjb25zb2xlLmVycm9yKHNoYWRlckxvZyk7XG4gIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXCJjbGljayB0byB2aWV3IGZ1bGwgc2hhZGVyIGNvZGVcIik7XG4gIGNvbnNvbGUud2FybiguLi5sb2dBcmdzKTtcbiAgY29uc29sZS5ncm91cEVuZCgpO1xufVxuZnVuY3Rpb24gbG9nUHJvZ3JhbUVycm9yKGdsLCBwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKSB7XG4gIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpIHtcbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcih2ZXJ0ZXhTaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgbG9nUHJldHR5U2hhZGVyRXJyb3IoZ2wsIHZlcnRleFNoYWRlcik7XG4gICAgfVxuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGZyYWdtZW50U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgIGxvZ1ByZXR0eVNoYWRlckVycm9yKGdsLCBmcmFnbWVudFNoYWRlcik7XG4gICAgfVxuICAgIGNvbnNvbGUuZXJyb3IoXCJQaXhpSlMgRXJyb3I6IENvdWxkIG5vdCBpbml0aWFsaXplIHNoYWRlci5cIik7XG4gICAgaWYgKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pICE9PSBcIlwiKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJQaXhpSlMgV2FybmluZzogZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coKVwiLCBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IGxvZ1Byb2dyYW1FcnJvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nUHJvZ3JhbUVycm9yLm1qcy5tYXBcbiIsImNvbnN0IEdMU0xfVE9fU0laRSA9IHtcbiAgZmxvYXQ6IDEsXG4gIHZlYzI6IDIsXG4gIHZlYzM6IDMsXG4gIHZlYzQ6IDQsXG4gIGludDogMSxcbiAgaXZlYzI6IDIsXG4gIGl2ZWMzOiAzLFxuICBpdmVjNDogNCxcbiAgdWludDogMSxcbiAgdXZlYzI6IDIsXG4gIHV2ZWMzOiAzLFxuICB1dmVjNDogNCxcbiAgYm9vbDogMSxcbiAgYnZlYzI6IDIsXG4gIGJ2ZWMzOiAzLFxuICBidmVjNDogNCxcbiAgbWF0MjogNCxcbiAgbWF0MzogOSxcbiAgbWF0NDogMTYsXG4gIHNhbXBsZXIyRDogMVxufTtcbmZ1bmN0aW9uIG1hcFNpemUodHlwZSkge1xuICByZXR1cm4gR0xTTF9UT19TSVpFW3R5cGVdO1xufVxuXG5leHBvcnQgeyBtYXBTaXplIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBTaXplLm1qcy5tYXBcbiIsImxldCBHTF9UQUJMRSA9IG51bGw7XG5jb25zdCBHTF9UT19HTFNMX1RZUEVTID0ge1xuICBGTE9BVDogXCJmbG9hdFwiLFxuICBGTE9BVF9WRUMyOiBcInZlYzJcIixcbiAgRkxPQVRfVkVDMzogXCJ2ZWMzXCIsXG4gIEZMT0FUX1ZFQzQ6IFwidmVjNFwiLFxuICBJTlQ6IFwiaW50XCIsXG4gIElOVF9WRUMyOiBcIml2ZWMyXCIsXG4gIElOVF9WRUMzOiBcIml2ZWMzXCIsXG4gIElOVF9WRUM0OiBcIml2ZWM0XCIsXG4gIFVOU0lHTkVEX0lOVDogXCJ1aW50XCIsXG4gIFVOU0lHTkVEX0lOVF9WRUMyOiBcInV2ZWMyXCIsXG4gIFVOU0lHTkVEX0lOVF9WRUMzOiBcInV2ZWMzXCIsXG4gIFVOU0lHTkVEX0lOVF9WRUM0OiBcInV2ZWM0XCIsXG4gIEJPT0w6IFwiYm9vbFwiLFxuICBCT09MX1ZFQzI6IFwiYnZlYzJcIixcbiAgQk9PTF9WRUMzOiBcImJ2ZWMzXCIsXG4gIEJPT0xfVkVDNDogXCJidmVjNFwiLFxuICBGTE9BVF9NQVQyOiBcIm1hdDJcIixcbiAgRkxPQVRfTUFUMzogXCJtYXQzXCIsXG4gIEZMT0FUX01BVDQ6IFwibWF0NFwiLFxuICBTQU1QTEVSXzJEOiBcInNhbXBsZXIyRFwiLFxuICBJTlRfU0FNUExFUl8yRDogXCJzYW1wbGVyMkRcIixcbiAgVU5TSUdORURfSU5UX1NBTVBMRVJfMkQ6IFwic2FtcGxlcjJEXCIsXG4gIFNBTVBMRVJfQ1VCRTogXCJzYW1wbGVyQ3ViZVwiLFxuICBJTlRfU0FNUExFUl9DVUJFOiBcInNhbXBsZXJDdWJlXCIsXG4gIFVOU0lHTkVEX0lOVF9TQU1QTEVSX0NVQkU6IFwic2FtcGxlckN1YmVcIixcbiAgU0FNUExFUl8yRF9BUlJBWTogXCJzYW1wbGVyMkRBcnJheVwiLFxuICBJTlRfU0FNUExFUl8yRF9BUlJBWTogXCJzYW1wbGVyMkRBcnJheVwiLFxuICBVTlNJR05FRF9JTlRfU0FNUExFUl8yRF9BUlJBWTogXCJzYW1wbGVyMkRBcnJheVwiXG59O1xuZnVuY3Rpb24gbWFwVHlwZShnbCwgdHlwZSkge1xuICBpZiAoIUdMX1RBQkxFKSB7XG4gICAgY29uc3QgdHlwZU5hbWVzID0gT2JqZWN0LmtleXMoR0xfVE9fR0xTTF9UWVBFUyk7XG4gICAgR0xfVEFCTEUgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVOYW1lcy5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgdG4gPSB0eXBlTmFtZXNbaV07XG4gICAgICBHTF9UQUJMRVtnbFt0bl1dID0gR0xfVE9fR0xTTF9UWVBFU1t0bl07XG4gICAgfVxuICB9XG4gIHJldHVybiBHTF9UQUJMRVt0eXBlXTtcbn1cblxuZXhwb3J0IHsgbWFwVHlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwVHlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBQUkVDSVNJT04gfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5mdW5jdGlvbiBzZXRQcmVjaXNpb24oc3JjLCByZXF1ZXN0ZWRQcmVjaXNpb24sIG1heFN1cHBvcnRlZFByZWNpc2lvbikge1xuICBpZiAoc3JjLnN1YnN0cmluZygwLCA5KSAhPT0gXCJwcmVjaXNpb25cIikge1xuICAgIGxldCBwcmVjaXNpb24gPSByZXF1ZXN0ZWRQcmVjaXNpb247XG4gICAgaWYgKHJlcXVlc3RlZFByZWNpc2lvbiA9PT0gUFJFQ0lTSU9OLkhJR0ggJiYgbWF4U3VwcG9ydGVkUHJlY2lzaW9uICE9PSBQUkVDSVNJT04uSElHSCkge1xuICAgICAgcHJlY2lzaW9uID0gUFJFQ0lTSU9OLk1FRElVTTtcbiAgICB9XG4gICAgcmV0dXJuIGBwcmVjaXNpb24gJHtwcmVjaXNpb259IGZsb2F0O1xuJHtzcmN9YDtcbiAgfSBlbHNlIGlmIChtYXhTdXBwb3J0ZWRQcmVjaXNpb24gIT09IFBSRUNJU0lPTi5ISUdIICYmIHNyYy5zdWJzdHJpbmcoMCwgMTUpID09PSBcInByZWNpc2lvbiBoaWdocFwiKSB7XG4gICAgcmV0dXJuIHNyYy5yZXBsYWNlKFwicHJlY2lzaW9uIGhpZ2hwXCIsIFwicHJlY2lzaW9uIG1lZGl1bXBcIik7XG4gIH1cbiAgcmV0dXJuIHNyYztcbn1cblxuZXhwb3J0IHsgc2V0UHJlY2lzaW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXRQcmVjaXNpb24ubWpzLm1hcFxuIiwiY29uc3QgdW5pZm9ybVBhcnNlcnMgPSBbXG4gIHtcbiAgICB0ZXN0OiAoZGF0YSkgPT4gZGF0YS50eXBlID09PSBcImZsb2F0XCIgJiYgZGF0YS5zaXplID09PSAxICYmICFkYXRhLmlzQXJyYXksXG4gICAgY29kZTogKG5hbWUpID0+IGBcbiAgICAgICAgICAgIGlmKHV2W1wiJHtuYW1lfVwiXSAhPT0gdWRbXCIke25hbWV9XCJdLnZhbHVlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVkW1wiJHtuYW1lfVwiXS52YWx1ZSA9IHV2W1wiJHtuYW1lfVwiXVxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih1ZFtcIiR7bmFtZX1cIl0ubG9jYXRpb24sIHV2W1wiJHtuYW1lfVwiXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGBcbiAgfSxcbiAge1xuICAgIHRlc3Q6IChkYXRhLCB1bmlmb3JtKSA9PiAoZGF0YS50eXBlID09PSBcInNhbXBsZXIyRFwiIHx8IGRhdGEudHlwZSA9PT0gXCJzYW1wbGVyQ3ViZVwiIHx8IGRhdGEudHlwZSA9PT0gXCJzYW1wbGVyMkRBcnJheVwiKSAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheSAmJiAodW5pZm9ybSA9PSBudWxsIHx8IHVuaWZvcm0uY2FzdFRvQmFzZVRleHR1cmUgIT09IHZvaWQgMCksXG4gICAgY29kZTogKG5hbWUpID0+IGB0ID0gc3luY0RhdGEudGV4dHVyZUNvdW50Kys7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZCh1dltcIiR7bmFtZX1cIl0sIHQpO1xuXG4gICAgICAgICAgICBpZih1ZFtcIiR7bmFtZX1cIl0udmFsdWUgIT09IHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdWRbXCIke25hbWV9XCJdLnZhbHVlID0gdDtcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodWRbXCIke25hbWV9XCJdLmxvY2F0aW9uLCB0KTtcbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXG4gICAgICAgICAgICB9YFxuICB9LFxuICB7XG4gICAgdGVzdDogKGRhdGEsIHVuaWZvcm0pID0+IGRhdGEudHlwZSA9PT0gXCJtYXQzXCIgJiYgZGF0YS5zaXplID09PSAxICYmICFkYXRhLmlzQXJyYXkgJiYgdW5pZm9ybS5hICE9PSB2b2lkIDAsXG4gICAgY29kZTogKG5hbWUpID0+IGBcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodWRbXCIke25hbWV9XCJdLmxvY2F0aW9uLCBmYWxzZSwgdXZbXCIke25hbWV9XCJdLnRvQXJyYXkodHJ1ZSkpO1xuICAgICAgICAgICAgYCxcbiAgICBjb2RlVWJvOiAobmFtZSkgPT4gYFxuICAgICAgICAgICAgICAgIHZhciAke25hbWV9X21hdHJpeCA9IHV2LiR7bmFtZX0udG9BcnJheSh0cnVlKTtcblxuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9ICR7bmFtZX1fbWF0cml4WzBdO1xuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0KzFdID0gJHtuYW1lfV9tYXRyaXhbMV07XG4gICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQrMl0gPSAke25hbWV9X21hdHJpeFsyXTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyA0XSA9ICR7bmFtZX1fbWF0cml4WzNdO1xuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgNV0gPSAke25hbWV9X21hdHJpeFs0XTtcbiAgICAgICAgICAgICAgICBkYXRhW29mZnNldCArIDZdID0gJHtuYW1lfV9tYXRyaXhbNV07XG4gICAgICAgIFxuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgOF0gPSAke25hbWV9X21hdHJpeFs2XTtcbiAgICAgICAgICAgICAgICBkYXRhW29mZnNldCArIDldID0gJHtuYW1lfV9tYXRyaXhbN107XG4gICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAxMF0gPSAke25hbWV9X21hdHJpeFs4XTtcbiAgICAgICAgICAgIGBcbiAgfSxcbiAge1xuICAgIHRlc3Q6IChkYXRhLCB1bmlmb3JtKSA9PiBkYXRhLnR5cGUgPT09IFwidmVjMlwiICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiAhZGF0YS5pc0FycmF5ICYmIHVuaWZvcm0ueCAhPT0gdm9pZCAwLFxuICAgIGNvZGU6IChuYW1lKSA9PiBgXG4gICAgICAgICAgICAgICAgY3YgPSB1ZFtcIiR7bmFtZX1cIl0udmFsdWU7XG4gICAgICAgICAgICAgICAgdiA9IHV2W1wiJHtuYW1lfVwiXTtcblxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHYueTtcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHVkW1wiJHtuYW1lfVwiXS5sb2NhdGlvbiwgdi54LCB2LnkpO1xuICAgICAgICAgICAgICAgIH1gLFxuICAgIGNvZGVVYm86IChuYW1lKSA9PiBgXG4gICAgICAgICAgICAgICAgdiA9IHV2LiR7bmFtZX07XG5cbiAgICAgICAgICAgICAgICBkYXRhW29mZnNldF0gPSB2Lng7XG4gICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQrMV0gPSB2Lnk7XG4gICAgICAgICAgICBgXG4gIH0sXG4gIHtcbiAgICB0ZXN0OiAoZGF0YSkgPT4gZGF0YS50eXBlID09PSBcInZlYzJcIiAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheSxcbiAgICBjb2RlOiAobmFtZSkgPT4gYFxuICAgICAgICAgICAgICAgIGN2ID0gdWRbXCIke25hbWV9XCJdLnZhbHVlO1xuICAgICAgICAgICAgICAgIHYgPSB1dltcIiR7bmFtZX1cIl07XG5cbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWRbXCIke25hbWV9XCJdLmxvY2F0aW9uLCB2WzBdLCB2WzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgXG4gIH0sXG4gIHtcbiAgICB0ZXN0OiAoZGF0YSwgdW5pZm9ybSkgPT4gZGF0YS50eXBlID09PSBcInZlYzRcIiAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheSAmJiB1bmlmb3JtLndpZHRoICE9PSB2b2lkIDAsXG4gICAgY29kZTogKG5hbWUpID0+IGBcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1wiJHtuYW1lfVwiXS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2ID0gdXZbXCIke25hbWV9XCJdO1xuXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHYueCB8fCBjdlsxXSAhPT0gdi55IHx8IGN2WzJdICE9PSB2LndpZHRoIHx8IGN2WzNdICE9PSB2LmhlaWdodClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHYueTtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMl0gPSB2LndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHYuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYodWRbXCIke25hbWV9XCJdLmxvY2F0aW9uLCB2LngsIHYueSwgdi53aWR0aCwgdi5oZWlnaHQpXG4gICAgICAgICAgICAgICAgfWAsXG4gICAgY29kZVVibzogKG5hbWUpID0+IGBcbiAgICAgICAgICAgICAgICAgICAgdiA9IHV2LiR7bmFtZX07XG5cbiAgICAgICAgICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gdi54O1xuICAgICAgICAgICAgICAgICAgICBkYXRhW29mZnNldCsxXSA9IHYueTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQrMl0gPSB2LndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBkYXRhW29mZnNldCszXSA9IHYuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGBcbiAgfSxcbiAge1xuICAgIHRlc3Q6IChkYXRhLCB1bmlmb3JtKSA9PiBkYXRhLnR5cGUgPT09IFwidmVjNFwiICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiAhZGF0YS5pc0FycmF5ICYmIHVuaWZvcm0ucmVkICE9PSB2b2lkIDAsXG4gICAgY29kZTogKG5hbWUpID0+IGBcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1wiJHtuYW1lfVwiXS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2ID0gdXZbXCIke25hbWV9XCJdO1xuXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHYucmVkIHx8IGN2WzFdICE9PSB2LmdyZWVuIHx8IGN2WzJdICE9PSB2LmJsdWUgfHwgY3ZbM10gIT09IHYuYWxwaGEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYucmVkO1xuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHYuZ3JlZW47XG4gICAgICAgICAgICAgICAgICAgIGN2WzJdID0gdi5ibHVlO1xuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHYuYWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZFtcIiR7bmFtZX1cIl0ubG9jYXRpb24sIHYucmVkLCB2LmdyZWVuLCB2LmJsdWUsIHYuYWxwaGEpXG4gICAgICAgICAgICAgICAgfWAsXG4gICAgY29kZVVibzogKG5hbWUpID0+IGBcbiAgICAgICAgICAgICAgICAgICAgdiA9IHV2LiR7bmFtZX07XG5cbiAgICAgICAgICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gdi5yZWQ7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0KzFdID0gdi5ncmVlbjtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQrMl0gPSB2LmJsdWU7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0KzNdID0gdi5hbHBoYTtcbiAgICAgICAgICAgICAgICBgXG4gIH0sXG4gIHtcbiAgICB0ZXN0OiAoZGF0YSwgdW5pZm9ybSkgPT4gZGF0YS50eXBlID09PSBcInZlYzNcIiAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheSAmJiB1bmlmb3JtLnJlZCAhPT0gdm9pZCAwLFxuICAgIGNvZGU6IChuYW1lKSA9PiBgXG4gICAgICAgICAgICAgICAgY3YgPSB1ZFtcIiR7bmFtZX1cIl0udmFsdWU7XG4gICAgICAgICAgICAgICAgdiA9IHV2W1wiJHtuYW1lfVwiXTtcblxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnJlZCB8fCBjdlsxXSAhPT0gdi5ncmVlbiB8fCBjdlsyXSAhPT0gdi5ibHVlIHx8IGN2WzNdICE9PSB2LmEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYucmVkO1xuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHYuZ3JlZW47XG4gICAgICAgICAgICAgICAgICAgIGN2WzJdID0gdi5ibHVlO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2YodWRbXCIke25hbWV9XCJdLmxvY2F0aW9uLCB2LnJlZCwgdi5ncmVlbiwgdi5ibHVlKVxuICAgICAgICAgICAgICAgIH1gLFxuICAgIGNvZGVVYm86IChuYW1lKSA9PiBgXG4gICAgICAgICAgICAgICAgICAgIHYgPSB1di4ke25hbWV9O1xuXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9IHYucmVkO1xuICAgICAgICAgICAgICAgICAgICBkYXRhW29mZnNldCsxXSA9IHYuZ3JlZW47XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0KzJdID0gdi5ibHVlO1xuICAgICAgICAgICAgICAgIGBcbiAgfSxcbiAge1xuICAgIHRlc3Q6IChkYXRhKSA9PiBkYXRhLnR5cGUgPT09IFwidmVjNFwiICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiAhZGF0YS5pc0FycmF5LFxuICAgIGNvZGU6IChuYW1lKSA9PiBgXG4gICAgICAgICAgICAgICAgY3YgPSB1ZFtcIiR7bmFtZX1cIl0udmFsdWU7XG4gICAgICAgICAgICAgICAgdiA9IHV2W1wiJHtuYW1lfVwiXTtcblxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdIHx8IGN2WzNdICE9PSB2WzNdKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMF0gPSB2WzBdO1xuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHZbMV07XG4gICAgICAgICAgICAgICAgICAgIGN2WzJdID0gdlsyXTtcbiAgICAgICAgICAgICAgICAgICAgY3ZbM10gPSB2WzNdO1xuXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZFtcIiR7bmFtZX1cIl0ubG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pXG4gICAgICAgICAgICAgICAgfWBcbiAgfVxuXTtcblxuZXhwb3J0IHsgdW5pZm9ybVBhcnNlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuaWZvcm1QYXJzZXJzLm1qcy5tYXBcbiIsImxldCB1bnNhZmVFdmFsO1xuZnVuY3Rpb24gdW5zYWZlRXZhbFN1cHBvcnRlZCgpIHtcbiAgaWYgKHR5cGVvZiB1bnNhZmVFdmFsID09PSBcImJvb2xlYW5cIikge1xuICAgIHJldHVybiB1bnNhZmVFdmFsO1xuICB9XG4gIHRyeSB7XG4gICAgY29uc3QgZnVuYyA9IG5ldyBGdW5jdGlvbihcInBhcmFtMVwiLCBcInBhcmFtMlwiLCBcInBhcmFtM1wiLCBcInJldHVybiBwYXJhbTFbcGFyYW0yXSA9PT0gcGFyYW0zO1wiKTtcbiAgICB1bnNhZmVFdmFsID0gZnVuYyh7IGE6IFwiYlwiIH0sIFwiYVwiLCBcImJcIikgPT09IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB1bnNhZmVFdmFsID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHVuc2FmZUV2YWw7XG59XG5cbmV4cG9ydCB7IHVuc2FmZUV2YWxTdXBwb3J0ZWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuc2FmZUV2YWxTdXBwb3J0ZWQubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuXG5jbGFzcyBTdGFydHVwU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgcnVuKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHJlbmRlcmVyIH0gPSB0aGlzO1xuICAgIHJlbmRlcmVyLnJ1bm5lcnMuaW5pdC5lbWl0KHJlbmRlcmVyLm9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLmhlbGxvKSB7XG4gICAgICBjb25zb2xlLmxvZyhgUGl4aUpTICR7XCI3LjIuNFwifSAtICR7cmVuZGVyZXIucmVuZGVyZXJMb2dJZH0gLSBodHRwczovL3BpeGlqcy5jb21gKTtcbiAgICB9XG4gICAgcmVuZGVyZXIucmVzaXplKHJlbmRlcmVyLnNjcmVlbi53aWR0aCwgcmVuZGVyZXIuc2NyZWVuLmhlaWdodCk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgfVxufVxuU3RhcnR1cFN5c3RlbS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgaGVsbG86IGZhbHNlXG59O1xuU3RhcnR1cFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUmVuZGVyZXJTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJzdGFydHVwXCJcbn07XG5leHRlbnNpb25zLmFkZChTdGFydHVwU3lzdGVtKTtcblxuZXhwb3J0IHsgU3RhcnR1cFN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhcnR1cFN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmNvbnN0IEJMRU5EID0gMDtcbmNvbnN0IE9GRlNFVCA9IDE7XG5jb25zdCBDVUxMSU5HID0gMjtcbmNvbnN0IERFUFRIX1RFU1QgPSAzO1xuY29uc3QgV0lORElORyA9IDQ7XG5jb25zdCBERVBUSF9NQVNLID0gNTtcbmNsYXNzIFN0YXRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5kYXRhID0gMDtcbiAgICB0aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICB0aGlzLnBvbHlnb25PZmZzZXQgPSAwO1xuICAgIHRoaXMuYmxlbmQgPSB0cnVlO1xuICAgIHRoaXMuZGVwdGhNYXNrID0gdHJ1ZTtcbiAgfVxuICBnZXQgYmxlbmQoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgQkxFTkQpO1xuICB9XG4gIHNldCBibGVuZCh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IEJMRU5EKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IEJMRU5EO1xuICAgIH1cbiAgfVxuICBnZXQgb2Zmc2V0cygpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBPRkZTRVQpO1xuICB9XG4gIHNldCBvZmZzZXRzKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgT0ZGU0VUKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IE9GRlNFVDtcbiAgICB9XG4gIH1cbiAgZ2V0IGN1bGxpbmcoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgQ1VMTElORyk7XG4gIH1cbiAgc2V0IGN1bGxpbmcodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBDVUxMSU5HKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IENVTExJTkc7XG4gICAgfVxuICB9XG4gIGdldCBkZXB0aFRlc3QoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgREVQVEhfVEVTVCk7XG4gIH1cbiAgc2V0IGRlcHRoVGVzdCh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IERFUFRIX1RFU1QpICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgREVQVEhfVEVTVDtcbiAgICB9XG4gIH1cbiAgZ2V0IGRlcHRoTWFzaygpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBERVBUSF9NQVNLKTtcbiAgfVxuICBzZXQgZGVwdGhNYXNrKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgREVQVEhfTUFTSykgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBERVBUSF9NQVNLO1xuICAgIH1cbiAgfVxuICBnZXQgY2xvY2t3aXNlRnJvbnRGYWNlKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IFdJTkRJTkcpO1xuICB9XG4gIHNldCBjbG9ja3dpc2VGcm9udEZhY2UodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBXSU5ESU5HKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IFdJTkRJTkc7XG4gICAgfVxuICB9XG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JsZW5kTW9kZTtcbiAgfVxuICBzZXQgYmxlbmRNb2RlKHZhbHVlKSB7XG4gICAgdGhpcy5ibGVuZCA9IHZhbHVlICE9PSBCTEVORF9NT0RFUy5OT05FO1xuICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICB9XG4gIGdldCBwb2x5Z29uT2Zmc2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9wb2x5Z29uT2Zmc2V0O1xuICB9XG4gIHNldCBwb2x5Z29uT2Zmc2V0KHZhbHVlKSB7XG4gICAgdGhpcy5vZmZzZXRzID0gISF2YWx1ZTtcbiAgICB0aGlzLl9wb2x5Z29uT2Zmc2V0ID0gdmFsdWU7XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGBbQHBpeGkvY29yZTpTdGF0ZSBibGVuZE1vZGU9JHt0aGlzLmJsZW5kTW9kZX0gY2xvY2t3aXNlRnJvbnRGYWNlPSR7dGhpcy5jbG9ja3dpc2VGcm9udEZhY2V9IGN1bGxpbmc9JHt0aGlzLmN1bGxpbmd9IGRlcHRoTWFzaz0ke3RoaXMuZGVwdGhNYXNrfSBwb2x5Z29uT2Zmc2V0PSR7dGhpcy5wb2x5Z29uT2Zmc2V0fV1gO1xuICB9XG4gIHN0YXRpYyBmb3IyZCgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgIHN0YXRlLmRlcHRoVGVzdCA9IGZhbHNlO1xuICAgIHN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cblxuZXhwb3J0IHsgU3RhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0YXRlLm1qcy5tYXBcbiIsImltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi9TdGF0ZS5tanMnO1xuaW1wb3J0IHsgbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpIH0gZnJvbSAnLi91dGlscy9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkubWpzJztcblxuY29uc3QgQkxFTkQgPSAwO1xuY29uc3QgT0ZGU0VUID0gMTtcbmNvbnN0IENVTExJTkcgPSAyO1xuY29uc3QgREVQVEhfVEVTVCA9IDM7XG5jb25zdCBXSU5ESU5HID0gNDtcbmNvbnN0IERFUFRIX01BU0sgPSA1O1xuY29uc3QgX1N0YXRlU3lzdGVtID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmdsID0gbnVsbDtcbiAgICB0aGlzLnN0YXRlSWQgPSAwO1xuICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG4gICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT05FO1xuICAgIHRoaXMuX2JsZW5kRXEgPSBmYWxzZTtcbiAgICB0aGlzLm1hcCA9IFtdO1xuICAgIHRoaXMubWFwW0JMRU5EXSA9IHRoaXMuc2V0QmxlbmQ7XG4gICAgdGhpcy5tYXBbT0ZGU0VUXSA9IHRoaXMuc2V0T2Zmc2V0O1xuICAgIHRoaXMubWFwW0NVTExJTkddID0gdGhpcy5zZXRDdWxsRmFjZTtcbiAgICB0aGlzLm1hcFtERVBUSF9URVNUXSA9IHRoaXMuc2V0RGVwdGhUZXN0O1xuICAgIHRoaXMubWFwW1dJTkRJTkddID0gdGhpcy5zZXRGcm9udEZhY2U7XG4gICAgdGhpcy5tYXBbREVQVEhfTUFTS10gPSB0aGlzLnNldERlcHRoTWFzaztcbiAgICB0aGlzLmNoZWNrcyA9IFtdO1xuICAgIHRoaXMuZGVmYXVsdFN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgdGhpcy5kZWZhdWx0U3RhdGUuYmxlbmQgPSB0cnVlO1xuICB9XG4gIGNvbnRleHRDaGFuZ2UoZ2wpIHtcbiAgICB0aGlzLmdsID0gZ2w7XG4gICAgdGhpcy5ibGVuZE1vZGVzID0gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsKTtcbiAgICB0aGlzLnNldCh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG4gIHNldChzdGF0ZSkge1xuICAgIHN0YXRlID0gc3RhdGUgfHwgdGhpcy5kZWZhdWx0U3RhdGU7XG4gICAgaWYgKHRoaXMuc3RhdGVJZCAhPT0gc3RhdGUuZGF0YSkge1xuICAgICAgbGV0IGRpZmYgPSB0aGlzLnN0YXRlSWQgXiBzdGF0ZS5kYXRhO1xuICAgICAgbGV0IGkgPSAwO1xuICAgICAgd2hpbGUgKGRpZmYpIHtcbiAgICAgICAgaWYgKGRpZmYgJiAxKSB7XG4gICAgICAgICAgdGhpcy5tYXBbaV0uY2FsbCh0aGlzLCAhIShzdGF0ZS5kYXRhICYgMSA8PCBpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZGlmZiA9IGRpZmYgPj4gMTtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgICAgdGhpcy5zdGF0ZUlkID0gc3RhdGUuZGF0YTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoZWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5jaGVja3NbaV0odGhpcywgc3RhdGUpO1xuICAgIH1cbiAgfVxuICBmb3JjZVN0YXRlKHN0YXRlKSB7XG4gICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWFwLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLm1hcFtpXS5jYWxsKHRoaXMsICEhKHN0YXRlLmRhdGEgJiAxIDw8IGkpKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoZWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5jaGVja3NbaV0odGhpcywgc3RhdGUpO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlSWQgPSBzdGF0ZS5kYXRhO1xuICB9XG4gIHNldEJsZW5kKHZhbHVlKSB7XG4gICAgdGhpcy51cGRhdGVDaGVjayhfU3RhdGVTeXN0ZW0uY2hlY2tCbGVuZE1vZGUsIHZhbHVlKTtcbiAgICB0aGlzLmdsW3ZhbHVlID8gXCJlbmFibGVcIiA6IFwiZGlzYWJsZVwiXSh0aGlzLmdsLkJMRU5EKTtcbiAgfVxuICBzZXRPZmZzZXQodmFsdWUpIHtcbiAgICB0aGlzLnVwZGF0ZUNoZWNrKF9TdGF0ZVN5c3RlbS5jaGVja1BvbHlnb25PZmZzZXQsIHZhbHVlKTtcbiAgICB0aGlzLmdsW3ZhbHVlID8gXCJlbmFibGVcIiA6IFwiZGlzYWJsZVwiXSh0aGlzLmdsLlBPTFlHT05fT0ZGU0VUX0ZJTEwpO1xuICB9XG4gIHNldERlcHRoVGVzdCh2YWx1ZSkge1xuICAgIHRoaXMuZ2xbdmFsdWUgPyBcImVuYWJsZVwiIDogXCJkaXNhYmxlXCJdKHRoaXMuZ2wuREVQVEhfVEVTVCk7XG4gIH1cbiAgc2V0RGVwdGhNYXNrKHZhbHVlKSB7XG4gICAgdGhpcy5nbC5kZXB0aE1hc2sodmFsdWUpO1xuICB9XG4gIHNldEN1bGxGYWNlKHZhbHVlKSB7XG4gICAgdGhpcy5nbFt2YWx1ZSA/IFwiZW5hYmxlXCIgOiBcImRpc2FibGVcIl0odGhpcy5nbC5DVUxMX0ZBQ0UpO1xuICB9XG4gIHNldEZyb250RmFjZSh2YWx1ZSkge1xuICAgIHRoaXMuZ2wuZnJvbnRGYWNlKHRoaXMuZ2xbdmFsdWUgPyBcIkNXXCIgOiBcIkNDV1wiXSk7XG4gIH1cbiAgc2V0QmxlbmRNb2RlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB0aGlzLmJsZW5kTW9kZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgIGNvbnN0IG1vZGUgPSB0aGlzLmJsZW5kTW9kZXNbdmFsdWVdO1xuICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICBpZiAobW9kZS5sZW5ndGggPT09IDIpIHtcbiAgICAgIGdsLmJsZW5kRnVuYyhtb2RlWzBdLCBtb2RlWzFdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2wuYmxlbmRGdW5jU2VwYXJhdGUobW9kZVswXSwgbW9kZVsxXSwgbW9kZVsyXSwgbW9kZVszXSk7XG4gICAgfVxuICAgIGlmIChtb2RlLmxlbmd0aCA9PT0gNikge1xuICAgICAgdGhpcy5fYmxlbmRFcSA9IHRydWU7XG4gICAgICBnbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUobW9kZVs0XSwgbW9kZVs1XSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9ibGVuZEVxKSB7XG4gICAgICB0aGlzLl9ibGVuZEVxID0gZmFsc2U7XG4gICAgICBnbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUoZ2wuRlVOQ19BREQsIGdsLkZVTkNfQUREKTtcbiAgICB9XG4gIH1cbiAgc2V0UG9seWdvbk9mZnNldCh2YWx1ZSwgc2NhbGUpIHtcbiAgICB0aGlzLmdsLnBvbHlnb25PZmZzZXQodmFsdWUsIHNjYWxlKTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLmdsLnBpeGVsU3RvcmVpKHRoaXMuZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgZmFsc2UpO1xuICAgIHRoaXMuZm9yY2VTdGF0ZSh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gICAgdGhpcy5fYmxlbmRFcSA9IHRydWU7XG4gICAgdGhpcy5ibGVuZE1vZGUgPSAtMTtcbiAgICB0aGlzLnNldEJsZW5kTW9kZSgwKTtcbiAgfVxuICB1cGRhdGVDaGVjayhmdW5jLCB2YWx1ZSkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jaGVja3MuaW5kZXhPZihmdW5jKTtcbiAgICBpZiAodmFsdWUgJiYgaW5kZXggPT09IC0xKSB7XG4gICAgICB0aGlzLmNoZWNrcy5wdXNoKGZ1bmMpO1xuICAgIH0gZWxzZSBpZiAoIXZhbHVlICYmIGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5jaGVja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cbiAgc3RhdGljIGNoZWNrQmxlbmRNb2RlKHN5c3RlbSwgc3RhdGUpIHtcbiAgICBzeXN0ZW0uc2V0QmxlbmRNb2RlKHN0YXRlLmJsZW5kTW9kZSk7XG4gIH1cbiAgc3RhdGljIGNoZWNrUG9seWdvbk9mZnNldChzeXN0ZW0sIHN0YXRlKSB7XG4gICAgc3lzdGVtLnNldFBvbHlnb25PZmZzZXQoMSwgc3RhdGUucG9seWdvbk9mZnNldCk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmdsID0gbnVsbDtcbiAgfVxufTtcbmxldCBTdGF0ZVN5c3RlbSA9IF9TdGF0ZVN5c3RlbTtcblN0YXRlU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbSxcbiAgbmFtZTogXCJzdGF0ZVwiXG59O1xuZXh0ZW5zaW9ucy5hZGQoU3RhdGVTeXN0ZW0pO1xuXG5leHBvcnQgeyBTdGF0ZVN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhdGVTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5mdW5jdGlvbiBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wsIGFycmF5ID0gW10pIHtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuTk9STUFMXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICBhcnJheVtCTEVORF9NT0RFUy5BRERdID0gW2dsLk9ORSwgZ2wuT05FXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuTVVMVElQTFldID0gW2dsLkRTVF9DT0xPUiwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuU0NSRUVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLk9WRVJMQVldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLkRBUktFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuTElHSFRFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JfRE9ER0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLkNPTE9SX0JVUk5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLkhBUkRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLlNPRlRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLkRJRkZFUkVOQ0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLkVYQ0xVU0lPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuSFVFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICBhcnJheVtCTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuTk9ORV0gPSBbMCwgMF07XG4gIGFycmF5W0JMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuQUREX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORSwgZ2wuT05FXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICBhcnJheVtCTEVORF9NT0RFUy5TUkNfSU5dID0gW2dsLkRTVF9BTFBIQSwgZ2wuWkVST107XG4gIGFycmF5W0JMRU5EX01PREVTLlNSQ19PVVRdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLlpFUk9dO1xuICBhcnJheVtCTEVORF9NT0RFUy5TUkNfQVRPUF0gPSBbZ2wuRFNUX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX09WRVJdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLk9ORV07XG4gIGFycmF5W0JMRU5EX01PREVTLkRTVF9JTl0gPSBbZ2wuWkVSTywgZ2wuU1JDX0FMUEhBXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX09VVF0gPSBbZ2wuWkVSTywgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLkRTVF9BVE9QXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5TUkNfQUxQSEFdO1xuICBhcnJheVtCTEVORF9NT0RFUy5YT1JdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICBhcnJheVtCTEVORF9NT0RFUy5TVUJUUkFDVF0gPSBbZ2wuT05FLCBnbC5PTkUsIGdsLk9ORSwgZ2wuT05FLCBnbC5GVU5DX1JFVkVSU0VfU1VCVFJBQ1QsIGdsLkZVTkNfQUREXTtcbiAgcmV0dXJuIGFycmF5O1xufVxuXG5leHBvcnQgeyBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aS5tanMubWFwXG4iLCJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuY2xhc3MgU3lzdGVtTWFuYWdlciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5ydW5uZXJzID0ge307XG4gICAgdGhpcy5fc3lzdGVtc0hhc2ggPSB7fTtcbiAgfVxuICBzZXR1cChjb25maWcpIHtcbiAgICB0aGlzLmFkZFJ1bm5lcnMoLi4uY29uZmlnLnJ1bm5lcnMpO1xuICAgIGNvbnN0IHByaW9yaXR5ID0gKGNvbmZpZy5wcmlvcml0eSA/PyBbXSkuZmlsdGVyKChrZXkpID0+IGNvbmZpZy5zeXN0ZW1zW2tleV0pO1xuICAgIGNvbnN0IG9yZGVyQnlQcmlvcml0eSA9IFtcbiAgICAgIC4uLnByaW9yaXR5LFxuICAgICAgLi4uT2JqZWN0LmtleXMoY29uZmlnLnN5c3RlbXMpLmZpbHRlcigoa2V5KSA9PiAhcHJpb3JpdHkuaW5jbHVkZXMoa2V5KSlcbiAgICBdO1xuICAgIGZvciAoY29uc3QgaSBvZiBvcmRlckJ5UHJpb3JpdHkpIHtcbiAgICAgIHRoaXMuYWRkU3lzdGVtKGNvbmZpZy5zeXN0ZW1zW2ldLCBpKTtcbiAgICB9XG4gIH1cbiAgYWRkUnVubmVycyguLi5ydW5uZXJJZHMpIHtcbiAgICBydW5uZXJJZHMuZm9yRWFjaCgocnVubmVySWQpID0+IHtcbiAgICAgIHRoaXMucnVubmVyc1tydW5uZXJJZF0gPSBuZXcgUnVubmVyKHJ1bm5lcklkKTtcbiAgICB9KTtcbiAgfVxuICBhZGRTeXN0ZW0oQ2xhc3NSZWYsIG5hbWUpIHtcbiAgICBjb25zdCBzeXN0ZW0gPSBuZXcgQ2xhc3NSZWYodGhpcyk7XG4gICAgaWYgKHRoaXNbbmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgV2hvb3BzISBUaGUgbmFtZSBcIiR7bmFtZX1cIiBpcyBhbHJlYWR5IGluIHVzZWApO1xuICAgIH1cbiAgICB0aGlzW25hbWVdID0gc3lzdGVtO1xuICAgIHRoaXMuX3N5c3RlbXNIYXNoW25hbWVdID0gc3lzdGVtO1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLnJ1bm5lcnMpIHtcbiAgICAgIHRoaXMucnVubmVyc1tpXS5hZGQoc3lzdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZW1pdFdpdGhDdXN0b21PcHRpb25zKHJ1bm5lciwgb3B0aW9ucykge1xuICAgIGNvbnN0IHN5c3RlbUhhc2hLZXlzID0gT2JqZWN0LmtleXModGhpcy5fc3lzdGVtc0hhc2gpO1xuICAgIHJ1bm5lci5pdGVtcy5mb3JFYWNoKChzeXN0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHN5c3RlbU5hbWUgPSBzeXN0ZW1IYXNoS2V5cy5maW5kKChzeXN0ZW1JZCkgPT4gdGhpcy5fc3lzdGVtc0hhc2hbc3lzdGVtSWRdID09PSBzeXN0ZW0pO1xuICAgICAgc3lzdGVtW3J1bm5lci5uYW1lXShvcHRpb25zW3N5c3RlbU5hbWVdKTtcbiAgICB9KTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIE9iamVjdC52YWx1ZXModGhpcy5ydW5uZXJzKS5mb3JFYWNoKChydW5uZXIpID0+IHtcbiAgICAgIHJ1bm5lci5kZXN0cm95KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc3lzdGVtc0hhc2ggPSB7fTtcbiAgfVxufVxuXG5leHBvcnQgeyBTeXN0ZW1NYW5hZ2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TeXN0ZW1NYW5hZ2VyLm1qcy5tYXBcbiIsImV4cG9ydCB7IEJhY2tncm91bmRTeXN0ZW0gfSBmcm9tICcuL2JhY2tncm91bmQvQmFja2dyb3VuZFN5c3RlbS5tanMnO1xuZXhwb3J0IHsgQmF0Y2hTeXN0ZW0gfSBmcm9tICcuL2JhdGNoL0JhdGNoU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBDb250ZXh0U3lzdGVtIH0gZnJvbSAnLi9jb250ZXh0L0NvbnRleHRTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IEZpbHRlclN5c3RlbSB9IGZyb20gJy4vZmlsdGVycy9GaWx0ZXJTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IEZyYW1lYnVmZmVyU3lzdGVtIH0gZnJvbSAnLi9mcmFtZWJ1ZmZlci9GcmFtZWJ1ZmZlclN5c3RlbS5tanMnO1xuZXhwb3J0IHsgR2VvbWV0cnlTeXN0ZW0gfSBmcm9tICcuL2dlb21ldHJ5L0dlb21ldHJ5U3lzdGVtLm1qcyc7XG5leHBvcnQgeyBNYXNrU3lzdGVtIH0gZnJvbSAnLi9tYXNrL01hc2tTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFNjaXNzb3JTeXN0ZW0gfSBmcm9tICcuL21hc2svU2Npc3NvclN5c3RlbS5tanMnO1xuZXhwb3J0IHsgU3RlbmNpbFN5c3RlbSB9IGZyb20gJy4vbWFzay9TdGVuY2lsU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBQbHVnaW5TeXN0ZW0gfSBmcm9tICcuL3BsdWdpbi9QbHVnaW5TeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFByb2plY3Rpb25TeXN0ZW0gfSBmcm9tICcuL3Byb2plY3Rpb24vUHJvamVjdGlvblN5c3RlbS5tanMnO1xuZXhwb3J0IHsgR2VuZXJhdGVUZXh0dXJlU3lzdGVtIH0gZnJvbSAnLi9yZW5kZXJUZXh0dXJlL0dlbmVyYXRlVGV4dHVyZVN5c3RlbS5tanMnO1xuZXhwb3J0IHsgUmVuZGVyVGV4dHVyZVN5c3RlbSB9IGZyb20gJy4vcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBTaGFkZXJTeXN0ZW0gfSBmcm9tICcuL3NoYWRlci9TaGFkZXJTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFN0YXJ0dXBTeXN0ZW0gfSBmcm9tICcuL3N0YXJ0dXAvU3RhcnR1cFN5c3RlbS5tanMnO1xuZXhwb3J0IHsgU3RhdGVTeXN0ZW0gfSBmcm9tICcuL3N0YXRlL1N0YXRlU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBTeXN0ZW1NYW5hZ2VyIH0gZnJvbSAnLi9zeXN0ZW0vU3lzdGVtTWFuYWdlci5tanMnO1xuZXhwb3J0IHsgVGV4dHVyZUdDU3lzdGVtIH0gZnJvbSAnLi90ZXh0dXJlcy9UZXh0dXJlR0NTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFRleHR1cmVTeXN0ZW0gfSBmcm9tICcuL3RleHR1cmVzL1RleHR1cmVTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFRyYW5zZm9ybUZlZWRiYWNrU3lzdGVtIH0gZnJvbSAnLi90cmFuc2Zvcm1GZWVkYmFjay9UcmFuc2Zvcm1GZWVkYmFja1N5c3RlbS5tanMnO1xuZXhwb3J0IHsgVmlld1N5c3RlbSB9IGZyb20gJy4vdmlldy9WaWV3U3lzdGVtLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zeXN0ZW1zLm1qcy5tYXBcbiIsImltcG9ydCB7IFNDQUxFX01PREVTLCBGT1JNQVRTLCBBTFBIQV9NT0RFUywgVFlQRVMsIE1JUE1BUF9NT0RFUywgV1JBUF9NT0RFUywgVEFSR0VUUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciwgdWlkLCBpc1BvdzIsIEJhc2VUZXh0dXJlQ2FjaGUsIFRleHR1cmVDYWNoZSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IGF1dG9EZXRlY3RSZXNvdXJjZSB9IGZyb20gJy4vcmVzb3VyY2VzL2F1dG9EZXRlY3RSZXNvdXJjZS5tanMnO1xuaW1wb3J0IHsgQnVmZmVyUmVzb3VyY2UgfSBmcm9tICcuL3Jlc291cmNlcy9CdWZmZXJSZXNvdXJjZS5tanMnO1xuaW1wb3J0IHsgUmVzb3VyY2UgfSBmcm9tICcuL3Jlc291cmNlcy9SZXNvdXJjZS5tanMnO1xuXG5jb25zdCBkZWZhdWx0QnVmZmVyT3B0aW9ucyA9IHtcbiAgc2NhbGVNb2RlOiBTQ0FMRV9NT0RFUy5ORUFSRVNULFxuICBmb3JtYXQ6IEZPUk1BVFMuUkdCQSxcbiAgYWxwaGFNb2RlOiBBTFBIQV9NT0RFUy5OUE1cbn07XG5jb25zdCBfQmFzZVRleHR1cmUgPSBjbGFzcyBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKHJlc291cmNlID0gbnVsbCwgb3B0aW9ucyA9IG51bGwpIHtcbiAgICBzdXBlcigpO1xuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBfQmFzZVRleHR1cmUuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIGNvbnN0IHtcbiAgICAgIGFscGhhTW9kZSxcbiAgICAgIG1pcG1hcCxcbiAgICAgIGFuaXNvdHJvcGljTGV2ZWwsXG4gICAgICBzY2FsZU1vZGUsXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIHdyYXBNb2RlLFxuICAgICAgZm9ybWF0LFxuICAgICAgdHlwZSxcbiAgICAgIHRhcmdldCxcbiAgICAgIHJlc29sdXRpb24sXG4gICAgICByZXNvdXJjZU9wdGlvbnNcbiAgICB9ID0gb3B0aW9ucztcbiAgICBpZiAocmVzb3VyY2UgJiYgIShyZXNvdXJjZSBpbnN0YW5jZW9mIFJlc291cmNlKSkge1xuICAgICAgcmVzb3VyY2UgPSBhdXRvRGV0ZWN0UmVzb3VyY2UocmVzb3VyY2UsIHJlc291cmNlT3B0aW9ucyk7XG4gICAgICByZXNvdXJjZS5pbnRlcm5hbCA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICB0aGlzLndpZHRoID0gTWF0aC5yb3VuZCgod2lkdGggfHwgMCkgKiB0aGlzLnJlc29sdXRpb24pIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5yb3VuZCgoaGVpZ2h0IHx8IDApICogdGhpcy5yZXNvbHV0aW9uKSAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICB0aGlzLl9taXBtYXAgPSBtaXBtYXA7XG4gICAgdGhpcy5hbmlzb3Ryb3BpY0xldmVsID0gYW5pc290cm9waWNMZXZlbDtcbiAgICB0aGlzLl93cmFwTW9kZSA9IHdyYXBNb2RlO1xuICAgIHRoaXMuX3NjYWxlTW9kZSA9IHNjYWxlTW9kZTtcbiAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHRoaXMuYWxwaGFNb2RlID0gYWxwaGFNb2RlO1xuICAgIHRoaXMudWlkID0gdWlkKCk7XG4gICAgdGhpcy50b3VjaGVkID0gMDtcbiAgICB0aGlzLmlzUG93ZXJPZlR3byA9IGZhbHNlO1xuICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcbiAgICB0aGlzLl9nbFRleHR1cmVzID0ge307XG4gICAgdGhpcy5kaXJ0eUlkID0gMDtcbiAgICB0aGlzLmRpcnR5U3R5bGVJZCA9IDA7XG4gICAgdGhpcy5jYWNoZUlkID0gbnVsbDtcbiAgICB0aGlzLnZhbGlkID0gd2lkdGggPiAwICYmIGhlaWdodCA+IDA7XG4gICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcbiAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgIHRoaXMucmVzb3VyY2UgPSBudWxsO1xuICAgIHRoaXMuX2JhdGNoRW5hYmxlZCA9IDA7XG4gICAgdGhpcy5fYmF0Y2hMb2NhdGlvbiA9IDA7XG4gICAgdGhpcy5wYXJlbnRUZXh0dXJlQXJyYXkgPSBudWxsO1xuICAgIHRoaXMuc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuICB9XG4gIGdldCByZWFsV2lkdGgoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy53aWR0aCAqIHRoaXMucmVzb2x1dGlvbik7XG4gIH1cbiAgZ2V0IHJlYWxIZWlnaHQoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pO1xuICB9XG4gIGdldCBtaXBtYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21pcG1hcDtcbiAgfVxuICBzZXQgbWlwbWFwKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX21pcG1hcCAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX21pcG1hcCA9IHZhbHVlO1xuICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IHNjYWxlTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2NhbGVNb2RlO1xuICB9XG4gIHNldCBzY2FsZU1vZGUodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fc2NhbGVNb2RlICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5fc2NhbGVNb2RlID0gdmFsdWU7XG4gICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgIH1cbiAgfVxuICBnZXQgd3JhcE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyYXBNb2RlO1xuICB9XG4gIHNldCB3cmFwTW9kZSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl93cmFwTW9kZSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX3dyYXBNb2RlID0gdmFsdWU7XG4gICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgIH1cbiAgfVxuICBzZXRTdHlsZShzY2FsZU1vZGUsIG1pcG1hcCkge1xuICAgIGxldCBkaXJ0eTtcbiAgICBpZiAoc2NhbGVNb2RlICE9PSB2b2lkIDAgJiYgc2NhbGVNb2RlICE9PSB0aGlzLnNjYWxlTW9kZSkge1xuICAgICAgdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGU7XG4gICAgICBkaXJ0eSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChtaXBtYXAgIT09IHZvaWQgMCAmJiBtaXBtYXAgIT09IHRoaXMubWlwbWFwKSB7XG4gICAgICB0aGlzLm1pcG1hcCA9IG1pcG1hcDtcbiAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGRpcnR5KSB7XG4gICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBzZXRTaXplKGRlc2lyZWRXaWR0aCwgZGVzaXJlZEhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgIHJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHRoaXMucmVzb2x1dGlvbjtcbiAgICByZXR1cm4gdGhpcy5zZXRSZWFsU2l6ZShkZXNpcmVkV2lkdGggKiByZXNvbHV0aW9uLCBkZXNpcmVkSGVpZ2h0ICogcmVzb2x1dGlvbiwgcmVzb2x1dGlvbik7XG4gIH1cbiAgc2V0UmVhbFNpemUocmVhbFdpZHRoLCByZWFsSGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCB0aGlzLnJlc29sdXRpb247XG4gICAgdGhpcy53aWR0aCA9IE1hdGgucm91bmQocmVhbFdpZHRoKSAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICB0aGlzLmhlaWdodCA9IE1hdGgucm91bmQocmVhbEhlaWdodCkgLyB0aGlzLnJlc29sdXRpb247XG4gICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgX3JlZnJlc2hQT1QoKSB7XG4gICAgdGhpcy5pc1Bvd2VyT2ZUd28gPSBpc1BvdzIodGhpcy5yZWFsV2lkdGgpICYmIGlzUG93Mih0aGlzLnJlYWxIZWlnaHQpO1xuICB9XG4gIHNldFJlc29sdXRpb24ocmVzb2x1dGlvbikge1xuICAgIGNvbnN0IG9sZFJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb247XG4gICAgaWYgKG9sZFJlc29sdXRpb24gPT09IHJlc29sdXRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgIGlmICh0aGlzLnZhbGlkKSB7XG4gICAgICB0aGlzLndpZHRoID0gTWF0aC5yb3VuZCh0aGlzLndpZHRoICogb2xkUmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLnJvdW5kKHRoaXMuaGVpZ2h0ICogb2xkUmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgdGhpcy5lbWl0KFwidXBkYXRlXCIsIHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc2V0UmVzb3VyY2UocmVzb3VyY2UpIHtcbiAgICBpZiAodGhpcy5yZXNvdXJjZSA9PT0gcmVzb3VyY2UpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZXNvdXJjZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzb3VyY2UgY2FuIGJlIHNldCBvbmx5IG9uY2VcIik7XG4gICAgfVxuICAgIHJlc291cmNlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZXNvdXJjZSA9IHJlc291cmNlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMudmFsaWQpIHtcbiAgICAgIGlmICh0aGlzLndpZHRoID4gMCAmJiB0aGlzLmhlaWdodCA+IDApIHtcbiAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZW1pdChcImxvYWRlZFwiLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KFwidXBkYXRlXCIsIHRoaXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgICB0aGlzLmVtaXQoXCJ1cGRhdGVcIiwgdGhpcyk7XG4gICAgfVxuICB9XG4gIG9uRXJyb3IoZXZlbnQpIHtcbiAgICB0aGlzLmVtaXQoXCJlcnJvclwiLCB0aGlzLCBldmVudCk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5yZXNvdXJjZSkge1xuICAgICAgdGhpcy5yZXNvdXJjZS51bmJpbmQodGhpcyk7XG4gICAgICBpZiAodGhpcy5yZXNvdXJjZS5pbnRlcm5hbCkge1xuICAgICAgICB0aGlzLnJlc291cmNlLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVzb3VyY2UgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYWNoZUlkKSB7XG4gICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVt0aGlzLmNhY2hlSWRdO1xuICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0aGlzLmNhY2hlSWRdO1xuICAgICAgdGhpcy5jYWNoZUlkID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgX0Jhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG4gICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICB9XG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5lbWl0KFwiZGlzcG9zZVwiLCB0aGlzKTtcbiAgfVxuICBjYXN0VG9CYXNlVGV4dHVyZSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBzdGF0aWMgZnJvbShzb3VyY2UsIG9wdGlvbnMsIHN0cmljdCA9IHNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFKSB7XG4gICAgY29uc3QgaXNGcmFtZSA9IHR5cGVvZiBzb3VyY2UgPT09IFwic3RyaW5nXCI7XG4gICAgbGV0IGNhY2hlSWQgPSBudWxsO1xuICAgIGlmIChpc0ZyYW1lKSB7XG4gICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXNvdXJjZS5fcGl4aUlkKSB7XG4gICAgICAgIGNvbnN0IHByZWZpeCA9IG9wdGlvbnM/LnBpeGlJZFByZWZpeCB8fCBcInBpeGlpZFwiO1xuICAgICAgICBzb3VyY2UuX3BpeGlJZCA9IGAke3ByZWZpeH1fJHt1aWQoKX1gO1xuICAgICAgfVxuICAgICAgY2FjaGVJZCA9IHNvdXJjZS5fcGl4aUlkO1xuICAgIH1cbiAgICBsZXQgYmFzZVRleHR1cmUgPSBCYXNlVGV4dHVyZUNhY2hlW2NhY2hlSWRdO1xuICAgIGlmIChpc0ZyYW1lICYmIHN0cmljdCAmJiAhYmFzZVRleHR1cmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGNhY2hlSWQgXCIke2NhY2hlSWR9XCIgZG9lcyBub3QgZXhpc3QgaW4gQmFzZVRleHR1cmVDYWNoZS5gKTtcbiAgICB9XG4gICAgaWYgKCFiYXNlVGV4dHVyZSkge1xuICAgICAgYmFzZVRleHR1cmUgPSBuZXcgX0Jhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICBiYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcbiAgICAgIF9CYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBjYWNoZUlkKTtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICB9XG4gIHN0YXRpYyBmcm9tQnVmZmVyKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuICAgIGJ1ZmZlciA9IGJ1ZmZlciB8fCBuZXcgRmxvYXQzMkFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7XG4gICAgY29uc3QgcmVzb3VyY2UgPSBuZXcgQnVmZmVyUmVzb3VyY2UoYnVmZmVyLCB7IHdpZHRoLCBoZWlnaHQgfSk7XG4gICAgY29uc3QgdHlwZSA9IGJ1ZmZlciBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSA/IFRZUEVTLkZMT0FUIDogVFlQRVMuVU5TSUdORURfQllURTtcbiAgICByZXR1cm4gbmV3IF9CYXNlVGV4dHVyZShyZXNvdXJjZSwgT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEJ1ZmZlck9wdGlvbnMsIHsgdHlwZSB9LCBvcHRpb25zKSk7XG4gIH1cbiAgc3RhdGljIGFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGlkKSB7XG4gICAgaWYgKGlkKSB7XG4gICAgICBpZiAoIWJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLnB1c2goaWQpO1xuICAgICAgfVxuICAgICAgaWYgKEJhc2VUZXh0dXJlQ2FjaGVbaWRdICYmIEJhc2VUZXh0dXJlQ2FjaGVbaWRdICE9PSBiYXNlVGV4dHVyZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYEJhc2VUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFske2lkfV0gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeWApO1xuICAgICAgfVxuICAgICAgQmFzZVRleHR1cmVDYWNoZVtpZF0gPSBiYXNlVGV4dHVyZTtcbiAgICB9XG4gIH1cbiAgc3RhdGljIHJlbW92ZUZyb21DYWNoZShiYXNlVGV4dHVyZSkge1xuICAgIGlmICh0eXBlb2YgYmFzZVRleHR1cmUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IGJhc2VUZXh0dXJlRnJvbUNhY2hlID0gQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG4gICAgICBpZiAoYmFzZVRleHR1cmVGcm9tQ2FjaGUpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihiYXNlVGV4dHVyZSk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgYmFzZVRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuICAgICAgICByZXR1cm4gYmFzZVRleHR1cmVGcm9tQ2FjaGU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChiYXNlVGV4dHVyZT8udGV4dHVyZUNhY2hlSWRzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgfVxuICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG4gICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xubGV0IEJhc2VUZXh0dXJlID0gX0Jhc2VUZXh0dXJlO1xuQmFzZVRleHR1cmUuZGVmYXVsdE9wdGlvbnMgPSB7XG4gIG1pcG1hcDogTUlQTUFQX01PREVTLlBPVzIsXG4gIGFuaXNvdHJvcGljTGV2ZWw6IDAsXG4gIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTElORUFSLFxuICB3cmFwTW9kZTogV1JBUF9NT0RFUy5DTEFNUCxcbiAgYWxwaGFNb2RlOiBBTFBIQV9NT0RFUy5VTlBBQ0ssXG4gIHRhcmdldDogVEFSR0VUUy5URVhUVVJFXzJELFxuICBmb3JtYXQ6IEZPUk1BVFMuUkdCQSxcbiAgdHlwZTogVFlQRVMuVU5TSUdORURfQllURVxufTtcbkJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IDA7XG5cbmV4cG9ydCB7IEJhc2VUZXh0dXJlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlVGV4dHVyZS5tanMubWFwXG4iLCJpbXBvcnQgeyBUWVBFUywgRk9STUFUUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmNsYXNzIEdMVGV4dHVyZSB7XG4gIGNvbnN0cnVjdG9yKHRleHR1cmUpIHtcbiAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgIHRoaXMud2lkdGggPSAtMTtcbiAgICB0aGlzLmhlaWdodCA9IC0xO1xuICAgIHRoaXMuZGlydHlJZCA9IC0xO1xuICAgIHRoaXMuZGlydHlTdHlsZUlkID0gLTE7XG4gICAgdGhpcy5taXBtYXAgPSBmYWxzZTtcbiAgICB0aGlzLndyYXBNb2RlID0gMzMwNzE7XG4gICAgdGhpcy50eXBlID0gVFlQRVMuVU5TSUdORURfQllURTtcbiAgICB0aGlzLmludGVybmFsRm9ybWF0ID0gRk9STUFUUy5SR0JBO1xuICAgIHRoaXMuc2FtcGxlclR5cGUgPSAwO1xuICB9XG59XG5cbmV4cG9ydCB7IEdMVGV4dHVyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R0xUZXh0dXJlLm1qcy5tYXBcbiIsImltcG9ydCB7IFJlY3RhbmdsZSwgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyLCBUZXh0dXJlQ2FjaGUsIHVpZCwgZ2V0UmVzb2x1dGlvbk9mVXJsIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgQmFzZVRleHR1cmUgfSBmcm9tICcuL0Jhc2VUZXh0dXJlLm1qcyc7XG5pbXBvcnQgeyBJbWFnZVJlc291cmNlIH0gZnJvbSAnLi9yZXNvdXJjZXMvSW1hZ2VSZXNvdXJjZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZVV2cyB9IGZyb20gJy4vVGV4dHVyZVV2cy5tanMnO1xuXG5jb25zdCBERUZBVUxUX1VWUyA9IG5ldyBUZXh0dXJlVXZzKCk7XG5mdW5jdGlvbiByZW1vdmVBbGxIYW5kbGVycyh0ZXgpIHtcbiAgdGV4LmRlc3Ryb3kgPSBmdW5jdGlvbiBfZW1wdHlEZXN0cm95KCkge1xuICB9O1xuICB0ZXgub24gPSBmdW5jdGlvbiBfZW1wdHlPbigpIHtcbiAgfTtcbiAgdGV4Lm9uY2UgPSBmdW5jdGlvbiBfZW1wdHlPbmNlKCkge1xuICB9O1xuICB0ZXguZW1pdCA9IGZ1bmN0aW9uIF9lbXB0eUVtaXQoKSB7XG4gIH07XG59XG5jbGFzcyBUZXh0dXJlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCByb3RhdGUsIGFuY2hvciwgYm9yZGVycykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG4gICAgaWYgKCFmcmFtZSkge1xuICAgICAgdGhpcy5ub0ZyYW1lID0gdHJ1ZTtcbiAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICB9XG4gICAgaWYgKGJhc2VUZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICB9XG4gICAgdGhpcy5iYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlO1xuICAgIHRoaXMuX2ZyYW1lID0gZnJhbWU7XG4gICAgdGhpcy50cmltID0gdHJpbTtcbiAgICB0aGlzLnZhbGlkID0gZmFsc2U7XG4gICAgdGhpcy5fdXZzID0gREVGQVVMVF9VVlM7XG4gICAgdGhpcy51dk1hdHJpeCA9IG51bGw7XG4gICAgdGhpcy5vcmlnID0gb3JpZyB8fCBmcmFtZTtcbiAgICB0aGlzLl9yb3RhdGUgPSBOdW1iZXIocm90YXRlIHx8IDApO1xuICAgIGlmIChyb3RhdGUgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuX3JvdGF0ZSA9IDI7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9yb3RhdGUgJSAyICE9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhdHRlbXB0IHRvIHVzZSBkaWFtb25kLXNoYXBlZCBVVnMuIElmIHlvdSBhcmUgc3VyZSwgc2V0IHJvdGF0aW9uIG1hbnVhbGx5XCIpO1xuICAgIH1cbiAgICB0aGlzLmRlZmF1bHRBbmNob3IgPSBhbmNob3IgPyBuZXcgUG9pbnQoYW5jaG9yLngsIGFuY2hvci55KSA6IG5ldyBQb2ludCgwLCAwKTtcbiAgICB0aGlzLmRlZmF1bHRCb3JkZXJzID0gYm9yZGVycztcbiAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcbiAgICBpZiAoIWJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICBiYXNlVGV4dHVyZS5vbmNlKFwibG9hZGVkXCIsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5ub0ZyYW1lKSB7XG4gICAgICBpZiAoYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZChiYXNlVGV4dHVyZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZnJhbWUgPSBmcmFtZTtcbiAgICB9XG4gICAgaWYgKHRoaXMubm9GcmFtZSkge1xuICAgICAgYmFzZVRleHR1cmUub24oXCJ1cGRhdGVcIiwgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZSkge1xuICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZS51cGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgb25CYXNlVGV4dHVyZVVwZGF0ZWQoYmFzZVRleHR1cmUpIHtcbiAgICBpZiAodGhpcy5ub0ZyYW1lKSB7XG4gICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fZnJhbWUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgIHRoaXMuX2ZyYW1lLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgIHRoaXMudmFsaWQgPSB0cnVlO1xuICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mcmFtZSA9IHRoaXMuX2ZyYW1lO1xuICAgIH1cbiAgICB0aGlzLmVtaXQoXCJ1cGRhdGVcIiwgdGhpcyk7XG4gIH1cbiAgZGVzdHJveShkZXN0cm95QmFzZSkge1xuICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlKSB7XG4gICAgICBpZiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgY29uc3QgeyByZXNvdXJjZSB9ID0gdGhpcy5iYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKHJlc291cmNlPy51cmwgJiYgVGV4dHVyZUNhY2hlW3Jlc291cmNlLnVybF0pIHtcbiAgICAgICAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZShyZXNvdXJjZS51cmwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vZmYoXCJsb2FkZWRcIiwgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZihcInVwZGF0ZVwiLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gICAgdGhpcy5fdXZzID0gbnVsbDtcbiAgICB0aGlzLnRyaW0gPSBudWxsO1xuICAgIHRoaXMub3JpZyA9IG51bGw7XG4gICAgdGhpcy52YWxpZCA9IGZhbHNlO1xuICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcbiAgfVxuICBjbG9uZSgpIHtcbiAgICBjb25zdCBjbG9uZWRGcmFtZSA9IHRoaXMuX2ZyYW1lLmNsb25lKCk7XG4gICAgY29uc3QgY2xvbmVkT3JpZyA9IHRoaXMuX2ZyYW1lID09PSB0aGlzLm9yaWcgPyBjbG9uZWRGcmFtZSA6IHRoaXMub3JpZy5jbG9uZSgpO1xuICAgIGNvbnN0IGNsb25lZFRleHR1cmUgPSBuZXcgVGV4dHVyZSh0aGlzLmJhc2VUZXh0dXJlLCAhdGhpcy5ub0ZyYW1lICYmIGNsb25lZEZyYW1lLCBjbG9uZWRPcmlnLCB0aGlzLnRyaW0/LmNsb25lKCksIHRoaXMucm90YXRlLCB0aGlzLmRlZmF1bHRBbmNob3IsIHRoaXMuZGVmYXVsdEJvcmRlcnMpO1xuICAgIGlmICh0aGlzLm5vRnJhbWUpIHtcbiAgICAgIGNsb25lZFRleHR1cmUuX2ZyYW1lID0gY2xvbmVkRnJhbWU7XG4gICAgfVxuICAgIHJldHVybiBjbG9uZWRUZXh0dXJlO1xuICB9XG4gIHVwZGF0ZVV2cygpIHtcbiAgICBpZiAodGhpcy5fdXZzID09PSBERUZBVUxUX1VWUykge1xuICAgICAgdGhpcy5fdXZzID0gbmV3IFRleHR1cmVVdnMoKTtcbiAgICB9XG4gICAgdGhpcy5fdXZzLnNldCh0aGlzLl9mcmFtZSwgdGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5yb3RhdGUpO1xuICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gIH1cbiAgc3RhdGljIGZyb20oc291cmNlLCBvcHRpb25zID0ge30sIHN0cmljdCA9IHNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFKSB7XG4gICAgY29uc3QgaXNGcmFtZSA9IHR5cGVvZiBzb3VyY2UgPT09IFwic3RyaW5nXCI7XG4gICAgbGV0IGNhY2hlSWQgPSBudWxsO1xuICAgIGlmIChpc0ZyYW1lKSB7XG4gICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgQmFzZVRleHR1cmUpIHtcbiAgICAgIGlmICghc291cmNlLmNhY2hlSWQpIHtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gb3B0aW9ucz8ucGl4aUlkUHJlZml4IHx8IFwicGl4aWlkXCI7XG4gICAgICAgIHNvdXJjZS5jYWNoZUlkID0gYCR7cHJlZml4fS0ke3VpZCgpfWA7XG4gICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoc291cmNlLCBzb3VyY2UuY2FjaGVJZCk7XG4gICAgICB9XG4gICAgICBjYWNoZUlkID0gc291cmNlLmNhY2hlSWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghc291cmNlLl9waXhpSWQpIHtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gb3B0aW9ucz8ucGl4aUlkUHJlZml4IHx8IFwicGl4aWlkXCI7XG4gICAgICAgIHNvdXJjZS5fcGl4aUlkID0gYCR7cHJlZml4fV8ke3VpZCgpfWA7XG4gICAgICB9XG4gICAgICBjYWNoZUlkID0gc291cmNlLl9waXhpSWQ7XG4gICAgfVxuICAgIGxldCB0ZXh0dXJlID0gVGV4dHVyZUNhY2hlW2NhY2hlSWRdO1xuICAgIGlmIChpc0ZyYW1lICYmIHN0cmljdCAmJiAhdGV4dHVyZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgY2FjaGVJZCBcIiR7Y2FjaGVJZH1cIiBkb2VzIG5vdCBleGlzdCBpbiBUZXh0dXJlQ2FjaGUuYCk7XG4gICAgfVxuICAgIGlmICghdGV4dHVyZSAmJiAhKHNvdXJjZSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKSkge1xuICAgICAgaWYgKCFvcHRpb25zLnJlc29sdXRpb24pIHtcbiAgICAgICAgb3B0aW9ucy5yZXNvbHV0aW9uID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHNvdXJjZSk7XG4gICAgICB9XG4gICAgICB0ZXh0dXJlID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucykpO1xuICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcbiAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgfSBlbHNlIGlmICghdGV4dHVyZSAmJiBzb3VyY2UgaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSkge1xuICAgICAgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKHNvdXJjZSk7XG4gICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0dXJlO1xuICB9XG4gIHN0YXRpYyBmcm9tVVJMKHVybCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHJlc291cmNlT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBhdXRvTG9hZDogZmFsc2UgfSwgb3B0aW9ucz8ucmVzb3VyY2VPcHRpb25zKTtcbiAgICBjb25zdCB0ZXh0dXJlID0gVGV4dHVyZS5mcm9tKHVybCwgT2JqZWN0LmFzc2lnbih7IHJlc291cmNlT3B0aW9ucyB9LCBvcHRpb25zKSwgZmFsc2UpO1xuICAgIGNvbnN0IHJlc291cmNlID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvdXJjZTtcbiAgICBpZiAodGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0ZXh0dXJlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc291cmNlLmxvYWQoKS50aGVuKCgpID0+IFByb21pc2UucmVzb2x2ZSh0ZXh0dXJlKSk7XG4gIH1cbiAgc3RhdGljIGZyb21CdWZmZXIoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0dXJlKEJhc2VUZXh0dXJlLmZyb21CdWZmZXIoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSk7XG4gIH1cbiAgc3RhdGljIGZyb21Mb2FkZXIoc291cmNlLCBpbWFnZVVybCwgbmFtZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgT2JqZWN0LmFzc2lnbih7XG4gICAgICBzY2FsZU1vZGU6IEJhc2VUZXh0dXJlLmRlZmF1bHRPcHRpb25zLnNjYWxlTW9kZSxcbiAgICAgIHJlc29sdXRpb246IGdldFJlc29sdXRpb25PZlVybChpbWFnZVVybClcbiAgICB9LCBvcHRpb25zKSk7XG4gICAgY29uc3QgeyByZXNvdXJjZSB9ID0gYmFzZVRleHR1cmU7XG4gICAgaWYgKHJlc291cmNlIGluc3RhbmNlb2YgSW1hZ2VSZXNvdXJjZSkge1xuICAgICAgcmVzb3VyY2UudXJsID0gaW1hZ2VVcmw7XG4gICAgfVxuICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZShiYXNlVGV4dHVyZSk7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICBuYW1lID0gaW1hZ2VVcmw7XG4gICAgfVxuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgbmFtZSk7XG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIG5hbWUpO1xuICAgIGlmIChuYW1lICE9PSBpbWFnZVVybCkge1xuICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgIH1cbiAgICBpZiAodGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0ZXh0dXJlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0ZXh0dXJlLmJhc2VUZXh0dXJlLm9uY2UoXCJsb2FkZWRcIiwgKCkgPT4gcmVzb2x2ZSh0ZXh0dXJlKSk7XG4gICAgfSk7XG4gIH1cbiAgc3RhdGljIGFkZFRvQ2FjaGUodGV4dHVyZSwgaWQpIHtcbiAgICBpZiAoaWQpIHtcbiAgICAgIGlmICghdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLnB1c2goaWQpO1xuICAgICAgfVxuICAgICAgaWYgKFRleHR1cmVDYWNoZVtpZF0gJiYgVGV4dHVyZUNhY2hlW2lkXSAhPT0gdGV4dHVyZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFRleHR1cmUgYWRkZWQgdG8gdGhlIGNhY2hlIHdpdGggYW4gaWQgWyR7aWR9XSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5YCk7XG4gICAgICB9XG4gICAgICBUZXh0dXJlQ2FjaGVbaWRdID0gdGV4dHVyZTtcbiAgICB9XG4gIH1cbiAgc3RhdGljIHJlbW92ZUZyb21DYWNoZSh0ZXh0dXJlKSB7XG4gICAgaWYgKHR5cGVvZiB0ZXh0dXJlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCB0ZXh0dXJlRnJvbUNhY2hlID0gVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuICAgICAgaWYgKHRleHR1cmVGcm9tQ2FjaGUpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKHRleHR1cmUpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcbiAgICAgICAgcmV0dXJuIHRleHR1cmVGcm9tQ2FjaGU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0ZXh0dXJlPy50ZXh0dXJlQ2FjaGVJZHMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKFRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcbiAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBnZXQgcmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICB9XG4gIGdldCBmcmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZnJhbWU7XG4gIH1cbiAgc2V0IGZyYW1lKGZyYW1lKSB7XG4gICAgdGhpcy5fZnJhbWUgPSBmcmFtZTtcbiAgICB0aGlzLm5vRnJhbWUgPSBmYWxzZTtcbiAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IGZyYW1lO1xuICAgIGNvbnN0IHhOb3RGaXQgPSB4ICsgd2lkdGggPiB0aGlzLmJhc2VUZXh0dXJlLndpZHRoO1xuICAgIGNvbnN0IHlOb3RGaXQgPSB5ICsgaGVpZ2h0ID4gdGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgaWYgKHhOb3RGaXQgfHwgeU5vdEZpdCkge1xuICAgICAgY29uc3QgcmVsYXRpb25zaGlwID0geE5vdEZpdCAmJiB5Tm90Rml0ID8gXCJhbmRcIiA6IFwib3JcIjtcbiAgICAgIGNvbnN0IGVycm9yWCA9IGBYOiAke3h9ICsgJHt3aWR0aH0gPSAke3ggKyB3aWR0aH0gPiAke3RoaXMuYmFzZVRleHR1cmUud2lkdGh9YDtcbiAgICAgIGNvbnN0IGVycm9yWSA9IGBZOiAke3l9ICsgJHtoZWlnaHR9ID0gJHt5ICsgaGVpZ2h0fSA+ICR7dGhpcy5iYXNlVGV4dHVyZS5oZWlnaHR9YDtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGV4dHVyZSBFcnJvcjogZnJhbWUgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgYmFzZSBUZXh0dXJlIGRpbWVuc2lvbnM6ICR7ZXJyb3JYfSAke3JlbGF0aW9uc2hpcH0gJHtlcnJvcll9YCk7XG4gICAgfVxuICAgIHRoaXMudmFsaWQgPSB3aWR0aCAmJiBoZWlnaHQgJiYgdGhpcy5iYXNlVGV4dHVyZS52YWxpZDtcbiAgICBpZiAoIXRoaXMudHJpbSAmJiAhdGhpcy5yb3RhdGUpIHtcbiAgICAgIHRoaXMub3JpZyA9IGZyYW1lO1xuICAgIH1cbiAgICBpZiAodGhpcy52YWxpZCkge1xuICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICB9XG4gIH1cbiAgZ2V0IHJvdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcm90YXRlO1xuICB9XG4gIHNldCByb3RhdGUocm90YXRlKSB7XG4gICAgdGhpcy5fcm90YXRlID0gcm90YXRlO1xuICAgIGlmICh0aGlzLnZhbGlkKSB7XG4gICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgIH1cbiAgfVxuICBnZXQgd2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMub3JpZy53aWR0aDtcbiAgfVxuICBnZXQgaGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLm9yaWcuaGVpZ2h0O1xuICB9XG4gIGNhc3RUb0Jhc2VUZXh0dXJlKCkge1xuICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlO1xuICB9XG4gIHN0YXRpYyBnZXQgRU1QVFkoKSB7XG4gICAgaWYgKCFUZXh0dXJlLl9FTVBUWSkge1xuICAgICAgVGV4dHVyZS5fRU1QVFkgPSBuZXcgVGV4dHVyZShuZXcgQmFzZVRleHR1cmUoKSk7XG4gICAgICByZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLl9FTVBUWSk7XG4gICAgICByZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLl9FTVBUWS5iYXNlVGV4dHVyZSk7XG4gICAgfVxuICAgIHJldHVybiBUZXh0dXJlLl9FTVBUWTtcbiAgfVxuICBzdGF0aWMgZ2V0IFdISVRFKCkge1xuICAgIGlmICghVGV4dHVyZS5fV0hJVEUpIHtcbiAgICAgIGNvbnN0IGNhbnZhcyA9IHNldHRpbmdzLkFEQVBURVIuY3JlYXRlQ2FudmFzKDE2LCAxNik7XG4gICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgIGNhbnZhcy53aWR0aCA9IDE2O1xuICAgICAgY2FudmFzLmhlaWdodCA9IDE2O1xuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XG4gICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIDE2LCAxNik7XG4gICAgICBUZXh0dXJlLl9XSElURSA9IG5ldyBUZXh0dXJlKEJhc2VUZXh0dXJlLmZyb20oY2FudmFzKSk7XG4gICAgICByZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLl9XSElURSk7XG4gICAgICByZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLl9XSElURS5iYXNlVGV4dHVyZSk7XG4gICAgfVxuICAgIHJldHVybiBUZXh0dXJlLl9XSElURTtcbiAgfVxufVxuXG5leHBvcnQgeyBUZXh0dXJlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlLm1qcy5tYXBcbiIsImltcG9ydCB7IEdDX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcblxuY29uc3QgX1RleHR1cmVHQ1N5c3RlbSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gICAgdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgICB0aGlzLm1heElkbGUgPSBfVGV4dHVyZUdDU3lzdGVtLmRlZmF1bHRNYXhJZGxlO1xuICAgIHRoaXMuY2hlY2tDb3VudE1heCA9IF9UZXh0dXJlR0NTeXN0ZW0uZGVmYXVsdENoZWNrQ291bnRNYXg7XG4gICAgdGhpcy5tb2RlID0gX1RleHR1cmVHQ1N5c3RlbS5kZWZhdWx0TW9kZTtcbiAgfVxuICBwb3N0cmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5yZW5kZXJlci5vYmplY3RSZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNvdW50Kys7XG4gICAgaWYgKHRoaXMubW9kZSA9PT0gR0NfTU9ERVMuTUFOVUFMKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2hlY2tDb3VudCsrO1xuICAgIGlmICh0aGlzLmNoZWNrQ291bnQgPiB0aGlzLmNoZWNrQ291bnRNYXgpIHtcbiAgICAgIHRoaXMuY2hlY2tDb3VudCA9IDA7XG4gICAgICB0aGlzLnJ1bigpO1xuICAgIH1cbiAgfVxuICBydW4oKSB7XG4gICAgY29uc3QgdG0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgY29uc3QgbWFuYWdlZFRleHR1cmVzID0gdG0ubWFuYWdlZFRleHR1cmVzO1xuICAgIGxldCB3YXNSZW1vdmVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHRleHR1cmUgPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG4gICAgICBpZiAoIXRleHR1cmUuZnJhbWVidWZmZXIgJiYgdGhpcy5jb3VudCAtIHRleHR1cmUudG91Y2hlZCA+IHRoaXMubWF4SWRsZSkge1xuICAgICAgICB0bS5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCB0cnVlKTtcbiAgICAgICAgbWFuYWdlZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgd2FzUmVtb3ZlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh3YXNSZW1vdmVkKSB7XG4gICAgICBsZXQgaiA9IDA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAobWFuYWdlZFRleHR1cmVzW2ldICE9PSBudWxsKSB7XG4gICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2orK10gPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1hbmFnZWRUZXh0dXJlcy5sZW5ndGggPSBqO1xuICAgIH1cbiAgfVxuICB1bmxvYWQoZGlzcGxheU9iamVjdCkge1xuICAgIGNvbnN0IHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlO1xuICAgIGNvbnN0IHRleHR1cmUgPSBkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlO1xuICAgIGlmICh0ZXh0dXJlICYmICF0ZXh0dXJlLmZyYW1lYnVmZmVyKSB7XG4gICAgICB0bS5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHRoaXMudW5sb2FkKGRpc3BsYXlPYmplY3QuY2hpbGRyZW5baV0pO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG59O1xubGV0IFRleHR1cmVHQ1N5c3RlbSA9IF9UZXh0dXJlR0NTeXN0ZW07XG5UZXh0dXJlR0NTeXN0ZW0uZGVmYXVsdE1vZGUgPSBHQ19NT0RFUy5BVVRPO1xuVGV4dHVyZUdDU3lzdGVtLmRlZmF1bHRNYXhJZGxlID0gNjAgKiA2MDtcblRleHR1cmVHQ1N5c3RlbS5kZWZhdWx0Q2hlY2tDb3VudE1heCA9IDYwICogMTA7XG5UZXh0dXJlR0NTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICBuYW1lOiBcInRleHR1cmVHQ1wiXG59O1xuZXh0ZW5zaW9ucy5hZGQoVGV4dHVyZUdDU3lzdGVtKTtcblxuZXhwb3J0IHsgVGV4dHVyZUdDU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlR0NTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbmNvbnN0IHRlbXBNYXQgPSBuZXcgTWF0cml4KCk7XG5jbGFzcyBUZXh0dXJlTWF0cml4IHtcbiAgY29uc3RydWN0b3IodGV4dHVyZSwgY2xhbXBNYXJnaW4pIHtcbiAgICB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZTtcbiAgICB0aGlzLm1hcENvb3JkID0gbmV3IE1hdHJpeCgpO1xuICAgIHRoaXMudUNsYW1wRnJhbWUgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIHRoaXMudUNsYW1wT2Zmc2V0ID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcbiAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgdGhpcy5jbGFtcE9mZnNldCA9IDA7XG4gICAgdGhpcy5jbGFtcE1hcmdpbiA9IHR5cGVvZiBjbGFtcE1hcmdpbiA9PT0gXCJ1bmRlZmluZWRcIiA/IDAuNSA6IGNsYW1wTWFyZ2luO1xuICAgIHRoaXMuaXNTaW1wbGUgPSBmYWxzZTtcbiAgfVxuICBnZXQgdGV4dHVyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgfVxuICBzZXQgdGV4dHVyZSh2YWx1ZSkge1xuICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZTtcbiAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgfVxuICBtdWx0aXBseVV2cyh1dnMsIG91dCkge1xuICAgIGlmIChvdXQgPT09IHZvaWQgMCkge1xuICAgICAgb3V0ID0gdXZzO1xuICAgIH1cbiAgICBjb25zdCBtYXQgPSB0aGlzLm1hcENvb3JkO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXZzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBjb25zdCB4ID0gdXZzW2ldO1xuICAgICAgY29uc3QgeSA9IHV2c1tpICsgMV07XG4gICAgICBvdXRbaV0gPSB4ICogbWF0LmEgKyB5ICogbWF0LmMgKyBtYXQudHg7XG4gICAgICBvdXRbaSArIDFdID0geCAqIG1hdC5iICsgeSAqIG1hdC5kICsgbWF0LnR5O1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIHVwZGF0ZShmb3JjZVVwZGF0ZSkge1xuICAgIGNvbnN0IHRleCA9IHRoaXMuX3RleHR1cmU7XG4gICAgaWYgKCF0ZXggfHwgIXRleC52YWxpZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWZvcmNlVXBkYXRlICYmIHRoaXMuX3RleHR1cmVJRCA9PT0gdGV4Ll91cGRhdGVJRCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLl90ZXh0dXJlSUQgPSB0ZXguX3VwZGF0ZUlEO1xuICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gICAgY29uc3QgdXZzID0gdGV4Ll91dnM7XG4gICAgdGhpcy5tYXBDb29yZC5zZXQodXZzLngxIC0gdXZzLngwLCB1dnMueTEgLSB1dnMueTAsIHV2cy54MyAtIHV2cy54MCwgdXZzLnkzIC0gdXZzLnkwLCB1dnMueDAsIHV2cy55MCk7XG4gICAgY29uc3Qgb3JpZyA9IHRleC5vcmlnO1xuICAgIGNvbnN0IHRyaW0gPSB0ZXgudHJpbTtcbiAgICBpZiAodHJpbSkge1xuICAgICAgdGVtcE1hdC5zZXQob3JpZy53aWR0aCAvIHRyaW0ud2lkdGgsIDAsIDAsIG9yaWcuaGVpZ2h0IC8gdHJpbS5oZWlnaHQsIC10cmltLnggLyB0cmltLndpZHRoLCAtdHJpbS55IC8gdHJpbS5oZWlnaHQpO1xuICAgICAgdGhpcy5tYXBDb29yZC5hcHBlbmQodGVtcE1hdCk7XG4gICAgfVxuICAgIGNvbnN0IHRleEJhc2UgPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLnVDbGFtcEZyYW1lO1xuICAgIGNvbnN0IG1hcmdpbiA9IHRoaXMuY2xhbXBNYXJnaW4gLyB0ZXhCYXNlLnJlc29sdXRpb247XG4gICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5jbGFtcE9mZnNldDtcbiAgICBmcmFtZVswXSA9ICh0ZXguX2ZyYW1lLnggKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICBmcmFtZVsxXSA9ICh0ZXguX2ZyYW1lLnkgKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgZnJhbWVbMl0gPSAodGV4Ll9mcmFtZS54ICsgdGV4Ll9mcmFtZS53aWR0aCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgIGZyYW1lWzNdID0gKHRleC5fZnJhbWUueSArIHRleC5fZnJhbWUuaGVpZ2h0IC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2UuaGVpZ2h0O1xuICAgIHRoaXMudUNsYW1wT2Zmc2V0WzBdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsV2lkdGg7XG4gICAgdGhpcy51Q2xhbXBPZmZzZXRbMV0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxIZWlnaHQ7XG4gICAgdGhpcy5pc1NpbXBsZSA9IHRleC5fZnJhbWUud2lkdGggPT09IHRleEJhc2Uud2lkdGggJiYgdGV4Ll9mcmFtZS5oZWlnaHQgPT09IHRleEJhc2UuaGVpZ2h0ICYmIHRleC5yb3RhdGUgPT09IDA7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgVGV4dHVyZU1hdHJpeCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZU1hdHJpeC5tanMubWFwXG4iLCJpbXBvcnQgeyBTQU1QTEVSX1RZUEVTLCBUWVBFUywgTUlQTUFQX01PREVTLCBXUkFQX01PREVTLCBTQ0FMRV9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5pbXBvcnQgeyByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEJhc2VUZXh0dXJlIH0gZnJvbSAnLi9CYXNlVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgR0xUZXh0dXJlIH0gZnJvbSAnLi9HTFRleHR1cmUubWpzJztcbmltcG9ydCB7IG1hcFR5cGVBbmRGb3JtYXRUb0ludGVybmFsRm9ybWF0IH0gZnJvbSAnLi91dGlscy9tYXBUeXBlQW5kRm9ybWF0VG9JbnRlcm5hbEZvcm1hdC5tanMnO1xuXG5jbGFzcyBUZXh0dXJlU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5ib3VuZFRleHR1cmVzID0gW107XG4gICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSAtMTtcbiAgICB0aGlzLm1hbmFnZWRUZXh0dXJlcyA9IFtdO1xuICAgIHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzID0gZmFsc2U7XG4gICAgdGhpcy51bmtub3duVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZSgpO1xuICAgIHRoaXMuaGFzSW50ZWdlclRleHR1cmVzID0gZmFsc2U7XG4gIH1cbiAgY29udGV4dENoYW5nZSgpIHtcbiAgICBjb25zdCBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgIHRoaXMud2ViR0xWZXJzaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbjtcbiAgICB0aGlzLmludGVybmFsRm9ybWF0cyA9IG1hcFR5cGVBbmRGb3JtYXRUb0ludGVybmFsRm9ybWF0KGdsKTtcbiAgICBjb25zdCBtYXhUZXh0dXJlcyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7XG4gICAgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aCA9IG1heFRleHR1cmVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5lbXB0eVRleHR1cmVzID0ge307XG4gICAgY29uc3QgZW1wdHlUZXh0dXJlMkQgPSBuZXcgR0xUZXh0dXJlKGdsLmNyZWF0ZVRleHR1cmUoKSk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZW1wdHlUZXh0dXJlMkQudGV4dHVyZSk7XG4gICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCAxLCAxLCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBuZXcgVWludDhBcnJheSg0KSk7XG4gICAgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfMkRdID0gZW1wdHlUZXh0dXJlMkQ7XG4gICAgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdID0gbmV3IEdMVGV4dHVyZShnbC5jcmVhdGVUZXh0dXJlKCkpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFX0NVQkVfTUFQXS50ZXh0dXJlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpLCAwLCBnbC5SR0JBLCAxLCAxLCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcbiAgICB9XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYmluZChudWxsLCBpKTtcbiAgICB9XG4gIH1cbiAgYmluZCh0ZXh0dXJlLCBsb2NhdGlvbiA9IDApIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIHRleHR1cmUgPSB0ZXh0dXJlPy5jYXN0VG9CYXNlVGV4dHVyZSgpO1xuICAgIGlmICh0ZXh0dXJlPy52YWxpZCAmJiAhdGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXkpIHtcbiAgICAgIHRleHR1cmUudG91Y2hlZCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuICAgICAgY29uc3QgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmluaXRUZXh0dXJlKHRleHR1cmUpO1xuICAgICAgaWYgKHRoaXMuYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gIT09IHRleHR1cmUpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2F0aW9uICE9PSBsb2NhdGlvbikge1xuICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBnbC5iaW5kVGV4dHVyZSh0ZXh0dXJlLnRhcmdldCwgZ2xUZXh0dXJlLnRleHR1cmUpO1xuICAgICAgfVxuICAgICAgaWYgKGdsVGV4dHVyZS5kaXJ0eUlkICE9PSB0ZXh0dXJlLmRpcnR5SWQpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2F0aW9uICE9PSBsb2NhdGlvbikge1xuICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUodGV4dHVyZSk7XG4gICAgICB9IGVsc2UgaWYgKGdsVGV4dHVyZS5kaXJ0eVN0eWxlSWQgIT09IHRleHR1cmUuZGlydHlTdHlsZUlkKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZVN0eWxlKHRleHR1cmUpO1xuICAgICAgfVxuICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IHRleHR1cmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pIHtcbiAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgIH1cbiAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFXzJEXS50ZXh0dXJlKTtcbiAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gPSBudWxsO1xuICAgIH1cbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IHRydWU7XG4gICAgdGhpcy5oYXNJbnRlZ2VyVGV4dHVyZXMgPSBmYWxzZTtcbiAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IC0xO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB0aGlzLnVua25vd25UZXh0dXJlO1xuICAgIH1cbiAgfVxuICB1bmJpbmQodGV4dHVyZSkge1xuICAgIGNvbnN0IHsgZ2wsIGJvdW5kVGV4dHVyZXMgfSA9IHRoaXM7XG4gICAgaWYgKHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzKSB7XG4gICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IGZhbHNlO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChib3VuZFRleHR1cmVzW2ldID09PSB0aGlzLnVua25vd25UZXh0dXJlKSB7XG4gICAgICAgICAgdGhpcy5iaW5kKG51bGwsIGkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2F0aW9uICE9PSBpKSB7XG4gICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gaTtcbiAgICAgICAgfVxuICAgICAgICBnbC5iaW5kVGV4dHVyZSh0ZXh0dXJlLnRhcmdldCwgdGhpcy5lbXB0eVRleHR1cmVzW3RleHR1cmUudGFyZ2V0XS50ZXh0dXJlKTtcbiAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGVuc3VyZVNhbXBsZXJUeXBlKG1heFRleHR1cmVzKSB7XG4gICAgY29uc3QgeyBib3VuZFRleHR1cmVzLCBoYXNJbnRlZ2VyVGV4dHVyZXMsIENPTlRFWFRfVUlEIH0gPSB0aGlzO1xuICAgIGlmICghaGFzSW50ZWdlclRleHR1cmVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSBtYXhUZXh0dXJlcyAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBjb25zdCB0ZXggPSBib3VuZFRleHR1cmVzW2ldO1xuICAgICAgaWYgKHRleCkge1xuICAgICAgICBjb25zdCBnbFRleHR1cmUgPSB0ZXguX2dsVGV4dHVyZXNbQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoZ2xUZXh0dXJlLnNhbXBsZXJUeXBlICE9PSBTQU1QTEVSX1RZUEVTLkZMT0FUKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZCh0ZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGluaXRUZXh0dXJlKHRleHR1cmUpIHtcbiAgICBjb25zdCBnbFRleHR1cmUgPSBuZXcgR0xUZXh0dXJlKHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpKTtcbiAgICBnbFRleHR1cmUuZGlydHlJZCA9IC0xO1xuICAgIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSBnbFRleHR1cmU7XG4gICAgdGhpcy5tYW5hZ2VkVGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcbiAgICB0ZXh0dXJlLm9uKFwiZGlzcG9zZVwiLCB0aGlzLmRlc3Ryb3lUZXh0dXJlLCB0aGlzKTtcbiAgICByZXR1cm4gZ2xUZXh0dXJlO1xuICB9XG4gIGluaXRUZXh0dXJlVHlwZSh0ZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQgPSB0aGlzLmludGVybmFsRm9ybWF0c1t0ZXh0dXJlLnR5cGVdPy5bdGV4dHVyZS5mb3JtYXRdID8/IHRleHR1cmUuZm9ybWF0O1xuICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMiAmJiB0ZXh0dXJlLnR5cGUgPT09IFRZUEVTLkhBTEZfRkxPQVQpIHtcbiAgICAgIGdsVGV4dHVyZS50eXBlID0gdGhpcy5nbC5IQUxGX0ZMT0FUO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbFRleHR1cmUudHlwZSA9IHRleHR1cmUudHlwZTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlVGV4dHVyZSh0ZXh0dXJlKSB7XG4gICAgY29uc3QgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICBpZiAoIWdsVGV4dHVyZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgdGhpcy5pbml0VGV4dHVyZVR5cGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICBpZiAodGV4dHVyZS5yZXNvdXJjZT8udXBsb2FkKHJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpKSB7XG4gICAgICBpZiAoZ2xUZXh0dXJlLnNhbXBsZXJUeXBlICE9PSBTQU1QTEVSX1RZUEVTLkZMT0FUKSB7XG4gICAgICAgIHRoaXMuaGFzSW50ZWdlclRleHR1cmVzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgd2lkdGggPSB0ZXh0dXJlLnJlYWxXaWR0aDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IHRleHR1cmUucmVhbEhlaWdodDtcbiAgICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoICE9PSB3aWR0aCB8fCBnbFRleHR1cmUuaGVpZ2h0ICE9PSBoZWlnaHQgfHwgZ2xUZXh0dXJlLmRpcnR5SWQgPCAwKSB7XG4gICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBnbC50ZXhJbWFnZTJEKHRleHR1cmUudGFyZ2V0LCAwLCBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIDAsIHRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgbnVsbCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0ZXh0dXJlLmRpcnR5U3R5bGVJZCAhPT0gZ2xUZXh0dXJlLmRpcnR5U3R5bGVJZCkge1xuICAgICAgdGhpcy51cGRhdGVUZXh0dXJlU3R5bGUodGV4dHVyZSk7XG4gICAgfVxuICAgIGdsVGV4dHVyZS5kaXJ0eUlkID0gdGV4dHVyZS5kaXJ0eUlkO1xuICB9XG4gIGRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHNraXBSZW1vdmUpIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIHRleHR1cmUgPSB0ZXh0dXJlLmNhc3RUb0Jhc2VUZXh0dXJlKCk7XG4gICAgaWYgKHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0pIHtcbiAgICAgIHRoaXMudW5iaW5kKHRleHR1cmUpO1xuICAgICAgZ2wuZGVsZXRlVGV4dHVyZSh0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUpO1xuICAgICAgdGV4dHVyZS5vZmYoXCJkaXNwb3NlXCIsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuICAgICAgZGVsZXRlIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICBpZiAoIXNraXBSZW1vdmUpIHtcbiAgICAgICAgY29uc3QgaSA9IHRoaXMubWFuYWdlZFRleHR1cmVzLmluZGV4T2YodGV4dHVyZSk7XG4gICAgICAgIGlmIChpICE9PSAtMSkge1xuICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMubWFuYWdlZFRleHR1cmVzLCBpLCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICB1cGRhdGVUZXh0dXJlU3R5bGUodGV4dHVyZSkge1xuICAgIGNvbnN0IGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgaWYgKCFnbFRleHR1cmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCh0ZXh0dXJlLm1pcG1hcCA9PT0gTUlQTUFQX01PREVTLlBPVzIgfHwgdGhpcy53ZWJHTFZlcnNpb24gIT09IDIpICYmICF0ZXh0dXJlLmlzUG93ZXJPZlR3bykge1xuICAgICAgZ2xUZXh0dXJlLm1pcG1hcCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbFRleHR1cmUubWlwbWFwID0gdGV4dHVyZS5taXBtYXAgPj0gMTtcbiAgICB9XG4gICAgaWYgKHRoaXMud2ViR0xWZXJzaW9uICE9PSAyICYmICF0ZXh0dXJlLmlzUG93ZXJPZlR3bykge1xuICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5DTEFNUDtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gdGV4dHVyZS53cmFwTW9kZTtcbiAgICB9XG4gICAgaWYgKHRleHR1cmUucmVzb3VyY2U/LnN0eWxlKHRoaXMucmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkpIHtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdHlsZSh0ZXh0dXJlLCBnbFRleHR1cmUpO1xuICAgIH1cbiAgICBnbFRleHR1cmUuZGlydHlTdHlsZUlkID0gdGV4dHVyZS5kaXJ0eVN0eWxlSWQ7XG4gIH1cbiAgc2V0U3R5bGUodGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgIGlmIChnbFRleHR1cmUubWlwbWFwICYmIHRleHR1cmUubWlwbWFwICE9PSBNSVBNQVBfTU9ERVMuT05fTUFOVUFMKSB7XG4gICAgICBnbC5nZW5lcmF0ZU1pcG1hcCh0ZXh0dXJlLnRhcmdldCk7XG4gICAgfVxuICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbFRleHR1cmUud3JhcE1vZGUpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbFRleHR1cmUud3JhcE1vZGUpO1xuICAgIGlmIChnbFRleHR1cmUubWlwbWFwKSB7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIgPyBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUiA6IGdsLk5FQVJFU1RfTUlQTUFQX05FQVJFU1QpO1xuICAgICAgY29uc3QgYW5pc290cm9waWNFeHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy5hbmlzb3Ryb3BpY0ZpbHRlcmluZztcbiAgICAgIGlmIChhbmlzb3Ryb3BpY0V4dCAmJiB0ZXh0dXJlLmFuaXNvdHJvcGljTGV2ZWwgPiAwICYmIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIpIHtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSBNYXRoLm1pbih0ZXh0dXJlLmFuaXNvdHJvcGljTGV2ZWwsIGdsLmdldFBhcmFtZXRlcihhbmlzb3Ryb3BpY0V4dC5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyZih0ZXh0dXJlLnRhcmdldCwgYW5pc290cm9waWNFeHQuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsIGxldmVsKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA9PT0gU0NBTEVfTU9ERVMuTElORUFSID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVCk7XG4gICAgfVxuICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUiA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cblRleHR1cmVTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICBuYW1lOiBcInRleHR1cmVcIlxufTtcbmV4dGVuc2lvbnMuYWRkKFRleHR1cmVTeXN0ZW0pO1xuXG5leHBvcnQgeyBUZXh0dXJlU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IGdyb3VwRDggfSBmcm9tICdAcGl4aS9tYXRoJztcblxuY2xhc3MgVGV4dHVyZVV2cyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMueDAgPSAwO1xuICAgIHRoaXMueTAgPSAwO1xuICAgIHRoaXMueDEgPSAxO1xuICAgIHRoaXMueTEgPSAwO1xuICAgIHRoaXMueDIgPSAxO1xuICAgIHRoaXMueTIgPSAxO1xuICAgIHRoaXMueDMgPSAwO1xuICAgIHRoaXMueTMgPSAxO1xuICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gIH1cbiAgc2V0KGZyYW1lLCBiYXNlRnJhbWUsIHJvdGF0ZSkge1xuICAgIGNvbnN0IHR3ID0gYmFzZUZyYW1lLndpZHRoO1xuICAgIGNvbnN0IHRoID0gYmFzZUZyYW1lLmhlaWdodDtcbiAgICBpZiAocm90YXRlKSB7XG4gICAgICBjb25zdCB3MiA9IGZyYW1lLndpZHRoIC8gMiAvIHR3O1xuICAgICAgY29uc3QgaDIgPSBmcmFtZS5oZWlnaHQgLyAyIC8gdGg7XG4gICAgICBjb25zdCBjWCA9IGZyYW1lLnggLyB0dyArIHcyO1xuICAgICAgY29uc3QgY1kgPSBmcmFtZS55IC8gdGggKyBoMjtcbiAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgZ3JvdXBEOC5OVyk7XG4gICAgICB0aGlzLngwID0gY1ggKyB3MiAqIGdyb3VwRDgudVgocm90YXRlKTtcbiAgICAgIHRoaXMueTAgPSBjWSArIGgyICogZ3JvdXBEOC51WShyb3RhdGUpO1xuICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgIHRoaXMueDEgPSBjWCArIHcyICogZ3JvdXBEOC51WChyb3RhdGUpO1xuICAgICAgdGhpcy55MSA9IGNZICsgaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSk7XG4gICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIDIpO1xuICAgICAgdGhpcy54MiA9IGNYICsgdzIgKiBncm91cEQ4LnVYKHJvdGF0ZSk7XG4gICAgICB0aGlzLnkyID0gY1kgKyBoMiAqIGdyb3VwRDgudVkocm90YXRlKTtcbiAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgMik7XG4gICAgICB0aGlzLngzID0gY1ggKyB3MiAqIGdyb3VwRDgudVgocm90YXRlKTtcbiAgICAgIHRoaXMueTMgPSBjWSArIGgyICogZ3JvdXBEOC51WShyb3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLngwID0gZnJhbWUueCAvIHR3O1xuICAgICAgdGhpcy55MCA9IGZyYW1lLnkgLyB0aDtcbiAgICAgIHRoaXMueDEgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgdGhpcy55MSA9IGZyYW1lLnkgLyB0aDtcbiAgICAgIHRoaXMueDIgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgdGhpcy55MiA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuICAgICAgdGhpcy54MyA9IGZyYW1lLnggLyB0dztcbiAgICAgIHRoaXMueTMgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICB9XG4gICAgdGhpcy51dnNGbG9hdDMyWzBdID0gdGhpcy54MDtcbiAgICB0aGlzLnV2c0Zsb2F0MzJbMV0gPSB0aGlzLnkwO1xuICAgIHRoaXMudXZzRmxvYXQzMlsyXSA9IHRoaXMueDE7XG4gICAgdGhpcy51dnNGbG9hdDMyWzNdID0gdGhpcy55MTtcbiAgICB0aGlzLnV2c0Zsb2F0MzJbNF0gPSB0aGlzLngyO1xuICAgIHRoaXMudXZzRmxvYXQzMls1XSA9IHRoaXMueTI7XG4gICAgdGhpcy51dnNGbG9hdDMyWzZdID0gdGhpcy54MztcbiAgICB0aGlzLnV2c0Zsb2F0MzJbN10gPSB0aGlzLnkzO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgW0BwaXhpL2NvcmU6VGV4dHVyZVV2cyB4MD0ke3RoaXMueDB9IHkwPSR7dGhpcy55MH0geDE9JHt0aGlzLngxfSB5MT0ke3RoaXMueTF9IHgyPSR7dGhpcy54Mn0geTI9JHt0aGlzLnkyfSB4Mz0ke3RoaXMueDN9IHkzPSR7dGhpcy55M31dYDtcbiAgfVxufVxuXG5leHBvcnQgeyBUZXh0dXJlVXZzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlVXZzLm1qcy5tYXBcbiIsImltcG9ydCB7IEJhc2VUZXh0dXJlIH0gZnJvbSAnLi4vQmFzZVRleHR1cmUubWpzJztcbmltcG9ydCB7IGF1dG9EZXRlY3RSZXNvdXJjZSB9IGZyb20gJy4vYXV0b0RldGVjdFJlc291cmNlLm1qcyc7XG5pbXBvcnQgeyBSZXNvdXJjZSB9IGZyb20gJy4vUmVzb3VyY2UubWpzJztcblxuY2xhc3MgQWJzdHJhY3RNdWx0aVJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3RvcihsZW5ndGgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IG9wdGlvbnMgfHwge307XG4gICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG4gICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIHRoaXMuaXRlbURpcnR5SWRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcGFydFRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoKTtcbiAgICAgIHRoaXMuaXRlbXMucHVzaChwYXJ0VGV4dHVyZSk7XG4gICAgICB0aGlzLml0ZW1EaXJ0eUlkcy5wdXNoKC0yKTtcbiAgICB9XG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gIH1cbiAgaW5pdEZyb21BcnJheShyZXNvdXJjZXMsIG9wdGlvbnMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghcmVzb3VyY2VzW2ldKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHJlc291cmNlc1tpXS5jYXN0VG9CYXNlVGV4dHVyZSkge1xuICAgICAgICB0aGlzLmFkZEJhc2VUZXh0dXJlQXQocmVzb3VyY2VzW2ldLmNhc3RUb0Jhc2VUZXh0dXJlKCksIGkpO1xuICAgICAgfSBlbHNlIGlmIChyZXNvdXJjZXNbaV0gaW5zdGFuY2VvZiBSZXNvdXJjZSkge1xuICAgICAgICB0aGlzLmFkZFJlc291cmNlQXQocmVzb3VyY2VzW2ldLCBpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChhdXRvRGV0ZWN0UmVzb3VyY2UocmVzb3VyY2VzW2ldLCBvcHRpb25zKSwgaSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGRpc3Bvc2UoKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRoaXMuaXRlbXNbaV0uZGVzdHJveSgpO1xuICAgIH1cbiAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICB0aGlzLml0ZW1EaXJ0eUlkcyA9IG51bGw7XG4gICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gIH1cbiAgYWRkUmVzb3VyY2VBdChyZXNvdXJjZSwgaW5kZXgpIHtcbiAgICBpZiAoIXRoaXMuaXRlbXNbaW5kZXhdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEluZGV4ICR7aW5kZXh9IGlzIG91dCBvZiBib3VuZHNgKTtcbiAgICB9XG4gICAgaWYgKHJlc291cmNlLnZhbGlkICYmICF0aGlzLnZhbGlkKSB7XG4gICAgICB0aGlzLnJlc2l6ZShyZXNvdXJjZS53aWR0aCwgcmVzb3VyY2UuaGVpZ2h0KTtcbiAgICB9XG4gICAgdGhpcy5pdGVtc1tpbmRleF0uc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGJpbmQoYmFzZVRleHR1cmUpIHtcbiAgICBpZiAodGhpcy5iYXNlVGV4dHVyZSAhPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBvbmUgYmFzZSB0ZXh0dXJlIHBlciBUZXh0dXJlQXJyYXkgaXMgYWxsb3dlZFwiKTtcbiAgICB9XG4gICAgc3VwZXIuYmluZChiYXNlVGV4dHVyZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLml0ZW1zW2ldLnBhcmVudFRleHR1cmVBcnJheSA9IGJhc2VUZXh0dXJlO1xuICAgICAgdGhpcy5pdGVtc1tpXS5vbihcInVwZGF0ZVwiLCBiYXNlVGV4dHVyZS51cGRhdGUsIGJhc2VUZXh0dXJlKTtcbiAgICB9XG4gIH1cbiAgdW5iaW5kKGJhc2VUZXh0dXJlKSB7XG4gICAgc3VwZXIudW5iaW5kKGJhc2VUZXh0dXJlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuaXRlbXNbaV0ucGFyZW50VGV4dHVyZUFycmF5ID0gbnVsbDtcbiAgICAgIHRoaXMuaXRlbXNbaV0ub2ZmKFwidXBkYXRlXCIsIGJhc2VUZXh0dXJlLnVwZGF0ZSwgYmFzZVRleHR1cmUpO1xuICAgIH1cbiAgfVxuICBsb2FkKCkge1xuICAgIGlmICh0aGlzLl9sb2FkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9XG4gICAgY29uc3QgcmVzb3VyY2VzID0gdGhpcy5pdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0ucmVzb3VyY2UpLmZpbHRlcigoaXRlbSkgPT4gaXRlbSk7XG4gICAgY29uc3QgcHJvbWlzZXMgPSByZXNvdXJjZXMubWFwKChpdGVtKSA9PiBpdGVtLmxvYWQoKSk7XG4gICAgdGhpcy5fbG9hZCA9IFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVhbFdpZHRoLCByZWFsSGVpZ2h0IH0gPSB0aGlzLml0ZW1zWzBdO1xuICAgICAgdGhpcy5yZXNpemUocmVhbFdpZHRoLCByZWFsSGVpZ2h0KTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gIH1cbn1cblxuZXhwb3J0IHsgQWJzdHJhY3RNdWx0aVJlc291cmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BYnN0cmFjdE11bHRpUmVzb3VyY2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgVEFSR0VUUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBBYnN0cmFjdE11bHRpUmVzb3VyY2UgfSBmcm9tICcuL0Fic3RyYWN0TXVsdGlSZXNvdXJjZS5tanMnO1xuXG5jbGFzcyBBcnJheVJlc291cmNlIGV4dGVuZHMgQWJzdHJhY3RNdWx0aVJlc291cmNlIHtcbiAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBvcHRpb25zIHx8IHt9O1xuICAgIGxldCB1cmxzO1xuICAgIGxldCBsZW5ndGg7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgdXJscyA9IHNvdXJjZTtcbiAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlbmd0aCA9IHNvdXJjZTtcbiAgICB9XG4gICAgc3VwZXIobGVuZ3RoLCB7IHdpZHRoLCBoZWlnaHQgfSk7XG4gICAgaWYgKHVybHMpIHtcbiAgICAgIHRoaXMuaW5pdEZyb21BcnJheSh1cmxzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgYWRkQmFzZVRleHR1cmVBdChiYXNlVGV4dHVyZSwgaW5kZXgpIHtcbiAgICBpZiAoYmFzZVRleHR1cmUucmVzb3VyY2UpIHtcbiAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChiYXNlVGV4dHVyZS5yZXNvdXJjZSwgaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBcnJheVJlc291cmNlIGRvZXMgbm90IHN1cHBvcnQgUmVuZGVyVGV4dHVyZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYmluZChiYXNlVGV4dHVyZSkge1xuICAgIHN1cGVyLmJpbmQoYmFzZVRleHR1cmUpO1xuICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV8yRF9BUlJBWTtcbiAgfVxuICB1cGxvYWQocmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgIGNvbnN0IHsgbGVuZ3RoLCBpdGVtRGlydHlJZHMsIGl0ZW1zIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgZ2wgfSA9IHJlbmRlcmVyO1xuICAgIGlmIChnbFRleHR1cmUuZGlydHlJZCA8IDApIHtcbiAgICAgIGdsLnRleEltYWdlM0QoZ2wuVEVYVFVSRV8yRF9BUlJBWSwgMCwgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LCB0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0LCBsZW5ndGgsIDAsIHRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgbnVsbCk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgIGlmIChpdGVtRGlydHlJZHNbaV0gPCBpdGVtLmRpcnR5SWQpIHtcbiAgICAgICAgaXRlbURpcnR5SWRzW2ldID0gaXRlbS5kaXJ0eUlkO1xuICAgICAgICBpZiAoaXRlbS52YWxpZCkge1xuICAgICAgICAgIGdsLnRleFN1YkltYWdlM0QoZ2wuVEVYVFVSRV8yRF9BUlJBWSwgMCwgMCwgMCwgaSwgaXRlbS5yZXNvdXJjZS53aWR0aCwgaXRlbS5yZXNvdXJjZS5oZWlnaHQsIDEsIHRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgaXRlbS5yZXNvdXJjZS5zb3VyY2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCB7IEFycmF5UmVzb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFycmF5UmVzb3VyY2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgQUxQSEFfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4gfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBSZXNvdXJjZSB9IGZyb20gJy4vUmVzb3VyY2UubWpzJztcblxuY2xhc3MgQmFzZUltYWdlUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gIGNvbnN0cnVjdG9yKHNvdXJjZSkge1xuICAgIGNvbnN0IHNvdXJjZUFueSA9IHNvdXJjZTtcbiAgICBjb25zdCB3aWR0aCA9IHNvdXJjZUFueS5uYXR1cmFsV2lkdGggfHwgc291cmNlQW55LnZpZGVvV2lkdGggfHwgc291cmNlQW55LndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IHNvdXJjZUFueS5uYXR1cmFsSGVpZ2h0IHx8IHNvdXJjZUFueS52aWRlb0hlaWdodCB8fCBzb3VyY2VBbnkuaGVpZ2h0O1xuICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIHRoaXMubm9TdWJJbWFnZSA9IGZhbHNlO1xuICB9XG4gIHN0YXRpYyBjcm9zc09yaWdpbihlbGVtZW50LCB1cmwsIGNyb3Nzb3JpZ2luKSB7XG4gICAgaWYgKGNyb3Nzb3JpZ2luID09PSB2b2lkIDAgJiYgIXVybC5zdGFydHNXaXRoKFwiZGF0YTpcIikpIHtcbiAgICAgIGVsZW1lbnQuY3Jvc3NPcmlnaW4gPSBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwpO1xuICAgIH0gZWxzZSBpZiAoY3Jvc3NvcmlnaW4gIT09IGZhbHNlKSB7XG4gICAgICBlbGVtZW50LmNyb3NzT3JpZ2luID0gdHlwZW9mIGNyb3Nzb3JpZ2luID09PSBcInN0cmluZ1wiID8gY3Jvc3NvcmlnaW4gOiBcImFub255bW91c1wiO1xuICAgIH1cbiAgfVxuICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUsIHNvdXJjZSkge1xuICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgY29uc3Qgd2lkdGggPSBiYXNlVGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gYmFzZVRleHR1cmUucmVhbEhlaWdodDtcbiAgICBzb3VyY2UgPSBzb3VyY2UgfHwgdGhpcy5zb3VyY2U7XG4gICAgaWYgKHR5cGVvZiBIVE1MSW1hZ2VFbGVtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgIGlmICghc291cmNlLmNvbXBsZXRlIHx8IHNvdXJjZS5uYXR1cmFsV2lkdGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIEhUTUxWaWRlb0VsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgc291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkge1xuICAgICAgaWYgKHNvdXJjZS5yZWFkeVN0YXRlIDw9IDEgJiYgc291cmNlLmJ1ZmZlcmVkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuICAgIGlmICghdGhpcy5ub1N1YkltYWdlICYmIGJhc2VUZXh0dXJlLnRhcmdldCA9PT0gZ2wuVEVYVFVSRV8yRCAmJiBnbFRleHR1cmUud2lkdGggPT09IHdpZHRoICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGhlaWdodCkge1xuICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCBiYXNlVGV4dHVyZS5mb3JtYXQsIGdsVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbFRleHR1cmUud2lkdGggPSB3aWR0aDtcbiAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBnbC50ZXhJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LCBiYXNlVGV4dHVyZS5mb3JtYXQsIGdsVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB1cGRhdGUoKSB7XG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgIGNvbnN0IHdpZHRoID0gc291cmNlLm5hdHVyYWxXaWR0aCB8fCBzb3VyY2UudmlkZW9XaWR0aCB8fCBzb3VyY2Uud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gc291cmNlLm5hdHVyYWxIZWlnaHQgfHwgc291cmNlLnZpZGVvSGVpZ2h0IHx8IHNvdXJjZS5oZWlnaHQ7XG4gICAgdGhpcy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgc3VwZXIudXBkYXRlKCk7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmFzZUltYWdlUmVzb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VJbWFnZVJlc291cmNlLm1qcy5tYXBcbiIsImltcG9ydCB7IEFMUEhBX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFJlc291cmNlIH0gZnJvbSAnLi9SZXNvdXJjZS5tanMnO1xuXG5jbGFzcyBCdWZmZXJSZXNvdXJjZSBleHRlbmRzIFJlc291cmNlIHtcbiAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBvcHRpb25zIHx8IHt9O1xuICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyUmVzb3VyY2Ugd2lkdGggb3IgaGVpZ2h0IGludmFsaWRcIik7XG4gICAgfVxuICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuICAgIHRoaXMuZGF0YSA9IHNvdXJjZTtcbiAgfVxuICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuICAgIGNvbnN0IHdpZHRoID0gYmFzZVRleHR1cmUucmVhbFdpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQ7XG4gICAgaWYgKGdsVGV4dHVyZS53aWR0aCA9PT0gd2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gaGVpZ2h0KSB7XG4gICAgICBnbC50ZXhTdWJJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgMCwgMCwgd2lkdGgsIGhlaWdodCwgYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgZ2wudGV4SW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCwgd2lkdGgsIGhlaWdodCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuICB9XG4gIHN0YXRpYyB0ZXN0KHNvdXJjZSkge1xuICAgIHJldHVybiBzb3VyY2UgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgfHwgc291cmNlIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBzb3VyY2UgaW5zdGFuY2VvZiBVaW50MzJBcnJheTtcbiAgfVxufVxuXG5leHBvcnQgeyBCdWZmZXJSZXNvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnVmZmVyUmVzb3VyY2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgQmFzZUltYWdlUmVzb3VyY2UgfSBmcm9tICcuL0Jhc2VJbWFnZVJlc291cmNlLm1qcyc7XG5cbmNsYXNzIENhbnZhc1Jlc291cmNlIGV4dGVuZHMgQmFzZUltYWdlUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UpIHtcbiAgICBzdXBlcihzb3VyY2UpO1xuICB9XG4gIHN0YXRpYyB0ZXN0KHNvdXJjZSkge1xuICAgIGNvbnN0IHsgT2Zmc2NyZWVuQ2FudmFzIH0gPSBnbG9iYWxUaGlzO1xuICAgIGlmIChPZmZzY3JlZW5DYW52YXMgJiYgc291cmNlIGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGdsb2JhbFRoaXMuSFRNTENhbnZhc0VsZW1lbnQgJiYgc291cmNlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQ7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ2FudmFzUmVzb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1Jlc291cmNlLm1qcy5tYXBcbiIsImltcG9ydCB7IFRBUkdFVFMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQWJzdHJhY3RNdWx0aVJlc291cmNlIH0gZnJvbSAnLi9BYnN0cmFjdE11bHRpUmVzb3VyY2UubWpzJztcblxuY29uc3QgX0N1YmVSZXNvdXJjZSA9IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RNdWx0aVJlc291cmNlIHtcbiAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBhdXRvTG9hZCwgbGlua0Jhc2VUZXh0dXJlIH0gPSBvcHRpb25zIHx8IHt9O1xuICAgIGlmIChzb3VyY2UgJiYgc291cmNlLmxlbmd0aCAhPT0gX0N1YmVSZXNvdXJjZS5TSURFUykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGxlbmd0aC4gR290ICR7c291cmNlLmxlbmd0aH0sIGV4cGVjdGVkIDZgKTtcbiAgICB9XG4gICAgc3VwZXIoNiwgeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX0N1YmVSZXNvdXJjZS5TSURFUzsgaSsrKSB7XG4gICAgICB0aGlzLml0ZW1zW2ldLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaTtcbiAgICB9XG4gICAgdGhpcy5saW5rQmFzZVRleHR1cmUgPSBsaW5rQmFzZVRleHR1cmUgIT09IGZhbHNlO1xuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIHRoaXMuaW5pdEZyb21BcnJheShzb3VyY2UsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG4gIH1cbiAgYmluZChiYXNlVGV4dHVyZSkge1xuICAgIHN1cGVyLmJpbmQoYmFzZVRleHR1cmUpO1xuICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUDtcbiAgfVxuICBhZGRCYXNlVGV4dHVyZUF0KGJhc2VUZXh0dXJlLCBpbmRleCwgbGlua0Jhc2VUZXh0dXJlKSB7XG4gICAgaWYgKGxpbmtCYXNlVGV4dHVyZSA9PT0gdm9pZCAwKSB7XG4gICAgICBsaW5rQmFzZVRleHR1cmUgPSB0aGlzLmxpbmtCYXNlVGV4dHVyZTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLml0ZW1zW2luZGV4XSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmRleCAke2luZGV4fSBpcyBvdXQgb2YgYm91bmRzYCk7XG4gICAgfVxuICAgIGlmICghdGhpcy5saW5rQmFzZVRleHR1cmUgfHwgYmFzZVRleHR1cmUucGFyZW50VGV4dHVyZUFycmF5IHx8IE9iamVjdC5rZXlzKGJhc2VUZXh0dXJlLl9nbFRleHR1cmVzKS5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoYmFzZVRleHR1cmUucmVzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KGJhc2VUZXh0dXJlLnJlc291cmNlLCBpbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEN1YmVSZXNvdXJjZSBkb2VzIG5vdCBzdXBwb3J0IGNvcHlpbmcgb2YgcmVuZGVyVGV4dHVyZS5gKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpbmRleDtcbiAgICAgIGJhc2VUZXh0dXJlLnBhcmVudFRleHR1cmVBcnJheSA9IHRoaXMuYmFzZVRleHR1cmU7XG4gICAgICB0aGlzLml0ZW1zW2luZGV4XSA9IGJhc2VUZXh0dXJlO1xuICAgIH1cbiAgICBpZiAoYmFzZVRleHR1cmUudmFsaWQgJiYgIXRoaXMudmFsaWQpIHtcbiAgICAgIHRoaXMucmVzaXplKGJhc2VUZXh0dXJlLnJlYWxXaWR0aCwgYmFzZVRleHR1cmUucmVhbEhlaWdodCk7XG4gICAgfVxuICAgIHRoaXMuaXRlbXNbaW5kZXhdID0gYmFzZVRleHR1cmU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdXBsb2FkKHJlbmRlcmVyLCBfYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgIGNvbnN0IGRpcnR5ID0gdGhpcy5pdGVtRGlydHlJZHM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfQ3ViZVJlc291cmNlLlNJREVTOyBpKyspIHtcbiAgICAgIGNvbnN0IHNpZGUgPSB0aGlzLml0ZW1zW2ldO1xuICAgICAgaWYgKGRpcnR5W2ldIDwgc2lkZS5kaXJ0eUlkIHx8IGdsVGV4dHVyZS5kaXJ0eUlkIDwgX2Jhc2VUZXh0dXJlLmRpcnR5SWQpIHtcbiAgICAgICAgaWYgKHNpZGUudmFsaWQgJiYgc2lkZS5yZXNvdXJjZSkge1xuICAgICAgICAgIHNpZGUucmVzb3VyY2UudXBsb2FkKHJlbmRlcmVyLCBzaWRlLCBnbFRleHR1cmUpO1xuICAgICAgICAgIGRpcnR5W2ldID0gc2lkZS5kaXJ0eUlkO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcnR5W2ldIDwgLTEpIHtcbiAgICAgICAgICByZW5kZXJlci5nbC50ZXhJbWFnZTJEKHNpZGUudGFyZ2V0LCAwLCBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsIF9iYXNlVGV4dHVyZS5yZWFsV2lkdGgsIF9iYXNlVGV4dHVyZS5yZWFsSGVpZ2h0LCAwLCBfYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgbnVsbCk7XG4gICAgICAgICAgZGlydHlbaV0gPSAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBzdGF0aWMgdGVzdChzb3VyY2UpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShzb3VyY2UpICYmIHNvdXJjZS5sZW5ndGggPT09IF9DdWJlUmVzb3VyY2UuU0lERVM7XG4gIH1cbn07XG5sZXQgQ3ViZVJlc291cmNlID0gX0N1YmVSZXNvdXJjZTtcbkN1YmVSZXNvdXJjZS5TSURFUyA9IDY7XG5cbmV4cG9ydCB7IEN1YmVSZXNvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q3ViZVJlc291cmNlLm1qcy5tYXBcbiIsImltcG9ydCB7IEFMUEhBX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEJ1ZmZlclJlc291cmNlIH0gZnJvbSAnLi9CdWZmZXJSZXNvdXJjZS5tanMnO1xuXG5jbGFzcyBEZXB0aFJlc291cmNlIGV4dGVuZHMgQnVmZmVyUmVzb3VyY2Uge1xuICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuICAgIGNvbnN0IHdpZHRoID0gYmFzZVRleHR1cmUucmVhbFdpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQ7XG4gICAgaWYgKGdsVGV4dHVyZS53aWR0aCA9PT0gd2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gaGVpZ2h0KSB7XG4gICAgICBnbC50ZXhTdWJJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgMCwgMCwgd2lkdGgsIGhlaWdodCwgYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgZ2wudGV4SW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCwgd2lkdGgsIGhlaWdodCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgRGVwdGhSZXNvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVwdGhSZXNvdXJjZS5tanMubWFwXG4iLCJpbXBvcnQgeyBBTFBIQV9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IEJhc2VJbWFnZVJlc291cmNlIH0gZnJvbSAnLi9CYXNlSW1hZ2VSZXNvdXJjZS5tanMnO1xuXG5jbGFzcyBJbWFnZUJpdG1hcFJlc291cmNlIGV4dGVuZHMgQmFzZUltYWdlUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBsZXQgYmFzZVNvdXJjZTtcbiAgICBsZXQgdXJsO1xuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBiYXNlU291cmNlID0gSW1hZ2VCaXRtYXBSZXNvdXJjZS5FTVBUWTtcbiAgICAgIHVybCA9IHNvdXJjZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYmFzZVNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIHVybCA9IG51bGw7XG4gICAgfVxuICAgIHN1cGVyKGJhc2VTb3VyY2UpO1xuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSBvcHRpb25zLmNyb3NzT3JpZ2luID8/IHRydWU7XG4gICAgdGhpcy5hbHBoYU1vZGUgPSB0eXBlb2Ygb3B0aW9ucy5hbHBoYU1vZGUgPT09IFwibnVtYmVyXCIgPyBvcHRpb25zLmFscGhhTW9kZSA6IG51bGw7XG4gICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG4gIH1cbiAgbG9hZCgpIHtcbiAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfVxuICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy51cmwgPT09IG51bGwpIHtcbiAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZXR0aW5ncy5BREFQVEVSLmZldGNoKHRoaXMudXJsLCB7XG4gICAgICAgICAgbW9kZTogdGhpcy5jcm9zc09yaWdpbiA/IFwiY29yc1wiIDogXCJuby1jb3JzXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGltYWdlQmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaW1hZ2VCaXRtYXAgPSBhd2FpdCBjcmVhdGVJbWFnZUJpdG1hcChpbWFnZUJsb2IsIHtcbiAgICAgICAgICBwcmVtdWx0aXBseUFscGhhOiB0aGlzLmFscGhhTW9kZSA9PT0gbnVsbCB8fCB0aGlzLmFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuVU5QQUNLID8gXCJwcmVtdWx0aXBseVwiIDogXCJub25lXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuc291cmNlID0gaW1hZ2VCaXRtYXA7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHJlc29sdmUodGhpcyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgdGhpcy5vbkVycm9yLmVtaXQoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gIH1cbiAgdXBsb2FkKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgaWYgKCEodGhpcy5zb3VyY2UgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcCkpIHtcbiAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHRoaXMuYWxwaGFNb2RlID09PSBcIm51bWJlclwiKSB7XG4gICAgICBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPSB0aGlzLmFscGhhTW9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLnVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSk7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICBpZiAodGhpcy5zb3VyY2UgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcCkge1xuICAgICAgdGhpcy5zb3VyY2UuY2xvc2UoKTtcbiAgICB9XG4gICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICB9XG4gIHN0YXRpYyB0ZXN0KHNvdXJjZSkge1xuICAgIHJldHVybiAhIWdsb2JhbFRoaXMuY3JlYXRlSW1hZ2VCaXRtYXAgJiYgdHlwZW9mIEltYWdlQml0bWFwICE9PSBcInVuZGVmaW5lZFwiICYmICh0eXBlb2Ygc291cmNlID09PSBcInN0cmluZ1wiIHx8IHNvdXJjZSBpbnN0YW5jZW9mIEltYWdlQml0bWFwKTtcbiAgfVxuICBzdGF0aWMgZ2V0IEVNUFRZKCkge1xuICAgIEltYWdlQml0bWFwUmVzb3VyY2UuX0VNUFRZID0gSW1hZ2VCaXRtYXBSZXNvdXJjZS5fRU1QVFkgPz8gc2V0dGluZ3MuQURBUFRFUi5jcmVhdGVDYW52YXMoMCwgMCk7XG4gICAgcmV0dXJuIEltYWdlQml0bWFwUmVzb3VyY2UuX0VNUFRZO1xuICB9XG59XG5cbmV4cG9ydCB7IEltYWdlQml0bWFwUmVzb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltYWdlQml0bWFwUmVzb3VyY2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgQUxQSEFfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBCYXNlSW1hZ2VSZXNvdXJjZSB9IGZyb20gJy4vQmFzZUltYWdlUmVzb3VyY2UubWpzJztcblxuY2xhc3MgSW1hZ2VSZXNvdXJjZSBleHRlbmRzIEJhc2VJbWFnZVJlc291cmNlIHtcbiAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IG5ldyBJbWFnZSgpO1xuICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4oaW1hZ2VFbGVtZW50LCBzb3VyY2UsIG9wdGlvbnMuY3Jvc3NvcmlnaW4pO1xuICAgICAgaW1hZ2VFbGVtZW50LnNyYyA9IHNvdXJjZTtcbiAgICAgIHNvdXJjZSA9IGltYWdlRWxlbWVudDtcbiAgICB9XG4gICAgc3VwZXIoc291cmNlKTtcbiAgICBpZiAoIXNvdXJjZS5jb21wbGV0ZSAmJiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0KSB7XG4gICAgICB0aGlzLl93aWR0aCA9IDA7XG4gICAgICB0aGlzLl9oZWlnaHQgPSAwO1xuICAgIH1cbiAgICB0aGlzLnVybCA9IHNvdXJjZS5zcmM7XG4gICAgdGhpcy5fcHJvY2VzcyA9IG51bGw7XG4gICAgdGhpcy5wcmVzZXJ2ZUJpdG1hcCA9IGZhbHNlO1xuICAgIHRoaXMuY3JlYXRlQml0bWFwID0gKG9wdGlvbnMuY3JlYXRlQml0bWFwID8/IHNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVApICYmICEhZ2xvYmFsVGhpcy5jcmVhdGVJbWFnZUJpdG1hcDtcbiAgICB0aGlzLmFscGhhTW9kZSA9IHR5cGVvZiBvcHRpb25zLmFscGhhTW9kZSA9PT0gXCJudW1iZXJcIiA/IG9wdGlvbnMuYWxwaGFNb2RlIDogbnVsbDtcbiAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG4gIH1cbiAgbG9hZChjcmVhdGVCaXRtYXApIHtcbiAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfVxuICAgIGlmIChjcmVhdGVCaXRtYXAgIT09IHZvaWQgMCkge1xuICAgICAgdGhpcy5jcmVhdGVCaXRtYXAgPSBjcmVhdGVCaXRtYXA7XG4gICAgfVxuICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgIHRoaXMudXJsID0gc291cmNlLnNyYztcbiAgICAgIGNvbnN0IGNvbXBsZXRlZCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICBzb3VyY2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzaXplKHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCk7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5jcmVhdGVCaXRtYXApIHtcbiAgICAgICAgICByZXNvbHZlKHRoaXMucHJvY2VzcygpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKHNvdXJjZS5jb21wbGV0ZSAmJiBzb3VyY2Uuc3JjKSB7XG4gICAgICAgIGNvbXBsZXRlZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291cmNlLm9ubG9hZCA9IGNvbXBsZXRlZDtcbiAgICAgICAgc291cmNlLm9uZXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICByZWplY3QoZXZlbnQpO1xuICAgICAgICAgIHRoaXMub25FcnJvci5lbWl0KGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgfVxuICBwcm9jZXNzKCkge1xuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgIGlmICh0aGlzLl9wcm9jZXNzICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICB9XG4gICAgaWYgKHRoaXMuYml0bWFwICE9PSBudWxsIHx8ICFnbG9iYWxUaGlzLmNyZWF0ZUltYWdlQml0bWFwKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgIH1cbiAgICBjb25zdCBjcmVhdGVJbWFnZUJpdG1hcCA9IGdsb2JhbFRoaXMuY3JlYXRlSW1hZ2VCaXRtYXA7XG4gICAgY29uc3QgY29ycyA9ICFzb3VyY2UuY3Jvc3NPcmlnaW4gfHwgc291cmNlLmNyb3NzT3JpZ2luID09PSBcImFub255bW91c1wiO1xuICAgIHRoaXMuX3Byb2Nlc3MgPSBmZXRjaChzb3VyY2Uuc3JjLCB7XG4gICAgICBtb2RlOiBjb3JzID8gXCJjb3JzXCIgOiBcIm5vLWNvcnNcIlxuICAgIH0pLnRoZW4oKHIpID0+IHIuYmxvYigpKS50aGVuKChibG9iKSA9PiBjcmVhdGVJbWFnZUJpdG1hcChibG9iLCAwLCAwLCBzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQsIHtcbiAgICAgIHByZW11bHRpcGx5QWxwaGE6IHRoaXMuYWxwaGFNb2RlID09PSBudWxsIHx8IHRoaXMuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0sgPyBcInByZW11bHRpcGx5XCIgOiBcIm5vbmVcIlxuICAgIH0pKS50aGVuKChiaXRtYXApID0+IHtcbiAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYml0bWFwID0gYml0bWFwO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIHRoaXMuX3Byb2Nlc3MgPSBudWxsO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgfVxuICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuYWxwaGFNb2RlID09PSBcIm51bWJlclwiKSB7XG4gICAgICBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPSB0aGlzLmFscGhhTW9kZTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmNyZWF0ZUJpdG1hcCkge1xuICAgICAgcmV0dXJuIHN1cGVyLnVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSk7XG4gICAgfVxuICAgIGlmICghdGhpcy5iaXRtYXApIHtcbiAgICAgIHRoaXMucHJvY2VzcygpO1xuICAgICAgaWYgKCF0aGlzLmJpdG1hcCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHN1cGVyLnVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSwgdGhpcy5iaXRtYXApO1xuICAgIGlmICghdGhpcy5wcmVzZXJ2ZUJpdG1hcCkge1xuICAgICAgbGV0IGZsYWcgPSB0cnVlO1xuICAgICAgY29uc3QgZ2xUZXh0dXJlcyA9IGJhc2VUZXh0dXJlLl9nbFRleHR1cmVzO1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gZ2xUZXh0dXJlcykge1xuICAgICAgICBjb25zdCBvdGhlclRleCA9IGdsVGV4dHVyZXNba2V5XTtcbiAgICAgICAgaWYgKG90aGVyVGV4ICE9PSBnbFRleHR1cmUgJiYgb3RoZXJUZXguZGlydHlJZCAhPT0gYmFzZVRleHR1cmUuZGlydHlJZCkge1xuICAgICAgICAgIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgaWYgKHRoaXMuYml0bWFwLmNsb3NlKSB7XG4gICAgICAgICAgdGhpcy5iaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5zb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICB0aGlzLnNvdXJjZS5vbmVycm9yID0gbnVsbDtcbiAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgaWYgKHRoaXMuYml0bWFwKSB7XG4gICAgICB0aGlzLmJpdG1hcC5jbG9zZSgpO1xuICAgICAgdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLl9wcm9jZXNzID0gbnVsbDtcbiAgICB0aGlzLl9sb2FkID0gbnVsbDtcbiAgfVxuICBzdGF0aWMgdGVzdChzb3VyY2UpIHtcbiAgICByZXR1cm4gdHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgKHR5cGVvZiBzb3VyY2UgPT09IFwic3RyaW5nXCIgfHwgc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgSW1hZ2VSZXNvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1hZ2VSZXNvdXJjZS5tanMubWFwXG4iLCJpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuXG5jbGFzcyBSZXNvdXJjZSB7XG4gIGNvbnN0cnVjdG9yKHdpZHRoID0gMCwgaGVpZ2h0ID0gMCkge1xuICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgdGhpcy5pbnRlcm5hbCA9IGZhbHNlO1xuICAgIHRoaXMub25SZXNpemUgPSBuZXcgUnVubmVyKFwic2V0UmVhbFNpemVcIik7XG4gICAgdGhpcy5vblVwZGF0ZSA9IG5ldyBSdW5uZXIoXCJ1cGRhdGVcIik7XG4gICAgdGhpcy5vbkVycm9yID0gbmV3IFJ1bm5lcihcIm9uRXJyb3JcIik7XG4gIH1cbiAgYmluZChiYXNlVGV4dHVyZSkge1xuICAgIHRoaXMub25SZXNpemUuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICB0aGlzLm9uVXBkYXRlLmFkZChiYXNlVGV4dHVyZSk7XG4gICAgdGhpcy5vbkVycm9yLmFkZChiYXNlVGV4dHVyZSk7XG4gICAgaWYgKHRoaXMuX3dpZHRoIHx8IHRoaXMuX2hlaWdodCkge1xuICAgICAgdGhpcy5vblJlc2l6ZS5lbWl0KHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQpO1xuICAgIH1cbiAgfVxuICB1bmJpbmQoYmFzZVRleHR1cmUpIHtcbiAgICB0aGlzLm9uUmVzaXplLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgdGhpcy5vblVwZGF0ZS5yZW1vdmUoYmFzZVRleHR1cmUpO1xuICAgIHRoaXMub25FcnJvci5yZW1vdmUoYmFzZVRleHR1cmUpO1xuICB9XG4gIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgaWYgKHdpZHRoICE9PSB0aGlzLl93aWR0aCB8fCBoZWlnaHQgIT09IHRoaXMuX2hlaWdodCkge1xuICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgIHRoaXMub25SZXNpemUuZW1pdCh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gIH1cbiAgZ2V0IHZhbGlkKCkge1xuICAgIHJldHVybiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0O1xuICB9XG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICB0aGlzLm9uVXBkYXRlLmVtaXQoKTtcbiAgICB9XG4gIH1cbiAgbG9hZCgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICB9XG4gIGdldCB3aWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gIH1cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICB9XG4gIHN0eWxlKF9yZW5kZXJlciwgX2Jhc2VUZXh0dXJlLCBfZ2xUZXh0dXJlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGRpc3Bvc2UoKSB7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMub25FcnJvci5yZW1vdmVBbGwoKTtcbiAgICAgIHRoaXMub25FcnJvciA9IG51bGw7XG4gICAgICB0aGlzLm9uUmVzaXplLnJlbW92ZUFsbCgpO1xuICAgICAgdGhpcy5vblJlc2l6ZSA9IG51bGw7XG4gICAgICB0aGlzLm9uVXBkYXRlLnJlbW92ZUFsbCgpO1xuICAgICAgdGhpcy5vblVwZGF0ZSA9IG51bGw7XG4gICAgfVxuICB9XG4gIHN0YXRpYyB0ZXN0KF9zb3VyY2UsIF9leHRlbnNpb24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IHsgUmVzb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlc291cmNlLm1qcy5tYXBcbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgdWlkIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgQmFzZUltYWdlUmVzb3VyY2UgfSBmcm9tICcuL0Jhc2VJbWFnZVJlc291cmNlLm1qcyc7XG5cbmNvbnN0IF9TVkdSZXNvdXJjZSA9IGNsYXNzIGV4dGVuZHMgQmFzZUltYWdlUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2VCYXNlNjQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBzdXBlcihzZXR0aW5ncy5BREFQVEVSLmNyZWF0ZUNhbnZhcygpKTtcbiAgICB0aGlzLl93aWR0aCA9IDA7XG4gICAgdGhpcy5faGVpZ2h0ID0gMDtcbiAgICB0aGlzLnN2ZyA9IHNvdXJjZUJhc2U2NDtcbiAgICB0aGlzLnNjYWxlID0gb3B0aW9ucy5zY2FsZSB8fCAxO1xuICAgIHRoaXMuX292ZXJyaWRlV2lkdGggPSBvcHRpb25zLndpZHRoO1xuICAgIHRoaXMuX292ZXJyaWRlSGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgdGhpcy5fY3Jvc3NvcmlnaW4gPSBvcHRpb25zLmNyb3Nzb3JpZ2luO1xuICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSkge1xuICAgICAgdGhpcy5sb2FkKCk7XG4gICAgfVxuICB9XG4gIGxvYWQoKSB7XG4gICAgaWYgKHRoaXMuX2xvYWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH1cbiAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuX3Jlc29sdmUgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMucmVzaXplKHRoaXMuc291cmNlLndpZHRoLCB0aGlzLnNvdXJjZS5oZWlnaHQpO1xuICAgICAgICByZXNvbHZlKHRoaXMpO1xuICAgICAgfTtcbiAgICAgIGlmIChfU1ZHUmVzb3VyY2UuU1ZHX1hNTC50ZXN0KHRoaXMuc3ZnLnRyaW0oKSkpIHtcbiAgICAgICAgaWYgKCFidG9hKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBiYXNlNjQgY29udmVyc2lvbnMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3ZnID0gYGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsJHtidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLnN2ZykpKX1gO1xuICAgICAgfVxuICAgICAgdGhpcy5fbG9hZFN2ZygpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICB9XG4gIF9sb2FkU3ZnKCkge1xuICAgIGNvbnN0IHRlbXBJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKHRlbXBJbWFnZSwgdGhpcy5zdmcsIHRoaXMuX2Nyb3Nzb3JpZ2luKTtcbiAgICB0ZW1wSW1hZ2Uuc3JjID0gdGhpcy5zdmc7XG4gICAgdGVtcEltYWdlLm9uZXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghdGhpcy5fcmVzb2x2ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0ZW1wSW1hZ2Uub25lcnJvciA9IG51bGw7XG4gICAgICB0aGlzLm9uRXJyb3IuZW1pdChldmVudCk7XG4gICAgfTtcbiAgICB0ZW1wSW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9yZXNvbHZlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN2Z1dpZHRoID0gdGVtcEltYWdlLndpZHRoO1xuICAgICAgY29uc3Qgc3ZnSGVpZ2h0ID0gdGVtcEltYWdlLmhlaWdodDtcbiAgICAgIGlmICghc3ZnV2lkdGggfHwgIXN2Z0hlaWdodCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgU1ZHIGltYWdlIG11c3QgaGF2ZSB3aWR0aCBhbmQgaGVpZ2h0IGRlZmluZWQgKGluIHBpeGVscyksIGNhbnZhcyBBUEkgbmVlZHMgdGhlbS5cIik7XG4gICAgICB9XG4gICAgICBsZXQgd2lkdGggPSBzdmdXaWR0aCAqIHRoaXMuc2NhbGU7XG4gICAgICBsZXQgaGVpZ2h0ID0gc3ZnSGVpZ2h0ICogdGhpcy5zY2FsZTtcbiAgICAgIGlmICh0aGlzLl9vdmVycmlkZVdpZHRoIHx8IHRoaXMuX292ZXJyaWRlSGVpZ2h0KSB7XG4gICAgICAgIHdpZHRoID0gdGhpcy5fb3ZlcnJpZGVXaWR0aCB8fCB0aGlzLl9vdmVycmlkZUhlaWdodCAvIHN2Z0hlaWdodCAqIHN2Z1dpZHRoO1xuICAgICAgICBoZWlnaHQgPSB0aGlzLl9vdmVycmlkZUhlaWdodCB8fCB0aGlzLl9vdmVycmlkZVdpZHRoIC8gc3ZnV2lkdGggKiBzdmdIZWlnaHQ7XG4gICAgICB9XG4gICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGgpO1xuICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpO1xuICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5zb3VyY2U7XG4gICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBjYW52YXMuX3BpeGlJZCA9IGBjYW52YXNfJHt1aWQoKX1gO1xuICAgICAgY2FudmFzLmdldENvbnRleHQoXCIyZFwiKS5kcmF3SW1hZ2UodGVtcEltYWdlLCAwLCAwLCBzdmdXaWR0aCwgc3ZnSGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIHRoaXMuX3Jlc29sdmUoKTtcbiAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgIH07XG4gIH1cbiAgc3RhdGljIGdldFNpemUoc3ZnU3RyaW5nKSB7XG4gICAgY29uc3Qgc2l6ZU1hdGNoID0gX1NWR1Jlc291cmNlLlNWR19TSVpFLmV4ZWMoc3ZnU3RyaW5nKTtcbiAgICBjb25zdCBzaXplID0ge307XG4gICAgaWYgKHNpemVNYXRjaCkge1xuICAgICAgc2l6ZVtzaXplTWF0Y2hbMV1dID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHNpemVNYXRjaFszXSkpO1xuICAgICAgc2l6ZVtzaXplTWF0Y2hbNV1dID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHNpemVNYXRjaFs3XSkpO1xuICAgIH1cbiAgICByZXR1cm4gc2l6ZTtcbiAgfVxuICBkaXNwb3NlKCkge1xuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICB0aGlzLl9jcm9zc29yaWdpbiA9IG51bGw7XG4gIH1cbiAgc3RhdGljIHRlc3Qoc291cmNlLCBleHRlbnNpb24pIHtcbiAgICByZXR1cm4gZXh0ZW5zaW9uID09PSBcInN2Z1wiIHx8IHR5cGVvZiBzb3VyY2UgPT09IFwic3RyaW5nXCIgJiYgc291cmNlLnN0YXJ0c1dpdGgoXCJkYXRhOmltYWdlL3N2Zyt4bWxcIikgfHwgdHlwZW9mIHNvdXJjZSA9PT0gXCJzdHJpbmdcIiAmJiBfU1ZHUmVzb3VyY2UuU1ZHX1hNTC50ZXN0KHNvdXJjZSk7XG4gIH1cbn07XG5sZXQgU1ZHUmVzb3VyY2UgPSBfU1ZHUmVzb3VyY2U7XG5TVkdSZXNvdXJjZS5TVkdfWE1MID0gL14oPFxcP3htbFteP10rXFw/Pik/XFxzKig8IS0tW14oLS0+KV0qLS0+KT9cXHMqXFw8c3ZnL207XG5TVkdSZXNvdXJjZS5TVkdfU0laRSA9IC88c3ZnW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKj4vaTtcblxuZXhwb3J0IHsgU1ZHUmVzb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNWR1Jlc291cmNlLm1qcy5tYXBcbiIsImltcG9ydCB7IFRpY2tlciB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBCYXNlSW1hZ2VSZXNvdXJjZSB9IGZyb20gJy4vQmFzZUltYWdlUmVzb3VyY2UubWpzJztcblxuY29uc3QgX1ZpZGVvUmVzb3VyY2UgPSBjbGFzcyBleHRlbmRzIEJhc2VJbWFnZVJlc291cmNlIHtcbiAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkpIHtcbiAgICAgIGNvbnN0IHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtcbiAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJwcmVsb2FkXCIsIFwiYXV0b1wiKTtcbiAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ3ZWJraXQtcGxheXNpbmxpbmVcIiwgXCJcIik7XG4gICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIiwgXCJcIik7XG4gICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBzb3VyY2UgPSBbc291cmNlXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZpcnN0U3JjID0gc291cmNlWzBdLnNyYyB8fCBzb3VyY2VbMF07XG4gICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbih2aWRlb0VsZW1lbnQsIGZpcnN0U3JjLCBvcHRpb25zLmNyb3Nzb3JpZ2luKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic291cmNlXCIpO1xuICAgICAgICBsZXQgeyBzcmMsIG1pbWUgfSA9IHNvdXJjZVtpXTtcbiAgICAgICAgc3JjID0gc3JjIHx8IHNvdXJjZVtpXTtcbiAgICAgICAgY29uc3QgYmFzZVNyYyA9IHNyYy5zcGxpdChcIj9cIikuc2hpZnQoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBleHQgPSBiYXNlU3JjLnNsaWNlKGJhc2VTcmMubGFzdEluZGV4T2YoXCIuXCIpICsgMSk7XG4gICAgICAgIG1pbWUgPSBtaW1lIHx8IF9WaWRlb1Jlc291cmNlLk1JTUVfVFlQRVNbZXh0XSB8fCBgdmlkZW8vJHtleHR9YDtcbiAgICAgICAgc291cmNlRWxlbWVudC5zcmMgPSBzcmM7XG4gICAgICAgIHNvdXJjZUVsZW1lbnQudHlwZSA9IG1pbWU7XG4gICAgICAgIHZpZGVvRWxlbWVudC5hcHBlbmRDaGlsZChzb3VyY2VFbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIHNvdXJjZSA9IHZpZGVvRWxlbWVudDtcbiAgICB9XG4gICAgc3VwZXIoc291cmNlKTtcbiAgICB0aGlzLm5vU3ViSW1hZ2UgPSB0cnVlO1xuICAgIHRoaXMuX2F1dG9VcGRhdGUgPSB0cnVlO1xuICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICB0aGlzLl91cGRhdGVGUFMgPSBvcHRpb25zLnVwZGF0ZUZQUyB8fCAwO1xuICAgIHRoaXMuX21zVG9OZXh0VXBkYXRlID0gMDtcbiAgICB0aGlzLmF1dG9QbGF5ID0gb3B0aW9ucy5hdXRvUGxheSAhPT0gZmFsc2U7XG4gICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgdGhpcy5fb25DYW5QbGF5ID0gdGhpcy5fb25DYW5QbGF5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25FcnJvciA9IHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKTtcbiAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cbiAgfVxuICB1cGRhdGUoX2RlbHRhVGltZSA9IDApIHtcbiAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICBjb25zdCBlbGFwc2VkTVMgPSBUaWNrZXIuc2hhcmVkLmVsYXBzZWRNUyAqIHRoaXMuc291cmNlLnBsYXliYWNrUmF0ZTtcbiAgICAgIHRoaXMuX21zVG9OZXh0VXBkYXRlID0gTWF0aC5mbG9vcih0aGlzLl9tc1RvTmV4dFVwZGF0ZSAtIGVsYXBzZWRNUyk7XG4gICAgICBpZiAoIXRoaXMuX3VwZGF0ZUZQUyB8fCB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA8PSAwKSB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA9IHRoaXMuX3VwZGF0ZUZQUyA/IE1hdGguZmxvb3IoMWUzIC8gdGhpcy5fdXBkYXRlRlBTKSA6IDA7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxvYWQoKSB7XG4gICAgaWYgKHRoaXMuX2xvYWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH1cbiAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICBpZiAoKHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9FTk9VR0hfREFUQSB8fCBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRlVUVVJFX0RBVEEpICYmIHNvdXJjZS53aWR0aCAmJiBzb3VyY2UuaGVpZ2h0KSB7XG4gICAgICBzb3VyY2UuY29tcGxldGUgPSB0cnVlO1xuICAgIH1cbiAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcInBsYXlcIiwgdGhpcy5fb25QbGF5U3RhcnQuYmluZCh0aGlzKSk7XG4gICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJwYXVzZVwiLCB0aGlzLl9vblBsYXlTdG9wLmJpbmQodGhpcykpO1xuICAgIGlmICghdGhpcy5faXNTb3VyY2VSZWFkeSgpKSB7XG4gICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcImNhbnBsYXlcIiwgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwiY2FucGxheXRocm91Z2hcIiwgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgdGhpcy5fb25FcnJvciwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX29uQ2FuUGxheSgpO1xuICAgIH1cbiAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGlmICh0aGlzLnZhbGlkKSB7XG4gICAgICAgIHJlc29sdmUodGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgc291cmNlLmxvYWQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgfVxuICBfb25FcnJvcihldmVudCkge1xuICAgIHRoaXMuc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICB0aGlzLm9uRXJyb3IuZW1pdChldmVudCk7XG4gIH1cbiAgX2lzU291cmNlUGxheWluZygpIHtcbiAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICByZXR1cm4gIXNvdXJjZS5wYXVzZWQgJiYgIXNvdXJjZS5lbmRlZCAmJiB0aGlzLl9pc1NvdXJjZVJlYWR5KCk7XG4gIH1cbiAgX2lzU291cmNlUmVhZHkoKSB7XG4gICAgY29uc3Qgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgcmV0dXJuIHNvdXJjZS5yZWFkeVN0YXRlID4gMjtcbiAgfVxuICBfb25QbGF5U3RhcnQoKSB7XG4gICAgaWYgKCF0aGlzLnZhbGlkKSB7XG4gICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IHRydWU7XG4gICAgfVxuICB9XG4gIF9vblBsYXlTdG9wKCkge1xuICAgIGlmICh0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIF9vbkNhblBsYXkoKSB7XG4gICAgY29uc3Qgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5XCIsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgIGNvbnN0IHZhbGlkID0gdGhpcy52YWxpZDtcbiAgICB0aGlzLnJlc2l6ZShzb3VyY2UudmlkZW9XaWR0aCwgc291cmNlLnZpZGVvSGVpZ2h0KTtcbiAgICBpZiAoIXZhbGlkICYmIHRoaXMuX3Jlc29sdmUpIHtcbiAgICAgIHRoaXMuX3Jlc29sdmUodGhpcyk7XG4gICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2lzU291cmNlUGxheWluZygpKSB7XG4gICAgICB0aGlzLl9vblBsYXlTdGFydCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5hdXRvUGxheSkge1xuICAgICAgc291cmNlLnBsYXkoKTtcbiAgICB9XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICBpZiAodGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICBpZiAoc291cmNlKSB7XG4gICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgc291cmNlLnBhdXNlKCk7XG4gICAgICBzb3VyY2Uuc3JjID0gXCJcIjtcbiAgICAgIHNvdXJjZS5sb2FkKCk7XG4gICAgfVxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgfVxuICBnZXQgYXV0b1VwZGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYXV0b1VwZGF0ZTtcbiAgfVxuICBzZXQgYXV0b1VwZGF0ZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fYXV0b1VwZGF0ZSkge1xuICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IHZhbHVlO1xuICAgICAgaWYgKCF0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgJiYgdGhpcy5faXNTb3VyY2VQbGF5aW5nKCkpIHtcbiAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZ2V0IHVwZGF0ZUZQUygpIHtcbiAgICByZXR1cm4gdGhpcy5fdXBkYXRlRlBTO1xuICB9XG4gIHNldCB1cGRhdGVGUFModmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IHRoaXMuX3VwZGF0ZUZQUykge1xuICAgICAgdGhpcy5fdXBkYXRlRlBTID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHN0YXRpYyB0ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKSB7XG4gICAgcmV0dXJuIGdsb2JhbFRoaXMuSFRNTFZpZGVvRWxlbWVudCAmJiBzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50IHx8IF9WaWRlb1Jlc291cmNlLlRZUEVTLmluY2x1ZGVzKGV4dGVuc2lvbik7XG4gIH1cbn07XG5sZXQgVmlkZW9SZXNvdXJjZSA9IF9WaWRlb1Jlc291cmNlO1xuVmlkZW9SZXNvdXJjZS5UWVBFUyA9IFtcIm1wNFwiLCBcIm00dlwiLCBcIndlYm1cIiwgXCJvZ2dcIiwgXCJvZ3ZcIiwgXCJoMjY0XCIsIFwiYXZpXCIsIFwibW92XCJdO1xuVmlkZW9SZXNvdXJjZS5NSU1FX1RZUEVTID0ge1xuICBvZ3Y6IFwidmlkZW8vb2dnXCIsXG4gIG1vdjogXCJ2aWRlby9xdWlja3RpbWVcIixcbiAgbTR2OiBcInZpZGVvL21wNFwiXG59O1xuXG5leHBvcnQgeyBWaWRlb1Jlc291cmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaWRlb1Jlc291cmNlLm1qcy5tYXBcbiIsImNvbnN0IElOU1RBTExFRCA9IFtdO1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICBpZiAoIXNvdXJjZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBleHRlbnNpb24gPSBcIlwiO1xuICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGNvbnN0IHJlc3VsdCA9IC9cXC4oXFx3ezMsNH0pKD86JHxcXD98IykvaS5leGVjKHNvdXJjZSk7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgZXh0ZW5zaW9uID0gcmVzdWx0WzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGkgPSBJTlNUQUxMRUQubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICBjb25zdCBSZXNvdXJjZVBsdWdpbiA9IElOU1RBTExFRFtpXTtcbiAgICBpZiAoUmVzb3VyY2VQbHVnaW4udGVzdCAmJiBSZXNvdXJjZVBsdWdpbi50ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKSkge1xuICAgICAgcmV0dXJuIG5ldyBSZXNvdXJjZVBsdWdpbihzb3VyY2UsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgc291cmNlIHR5cGUgdG8gYXV0by1kZXRlY3QgUmVzb3VyY2VcIik7XG59XG5cbmV4cG9ydCB7IElOU1RBTExFRCwgYXV0b0RldGVjdFJlc291cmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdXRvRGV0ZWN0UmVzb3VyY2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgQXJyYXlSZXNvdXJjZSB9IGZyb20gJy4vQXJyYXlSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgQXJyYXlSZXNvdXJjZSB9IGZyb20gJy4vQXJyYXlSZXNvdXJjZS5tanMnO1xuaW1wb3J0IHsgSU5TVEFMTEVEIH0gZnJvbSAnLi9hdXRvRGV0ZWN0UmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IElOU1RBTExFRCwgYXV0b0RldGVjdFJlc291cmNlIH0gZnJvbSAnLi9hdXRvRGV0ZWN0UmVzb3VyY2UubWpzJztcbmltcG9ydCB7IEJ1ZmZlclJlc291cmNlIH0gZnJvbSAnLi9CdWZmZXJSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgQnVmZmVyUmVzb3VyY2UgfSBmcm9tICcuL0J1ZmZlclJlc291cmNlLm1qcyc7XG5pbXBvcnQgeyBDYW52YXNSZXNvdXJjZSB9IGZyb20gJy4vQ2FudmFzUmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IENhbnZhc1Jlc291cmNlIH0gZnJvbSAnLi9DYW52YXNSZXNvdXJjZS5tanMnO1xuaW1wb3J0IHsgQ3ViZVJlc291cmNlIH0gZnJvbSAnLi9DdWJlUmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IEN1YmVSZXNvdXJjZSB9IGZyb20gJy4vQ3ViZVJlc291cmNlLm1qcyc7XG5pbXBvcnQgeyBJbWFnZUJpdG1hcFJlc291cmNlIH0gZnJvbSAnLi9JbWFnZUJpdG1hcFJlc291cmNlLm1qcyc7XG5leHBvcnQgeyBJbWFnZUJpdG1hcFJlc291cmNlIH0gZnJvbSAnLi9JbWFnZUJpdG1hcFJlc291cmNlLm1qcyc7XG5pbXBvcnQgeyBJbWFnZVJlc291cmNlIH0gZnJvbSAnLi9JbWFnZVJlc291cmNlLm1qcyc7XG5leHBvcnQgeyBJbWFnZVJlc291cmNlIH0gZnJvbSAnLi9JbWFnZVJlc291cmNlLm1qcyc7XG5pbXBvcnQgeyBTVkdSZXNvdXJjZSB9IGZyb20gJy4vU1ZHUmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IFNWR1Jlc291cmNlIH0gZnJvbSAnLi9TVkdSZXNvdXJjZS5tanMnO1xuaW1wb3J0IHsgVmlkZW9SZXNvdXJjZSB9IGZyb20gJy4vVmlkZW9SZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgVmlkZW9SZXNvdXJjZSB9IGZyb20gJy4vVmlkZW9SZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgQmFzZUltYWdlUmVzb3VyY2UgfSBmcm9tICcuL0Jhc2VJbWFnZVJlc291cmNlLm1qcyc7XG5leHBvcnQgeyBSZXNvdXJjZSB9IGZyb20gJy4vUmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IEFic3RyYWN0TXVsdGlSZXNvdXJjZSB9IGZyb20gJy4vQWJzdHJhY3RNdWx0aVJlc291cmNlLm1qcyc7XG5cbklOU1RBTExFRC5wdXNoKEltYWdlQml0bWFwUmVzb3VyY2UsIEltYWdlUmVzb3VyY2UsIENhbnZhc1Jlc291cmNlLCBWaWRlb1Jlc291cmNlLCBTVkdSZXNvdXJjZSwgQnVmZmVyUmVzb3VyY2UsIEN1YmVSZXNvdXJjZSwgQXJyYXlSZXNvdXJjZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBUWVBFUywgRk9STUFUUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmZ1bmN0aW9uIG1hcFR5cGVBbmRGb3JtYXRUb0ludGVybmFsRm9ybWF0KGdsKSB7XG4gIGxldCB0YWJsZTtcbiAgaWYgKFwiV2ViR0wyUmVuZGVyaW5nQ29udGV4dFwiIGluIGdsb2JhbFRoaXMgJiYgZ2wgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLldlYkdMMlJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICB0YWJsZSA9IHtcbiAgICAgIFtUWVBFUy5VTlNJR05FRF9CWVRFXToge1xuICAgICAgICBbRk9STUFUUy5SR0JBXTogZ2wuUkdCQTgsXG4gICAgICAgIFtGT1JNQVRTLlJHQl06IGdsLlJHQjgsXG4gICAgICAgIFtGT1JNQVRTLlJHXTogZ2wuUkc4LFxuICAgICAgICBbRk9STUFUUy5SRURdOiBnbC5SOCxcbiAgICAgICAgW0ZPUk1BVFMuUkdCQV9JTlRFR0VSXTogZ2wuUkdCQThVSSxcbiAgICAgICAgW0ZPUk1BVFMuUkdCX0lOVEVHRVJdOiBnbC5SR0I4VUksXG4gICAgICAgIFtGT1JNQVRTLlJHX0lOVEVHRVJdOiBnbC5SRzhVSSxcbiAgICAgICAgW0ZPUk1BVFMuUkVEX0lOVEVHRVJdOiBnbC5SOFVJLFxuICAgICAgICBbRk9STUFUUy5BTFBIQV06IGdsLkFMUEhBLFxuICAgICAgICBbRk9STUFUUy5MVU1JTkFOQ0VdOiBnbC5MVU1JTkFOQ0UsXG4gICAgICAgIFtGT1JNQVRTLkxVTUlOQU5DRV9BTFBIQV06IGdsLkxVTUlOQU5DRV9BTFBIQVxuICAgICAgfSxcbiAgICAgIFtUWVBFUy5CWVRFXToge1xuICAgICAgICBbRk9STUFUUy5SR0JBXTogZ2wuUkdCQThfU05PUk0sXG4gICAgICAgIFtGT1JNQVRTLlJHQl06IGdsLlJHQjhfU05PUk0sXG4gICAgICAgIFtGT1JNQVRTLlJHXTogZ2wuUkc4X1NOT1JNLFxuICAgICAgICBbRk9STUFUUy5SRURdOiBnbC5SOF9TTk9STSxcbiAgICAgICAgW0ZPUk1BVFMuUkdCQV9JTlRFR0VSXTogZ2wuUkdCQThJLFxuICAgICAgICBbRk9STUFUUy5SR0JfSU5URUdFUl06IGdsLlJHQjhJLFxuICAgICAgICBbRk9STUFUUy5SR19JTlRFR0VSXTogZ2wuUkc4SSxcbiAgICAgICAgW0ZPUk1BVFMuUkVEX0lOVEVHRVJdOiBnbC5SOElcbiAgICAgIH0sXG4gICAgICBbVFlQRVMuVU5TSUdORURfU0hPUlRdOiB7XG4gICAgICAgIFtGT1JNQVRTLlJHQkFfSU5URUdFUl06IGdsLlJHQkExNlVJLFxuICAgICAgICBbRk9STUFUUy5SR0JfSU5URUdFUl06IGdsLlJHQjE2VUksXG4gICAgICAgIFtGT1JNQVRTLlJHX0lOVEVHRVJdOiBnbC5SRzE2VUksXG4gICAgICAgIFtGT1JNQVRTLlJFRF9JTlRFR0VSXTogZ2wuUjE2VUksXG4gICAgICAgIFtGT1JNQVRTLkRFUFRIX0NPTVBPTkVOVF06IGdsLkRFUFRIX0NPTVBPTkVOVDE2XG4gICAgICB9LFxuICAgICAgW1RZUEVTLlNIT1JUXToge1xuICAgICAgICBbRk9STUFUUy5SR0JBX0lOVEVHRVJdOiBnbC5SR0JBMTZJLFxuICAgICAgICBbRk9STUFUUy5SR0JfSU5URUdFUl06IGdsLlJHQjE2SSxcbiAgICAgICAgW0ZPUk1BVFMuUkdfSU5URUdFUl06IGdsLlJHMTZJLFxuICAgICAgICBbRk9STUFUUy5SRURfSU5URUdFUl06IGdsLlIxNklcbiAgICAgIH0sXG4gICAgICBbVFlQRVMuVU5TSUdORURfSU5UXToge1xuICAgICAgICBbRk9STUFUUy5SR0JBX0lOVEVHRVJdOiBnbC5SR0JBMzJVSSxcbiAgICAgICAgW0ZPUk1BVFMuUkdCX0lOVEVHRVJdOiBnbC5SR0IzMlVJLFxuICAgICAgICBbRk9STUFUUy5SR19JTlRFR0VSXTogZ2wuUkczMlVJLFxuICAgICAgICBbRk9STUFUUy5SRURfSU5URUdFUl06IGdsLlIzMlVJLFxuICAgICAgICBbRk9STUFUUy5ERVBUSF9DT01QT05FTlRdOiBnbC5ERVBUSF9DT01QT05FTlQyNFxuICAgICAgfSxcbiAgICAgIFtUWVBFUy5JTlRdOiB7XG4gICAgICAgIFtGT1JNQVRTLlJHQkFfSU5URUdFUl06IGdsLlJHQkEzMkksXG4gICAgICAgIFtGT1JNQVRTLlJHQl9JTlRFR0VSXTogZ2wuUkdCMzJJLFxuICAgICAgICBbRk9STUFUUy5SR19JTlRFR0VSXTogZ2wuUkczMkksXG4gICAgICAgIFtGT1JNQVRTLlJFRF9JTlRFR0VSXTogZ2wuUjMySVxuICAgICAgfSxcbiAgICAgIFtUWVBFUy5GTE9BVF06IHtcbiAgICAgICAgW0ZPUk1BVFMuUkdCQV06IGdsLlJHQkEzMkYsXG4gICAgICAgIFtGT1JNQVRTLlJHQl06IGdsLlJHQjMyRixcbiAgICAgICAgW0ZPUk1BVFMuUkddOiBnbC5SRzMyRixcbiAgICAgICAgW0ZPUk1BVFMuUkVEXTogZ2wuUjMyRixcbiAgICAgICAgW0ZPUk1BVFMuREVQVEhfQ09NUE9ORU5UXTogZ2wuREVQVEhfQ09NUE9ORU5UMzJGXG4gICAgICB9LFxuICAgICAgW1RZUEVTLkhBTEZfRkxPQVRdOiB7XG4gICAgICAgIFtGT1JNQVRTLlJHQkFdOiBnbC5SR0JBMTZGLFxuICAgICAgICBbRk9STUFUUy5SR0JdOiBnbC5SR0IxNkYsXG4gICAgICAgIFtGT1JNQVRTLlJHXTogZ2wuUkcxNkYsXG4gICAgICAgIFtGT1JNQVRTLlJFRF06IGdsLlIxNkZcbiAgICAgIH0sXG4gICAgICBbVFlQRVMuVU5TSUdORURfU0hPUlRfNV82XzVdOiB7XG4gICAgICAgIFtGT1JNQVRTLlJHQl06IGdsLlJHQjU2NVxuICAgICAgfSxcbiAgICAgIFtUWVBFUy5VTlNJR05FRF9TSE9SVF80XzRfNF80XToge1xuICAgICAgICBbRk9STUFUUy5SR0JBXTogZ2wuUkdCQTRcbiAgICAgIH0sXG4gICAgICBbVFlQRVMuVU5TSUdORURfU0hPUlRfNV81XzVfMV06IHtcbiAgICAgICAgW0ZPUk1BVFMuUkdCQV06IGdsLlJHQjVfQTFcbiAgICAgIH0sXG4gICAgICBbVFlQRVMuVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWXToge1xuICAgICAgICBbRk9STUFUUy5SR0JBXTogZ2wuUkdCMTBfQTIsXG4gICAgICAgIFtGT1JNQVRTLlJHQkFfSU5URUdFUl06IGdsLlJHQjEwX0EyVUlcbiAgICAgIH0sXG4gICAgICBbVFlQRVMuVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVl06IHtcbiAgICAgICAgW0ZPUk1BVFMuUkdCXTogZ2wuUjExRl9HMTFGX0IxMEZcbiAgICAgIH0sXG4gICAgICBbVFlQRVMuVU5TSUdORURfSU5UXzVfOV85XzlfUkVWXToge1xuICAgICAgICBbRk9STUFUUy5SR0JdOiBnbC5SR0I5X0U1XG4gICAgICB9LFxuICAgICAgW1RZUEVTLlVOU0lHTkVEX0lOVF8yNF84XToge1xuICAgICAgICBbRk9STUFUUy5ERVBUSF9TVEVOQ0lMXTogZ2wuREVQVEgyNF9TVEVOQ0lMOFxuICAgICAgfSxcbiAgICAgIFtUWVBFUy5GTE9BVF8zMl9VTlNJR05FRF9JTlRfMjRfOF9SRVZdOiB7XG4gICAgICAgIFtGT1JNQVRTLkRFUFRIX1NURU5DSUxdOiBnbC5ERVBUSDMyRl9TVEVOQ0lMOFxuICAgICAgfVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdGFibGUgPSB7XG4gICAgICBbVFlQRVMuVU5TSUdORURfQllURV06IHtcbiAgICAgICAgW0ZPUk1BVFMuUkdCQV06IGdsLlJHQkEsXG4gICAgICAgIFtGT1JNQVRTLlJHQl06IGdsLlJHQixcbiAgICAgICAgW0ZPUk1BVFMuQUxQSEFdOiBnbC5BTFBIQSxcbiAgICAgICAgW0ZPUk1BVFMuTFVNSU5BTkNFXTogZ2wuTFVNSU5BTkNFLFxuICAgICAgICBbRk9STUFUUy5MVU1JTkFOQ0VfQUxQSEFdOiBnbC5MVU1JTkFOQ0VfQUxQSEFcbiAgICAgIH0sXG4gICAgICBbVFlQRVMuVU5TSUdORURfU0hPUlRfNV82XzVdOiB7XG4gICAgICAgIFtGT1JNQVRTLlJHQl06IGdsLlJHQlxuICAgICAgfSxcbiAgICAgIFtUWVBFUy5VTlNJR05FRF9TSE9SVF80XzRfNF80XToge1xuICAgICAgICBbRk9STUFUUy5SR0JBXTogZ2wuUkdCQVxuICAgICAgfSxcbiAgICAgIFtUWVBFUy5VTlNJR05FRF9TSE9SVF81XzVfNV8xXToge1xuICAgICAgICBbRk9STUFUUy5SR0JBXTogZ2wuUkdCQVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHRhYmxlO1xufVxuXG5leHBvcnQgeyBtYXBUeXBlQW5kRm9ybWF0VG9JbnRlcm5hbEZvcm1hdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwVHlwZUFuZEZvcm1hdFRvSW50ZXJuYWxGb3JtYXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcblxuY2xhc3MgVHJhbnNmb3JtRmVlZGJhY2sge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9nbFRyYW5zZm9ybUZlZWRiYWNrcyA9IHt9O1xuICAgIHRoaXMuYnVmZmVycyA9IFtdO1xuICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoXCJkaXNwb3NlVHJhbnNmb3JtRmVlZGJhY2tcIik7XG4gIH1cbiAgYmluZEJ1ZmZlcihpbmRleCwgYnVmZmVyKSB7XG4gICAgdGhpcy5idWZmZXJzW2luZGV4XSA9IGJ1ZmZlcjtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5lbWl0KHRoaXMsIGZhbHNlKTtcbiAgfVxufVxuXG5leHBvcnQgeyBUcmFuc2Zvcm1GZWVkYmFjayB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNmb3JtRmVlZGJhY2subWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuXG5jbGFzcyBUcmFuc2Zvcm1GZWVkYmFja1N5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIGNvbnRleHRDaGFuZ2UoKSB7XG4gICAgdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gIH1cbiAgYmluZCh0cmFuc2Zvcm1GZWVkYmFjaykge1xuICAgIGNvbnN0IHsgZ2wsIENPTlRFWFRfVUlEIH0gPSB0aGlzO1xuICAgIGNvbnN0IGdsVHJhbnNmb3JtRmVlZGJhY2sgPSB0cmFuc2Zvcm1GZWVkYmFjay5fZ2xUcmFuc2Zvcm1GZWVkYmFja3NbQ09OVEVYVF9VSURdIHx8IHRoaXMuY3JlYXRlR0xUcmFuc2Zvcm1GZWVkYmFjayh0cmFuc2Zvcm1GZWVkYmFjayk7XG4gICAgZ2wuYmluZFRyYW5zZm9ybUZlZWRiYWNrKGdsLlRSQU5TRk9STV9GRUVEQkFDSywgZ2xUcmFuc2Zvcm1GZWVkYmFjayk7XG4gIH1cbiAgdW5iaW5kKCkge1xuICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG4gICAgZ2wuYmluZFRyYW5zZm9ybUZlZWRiYWNrKGdsLlRSQU5TRk9STV9GRUVEQkFDSywgbnVsbCk7XG4gIH1cbiAgYmVnaW5UcmFuc2Zvcm1GZWVkYmFjayhkcmF3TW9kZSwgc2hhZGVyKSB7XG4gICAgY29uc3QgeyBnbCwgcmVuZGVyZXIgfSA9IHRoaXM7XG4gICAgaWYgKHNoYWRlcikge1xuICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoc2hhZGVyKTtcbiAgICB9XG4gICAgZ2wuYmVnaW5UcmFuc2Zvcm1GZWVkYmFjayhkcmF3TW9kZSk7XG4gIH1cbiAgZW5kVHJhbnNmb3JtRmVlZGJhY2soKSB7XG4gICAgY29uc3QgeyBnbCB9ID0gdGhpcztcbiAgICBnbC5lbmRUcmFuc2Zvcm1GZWVkYmFjaygpO1xuICB9XG4gIGNyZWF0ZUdMVHJhbnNmb3JtRmVlZGJhY2sodGYpIHtcbiAgICBjb25zdCB7IGdsLCByZW5kZXJlciwgQ09OVEVYVF9VSUQgfSA9IHRoaXM7XG4gICAgY29uc3QgZ2xUcmFuc2Zvcm1GZWVkYmFjayA9IGdsLmNyZWF0ZVRyYW5zZm9ybUZlZWRiYWNrKCk7XG4gICAgdGYuX2dsVHJhbnNmb3JtRmVlZGJhY2tzW0NPTlRFWFRfVUlEXSA9IGdsVHJhbnNmb3JtRmVlZGJhY2s7XG4gICAgZ2wuYmluZFRyYW5zZm9ybUZlZWRiYWNrKGdsLlRSQU5TRk9STV9GRUVEQkFDSywgZ2xUcmFuc2Zvcm1GZWVkYmFjayk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0Zi5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBidWZmZXIgPSB0Zi5idWZmZXJzW2ldO1xuICAgICAgaWYgKCFidWZmZXIpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgcmVuZGVyZXIuYnVmZmVyLnVwZGF0ZShidWZmZXIpO1xuICAgICAgYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdLnJlZkNvdW50Kys7XG4gICAgICBnbC5iaW5kQnVmZmVyQmFzZShnbC5UUkFOU0ZPUk1fRkVFREJBQ0tfQlVGRkVSLCBpLCBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0uYnVmZmVyIHx8IG51bGwpO1xuICAgIH1cbiAgICBnbC5iaW5kVHJhbnNmb3JtRmVlZGJhY2soZ2wuVFJBTlNGT1JNX0ZFRURCQUNLLCBudWxsKTtcbiAgICB0Zi5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICByZXR1cm4gZ2xUcmFuc2Zvcm1GZWVkYmFjaztcbiAgfVxuICBkaXNwb3NlVHJhbnNmb3JtRmVlZGJhY2sodGYsIGNvbnRleHRMb3N0KSB7XG4gICAgY29uc3QgZ2xURiA9IHRmLl9nbFRyYW5zZm9ybUZlZWRiYWNrc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgdGYuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG4gICAgY29uc3QgYnVmZmVyU3lzdGVtID0gdGhpcy5yZW5kZXJlci5idWZmZXI7XG4gICAgaWYgKGJ1ZmZlclN5c3RlbSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0Zi5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHRmLmJ1ZmZlcnNbaV07XG4gICAgICAgIGlmICghYnVmZmVyKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBidWYgPSBidWZmZXIuX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKGJ1Zikge1xuICAgICAgICAgIGJ1Zi5yZWZDb3VudC0tO1xuICAgICAgICAgIGlmIChidWYucmVmQ291bnQgPT09IDAgJiYgIWNvbnRleHRMb3N0KSB7XG4gICAgICAgICAgICBidWZmZXJTeXN0ZW0uZGlzcG9zZShidWZmZXIsIGNvbnRleHRMb3N0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFnbFRGKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgIGdsLmRlbGV0ZVRyYW5zZm9ybUZlZWRiYWNrKGdsVEYpO1xuICAgIH1cbiAgICBkZWxldGUgdGYuX2dsVHJhbnNmb3JtRmVlZGJhY2tzW3RoaXMuQ09OVEVYVF9VSURdO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cblRyYW5zZm9ybUZlZWRiYWNrU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbSxcbiAgbmFtZTogXCJ0cmFuc2Zvcm1GZWVkYmFja1wiXG59O1xuZXh0ZW5zaW9ucy5hZGQoVHJhbnNmb3JtRmVlZGJhY2tTeXN0ZW0pO1xuXG5leHBvcnQgeyBUcmFuc2Zvcm1GZWVkYmFja1N5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNmb3JtRmVlZGJhY2tTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuLi9nZW9tZXRyeS9HZW9tZXRyeS5tanMnO1xuXG5jbGFzcyBRdWFkIGV4dGVuZHMgR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRkQXR0cmlidXRlKFwiYVZlcnRleFBvc2l0aW9uXCIsIG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAxLFxuICAgICAgMCxcbiAgICAgIDFcbiAgICBdKSkuYWRkSW5kZXgoWzAsIDEsIDMsIDJdKTtcbiAgfVxufVxuXG5leHBvcnQgeyBRdWFkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1RdWFkLm1qcy5tYXBcbiIsImltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJy4uL2dlb21ldHJ5L0J1ZmZlci5tanMnO1xuaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuLi9nZW9tZXRyeS9HZW9tZXRyeS5tanMnO1xuXG5jbGFzcyBRdWFkVXYgZXh0ZW5kcyBHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgLTEsXG4gICAgICAtMSxcbiAgICAgIDEsXG4gICAgICAtMSxcbiAgICAgIDEsXG4gICAgICAxLFxuICAgICAgLTEsXG4gICAgICAxXG4gICAgXSk7XG4gICAgdGhpcy51dnMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMSxcbiAgICAgIDAsXG4gICAgICAxXG4gICAgXSk7XG4gICAgdGhpcy52ZXJ0ZXhCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMudmVydGljZXMpO1xuICAgIHRoaXMudXZCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMudXZzKTtcbiAgICB0aGlzLmFkZEF0dHJpYnV0ZShcImFWZXJ0ZXhQb3NpdGlvblwiLCB0aGlzLnZlcnRleEJ1ZmZlcikuYWRkQXR0cmlidXRlKFwiYVRleHR1cmVDb29yZFwiLCB0aGlzLnV2QnVmZmVyKS5hZGRJbmRleChbMCwgMSwgMiwgMCwgMiwgM10pO1xuICB9XG4gIG1hcCh0YXJnZXRUZXh0dXJlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICBsZXQgeCA9IDA7XG4gICAgbGV0IHkgPSAwO1xuICAgIHRoaXMudXZzWzBdID0geDtcbiAgICB0aGlzLnV2c1sxXSA9IHk7XG4gICAgdGhpcy51dnNbMl0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICB0aGlzLnV2c1szXSA9IHk7XG4gICAgdGhpcy51dnNbNF0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICB0aGlzLnV2c1s1XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG4gICAgdGhpcy51dnNbNl0gPSB4O1xuICAgIHRoaXMudXZzWzddID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodDtcbiAgICB4ID0gZGVzdGluYXRpb25GcmFtZS54O1xuICAgIHkgPSBkZXN0aW5hdGlvbkZyYW1lLnk7XG4gICAgdGhpcy52ZXJ0aWNlc1swXSA9IHg7XG4gICAgdGhpcy52ZXJ0aWNlc1sxXSA9IHk7XG4gICAgdGhpcy52ZXJ0aWNlc1syXSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgIHRoaXMudmVydGljZXNbM10gPSB5O1xuICAgIHRoaXMudmVydGljZXNbNF0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICB0aGlzLnZlcnRpY2VzWzVdID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgIHRoaXMudmVydGljZXNbNl0gPSB4O1xuICAgIHRoaXMudmVydGljZXNbN10gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgaW52YWxpZGF0ZSgpIHtcbiAgICB0aGlzLnZlcnRleEJ1ZmZlci5fdXBkYXRlSUQrKztcbiAgICB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRCsrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCB7IFF1YWRVdiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UXVhZFV2Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbmNsYXNzIFZpZXdTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBpbml0KG9wdGlvbnMpIHtcbiAgICB0aGlzLnNjcmVlbiA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQpO1xuICAgIHRoaXMuZWxlbWVudCA9IG9wdGlvbnMudmlldyB8fCBzZXR0aW5ncy5BREFQVEVSLmNyZWF0ZUNhbnZhcygpO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgIHRoaXMuYXV0b0RlbnNpdHkgPSAhIW9wdGlvbnMuYXV0b0RlbnNpdHk7XG4gIH1cbiAgcmVzaXplVmlldyhkZXNpcmVkU2NyZWVuV2lkdGgsIGRlc2lyZWRTY3JlZW5IZWlnaHQpIHtcbiAgICB0aGlzLmVsZW1lbnQud2lkdGggPSBNYXRoLnJvdW5kKGRlc2lyZWRTY3JlZW5XaWR0aCAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgdGhpcy5lbGVtZW50LmhlaWdodCA9IE1hdGgucm91bmQoZGVzaXJlZFNjcmVlbkhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgY29uc3Qgc2NyZWVuV2lkdGggPSB0aGlzLmVsZW1lbnQud2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgY29uc3Qgc2NyZWVuSGVpZ2h0ID0gdGhpcy5lbGVtZW50LmhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICB0aGlzLnNjcmVlbi53aWR0aCA9IHNjcmVlbldpZHRoO1xuICAgIHRoaXMuc2NyZWVuLmhlaWdodCA9IHNjcmVlbkhlaWdodDtcbiAgICBpZiAodGhpcy5hdXRvRGVuc2l0eSkge1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gYCR7c2NyZWVuV2lkdGh9cHhgO1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9IGAke3NjcmVlbkhlaWdodH1weGA7XG4gICAgfVxuICAgIHRoaXMucmVuZGVyZXIuZW1pdChcInJlc2l6ZVwiLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcbiAgICB0aGlzLnJlbmRlcmVyLnJ1bm5lcnMucmVzaXplLmVtaXQodGhpcy5zY3JlZW4ud2lkdGgsIHRoaXMuc2NyZWVuLmhlaWdodCk7XG4gIH1cbiAgZGVzdHJveShyZW1vdmVWaWV3KSB7XG4gICAgaWYgKHJlbW92ZVZpZXcpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlPy5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuc2NyZWVuID0gbnVsbDtcbiAgfVxufVxuVmlld1N5c3RlbS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgd2lkdGg6IDgwMCxcbiAgaGVpZ2h0OiA2MDAsXG4gIHJlc29sdXRpb246IHNldHRpbmdzLlJFU09MVVRJT04sXG4gIGF1dG9EZW5zaXR5OiBmYWxzZVxufTtcblZpZXdTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1JlbmRlcmVyU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwiX3ZpZXdcIlxufTtcbmV4dGVuc2lvbnMuYWRkKFZpZXdTeXN0ZW0pO1xuXG5leHBvcnQgeyBWaWV3U3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaWV3U3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jbGFzcyBCb3VuZHMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcbiAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcbiAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xuICAgIHRoaXMucmVjdCA9IG51bGw7XG4gICAgdGhpcy51cGRhdGVJRCA9IC0xO1xuICB9XG4gIGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFk7XG4gIH1cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG4gICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbiAgfVxuICBnZXRSZWN0YW5nbGUocmVjdCkge1xuICAgIGlmICh0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZKSB7XG4gICAgICByZXR1cm4gUmVjdGFuZ2xlLkVNUFRZO1xuICAgIH1cbiAgICByZWN0ID0gcmVjdCB8fCBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgIHJlY3QueCA9IHRoaXMubWluWDtcbiAgICByZWN0LnkgPSB0aGlzLm1pblk7XG4gICAgcmVjdC53aWR0aCA9IHRoaXMubWF4WCAtIHRoaXMubWluWDtcbiAgICByZWN0LmhlaWdodCA9IHRoaXMubWF4WSAtIHRoaXMubWluWTtcbiAgICByZXR1cm4gcmVjdDtcbiAgfVxuICBhZGRQb2ludChwb2ludCkge1xuICAgIHRoaXMubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgcG9pbnQueCk7XG4gICAgdGhpcy5tYXhYID0gTWF0aC5tYXgodGhpcy5tYXhYLCBwb2ludC54KTtcbiAgICB0aGlzLm1pblkgPSBNYXRoLm1pbih0aGlzLm1pblksIHBvaW50LnkpO1xuICAgIHRoaXMubWF4WSA9IE1hdGgubWF4KHRoaXMubWF4WSwgcG9pbnQueSk7XG4gIH1cbiAgYWRkUG9pbnRNYXRyaXgobWF0cml4LCBwb2ludCkge1xuICAgIGNvbnN0IHsgYSwgYiwgYywgZCwgdHgsIHR5IH0gPSBtYXRyaXg7XG4gICAgY29uc3QgeCA9IGEgKiBwb2ludC54ICsgYyAqIHBvaW50LnkgKyB0eDtcbiAgICBjb25zdCB5ID0gYiAqIHBvaW50LnggKyBkICogcG9pbnQueSArIHR5O1xuICAgIHRoaXMubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgeCk7XG4gICAgdGhpcy5tYXhYID0gTWF0aC5tYXgodGhpcy5tYXhYLCB4KTtcbiAgICB0aGlzLm1pblkgPSBNYXRoLm1pbih0aGlzLm1pblksIHkpO1xuICAgIHRoaXMubWF4WSA9IE1hdGgubWF4KHRoaXMubWF4WSwgeSk7XG4gIH1cbiAgYWRkUXVhZCh2ZXJ0aWNlcykge1xuICAgIGxldCBtaW5YID0gdGhpcy5taW5YO1xuICAgIGxldCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgIGxldCBtYXhYID0gdGhpcy5tYXhYO1xuICAgIGxldCBtYXhZID0gdGhpcy5tYXhZO1xuICAgIGxldCB4ID0gdmVydGljZXNbMF07XG4gICAgbGV0IHkgPSB2ZXJ0aWNlc1sxXTtcbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICB4ID0gdmVydGljZXNbMl07XG4gICAgeSA9IHZlcnRpY2VzWzNdO1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgIHggPSB2ZXJ0aWNlc1s0XTtcbiAgICB5ID0gdmVydGljZXNbNV07XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgeCA9IHZlcnRpY2VzWzZdO1xuICAgIHkgPSB2ZXJ0aWNlc1s3XTtcbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICB0aGlzLm1heFkgPSBtYXhZO1xuICB9XG4gIGFkZEZyYW1lKHRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgICB0aGlzLmFkZEZyYW1lTWF0cml4KHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpO1xuICB9XG4gIGFkZEZyYW1lTWF0cml4KG1hdHJpeCwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgICBjb25zdCBhID0gbWF0cml4LmE7XG4gICAgY29uc3QgYiA9IG1hdHJpeC5iO1xuICAgIGNvbnN0IGMgPSBtYXRyaXguYztcbiAgICBjb25zdCBkID0gbWF0cml4LmQ7XG4gICAgY29uc3QgdHggPSBtYXRyaXgudHg7XG4gICAgY29uc3QgdHkgPSBtYXRyaXgudHk7XG4gICAgbGV0IG1pblggPSB0aGlzLm1pblg7XG4gICAgbGV0IG1pblkgPSB0aGlzLm1pblk7XG4gICAgbGV0IG1heFggPSB0aGlzLm1heFg7XG4gICAgbGV0IG1heFkgPSB0aGlzLm1heFk7XG4gICAgbGV0IHggPSBhICogeDAgKyBjICogeTAgKyB0eDtcbiAgICBsZXQgeSA9IGIgKiB4MCArIGQgKiB5MCArIHR5O1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgIHggPSBhICogeDEgKyBjICogeTAgKyB0eDtcbiAgICB5ID0gYiAqIHgxICsgZCAqIHkwICsgdHk7XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgeCA9IGEgKiB4MCArIGMgKiB5MSArIHR4O1xuICAgIHkgPSBiICogeDAgKyBkICogeTEgKyB0eTtcbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICB4ID0gYSAqIHgxICsgYyAqIHkxICsgdHg7XG4gICAgeSA9IGIgKiB4MSArIGQgKiB5MSArIHR5O1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgIHRoaXMubWF4WSA9IG1heFk7XG4gIH1cbiAgYWRkVmVydGV4RGF0YSh2ZXJ0ZXhEYXRhLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KSB7XG4gICAgbGV0IG1pblggPSB0aGlzLm1pblg7XG4gICAgbGV0IG1pblkgPSB0aGlzLm1pblk7XG4gICAgbGV0IG1heFggPSB0aGlzLm1heFg7XG4gICAgbGV0IG1heFkgPSB0aGlzLm1heFk7XG4gICAgZm9yIChsZXQgaSA9IGJlZ2luT2Zmc2V0OyBpIDwgZW5kT2Zmc2V0OyBpICs9IDIpIHtcbiAgICAgIGNvbnN0IHggPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgY29uc3QgeSA9IHZlcnRleERhdGFbaSArIDFdO1xuICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgfVxuICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgIHRoaXMubWF4WSA9IG1heFk7XG4gIH1cbiAgYWRkVmVydGljZXModHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCkge1xuICAgIHRoaXMuYWRkVmVydGljZXNNYXRyaXgodHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCk7XG4gIH1cbiAgYWRkVmVydGljZXNNYXRyaXgobWF0cml4LCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCwgcGFkWCA9IDAsIHBhZFkgPSBwYWRYKSB7XG4gICAgY29uc3QgYSA9IG1hdHJpeC5hO1xuICAgIGNvbnN0IGIgPSBtYXRyaXguYjtcbiAgICBjb25zdCBjID0gbWF0cml4LmM7XG4gICAgY29uc3QgZCA9IG1hdHJpeC5kO1xuICAgIGNvbnN0IHR4ID0gbWF0cml4LnR4O1xuICAgIGNvbnN0IHR5ID0gbWF0cml4LnR5O1xuICAgIGxldCBtaW5YID0gdGhpcy5taW5YO1xuICAgIGxldCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgIGxldCBtYXhYID0gdGhpcy5tYXhYO1xuICAgIGxldCBtYXhZID0gdGhpcy5tYXhZO1xuICAgIGZvciAobGV0IGkgPSBiZWdpbk9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSArPSAyKSB7XG4gICAgICBjb25zdCByYXdYID0gdmVydGljZXNbaV07XG4gICAgICBjb25zdCByYXdZID0gdmVydGljZXNbaSArIDFdO1xuICAgICAgY29uc3QgeCA9IGEgKiByYXdYICsgYyAqIHJhd1kgKyB0eDtcbiAgICAgIGNvbnN0IHkgPSBkICogcmF3WSArIGIgKiByYXdYICsgdHk7XG4gICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgeCAtIHBhZFgpO1xuICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIHggKyBwYWRYKTtcbiAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCB5IC0gcGFkWSk7XG4gICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgeSArIHBhZFkpO1xuICAgIH1cbiAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICB0aGlzLm1heFkgPSBtYXhZO1xuICB9XG4gIGFkZEJvdW5kcyhib3VuZHMpIHtcbiAgICBjb25zdCBtaW5YID0gdGhpcy5taW5YO1xuICAgIGNvbnN0IG1pblkgPSB0aGlzLm1pblk7XG4gICAgY29uc3QgbWF4WCA9IHRoaXMubWF4WDtcbiAgICBjb25zdCBtYXhZID0gdGhpcy5tYXhZO1xuICAgIHRoaXMubWluWCA9IGJvdW5kcy5taW5YIDwgbWluWCA/IGJvdW5kcy5taW5YIDogbWluWDtcbiAgICB0aGlzLm1pblkgPSBib3VuZHMubWluWSA8IG1pblkgPyBib3VuZHMubWluWSA6IG1pblk7XG4gICAgdGhpcy5tYXhYID0gYm91bmRzLm1heFggPiBtYXhYID8gYm91bmRzLm1heFggOiBtYXhYO1xuICAgIHRoaXMubWF4WSA9IGJvdW5kcy5tYXhZID4gbWF4WSA/IGJvdW5kcy5tYXhZIDogbWF4WTtcbiAgfVxuICBhZGRCb3VuZHNNYXNrKGJvdW5kcywgbWFzaykge1xuICAgIGNvbnN0IF9taW5YID0gYm91bmRzLm1pblggPiBtYXNrLm1pblggPyBib3VuZHMubWluWCA6IG1hc2subWluWDtcbiAgICBjb25zdCBfbWluWSA9IGJvdW5kcy5taW5ZID4gbWFzay5taW5ZID8gYm91bmRzLm1pblkgOiBtYXNrLm1pblk7XG4gICAgY29uc3QgX21heFggPSBib3VuZHMubWF4WCA8IG1hc2subWF4WCA/IGJvdW5kcy5tYXhYIDogbWFzay5tYXhYO1xuICAgIGNvbnN0IF9tYXhZID0gYm91bmRzLm1heFkgPCBtYXNrLm1heFkgPyBib3VuZHMubWF4WSA6IG1hc2subWF4WTtcbiAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpIHtcbiAgICAgIGNvbnN0IG1pblggPSB0aGlzLm1pblg7XG4gICAgICBjb25zdCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgY29uc3QgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgIGNvbnN0IG1heFkgPSB0aGlzLm1heFk7XG4gICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgfVxuICB9XG4gIGFkZEJvdW5kc01hdHJpeChib3VuZHMsIG1hdHJpeCkge1xuICAgIHRoaXMuYWRkRnJhbWVNYXRyaXgobWF0cml4LCBib3VuZHMubWluWCwgYm91bmRzLm1pblksIGJvdW5kcy5tYXhYLCBib3VuZHMubWF4WSk7XG4gIH1cbiAgYWRkQm91bmRzQXJlYShib3VuZHMsIGFyZWEpIHtcbiAgICBjb25zdCBfbWluWCA9IGJvdW5kcy5taW5YID4gYXJlYS54ID8gYm91bmRzLm1pblggOiBhcmVhLng7XG4gICAgY29uc3QgX21pblkgPSBib3VuZHMubWluWSA+IGFyZWEueSA/IGJvdW5kcy5taW5ZIDogYXJlYS55O1xuICAgIGNvbnN0IF9tYXhYID0gYm91bmRzLm1heFggPCBhcmVhLnggKyBhcmVhLndpZHRoID8gYm91bmRzLm1heFggOiBhcmVhLnggKyBhcmVhLndpZHRoO1xuICAgIGNvbnN0IF9tYXhZID0gYm91bmRzLm1heFkgPCBhcmVhLnkgKyBhcmVhLmhlaWdodCA/IGJvdW5kcy5tYXhZIDogYXJlYS55ICsgYXJlYS5oZWlnaHQ7XG4gICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKSB7XG4gICAgICBjb25zdCBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgY29uc3QgbWluWSA9IHRoaXMubWluWTtcbiAgICAgIGNvbnN0IG1heFggPSB0aGlzLm1heFg7XG4gICAgICBjb25zdCBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgIH1cbiAgfVxuICBwYWQocGFkZGluZ1ggPSAwLCBwYWRkaW5nWSA9IHBhZGRpbmdYKSB7XG4gICAgaWYgKCF0aGlzLmlzRW1wdHkoKSkge1xuICAgICAgdGhpcy5taW5YIC09IHBhZGRpbmdYO1xuICAgICAgdGhpcy5tYXhYICs9IHBhZGRpbmdYO1xuICAgICAgdGhpcy5taW5ZIC09IHBhZGRpbmdZO1xuICAgICAgdGhpcy5tYXhZICs9IHBhZGRpbmdZO1xuICAgIH1cbiAgfVxuICBhZGRGcmFtZVBhZCh4MCwgeTAsIHgxLCB5MSwgcGFkWCwgcGFkWSkge1xuICAgIHgwIC09IHBhZFg7XG4gICAgeTAgLT0gcGFkWTtcbiAgICB4MSArPSBwYWRYO1xuICAgIHkxICs9IHBhZFk7XG4gICAgdGhpcy5taW5YID0gdGhpcy5taW5YIDwgeDAgPyB0aGlzLm1pblggOiB4MDtcbiAgICB0aGlzLm1heFggPSB0aGlzLm1heFggPiB4MSA/IHRoaXMubWF4WCA6IHgxO1xuICAgIHRoaXMubWluWSA9IHRoaXMubWluWSA8IHkwID8gdGhpcy5taW5ZIDogeTA7XG4gICAgdGhpcy5tYXhZID0gdGhpcy5tYXhZID4geTEgPyB0aGlzLm1heFkgOiB5MTtcbiAgfVxufVxuXG5leHBvcnQgeyBCb3VuZHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJvdW5kcy5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXRyaXgsIHV0aWxzLCBNQVNLX1RZUEVTIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnLi9EaXNwbGF5T2JqZWN0Lm1qcyc7XG5cbmNvbnN0IHRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5mdW5jdGlvbiBzb3J0Q2hpbGRyZW4oYSwgYikge1xuICBpZiAoYS56SW5kZXggPT09IGIuekluZGV4KSB7XG4gICAgcmV0dXJuIGEuX2xhc3RTb3J0ZWRJbmRleCAtIGIuX2xhc3RTb3J0ZWRJbmRleDtcbiAgfVxuICByZXR1cm4gYS56SW5kZXggLSBiLnpJbmRleDtcbn1cbmNvbnN0IF9Db250YWluZXIgPSBjbGFzcyBleHRlbmRzIERpc3BsYXlPYmplY3Qge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICB0aGlzLnNvcnRhYmxlQ2hpbGRyZW4gPSBfQ29udGFpbmVyLmRlZmF1bHRTb3J0YWJsZUNoaWxkcmVuO1xuICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG4gIH1cbiAgb25DaGlsZHJlbkNoYW5nZShfbGVuZ3RoKSB7XG4gIH1cbiAgYWRkQ2hpbGQoLi4uY2hpbGRyZW4pIHtcbiAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmFkZENoaWxkKGNoaWxkcmVuW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlblswXTtcbiAgICAgIGlmIChjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICB0aGlzLnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZSh0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgdGhpcy5lbWl0KFwiY2hpbGRBZGRlZFwiLCBjaGlsZCwgdGhpcywgdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgIGNoaWxkLmVtaXQoXCJhZGRlZFwiLCB0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkcmVuWzBdO1xuICB9XG4gIGFkZENoaWxkQXQoY2hpbGQsIGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7Y2hpbGR9YWRkQ2hpbGRBdDogVGhlIGluZGV4ICR7aW5kZXh9IHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgJHt0aGlzLmNoaWxkcmVuLmxlbmd0aH1gKTtcbiAgICB9XG4gICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICB9XG4gICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICB0aGlzLnNvcnREaXJ0eSA9IHRydWU7XG4gICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XG4gICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIGNoaWxkLmVtaXQoXCJhZGRlZFwiLCB0aGlzKTtcbiAgICB0aGlzLmVtaXQoXCJjaGlsZEFkZGVkXCIsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9XG4gIHN3YXBDaGlsZHJlbihjaGlsZCwgY2hpbGQyKSB7XG4gICAgaWYgKGNoaWxkID09PSBjaGlsZDIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5kZXgxID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkKTtcbiAgICBjb25zdCBpbmRleDIgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQyKTtcbiAgICB0aGlzLmNoaWxkcmVuW2luZGV4MV0gPSBjaGlsZDI7XG4gICAgdGhpcy5jaGlsZHJlbltpbmRleDJdID0gY2hpbGQ7XG4gICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4MSA8IGluZGV4MiA/IGluZGV4MSA6IGluZGV4Mik7XG4gIH1cbiAgZ2V0Q2hpbGRJbmRleChjaGlsZCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlclwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG4gIHNldENoaWxkSW5kZXgoY2hpbGQsIGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgaW5kZXggJHtpbmRleH0gc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyAke3RoaXMuY2hpbGRyZW4ubGVuZ3RofWApO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgIHV0aWxzLnJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGN1cnJlbnRJbmRleCwgMSk7XG4gICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTtcbiAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICB9XG4gIGdldENoaWxkQXQoaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGdldENoaWxkQXQ6IEluZGV4ICgke2luZGV4fSkgZG9lcyBub3QgZXhpc3QuYCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2luZGV4XTtcbiAgfVxuICByZW1vdmVDaGlsZCguLi5jaGlsZHJlbikge1xuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoY2hpbGRyZW5baV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuICAgICAgaWYgKGluZGV4ID09PSAtMSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgdXRpbHMucmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICBjaGlsZC5lbWl0KFwicmVtb3ZlZFwiLCB0aGlzKTtcbiAgICAgIHRoaXMuZW1pdChcImNoaWxkUmVtb3ZlZFwiLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gY2hpbGRyZW5bMF07XG4gIH1cbiAgcmVtb3ZlQ2hpbGRBdChpbmRleCkge1xuICAgIGNvbnN0IGNoaWxkID0gdGhpcy5nZXRDaGlsZEF0KGluZGV4KTtcbiAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICB1dGlscy5yZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG4gICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIGNoaWxkLmVtaXQoXCJyZW1vdmVkXCIsIHRoaXMpO1xuICAgIHRoaXMuZW1pdChcImNoaWxkUmVtb3ZlZFwiLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgIHJldHVybiBjaGlsZDtcbiAgfVxuICByZW1vdmVDaGlsZHJlbihiZWdpbkluZGV4ID0gMCwgZW5kSW5kZXggPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgIGNvbnN0IGJlZ2luID0gYmVnaW5JbmRleDtcbiAgICBjb25zdCBlbmQgPSBlbmRJbmRleDtcbiAgICBjb25zdCByYW5nZSA9IGVuZCAtIGJlZ2luO1xuICAgIGxldCByZW1vdmVkO1xuICAgIGlmIChyYW5nZSA+IDAgJiYgcmFuZ2UgPD0gZW5kKSB7XG4gICAgICByZW1vdmVkID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoYmVnaW4sIHJhbmdlKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSkge1xuICAgICAgICByZW1vdmVkW2ldLnBhcmVudCA9IG51bGw7XG4gICAgICAgIGlmIChyZW1vdmVkW2ldLnRyYW5zZm9ybSkge1xuICAgICAgICAgIHJlbW92ZWRbaV0udHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGJlZ2luSW5kZXgpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlbW92ZWRbaV0uZW1pdChcInJlbW92ZWRcIiwgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdChcImNoaWxkUmVtb3ZlZFwiLCByZW1vdmVkW2ldLCB0aGlzLCBpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZW1vdmVkO1xuICAgIH0gZWxzZSBpZiAocmFuZ2UgPT09IDAgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJyZW1vdmVDaGlsZHJlbjogbnVtZXJpYyB2YWx1ZXMgYXJlIG91dHNpZGUgdGhlIGFjY2VwdGFibGUgcmFuZ2UuXCIpO1xuICB9XG4gIHNvcnRDaGlsZHJlbigpIHtcbiAgICBsZXQgc29ydFJlcXVpcmVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgY2hpbGQuX2xhc3RTb3J0ZWRJbmRleCA9IGk7XG4gICAgICBpZiAoIXNvcnRSZXF1aXJlZCAmJiBjaGlsZC56SW5kZXggIT09IDApIHtcbiAgICAgICAgc29ydFJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNvcnRSZXF1aXJlZCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRoaXMuY2hpbGRyZW4uc29ydChzb3J0Q2hpbGRyZW4pO1xuICAgIH1cbiAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuICB9XG4gIHVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICBpZiAodGhpcy5zb3J0YWJsZUNoaWxkcmVuICYmIHRoaXMuc29ydERpcnR5KSB7XG4gICAgICB0aGlzLnNvcnRDaGlsZHJlbigpO1xuICAgIH1cbiAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgIGNoaWxkLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG4gICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICBpZiAoIWNoaWxkLnZpc2libGUgfHwgIWNoaWxkLnJlbmRlcmFibGUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjaGlsZC5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgIGlmIChjaGlsZC5fbWFzaykge1xuICAgICAgICBjb25zdCBtYXNrT2JqZWN0ID0gY2hpbGQuX21hc2suaXNNYXNrRGF0YSA/IGNoaWxkLl9tYXNrLm1hc2tPYmplY3QgOiBjaGlsZC5fbWFzaztcbiAgICAgICAgaWYgKG1hc2tPYmplY3QpIHtcbiAgICAgICAgICBtYXNrT2JqZWN0LmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHNNYXNrKGNoaWxkLl9ib3VuZHMsIG1hc2tPYmplY3QuX2JvdW5kcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kcyhjaGlsZC5fYm91bmRzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGlsZC5maWx0ZXJBcmVhKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHNBcmVhKGNoaWxkLl9ib3VuZHMsIGNoaWxkLmZpbHRlckFyZWEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kcyhjaGlsZC5fYm91bmRzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG4gIH1cbiAgZ2V0TG9jYWxCb3VuZHMocmVjdCwgc2tpcENoaWxkcmVuVXBkYXRlID0gZmFsc2UpIHtcbiAgICBjb25zdCByZXN1bHQgPSBzdXBlci5nZXRMb2NhbEJvdW5kcyhyZWN0KTtcbiAgICBpZiAoIXNraXBDaGlsZHJlblVwZGF0ZSkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBfY2FsY3VsYXRlQm91bmRzKCkge1xuICB9XG4gIF9yZW5kZXJXaXRoQ3VsbGluZyhyZW5kZXJlcikge1xuICAgIGNvbnN0IHNvdXJjZUZyYW1lID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZTtcbiAgICBpZiAoIShzb3VyY2VGcmFtZS53aWR0aCA+IDAgJiYgc291cmNlRnJhbWUuaGVpZ2h0ID4gMCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGJvdW5kcztcbiAgICBsZXQgdHJhbnNmb3JtO1xuICAgIGlmICh0aGlzLmN1bGxBcmVhKSB7XG4gICAgICBib3VuZHMgPSB0aGlzLmN1bGxBcmVhO1xuICAgICAgdHJhbnNmb3JtID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX3JlbmRlciAhPT0gX0NvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlcikge1xuICAgICAgYm91bmRzID0gdGhpcy5nZXRCb3VuZHModHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHByb2plY3Rpb25UcmFuc2Zvcm0gPSByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybTtcbiAgICBpZiAocHJvamVjdGlvblRyYW5zZm9ybSkge1xuICAgICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICB0cmFuc2Zvcm0gPSB0ZW1wTWF0cml4LmNvcHlGcm9tKHRyYW5zZm9ybSk7XG4gICAgICAgIHRyYW5zZm9ybS5wcmVwZW5kKHByb2plY3Rpb25UcmFuc2Zvcm0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNmb3JtID0gcHJvamVjdGlvblRyYW5zZm9ybTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJvdW5kcyAmJiBzb3VyY2VGcmFtZS5pbnRlcnNlY3RzKGJvdW5kcywgdHJhbnNmb3JtKSkge1xuICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY3VsbEFyZWEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgY29uc3QgY2hpbGRDdWxsYWJsZSA9IGNoaWxkLmN1bGxhYmxlO1xuICAgICAgY2hpbGQuY3VsbGFibGUgPSBjaGlsZEN1bGxhYmxlIHx8ICF0aGlzLmN1bGxBcmVhO1xuICAgICAgY2hpbGQucmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgIGNoaWxkLmN1bGxhYmxlID0gY2hpbGRDdWxsYWJsZTtcbiAgICB9XG4gIH1cbiAgcmVuZGVyKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5fbWFzayB8fCB0aGlzLmZpbHRlcnM/Lmxlbmd0aCkge1xuICAgICAgdGhpcy5yZW5kZXJBZHZhbmNlZChyZW5kZXJlcik7XG4gICAgfSBlbHNlIGlmICh0aGlzLmN1bGxhYmxlKSB7XG4gICAgICB0aGlzLl9yZW5kZXJXaXRoQ3VsbGluZyhyZW5kZXJlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmVuZGVyQWR2YW5jZWQocmVuZGVyZXIpIHtcbiAgICBjb25zdCBmaWx0ZXJzID0gdGhpcy5maWx0ZXJzO1xuICAgIGNvbnN0IG1hc2sgPSB0aGlzLl9tYXNrO1xuICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICBpZiAoIXRoaXMuX2VuYWJsZWRGaWx0ZXJzKSB7XG4gICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzID0gW107XG4gICAgICB9XG4gICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGggPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmaWx0ZXJzW2ldLmVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5wdXNoKGZpbHRlcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGZsdXNoID0gZmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycz8ubGVuZ3RoIHx8IG1hc2sgJiYgKCFtYXNrLmlzTWFza0RhdGEgfHwgbWFzay5lbmFibGVkICYmIChtYXNrLmF1dG9EZXRlY3QgfHwgbWFzay50eXBlICE9PSBNQVNLX1RZUEVTLk5PTkUpKTtcbiAgICBpZiAoZmx1c2gpIHtcbiAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgfVxuICAgIGlmIChmaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzPy5sZW5ndGgpIHtcbiAgICAgIHJlbmRlcmVyLmZpbHRlci5wdXNoKHRoaXMsIHRoaXMuX2VuYWJsZWRGaWx0ZXJzKTtcbiAgICB9XG4gICAgaWYgKG1hc2spIHtcbiAgICAgIHJlbmRlcmVyLm1hc2sucHVzaCh0aGlzLCB0aGlzLl9tYXNrKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY3VsbGFibGUpIHtcbiAgICAgIHRoaXMuX3JlbmRlcldpdGhDdWxsaW5nKHJlbmRlcmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmx1c2gpIHtcbiAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgfVxuICAgIGlmIChtYXNrKSB7XG4gICAgICByZW5kZXJlci5tYXNrLnBvcCh0aGlzKTtcbiAgICB9XG4gICAgaWYgKGZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnM/Lmxlbmd0aCkge1xuICAgICAgcmVuZGVyZXIuZmlsdGVyLnBvcCgpO1xuICAgIH1cbiAgfVxuICBfcmVuZGVyKF9yZW5kZXJlcikge1xuICB9XG4gIGRlc3Ryb3kob3B0aW9ucykge1xuICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuICAgIGNvbnN0IGRlc3Ryb3lDaGlsZHJlbiA9IHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIiA/IG9wdGlvbnMgOiBvcHRpb25zPy5jaGlsZHJlbjtcbiAgICBjb25zdCBvbGRDaGlsZHJlbiA9IHRoaXMucmVtb3ZlQ2hpbGRyZW4oMCwgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgIGlmIChkZXN0cm95Q2hpbGRyZW4pIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkQ2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgb2xkQ2hpbGRyZW5baV0uZGVzdHJveShvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZ2V0IHdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLnNjYWxlLnggKiB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG4gIH1cbiAgc2V0IHdpZHRoKHZhbHVlKSB7XG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG4gICAgaWYgKHdpZHRoICE9PSAwKSB7XG4gICAgICB0aGlzLnNjYWxlLnggPSB2YWx1ZSAvIHdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNjYWxlLnggPSAxO1xuICAgIH1cbiAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICB9XG4gIGdldCBoZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2NhbGUueSAqIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG4gIH1cbiAgc2V0IGhlaWdodCh2YWx1ZSkge1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG4gICAgaWYgKGhlaWdodCAhPT0gMCkge1xuICAgICAgdGhpcy5zY2FsZS55ID0gdmFsdWUgLyBoZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2NhbGUueSA9IDE7XG4gICAgfVxuICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICB9XG59O1xubGV0IENvbnRhaW5lciA9IF9Db250YWluZXI7XG5Db250YWluZXIuZGVmYXVsdFNvcnRhYmxlQ2hpbGRyZW4gPSBmYWxzZTtcbkNvbnRhaW5lci5wcm90b3R5cGUuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtID0gQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG5cbmV4cG9ydCB7IENvbnRhaW5lciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udGFpbmVyLm1qcy5tYXBcbiIsImltcG9ydCB7IHV0aWxzLCBUcmFuc2Zvcm0sIFJlY3RhbmdsZSwgUkFEX1RPX0RFRywgREVHX1RPX1JBRCB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQm91bmRzIH0gZnJvbSAnLi9Cb3VuZHMubWpzJztcblxuY2xhc3MgRGlzcGxheU9iamVjdCBleHRlbmRzIHV0aWxzLkV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG4gICAgdGhpcy50cmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7XG4gICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICB0aGlzLnJlbmRlcmFibGUgPSB0cnVlO1xuICAgIHRoaXMuY3VsbGFibGUgPSBmYWxzZTtcbiAgICB0aGlzLmN1bGxBcmVhID0gbnVsbDtcbiAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgdGhpcy53b3JsZEFscGhhID0gMTtcbiAgICB0aGlzLl9sYXN0U29ydGVkSW5kZXggPSAwO1xuICAgIHRoaXMuX3pJbmRleCA9IDA7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzID0gbnVsbDtcbiAgICB0aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG4gICAgdGhpcy5fbG9jYWxCb3VuZHMgPSBudWxsO1xuICAgIHRoaXMuX2JvdW5kc0lEID0gMDtcbiAgICB0aGlzLl9ib3VuZHNSZWN0ID0gbnVsbDtcbiAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBudWxsO1xuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuX21hc2tSZWZDb3VudCA9IDA7XG4gICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgdGhpcy5pc1Nwcml0ZSA9IGZhbHNlO1xuICAgIHRoaXMuaXNNYXNrID0gZmFsc2U7XG4gIH1cbiAgc3RhdGljIG1peGluKHNvdXJjZSkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0ga2V5c1tpXTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgcHJvcGVydHlOYW1lLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcGVydHlOYW1lKSk7XG4gICAgfVxuICB9XG4gIGdldCBkZXN0cm95ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Rlc3Ryb3llZDtcbiAgfVxuICBfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgIHRoaXMucGFyZW50Ll9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybSk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuICB9XG4gIGdldEJvdW5kcyhza2lwVXBkYXRlLCByZWN0KSB7XG4gICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuX2JvdW5kcy51cGRhdGVJRCAhPT0gdGhpcy5fYm91bmRzSUQpIHtcbiAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQgPSB0aGlzLl9ib3VuZHNJRDtcbiAgICB9XG4gICAgaWYgKCFyZWN0KSB7XG4gICAgICBpZiAoIXRoaXMuX2JvdW5kc1JlY3QpIHtcbiAgICAgICAgdGhpcy5fYm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgIH1cbiAgICAgIHJlY3QgPSB0aGlzLl9ib3VuZHNSZWN0O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgfVxuICBnZXRMb2NhbEJvdW5kcyhyZWN0KSB7XG4gICAgaWYgKCFyZWN0KSB7XG4gICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdCkge1xuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICB9XG4gICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgIH1cbiAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzKSB7XG4gICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICB9XG4gICAgY29uc3QgdHJhbnNmb3JtUmVmID0gdGhpcy50cmFuc2Zvcm07XG4gICAgY29uc3QgcGFyZW50UmVmID0gdGhpcy5wYXJlbnQ7XG4gICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIHRoaXMudHJhbnNmb3JtID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtO1xuICAgIGNvbnN0IHdvcmxkQm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgIGNvbnN0IHdvcmxkQm91bmRzSUQgPSB0aGlzLl9ib3VuZHNJRDtcbiAgICB0aGlzLl9ib3VuZHMgPSB0aGlzLl9sb2NhbEJvdW5kcztcbiAgICBjb25zdCBib3VuZHMgPSB0aGlzLmdldEJvdW5kcyhmYWxzZSwgcmVjdCk7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRSZWY7XG4gICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1SZWY7XG4gICAgdGhpcy5fYm91bmRzID0gd29ybGRCb3VuZHM7XG4gICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEICs9IHRoaXMuX2JvdW5kc0lEIC0gd29ybGRCb3VuZHNJRDtcbiAgICByZXR1cm4gYm91bmRzO1xuICB9XG4gIHRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSA9IGZhbHNlKSB7XG4gICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHkocG9zaXRpb24sIHBvaW50KTtcbiAgfVxuICB0b0xvY2FsKHBvc2l0aW9uLCBmcm9tLCBwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgIGlmIChmcm9tKSB7XG4gICAgICBwb3NpdGlvbiA9IGZyb20udG9HbG9iYWwocG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICB9XG4gICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvc2l0aW9uLCBwb2ludCk7XG4gIH1cbiAgc2V0UGFyZW50KGNvbnRhaW5lcikge1xuICAgIGlmICghY29udGFpbmVyIHx8ICFjb250YWluZXIuYWRkQ2hpbGQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInNldFBhcmVudDogQXJndW1lbnQgbXVzdCBiZSBhIENvbnRhaW5lclwiKTtcbiAgICB9XG4gICAgY29udGFpbmVyLmFkZENoaWxkKHRoaXMpO1xuICAgIHJldHVybiBjb250YWluZXI7XG4gIH1cbiAgcmVtb3ZlRnJvbVBhcmVudCgpIHtcbiAgICB0aGlzLnBhcmVudD8ucmVtb3ZlQ2hpbGQodGhpcyk7XG4gIH1cbiAgc2V0VHJhbnNmb3JtKHggPSAwLCB5ID0gMCwgc2NhbGVYID0gMSwgc2NhbGVZID0gMSwgcm90YXRpb24gPSAwLCBza2V3WCA9IDAsIHNrZXdZID0gMCwgcGl2b3RYID0gMCwgcGl2b3RZID0gMCkge1xuICAgIHRoaXMucG9zaXRpb24ueCA9IHg7XG4gICAgdGhpcy5wb3NpdGlvbi55ID0geTtcbiAgICB0aGlzLnNjYWxlLnggPSAhc2NhbGVYID8gMSA6IHNjYWxlWDtcbiAgICB0aGlzLnNjYWxlLnkgPSAhc2NhbGVZID8gMSA6IHNjYWxlWTtcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgdGhpcy5za2V3LnggPSBza2V3WDtcbiAgICB0aGlzLnNrZXcueSA9IHNrZXdZO1xuICAgIHRoaXMucGl2b3QueCA9IHBpdm90WDtcbiAgICB0aGlzLnBpdm90LnkgPSBwaXZvdFk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZGVzdHJveShfb3B0aW9ucykge1xuICAgIHRoaXMucmVtb3ZlRnJvbVBhcmVudCgpO1xuICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgdGhpcy50cmFuc2Zvcm0gPSBudWxsO1xuICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICAgIHRoaXMubWFzayA9IG51bGw7XG4gICAgdGhpcy5jdWxsQXJlYSA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuICAgIHRoaXMuaGl0QXJlYSA9IG51bGw7XG4gICAgdGhpcy5ldmVudE1vZGUgPSBcImF1dG9cIjtcbiAgICB0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICB0aGlzLmVtaXQoXCJkZXN0cm95ZWRcIik7XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgfVxuICBnZXQgX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50KCkge1xuICAgIGlmICh0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID09PSBudWxsKSB7XG4gICAgICB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IFRlbXBvcmFyeURpc3BsYXlPYmplY3QoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gIH1cbiAgZW5hYmxlVGVtcFBhcmVudCgpIHtcbiAgICBjb25zdCBteVBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgcmV0dXJuIG15UGFyZW50O1xuICB9XG4gIGRpc2FibGVUZW1wUGFyZW50KGNhY2hlUGFyZW50KSB7XG4gICAgdGhpcy5wYXJlbnQgPSBjYWNoZVBhcmVudDtcbiAgfVxuICBnZXQgeCgpIHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi54O1xuICB9XG4gIHNldCB4KHZhbHVlKSB7XG4gICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueCA9IHZhbHVlO1xuICB9XG4gIGdldCB5KCkge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnk7XG4gIH1cbiAgc2V0IHkodmFsdWUpIHtcbiAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdmFsdWU7XG4gIH1cbiAgZ2V0IHdvcmxkVHJhbnNmb3JtKCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgfVxuICBnZXQgbG9jYWxUcmFuc2Zvcm0oKSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICB9XG4gIGdldCBwb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb247XG4gIH1cbiAgc2V0IHBvc2l0aW9uKHZhbHVlKSB7XG4gICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20odmFsdWUpO1xuICB9XG4gIGdldCBzY2FsZSgpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2NhbGU7XG4gIH1cbiAgc2V0IHNjYWxlKHZhbHVlKSB7XG4gICAgdGhpcy50cmFuc2Zvcm0uc2NhbGUuY29weUZyb20odmFsdWUpO1xuICB9XG4gIGdldCBwaXZvdCgpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl2b3Q7XG4gIH1cbiAgc2V0IHBpdm90KHZhbHVlKSB7XG4gICAgdGhpcy50cmFuc2Zvcm0ucGl2b3QuY29weUZyb20odmFsdWUpO1xuICB9XG4gIGdldCBza2V3KCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5za2V3O1xuICB9XG4gIHNldCBza2V3KHZhbHVlKSB7XG4gICAgdGhpcy50cmFuc2Zvcm0uc2tldy5jb3B5RnJvbSh2YWx1ZSk7XG4gIH1cbiAgZ2V0IHJvdGF0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbjtcbiAgfVxuICBzZXQgcm90YXRpb24odmFsdWUpIHtcbiAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiA9IHZhbHVlO1xuICB9XG4gIGdldCBhbmdsZSgpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gKiBSQURfVE9fREVHO1xuICB9XG4gIHNldCBhbmdsZSh2YWx1ZSkge1xuICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWUgKiBERUdfVE9fUkFEO1xuICB9XG4gIGdldCB6SW5kZXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3pJbmRleDtcbiAgfVxuICBzZXQgekluZGV4KHZhbHVlKSB7XG4gICAgdGhpcy5fekluZGV4ID0gdmFsdWU7XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICB0aGlzLnBhcmVudC5zb3J0RGlydHkgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBnZXQgd29ybGRWaXNpYmxlKCkge1xuICAgIGxldCBpdGVtID0gdGhpcztcbiAgICBkbyB7XG4gICAgICBpZiAoIWl0ZW0udmlzaWJsZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpdGVtID0gaXRlbS5wYXJlbnQ7XG4gICAgfSB3aGlsZSAoaXRlbSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZ2V0IG1hc2soKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hc2s7XG4gIH1cbiAgc2V0IG1hc2sodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fbWFzayA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgIGNvbnN0IG1hc2tPYmplY3QgPSB0aGlzLl9tYXNrLmlzTWFza0RhdGEgPyB0aGlzLl9tYXNrLm1hc2tPYmplY3QgOiB0aGlzLl9tYXNrO1xuICAgICAgaWYgKG1hc2tPYmplY3QpIHtcbiAgICAgICAgbWFza09iamVjdC5fbWFza1JlZkNvdW50LS07XG4gICAgICAgIGlmIChtYXNrT2JqZWN0Ll9tYXNrUmVmQ291bnQgPT09IDApIHtcbiAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgIG1hc2tPYmplY3QuaXNNYXNrID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fbWFzayA9IHZhbHVlO1xuICAgIGlmICh0aGlzLl9tYXNrKSB7XG4gICAgICBjb25zdCBtYXNrT2JqZWN0ID0gdGhpcy5fbWFzay5pc01hc2tEYXRhID8gdGhpcy5fbWFzay5tYXNrT2JqZWN0IDogdGhpcy5fbWFzaztcbiAgICAgIGlmIChtYXNrT2JqZWN0KSB7XG4gICAgICAgIGlmIChtYXNrT2JqZWN0Ll9tYXNrUmVmQ291bnQgPT09IDApIHtcbiAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICBtYXNrT2JqZWN0LmlzTWFzayA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbWFza09iamVjdC5fbWFza1JlZkNvdW50Kys7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5jbGFzcyBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0IGV4dGVuZHMgRGlzcGxheU9iamVjdCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5zb3J0RGlydHkgPSBudWxsO1xuICB9XG59XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtID0gRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuXG5leHBvcnQgeyBEaXNwbGF5T2JqZWN0LCBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EaXNwbGF5T2JqZWN0Lm1qcy5tYXBcbiIsImltcG9ydCAnLi9zZXR0aW5ncy5tanMnO1xuZXhwb3J0IHsgQm91bmRzIH0gZnJvbSAnLi9Cb3VuZHMubWpzJztcbmV4cG9ydCB7IENvbnRhaW5lciB9IGZyb20gJy4vQ29udGFpbmVyLm1qcyc7XG5leHBvcnQgeyBEaXNwbGF5T2JqZWN0LCBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0IH0gZnJvbSAnLi9EaXNwbGF5T2JqZWN0Lm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBzZXR0aW5ncywgdXRpbHMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmV4cG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICcuL0NvbnRhaW5lci5tanMnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhzZXR0aW5ncywge1xuICBTT1JUQUJMRV9DSElMRFJFTjoge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBDb250YWluZXIuZGVmYXVsdFNvcnRhYmxlQ2hpbGRyZW47XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHV0aWxzLmRlcHJlY2F0aW9uKFwiNy4xLjBcIiwgXCJzZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTiBpcyBkZXByZWNhdGVkLCB1c2UgQ29udGFpbmVyLmRlZmF1bHRTb3J0YWJsZUNoaWxkcmVuXCIpO1xuICAgICAgQ29udGFpbmVyLmRlZmF1bHRTb3J0YWJsZUNoaWxkcmVuID0gdmFsdWU7XG4gICAgfVxuICB9XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldHRpbmdzLm1qcy5tYXBcbiIsImltcG9ydCB7IFBvaW50LCB1dGlscyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgRXZlbnRzVGlja2VyIH0gZnJvbSAnLi9FdmVudFRpY2tlci5tanMnO1xuaW1wb3J0IHsgRmVkZXJhdGVkTW91c2VFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkTW91c2VFdmVudC5tanMnO1xuaW1wb3J0IHsgRmVkZXJhdGVkUG9pbnRlckV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRQb2ludGVyRXZlbnQubWpzJztcbmltcG9ydCB7IEZlZGVyYXRlZFdoZWVsRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZFdoZWVsRXZlbnQubWpzJztcblxuY29uc3QgUFJPUEFHQVRJT05fTElNSVQgPSAyMDQ4O1xuY29uc3QgdGVtcEhpdExvY2F0aW9uID0gbmV3IFBvaW50KCk7XG5jb25zdCB0ZW1wTG9jYWxNYXBwaW5nID0gbmV3IFBvaW50KCk7XG5jbGFzcyBFdmVudEJvdW5kYXJ5IHtcbiAgY29uc3RydWN0b3Iocm9vdFRhcmdldCkge1xuICAgIHRoaXMuZGlzcGF0Y2ggPSBuZXcgdXRpbHMuRXZlbnRFbWl0dGVyKCk7XG4gICAgdGhpcy5tb3ZlT25BbGwgPSBmYWxzZTtcbiAgICB0aGlzLmVuYWJsZUdsb2JhbE1vdmVFdmVudHMgPSB0cnVlO1xuICAgIHRoaXMubWFwcGluZ1N0YXRlID0ge1xuICAgICAgdHJhY2tpbmdEYXRhOiB7fVxuICAgIH07XG4gICAgdGhpcy5ldmVudFBvb2wgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMuX2FsbEludGVyYWN0aXZlRWxlbWVudHMgPSBbXTtcbiAgICB0aGlzLl9oaXRFbGVtZW50cyA9IFtdO1xuICAgIHRoaXMuX2lzUG9pbnRlck1vdmVFdmVudCA9IGZhbHNlO1xuICAgIHRoaXMucm9vdFRhcmdldCA9IHJvb3RUYXJnZXQ7XG4gICAgdGhpcy5oaXRQcnVuZUZuID0gdGhpcy5oaXRQcnVuZUZuLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oaXRUZXN0Rm4gPSB0aGlzLmhpdFRlc3RGbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWFwUG9pbnRlckRvd24gPSB0aGlzLm1hcFBvaW50ZXJEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tYXBQb2ludGVyTW92ZSA9IHRoaXMubWFwUG9pbnRlck1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcFBvaW50ZXJPdXQgPSB0aGlzLm1hcFBvaW50ZXJPdXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcFBvaW50ZXJPdmVyID0gdGhpcy5tYXBQb2ludGVyT3Zlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWFwUG9pbnRlclVwID0gdGhpcy5tYXBQb2ludGVyVXAuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcFBvaW50ZXJVcE91dHNpZGUgPSB0aGlzLm1hcFBvaW50ZXJVcE91dHNpZGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcFdoZWVsID0gdGhpcy5tYXBXaGVlbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWFwcGluZ1RhYmxlID0ge307XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJwb2ludGVyZG93blwiLCB0aGlzLm1hcFBvaW50ZXJEb3duKTtcbiAgICB0aGlzLmFkZEV2ZW50TWFwcGluZyhcInBvaW50ZXJtb3ZlXCIsIHRoaXMubWFwUG9pbnRlck1vdmUpO1xuICAgIHRoaXMuYWRkRXZlbnRNYXBwaW5nKFwicG9pbnRlcm91dFwiLCB0aGlzLm1hcFBvaW50ZXJPdXQpO1xuICAgIHRoaXMuYWRkRXZlbnRNYXBwaW5nKFwicG9pbnRlcmxlYXZlXCIsIHRoaXMubWFwUG9pbnRlck91dCk7XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJwb2ludGVyb3ZlclwiLCB0aGlzLm1hcFBvaW50ZXJPdmVyKTtcbiAgICB0aGlzLmFkZEV2ZW50TWFwcGluZyhcInBvaW50ZXJ1cFwiLCB0aGlzLm1hcFBvaW50ZXJVcCk7XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJwb2ludGVydXBvdXRzaWRlXCIsIHRoaXMubWFwUG9pbnRlclVwT3V0c2lkZSk7XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJ3aGVlbFwiLCB0aGlzLm1hcFdoZWVsKTtcbiAgfVxuICBhZGRFdmVudE1hcHBpbmcodHlwZSwgZm4pIHtcbiAgICBpZiAoIXRoaXMubWFwcGluZ1RhYmxlW3R5cGVdKSB7XG4gICAgICB0aGlzLm1hcHBpbmdUYWJsZVt0eXBlXSA9IFtdO1xuICAgIH1cbiAgICB0aGlzLm1hcHBpbmdUYWJsZVt0eXBlXS5wdXNoKHtcbiAgICAgIGZuLFxuICAgICAgcHJpb3JpdHk6IDBcbiAgICB9KTtcbiAgICB0aGlzLm1hcHBpbmdUYWJsZVt0eXBlXS5zb3J0KChhLCBiKSA9PiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eSk7XG4gIH1cbiAgZGlzcGF0Y2hFdmVudChlLCB0eXBlKSB7XG4gICAgZS5wcm9wYWdhdGlvblN0b3BwZWQgPSBmYWxzZTtcbiAgICBlLnByb3BhZ2F0aW9uSW1tZWRpYXRlbHlTdG9wcGVkID0gZmFsc2U7XG4gICAgdGhpcy5wcm9wYWdhdGUoZSwgdHlwZSk7XG4gICAgdGhpcy5kaXNwYXRjaC5lbWl0KHR5cGUgfHwgZS50eXBlLCBlKTtcbiAgfVxuICBtYXBFdmVudChlKSB7XG4gICAgaWYgKCF0aGlzLnJvb3RUYXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWFwcGVycyA9IHRoaXMubWFwcGluZ1RhYmxlW2UudHlwZV07XG4gICAgaWYgKG1hcHBlcnMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gbWFwcGVycy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgbWFwcGVyc1tpXS5mbihlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKGBbRXZlbnRCb3VuZGFyeV06IEV2ZW50IG1hcHBpbmcgbm90IGRlZmluZWQgZm9yICR7ZS50eXBlfWApO1xuICAgIH1cbiAgfVxuICBoaXRUZXN0KHgsIHkpIHtcbiAgICBFdmVudHNUaWNrZXIucGF1c2VVcGRhdGUgPSB0cnVlO1xuICAgIGNvbnN0IHVzZU1vdmUgPSB0aGlzLl9pc1BvaW50ZXJNb3ZlRXZlbnQgJiYgdGhpcy5lbmFibGVHbG9iYWxNb3ZlRXZlbnRzO1xuICAgIGNvbnN0IGZuID0gdXNlTW92ZSA/IFwiaGl0VGVzdE1vdmVSZWN1cnNpdmVcIiA6IFwiaGl0VGVzdFJlY3Vyc2l2ZVwiO1xuICAgIGNvbnN0IGludmVydGVkUGF0aCA9IHRoaXNbZm5dKHRoaXMucm9vdFRhcmdldCwgdGhpcy5yb290VGFyZ2V0LmV2ZW50TW9kZSwgdGVtcEhpdExvY2F0aW9uLnNldCh4LCB5KSwgdGhpcy5oaXRUZXN0Rm4sIHRoaXMuaGl0UHJ1bmVGbik7XG4gICAgcmV0dXJuIGludmVydGVkUGF0aCAmJiBpbnZlcnRlZFBhdGhbMF07XG4gIH1cbiAgcHJvcGFnYXRlKGUsIHR5cGUpIHtcbiAgICBpZiAoIWUudGFyZ2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbXBvc2VkUGF0aCA9IGUuY29tcG9zZWRQYXRoKCk7XG4gICAgZS5ldmVudFBoYXNlID0gZS5DQVBUVVJJTkdfUEhBU0U7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBjb21wb3NlZFBhdGgubGVuZ3RoIC0gMTsgaSA8IGo7IGkrKykge1xuICAgICAgZS5jdXJyZW50VGFyZ2V0ID0gY29tcG9zZWRQYXRoW2ldO1xuICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgdHlwZSk7XG4gICAgICBpZiAoZS5wcm9wYWdhdGlvblN0b3BwZWQgfHwgZS5wcm9wYWdhdGlvbkltbWVkaWF0ZWx5U3RvcHBlZClcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlLmV2ZW50UGhhc2UgPSBlLkFUX1RBUkdFVDtcbiAgICBlLmN1cnJlbnRUYXJnZXQgPSBlLnRhcmdldDtcbiAgICB0aGlzLm5vdGlmeVRhcmdldChlLCB0eXBlKTtcbiAgICBpZiAoZS5wcm9wYWdhdGlvblN0b3BwZWQgfHwgZS5wcm9wYWdhdGlvbkltbWVkaWF0ZWx5U3RvcHBlZClcbiAgICAgIHJldHVybjtcbiAgICBlLmV2ZW50UGhhc2UgPSBlLkJVQkJMSU5HX1BIQVNFO1xuICAgIGZvciAobGV0IGkgPSBjb21wb3NlZFBhdGgubGVuZ3RoIC0gMjsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGUuY3VycmVudFRhcmdldCA9IGNvbXBvc2VkUGF0aFtpXTtcbiAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGUsIHR5cGUpO1xuICAgICAgaWYgKGUucHJvcGFnYXRpb25TdG9wcGVkIHx8IGUucHJvcGFnYXRpb25JbW1lZGlhdGVseVN0b3BwZWQpXG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgYWxsKGUsIHR5cGUsIHRhcmdldHMgPSB0aGlzLl9hbGxJbnRlcmFjdGl2ZUVsZW1lbnRzKSB7XG4gICAgaWYgKHRhcmdldHMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuO1xuICAgIGUuZXZlbnRQaGFzZSA9IGUuQlVCQkxJTkdfUEhBU0U7XG4gICAgY29uc3QgZXZlbnRzID0gQXJyYXkuaXNBcnJheSh0eXBlKSA/IHR5cGUgOiBbdHlwZV07XG4gICAgZm9yIChsZXQgaSA9IHRhcmdldHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgICAgICBlLmN1cnJlbnRUYXJnZXQgPSB0YXJnZXRzW2ldO1xuICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlLCBldmVudCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcHJvcGFnYXRpb25QYXRoKHRhcmdldCkge1xuICAgIGNvbnN0IHByb3BhZ2F0aW9uUGF0aCA9IFt0YXJnZXRdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgUFJPUEFHQVRJT05fTElNSVQgJiYgdGFyZ2V0ICE9PSB0aGlzLnJvb3RUYXJnZXQ7IGkrKykge1xuICAgICAgaWYgKCF0YXJnZXQucGFyZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHByb3BhZ2F0aW9uIHBhdGggdG8gZGlzY29ubmVjdGVkIHRhcmdldFwiKTtcbiAgICAgIH1cbiAgICAgIHByb3BhZ2F0aW9uUGF0aC5wdXNoKHRhcmdldC5wYXJlbnQpO1xuICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudDtcbiAgICB9XG4gICAgcHJvcGFnYXRpb25QYXRoLnJldmVyc2UoKTtcbiAgICByZXR1cm4gcHJvcGFnYXRpb25QYXRoO1xuICB9XG4gIGhpdFRlc3RNb3ZlUmVjdXJzaXZlKGN1cnJlbnRUYXJnZXQsIGV2ZW50TW9kZSwgbG9jYXRpb24sIHRlc3RGbiwgcHJ1bmVGbiwgaWdub3JlID0gZmFsc2UpIHtcbiAgICBsZXQgc2hvdWxkUmV0dXJuID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuX2ludGVyYWN0aXZlUHJ1bmUoY3VycmVudFRhcmdldCkpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAoY3VycmVudFRhcmdldC5ldmVudE1vZGUgPT09IFwiZHluYW1pY1wiIHx8IGV2ZW50TW9kZSA9PT0gXCJkeW5hbWljXCIpIHtcbiAgICAgIEV2ZW50c1RpY2tlci5wYXVzZVVwZGF0ZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFRhcmdldC5pbnRlcmFjdGl2ZUNoaWxkcmVuICYmIGN1cnJlbnRUYXJnZXQuY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gY3VycmVudFRhcmdldC5jaGlsZHJlbjtcbiAgICAgIGZvciAobGV0IGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICBjb25zdCBuZXN0ZWRIaXQgPSB0aGlzLmhpdFRlc3RNb3ZlUmVjdXJzaXZlKGNoaWxkLCB0aGlzLl9pc0ludGVyYWN0aXZlKGV2ZW50TW9kZSkgPyBldmVudE1vZGUgOiBjaGlsZC5ldmVudE1vZGUsIGxvY2F0aW9uLCB0ZXN0Rm4sIHBydW5lRm4sIGlnbm9yZSB8fCBwcnVuZUZuKGN1cnJlbnRUYXJnZXQsIGxvY2F0aW9uKSk7XG4gICAgICAgIGlmIChuZXN0ZWRIaXQpIHtcbiAgICAgICAgICBpZiAobmVzdGVkSGl0Lmxlbmd0aCA+IDAgJiYgIW5lc3RlZEhpdFtuZXN0ZWRIaXQubGVuZ3RoIC0gMV0ucGFyZW50KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgaXNJbnRlcmFjdGl2ZSA9IGN1cnJlbnRUYXJnZXQuaXNJbnRlcmFjdGl2ZSgpO1xuICAgICAgICAgIGlmIChuZXN0ZWRIaXQubGVuZ3RoID4gMCB8fCBpc0ludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBpZiAoaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgICAgdGhpcy5fYWxsSW50ZXJhY3RpdmVFbGVtZW50cy5wdXNoKGN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgbmVzdGVkSGl0LnB1c2goY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLl9oaXRFbGVtZW50cy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB0aGlzLl9oaXRFbGVtZW50cyA9IG5lc3RlZEhpdDtcbiAgICAgICAgICBzaG91bGRSZXR1cm4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGlzSW50ZXJhY3RpdmVNb2RlID0gdGhpcy5faXNJbnRlcmFjdGl2ZShldmVudE1vZGUpO1xuICAgIGNvbnN0IGlzSW50ZXJhY3RpdmVUYXJnZXQgPSBjdXJyZW50VGFyZ2V0LmlzSW50ZXJhY3RpdmUoKTtcbiAgICBpZiAoaXNJbnRlcmFjdGl2ZVRhcmdldCAmJiBpc0ludGVyYWN0aXZlVGFyZ2V0KVxuICAgICAgdGhpcy5fYWxsSW50ZXJhY3RpdmVFbGVtZW50cy5wdXNoKGN1cnJlbnRUYXJnZXQpO1xuICAgIGlmIChpZ25vcmUgfHwgdGhpcy5faGl0RWxlbWVudHMubGVuZ3RoID4gMClcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChzaG91bGRSZXR1cm4pXG4gICAgICByZXR1cm4gdGhpcy5faGl0RWxlbWVudHM7XG4gICAgaWYgKGlzSW50ZXJhY3RpdmVNb2RlICYmICghcHJ1bmVGbihjdXJyZW50VGFyZ2V0LCBsb2NhdGlvbikgJiYgdGVzdEZuKGN1cnJlbnRUYXJnZXQsIGxvY2F0aW9uKSkpIHtcbiAgICAgIHJldHVybiBpc0ludGVyYWN0aXZlVGFyZ2V0ID8gW2N1cnJlbnRUYXJnZXRdIDogW107XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGhpdFRlc3RSZWN1cnNpdmUoY3VycmVudFRhcmdldCwgZXZlbnRNb2RlLCBsb2NhdGlvbiwgdGVzdEZuLCBwcnVuZUZuKSB7XG4gICAgaWYgKHRoaXMuX2ludGVyYWN0aXZlUHJ1bmUoY3VycmVudFRhcmdldCkgfHwgcHJ1bmVGbihjdXJyZW50VGFyZ2V0LCBsb2NhdGlvbikpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFRhcmdldC5ldmVudE1vZGUgPT09IFwiZHluYW1pY1wiIHx8IGV2ZW50TW9kZSA9PT0gXCJkeW5hbWljXCIpIHtcbiAgICAgIEV2ZW50c1RpY2tlci5wYXVzZVVwZGF0ZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFRhcmdldC5pbnRlcmFjdGl2ZUNoaWxkcmVuICYmIGN1cnJlbnRUYXJnZXQuY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gY3VycmVudFRhcmdldC5jaGlsZHJlbjtcbiAgICAgIGZvciAobGV0IGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICBjb25zdCBuZXN0ZWRIaXQgPSB0aGlzLmhpdFRlc3RSZWN1cnNpdmUoY2hpbGQsIHRoaXMuX2lzSW50ZXJhY3RpdmUoZXZlbnRNb2RlKSA/IGV2ZW50TW9kZSA6IGNoaWxkLmV2ZW50TW9kZSwgbG9jYXRpb24sIHRlc3RGbiwgcHJ1bmVGbik7XG4gICAgICAgIGlmIChuZXN0ZWRIaXQpIHtcbiAgICAgICAgICBpZiAobmVzdGVkSGl0Lmxlbmd0aCA+IDAgJiYgIW5lc3RlZEhpdFtuZXN0ZWRIaXQubGVuZ3RoIC0gMV0ucGFyZW50KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgaXNJbnRlcmFjdGl2ZSA9IGN1cnJlbnRUYXJnZXQuaXNJbnRlcmFjdGl2ZSgpO1xuICAgICAgICAgIGlmIChuZXN0ZWRIaXQubGVuZ3RoID4gMCB8fCBpc0ludGVyYWN0aXZlKVxuICAgICAgICAgICAgbmVzdGVkSGl0LnB1c2goY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgcmV0dXJuIG5lc3RlZEhpdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpc0ludGVyYWN0aXZlTW9kZSA9IHRoaXMuX2lzSW50ZXJhY3RpdmUoZXZlbnRNb2RlKTtcbiAgICBjb25zdCBpc0ludGVyYWN0aXZlVGFyZ2V0ID0gY3VycmVudFRhcmdldC5pc0ludGVyYWN0aXZlKCk7XG4gICAgaWYgKGlzSW50ZXJhY3RpdmVNb2RlICYmIHRlc3RGbihjdXJyZW50VGFyZ2V0LCBsb2NhdGlvbikpIHtcbiAgICAgIHJldHVybiBpc0ludGVyYWN0aXZlVGFyZ2V0ID8gW2N1cnJlbnRUYXJnZXRdIDogW107XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIF9pc0ludGVyYWN0aXZlKGludCkge1xuICAgIHJldHVybiBpbnQgPT09IFwic3RhdGljXCIgfHwgaW50ID09PSBcImR5bmFtaWNcIjtcbiAgfVxuICBfaW50ZXJhY3RpdmVQcnVuZShkaXNwbGF5T2JqZWN0KSB7XG4gICAgaWYgKCFkaXNwbGF5T2JqZWN0IHx8IGRpc3BsYXlPYmplY3QuaXNNYXNrIHx8ICFkaXNwbGF5T2JqZWN0LnZpc2libGUgfHwgIWRpc3BsYXlPYmplY3QucmVuZGVyYWJsZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChkaXNwbGF5T2JqZWN0LmV2ZW50TW9kZSA9PT0gXCJub25lXCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZGlzcGxheU9iamVjdC5ldmVudE1vZGUgPT09IFwicGFzc2l2ZVwiICYmICFkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlQ2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZGlzcGxheU9iamVjdC5pc01hc2spIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaGl0UHJ1bmVGbihkaXNwbGF5T2JqZWN0LCBsb2NhdGlvbikge1xuICAgIGlmIChkaXNwbGF5T2JqZWN0LmhpdEFyZWEpIHtcbiAgICAgIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKGxvY2F0aW9uLCB0ZW1wTG9jYWxNYXBwaW5nKTtcbiAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhLmNvbnRhaW5zKHRlbXBMb2NhbE1hcHBpbmcueCwgdGVtcExvY2FsTWFwcGluZy55KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRpc3BsYXlPYmplY3QuX21hc2spIHtcbiAgICAgIGNvbnN0IG1hc2tPYmplY3QgPSBkaXNwbGF5T2JqZWN0Ll9tYXNrLmlzTWFza0RhdGEgPyBkaXNwbGF5T2JqZWN0Ll9tYXNrLm1hc2tPYmplY3QgOiBkaXNwbGF5T2JqZWN0Ll9tYXNrO1xuICAgICAgaWYgKG1hc2tPYmplY3QgJiYgIW1hc2tPYmplY3QuY29udGFpbnNQb2ludD8uKGxvY2F0aW9uKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGhpdFRlc3RGbihkaXNwbGF5T2JqZWN0LCBsb2NhdGlvbikge1xuICAgIGlmIChkaXNwbGF5T2JqZWN0LmV2ZW50TW9kZSA9PT0gXCJwYXNzaXZlXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGRpc3BsYXlPYmplY3QuaGl0QXJlYSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQpIHtcbiAgICAgIHJldHVybiBkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQobG9jYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbm90aWZ5VGFyZ2V0KGUsIHR5cGUpIHtcbiAgICB0eXBlID0gdHlwZSA/PyBlLnR5cGU7XG4gICAgY29uc3QgaGFuZGxlcktleSA9IGBvbiR7dHlwZX1gO1xuICAgIGUuY3VycmVudFRhcmdldFtoYW5kbGVyS2V5XT8uKGUpO1xuICAgIGNvbnN0IGtleSA9IGUuZXZlbnRQaGFzZSA9PT0gZS5DQVBUVVJJTkdfUEhBU0UgfHwgZS5ldmVudFBoYXNlID09PSBlLkFUX1RBUkdFVCA/IGAke3R5cGV9Y2FwdHVyZWAgOiB0eXBlO1xuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKGUsIGtleSk7XG4gICAgaWYgKGUuZXZlbnRQaGFzZSA9PT0gZS5BVF9UQVJHRVQpIHtcbiAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKGUsIHR5cGUpO1xuICAgIH1cbiAgfVxuICBtYXBQb2ludGVyRG93bihmcm9tKSB7XG4gICAgaWYgKCEoZnJvbSBpbnN0YW5jZW9mIEZlZGVyYXRlZFBvaW50ZXJFdmVudCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkV2ZW50Qm91bmRhcnkgY2Fubm90IG1hcCBhIG5vbi1wb2ludGVyIGV2ZW50IGFzIGEgcG9pbnRlciBldmVudFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZSA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20pO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlLCBcInBvaW50ZXJkb3duXCIpO1xuICAgIGlmIChlLnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlLCBcInRvdWNoc3RhcnRcIik7XG4gICAgfSBlbHNlIGlmIChlLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIgfHwgZS5wb2ludGVyVHlwZSA9PT0gXCJwZW5cIikge1xuICAgICAgY29uc3QgaXNSaWdodEJ1dHRvbiA9IGUuYnV0dG9uID09PSAyO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUsIGlzUmlnaHRCdXR0b24gPyBcInJpZ2h0ZG93blwiIDogXCJtb3VzZWRvd25cIik7XG4gICAgfVxuICAgIGNvbnN0IHRyYWNraW5nRGF0YSA9IHRoaXMudHJhY2tpbmdEYXRhKGZyb20ucG9pbnRlcklkKTtcbiAgICB0cmFja2luZ0RhdGEucHJlc3NUYXJnZXRzQnlCdXR0b25bZnJvbS5idXR0b25dID0gZS5jb21wb3NlZFBhdGgoKTtcbiAgICB0aGlzLmZyZWVFdmVudChlKTtcbiAgfVxuICBtYXBQb2ludGVyTW92ZShmcm9tKSB7XG4gICAgaWYgKCEoZnJvbSBpbnN0YW5jZW9mIEZlZGVyYXRlZFBvaW50ZXJFdmVudCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkV2ZW50Qm91bmRhcnkgY2Fubm90IG1hcCBhIG5vbi1wb2ludGVyIGV2ZW50IGFzIGEgcG9pbnRlciBldmVudFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fYWxsSW50ZXJhY3RpdmVFbGVtZW50cy5sZW5ndGggPSAwO1xuICAgIHRoaXMuX2hpdEVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5faXNQb2ludGVyTW92ZUV2ZW50ID0gdHJ1ZTtcbiAgICBjb25zdCBlID0gdGhpcy5jcmVhdGVQb2ludGVyRXZlbnQoZnJvbSk7XG4gICAgdGhpcy5faXNQb2ludGVyTW92ZUV2ZW50ID0gZmFsc2U7XG4gICAgY29uc3QgaXNNb3VzZSA9IGUucG9pbnRlclR5cGUgPT09IFwibW91c2VcIiB8fCBlLnBvaW50ZXJUeXBlID09PSBcInBlblwiO1xuICAgIGNvbnN0IHRyYWNraW5nRGF0YSA9IHRoaXMudHJhY2tpbmdEYXRhKGZyb20ucG9pbnRlcklkKTtcbiAgICBjb25zdCBvdXRUYXJnZXQgPSB0aGlzLmZpbmRNb3VudGVkVGFyZ2V0KHRyYWNraW5nRGF0YS5vdmVyVGFyZ2V0cyk7XG4gICAgaWYgKHRyYWNraW5nRGF0YS5vdmVyVGFyZ2V0cz8ubGVuZ3RoID4gMCAmJiBvdXRUYXJnZXQgIT09IGUudGFyZ2V0KSB7XG4gICAgICBjb25zdCBvdXRUeXBlID0gZnJvbS50eXBlID09PSBcIm1vdXNlbW92ZVwiID8gXCJtb3VzZW91dFwiIDogXCJwb2ludGVyb3V0XCI7XG4gICAgICBjb25zdCBvdXRFdmVudCA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20sIG91dFR5cGUsIG91dFRhcmdldCk7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQob3V0RXZlbnQsIFwicG9pbnRlcm91dFwiKTtcbiAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQob3V0RXZlbnQsIFwibW91c2VvdXRcIik7XG4gICAgICBpZiAoIWUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMob3V0VGFyZ2V0KSkge1xuICAgICAgICBjb25zdCBsZWF2ZUV2ZW50ID0gdGhpcy5jcmVhdGVQb2ludGVyRXZlbnQoZnJvbSwgXCJwb2ludGVybGVhdmVcIiwgb3V0VGFyZ2V0KTtcbiAgICAgICAgbGVhdmVFdmVudC5ldmVudFBoYXNlID0gbGVhdmVFdmVudC5BVF9UQVJHRVQ7XG4gICAgICAgIHdoaWxlIChsZWF2ZUV2ZW50LnRhcmdldCAmJiAhZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhsZWF2ZUV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICBsZWF2ZUV2ZW50LmN1cnJlbnRUYXJnZXQgPSBsZWF2ZUV2ZW50LnRhcmdldDtcbiAgICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChsZWF2ZUV2ZW50KTtcbiAgICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGxlYXZlRXZlbnQsIFwibW91c2VsZWF2ZVwiKTtcbiAgICAgICAgICBsZWF2ZUV2ZW50LnRhcmdldCA9IGxlYXZlRXZlbnQudGFyZ2V0LnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZyZWVFdmVudChsZWF2ZUV2ZW50KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZnJlZUV2ZW50KG91dEV2ZW50KTtcbiAgICB9XG4gICAgaWYgKG91dFRhcmdldCAhPT0gZS50YXJnZXQpIHtcbiAgICAgIGNvbnN0IG92ZXJUeXBlID0gZnJvbS50eXBlID09PSBcIm1vdXNlbW92ZVwiID8gXCJtb3VzZW92ZXJcIiA6IFwicG9pbnRlcm92ZXJcIjtcbiAgICAgIGNvbnN0IG92ZXJFdmVudCA9IHRoaXMuY2xvbmVQb2ludGVyRXZlbnQoZSwgb3ZlclR5cGUpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG92ZXJFdmVudCwgXCJwb2ludGVyb3ZlclwiKTtcbiAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQob3ZlckV2ZW50LCBcIm1vdXNlb3ZlclwiKTtcbiAgICAgIGxldCBvdmVyVGFyZ2V0QW5jZXN0b3IgPSBvdXRUYXJnZXQ/LnBhcmVudDtcbiAgICAgIHdoaWxlIChvdmVyVGFyZ2V0QW5jZXN0b3IgJiYgb3ZlclRhcmdldEFuY2VzdG9yICE9PSB0aGlzLnJvb3RUYXJnZXQucGFyZW50KSB7XG4gICAgICAgIGlmIChvdmVyVGFyZ2V0QW5jZXN0b3IgPT09IGUudGFyZ2V0KVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBvdmVyVGFyZ2V0QW5jZXN0b3IgPSBvdmVyVGFyZ2V0QW5jZXN0b3IucGFyZW50O1xuICAgICAgfVxuICAgICAgY29uc3QgZGlkUG9pbnRlckVudGVyID0gIW92ZXJUYXJnZXRBbmNlc3RvciB8fCBvdmVyVGFyZ2V0QW5jZXN0b3IgPT09IHRoaXMucm9vdFRhcmdldC5wYXJlbnQ7XG4gICAgICBpZiAoZGlkUG9pbnRlckVudGVyKSB7XG4gICAgICAgIGNvbnN0IGVudGVyRXZlbnQgPSB0aGlzLmNsb25lUG9pbnRlckV2ZW50KGUsIFwicG9pbnRlcmVudGVyXCIpO1xuICAgICAgICBlbnRlckV2ZW50LmV2ZW50UGhhc2UgPSBlbnRlckV2ZW50LkFUX1RBUkdFVDtcbiAgICAgICAgd2hpbGUgKGVudGVyRXZlbnQudGFyZ2V0ICYmIGVudGVyRXZlbnQudGFyZ2V0ICE9PSBvdXRUYXJnZXQgJiYgZW50ZXJFdmVudC50YXJnZXQgIT09IHRoaXMucm9vdFRhcmdldC5wYXJlbnQpIHtcbiAgICAgICAgICBlbnRlckV2ZW50LmN1cnJlbnRUYXJnZXQgPSBlbnRlckV2ZW50LnRhcmdldDtcbiAgICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlbnRlckV2ZW50KTtcbiAgICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGVudGVyRXZlbnQsIFwibW91c2VlbnRlclwiKTtcbiAgICAgICAgICBlbnRlckV2ZW50LnRhcmdldCA9IGVudGVyRXZlbnQudGFyZ2V0LnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZyZWVFdmVudChlbnRlckV2ZW50KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZnJlZUV2ZW50KG92ZXJFdmVudCk7XG4gICAgfVxuICAgIGNvbnN0IGFsbE1ldGhvZHMgPSBbXTtcbiAgICBjb25zdCBhbGxvd0dsb2JhbFBvaW50ZXJFdmVudHMgPSB0aGlzLmVuYWJsZUdsb2JhbE1vdmVFdmVudHMgPz8gdHJ1ZTtcbiAgICB0aGlzLm1vdmVPbkFsbCA/IGFsbE1ldGhvZHMucHVzaChcInBvaW50ZXJtb3ZlXCIpIDogdGhpcy5kaXNwYXRjaEV2ZW50KGUsIFwicG9pbnRlcm1vdmVcIik7XG4gICAgYWxsb3dHbG9iYWxQb2ludGVyRXZlbnRzICYmIGFsbE1ldGhvZHMucHVzaChcImdsb2JhbHBvaW50ZXJtb3ZlXCIpO1xuICAgIGlmIChlLnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpIHtcbiAgICAgIHRoaXMubW92ZU9uQWxsID8gYWxsTWV0aG9kcy5zcGxpY2UoMSwgMCwgXCJ0b3VjaG1vdmVcIikgOiB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgXCJ0b3VjaG1vdmVcIik7XG4gICAgICBhbGxvd0dsb2JhbFBvaW50ZXJFdmVudHMgJiYgYWxsTWV0aG9kcy5wdXNoKFwiZ2xvYmFsdG91Y2htb3ZlXCIpO1xuICAgIH1cbiAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgdGhpcy5tb3ZlT25BbGwgPyBhbGxNZXRob2RzLnNwbGljZSgxLCAwLCBcIm1vdXNlbW92ZVwiKSA6IHRoaXMuZGlzcGF0Y2hFdmVudChlLCBcIm1vdXNlbW92ZVwiKTtcbiAgICAgIGFsbG93R2xvYmFsUG9pbnRlckV2ZW50cyAmJiBhbGxNZXRob2RzLnB1c2goXCJnbG9iYWxtb3VzZW1vdmVcIik7XG4gICAgICB0aGlzLmN1cnNvciA9IGUudGFyZ2V0Py5jdXJzb3I7XG4gICAgfVxuICAgIGlmIChhbGxNZXRob2RzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuYWxsKGUsIGFsbE1ldGhvZHMpO1xuICAgIH1cbiAgICB0aGlzLl9hbGxJbnRlcmFjdGl2ZUVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5faGl0RWxlbWVudHMubGVuZ3RoID0gMDtcbiAgICB0cmFja2luZ0RhdGEub3ZlclRhcmdldHMgPSBlLmNvbXBvc2VkUGF0aCgpO1xuICAgIHRoaXMuZnJlZUV2ZW50KGUpO1xuICB9XG4gIG1hcFBvaW50ZXJPdmVyKGZyb20pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkUG9pbnRlckV2ZW50KSkge1xuICAgICAgY29uc29sZS53YXJuKFwiRXZlbnRCb3VuZGFyeSBjYW5ub3QgbWFwIGEgbm9uLXBvaW50ZXIgZXZlbnQgYXMgYSBwb2ludGVyIGV2ZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0cmFja2luZ0RhdGEgPSB0aGlzLnRyYWNraW5nRGF0YShmcm9tLnBvaW50ZXJJZCk7XG4gICAgY29uc3QgZSA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20pO1xuICAgIGNvbnN0IGlzTW91c2UgPSBlLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIgfHwgZS5wb2ludGVyVHlwZSA9PT0gXCJwZW5cIjtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgXCJwb2ludGVyb3ZlclwiKTtcbiAgICBpZiAoaXNNb3VzZSlcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlLCBcIm1vdXNlb3ZlclwiKTtcbiAgICBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiKVxuICAgICAgdGhpcy5jdXJzb3IgPSBlLnRhcmdldD8uY3Vyc29yO1xuICAgIGNvbnN0IGVudGVyRXZlbnQgPSB0aGlzLmNsb25lUG9pbnRlckV2ZW50KGUsIFwicG9pbnRlcmVudGVyXCIpO1xuICAgIGVudGVyRXZlbnQuZXZlbnRQaGFzZSA9IGVudGVyRXZlbnQuQVRfVEFSR0VUO1xuICAgIHdoaWxlIChlbnRlckV2ZW50LnRhcmdldCAmJiBlbnRlckV2ZW50LnRhcmdldCAhPT0gdGhpcy5yb290VGFyZ2V0LnBhcmVudCkge1xuICAgICAgZW50ZXJFdmVudC5jdXJyZW50VGFyZ2V0ID0gZW50ZXJFdmVudC50YXJnZXQ7XG4gICAgICB0aGlzLm5vdGlmeVRhcmdldChlbnRlckV2ZW50KTtcbiAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlbnRlckV2ZW50LCBcIm1vdXNlZW50ZXJcIik7XG4gICAgICBlbnRlckV2ZW50LnRhcmdldCA9IGVudGVyRXZlbnQudGFyZ2V0LnBhcmVudDtcbiAgICB9XG4gICAgdHJhY2tpbmdEYXRhLm92ZXJUYXJnZXRzID0gZS5jb21wb3NlZFBhdGgoKTtcbiAgICB0aGlzLmZyZWVFdmVudChlKTtcbiAgICB0aGlzLmZyZWVFdmVudChlbnRlckV2ZW50KTtcbiAgfVxuICBtYXBQb2ludGVyT3V0KGZyb20pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkUG9pbnRlckV2ZW50KSkge1xuICAgICAgY29uc29sZS53YXJuKFwiRXZlbnRCb3VuZGFyeSBjYW5ub3QgbWFwIGEgbm9uLXBvaW50ZXIgZXZlbnQgYXMgYSBwb2ludGVyIGV2ZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0cmFja2luZ0RhdGEgPSB0aGlzLnRyYWNraW5nRGF0YShmcm9tLnBvaW50ZXJJZCk7XG4gICAgaWYgKHRyYWNraW5nRGF0YS5vdmVyVGFyZ2V0cykge1xuICAgICAgY29uc3QgaXNNb3VzZSA9IGZyb20ucG9pbnRlclR5cGUgPT09IFwibW91c2VcIiB8fCBmcm9tLnBvaW50ZXJUeXBlID09PSBcInBlblwiO1xuICAgICAgY29uc3Qgb3V0VGFyZ2V0ID0gdGhpcy5maW5kTW91bnRlZFRhcmdldCh0cmFja2luZ0RhdGEub3ZlclRhcmdldHMpO1xuICAgICAgY29uc3Qgb3V0RXZlbnQgPSB0aGlzLmNyZWF0ZVBvaW50ZXJFdmVudChmcm9tLCBcInBvaW50ZXJvdXRcIiwgb3V0VGFyZ2V0KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChvdXRFdmVudCk7XG4gICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG91dEV2ZW50LCBcIm1vdXNlb3V0XCIpO1xuICAgICAgY29uc3QgbGVhdmVFdmVudCA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20sIFwicG9pbnRlcmxlYXZlXCIsIG91dFRhcmdldCk7XG4gICAgICBsZWF2ZUV2ZW50LmV2ZW50UGhhc2UgPSBsZWF2ZUV2ZW50LkFUX1RBUkdFVDtcbiAgICAgIHdoaWxlIChsZWF2ZUV2ZW50LnRhcmdldCAmJiBsZWF2ZUV2ZW50LnRhcmdldCAhPT0gdGhpcy5yb290VGFyZ2V0LnBhcmVudCkge1xuICAgICAgICBsZWF2ZUV2ZW50LmN1cnJlbnRUYXJnZXQgPSBsZWF2ZUV2ZW50LnRhcmdldDtcbiAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQobGVhdmVFdmVudCk7XG4gICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGxlYXZlRXZlbnQsIFwibW91c2VsZWF2ZVwiKTtcbiAgICAgICAgbGVhdmVFdmVudC50YXJnZXQgPSBsZWF2ZUV2ZW50LnRhcmdldC5wYXJlbnQ7XG4gICAgICB9XG4gICAgICB0cmFja2luZ0RhdGEub3ZlclRhcmdldHMgPSBudWxsO1xuICAgICAgdGhpcy5mcmVlRXZlbnQob3V0RXZlbnQpO1xuICAgICAgdGhpcy5mcmVlRXZlbnQobGVhdmVFdmVudCk7XG4gICAgfVxuICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgfVxuICBtYXBQb2ludGVyVXAoZnJvbSkge1xuICAgIGlmICghKGZyb20gaW5zdGFuY2VvZiBGZWRlcmF0ZWRQb2ludGVyRXZlbnQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJFdmVudEJvdW5kYXJ5IGNhbm5vdCBtYXAgYSBub24tcG9pbnRlciBldmVudCBhcyBhIHBvaW50ZXIgZXZlbnRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IGUgPSB0aGlzLmNyZWF0ZVBvaW50ZXJFdmVudChmcm9tKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgXCJwb2ludGVydXBcIik7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUsIFwidG91Y2hlbmRcIik7XG4gICAgfSBlbHNlIGlmIChlLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIgfHwgZS5wb2ludGVyVHlwZSA9PT0gXCJwZW5cIikge1xuICAgICAgY29uc3QgaXNSaWdodEJ1dHRvbiA9IGUuYnV0dG9uID09PSAyO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUsIGlzUmlnaHRCdXR0b24gPyBcInJpZ2h0dXBcIiA6IFwibW91c2V1cFwiKTtcbiAgICB9XG4gICAgY29uc3QgdHJhY2tpbmdEYXRhID0gdGhpcy50cmFja2luZ0RhdGEoZnJvbS5wb2ludGVySWQpO1xuICAgIGNvbnN0IHByZXNzVGFyZ2V0ID0gdGhpcy5maW5kTW91bnRlZFRhcmdldCh0cmFja2luZ0RhdGEucHJlc3NUYXJnZXRzQnlCdXR0b25bZnJvbS5idXR0b25dKTtcbiAgICBsZXQgY2xpY2tUYXJnZXQgPSBwcmVzc1RhcmdldDtcbiAgICBpZiAocHJlc3NUYXJnZXQgJiYgIWUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMocHJlc3NUYXJnZXQpKSB7XG4gICAgICBsZXQgY3VycmVudFRhcmdldCA9IHByZXNzVGFyZ2V0O1xuICAgICAgd2hpbGUgKGN1cnJlbnRUYXJnZXQgJiYgIWUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoY3VycmVudFRhcmdldCkpIHtcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldDtcbiAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgXCJwb2ludGVydXBvdXRzaWRlXCIpO1xuICAgICAgICBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgXCJ0b3VjaGVuZG91dHNpZGVcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiIHx8IGUucG9pbnRlclR5cGUgPT09IFwicGVuXCIpIHtcbiAgICAgICAgICBjb25zdCBpc1JpZ2h0QnV0dG9uID0gZS5idXR0b24gPT09IDI7XG4gICAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgaXNSaWdodEJ1dHRvbiA/IFwicmlnaHR1cG91dHNpZGVcIiA6IFwibW91c2V1cG91dHNpZGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQucGFyZW50O1xuICAgICAgfVxuICAgICAgZGVsZXRlIHRyYWNraW5nRGF0YS5wcmVzc1RhcmdldHNCeUJ1dHRvbltmcm9tLmJ1dHRvbl07XG4gICAgICBjbGlja1RhcmdldCA9IGN1cnJlbnRUYXJnZXQ7XG4gICAgfVxuICAgIGlmIChjbGlja1RhcmdldCkge1xuICAgICAgY29uc3QgY2xpY2tFdmVudCA9IHRoaXMuY2xvbmVQb2ludGVyRXZlbnQoZSwgXCJjbGlja1wiKTtcbiAgICAgIGNsaWNrRXZlbnQudGFyZ2V0ID0gY2xpY2tUYXJnZXQ7XG4gICAgICBjbGlja0V2ZW50LnBhdGggPSBudWxsO1xuICAgICAgaWYgKCF0cmFja2luZ0RhdGEuY2xpY2tzQnlCdXR0b25bZnJvbS5idXR0b25dKSB7XG4gICAgICAgIHRyYWNraW5nRGF0YS5jbGlja3NCeUJ1dHRvbltmcm9tLmJ1dHRvbl0gPSB7XG4gICAgICAgICAgY2xpY2tDb3VudDogMCxcbiAgICAgICAgICB0YXJnZXQ6IGNsaWNrRXZlbnQudGFyZ2V0LFxuICAgICAgICAgIHRpbWVTdGFtcDogbm93XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCBjbGlja0hpc3RvcnkgPSB0cmFja2luZ0RhdGEuY2xpY2tzQnlCdXR0b25bZnJvbS5idXR0b25dO1xuICAgICAgaWYgKGNsaWNrSGlzdG9yeS50YXJnZXQgPT09IGNsaWNrRXZlbnQudGFyZ2V0ICYmIG5vdyAtIGNsaWNrSGlzdG9yeS50aW1lU3RhbXAgPCAyMDApIHtcbiAgICAgICAgKytjbGlja0hpc3RvcnkuY2xpY2tDb3VudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsaWNrSGlzdG9yeS5jbGlja0NvdW50ID0gMTtcbiAgICAgIH1cbiAgICAgIGNsaWNrSGlzdG9yeS50YXJnZXQgPSBjbGlja0V2ZW50LnRhcmdldDtcbiAgICAgIGNsaWNrSGlzdG9yeS50aW1lU3RhbXAgPSBub3c7XG4gICAgICBjbGlja0V2ZW50LmRldGFpbCA9IGNsaWNrSGlzdG9yeS5jbGlja0NvdW50O1xuICAgICAgaWYgKGNsaWNrRXZlbnQucG9pbnRlclR5cGUgPT09IFwibW91c2VcIikge1xuICAgICAgICBjb25zdCBpc1JpZ2h0QnV0dG9uID0gY2xpY2tFdmVudC5idXR0b24gPT09IDI7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChjbGlja0V2ZW50LCBpc1JpZ2h0QnV0dG9uID8gXCJyaWdodGNsaWNrXCIgOiBcImNsaWNrXCIpO1xuICAgICAgfSBlbHNlIGlmIChjbGlja0V2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGNsaWNrRXZlbnQsIFwidGFwXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGNsaWNrRXZlbnQsIFwicG9pbnRlcnRhcFwiKTtcbiAgICAgIHRoaXMuZnJlZUV2ZW50KGNsaWNrRXZlbnQpO1xuICAgIH1cbiAgICB0aGlzLmZyZWVFdmVudChlKTtcbiAgfVxuICBtYXBQb2ludGVyVXBPdXRzaWRlKGZyb20pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkUG9pbnRlckV2ZW50KSkge1xuICAgICAgY29uc29sZS53YXJuKFwiRXZlbnRCb3VuZGFyeSBjYW5ub3QgbWFwIGEgbm9uLXBvaW50ZXIgZXZlbnQgYXMgYSBwb2ludGVyIGV2ZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0cmFja2luZ0RhdGEgPSB0aGlzLnRyYWNraW5nRGF0YShmcm9tLnBvaW50ZXJJZCk7XG4gICAgY29uc3QgcHJlc3NUYXJnZXQgPSB0aGlzLmZpbmRNb3VudGVkVGFyZ2V0KHRyYWNraW5nRGF0YS5wcmVzc1RhcmdldHNCeUJ1dHRvbltmcm9tLmJ1dHRvbl0pO1xuICAgIGNvbnN0IGUgPSB0aGlzLmNyZWF0ZVBvaW50ZXJFdmVudChmcm9tKTtcbiAgICBpZiAocHJlc3NUYXJnZXQpIHtcbiAgICAgIGxldCBjdXJyZW50VGFyZ2V0ID0gcHJlc3NUYXJnZXQ7XG4gICAgICB3aGlsZSAoY3VycmVudFRhcmdldCkge1xuICAgICAgICBlLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0O1xuICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlLCBcInBvaW50ZXJ1cG91dHNpZGVcIik7XG4gICAgICAgIGlmIChlLnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpIHtcbiAgICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlLCBcInRvdWNoZW5kb3V0c2lkZVwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChlLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIgfHwgZS5wb2ludGVyVHlwZSA9PT0gXCJwZW5cIikge1xuICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGUsIGUuYnV0dG9uID09PSAyID8gXCJyaWdodHVwb3V0c2lkZVwiIDogXCJtb3VzZXVwb3V0c2lkZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldC5wYXJlbnQ7XG4gICAgICB9XG4gICAgICBkZWxldGUgdHJhY2tpbmdEYXRhLnByZXNzVGFyZ2V0c0J5QnV0dG9uW2Zyb20uYnV0dG9uXTtcbiAgICB9XG4gICAgdGhpcy5mcmVlRXZlbnQoZSk7XG4gIH1cbiAgbWFwV2hlZWwoZnJvbSkge1xuICAgIGlmICghKGZyb20gaW5zdGFuY2VvZiBGZWRlcmF0ZWRXaGVlbEV2ZW50KSkge1xuICAgICAgY29uc29sZS53YXJuKFwiRXZlbnRCb3VuZGFyeSBjYW5ub3QgbWFwIGEgbm9uLXdoZWVsIGV2ZW50IGFzIGEgd2hlZWwgZXZlbnRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHdoZWVsRXZlbnQgPSB0aGlzLmNyZWF0ZVdoZWVsRXZlbnQoZnJvbSk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KHdoZWVsRXZlbnQpO1xuICAgIHRoaXMuZnJlZUV2ZW50KHdoZWVsRXZlbnQpO1xuICB9XG4gIGZpbmRNb3VudGVkVGFyZ2V0KHByb3BhZ2F0aW9uUGF0aCkge1xuICAgIGlmICghcHJvcGFnYXRpb25QYXRoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbGV0IGN1cnJlbnRUYXJnZXQgPSBwcm9wYWdhdGlvblBhdGhbMF07XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwcm9wYWdhdGlvblBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwcm9wYWdhdGlvblBhdGhbaV0ucGFyZW50ID09PSBjdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgIGN1cnJlbnRUYXJnZXQgPSBwcm9wYWdhdGlvblBhdGhbaV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRUYXJnZXQ7XG4gIH1cbiAgY3JlYXRlUG9pbnRlckV2ZW50KGZyb20sIHR5cGUsIHRhcmdldCkge1xuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5hbGxvY2F0ZUV2ZW50KEZlZGVyYXRlZFBvaW50ZXJFdmVudCk7XG4gICAgdGhpcy5jb3B5UG9pbnRlckRhdGEoZnJvbSwgZXZlbnQpO1xuICAgIHRoaXMuY29weU1vdXNlRGF0YShmcm9tLCBldmVudCk7XG4gICAgdGhpcy5jb3B5RGF0YShmcm9tLCBldmVudCk7XG4gICAgZXZlbnQubmF0aXZlRXZlbnQgPSBmcm9tLm5hdGl2ZUV2ZW50O1xuICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQgPSBmcm9tO1xuICAgIGV2ZW50LnRhcmdldCA9IHRhcmdldCA/PyB0aGlzLmhpdFRlc3QoZXZlbnQuZ2xvYmFsLngsIGV2ZW50Lmdsb2JhbC55KSA/PyB0aGlzLl9oaXRFbGVtZW50c1swXTtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGV2ZW50LnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cbiAgY3JlYXRlV2hlZWxFdmVudChmcm9tKSB7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmFsbG9jYXRlRXZlbnQoRmVkZXJhdGVkV2hlZWxFdmVudCk7XG4gICAgdGhpcy5jb3B5V2hlZWxEYXRhKGZyb20sIGV2ZW50KTtcbiAgICB0aGlzLmNvcHlNb3VzZURhdGEoZnJvbSwgZXZlbnQpO1xuICAgIHRoaXMuY29weURhdGEoZnJvbSwgZXZlbnQpO1xuICAgIGV2ZW50Lm5hdGl2ZUV2ZW50ID0gZnJvbS5uYXRpdmVFdmVudDtcbiAgICBldmVudC5vcmlnaW5hbEV2ZW50ID0gZnJvbTtcbiAgICBldmVudC50YXJnZXQgPSB0aGlzLmhpdFRlc3QoZXZlbnQuZ2xvYmFsLngsIGV2ZW50Lmdsb2JhbC55KTtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cbiAgY2xvbmVQb2ludGVyRXZlbnQoZnJvbSwgdHlwZSkge1xuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5hbGxvY2F0ZUV2ZW50KEZlZGVyYXRlZFBvaW50ZXJFdmVudCk7XG4gICAgZXZlbnQubmF0aXZlRXZlbnQgPSBmcm9tLm5hdGl2ZUV2ZW50O1xuICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQgPSBmcm9tLm9yaWdpbmFsRXZlbnQ7XG4gICAgdGhpcy5jb3B5UG9pbnRlckRhdGEoZnJvbSwgZXZlbnQpO1xuICAgIHRoaXMuY29weU1vdXNlRGF0YShmcm9tLCBldmVudCk7XG4gICAgdGhpcy5jb3B5RGF0YShmcm9tLCBldmVudCk7XG4gICAgZXZlbnQudGFyZ2V0ID0gZnJvbS50YXJnZXQ7XG4gICAgZXZlbnQucGF0aCA9IGZyb20uY29tcG9zZWRQYXRoKCkuc2xpY2UoKTtcbiAgICBldmVudC50eXBlID0gdHlwZSA/PyBldmVudC50eXBlO1xuICAgIHJldHVybiBldmVudDtcbiAgfVxuICBjb3B5V2hlZWxEYXRhKGZyb20sIHRvKSB7XG4gICAgdG8uZGVsdGFNb2RlID0gZnJvbS5kZWx0YU1vZGU7XG4gICAgdG8uZGVsdGFYID0gZnJvbS5kZWx0YVg7XG4gICAgdG8uZGVsdGFZID0gZnJvbS5kZWx0YVk7XG4gICAgdG8uZGVsdGFaID0gZnJvbS5kZWx0YVo7XG4gIH1cbiAgY29weVBvaW50ZXJEYXRhKGZyb20sIHRvKSB7XG4gICAgaWYgKCEoZnJvbSBpbnN0YW5jZW9mIEZlZGVyYXRlZFBvaW50ZXJFdmVudCAmJiB0byBpbnN0YW5jZW9mIEZlZGVyYXRlZFBvaW50ZXJFdmVudCkpXG4gICAgICByZXR1cm47XG4gICAgdG8ucG9pbnRlcklkID0gZnJvbS5wb2ludGVySWQ7XG4gICAgdG8ud2lkdGggPSBmcm9tLndpZHRoO1xuICAgIHRvLmhlaWdodCA9IGZyb20uaGVpZ2h0O1xuICAgIHRvLmlzUHJpbWFyeSA9IGZyb20uaXNQcmltYXJ5O1xuICAgIHRvLnBvaW50ZXJUeXBlID0gZnJvbS5wb2ludGVyVHlwZTtcbiAgICB0by5wcmVzc3VyZSA9IGZyb20ucHJlc3N1cmU7XG4gICAgdG8udGFuZ2VudGlhbFByZXNzdXJlID0gZnJvbS50YW5nZW50aWFsUHJlc3N1cmU7XG4gICAgdG8udGlsdFggPSBmcm9tLnRpbHRYO1xuICAgIHRvLnRpbHRZID0gZnJvbS50aWx0WTtcbiAgICB0by50d2lzdCA9IGZyb20udHdpc3Q7XG4gIH1cbiAgY29weU1vdXNlRGF0YShmcm9tLCB0bykge1xuICAgIGlmICghKGZyb20gaW5zdGFuY2VvZiBGZWRlcmF0ZWRNb3VzZUV2ZW50ICYmIHRvIGluc3RhbmNlb2YgRmVkZXJhdGVkTW91c2VFdmVudCkpXG4gICAgICByZXR1cm47XG4gICAgdG8uYWx0S2V5ID0gZnJvbS5hbHRLZXk7XG4gICAgdG8uYnV0dG9uID0gZnJvbS5idXR0b247XG4gICAgdG8uYnV0dG9ucyA9IGZyb20uYnV0dG9ucztcbiAgICB0by5jbGllbnQuY29weUZyb20oZnJvbS5jbGllbnQpO1xuICAgIHRvLmN0cmxLZXkgPSBmcm9tLmN0cmxLZXk7XG4gICAgdG8ubWV0YUtleSA9IGZyb20ubWV0YUtleTtcbiAgICB0by5tb3ZlbWVudC5jb3B5RnJvbShmcm9tLm1vdmVtZW50KTtcbiAgICB0by5zY3JlZW4uY29weUZyb20oZnJvbS5zY3JlZW4pO1xuICAgIHRvLnNoaWZ0S2V5ID0gZnJvbS5zaGlmdEtleTtcbiAgICB0by5nbG9iYWwuY29weUZyb20oZnJvbS5nbG9iYWwpO1xuICB9XG4gIGNvcHlEYXRhKGZyb20sIHRvKSB7XG4gICAgdG8uaXNUcnVzdGVkID0gZnJvbS5pc1RydXN0ZWQ7XG4gICAgdG8uc3JjRWxlbWVudCA9IGZyb20uc3JjRWxlbWVudDtcbiAgICB0by50aW1lU3RhbXAgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0by50eXBlID0gZnJvbS50eXBlO1xuICAgIHRvLmRldGFpbCA9IGZyb20uZGV0YWlsO1xuICAgIHRvLnZpZXcgPSBmcm9tLnZpZXc7XG4gICAgdG8ud2hpY2ggPSBmcm9tLndoaWNoO1xuICAgIHRvLmxheWVyLmNvcHlGcm9tKGZyb20ubGF5ZXIpO1xuICAgIHRvLnBhZ2UuY29weUZyb20oZnJvbS5wYWdlKTtcbiAgfVxuICB0cmFja2luZ0RhdGEoaWQpIHtcbiAgICBpZiAoIXRoaXMubWFwcGluZ1N0YXRlLnRyYWNraW5nRGF0YVtpZF0pIHtcbiAgICAgIHRoaXMubWFwcGluZ1N0YXRlLnRyYWNraW5nRGF0YVtpZF0gPSB7XG4gICAgICAgIHByZXNzVGFyZ2V0c0J5QnV0dG9uOiB7fSxcbiAgICAgICAgY2xpY2tzQnlCdXR0b246IHt9LFxuICAgICAgICBvdmVyVGFyZ2V0OiBudWxsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5tYXBwaW5nU3RhdGUudHJhY2tpbmdEYXRhW2lkXTtcbiAgfVxuICBhbGxvY2F0ZUV2ZW50KGNvbnN0cnVjdG9yKSB7XG4gICAgaWYgKCF0aGlzLmV2ZW50UG9vbC5oYXMoY29uc3RydWN0b3IpKSB7XG4gICAgICB0aGlzLmV2ZW50UG9vbC5zZXQoY29uc3RydWN0b3IsIFtdKTtcbiAgICB9XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmV2ZW50UG9vbC5nZXQoY29uc3RydWN0b3IpLnBvcCgpIHx8IG5ldyBjb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICBldmVudC5ldmVudFBoYXNlID0gZXZlbnQuTk9ORTtcbiAgICBldmVudC5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICBldmVudC5wYXRoID0gbnVsbDtcbiAgICBldmVudC50YXJnZXQgPSBudWxsO1xuICAgIHJldHVybiBldmVudDtcbiAgfVxuICBmcmVlRXZlbnQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQubWFuYWdlciAhPT0gdGhpcylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkl0IGlzIGlsbGVnYWwgdG8gZnJlZSBhbiBldmVudCBub3QgbWFuYWdlZCBieSB0aGlzIEV2ZW50Qm91bmRhcnkhXCIpO1xuICAgIGNvbnN0IGNvbnN0cnVjdG9yID0gZXZlbnQuY29uc3RydWN0b3I7XG4gICAgaWYgKCF0aGlzLmV2ZW50UG9vbC5oYXMoY29uc3RydWN0b3IpKSB7XG4gICAgICB0aGlzLmV2ZW50UG9vbC5zZXQoY29uc3RydWN0b3IsIFtdKTtcbiAgICB9XG4gICAgdGhpcy5ldmVudFBvb2wuZ2V0KGNvbnN0cnVjdG9yKS5wdXNoKGV2ZW50KTtcbiAgfVxuICBub3RpZnlMaXN0ZW5lcnMoZSwgdHlwZSkge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IGUuY3VycmVudFRhcmdldC5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICghbGlzdGVuZXJzKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICghZS5jdXJyZW50VGFyZ2V0LmlzSW50ZXJhY3RpdmUoKSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoXCJmblwiIGluIGxpc3RlbmVycykge1xuICAgICAgaWYgKGxpc3RlbmVycy5vbmNlKVxuICAgICAgICBlLmN1cnJlbnRUYXJnZXQucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzLmZuLCB2b2lkIDAsIHRydWUpO1xuICAgICAgbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaiA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBqICYmICFlLnByb3BhZ2F0aW9uSW1tZWRpYXRlbHlTdG9wcGVkOyBpKyspIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKVxuICAgICAgICAgIGUuY3VycmVudFRhcmdldC5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0uZm4sIHZvaWQgMCwgdHJ1ZSk7XG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgRXZlbnRCb3VuZGFyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnRCb3VuZGFyeS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBFdmVudEJvdW5kYXJ5IH0gZnJvbSAnLi9FdmVudEJvdW5kYXJ5Lm1qcyc7XG5pbXBvcnQgeyBFdmVudHNUaWNrZXIgfSBmcm9tICcuL0V2ZW50VGlja2VyLm1qcyc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRQb2ludGVyRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZFBvaW50ZXJFdmVudC5tanMnO1xuaW1wb3J0IHsgRmVkZXJhdGVkV2hlZWxFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkV2hlZWxFdmVudC5tanMnO1xuXG5jb25zdCBNT1VTRV9QT0lOVEVSX0lEID0gMTtcbmNvbnN0IFRPVUNIX1RPX1BPSU5URVIgPSB7XG4gIHRvdWNoc3RhcnQ6IFwicG9pbnRlcmRvd25cIixcbiAgdG91Y2hlbmQ6IFwicG9pbnRlcnVwXCIsXG4gIHRvdWNoZW5kb3V0c2lkZTogXCJwb2ludGVydXBvdXRzaWRlXCIsXG4gIHRvdWNobW92ZTogXCJwb2ludGVybW92ZVwiLFxuICB0b3VjaGNhbmNlbDogXCJwb2ludGVyY2FuY2VsXCJcbn07XG5jb25zdCBfRXZlbnRTeXN0ZW0gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzID0gXCJvbnRvdWNoc3RhcnRcIiBpbiBnbG9iYWxUaGlzO1xuICAgIHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzID0gISFnbG9iYWxUaGlzLlBvaW50ZXJFdmVudDtcbiAgICB0aGlzLmRvbUVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5ID0gbmV3IEV2ZW50Qm91bmRhcnkobnVsbCk7XG4gICAgRXZlbnRzVGlja2VyLmluaXQodGhpcyk7XG4gICAgdGhpcy5hdXRvUHJldmVudERlZmF1bHQgPSB0cnVlO1xuICAgIHRoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJvb3RQb2ludGVyRXZlbnQgPSBuZXcgRmVkZXJhdGVkUG9pbnRlckV2ZW50KG51bGwpO1xuICAgIHRoaXMucm9vdFdoZWVsRXZlbnQgPSBuZXcgRmVkZXJhdGVkV2hlZWxFdmVudChudWxsKTtcbiAgICB0aGlzLmN1cnNvclN0eWxlcyA9IHtcbiAgICAgIGRlZmF1bHQ6IFwiaW5oZXJpdFwiLFxuICAgICAgcG9pbnRlcjogXCJwb2ludGVyXCJcbiAgICB9O1xuICAgIHRoaXMuZmVhdHVyZXMgPSBuZXcgUHJveHkoeyAuLi5fRXZlbnRTeXN0ZW0uZGVmYXVsdEV2ZW50RmVhdHVyZXMgfSwge1xuICAgICAgc2V0OiAodGFyZ2V0LCBrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChrZXkgPT09IFwiZ2xvYmFsTW92ZVwiKSB7XG4gICAgICAgICAgdGhpcy5yb290Qm91bmRhcnkuZW5hYmxlR2xvYmFsTW92ZUV2ZW50cyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMub25Qb2ludGVyRG93biA9IHRoaXMub25Qb2ludGVyRG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Qb2ludGVyTW92ZSA9IHRoaXMub25Qb2ludGVyTW92ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Qb2ludGVyVXAgPSB0aGlzLm9uUG9pbnRlclVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblBvaW50ZXJPdmVyT3V0ID0gdGhpcy5vblBvaW50ZXJPdmVyT3V0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbldoZWVsID0gdGhpcy5vbldoZWVsLmJpbmQodGhpcyk7XG4gIH1cbiAgc3RhdGljIGdldCBkZWZhdWx0RXZlbnRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWZhdWx0RXZlbnRNb2RlO1xuICB9XG4gIGluaXQob3B0aW9ucykge1xuICAgIGNvbnN0IHsgdmlldywgcmVzb2x1dGlvbiB9ID0gdGhpcy5yZW5kZXJlcjtcbiAgICB0aGlzLnNldFRhcmdldEVsZW1lbnQodmlldyk7XG4gICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICBfRXZlbnRTeXN0ZW0uX2RlZmF1bHRFdmVudE1vZGUgPSBvcHRpb25zLmV2ZW50TW9kZSA/PyBcImF1dG9cIjtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMuZmVhdHVyZXMsIG9wdGlvbnMuZXZlbnRGZWF0dXJlcyA/PyB7fSk7XG4gICAgdGhpcy5yb290Qm91bmRhcnkuZW5hYmxlR2xvYmFsTW92ZUV2ZW50cyA9IHRoaXMuZmVhdHVyZXMuZ2xvYmFsTW92ZTtcbiAgfVxuICByZXNvbHV0aW9uQ2hhbmdlKHJlc29sdXRpb24pIHtcbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5zZXRUYXJnZXRFbGVtZW50KG51bGwpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG4gIHNldEN1cnNvcihtb2RlKSB7XG4gICAgbW9kZSA9IG1vZGUgfHwgXCJkZWZhdWx0XCI7XG4gICAgbGV0IGFwcGx5U3R5bGVzID0gdHJ1ZTtcbiAgICBpZiAoZ2xvYmFsVGhpcy5PZmZzY3JlZW5DYW52YXMgJiYgdGhpcy5kb21FbGVtZW50IGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzKSB7XG4gICAgICBhcHBseVN0eWxlcyA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5jdXJyZW50Q3Vyc29yID09PSBtb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY3VycmVudEN1cnNvciA9IG1vZGU7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLmN1cnNvclN0eWxlc1ttb2RlXTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIHN3aXRjaCAodHlwZW9mIHN0eWxlKSB7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICBpZiAoYXBwbHlTdHlsZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBzdHlsZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIHN0eWxlKG1vZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgaWYgKGFwcGx5U3R5bGVzKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZG9tRWxlbWVudC5zdHlsZSwgc3R5bGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFwcGx5U3R5bGVzICYmIHR5cGVvZiBtb2RlID09PSBcInN0cmluZ1wiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jdXJzb3JTdHlsZXMsIG1vZGUpKSB7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gbW9kZTtcbiAgICB9XG4gIH1cbiAgZ2V0IHBvaW50ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdFBvaW50ZXJFdmVudDtcbiAgfVxuICBvblBvaW50ZXJEb3duKG5hdGl2ZUV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmZlYXR1cmVzLmNsaWNrKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5LnJvb3RUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG5hdGl2ZUV2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG5hdGl2ZUV2ZW50KTtcbiAgICBpZiAodGhpcy5hdXRvUHJldmVudERlZmF1bHQgJiYgZXZlbnRzWzBdLmlzTm9ybWFsaXplZCkge1xuICAgICAgY29uc3QgY2FuY2VsYWJsZSA9IG5hdGl2ZUV2ZW50LmNhbmNlbGFibGUgfHwgIShcImNhbmNlbGFibGVcIiBpbiBuYXRpdmVFdmVudCk7XG4gICAgICBpZiAoY2FuY2VsYWJsZSkge1xuICAgICAgICBuYXRpdmVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IGV2ZW50cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGNvbnN0IG5hdGl2ZUV2ZW50MiA9IGV2ZW50c1tpXTtcbiAgICAgIGNvbnN0IGZlZGVyYXRlZEV2ZW50ID0gdGhpcy5ib290c3RyYXBFdmVudCh0aGlzLnJvb3RQb2ludGVyRXZlbnQsIG5hdGl2ZUV2ZW50Mik7XG4gICAgICB0aGlzLnJvb3RCb3VuZGFyeS5tYXBFdmVudChmZWRlcmF0ZWRFdmVudCk7XG4gICAgfVxuICAgIHRoaXMuc2V0Q3Vyc29yKHRoaXMucm9vdEJvdW5kYXJ5LmN1cnNvcik7XG4gIH1cbiAgb25Qb2ludGVyTW92ZShuYXRpdmVFdmVudCkge1xuICAgIGlmICghdGhpcy5mZWF0dXJlcy5tb3ZlKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5LnJvb3RUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG5hdGl2ZUV2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpXG4gICAgICByZXR1cm47XG4gICAgRXZlbnRzVGlja2VyLnBvaW50ZXJNb3ZlZCgpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRFdmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEobmF0aXZlRXZlbnQpO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gbm9ybWFsaXplZEV2ZW50cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5ib290c3RyYXBFdmVudCh0aGlzLnJvb3RQb2ludGVyRXZlbnQsIG5vcm1hbGl6ZWRFdmVudHNbaV0pO1xuICAgICAgdGhpcy5yb290Qm91bmRhcnkubWFwRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgICB0aGlzLnNldEN1cnNvcih0aGlzLnJvb3RCb3VuZGFyeS5jdXJzb3IpO1xuICB9XG4gIG9uUG9pbnRlclVwKG5hdGl2ZUV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmZlYXR1cmVzLmNsaWNrKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5LnJvb3RUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG5hdGl2ZUV2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpXG4gICAgICByZXR1cm47XG4gICAgbGV0IHRhcmdldCA9IG5hdGl2ZUV2ZW50LnRhcmdldDtcbiAgICBpZiAobmF0aXZlRXZlbnQuY29tcG9zZWRQYXRoICYmIG5hdGl2ZUV2ZW50LmNvbXBvc2VkUGF0aCgpLmxlbmd0aCA+IDApIHtcbiAgICAgIHRhcmdldCA9IG5hdGl2ZUV2ZW50LmNvbXBvc2VkUGF0aCgpWzBdO1xuICAgIH1cbiAgICBjb25zdCBvdXRzaWRlID0gdGFyZ2V0ICE9PSB0aGlzLmRvbUVsZW1lbnQgPyBcIm91dHNpZGVcIiA6IFwiXCI7XG4gICAgY29uc3Qgbm9ybWFsaXplZEV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShuYXRpdmVFdmVudCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBub3JtYWxpemVkRXZlbnRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmJvb3RzdHJhcEV2ZW50KHRoaXMucm9vdFBvaW50ZXJFdmVudCwgbm9ybWFsaXplZEV2ZW50c1tpXSk7XG4gICAgICBldmVudC50eXBlICs9IG91dHNpZGU7XG4gICAgICB0aGlzLnJvb3RCb3VuZGFyeS5tYXBFdmVudChldmVudCk7XG4gICAgfVxuICAgIHRoaXMuc2V0Q3Vyc29yKHRoaXMucm9vdEJvdW5kYXJ5LmN1cnNvcik7XG4gIH1cbiAgb25Qb2ludGVyT3Zlck91dChuYXRpdmVFdmVudCkge1xuICAgIGlmICghdGhpcy5mZWF0dXJlcy5jbGljaylcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLnJvb3RCb3VuZGFyeS5yb290VGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBuYXRpdmVFdmVudC5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRFdmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEobmF0aXZlRXZlbnQpO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gbm9ybWFsaXplZEV2ZW50cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5ib290c3RyYXBFdmVudCh0aGlzLnJvb3RQb2ludGVyRXZlbnQsIG5vcm1hbGl6ZWRFdmVudHNbaV0pO1xuICAgICAgdGhpcy5yb290Qm91bmRhcnkubWFwRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgICB0aGlzLnNldEN1cnNvcih0aGlzLnJvb3RCb3VuZGFyeS5jdXJzb3IpO1xuICB9XG4gIG9uV2hlZWwobmF0aXZlRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZmVhdHVyZXMud2hlZWwpXG4gICAgICByZXR1cm47XG4gICAgY29uc3Qgd2hlZWxFdmVudCA9IHRoaXMubm9ybWFsaXplV2hlZWxFdmVudChuYXRpdmVFdmVudCk7XG4gICAgdGhpcy5yb290Qm91bmRhcnkucm9vdFRhcmdldCA9IHRoaXMucmVuZGVyZXIubGFzdE9iamVjdFJlbmRlcmVkO1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5Lm1hcEV2ZW50KHdoZWVsRXZlbnQpO1xuICB9XG4gIHNldFRhcmdldEVsZW1lbnQoZWxlbWVudCkge1xuICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG4gICAgdGhpcy5kb21FbGVtZW50ID0gZWxlbWVudDtcbiAgICBFdmVudHNUaWNrZXIuZG9tRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgfVxuICBhZGRFdmVudHMoKSB7XG4gICAgaWYgKHRoaXMuZXZlbnRzQWRkZWQgfHwgIXRoaXMuZG9tRWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBFdmVudHNUaWNrZXIuYWRkVGlja2VyTGlzdGVuZXIoKTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuZG9tRWxlbWVudC5zdHlsZTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIGlmIChnbG9iYWxUaGlzLm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICAgIHN0eWxlLm1zQ29udGVudFpvb21pbmcgPSBcIm5vbmVcIjtcbiAgICAgICAgc3R5bGUubXNUb3VjaEFjdGlvbiA9IFwibm9uZVwiO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJsZWF2ZVwiLCB0aGlzLm9uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyb3ZlclwiLCB0aGlzLm9uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgZ2xvYmFsVGhpcy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbG9iYWxUaGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIHRoaXMub25Qb2ludGVyT3Zlck91dCwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCB0aGlzLm9uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgZ2xvYmFsVGhpcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cykge1xuICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICB9XG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCB0aGlzLm9uV2hlZWwsIHtcbiAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICBjYXB0dXJlOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5ldmVudHNBZGRlZCA9IHRydWU7XG4gIH1cbiAgcmVtb3ZlRXZlbnRzKCkge1xuICAgIGlmICghdGhpcy5ldmVudHNBZGRlZCB8fCAhdGhpcy5kb21FbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIEV2ZW50c1RpY2tlci5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5kb21FbGVtZW50LnN0eWxlO1xuICAgIGlmIChnbG9iYWxUaGlzLm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICBzdHlsZS5tc0NvbnRlbnRab29taW5nID0gXCJcIjtcbiAgICAgIHN0eWxlLm1zVG91Y2hBY3Rpb24gPSBcIlwiO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgIHN0eWxlLnRvdWNoQWN0aW9uID0gXCJcIjtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICBnbG9iYWxUaGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybGVhdmVcIiwgdGhpcy5vblBvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm92ZXJcIiwgdGhpcy5vblBvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgIGdsb2JhbFRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2xvYmFsVGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCB0aGlzLm9uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgdGhpcy5vblBvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgIGdsb2JhbFRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpIHtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgdGhpcy5vbldoZWVsLCB0cnVlKTtcbiAgICB0aGlzLmRvbUVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcbiAgfVxuICBtYXBQb3NpdGlvblRvUG9pbnQocG9pbnQsIHgsIHkpIHtcbiAgICBsZXQgcmVjdDtcbiAgICBpZiAoIXRoaXMuZG9tRWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICByZWN0ID0ge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgICAgICB3aWR0aDogdGhpcy5kb21FbGVtZW50LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuZG9tRWxlbWVudC5oZWlnaHQsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHRvcDogMFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVjdCA9IHRoaXMuZG9tRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x1dGlvbk11bHRpcGxpZXIgPSAxIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgIHBvaW50LnggPSAoeCAtIHJlY3QubGVmdCkgKiAodGhpcy5kb21FbGVtZW50LndpZHRoIC8gcmVjdC53aWR0aCkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICBwb2ludC55ID0gKHkgLSByZWN0LnRvcCkgKiAodGhpcy5kb21FbGVtZW50LmhlaWdodCAvIHJlY3QuaGVpZ2h0KSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICB9XG4gIG5vcm1hbGl6ZVRvUG9pbnRlckRhdGEoZXZlbnQpIHtcbiAgICBjb25zdCBub3JtYWxpemVkRXZlbnRzID0gW107XG4gICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsaSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSA8IGxpOyBpKyspIHtcbiAgICAgICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXTtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b24gPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2guYnV0dG9uID0gMDtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b25zID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLmJ1dHRvbnMgPSAxO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmlzUHJpbWFyeSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHRvdWNoLmlzUHJpbWFyeSA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxICYmIGV2ZW50LnR5cGUgPT09IFwidG91Y2hzdGFydFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gud2lkdGggPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gud2lkdGggPSB0b3VjaC5yYWRpdXNYIHx8IDE7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2guaGVpZ2h0ID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLmhlaWdodCA9IHRvdWNoLnJhZGl1c1kgfHwgMTtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC50aWx0WCA9IDA7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFkgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gudGlsdFkgPSAwO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJUeXBlID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLnBvaW50ZXJUeXBlID0gXCJ0b3VjaFwiO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJJZCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC5wb2ludGVySWQgPSB0b3VjaC5pZGVudGlmaWVyIHx8IDA7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gucHJlc3N1cmUgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gucHJlc3N1cmUgPSB0b3VjaC5mb3JjZSB8fCAwLjU7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gudHdpc3QgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gudHdpc3QgPSAwO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC5sYXllclggPSB0b3VjaC5vZmZzZXRYID0gdG91Y2guY2xpZW50WDtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclkgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gubGF5ZXJZID0gdG91Y2gub2Zmc2V0WSA9IHRvdWNoLmNsaWVudFk7XG4gICAgICAgIHRvdWNoLmlzTm9ybWFsaXplZCA9IHRydWU7XG4gICAgICAgIHRvdWNoLnR5cGUgPSBldmVudC50eXBlO1xuICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2godG91Y2gpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWdsb2JhbFRoaXMuTW91c2VFdmVudCB8fCBldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgKCF0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyB8fCAhKGV2ZW50IGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5Qb2ludGVyRXZlbnQpKSkge1xuICAgICAgY29uc3QgdGVtcEV2ZW50ID0gZXZlbnQ7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5pc1ByaW1hcnkgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC5pc1ByaW1hcnkgPSB0cnVlO1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQud2lkdGggPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC53aWR0aCA9IDE7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5oZWlnaHQgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC5oZWlnaHQgPSAxO1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGlsdFggPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC50aWx0WCA9IDA7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50aWx0WSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGVtcEV2ZW50LnRpbHRZID0gMDtcbiAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnBvaW50ZXJUeXBlID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICB0ZW1wRXZlbnQucG9pbnRlclR5cGUgPSBcIm1vdXNlXCI7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wb2ludGVySWQgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC5wb2ludGVySWQgPSBNT1VTRV9QT0lOVEVSX0lEO1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQucHJlc3N1cmUgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC5wcmVzc3VyZSA9IDAuNTtcbiAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnR3aXN0ID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICB0ZW1wRXZlbnQudHdpc3QgPSAwO1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICB0ZW1wRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICAgIHRlbXBFdmVudC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRlbXBFdmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaChldmVudCk7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVkRXZlbnRzO1xuICB9XG4gIG5vcm1hbGl6ZVdoZWVsRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMucm9vdFdoZWVsRXZlbnQ7XG4gICAgdGhpcy50cmFuc2Zlck1vdXNlRGF0YShldmVudCwgbmF0aXZlRXZlbnQpO1xuICAgIGV2ZW50LmRlbHRhWCA9IG5hdGl2ZUV2ZW50LmRlbHRhWDtcbiAgICBldmVudC5kZWx0YVkgPSBuYXRpdmVFdmVudC5kZWx0YVk7XG4gICAgZXZlbnQuZGVsdGFaID0gbmF0aXZlRXZlbnQuZGVsdGFaO1xuICAgIGV2ZW50LmRlbHRhTW9kZSA9IG5hdGl2ZUV2ZW50LmRlbHRhTW9kZTtcbiAgICB0aGlzLm1hcFBvc2l0aW9uVG9Qb2ludChldmVudC5zY3JlZW4sIG5hdGl2ZUV2ZW50LmNsaWVudFgsIG5hdGl2ZUV2ZW50LmNsaWVudFkpO1xuICAgIGV2ZW50Lmdsb2JhbC5jb3B5RnJvbShldmVudC5zY3JlZW4pO1xuICAgIGV2ZW50Lm9mZnNldC5jb3B5RnJvbShldmVudC5zY3JlZW4pO1xuICAgIGV2ZW50Lm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgZXZlbnQudHlwZSA9IG5hdGl2ZUV2ZW50LnR5cGU7XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG4gIGJvb3RzdHJhcEV2ZW50KGV2ZW50LCBuYXRpdmVFdmVudCkge1xuICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQgPSBudWxsO1xuICAgIGV2ZW50Lm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgZXZlbnQucG9pbnRlcklkID0gbmF0aXZlRXZlbnQucG9pbnRlcklkO1xuICAgIGV2ZW50LndpZHRoID0gbmF0aXZlRXZlbnQud2lkdGg7XG4gICAgZXZlbnQuaGVpZ2h0ID0gbmF0aXZlRXZlbnQuaGVpZ2h0O1xuICAgIGV2ZW50LmlzUHJpbWFyeSA9IG5hdGl2ZUV2ZW50LmlzUHJpbWFyeTtcbiAgICBldmVudC5wb2ludGVyVHlwZSA9IG5hdGl2ZUV2ZW50LnBvaW50ZXJUeXBlO1xuICAgIGV2ZW50LnByZXNzdXJlID0gbmF0aXZlRXZlbnQucHJlc3N1cmU7XG4gICAgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gbmF0aXZlRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlO1xuICAgIGV2ZW50LnRpbHRYID0gbmF0aXZlRXZlbnQudGlsdFg7XG4gICAgZXZlbnQudGlsdFkgPSBuYXRpdmVFdmVudC50aWx0WTtcbiAgICBldmVudC50d2lzdCA9IG5hdGl2ZUV2ZW50LnR3aXN0O1xuICAgIHRoaXMudHJhbnNmZXJNb3VzZURhdGEoZXZlbnQsIG5hdGl2ZUV2ZW50KTtcbiAgICB0aGlzLm1hcFBvc2l0aW9uVG9Qb2ludChldmVudC5zY3JlZW4sIG5hdGl2ZUV2ZW50LmNsaWVudFgsIG5hdGl2ZUV2ZW50LmNsaWVudFkpO1xuICAgIGV2ZW50Lmdsb2JhbC5jb3B5RnJvbShldmVudC5zY3JlZW4pO1xuICAgIGV2ZW50Lm9mZnNldC5jb3B5RnJvbShldmVudC5zY3JlZW4pO1xuICAgIGV2ZW50LmlzVHJ1c3RlZCA9IG5hdGl2ZUV2ZW50LmlzVHJ1c3RlZDtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJwb2ludGVybGVhdmVcIikge1xuICAgICAgZXZlbnQudHlwZSA9IFwicG9pbnRlcm91dFwiO1xuICAgIH1cbiAgICBpZiAoZXZlbnQudHlwZS5zdGFydHNXaXRoKFwibW91c2VcIikpIHtcbiAgICAgIGV2ZW50LnR5cGUgPSBldmVudC50eXBlLnJlcGxhY2UoXCJtb3VzZVwiLCBcInBvaW50ZXJcIik7XG4gICAgfVxuICAgIGlmIChldmVudC50eXBlLnN0YXJ0c1dpdGgoXCJ0b3VjaFwiKSkge1xuICAgICAgZXZlbnQudHlwZSA9IFRPVUNIX1RPX1BPSU5URVJbZXZlbnQudHlwZV0gfHwgZXZlbnQudHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG4gIHRyYW5zZmVyTW91c2VEYXRhKGV2ZW50LCBuYXRpdmVFdmVudCkge1xuICAgIGV2ZW50LmlzVHJ1c3RlZCA9IG5hdGl2ZUV2ZW50LmlzVHJ1c3RlZDtcbiAgICBldmVudC5zcmNFbGVtZW50ID0gbmF0aXZlRXZlbnQuc3JjRWxlbWVudDtcbiAgICBldmVudC50aW1lU3RhbXAgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBldmVudC50eXBlID0gbmF0aXZlRXZlbnQudHlwZTtcbiAgICBldmVudC5hbHRLZXkgPSBuYXRpdmVFdmVudC5hbHRLZXk7XG4gICAgZXZlbnQuYnV0dG9uID0gbmF0aXZlRXZlbnQuYnV0dG9uO1xuICAgIGV2ZW50LmJ1dHRvbnMgPSBuYXRpdmVFdmVudC5idXR0b25zO1xuICAgIGV2ZW50LmNsaWVudC54ID0gbmF0aXZlRXZlbnQuY2xpZW50WDtcbiAgICBldmVudC5jbGllbnQueSA9IG5hdGl2ZUV2ZW50LmNsaWVudFk7XG4gICAgZXZlbnQuY3RybEtleSA9IG5hdGl2ZUV2ZW50LmN0cmxLZXk7XG4gICAgZXZlbnQubWV0YUtleSA9IG5hdGl2ZUV2ZW50Lm1ldGFLZXk7XG4gICAgZXZlbnQubW92ZW1lbnQueCA9IG5hdGl2ZUV2ZW50Lm1vdmVtZW50WDtcbiAgICBldmVudC5tb3ZlbWVudC55ID0gbmF0aXZlRXZlbnQubW92ZW1lbnRZO1xuICAgIGV2ZW50LnBhZ2UueCA9IG5hdGl2ZUV2ZW50LnBhZ2VYO1xuICAgIGV2ZW50LnBhZ2UueSA9IG5hdGl2ZUV2ZW50LnBhZ2VZO1xuICAgIGV2ZW50LnJlbGF0ZWRUYXJnZXQgPSBudWxsO1xuICAgIGV2ZW50LnNoaWZ0S2V5ID0gbmF0aXZlRXZlbnQuc2hpZnRLZXk7XG4gIH1cbn07XG5sZXQgRXZlbnRTeXN0ZW0gPSBfRXZlbnRTeXN0ZW07XG5FdmVudFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIG5hbWU6IFwiZXZlbnRzXCIsXG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUmVuZGVyZXJTeXN0ZW1cbiAgXVxufTtcbkV2ZW50U3lzdGVtLmRlZmF1bHRFdmVudEZlYXR1cmVzID0ge1xuICBtb3ZlOiB0cnVlLFxuICBnbG9iYWxNb3ZlOiB0cnVlLFxuICBjbGljazogdHJ1ZSxcbiAgd2hlZWw6IHRydWVcbn07XG5leHRlbnNpb25zLmFkZChFdmVudFN5c3RlbSk7XG5cbmV4cG9ydCB7IEV2ZW50U3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudFN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jbGFzcyBFdmVudHNUaWNrZXJDbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgPSAxMDtcbiAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuICAgIHRoaXMuX2RpZE1vdmUgPSBmYWxzZTtcbiAgICB0aGlzLnRpY2tlckFkZGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcGF1c2VVcGRhdGUgPSB0cnVlO1xuICB9XG4gIGluaXQoZXZlbnRzKSB7XG4gICAgdGhpcy5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xuICAgIHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgPSAxMDtcbiAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuICAgIHRoaXMuX2RpZE1vdmUgPSBmYWxzZTtcbiAgICB0aGlzLnRpY2tlckFkZGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcGF1c2VVcGRhdGUgPSB0cnVlO1xuICB9XG4gIGdldCBwYXVzZVVwZGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcGF1c2VVcGRhdGU7XG4gIH1cbiAgc2V0IHBhdXNlVXBkYXRlKHBhdXNlZCkge1xuICAgIHRoaXMuX3BhdXNlVXBkYXRlID0gcGF1c2VkO1xuICB9XG4gIGFkZFRpY2tlckxpc3RlbmVyKCkge1xuICAgIGlmICh0aGlzLnRpY2tlckFkZGVkIHx8ICF0aGlzLmRvbUVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgVGlja2VyLnN5c3RlbS5hZGQodGhpcy50aWNrZXJVcGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5JTlRFUkFDVElPTik7XG4gICAgdGhpcy50aWNrZXJBZGRlZCA9IHRydWU7XG4gIH1cbiAgcmVtb3ZlVGlja2VyTGlzdGVuZXIoKSB7XG4gICAgaWYgKCF0aGlzLnRpY2tlckFkZGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudGlja2VyVXBkYXRlLCB0aGlzKTtcbiAgICB0aGlzLnRpY2tlckFkZGVkID0gZmFsc2U7XG4gIH1cbiAgcG9pbnRlck1vdmVkKCkge1xuICAgIHRoaXMuX2RpZE1vdmUgPSB0cnVlO1xuICB9XG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuZG9tRWxlbWVudCB8fCB0aGlzLl9wYXVzZVVwZGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5fZGlkTW92ZSkge1xuICAgICAgdGhpcy5fZGlkTW92ZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByb290UG9pbnRlckV2ZW50ID0gdGhpcy5ldmVudHNbXCJyb290UG9pbnRlckV2ZW50XCJdO1xuICAgIGlmICh0aGlzLmV2ZW50cy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIHJvb3RQb2ludGVyRXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBnbG9iYWxUaGlzLmRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IFBvaW50ZXJFdmVudChcInBvaW50ZXJtb3ZlXCIsIHtcbiAgICAgIGNsaWVudFg6IHJvb3RQb2ludGVyRXZlbnQuY2xpZW50WCxcbiAgICAgIGNsaWVudFk6IHJvb3RQb2ludGVyRXZlbnQuY2xpZW50WVxuICAgIH0pKTtcbiAgfVxuICB0aWNrZXJVcGRhdGUoZGVsdGFUaW1lKSB7XG4gICAgdGhpcy5fZGVsdGFUaW1lICs9IGRlbHRhVGltZTtcbiAgICBpZiAodGhpcy5fZGVsdGFUaW1lIDwgdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbn1cbmNvbnN0IEV2ZW50c1RpY2tlciA9IG5ldyBFdmVudHNUaWNrZXJDbGFzcygpO1xuXG5leHBvcnQgeyBFdmVudHNUaWNrZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50VGlja2VyLm1qcy5tYXBcbiIsImltcG9ydCB7IFBvaW50IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmNsYXNzIEZlZGVyYXRlZEV2ZW50IHtcbiAgY29uc3RydWN0b3IobWFuYWdlcikge1xuICAgIHRoaXMuYnViYmxlcyA9IHRydWU7XG4gICAgdGhpcy5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgIHRoaXMuY2FuY2VsYWJsZSA9IGZhbHNlO1xuICAgIHRoaXMuY29tcG9zZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmV2ZW50UGhhc2UgPSBGZWRlcmF0ZWRFdmVudC5wcm90b3R5cGUuTk9ORTtcbiAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlO1xuICAgIHRoaXMucHJvcGFnYXRpb25JbW1lZGlhdGVseVN0b3BwZWQgPSBmYWxzZTtcbiAgICB0aGlzLmxheWVyID0gbmV3IFBvaW50KCk7XG4gICAgdGhpcy5wYWdlID0gbmV3IFBvaW50KCk7XG4gICAgdGhpcy5OT05FID0gMDtcbiAgICB0aGlzLkNBUFRVUklOR19QSEFTRSA9IDE7XG4gICAgdGhpcy5BVF9UQVJHRVQgPSAyO1xuICAgIHRoaXMuQlVCQkxJTkdfUEhBU0UgPSAzO1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gIH1cbiAgZ2V0IGxheWVyWCgpIHtcbiAgICByZXR1cm4gdGhpcy5sYXllci54O1xuICB9XG4gIGdldCBsYXllclkoKSB7XG4gICAgcmV0dXJuIHRoaXMubGF5ZXIueTtcbiAgfVxuICBnZXQgcGFnZVgoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFnZS54O1xuICB9XG4gIGdldCBwYWdlWSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlLnk7XG4gIH1cbiAgZ2V0IGRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgY29tcG9zZWRQYXRoKCkge1xuICAgIGlmICh0aGlzLm1hbmFnZXIgJiYgKCF0aGlzLnBhdGggfHwgdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXSAhPT0gdGhpcy50YXJnZXQpKSB7XG4gICAgICB0aGlzLnBhdGggPSB0aGlzLnRhcmdldCA/IHRoaXMubWFuYWdlci5wcm9wYWdhdGlvblBhdGgodGhpcy50YXJnZXQpIDogW107XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnBhdGg7XG4gIH1cbiAgaW5pdEV2ZW50KF90eXBlLCBfYnViYmxlcywgX2NhbmNlbGFibGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbml0RXZlbnQoKSBpcyBhIGxlZ2FjeSBET00gQVBJLiBJdCBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhlIEZlZGVyYXRlZCBFdmVudHMgQVBJLlwiKTtcbiAgfVxuICBpbml0VUlFdmVudChfdHlwZUFyZywgX2J1YmJsZXNBcmcsIF9jYW5jZWxhYmxlQXJnLCBfdmlld0FyZywgX2RldGFpbEFyZykge1xuICAgIHRocm93IG5ldyBFcnJvcihcImluaXRVSUV2ZW50KCkgaXMgYSBsZWdhY3kgRE9NIEFQSS4gSXQgaXMgbm90IGltcGxlbWVudGVkIGluIHRoZSBGZWRlcmF0ZWQgRXZlbnRzIEFQSS5cIik7XG4gIH1cbiAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgaWYgKHRoaXMubmF0aXZlRXZlbnQgaW5zdGFuY2VvZiBFdmVudCAmJiB0aGlzLm5hdGl2ZUV2ZW50LmNhbmNlbGFibGUpIHtcbiAgICAgIHRoaXMubmF0aXZlRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgfVxuICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5wcm9wYWdhdGlvbkltbWVkaWF0ZWx5U3RvcHBlZCA9IHRydWU7XG4gIH1cbiAgc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgeyBGZWRlcmF0ZWRFdmVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVkZXJhdGVkRXZlbnQubWpzLm1hcFxuIiwiXG4vLyMgc291cmNlTWFwcGluZ1VSTD1GZWRlcmF0ZWRFdmVudE1hcC5tanMubWFwXG4iLCJpbXBvcnQgeyB1dGlscyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgRXZlbnRTeXN0ZW0gfSBmcm9tICcuL0V2ZW50U3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkRXZlbnQubWpzJztcblxuZnVuY3Rpb24gY29udmVydEV2ZW50TW9kZVRvSW50ZXJhY3RpdmVNb2RlKG1vZGUpIHtcbiAgcmV0dXJuIG1vZGUgPT09IFwiZHluYW1pY1wiIHx8IG1vZGUgPT09IFwic3RhdGljXCI7XG59XG5jb25zdCBGZWRlcmF0ZWREaXNwbGF5T2JqZWN0ID0ge1xuICBvbmNsaWNrOiBudWxsLFxuICBvbm1vdXNlZG93bjogbnVsbCxcbiAgb25tb3VzZWVudGVyOiBudWxsLFxuICBvbm1vdXNlbGVhdmU6IG51bGwsXG4gIG9ubW91c2Vtb3ZlOiBudWxsLFxuICBvbmdsb2JhbG1vdXNlbW92ZTogbnVsbCxcbiAgb25tb3VzZW91dDogbnVsbCxcbiAgb25tb3VzZW92ZXI6IG51bGwsXG4gIG9ubW91c2V1cDogbnVsbCxcbiAgb25tb3VzZXVwb3V0c2lkZTogbnVsbCxcbiAgb25wb2ludGVyY2FuY2VsOiBudWxsLFxuICBvbnBvaW50ZXJkb3duOiBudWxsLFxuICBvbnBvaW50ZXJlbnRlcjogbnVsbCxcbiAgb25wb2ludGVybGVhdmU6IG51bGwsXG4gIG9ucG9pbnRlcm1vdmU6IG51bGwsXG4gIG9uZ2xvYmFscG9pbnRlcm1vdmU6IG51bGwsXG4gIG9ucG9pbnRlcm91dDogbnVsbCxcbiAgb25wb2ludGVyb3ZlcjogbnVsbCxcbiAgb25wb2ludGVydGFwOiBudWxsLFxuICBvbnBvaW50ZXJ1cDogbnVsbCxcbiAgb25wb2ludGVydXBvdXRzaWRlOiBudWxsLFxuICBvbnJpZ2h0Y2xpY2s6IG51bGwsXG4gIG9ucmlnaHRkb3duOiBudWxsLFxuICBvbnJpZ2h0dXA6IG51bGwsXG4gIG9ucmlnaHR1cG91dHNpZGU6IG51bGwsXG4gIG9udGFwOiBudWxsLFxuICBvbnRvdWNoY2FuY2VsOiBudWxsLFxuICBvbnRvdWNoZW5kOiBudWxsLFxuICBvbnRvdWNoZW5kb3V0c2lkZTogbnVsbCxcbiAgb250b3VjaG1vdmU6IG51bGwsXG4gIG9uZ2xvYmFsdG91Y2htb3ZlOiBudWxsLFxuICBvbnRvdWNoc3RhcnQ6IG51bGwsXG4gIG9ud2hlZWw6IG51bGwsXG4gIF9pbnRlcm5hbEludGVyYWN0aXZlOiB2b2lkIDAsXG4gIGdldCBpbnRlcmFjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxJbnRlcmFjdGl2ZSA/PyBjb252ZXJ0RXZlbnRNb2RlVG9JbnRlcmFjdGl2ZU1vZGUoRXZlbnRTeXN0ZW0uZGVmYXVsdEV2ZW50TW9kZSk7XG4gIH0sXG4gIHNldCBpbnRlcmFjdGl2ZSh2YWx1ZSkge1xuICAgIHV0aWxzLmRlcHJlY2F0aW9uKFwiNy4yLjBcIiwgYFNldHRpbmcgaW50ZXJhY3RpdmUgaXMgZGVwcmVjYXRlZCwgdXNlIGV2ZW50TW9kZSA9ICdub25lJy8ncGFzc2l2ZScvJ2F1dG8nLydzdGF0aWMnLydkeW5hbWljJyBpbnN0ZWFkLmApO1xuICAgIHRoaXMuX2ludGVybmFsSW50ZXJhY3RpdmUgPSB2YWx1ZTtcbiAgICB0aGlzLmV2ZW50TW9kZSA9IHZhbHVlID8gXCJzdGF0aWNcIiA6IFwiYXV0b1wiO1xuICB9LFxuICBfaW50ZXJuYWxFdmVudE1vZGU6IHZvaWQgMCxcbiAgZ2V0IGV2ZW50TW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxFdmVudE1vZGUgPz8gRXZlbnRTeXN0ZW0uZGVmYXVsdEV2ZW50TW9kZTtcbiAgfSxcbiAgc2V0IGV2ZW50TW9kZSh2YWx1ZSkge1xuICAgIHRoaXMuX2ludGVybmFsSW50ZXJhY3RpdmUgPSBjb252ZXJ0RXZlbnRNb2RlVG9JbnRlcmFjdGl2ZU1vZGUodmFsdWUpO1xuICAgIHRoaXMuX2ludGVybmFsRXZlbnRNb2RlID0gdmFsdWU7XG4gIH0sXG4gIGlzSW50ZXJhY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRNb2RlID09PSBcInN0YXRpY1wiIHx8IHRoaXMuZXZlbnRNb2RlID09PSBcImR5bmFtaWNcIjtcbiAgfSxcbiAgaW50ZXJhY3RpdmVDaGlsZHJlbjogdHJ1ZSxcbiAgaGl0QXJlYTogbnVsbCxcbiAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIGNvbnN0IGNhcHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJib29sZWFuXCIgJiYgb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmNhcHR1cmU7XG4gICAgY29uc3QgY29udGV4dCA9IHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiID8gdm9pZCAwIDogbGlzdGVuZXI7XG4gICAgdHlwZSA9IGNhcHR1cmUgPyBgJHt0eXBlfWNhcHR1cmVgIDogdHlwZTtcbiAgICBsaXN0ZW5lciA9IHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiID8gbGlzdGVuZXIgOiBsaXN0ZW5lci5oYW5kbGVFdmVudDtcbiAgICB0aGlzLm9uKHR5cGUsIGxpc3RlbmVyLCBjb250ZXh0KTtcbiAgfSxcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIGNvbnN0IGNhcHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJib29sZWFuXCIgJiYgb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmNhcHR1cmU7XG4gICAgY29uc3QgY29udGV4dCA9IHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiID8gdm9pZCAwIDogbGlzdGVuZXI7XG4gICAgdHlwZSA9IGNhcHR1cmUgPyBgJHt0eXBlfWNhcHR1cmVgIDogdHlwZTtcbiAgICBsaXN0ZW5lciA9IHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiID8gbGlzdGVuZXIgOiBsaXN0ZW5lci5oYW5kbGVFdmVudDtcbiAgICB0aGlzLm9mZih0eXBlLCBsaXN0ZW5lciwgY29udGV4dCk7XG4gIH0sXG4gIGRpc3BhdGNoRXZlbnQoZSkge1xuICAgIGlmICghKGUgaW5zdGFuY2VvZiBGZWRlcmF0ZWRFdmVudCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpc3BsYXlPYmplY3QgY2Fubm90IHByb3BhZ2F0ZSBldmVudHMgb3V0c2lkZSBvZiB0aGUgRmVkZXJhdGVkIEV2ZW50cyBBUElcIik7XG4gICAgfVxuICAgIGUuZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuICAgIGUucGF0aCA9IG51bGw7XG4gICAgZS50YXJnZXQgPSB0aGlzO1xuICAgIGUubWFuYWdlci5kaXNwYXRjaEV2ZW50KGUpO1xuICAgIHJldHVybiAhZS5kZWZhdWx0UHJldmVudGVkO1xuICB9XG59O1xuRGlzcGxheU9iamVjdC5taXhpbihGZWRlcmF0ZWREaXNwbGF5T2JqZWN0KTtcblxuZXhwb3J0IHsgRmVkZXJhdGVkRGlzcGxheU9iamVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVkZXJhdGVkRXZlbnRUYXJnZXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEZlZGVyYXRlZEV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRFdmVudC5tanMnO1xuXG5jbGFzcyBGZWRlcmF0ZWRNb3VzZUV2ZW50IGV4dGVuZHMgRmVkZXJhdGVkRXZlbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuY2xpZW50ID0gbmV3IFBvaW50KCk7XG4gICAgdGhpcy5tb3ZlbWVudCA9IG5ldyBQb2ludCgpO1xuICAgIHRoaXMub2Zmc2V0ID0gbmV3IFBvaW50KCk7XG4gICAgdGhpcy5nbG9iYWwgPSBuZXcgUG9pbnQoKTtcbiAgICB0aGlzLnNjcmVlbiA9IG5ldyBQb2ludCgpO1xuICB9XG4gIGdldCBjbGllbnRYKCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudC54O1xuICB9XG4gIGdldCBjbGllbnRZKCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudC55O1xuICB9XG4gIGdldCB4KCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudFg7XG4gIH1cbiAgZ2V0IHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50WTtcbiAgfVxuICBnZXQgbW92ZW1lbnRYKCkge1xuICAgIHJldHVybiB0aGlzLm1vdmVtZW50Lng7XG4gIH1cbiAgZ2V0IG1vdmVtZW50WSgpIHtcbiAgICByZXR1cm4gdGhpcy5tb3ZlbWVudC55O1xuICB9XG4gIGdldCBvZmZzZXRYKCkge1xuICAgIHJldHVybiB0aGlzLm9mZnNldC54O1xuICB9XG4gIGdldCBvZmZzZXRZKCkge1xuICAgIHJldHVybiB0aGlzLm9mZnNldC55O1xuICB9XG4gIGdldCBnbG9iYWxYKCkge1xuICAgIHJldHVybiB0aGlzLmdsb2JhbC54O1xuICB9XG4gIGdldCBnbG9iYWxZKCkge1xuICAgIHJldHVybiB0aGlzLmdsb2JhbC55O1xuICB9XG4gIGdldCBzY3JlZW5YKCkge1xuICAgIHJldHVybiB0aGlzLnNjcmVlbi54O1xuICB9XG4gIGdldCBzY3JlZW5ZKCkge1xuICAgIHJldHVybiB0aGlzLnNjcmVlbi55O1xuICB9XG4gIGdldExvY2FsUG9zaXRpb24oZGlzcGxheU9iamVjdCwgcG9pbnQsIGdsb2JhbFBvcykge1xuICAgIHJldHVybiBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShnbG9iYWxQb3MgfHwgdGhpcy5nbG9iYWwsIHBvaW50KTtcbiAgfVxuICBnZXRNb2RpZmllclN0YXRlKGtleSkge1xuICAgIHJldHVybiBcImdldE1vZGlmaWVyU3RhdGVcIiBpbiB0aGlzLm5hdGl2ZUV2ZW50ICYmIHRoaXMubmF0aXZlRXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZShrZXkpO1xuICB9XG4gIGluaXRNb3VzZUV2ZW50KF90eXBlQXJnLCBfY2FuQnViYmxlQXJnLCBfY2FuY2VsYWJsZUFyZywgX3ZpZXdBcmcsIF9kZXRhaWxBcmcsIF9zY3JlZW5YQXJnLCBfc2NyZWVuWUFyZywgX2NsaWVudFhBcmcsIF9jbGllbnRZQXJnLCBfY3RybEtleUFyZywgX2FsdEtleUFyZywgX3NoaWZ0S2V5QXJnLCBfbWV0YUtleUFyZywgX2J1dHRvbkFyZywgX3JlbGF0ZWRUYXJnZXRBcmcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxufVxuXG5leHBvcnQgeyBGZWRlcmF0ZWRNb3VzZUV2ZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GZWRlcmF0ZWRNb3VzZUV2ZW50Lm1qcy5tYXBcbiIsImltcG9ydCB7IEZlZGVyYXRlZE1vdXNlRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZE1vdXNlRXZlbnQubWpzJztcblxuY2xhc3MgRmVkZXJhdGVkUG9pbnRlckV2ZW50IGV4dGVuZHMgRmVkZXJhdGVkTW91c2VFdmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy53aWR0aCA9IDA7XG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG4gIH1cbiAgZ2V0Q29hbGVzY2VkRXZlbnRzKCkge1xuICAgIGlmICh0aGlzLnR5cGUgPT09IFwicG9pbnRlcm1vdmVcIiB8fCB0aGlzLnR5cGUgPT09IFwibW91c2Vtb3ZlXCIgfHwgdGhpcy50eXBlID09PSBcInRvdWNobW92ZVwiKSB7XG4gICAgICByZXR1cm4gW3RoaXNdO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cbiAgZ2V0UHJlZGljdGVkRXZlbnRzKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImdldFByZWRpY3RlZEV2ZW50cyBpcyBub3Qgc3VwcG9ydGVkIVwiKTtcbiAgfVxufVxuXG5leHBvcnQgeyBGZWRlcmF0ZWRQb2ludGVyRXZlbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZlZGVyYXRlZFBvaW50ZXJFdmVudC5tanMubWFwXG4iLCJpbXBvcnQgeyBGZWRlcmF0ZWRNb3VzZUV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRNb3VzZUV2ZW50Lm1qcyc7XG5cbmNsYXNzIEZlZGVyYXRlZFdoZWVsRXZlbnQgZXh0ZW5kcyBGZWRlcmF0ZWRNb3VzZUV2ZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLkRPTV9ERUxUQV9QSVhFTCA9IDA7XG4gICAgdGhpcy5ET01fREVMVEFfTElORSA9IDE7XG4gICAgdGhpcy5ET01fREVMVEFfUEFHRSA9IDI7XG4gIH1cbn1cbkZlZGVyYXRlZFdoZWVsRXZlbnQuRE9NX0RFTFRBX1BJWEVMID0gMDtcbkZlZGVyYXRlZFdoZWVsRXZlbnQuRE9NX0RFTFRBX0xJTkUgPSAxO1xuRmVkZXJhdGVkV2hlZWxFdmVudC5ET01fREVMVEFfUEFHRSA9IDI7XG5cbmV4cG9ydCB7IEZlZGVyYXRlZFdoZWVsRXZlbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZlZGVyYXRlZFdoZWVsRXZlbnQubWpzLm1hcFxuIiwiZXhwb3J0IHsgRXZlbnRCb3VuZGFyeSB9IGZyb20gJy4vRXZlbnRCb3VuZGFyeS5tanMnO1xuZXhwb3J0IHsgRXZlbnRTeXN0ZW0gfSBmcm9tICcuL0V2ZW50U3lzdGVtLm1qcyc7XG5leHBvcnQgeyBGZWRlcmF0ZWRFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkRXZlbnQubWpzJztcbmltcG9ydCAnLi9GZWRlcmF0ZWRFdmVudE1hcC5tanMnO1xuZXhwb3J0IHsgRmVkZXJhdGVkRGlzcGxheU9iamVjdCB9IGZyb20gJy4vRmVkZXJhdGVkRXZlbnRUYXJnZXQubWpzJztcbmV4cG9ydCB7IEZlZGVyYXRlZE1vdXNlRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZE1vdXNlRXZlbnQubWpzJztcbmV4cG9ydCB7IEZlZGVyYXRlZFBvaW50ZXJFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkUG9pbnRlckV2ZW50Lm1qcyc7XG5leHBvcnQgeyBGZWRlcmF0ZWRXaGVlbEV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRXaGVlbEV2ZW50Lm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJ2YXIgRXh0ZW5zaW9uVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyAoKEV4dGVuc2lvblR5cGUyKSA9PiB7XG4gIEV4dGVuc2lvblR5cGUyW1wiUmVuZGVyZXJcIl0gPSBcInJlbmRlcmVyXCI7XG4gIEV4dGVuc2lvblR5cGUyW1wiQXBwbGljYXRpb25cIl0gPSBcImFwcGxpY2F0aW9uXCI7XG4gIEV4dGVuc2lvblR5cGUyW1wiUmVuZGVyZXJTeXN0ZW1cIl0gPSBcInJlbmRlcmVyLXdlYmdsLXN5c3RlbVwiO1xuICBFeHRlbnNpb25UeXBlMltcIlJlbmRlcmVyUGx1Z2luXCJdID0gXCJyZW5kZXJlci13ZWJnbC1wbHVnaW5cIjtcbiAgRXh0ZW5zaW9uVHlwZTJbXCJDYW52YXNSZW5kZXJlclN5c3RlbVwiXSA9IFwicmVuZGVyZXItY2FudmFzLXN5c3RlbVwiO1xuICBFeHRlbnNpb25UeXBlMltcIkNhbnZhc1JlbmRlcmVyUGx1Z2luXCJdID0gXCJyZW5kZXJlci1jYW52YXMtcGx1Z2luXCI7XG4gIEV4dGVuc2lvblR5cGUyW1wiQXNzZXRcIl0gPSBcImFzc2V0XCI7XG4gIEV4dGVuc2lvblR5cGUyW1wiTG9hZFBhcnNlclwiXSA9IFwibG9hZC1wYXJzZXJcIjtcbiAgRXh0ZW5zaW9uVHlwZTJbXCJSZXNvbHZlUGFyc2VyXCJdID0gXCJyZXNvbHZlLXBhcnNlclwiO1xuICBFeHRlbnNpb25UeXBlMltcIkNhY2hlUGFyc2VyXCJdID0gXCJjYWNoZS1wYXJzZXJcIjtcbiAgRXh0ZW5zaW9uVHlwZTJbXCJEZXRlY3Rpb25QYXJzZXJcIl0gPSBcImRldGVjdGlvbi1wYXJzZXJcIjtcbiAgcmV0dXJuIEV4dGVuc2lvblR5cGUyO1xufSkoRXh0ZW5zaW9uVHlwZSB8fCB7fSk7XG5jb25zdCBub3JtYWxpemVFeHRlbnNpb24gPSAoZXh0KSA9PiB7XG4gIGlmICh0eXBlb2YgZXh0ID09PSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIGV4dCA9PT0gXCJvYmplY3RcIiAmJiBleHQuZXh0ZW5zaW9uKSB7XG4gICAgaWYgKCFleHQuZXh0ZW5zaW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHRlbnNpb24gY2xhc3MgbXVzdCBoYXZlIGFuIGV4dGVuc2lvbiBvYmplY3RcIik7XG4gICAgfVxuICAgIGNvbnN0IG1ldGFkYXRhID0gdHlwZW9mIGV4dC5leHRlbnNpb24gIT09IFwib2JqZWN0XCIgPyB7IHR5cGU6IGV4dC5leHRlbnNpb24gfSA6IGV4dC5leHRlbnNpb247XG4gICAgZXh0ID0geyAuLi5tZXRhZGF0YSwgcmVmOiBleHQgfTtcbiAgfVxuICBpZiAodHlwZW9mIGV4dCA9PT0gXCJvYmplY3RcIikge1xuICAgIGV4dCA9IHsgLi4uZXh0IH07XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBleHRlbnNpb24gdHlwZVwiKTtcbiAgfVxuICBpZiAodHlwZW9mIGV4dC50eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgZXh0LnR5cGUgPSBbZXh0LnR5cGVdO1xuICB9XG4gIHJldHVybiBleHQ7XG59O1xuY29uc3Qgbm9ybWFsaXplUHJpb3JpdHkgPSAoZXh0LCBkZWZhdWx0UHJpb3JpdHkpID0+IG5vcm1hbGl6ZUV4dGVuc2lvbihleHQpLnByaW9yaXR5ID8/IGRlZmF1bHRQcmlvcml0eTtcbmNvbnN0IGV4dGVuc2lvbnMgPSB7XG4gIF9hZGRIYW5kbGVyczoge30sXG4gIF9yZW1vdmVIYW5kbGVyczoge30sXG4gIF9xdWV1ZToge30sXG4gIHJlbW92ZSguLi5leHRlbnNpb25zMikge1xuICAgIGV4dGVuc2lvbnMyLm1hcChub3JtYWxpemVFeHRlbnNpb24pLmZvckVhY2goKGV4dCkgPT4ge1xuICAgICAgZXh0LnR5cGUuZm9yRWFjaCgodHlwZSkgPT4gdGhpcy5fcmVtb3ZlSGFuZGxlcnNbdHlwZV0/LihleHQpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgYWRkKC4uLmV4dGVuc2lvbnMyKSB7XG4gICAgZXh0ZW5zaW9uczIubWFwKG5vcm1hbGl6ZUV4dGVuc2lvbikuZm9yRWFjaCgoZXh0KSA9PiB7XG4gICAgICBleHQudHlwZS5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJzID0gdGhpcy5fYWRkSGFuZGxlcnM7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5fcXVldWU7XG4gICAgICAgIGlmICghaGFuZGxlcnNbdHlwZV0pIHtcbiAgICAgICAgICBxdWV1ZVt0eXBlXSA9IHF1ZXVlW3R5cGVdIHx8IFtdO1xuICAgICAgICAgIHF1ZXVlW3R5cGVdLnB1c2goZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVyc1t0eXBlXShleHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgaGFuZGxlKHR5cGUsIG9uQWRkLCBvblJlbW92ZSkge1xuICAgIGNvbnN0IGFkZEhhbmRsZXJzID0gdGhpcy5fYWRkSGFuZGxlcnM7XG4gICAgY29uc3QgcmVtb3ZlSGFuZGxlcnMgPSB0aGlzLl9yZW1vdmVIYW5kbGVycztcbiAgICBpZiAoYWRkSGFuZGxlcnNbdHlwZV0gfHwgcmVtb3ZlSGFuZGxlcnNbdHlwZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXh0ZW5zaW9uIHR5cGUgJHt0eXBlfSBhbHJlYWR5IGhhcyBhIGhhbmRsZXJgKTtcbiAgICB9XG4gICAgYWRkSGFuZGxlcnNbdHlwZV0gPSBvbkFkZDtcbiAgICByZW1vdmVIYW5kbGVyc1t0eXBlXSA9IG9uUmVtb3ZlO1xuICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5fcXVldWU7XG4gICAgaWYgKHF1ZXVlW3R5cGVdKSB7XG4gICAgICBxdWV1ZVt0eXBlXS5mb3JFYWNoKChleHQpID0+IG9uQWRkKGV4dCkpO1xuICAgICAgZGVsZXRlIHF1ZXVlW3R5cGVdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgaGFuZGxlQnlNYXAodHlwZSwgbWFwKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFuZGxlKHR5cGUsIChleHRlbnNpb24pID0+IHtcbiAgICAgIG1hcFtleHRlbnNpb24ubmFtZV0gPSBleHRlbnNpb24ucmVmO1xuICAgIH0sIChleHRlbnNpb24pID0+IHtcbiAgICAgIGRlbGV0ZSBtYXBbZXh0ZW5zaW9uLm5hbWVdO1xuICAgIH0pO1xuICB9LFxuICBoYW5kbGVCeUxpc3QodHlwZSwgbGlzdCwgZGVmYXVsdFByaW9yaXR5ID0gLTEpIHtcbiAgICByZXR1cm4gdGhpcy5oYW5kbGUodHlwZSwgKGV4dGVuc2lvbikgPT4ge1xuICAgICAgaWYgKGxpc3QuaW5jbHVkZXMoZXh0ZW5zaW9uLnJlZikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGlzdC5wdXNoKGV4dGVuc2lvbi5yZWYpO1xuICAgICAgbGlzdC5zb3J0KChhLCBiKSA9PiBub3JtYWxpemVQcmlvcml0eShiLCBkZWZhdWx0UHJpb3JpdHkpIC0gbm9ybWFsaXplUHJpb3JpdHkoYSwgZGVmYXVsdFByaW9yaXR5KSk7XG4gICAgfSwgKGV4dGVuc2lvbikgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBsaXN0LmluZGV4T2YoZXh0ZW5zaW9uLnJlZik7XG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxuZXhwb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgUmVjdGFuZ2xlLCB1dGlscywgUmVuZGVyVGV4dHVyZSwgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jb25zdCBURU1QX1JFQ1QgPSBuZXcgUmVjdGFuZ2xlKCk7XG5jb25zdCBCWVRFU19QRVJfUElYRUwgPSA0O1xuY29uc3QgX0V4dHJhY3QgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIGFzeW5jIGltYWdlKHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KSB7XG4gICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWFnZS5zcmMgPSBhd2FpdCB0aGlzLmJhc2U2NCh0YXJnZXQsIGZvcm1hdCwgcXVhbGl0eSk7XG4gICAgcmV0dXJuIGltYWdlO1xuICB9XG4gIGFzeW5jIGJhc2U2NCh0YXJnZXQsIGZvcm1hdCwgcXVhbGl0eSkge1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzKHRhcmdldCk7XG4gICAgaWYgKGNhbnZhcy50b0Jsb2IgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY2FudmFzLnRvQmxvYigoYmxvYikgPT4ge1xuICAgICAgICAgIGlmICghYmxvYikge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIklDYW52YXMudG9CbG9iIGZhaWxlZCFcIikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xuICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICAgICAgICB9LCBmb3JtYXQsIHF1YWxpdHkpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChjYW52YXMudG9EYXRhVVJMICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBjYW52YXMudG9EYXRhVVJMKGZvcm1hdCwgcXVhbGl0eSk7XG4gICAgfVxuICAgIGlmIChjYW52YXMuY29udmVydFRvQmxvYiAhPT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCBibG9iID0gYXdhaXQgY2FudmFzLmNvbnZlcnRUb0Jsb2IoeyB0eXBlOiBmb3JtYXQsIHF1YWxpdHkgfSk7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4gcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIkV4dHJhY3QuYmFzZTY0KCkgcmVxdWlyZXMgSUNhbnZhcy50b0RhdGFVUkwsIElDYW52YXMudG9CbG9iLCBvciBJQ2FudmFzLmNvbnZlcnRUb0Jsb2IgdG8gYmUgaW1wbGVtZW50ZWRcIik7XG4gIH1cbiAgY2FudmFzKHRhcmdldCwgZnJhbWUpIHtcbiAgICBjb25zdCB7IHBpeGVscywgd2lkdGgsIGhlaWdodCwgZmxpcFkgfSA9IHRoaXMuX3Jhd1BpeGVscyh0YXJnZXQsIGZyYW1lKTtcbiAgICBpZiAoZmxpcFkpIHtcbiAgICAgIF9FeHRyYWN0Ll9mbGlwWShwaXhlbHMsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICBfRXh0cmFjdC5fdW5wcmVtdWx0aXBseUFscGhhKHBpeGVscyk7XG4gICAgY29uc3QgY2FudmFzQnVmZmVyID0gbmV3IHV0aWxzLkNhbnZhc1JlbmRlclRhcmdldCh3aWR0aCwgaGVpZ2h0LCAxKTtcbiAgICBjb25zdCBpbWFnZURhdGEgPSBuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheShwaXhlbHMuYnVmZmVyKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XG4gICAgcmV0dXJuIGNhbnZhc0J1ZmZlci5jYW52YXM7XG4gIH1cbiAgcGl4ZWxzKHRhcmdldCwgZnJhbWUpIHtcbiAgICBjb25zdCB7IHBpeGVscywgd2lkdGgsIGhlaWdodCwgZmxpcFkgfSA9IHRoaXMuX3Jhd1BpeGVscyh0YXJnZXQsIGZyYW1lKTtcbiAgICBpZiAoZmxpcFkpIHtcbiAgICAgIF9FeHRyYWN0Ll9mbGlwWShwaXhlbHMsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICBfRXh0cmFjdC5fdW5wcmVtdWx0aXBseUFscGhhKHBpeGVscyk7XG4gICAgcmV0dXJuIHBpeGVscztcbiAgfVxuICBfcmF3UGl4ZWxzKHRhcmdldCwgZnJhbWUpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgaWYgKCFyZW5kZXJlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIEV4dHJhY3QgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWRcIik7XG4gICAgfVxuICAgIGxldCByZXNvbHV0aW9uO1xuICAgIGxldCBmbGlwWSA9IGZhbHNlO1xuICAgIGxldCByZW5kZXJUZXh0dXJlO1xuICAgIGxldCBnZW5lcmF0ZWQgPSBmYWxzZTtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQsIHtcbiAgICAgICAgICByZXNvbHV0aW9uOiByZW5kZXJlci5yZXNvbHV0aW9uLFxuICAgICAgICAgIG11bHRpc2FtcGxlOiByZW5kZXJlci5tdWx0aXNhbXBsZVxuICAgICAgICB9KTtcbiAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICBmcmFtZSA9IGZyYW1lID8/IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICBmbGlwWSA9IGZhbHNlO1xuICAgICAgaWYgKCFnZW5lcmF0ZWQpIHtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICBjb25zdCBmYm8gPSByZW5kZXJUZXh0dXJlLmZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKGZiby5ibGl0RnJhbWVidWZmZXIpIHtcbiAgICAgICAgICByZW5kZXJlci5mcmFtZWJ1ZmZlci5iaW5kKGZiby5ibGl0RnJhbWVidWZmZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgaWYgKCFmcmFtZSkge1xuICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgZnJhbWUud2lkdGggPSByZW5kZXJlci53aWR0aCAvIHJlc29sdXRpb247XG4gICAgICAgIGZyYW1lLmhlaWdodCA9IHJlbmRlcmVyLmhlaWdodCAvIHJlc29sdXRpb247XG4gICAgICB9XG4gICAgICBmbGlwWSA9IHRydWU7XG4gICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoKTtcbiAgICB9XG4gICAgY29uc3Qgd2lkdGggPSBNYXRoLnJvdW5kKGZyYW1lLndpZHRoICogcmVzb2x1dGlvbik7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5yb3VuZChmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uKTtcbiAgICBjb25zdCBwaXhlbHMgPSBuZXcgVWludDhBcnJheShCWVRFU19QRVJfUElYRUwgKiB3aWR0aCAqIGhlaWdodCk7XG4gICAgY29uc3QgZ2wgPSByZW5kZXJlci5nbDtcbiAgICBnbC5yZWFkUGl4ZWxzKE1hdGgucm91bmQoZnJhbWUueCAqIHJlc29sdXRpb24pLCBNYXRoLnJvdW5kKGZyYW1lLnkgKiByZXNvbHV0aW9uKSwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgcGl4ZWxzKTtcbiAgICBpZiAoZ2VuZXJhdGVkKSB7XG4gICAgICByZW5kZXJUZXh0dXJlPy5kZXN0cm95KHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4geyBwaXhlbHMsIHdpZHRoLCBoZWlnaHQsIGZsaXBZIH07XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgfVxuICBzdGF0aWMgX2ZsaXBZKHBpeGVscywgd2lkdGgsIGhlaWdodCkge1xuICAgIGNvbnN0IHcgPSB3aWR0aCA8PCAyO1xuICAgIGNvbnN0IGggPSBoZWlnaHQgPj4gMTtcbiAgICBjb25zdCB0ZW1wID0gbmV3IFVpbnQ4QXJyYXkodyk7XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBoOyB5KyspIHtcbiAgICAgIGNvbnN0IHQgPSB5ICogdztcbiAgICAgIGNvbnN0IGIgPSAoaGVpZ2h0IC0geSAtIDEpICogdztcbiAgICAgIHRlbXAuc2V0KHBpeGVscy5zdWJhcnJheSh0LCB0ICsgdykpO1xuICAgICAgcGl4ZWxzLmNvcHlXaXRoaW4odCwgYiwgYiArIHcpO1xuICAgICAgcGl4ZWxzLnNldCh0ZW1wLCBiKTtcbiAgICB9XG4gIH1cbiAgc3RhdGljIF91bnByZW11bHRpcGx5QWxwaGEocGl4ZWxzKSB7XG4gICAgaWYgKHBpeGVscyBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5KSB7XG4gICAgICBwaXhlbHMgPSBuZXcgVWludDhBcnJheShwaXhlbHMuYnVmZmVyKTtcbiAgICB9XG4gICAgY29uc3QgbiA9IHBpeGVscy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpICs9IDQpIHtcbiAgICAgIGNvbnN0IGFscGhhID0gcGl4ZWxzW2kgKyAzXTtcbiAgICAgIGlmIChhbHBoYSAhPT0gMCkge1xuICAgICAgICBjb25zdCBhID0gMjU1LjAwMSAvIGFscGhhO1xuICAgICAgICBwaXhlbHNbaV0gPSBwaXhlbHNbaV0gKiBhICsgMC41O1xuICAgICAgICBwaXhlbHNbaSArIDFdID0gcGl4ZWxzW2kgKyAxXSAqIGEgKyAwLjU7XG4gICAgICAgIHBpeGVsc1tpICsgMl0gPSBwaXhlbHNbaSArIDJdICogYSArIDAuNTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5sZXQgRXh0cmFjdCA9IF9FeHRyYWN0O1xuRXh0cmFjdC5leHRlbnNpb24gPSB7XG4gIG5hbWU6IFwiZXh0cmFjdFwiLFxuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtXG59O1xuZXh0ZW5zaW9ucy5hZGQoRXh0cmFjdCk7XG5cbmV4cG9ydCB7IEV4dHJhY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV4dHJhY3QubWpzLm1hcFxuIiwiZXhwb3J0IHsgRXh0cmFjdCB9IGZyb20gJy4vRXh0cmFjdC5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgRmlsdGVyLCBkZWZhdWx0VmVydGV4IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9hbHBoYS5tanMnO1xuXG5jbGFzcyBBbHBoYUZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gIGNvbnN0cnVjdG9yKGFscGhhID0gMSkge1xuICAgIHN1cGVyKGRlZmF1bHRWZXJ0ZXgsIGZyYWdtZW50LCB7IHVBbHBoYTogMSB9KTtcbiAgICB0aGlzLmFscGhhID0gYWxwaGE7XG4gIH1cbiAgZ2V0IGFscGhhKCkge1xuICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgfVxuICBzZXQgYWxwaGEodmFsdWUpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCB7IEFscGhhRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbHBoYUZpbHRlci5tanMubWFwXG4iLCJ2YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gZmxvYXQgdUFscGhhO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdUFscGhhO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZnJhZ21lbnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWxwaGEubWpzLm1hcFxuIiwiZXhwb3J0IHsgQWxwaGFGaWx0ZXIgfSBmcm9tICcuL0FscGhhRmlsdGVyLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBGaWx0ZXIsIENMRUFSX01PREVTIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBCbHVyRmlsdGVyUGFzcyB9IGZyb20gJy4vQmx1ckZpbHRlclBhc3MubWpzJztcblxuY2xhc3MgQmx1ckZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gIGNvbnN0cnVjdG9yKHN0cmVuZ3RoID0gOCwgcXVhbGl0eSA9IDQsIHJlc29sdXRpb24gPSBGaWx0ZXIuZGVmYXVsdFJlc29sdXRpb24sIGtlcm5lbFNpemUgPSA1KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzID0gZmFsc2U7XG4gICAgdGhpcy5ibHVyWEZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyh0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgdGhpcy5ibHVyWUZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyhmYWxzZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgdGhpcy5xdWFsaXR5ID0gcXVhbGl0eTtcbiAgICB0aGlzLmJsdXIgPSBzdHJlbmd0aDtcbiAgICB0aGlzLnJlcGVhdEVkZ2VQaXhlbHMgPSBmYWxzZTtcbiAgfVxuICBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICBjb25zdCB4U3RyZW5ndGggPSBNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKTtcbiAgICBjb25zdCB5U3RyZW5ndGggPSBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKTtcbiAgICBpZiAoeFN0cmVuZ3RoICYmIHlTdHJlbmd0aCkge1xuICAgICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRGaWx0ZXJUZXh0dXJlKCk7XG4gICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCByZW5kZXJUYXJnZXQsIENMRUFSX01PREVTLkNMRUFSKTtcbiAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgcmVuZGVyVGFyZ2V0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGFyZ2V0KTtcbiAgICB9IGVsc2UgaWYgKHlTdHJlbmd0aCkge1xuICAgICAgdGhpcy5ibHVyWUZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZVBhZGRpbmcoKSB7XG4gICAgaWYgKHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMpIHtcbiAgICAgIHRoaXMucGFkZGluZyA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGFkZGluZyA9IE1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLCBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKSkgKiAyO1xuICAgIH1cbiAgfVxuICBnZXQgYmx1cigpIHtcbiAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICB9XG4gIHNldCBibHVyKHZhbHVlKSB7XG4gICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gIH1cbiAgZ2V0IHF1YWxpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eTtcbiAgfVxuICBzZXQgcXVhbGl0eSh2YWx1ZSkge1xuICAgIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eSA9IHRoaXMuYmx1cllGaWx0ZXIucXVhbGl0eSA9IHZhbHVlO1xuICB9XG4gIGdldCBibHVyWCgpIHtcbiAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICB9XG4gIHNldCBibHVyWCh2YWx1ZSkge1xuICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICB9XG4gIGdldCBibHVyWSgpIHtcbiAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibHVyO1xuICB9XG4gIHNldCBibHVyWSh2YWx1ZSkge1xuICAgIHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICB9XG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuYmxlbmRNb2RlO1xuICB9XG4gIHNldCBibGVuZE1vZGUodmFsdWUpIHtcbiAgICB0aGlzLmJsdXJZRmlsdGVyLmJsZW5kTW9kZSA9IHZhbHVlO1xuICB9XG4gIGdldCByZXBlYXRFZGdlUGl4ZWxzKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzO1xuICB9XG4gIHNldCByZXBlYXRFZGdlUGl4ZWxzKHZhbHVlKSB7XG4gICAgdGhpcy5fcmVwZWF0RWRnZVBpeGVscyA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICB9XG59XG5cbmV4cG9ydCB7IEJsdXJGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsdXJGaWx0ZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgRmlsdGVyLCBDTEVBUl9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSB9IGZyb20gJy4vZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZS5tanMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSB9IGZyb20gJy4vZ2VuZXJhdGVCbHVyVmVydFNvdXJjZS5tanMnO1xuXG5jbGFzcyBCbHVyRmlsdGVyUGFzcyBleHRlbmRzIEZpbHRlciB7XG4gIGNvbnN0cnVjdG9yKGhvcml6b250YWwsIHN0cmVuZ3RoID0gOCwgcXVhbGl0eSA9IDQsIHJlc29sdXRpb24gPSBGaWx0ZXIuZGVmYXVsdFJlc29sdXRpb24sIGtlcm5lbFNpemUgPSA1KSB7XG4gICAgY29uc3QgdmVydFNyYyA9IGdlbmVyYXRlQmx1clZlcnRTb3VyY2Uoa2VybmVsU2l6ZSwgaG9yaXpvbnRhbCk7XG4gICAgY29uc3QgZnJhZ1NyYyA9IGdlbmVyYXRlQmx1ckZyYWdTb3VyY2Uoa2VybmVsU2l6ZSk7XG4gICAgc3VwZXIodmVydFNyYywgZnJhZ1NyYyk7XG4gICAgdGhpcy5ob3Jpem9udGFsID0gaG9yaXpvbnRhbDtcbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgIHRoaXMuX3F1YWxpdHkgPSAwO1xuICAgIHRoaXMucXVhbGl0eSA9IHF1YWxpdHk7XG4gICAgdGhpcy5ibHVyID0gc3RyZW5ndGg7XG4gIH1cbiAgYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgaWYgKG91dHB1dCkge1xuICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gMSAvIG91dHB1dC53aWR0aCAqIChvdXRwdXQud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gMSAvIG91dHB1dC5oZWlnaHQgKiAob3V0cHV0LmhlaWdodCAvIGlucHV0LmhlaWdodCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9IDEgLyBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLndpZHRoICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gMSAvIGZpbHRlck1hbmFnZXIucmVuZGVyZXIuaGVpZ2h0ICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIuaGVpZ2h0IC8gaW5wdXQuaGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAqPSB0aGlzLnN0cmVuZ3RoO1xuICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggLz0gdGhpcy5wYXNzZXM7XG4gICAgaWYgKHRoaXMucGFzc2VzID09PSAxKSB7XG4gICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0RmlsdGVyVGV4dHVyZSgpO1xuICAgICAgY29uc3QgcmVuZGVyZXIgPSBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyO1xuICAgICAgbGV0IGZsaXAgPSBpbnB1dDtcbiAgICAgIGxldCBmbG9wID0gcmVuZGVyVGFyZ2V0O1xuICAgICAgdGhpcy5zdGF0ZS5ibGVuZCA9IGZhbHNlO1xuICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBmbG9wLCBDTEVBUl9NT0RFUy5DTEVBUik7XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMucGFzc2VzIC0gMTsgaSsrKSB7XG4gICAgICAgIGZpbHRlck1hbmFnZXIuYmluZEFuZENsZWFyKGZsaXAsIENMRUFSX01PREVTLkJMSVQpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyID0gZmxvcDtcbiAgICAgICAgY29uc3QgdGVtcCA9IGZsb3A7XG4gICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICBmbGlwID0gdGVtcDtcbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcyk7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoNSk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxvcCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRhcmdldCk7XG4gICAgfVxuICB9XG4gIGdldCBibHVyKCkge1xuICAgIHJldHVybiB0aGlzLnN0cmVuZ3RoO1xuICB9XG4gIHNldCBibHVyKHZhbHVlKSB7XG4gICAgdGhpcy5wYWRkaW5nID0gMSArIE1hdGguYWJzKHZhbHVlKSAqIDI7XG4gICAgdGhpcy5zdHJlbmd0aCA9IHZhbHVlO1xuICB9XG4gIGdldCBxdWFsaXR5KCkge1xuICAgIHJldHVybiB0aGlzLl9xdWFsaXR5O1xuICB9XG4gIHNldCBxdWFsaXR5KHZhbHVlKSB7XG4gICAgdGhpcy5fcXVhbGl0eSA9IHZhbHVlO1xuICAgIHRoaXMucGFzc2VzID0gdmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmx1ckZpbHRlclBhc3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsdXJGaWx0ZXJQYXNzLm1qcy5tYXBcbiIsImNvbnN0IEdBVVNTSUFOX1ZBTFVFUyA9IHtcbiAgNTogWzAuMTUzMzg4LCAwLjIyMTQ2MSwgMC4yNTAzMDFdLFxuICA3OiBbMC4wNzEzMDMsIDAuMTMxNTE0LCAwLjE4OTg3OSwgMC4yMTQ2MDddLFxuICA5OiBbMC4wMjg1MzIsIDAuMDY3MjM0LCAwLjEyNDAwOSwgMC4xNzkwNDQsIDAuMjAyMzZdLFxuICAxMTogWzkzZS00LCAwLjAyODAwMiwgMC4wNjU5ODQsIDAuMTIxNzAzLCAwLjE3NTcxMywgMC4xOTg1OTZdLFxuICAxMzogWzI0MDZlLTYsIDkyNTVlLTYsIDAuMDI3ODY3LCAwLjA2NTY2NiwgMC4xMjExMTcsIDAuMTc0ODY4LCAwLjE5NzY0MV0sXG4gIDE1OiBbNDg5ZS02LCAyNDAzZS02LCA5MjQ2ZS02LCAwLjAyNzg0LCAwLjA2NTYwMiwgMC4xMjA5OTksIDAuMTc0Njk3LCAwLjE5NzQ0OF1cbn07XG5jb25zdCBmcmFnVGVtcGxhdGUgPSBbXG4gIFwidmFyeWluZyB2ZWMyIHZCbHVyVGV4Q29vcmRzWyVzaXplJV07XCIsXG4gIFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XCIsXG4gIFwidm9pZCBtYWluKHZvaWQpXCIsXG4gIFwie1wiLFxuICBcIiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7XCIsXG4gIFwiICAgICVibHVyJVwiLFxuICBcIn1cIlxuXS5qb2luKFwiXFxuXCIpO1xuZnVuY3Rpb24gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKSB7XG4gIGNvbnN0IGtlcm5lbCA9IEdBVVNTSUFOX1ZBTFVFU1trZXJuZWxTaXplXTtcbiAgY29uc3QgaGFsZkxlbmd0aCA9IGtlcm5lbC5sZW5ndGg7XG4gIGxldCBmcmFnU291cmNlID0gZnJhZ1RlbXBsYXRlO1xuICBsZXQgYmx1ckxvb3AgPSBcIlwiO1xuICBjb25zdCB0ZW1wbGF0ZSA9IFwiZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdkJsdXJUZXhDb29yZHNbJWluZGV4JV0pICogJXZhbHVlJTtcIjtcbiAgbGV0IHZhbHVlO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKykge1xuICAgIGxldCBibHVyID0gdGVtcGxhdGUucmVwbGFjZShcIiVpbmRleCVcIiwgaS50b1N0cmluZygpKTtcbiAgICB2YWx1ZSA9IGk7XG4gICAgaWYgKGkgPj0gaGFsZkxlbmd0aCkge1xuICAgICAgdmFsdWUgPSBrZXJuZWxTaXplIC0gaSAtIDE7XG4gICAgfVxuICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoXCIldmFsdWUlXCIsIGtlcm5lbFt2YWx1ZV0udG9TdHJpbmcoKSk7XG4gICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICBibHVyTG9vcCArPSBcIlxcblwiO1xuICB9XG4gIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoXCIlYmx1ciVcIiwgYmx1ckxvb3ApO1xuICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKFwiJXNpemUlXCIsIGtlcm5lbFNpemUudG9TdHJpbmcoKSk7XG4gIHJldHVybiBmcmFnU291cmNlO1xufVxuXG5leHBvcnQgeyBnZW5lcmF0ZUJsdXJGcmFnU291cmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZUJsdXJGcmFnU291cmNlLm1qcy5tYXBcbiIsImNvbnN0IHZlcnRUZW1wbGF0ZSA9IGBcbiAgICBhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XG5cbiAgICB1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcblxuICAgIHVuaWZvcm0gZmxvYXQgc3RyZW5ndGg7XG5cbiAgICB2YXJ5aW5nIHZlYzIgdkJsdXJUZXhDb29yZHNbJXNpemUlXTtcblxuICAgIHVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XG4gICAgdW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xuXG4gICAgdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXG4gICAge1xuICAgICAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcblxuICAgICAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XG4gICAgfVxuXG4gICAgdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XG4gICAgfVxuXG4gICAgdm9pZCBtYWluKHZvaWQpXG4gICAge1xuICAgICAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XG5cbiAgICAgICAgdmVjMiB0ZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcbiAgICAgICAgJWJsdXIlXG4gICAgfWA7XG5mdW5jdGlvbiBnZW5lcmF0ZUJsdXJWZXJ0U291cmNlKGtlcm5lbFNpemUsIHgpIHtcbiAgY29uc3QgaGFsZkxlbmd0aCA9IE1hdGguY2VpbChrZXJuZWxTaXplIC8gMik7XG4gIGxldCB2ZXJ0U291cmNlID0gdmVydFRlbXBsYXRlO1xuICBsZXQgYmx1ckxvb3AgPSBcIlwiO1xuICBsZXQgdGVtcGxhdGU7XG4gIGlmICh4KSB7XG4gICAgdGVtcGxhdGUgPSBcInZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gIHRleHR1cmVDb29yZCArIHZlYzIoJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoLCAwLjApO1wiO1xuICB9IGVsc2Uge1xuICAgIHRlbXBsYXRlID0gXCJ2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9ICB0ZXh0dXJlQ29vcmQgKyB2ZWMyKDAuMCwgJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoKTtcIjtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKykge1xuICAgIGxldCBibHVyID0gdGVtcGxhdGUucmVwbGFjZShcIiVpbmRleCVcIiwgaS50b1N0cmluZygpKTtcbiAgICBibHVyID0gYmx1ci5yZXBsYWNlKFwiJXNhbXBsZUluZGV4JVwiLCBgJHtpIC0gKGhhbGZMZW5ndGggLSAxKX0uMGApO1xuICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgYmx1ckxvb3AgKz0gXCJcXG5cIjtcbiAgfVxuICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKFwiJWJsdXIlXCIsIGJsdXJMb29wKTtcbiAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZShcIiVzaXplJVwiLCBrZXJuZWxTaXplLnRvU3RyaW5nKCkpO1xuICByZXR1cm4gdmVydFNvdXJjZTtcbn1cblxuZXhwb3J0IHsgZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVCbHVyVmVydFNvdXJjZS5tanMubWFwXG4iLCJleHBvcnQgeyBCbHVyRmlsdGVyIH0gZnJvbSAnLi9CbHVyRmlsdGVyLm1qcyc7XG5leHBvcnQgeyBCbHVyRmlsdGVyUGFzcyB9IGZyb20gJy4vQmx1ckZpbHRlclBhc3MubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IEZpbHRlciwgZGVmYXVsdEZpbHRlclZlcnRleCwgQ29sb3IgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL2NvbG9yTWF0cml4Lm1qcyc7XG5cbmNsYXNzIENvbG9yTWF0cml4RmlsdGVyIGV4dGVuZHMgRmlsdGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3QgdW5pZm9ybXMgPSB7XG4gICAgICBtOiBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMSxcbiAgICAgICAgMFxuICAgICAgXSksXG4gICAgICB1QWxwaGE6IDFcbiAgICB9O1xuICAgIHN1cGVyKGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB1bmlmb3Jtcyk7XG4gICAgdGhpcy5hbHBoYSA9IDE7XG4gIH1cbiAgX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSA9IGZhbHNlKSB7XG4gICAgbGV0IG5ld01hdHJpeCA9IG1hdHJpeDtcbiAgICBpZiAobXVsdGlwbHkpIHtcbiAgICAgIHRoaXMuX211bHRpcGx5KG5ld01hdHJpeCwgdGhpcy51bmlmb3Jtcy5tLCBtYXRyaXgpO1xuICAgICAgbmV3TWF0cml4ID0gdGhpcy5fY29sb3JNYXRyaXgobmV3TWF0cml4KTtcbiAgICB9XG4gICAgdGhpcy51bmlmb3Jtcy5tID0gbmV3TWF0cml4O1xuICB9XG4gIF9tdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBhWzBdICogYlswXSArIGFbMV0gKiBiWzVdICsgYVsyXSAqIGJbMTBdICsgYVszXSAqIGJbMTVdO1xuICAgIG91dFsxXSA9IGFbMF0gKiBiWzFdICsgYVsxXSAqIGJbNl0gKyBhWzJdICogYlsxMV0gKyBhWzNdICogYlsxNl07XG4gICAgb3V0WzJdID0gYVswXSAqIGJbMl0gKyBhWzFdICogYls3XSArIGFbMl0gKiBiWzEyXSArIGFbM10gKiBiWzE3XTtcbiAgICBvdXRbM10gPSBhWzBdICogYlszXSArIGFbMV0gKiBiWzhdICsgYVsyXSAqIGJbMTNdICsgYVszXSAqIGJbMThdO1xuICAgIG91dFs0XSA9IGFbMF0gKiBiWzRdICsgYVsxXSAqIGJbOV0gKyBhWzJdICogYlsxNF0gKyBhWzNdICogYlsxOV0gKyBhWzRdO1xuICAgIG91dFs1XSA9IGFbNV0gKiBiWzBdICsgYVs2XSAqIGJbNV0gKyBhWzddICogYlsxMF0gKyBhWzhdICogYlsxNV07XG4gICAgb3V0WzZdID0gYVs1XSAqIGJbMV0gKyBhWzZdICogYls2XSArIGFbN10gKiBiWzExXSArIGFbOF0gKiBiWzE2XTtcbiAgICBvdXRbN10gPSBhWzVdICogYlsyXSArIGFbNl0gKiBiWzddICsgYVs3XSAqIGJbMTJdICsgYVs4XSAqIGJbMTddO1xuICAgIG91dFs4XSA9IGFbNV0gKiBiWzNdICsgYVs2XSAqIGJbOF0gKyBhWzddICogYlsxM10gKyBhWzhdICogYlsxOF07XG4gICAgb3V0WzldID0gYVs1XSAqIGJbNF0gKyBhWzZdICogYls5XSArIGFbN10gKiBiWzE0XSArIGFbOF0gKiBiWzE5XSArIGFbOV07XG4gICAgb3V0WzEwXSA9IGFbMTBdICogYlswXSArIGFbMTFdICogYls1XSArIGFbMTJdICogYlsxMF0gKyBhWzEzXSAqIGJbMTVdO1xuICAgIG91dFsxMV0gPSBhWzEwXSAqIGJbMV0gKyBhWzExXSAqIGJbNl0gKyBhWzEyXSAqIGJbMTFdICsgYVsxM10gKiBiWzE2XTtcbiAgICBvdXRbMTJdID0gYVsxMF0gKiBiWzJdICsgYVsxMV0gKiBiWzddICsgYVsxMl0gKiBiWzEyXSArIGFbMTNdICogYlsxN107XG4gICAgb3V0WzEzXSA9IGFbMTBdICogYlszXSArIGFbMTFdICogYls4XSArIGFbMTJdICogYlsxM10gKyBhWzEzXSAqIGJbMThdO1xuICAgIG91dFsxNF0gPSBhWzEwXSAqIGJbNF0gKyBhWzExXSAqIGJbOV0gKyBhWzEyXSAqIGJbMTRdICsgYVsxM10gKiBiWzE5XSArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XSAqIGJbMF0gKyBhWzE2XSAqIGJbNV0gKyBhWzE3XSAqIGJbMTBdICsgYVsxOF0gKiBiWzE1XTtcbiAgICBvdXRbMTZdID0gYVsxNV0gKiBiWzFdICsgYVsxNl0gKiBiWzZdICsgYVsxN10gKiBiWzExXSArIGFbMThdICogYlsxNl07XG4gICAgb3V0WzE3XSA9IGFbMTVdICogYlsyXSArIGFbMTZdICogYls3XSArIGFbMTddICogYlsxMl0gKyBhWzE4XSAqIGJbMTddO1xuICAgIG91dFsxOF0gPSBhWzE1XSAqIGJbM10gKyBhWzE2XSAqIGJbOF0gKyBhWzE3XSAqIGJbMTNdICsgYVsxOF0gKiBiWzE4XTtcbiAgICBvdXRbMTldID0gYVsxNV0gKiBiWzRdICsgYVsxNl0gKiBiWzldICsgYVsxN10gKiBiWzE0XSArIGFbMThdICogYlsxOV0gKyBhWzE5XTtcbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIF9jb2xvck1hdHJpeChtYXRyaXgpIHtcbiAgICBjb25zdCBtID0gbmV3IEZsb2F0MzJBcnJheShtYXRyaXgpO1xuICAgIG1bNF0gLz0gMjU1O1xuICAgIG1bOV0gLz0gMjU1O1xuICAgIG1bMTRdIC89IDI1NTtcbiAgICBtWzE5XSAvPSAyNTU7XG4gICAgcmV0dXJuIG07XG4gIH1cbiAgYnJpZ2h0bmVzcyhiLCBtdWx0aXBseSkge1xuICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgIGIsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIGIsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIGIsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwXG4gICAgXTtcbiAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICB9XG4gIHRpbnQoY29sb3IsIG11bHRpcGx5KSB7XG4gICAgY29uc3QgW3IsIGcsIGJdID0gQ29sb3Iuc2hhcmVkLnNldFZhbHVlKGNvbG9yKS50b0FycmF5KCk7XG4gICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgcixcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgZyxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgYixcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDBcbiAgICBdO1xuICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gIH1cbiAgZ3JleXNjYWxlKHNjYWxlLCBtdWx0aXBseSkge1xuICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgIHNjYWxlLFxuICAgICAgc2NhbGUsXG4gICAgICBzY2FsZSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgc2NhbGUsXG4gICAgICBzY2FsZSxcbiAgICAgIHNjYWxlLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICBzY2FsZSxcbiAgICAgIHNjYWxlLFxuICAgICAgc2NhbGUsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwXG4gICAgXTtcbiAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICB9XG4gIGJsYWNrQW5kV2hpdGUobXVsdGlwbHkpIHtcbiAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAwLjMsXG4gICAgICAwLjYsXG4gICAgICAwLjEsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAuMyxcbiAgICAgIDAuNixcbiAgICAgIDAuMSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMC4zLFxuICAgICAgMC42LFxuICAgICAgMC4xLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMFxuICAgIF07XG4gICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgfVxuICBodWUocm90YXRpb24sIG11bHRpcGx5KSB7XG4gICAgcm90YXRpb24gPSAocm90YXRpb24gfHwgMCkgLyAxODAgKiBNYXRoLlBJO1xuICAgIGNvbnN0IGNvc1IgPSBNYXRoLmNvcyhyb3RhdGlvbik7XG4gICAgY29uc3Qgc2luUiA9IE1hdGguc2luKHJvdGF0aW9uKTtcbiAgICBjb25zdCBzcXJ0ID0gTWF0aC5zcXJ0O1xuICAgIGNvbnN0IHcgPSAxIC8gMztcbiAgICBjb25zdCBzcXJXID0gc3FydCh3KTtcbiAgICBjb25zdCBhMDAgPSBjb3NSICsgKDEgLSBjb3NSKSAqIHc7XG4gICAgY29uc3QgYTAxID0gdyAqICgxIC0gY29zUikgLSBzcXJXICogc2luUjtcbiAgICBjb25zdCBhMDIgPSB3ICogKDEgLSBjb3NSKSArIHNxclcgKiBzaW5SO1xuICAgIGNvbnN0IGExMCA9IHcgKiAoMSAtIGNvc1IpICsgc3FyVyAqIHNpblI7XG4gICAgY29uc3QgYTExID0gY29zUiArIHcgKiAoMSAtIGNvc1IpO1xuICAgIGNvbnN0IGExMiA9IHcgKiAoMSAtIGNvc1IpIC0gc3FyVyAqIHNpblI7XG4gICAgY29uc3QgYTIwID0gdyAqICgxIC0gY29zUikgLSBzcXJXICogc2luUjtcbiAgICBjb25zdCBhMjEgPSB3ICogKDEgLSBjb3NSKSArIHNxclcgKiBzaW5SO1xuICAgIGNvbnN0IGEyMiA9IGNvc1IgKyB3ICogKDEgLSBjb3NSKTtcbiAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICBhMDAsXG4gICAgICBhMDEsXG4gICAgICBhMDIsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIGExMCxcbiAgICAgIGExMSxcbiAgICAgIGExMixcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgYTIwLFxuICAgICAgYTIxLFxuICAgICAgYTIyLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMFxuICAgIF07XG4gICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgfVxuICBjb250cmFzdChhbW91bnQsIG11bHRpcGx5KSB7XG4gICAgY29uc3QgdiA9IChhbW91bnQgfHwgMCkgKyAxO1xuICAgIGNvbnN0IG8gPSAtMC41ICogKHYgLSAxKTtcbiAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICB2LFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgbyxcbiAgICAgIDAsXG4gICAgICB2LFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICBvLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICB2LFxuICAgICAgMCxcbiAgICAgIG8sXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMFxuICAgIF07XG4gICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgfVxuICBzYXR1cmF0ZShhbW91bnQgPSAwLCBtdWx0aXBseSkge1xuICAgIGNvbnN0IHggPSBhbW91bnQgKiAyIC8gMyArIDE7XG4gICAgY29uc3QgeSA9ICh4IC0gMSkgKiAtMC41O1xuICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgeSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgeSxcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICB5LFxuICAgICAgeSxcbiAgICAgIHgsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwXG4gICAgXTtcbiAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICB9XG4gIGRlc2F0dXJhdGUoKSB7XG4gICAgdGhpcy5zYXR1cmF0ZSgtMSk7XG4gIH1cbiAgbmVnYXRpdmUobXVsdGlwbHkpIHtcbiAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAtMSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgLTEsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIC0xLFxuICAgICAgMSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMFxuICAgIF07XG4gICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgfVxuICBzZXBpYShtdWx0aXBseSkge1xuICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgIDAuMzkzLFxuICAgICAgMC43Njg5OTk5LFxuICAgICAgMC4xODg5OTk5OSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMC4zNDksXG4gICAgICAwLjY4NTk5OTksXG4gICAgICAwLjE2Nzk5OTk5LFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLjI3MixcbiAgICAgIDAuNTMzOTk5OSxcbiAgICAgIDAuMTMwOTk5OTksXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwXG4gICAgXTtcbiAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICB9XG4gIHRlY2huaWNvbG9yKG11bHRpcGx5KSB7XG4gICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgMS45MTI1Mjc3ODkxNDU2MDgzLFxuICAgICAgLTAuODU0NTM0NDk3Njk1MTY0NSxcbiAgICAgIC0wLjA5MTU1NTA4NDgyNzU1NTg1LFxuICAgICAgMCxcbiAgICAgIDExLjc5MzYwMzQzNDM3NzMzNyxcbiAgICAgIC0wLjMwODc4MzMzODU5MjgwOTcsXG4gICAgICAxLjc2NTg5MDg1NTU0NTg0MjgsXG4gICAgICAtMC4xMDYwMTc0MzA3NDcyMjI0NSxcbiAgICAgIDAsXG4gICAgICAtNzAuMzUyMDUxNjE0NjEzOTgsXG4gICAgICAtMC4yMzExMDMzNzc1NDg2MTYsXG4gICAgICAtMC43NTAxODk5MTk3NDQwMjEyLFxuICAgICAgMS44NDc1OTc4MTYxMDgxODksXG4gICAgICAwLFxuICAgICAgMzAuOTUwOTQwODY5NDkxMTM4LFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDBcbiAgICBdO1xuICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gIH1cbiAgcG9sYXJvaWQobXVsdGlwbHkpIHtcbiAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAxLjQzOCxcbiAgICAgIC0wLjA2MixcbiAgICAgIC0wLjA2MixcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgLTAuMTIyLFxuICAgICAgMS4zNzgsXG4gICAgICAtMC4xMjIsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIC0wLjAxNixcbiAgICAgIC0wLjAxNixcbiAgICAgIDEuNDgzLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMFxuICAgIF07XG4gICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgfVxuICB0b0JHUihtdWx0aXBseSkge1xuICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwXG4gICAgXTtcbiAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICB9XG4gIGtvZGFjaHJvbWUobXVsdGlwbHkpIHtcbiAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAxLjEyODU1ODIzOTY1OTM1MjUsXG4gICAgICAtMC4zOTY3MzgyMjgzNjAxMzQ4LFxuICAgICAgLTAuMDM5OTI1NTkxNzI5MjE3OTMsXG4gICAgICAwLFxuICAgICAgNjMuNzI5NTg3NjIxOTY1MDIsXG4gICAgICAtMC4xNjQwNDMzOTk2MjI0NDYxNixcbiAgICAgIDEuMDgzNTI1MTU2NjI5MTMwNCxcbiAgICAgIC0wLjA1NDk4ODA1MTE1NjMzMTMyLFxuICAgICAgMCxcbiAgICAgIDI0LjczMjQwNzg5NjcwNjIwMyxcbiAgICAgIC0wLjE2Nzg2MDEwNzA2MTU1NzYzLFxuICAgICAgLTAuNTYwMzQxNjI3NzY5NTI0OCxcbiAgICAgIDEuNjAxNDg1MDc2MTk2NDk0MyxcbiAgICAgIDAsXG4gICAgICAzNS42Mjk4MjgwNzQ2MDk0NixcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwXG4gICAgXTtcbiAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICB9XG4gIGJyb3duaShtdWx0aXBseSkge1xuICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgIDAuNTk5NzAyMzQ5ODE1OTcxNSxcbiAgICAgIDAuMzQ1NTMyNDMwNDgzOTEyNjMsXG4gICAgICAtMC4yNzA4Mjk4Njc0NTM4MDQyLFxuICAgICAgMCxcbiAgICAgIDQ3LjQzMTkyODU1NjAwODczLFxuICAgICAgLTAuMDM3NzAzMjQ5ODM3NzgzMTU3LFxuICAgICAgMC44NjA5NTc3NTg3OTkyNjQxLFxuICAgICAgMC4xNTA1OTU1MjM4ODQ1OTkxMyxcbiAgICAgIDAsXG4gICAgICAtMzYuOTY4NDE0OTgzMTkxMjcsXG4gICAgICAwLjI0MTEzNjM1MTI4MTUzMzM1LFxuICAgICAgLTAuMDc0NDEwMzc5MDg0MjI0OTIsXG4gICAgICAwLjQ0OTcyMTgyMDY0ODc3MTUzLFxuICAgICAgMCxcbiAgICAgIC03LjU2MjA3NTI3NzU5MTI4MyxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwXG4gICAgXTtcbiAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICB9XG4gIHZpbnRhZ2UobXVsdGlwbHkpIHtcbiAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAwLjYyNzkzNDU2MzU2MDU5OTQsXG4gICAgICAwLjMyMDIxODM0MjA4MTkzNjcsXG4gICAgICAtMC4wMzk2NTQwODIxMTMxMjQ1MyxcbiAgICAgIDAsXG4gICAgICA5LjY1MTI4NTgzNTI5NDEyMyxcbiAgICAgIDAuMDI1NzgzOTc3MDQ4MDg4NjgsXG4gICAgICAwLjY0NDExODg2NDQzNzQ3NzEsXG4gICAgICAwLjAzMjU5MTI3NjE2MTQ5Mjk0LFxuICAgICAgMCxcbiAgICAgIDcuNDYyODI5MTc2NDcwNTkxLFxuICAgICAgMC4wNDY2MDU1NTU2NzgyNzE5LFxuICAgICAgLTAuMDg1MTIzMjk4NzI0Nzg5MSxcbiAgICAgIDAuNTI0MTY0ODAxODcwMDQ2NSxcbiAgICAgIDAsXG4gICAgICA1LjE1OTE5MDU4ODIzNTI5NixcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwXG4gICAgXTtcbiAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICB9XG4gIGNvbG9yVG9uZShkZXNhdHVyYXRpb24sIHRvbmVkLCBsaWdodENvbG9yLCBkYXJrQ29sb3IsIG11bHRpcGx5KSB7XG4gICAgZGVzYXR1cmF0aW9uID0gZGVzYXR1cmF0aW9uIHx8IDAuMjtcbiAgICB0b25lZCA9IHRvbmVkIHx8IDAuMTU7XG4gICAgbGlnaHRDb2xvciA9IGxpZ2h0Q29sb3IgfHwgMTY3NzA0MzI7XG4gICAgZGFya0NvbG9yID0gZGFya0NvbG9yIHx8IDMzNzUxMDQ7XG4gICAgY29uc3QgdGVtcCA9IENvbG9yLnNoYXJlZDtcbiAgICBjb25zdCBbbFIsIGxHLCBsQl0gPSB0ZW1wLnNldFZhbHVlKGxpZ2h0Q29sb3IpLnRvQXJyYXkoKTtcbiAgICBjb25zdCBbZFIsIGRHLCBkQl0gPSB0ZW1wLnNldFZhbHVlKGRhcmtDb2xvcikudG9BcnJheSgpO1xuICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgIDAuMyxcbiAgICAgIDAuNTksXG4gICAgICAwLjExLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICBsUixcbiAgICAgIGxHLFxuICAgICAgbEIsXG4gICAgICBkZXNhdHVyYXRpb24sXG4gICAgICAwLFxuICAgICAgZFIsXG4gICAgICBkRyxcbiAgICAgIGRCLFxuICAgICAgdG9uZWQsXG4gICAgICAwLFxuICAgICAgbFIgLSBkUixcbiAgICAgIGxHIC0gZEcsXG4gICAgICBsQiAtIGRCLFxuICAgICAgMCxcbiAgICAgIDBcbiAgICBdO1xuICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gIH1cbiAgbmlnaHQoaW50ZW5zaXR5LCBtdWx0aXBseSkge1xuICAgIGludGVuc2l0eSA9IGludGVuc2l0eSB8fCAwLjE7XG4gICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgaW50ZW5zaXR5ICogLTIsXG4gICAgICAtaW50ZW5zaXR5LFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgLWludGVuc2l0eSxcbiAgICAgIDAsXG4gICAgICBpbnRlbnNpdHksXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICBpbnRlbnNpdHksXG4gICAgICBpbnRlbnNpdHkgKiAyLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMFxuICAgIF07XG4gICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgfVxuICBwcmVkYXRvcihhbW91bnQsIG11bHRpcGx5KSB7XG4gICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgMTEuMjI0MTMwNjMwNDkzMTY0ICogYW1vdW50LFxuICAgICAgLTQuNzk0NDg2OTk5NTExNzE5ICogYW1vdW50LFxuICAgICAgLTIuODc0NjExODU0NTUzMjIyNyAqIGFtb3VudCxcbiAgICAgIDAgKiBhbW91bnQsXG4gICAgICAwLjQwMzQyNDM4MjIwOTc3NzgzICogYW1vdW50LFxuICAgICAgLTMuNjMzMDY5NzUzNjQ2ODUwNiAqIGFtb3VudCxcbiAgICAgIDkuMTkzMTU3MTk2MDQ0OTIyICogYW1vdW50LFxuICAgICAgLTIuOTUxODEwODM2NzkxOTkyICogYW1vdW50LFxuICAgICAgMCAqIGFtb3VudCxcbiAgICAgIC0xLjMxNjEzNTA0ODg2NjI3MiAqIGFtb3VudCxcbiAgICAgIC0zLjIxODQxOTc5MDI2Nzk0NDMgKiBhbW91bnQsXG4gICAgICAtNC4yMzc1MDMwNTE3NTc4MTI1ICogYW1vdW50LFxuICAgICAgNy40NzY0NDgwNTkwODIwMzEgKiBhbW91bnQsXG4gICAgICAwICogYW1vdW50LFxuICAgICAgMC44MDQ0NDU5MjIzNzQ3MjUzICogYW1vdW50LFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDBcbiAgICBdO1xuICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gIH1cbiAgbHNkKG11bHRpcGx5KSB7XG4gICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgMixcbiAgICAgIC0wLjQsXG4gICAgICAwLjUsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIC0wLjUsXG4gICAgICAyLFxuICAgICAgLTAuNCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgLTAuNCxcbiAgICAgIC0wLjUsXG4gICAgICAzLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMFxuICAgIF07XG4gICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgfVxuICByZXNldCgpIHtcbiAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAxLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMFxuICAgIF07XG4gICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIGZhbHNlKTtcbiAgfVxuICBnZXQgbWF0cml4KCkge1xuICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLm07XG4gIH1cbiAgc2V0IG1hdHJpeCh2YWx1ZSkge1xuICAgIHRoaXMudW5pZm9ybXMubSA9IHZhbHVlO1xuICB9XG4gIGdldCBhbHBoYSgpIHtcbiAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gIH1cbiAgc2V0IGFscGhhKHZhbHVlKSB7XG4gICAgdGhpcy51bmlmb3Jtcy51QWxwaGEgPSB2YWx1ZTtcbiAgfVxufVxuQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyYXlzY2FsZSA9IENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGU7XG5cbmV4cG9ydCB7IENvbG9yTWF0cml4RmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db2xvck1hdHJpeEZpbHRlci5tanMubWFwXG4iLCJ2YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gZmxvYXQgbVsyMF07XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IGMgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcblxcbiAgICBpZiAodUFscGhhID09IDAuMCkge1xcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gYztcXG4gICAgICAgIHJldHVybjtcXG4gICAgfVxcblxcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcbiAgICBpZiAoYy5hID4gMC4wKSB7XFxuICAgICAgYy5yZ2IgLz0gYy5hO1xcbiAgICB9XFxuXFxuICAgIHZlYzQgcmVzdWx0O1xcblxcbiAgICByZXN1bHQuciA9IChtWzBdICogYy5yKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzFdICogYy5nKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzJdICogYy5iKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzNdICogYy5hKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IG1bNF07XFxuXFxuICAgIHJlc3VsdC5nID0gKG1bNV0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bNl0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bN10gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bOF0gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gbVs5XTtcXG5cXG4gICAgcmVzdWx0LmIgPSAobVsxMF0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMV0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMl0gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxM10gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYiArPSBtWzE0XTtcXG5cXG4gICAgcmVzdWx0LmEgPSAobVsxNV0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxNl0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxN10gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxOF0gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYSArPSBtWzE5XTtcXG5cXG4gICAgdmVjMyByZ2IgPSBtaXgoYy5yZ2IsIHJlc3VsdC5yZ2IsIHVBbHBoYSk7XFxuXFxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhIGFnYWluLlxcbiAgICByZ2IgKj0gcmVzdWx0LmE7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQocmdiLCByZXN1bHQuYSk7XFxufVxcblwiO1xuXG5leHBvcnQgeyBmcmFnbWVudCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvck1hdHJpeC5tanMubWFwXG4iLCJleHBvcnQgeyBDb2xvck1hdHJpeEZpbHRlciB9IGZyb20gJy4vQ29sb3JNYXRyaXhGaWx0ZXIubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IEZpbHRlciwgTWF0cml4LCBQb2ludCB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vZGlzcGxhY2VtZW50Lm1qcyc7XG5pbXBvcnQgdmVydGV4IGZyb20gJy4vZGlzcGxhY2VtZW50Mi5tanMnO1xuXG5jbGFzcyBEaXNwbGFjZW1lbnRGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuICBjb25zdHJ1Y3RvcihzcHJpdGUsIHNjYWxlKSB7XG4gICAgY29uc3QgbWFza01hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbiAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgIHN1cGVyKHZlcnRleCwgZnJhZ21lbnQsIHtcbiAgICAgIG1hcFNhbXBsZXI6IHNwcml0ZS5fdGV4dHVyZSxcbiAgICAgIGZpbHRlck1hdHJpeDogbWFza01hdHJpeCxcbiAgICAgIHNjYWxlOiB7IHg6IDEsIHk6IDEgfSxcbiAgICAgIHJvdGF0aW9uOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAxXSlcbiAgICB9KTtcbiAgICB0aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcbiAgICBpZiAoc2NhbGUgPT09IG51bGwgfHwgc2NhbGUgPT09IHZvaWQgMCkge1xuICAgICAgc2NhbGUgPSAyMDtcbiAgICB9XG4gICAgdGhpcy5zY2FsZSA9IG5ldyBQb2ludChzY2FsZSwgc2NhbGUpO1xuICB9XG4gIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgIHRoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCB0aGlzLm1hc2tTcHJpdGUpO1xuICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueCA9IHRoaXMuc2NhbGUueDtcbiAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnkgPSB0aGlzLnNjYWxlLnk7XG4gICAgY29uc3Qgd3QgPSB0aGlzLm1hc2tTcHJpdGUud29ybGRUcmFuc2Zvcm07XG4gICAgY29uc3QgbGVuWCA9IE1hdGguc3FydCh3dC5hICogd3QuYSArIHd0LmIgKiB3dC5iKTtcbiAgICBjb25zdCBsZW5ZID0gTWF0aC5zcXJ0KHd0LmMgKiB3dC5jICsgd3QuZCAqIHd0LmQpO1xuICAgIGlmIChsZW5YICE9PSAwICYmIGxlblkgIT09IDApIHtcbiAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bMF0gPSB3dC5hIC8gbGVuWDtcbiAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bMV0gPSB3dC5iIC8gbGVuWDtcbiAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bMl0gPSB3dC5jIC8gbGVuWTtcbiAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bM10gPSB3dC5kIC8gbGVuWTtcbiAgICB9XG4gICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICB9XG4gIGdldCBtYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlcjtcbiAgfVxuICBzZXQgbWFwKHZhbHVlKSB7XG4gICAgdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyID0gdmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgRGlzcGxhY2VtZW50RmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EaXNwbGFjZW1lbnRGaWx0ZXIubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gdmVjMiBzY2FsZTtcXG51bmlmb3JtIG1hdDIgcm90YXRpb247XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFwU2FtcGxlcjtcXG5cXG51bmlmb3JtIGhpZ2hwIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBpbnB1dENsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gIHZlYzQgbWFwID0gIHRleHR1cmUyRChtYXBTYW1wbGVyLCB2RmlsdGVyQ29vcmQpO1xcblxcbiAgbWFwIC09IDAuNTtcXG4gIG1hcC54eSA9IHNjYWxlICogaW5wdXRTaXplLnp3ICogKHJvdGF0aW9uICogbWFwLnh5KTtcXG5cXG4gIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgY2xhbXAodmVjMih2VGV4dHVyZUNvb3JkLnggKyBtYXAueCwgdlRleHR1cmVDb29yZC55ICsgbWFwLnkpLCBpbnB1dENsYW1wLnh5LCBpbnB1dENsYW1wLnp3KSk7XFxufVxcblwiO1xuXG5leHBvcnQgeyBmcmFnbWVudCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNwbGFjZW1lbnQubWpzLm1hcFxuIiwidmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBmaWx0ZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuXFx0Z2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcblxcdHZUZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG5cXHR2RmlsdGVyQ29vcmQgPSAoIGZpbHRlck1hdHJpeCAqIHZlYzMoIHZUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7XFxufVxcblwiO1xuXG5leHBvcnQgeyB2ZXJ0ZXggYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzcGxhY2VtZW50Mi5tanMubWFwXG4iLCJleHBvcnQgeyBEaXNwbGFjZW1lbnRGaWx0ZXIgfSBmcm9tICcuL0Rpc3BsYWNlbWVudEZpbHRlci5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9meGFhLm1qcyc7XG5pbXBvcnQgdmVydGV4IGZyb20gJy4vZnhhYTIubWpzJztcblxuY2xhc3MgRlhBQUZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHZlcnRleCwgZnJhZ21lbnQpO1xuICB9XG59XG5cbmV4cG9ydCB7IEZYQUFGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZYQUFGaWx0ZXIubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JORTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JNO1xcblxcbnZhcnlpbmcgdmVjMiB2RnJhZ0Nvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gaGlnaHAgdmVjNCBpbnB1dFNpemU7XFxuXFxuXFxuLyoqXFxuIEJhc2ljIEZYQUEgaW1wbGVtZW50YXRpb24gYmFzZWQgb24gdGhlIGNvZGUgb24gZ2Vla3MzZC5jb20gd2l0aCB0aGVcXG4gbW9kaWZpY2F0aW9uIHRoYXQgdGhlIHRleHR1cmUyRExvZCBzdHVmZiB3YXMgcmVtb3ZlZCBzaW5jZSBpdCdzXFxuIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxcblxcbiAtLVxcblxcbiBGcm9tOlxcbiBodHRwczovL2dpdGh1Yi5jb20vbWl0c3VoaWtvL3dlYmdsLW1laW5jcmFmdFxcblxcbiBDb3B5cmlnaHQgKGMpIDIwMTEgYnkgQXJtaW4gUm9uYWNoZXIuXFxuXFxuIFNvbWUgcmlnaHRzIHJlc2VydmVkLlxcblxcbiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcXG4gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxcbiBtZXQ6XFxuXFxuICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcXG4gbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxcblxcbiAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcXG4gY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcXG4gZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkXFxuIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cXG5cXG4gKiBUaGUgbmFtZXMgb2YgdGhlIGNvbnRyaWJ1dG9ycyBtYXkgbm90IGJlIHVzZWQgdG8gZW5kb3JzZSBvclxcbiBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWNcXG4gcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxcblxcbiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXFxuIFxcXCJBUyBJU1xcXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXFxuIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxcbiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxcbiBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcXG4gU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVFxcbiBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcXG4gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXFxuIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcXG4gKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXFxuIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXFxuICovXFxuXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NSU5cXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01JTiAgICgxLjAvIDEyOC4wKVxcbiNlbmRpZlxcbiNpZm5kZWYgRlhBQV9SRURVQ0VfTVVMXFxuI2RlZmluZSBGWEFBX1JFRFVDRV9NVUwgICAoMS4wIC8gOC4wKVxcbiNlbmRpZlxcbiNpZm5kZWYgRlhBQV9TUEFOX01BWFxcbiNkZWZpbmUgRlhBQV9TUEFOX01BWCAgICAgOC4wXFxuI2VuZGlmXFxuXFxuLy9vcHRpbWl6ZWQgdmVyc2lvbiBmb3IgbW9iaWxlLCB3aGVyZSBkZXBlbmRlbnRcXG4vL3RleHR1cmUgcmVhZHMgY2FuIGJlIGEgYm90dGxlbmVja1xcbnZlYzQgZnhhYShzYW1wbGVyMkQgdGV4LCB2ZWMyIGZyYWdDb29yZCwgdmVjMiBpbnZlcnNlVlAsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JOVywgdmVjMiB2X3JnYk5FLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiU1csIHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgdmVjMiB2X3JnYk0pIHtcXG4gICAgdmVjNCBjb2xvcjtcXG4gICAgdmVjMyByZ2JOVyA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTlcpLnh5ejtcXG4gICAgdmVjMyByZ2JORSA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTkUpLnh5ejtcXG4gICAgdmVjMyByZ2JTVyA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiU1cpLnh5ejtcXG4gICAgdmVjMyByZ2JTRSA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiU0UpLnh5ejtcXG4gICAgdmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTSk7XFxuICAgIHZlYzMgcmdiTSAgPSB0ZXhDb2xvci54eXo7XFxuICAgIHZlYzMgbHVtYSA9IHZlYzMoMC4yOTksIDAuNTg3LCAwLjExNCk7XFxuICAgIGZsb2F0IGx1bWFOVyA9IGRvdChyZ2JOVywgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFORSA9IGRvdChyZ2JORSwgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFTVyA9IGRvdChyZ2JTVywgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFTRSA9IGRvdChyZ2JTRSwgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFNICA9IGRvdChyZ2JNLCAgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFNaW4gPSBtaW4obHVtYU0sIG1pbihtaW4obHVtYU5XLCBsdW1hTkUpLCBtaW4obHVtYVNXLCBsdW1hU0UpKSk7XFxuICAgIGZsb2F0IGx1bWFNYXggPSBtYXgobHVtYU0sIG1heChtYXgobHVtYU5XLCBsdW1hTkUpLCBtYXgobHVtYVNXLCBsdW1hU0UpKSk7XFxuXFxuICAgIG1lZGl1bXAgdmVjMiBkaXI7XFxuICAgIGRpci54ID0gLSgobHVtYU5XICsgbHVtYU5FKSAtIChsdW1hU1cgKyBsdW1hU0UpKTtcXG4gICAgZGlyLnkgPSAgKChsdW1hTlcgKyBsdW1hU1cpIC0gKGx1bWFORSArIGx1bWFTRSkpO1xcblxcbiAgICBmbG9hdCBkaXJSZWR1Y2UgPSBtYXgoKGx1bWFOVyArIGx1bWFORSArIGx1bWFTVyArIGx1bWFTRSkgKlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKDAuMjUgKiBGWEFBX1JFRFVDRV9NVUwpLCBGWEFBX1JFRFVDRV9NSU4pO1xcblxcbiAgICBmbG9hdCByY3BEaXJNaW4gPSAxLjAgLyAobWluKGFicyhkaXIueCksIGFicyhkaXIueSkpICsgZGlyUmVkdWNlKTtcXG4gICAgZGlyID0gbWluKHZlYzIoRlhBQV9TUEFOX01BWCwgRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICBtYXgodmVjMigtRlhBQV9TUEFOX01BWCwgLUZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgICAgIGRpciAqIHJjcERpck1pbikpICogaW52ZXJzZVZQO1xcblxcbiAgICB2ZWMzIHJnYkEgPSAwLjUgKiAoXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMS4wIC8gMy4wIC0gMC41KSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqICgyLjAgLyAzLjAgLSAwLjUpKS54eXopO1xcbiAgICB2ZWMzIHJnYkIgPSByZ2JBICogMC41ICsgMC4yNSAqIChcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogLTAuNSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogMC41KS54eXopO1xcblxcbiAgICBmbG9hdCBsdW1hQiA9IGRvdChyZ2JCLCBsdW1hKTtcXG4gICAgaWYgKChsdW1hQiA8IGx1bWFNaW4pIHx8IChsdW1hQiA+IGx1bWFNYXgpKVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkEsIHRleENvbG9yLmEpO1xcbiAgICBlbHNlXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQiwgdGV4Q29sb3IuYSk7XFxuICAgIHJldHVybiBjb2xvcjtcXG59XFxuXFxudm9pZCBtYWluKCkge1xcblxcbiAgICAgIHZlYzQgY29sb3I7XFxuXFxuICAgICAgY29sb3IgPSBmeGFhKHVTYW1wbGVyLCB2RnJhZ0Nvb3JkLCBpbnB1dFNpemUuencsIHZfcmdiTlcsIHZfcmdiTkUsIHZfcmdiU1csIHZfcmdiU0UsIHZfcmdiTSk7XFxuXFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVxcblwiO1xuXG5leHBvcnQgeyBmcmFnbWVudCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1meGFhLm1qcy5tYXBcbiIsInZhciB2ZXJ0ZXggPSBcIlxcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JORTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JNO1xcblxcbnZhcnlpbmcgdmVjMiB2RnJhZ0Nvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudm9pZCB0ZXhjb29yZHModmVjMiBmcmFnQ29vcmQsIHZlYzIgaW52ZXJzZVZQLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTlcsIG91dCB2ZWMyIHZfcmdiTkUsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JTVywgb3V0IHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYk0pIHtcXG4gICAgdl9yZ2JOVyA9IChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIC0xLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JORSA9IChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgLTEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYlNXID0gKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiU0UgPSAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIDEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYk0gPSB2ZWMyKGZyYWdDb29yZCAqIGludmVyc2VWUCk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFxuICAgZ2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcblxcbiAgIHZGcmFnQ29vcmQgPSBhVmVydGV4UG9zaXRpb24gKiBvdXRwdXRGcmFtZS56dztcXG5cXG4gICB0ZXhjb29yZHModkZyYWdDb29yZCwgaW5wdXRTaXplLnp3LCB2X3JnYk5XLCB2X3JnYk5FLCB2X3JnYlNXLCB2X3JnYlNFLCB2X3JnYk0pO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgdmVydGV4IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZ4YWEyLm1qcy5tYXBcbiIsImV4cG9ydCB7IEZYQUFGaWx0ZXIgfSBmcm9tICcuL0ZYQUFGaWx0ZXIubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IEZpbHRlciwgZGVmYXVsdEZpbHRlclZlcnRleCB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vbm9pc2UubWpzJztcblxuY2xhc3MgTm9pc2VGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuICBjb25zdHJ1Y3Rvcihub2lzZSA9IDAuNSwgc2VlZCA9IE1hdGgucmFuZG9tKCkpIHtcbiAgICBzdXBlcihkZWZhdWx0RmlsdGVyVmVydGV4LCBmcmFnbWVudCwge1xuICAgICAgdU5vaXNlOiAwLFxuICAgICAgdVNlZWQ6IDBcbiAgICB9KTtcbiAgICB0aGlzLm5vaXNlID0gbm9pc2U7XG4gICAgdGhpcy5zZWVkID0gc2VlZDtcbiAgfVxuICBnZXQgbm9pc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudU5vaXNlO1xuICB9XG4gIHNldCBub2lzZSh2YWx1ZSkge1xuICAgIHRoaXMudW5pZm9ybXMudU5vaXNlID0gdmFsdWU7XG4gIH1cbiAgZ2V0IHNlZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudVNlZWQ7XG4gIH1cbiAgc2V0IHNlZWQodmFsdWUpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVTZWVkID0gdmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgTm9pc2VGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vaXNlRmlsdGVyLm1qcy5tYXBcbiIsImV4cG9ydCB7IE5vaXNlRmlsdGVyIH0gZnJvbSAnLi9Ob2lzZUZpbHRlci5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50ID0gXCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIGZsb2F0IHVOb2lzZTtcXG51bmlmb3JtIGZsb2F0IHVTZWVkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbmZsb2F0IHJhbmQodmVjMiBjbylcXG57XFxuICAgIHJldHVybiBmcmFjdChzaW4oZG90KGNvLnh5LCB2ZWMyKDEyLjk4OTgsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpO1xcbn1cXG5cXG52b2lkIG1haW4oKVxcbntcXG4gICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGZsb2F0IHJhbmRvbVZhbHVlID0gcmFuZChnbF9GcmFnQ29vcmQueHkgKiB1U2VlZCk7XFxuICAgIGZsb2F0IGRpZmYgPSAocmFuZG9tVmFsdWUgLSAwLjUpICogdU5vaXNlO1xcblxcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcbiAgICBpZiAoY29sb3IuYSA+IDAuMCkge1xcbiAgICAgICAgY29sb3IucmdiIC89IGNvbG9yLmE7XFxuICAgIH1cXG5cXG4gICAgY29sb3IuciArPSBkaWZmO1xcbiAgICBjb2xvci5nICs9IGRpZmY7XFxuICAgIGNvbG9yLmIgKz0gZGlmZjtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIGNvbG9yLnJnYiAqPSBjb2xvci5hO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IGZyYWdtZW50IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vaXNlLm1qcy5tYXBcbiIsImltcG9ydCB7IFN0YXRlLCBDb2xvciwgQkxFTkRfTU9ERVMsIFRleHR1cmUsIFBvbHlnb24sIFBJXzIsIFJlY3RhbmdsZSwgUm91bmRlZFJlY3RhbmdsZSwgQ2lyY2xlLCBFbGxpcHNlLCBTSEFQRVMsIE1hdHJpeCwgVW5pZm9ybUdyb3VwLCBTaGFkZXIsIFBvaW50IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IExJTkVfQ0FQLCBMSU5FX0pPSU4sIGN1cnZlcyB9IGZyb20gJy4vY29uc3QubWpzJztcbmltcG9ydCB7IEdyYXBoaWNzR2VvbWV0cnkgfSBmcm9tICcuL0dyYXBoaWNzR2VvbWV0cnkubWpzJztcbmltcG9ydCB7IEZpbGxTdHlsZSB9IGZyb20gJy4vc3R5bGVzL0ZpbGxTdHlsZS5tanMnO1xuaW1wb3J0IHsgTGluZVN0eWxlIH0gZnJvbSAnLi9zdHlsZXMvTGluZVN0eWxlLm1qcyc7XG5pbXBvcnQgJy4vdXRpbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IFF1YWRyYXRpY1V0aWxzIH0gZnJvbSAnLi91dGlscy9RdWFkcmF0aWNVdGlscy5tanMnO1xuaW1wb3J0IHsgQmV6aWVyVXRpbHMgfSBmcm9tICcuL3V0aWxzL0JlemllclV0aWxzLm1qcyc7XG5pbXBvcnQgeyBBcmNVdGlscyB9IGZyb20gJy4vdXRpbHMvQXJjVXRpbHMubWpzJztcblxuY29uc3QgREVGQVVMVF9TSEFERVJTID0ge307XG5jb25zdCBfR3JhcGhpY3MgPSBjbGFzcyBleHRlbmRzIENvbnRhaW5lciB7XG4gIGNvbnN0cnVjdG9yKGdlb21ldHJ5ID0gbnVsbCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIHRoaXMucGx1Z2luTmFtZSA9IFwiYmF0Y2hcIjtcbiAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICB0aGlzLmJhdGNoZXMgPSBbXTtcbiAgICB0aGlzLmJhdGNoVGludCA9IC0xO1xuICAgIHRoaXMuYmF0Y2hEaXJ0eSA9IC0xO1xuICAgIHRoaXMudmVydGV4RGF0YSA9IG51bGw7XG4gICAgdGhpcy5fZmlsbFN0eWxlID0gbmV3IEZpbGxTdHlsZSgpO1xuICAgIHRoaXMuX2xpbmVTdHlsZSA9IG5ldyBMaW5lU3R5bGUoKTtcbiAgICB0aGlzLl9tYXRyaXggPSBudWxsO1xuICAgIHRoaXMuX2hvbGVNb2RlID0gZmFsc2U7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgdGhpcy5fZ2VvbWV0cnkgPSBnZW9tZXRyeSB8fCBuZXcgR3JhcGhpY3NHZW9tZXRyeSgpO1xuICAgIHRoaXMuX2dlb21ldHJ5LnJlZkNvdW50Kys7XG4gICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICB0aGlzLl90aW50Q29sb3IgPSBuZXcgQ29sb3IoMTY3NzcyMTUpO1xuICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICB9XG4gIGdldCBnZW9tZXRyeSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2VvbWV0cnk7XG4gIH1cbiAgY2xvbmUoKSB7XG4gICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgcmV0dXJuIG5ldyBfR3JhcGhpY3ModGhpcy5fZ2VvbWV0cnkpO1xuICB9XG4gIHNldCBibGVuZE1vZGUodmFsdWUpIHtcbiAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICB9XG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICB9XG4gIGdldCB0aW50KCkge1xuICAgIHJldHVybiB0aGlzLl90aW50Q29sb3IudmFsdWU7XG4gIH1cbiAgc2V0IHRpbnQodmFsdWUpIHtcbiAgICB0aGlzLl90aW50Q29sb3Iuc2V0VmFsdWUodmFsdWUpO1xuICB9XG4gIGdldCBmaWxsKCkge1xuICAgIHJldHVybiB0aGlzLl9maWxsU3R5bGU7XG4gIH1cbiAgZ2V0IGxpbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpbmVTdHlsZTtcbiAgfVxuICBsaW5lU3R5bGUob3B0aW9ucyA9IG51bGwsIGNvbG9yID0gMCwgYWxwaGEsIGFsaWdubWVudCA9IDAuNSwgbmF0aXZlID0gZmFsc2UpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIG9wdGlvbnMgPSB7IHdpZHRoOiBvcHRpb25zLCBjb2xvciwgYWxwaGEsIGFsaWdubWVudCwgbmF0aXZlIH07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmxpbmVUZXh0dXJlU3R5bGUob3B0aW9ucyk7XG4gIH1cbiAgbGluZVRleHR1cmVTdHlsZShvcHRpb25zKSB7XG4gICAgY29uc3QgZGVmYXVsdExpbmVTdHlsZU9wdGlvbnMgPSB7XG4gICAgICB3aWR0aDogMCxcbiAgICAgIHRleHR1cmU6IFRleHR1cmUuV0hJVEUsXG4gICAgICBjb2xvcjogb3B0aW9ucz8udGV4dHVyZSA/IDE2Nzc3MjE1IDogMCxcbiAgICAgIG1hdHJpeDogbnVsbCxcbiAgICAgIGFsaWdubWVudDogMC41LFxuICAgICAgbmF0aXZlOiBmYWxzZSxcbiAgICAgIGNhcDogTElORV9DQVAuQlVUVCxcbiAgICAgIGpvaW46IExJTkVfSk9JTi5NSVRFUixcbiAgICAgIG1pdGVyTGltaXQ6IDEwXG4gICAgfTtcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0TGluZVN0eWxlT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgdGhpcy5ub3JtYWxpemVDb2xvcihvcHRpb25zKTtcbiAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICB9XG4gICAgY29uc3QgdmlzaWJsZSA9IG9wdGlvbnMud2lkdGggPiAwICYmIG9wdGlvbnMuYWxwaGEgPiAwO1xuICAgIGlmICghdmlzaWJsZSkge1xuICAgICAgdGhpcy5fbGluZVN0eWxlLnJlc2V0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvcHRpb25zLm1hdHJpeCkge1xuICAgICAgICBvcHRpb25zLm1hdHJpeCA9IG9wdGlvbnMubWF0cml4LmNsb25lKCk7XG4gICAgICAgIG9wdGlvbnMubWF0cml4LmludmVydCgpO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9saW5lU3R5bGUsIHsgdmlzaWJsZSB9LCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc3RhcnRQb2x5KCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICBjb25zdCBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgIGNvbnN0IGxlbiA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzLmxlbmd0aDtcbiAgICAgIGlmIChsZW4gPiAyKSB7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKHRoaXMuY3VycmVudFBhdGgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5jbG9zZVN0cm9rZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5wdXNoKHBvaW50c1tsZW4gLSAyXSwgcG9pbnRzW2xlbiAtIDFdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG5ldyBQb2x5Z29uKCk7XG4gICAgICB0aGlzLmN1cnJlbnRQYXRoLmNsb3NlU3Ryb2tlID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGZpbmlzaFBvbHkoKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPiAyKSB7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKHRoaXMuY3VycmVudFBhdGgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIG1vdmVUbyh4LCB5KSB7XG4gICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50c1swXSA9IHg7XG4gICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHNbMV0gPSB5O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGxpbmVUbyh4LCB5KSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICB9XG4gICAgY29uc3QgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgY29uc3QgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgIGNvbnN0IGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICBpZiAoZnJvbVggIT09IHggfHwgZnJvbVkgIT09IHkpIHtcbiAgICAgIHBvaW50cy5wdXNoKHgsIHkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBfaW5pdEN1cnZlKHggPSAwLCB5ID0gMCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzID0gW3gsIHldO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1vdmVUbyh4LCB5KTtcbiAgICB9XG4gIH1cbiAgcXVhZHJhdGljQ3VydmVUbyhjcFgsIGNwWSwgdG9YLCB0b1kpIHtcbiAgICB0aGlzLl9pbml0Q3VydmUoKTtcbiAgICBjb25zdCBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgfVxuICAgIFF1YWRyYXRpY1V0aWxzLmN1cnZlVG8oY3BYLCBjcFksIHRvWCwgdG9ZLCBwb2ludHMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGJlemllckN1cnZlVG8oY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSB7XG4gICAgdGhpcy5faW5pdEN1cnZlKCk7XG4gICAgQmV6aWVyVXRpbHMuY3VydmVUbyhjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1ksIHRoaXMuY3VycmVudFBhdGgucG9pbnRzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBhcmNUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKSB7XG4gICAgdGhpcy5faW5pdEN1cnZlKHgxLCB5MSk7XG4gICAgY29uc3QgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgY29uc3QgcmVzdWx0ID0gQXJjVXRpbHMuY3VydmVUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzLCBwb2ludHMpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGNvbnN0IHsgY3gsIGN5LCByYWRpdXM6IHJhZGl1czIsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlIH0gPSByZXN1bHQ7XG4gICAgICB0aGlzLmFyYyhjeCwgY3ksIHJhZGl1czIsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYXJjKGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSA9IGZhbHNlKSB7XG4gICAgaWYgKHN0YXJ0QW5nbGUgPT09IGVuZEFuZ2xlKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKCFhbnRpY2xvY2t3aXNlICYmIGVuZEFuZ2xlIDw9IHN0YXJ0QW5nbGUpIHtcbiAgICAgIGVuZEFuZ2xlICs9IFBJXzI7XG4gICAgfSBlbHNlIGlmIChhbnRpY2xvY2t3aXNlICYmIHN0YXJ0QW5nbGUgPD0gZW5kQW5nbGUpIHtcbiAgICAgIHN0YXJ0QW5nbGUgKz0gUElfMjtcbiAgICB9XG4gICAgY29uc3Qgc3dlZXAgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGU7XG4gICAgaWYgKHN3ZWVwID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY29uc3Qgc3RhcnRYID0gY3ggKyBNYXRoLmNvcyhzdGFydEFuZ2xlKSAqIHJhZGl1cztcbiAgICBjb25zdCBzdGFydFkgPSBjeSArIE1hdGguc2luKHN0YXJ0QW5nbGUpICogcmFkaXVzO1xuICAgIGNvbnN0IGVwcyA9IHRoaXMuX2dlb21ldHJ5LmNsb3NlUG9pbnRFcHM7XG4gICAgbGV0IHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGggPyB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyA6IG51bGw7XG4gICAgaWYgKHBvaW50cykge1xuICAgICAgY29uc3QgeERpZmYgPSBNYXRoLmFicyhwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdIC0gc3RhcnRYKTtcbiAgICAgIGNvbnN0IHlEaWZmID0gTWF0aC5hYnMocG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSAtIHN0YXJ0WSk7XG4gICAgICBpZiAoeERpZmYgPCBlcHMgJiYgeURpZmYgPCBlcHMpIHtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvaW50cy5wdXNoKHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tb3ZlVG8oc3RhcnRYLCBzdGFydFkpO1xuICAgICAgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgfVxuICAgIEFyY1V0aWxzLmFyYyhzdGFydFgsIHN0YXJ0WSwgY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlLCBwb2ludHMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGJlZ2luRmlsbChjb2xvciA9IDAsIGFscGhhKSB7XG4gICAgcmV0dXJuIHRoaXMuYmVnaW5UZXh0dXJlRmlsbCh7IHRleHR1cmU6IFRleHR1cmUuV0hJVEUsIGNvbG9yLCBhbHBoYSB9KTtcbiAgfVxuICBub3JtYWxpemVDb2xvcihvcHRpb25zKSB7XG4gICAgY29uc3QgdGVtcCA9IENvbG9yLnNoYXJlZC5zZXRWYWx1ZShvcHRpb25zLmNvbG9yID8/IDApO1xuICAgIG9wdGlvbnMuY29sb3IgPSB0ZW1wLnRvTnVtYmVyKCk7XG4gICAgb3B0aW9ucy5hbHBoYSA/PyAob3B0aW9ucy5hbHBoYSA9IHRlbXAuYWxwaGEpO1xuICB9XG4gIGJlZ2luVGV4dHVyZUZpbGwob3B0aW9ucykge1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgdGV4dHVyZTogVGV4dHVyZS5XSElURSxcbiAgICAgIGNvbG9yOiAxNjc3NzIxNSxcbiAgICAgIG1hdHJpeDogbnVsbFxuICAgIH07XG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIHRoaXMubm9ybWFsaXplQ29sb3Iob3B0aW9ucyk7XG4gICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgfVxuICAgIGNvbnN0IHZpc2libGUgPSBvcHRpb25zLmFscGhhID4gMDtcbiAgICBpZiAoIXZpc2libGUpIHtcbiAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3B0aW9ucy5tYXRyaXgpIHtcbiAgICAgICAgb3B0aW9ucy5tYXRyaXggPSBvcHRpb25zLm1hdHJpeC5jbG9uZSgpO1xuICAgICAgICBvcHRpb25zLm1hdHJpeC5pbnZlcnQoKTtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fZmlsbFN0eWxlLCB7IHZpc2libGUgfSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGVuZEZpbGwoKSB7XG4gICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZHJhd1JlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgfVxuICBkcmF3Um91bmRlZFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSB7XG4gICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykpO1xuICB9XG4gIGRyYXdDaXJjbGUoeCwgeSwgcmFkaXVzKSB7XG4gICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBDaXJjbGUoeCwgeSwgcmFkaXVzKSk7XG4gIH1cbiAgZHJhd0VsbGlwc2UoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgRWxsaXBzZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG4gIH1cbiAgZHJhd1BvbHlnb24oLi4ucGF0aCkge1xuICAgIGxldCBwb2ludHM7XG4gICAgbGV0IGNsb3NlU3Ryb2tlID0gdHJ1ZTtcbiAgICBjb25zdCBwb2x5ID0gcGF0aFswXTtcbiAgICBpZiAocG9seS5wb2ludHMpIHtcbiAgICAgIGNsb3NlU3Ryb2tlID0gcG9seS5jbG9zZVN0cm9rZTtcbiAgICAgIHBvaW50cyA9IHBvbHkucG9pbnRzO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwYXRoWzBdKSkge1xuICAgICAgcG9pbnRzID0gcGF0aFswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9pbnRzID0gcGF0aDtcbiAgICB9XG4gICAgY29uc3Qgc2hhcGUgPSBuZXcgUG9seWdvbihwb2ludHMpO1xuICAgIHNoYXBlLmNsb3NlU3Ryb2tlID0gY2xvc2VTdHJva2U7XG4gICAgdGhpcy5kcmF3U2hhcGUoc2hhcGUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGRyYXdTaGFwZShzaGFwZSkge1xuICAgIGlmICghdGhpcy5faG9sZU1vZGUpIHtcbiAgICAgIHRoaXMuX2dlb21ldHJ5LmRyYXdTaGFwZShzaGFwZSwgdGhpcy5fZmlsbFN0eWxlLmNsb25lKCksIHRoaXMuX2xpbmVTdHlsZS5jbG9uZSgpLCB0aGlzLl9tYXRyaXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9nZW9tZXRyeS5kcmF3SG9sZShzaGFwZSwgdGhpcy5fbWF0cml4KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5fZ2VvbWV0cnkuY2xlYXIoKTtcbiAgICB0aGlzLl9saW5lU3R5bGUucmVzZXQoKTtcbiAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcbiAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgIHRoaXMuX21hdHJpeCA9IG51bGw7XG4gICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBpc0Zhc3RSZWN0KCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9nZW9tZXRyeS5ncmFwaGljc0RhdGE7XG4gICAgcmV0dXJuIGRhdGEubGVuZ3RoID09PSAxICYmIGRhdGFbMF0uc2hhcGUudHlwZSA9PT0gU0hBUEVTLlJFQ1QgJiYgIWRhdGFbMF0ubWF0cml4ICYmICFkYXRhWzBdLmhvbGVzLmxlbmd0aCAmJiAhKGRhdGFbMF0ubGluZVN0eWxlLnZpc2libGUgJiYgZGF0YVswXS5saW5lU3R5bGUud2lkdGgpO1xuICB9XG4gIF9yZW5kZXIocmVuZGVyZXIpIHtcbiAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuX2dlb21ldHJ5O1xuICAgIGdlb21ldHJ5LnVwZGF0ZUJhdGNoZXMoKTtcbiAgICBpZiAoZ2VvbWV0cnkuYmF0Y2hhYmxlKSB7XG4gICAgICBpZiAodGhpcy5iYXRjaERpcnR5ICE9PSBnZW9tZXRyeS5iYXRjaERpcnR5KSB7XG4gICAgICAgIHRoaXMuX3BvcHVsYXRlQmF0Y2hlcygpO1xuICAgICAgfVxuICAgICAgdGhpcy5fcmVuZGVyQmF0Y2hlZChyZW5kZXJlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICB0aGlzLl9yZW5kZXJEaXJlY3QocmVuZGVyZXIpO1xuICAgIH1cbiAgfVxuICBfcG9wdWxhdGVCYXRjaGVzKCkge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgY29uc3QgYmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGU7XG4gICAgY29uc3QgbGVuID0gZ2VvbWV0cnkuYmF0Y2hlcy5sZW5ndGg7XG4gICAgdGhpcy5iYXRjaFRpbnQgPSAtMTtcbiAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgIHRoaXMuYmF0Y2hEaXJ0eSA9IGdlb21ldHJ5LmJhdGNoRGlydHk7XG4gICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IGxlbjtcbiAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5LnBvaW50cyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgZ0kgPSBnZW9tZXRyeS5iYXRjaGVzW2ldO1xuICAgICAgY29uc3QgY29sb3IgPSBnSS5zdHlsZS5jb2xvcjtcbiAgICAgIGNvbnN0IHZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudmVydGV4RGF0YS5idWZmZXIsIGdJLmF0dHJpYlN0YXJ0ICogNCAqIDIsIGdJLmF0dHJpYlNpemUgKiAyKTtcbiAgICAgIGNvbnN0IHV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnkudXZzRmxvYXQzMi5idWZmZXIsIGdJLmF0dHJpYlN0YXJ0ICogNCAqIDIsIGdJLmF0dHJpYlNpemUgKiAyKTtcbiAgICAgIGNvbnN0IGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoZ2VvbWV0cnkuaW5kaWNlc1VpbnQxNi5idWZmZXIsIGdJLnN0YXJ0ICogMiwgZ0kuc2l6ZSk7XG4gICAgICBjb25zdCBiYXRjaCA9IHtcbiAgICAgICAgdmVydGV4RGF0YSxcbiAgICAgICAgYmxlbmRNb2RlLFxuICAgICAgICBpbmRpY2VzLFxuICAgICAgICB1dnMsXG4gICAgICAgIF9iYXRjaFJHQjogQ29sb3Iuc2hhcmVkLnNldFZhbHVlKGNvbG9yKS50b1JnYkFycmF5KCksXG4gICAgICAgIF90aW50UkdCOiBjb2xvcixcbiAgICAgICAgX3RleHR1cmU6IGdJLnN0eWxlLnRleHR1cmUsXG4gICAgICAgIGFscGhhOiBnSS5zdHlsZS5hbHBoYSxcbiAgICAgICAgd29ybGRBbHBoYTogMVxuICAgICAgfTtcbiAgICAgIHRoaXMuYmF0Y2hlc1tpXSA9IGJhdGNoO1xuICAgIH1cbiAgfVxuICBfcmVuZGVyQmF0Y2hlZChyZW5kZXJlcikge1xuICAgIGlmICghdGhpcy5iYXRjaGVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICB0aGlzLmNhbGN1bGF0ZVRpbnRzKCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBiYXRjaCA9IHRoaXMuYmF0Y2hlc1tpXTtcbiAgICAgIGJhdGNoLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGEgKiBiYXRjaC5hbHBoYTtcbiAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIoYmF0Y2gpO1xuICAgIH1cbiAgfVxuICBfcmVuZGVyRGlyZWN0KHJlbmRlcmVyKSB7XG4gICAgY29uc3Qgc2hhZGVyID0gdGhpcy5fcmVzb2x2ZURpcmVjdFNoYWRlcihyZW5kZXJlcik7XG4gICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICBjb25zdCB3b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgIGNvbnN0IHVuaWZvcm1zID0gc2hhZGVyLnVuaWZvcm1zO1xuICAgIGNvbnN0IGRyYXdDYWxscyA9IGdlb21ldHJ5LmRyYXdDYWxscztcbiAgICB1bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIENvbG9yLnNoYXJlZC5zZXRWYWx1ZSh0aGlzLl90aW50Q29sb3IpLnByZW11bHRpcGx5KHdvcmxkQWxwaGEpLnRvQXJyYXkodW5pZm9ybXMudGludCk7XG4gICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoc2hhZGVyKTtcbiAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCBzaGFkZXIpO1xuICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGRyYXdDYWxscy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHRoaXMuX3JlbmRlckRyYXdDYWxsRGlyZWN0KHJlbmRlcmVyLCBnZW9tZXRyeS5kcmF3Q2FsbHNbaV0pO1xuICAgIH1cbiAgfVxuICBfcmVuZGVyRHJhd0NhbGxEaXJlY3QocmVuZGVyZXIsIGRyYXdDYWxsKSB7XG4gICAgY29uc3QgeyB0ZXhBcnJheSwgdHlwZSwgc2l6ZSwgc3RhcnQgfSA9IGRyYXdDYWxsO1xuICAgIGNvbnN0IGdyb3VwVGV4dHVyZUNvdW50ID0gdGV4QXJyYXkuY291bnQ7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBncm91cFRleHR1cmVDb3VudDsgaisrKSB7XG4gICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQodGV4QXJyYXkuZWxlbWVudHNbal0sIGopO1xuICAgIH1cbiAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHR5cGUsIHNpemUsIHN0YXJ0KTtcbiAgfVxuICBfcmVzb2x2ZURpcmVjdFNoYWRlcihyZW5kZXJlcikge1xuICAgIGxldCBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcbiAgICBjb25zdCBwbHVnaW5OYW1lID0gdGhpcy5wbHVnaW5OYW1lO1xuICAgIGlmICghc2hhZGVyKSB7XG4gICAgICBpZiAoIURFRkFVTFRfU0hBREVSU1twbHVnaW5OYW1lXSkge1xuICAgICAgICBjb25zdCB7IG1heFRleHR1cmVzIH0gPSByZW5kZXJlci5wbHVnaW5zW3BsdWdpbk5hbWVdO1xuICAgICAgICBjb25zdCBzYW1wbGVWYWx1ZXMgPSBuZXcgSW50MzJBcnJheShtYXhUZXh0dXJlcyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgdGludDogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICAgIHRyYW5zbGF0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgICAgZGVmYXVsdDogVW5pZm9ybUdyb3VwLmZyb20oeyB1U2FtcGxlcnM6IHNhbXBsZVZhbHVlcyB9LCB0cnVlKVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwcm9ncmFtID0gcmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXS5fc2hhZGVyLnByb2dyYW07XG4gICAgICAgIERFRkFVTFRfU0hBREVSU1twbHVnaW5OYW1lXSA9IG5ldyBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpO1xuICAgICAgfVxuICAgICAgc2hhZGVyID0gREVGQVVMVF9TSEFERVJTW3BsdWdpbk5hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gc2hhZGVyO1xuICB9XG4gIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICBpZiAoIWdlb21ldHJ5LmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZIH0gPSBnZW9tZXRyeS5ib3VuZHM7XG4gICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcbiAgfVxuICBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIF9HcmFwaGljcy5fVEVNUF9QT0lOVCk7XG4gICAgcmV0dXJuIHRoaXMuX2dlb21ldHJ5LmNvbnRhaW5zUG9pbnQoX0dyYXBoaWNzLl9URU1QX1BPSU5UKTtcbiAgfVxuICBjYWxjdWxhdGVUaW50cygpIHtcbiAgICBpZiAodGhpcy5iYXRjaFRpbnQgIT09IHRoaXMudGludCkge1xuICAgICAgdGhpcy5iYXRjaFRpbnQgPSB0aGlzLl90aW50Q29sb3IudG9OdW1iZXIoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJhdGNoID0gdGhpcy5iYXRjaGVzW2ldO1xuICAgICAgICBiYXRjaC5fdGludFJHQiA9IENvbG9yLnNoYXJlZC5zZXRWYWx1ZSh0aGlzLl90aW50Q29sb3IpLm11bHRpcGx5KGJhdGNoLl9iYXRjaFJHQikudG9MaXR0bGVFbmRpYW5OdW1iZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY2FsY3VsYXRlVmVydGljZXMoKSB7XG4gICAgY29uc3Qgd3RJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgIGlmICh0aGlzLl90cmFuc2Zvcm1JRCA9PT0gd3RJRCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHd0SUQ7XG4gICAgY29uc3Qgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjb25zdCBhID0gd3QuYTtcbiAgICBjb25zdCBiID0gd3QuYjtcbiAgICBjb25zdCBjID0gd3QuYztcbiAgICBjb25zdCBkID0gd3QuZDtcbiAgICBjb25zdCB0eCA9IHd0LnR4O1xuICAgIGNvbnN0IHR5ID0gd3QudHk7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuX2dlb21ldHJ5LnBvaW50cztcbiAgICBjb25zdCB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBjb25zdCB4ID0gZGF0YVtpXTtcbiAgICAgIGNvbnN0IHkgPSBkYXRhW2kgKyAxXTtcbiAgICAgIHZlcnRleERhdGFbY291bnQrK10gPSBhICogeCArIGMgKiB5ICsgdHg7XG4gICAgICB2ZXJ0ZXhEYXRhW2NvdW50KytdID0gZCAqIHkgKyBiICogeCArIHR5O1xuICAgIH1cbiAgfVxuICBjbG9zZVBhdGgoKSB7XG4gICAgY29uc3QgY3VycmVudFBhdGggPSB0aGlzLmN1cnJlbnRQYXRoO1xuICAgIGlmIChjdXJyZW50UGF0aCkge1xuICAgICAgY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSB0cnVlO1xuICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHNldE1hdHJpeChtYXRyaXgpIHtcbiAgICB0aGlzLl9tYXRyaXggPSBtYXRyaXg7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYmVnaW5Ib2xlKCkge1xuICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgIHRoaXMuX2hvbGVNb2RlID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBlbmRIb2xlKCkge1xuICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgIHRoaXMuX2hvbGVNb2RlID0gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZGVzdHJveShvcHRpb25zKSB7XG4gICAgdGhpcy5fZ2VvbWV0cnkucmVmQ291bnQtLTtcbiAgICBpZiAodGhpcy5fZ2VvbWV0cnkucmVmQ291bnQgPT09IDApIHtcbiAgICAgIHRoaXMuX2dlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICB0aGlzLl9saW5lU3R5bGUuZGVzdHJveSgpO1xuICAgIHRoaXMuX2xpbmVTdHlsZSA9IG51bGw7XG4gICAgdGhpcy5fZmlsbFN0eWxlLmRlc3Ryb3koKTtcbiAgICB0aGlzLl9maWxsU3R5bGUgPSBudWxsO1xuICAgIHRoaXMuX2dlb21ldHJ5ID0gbnVsbDtcbiAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmJhdGNoZXMgPSBudWxsO1xuICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG4gIH1cbn07XG5sZXQgR3JhcGhpY3MgPSBfR3JhcGhpY3M7XG5HcmFwaGljcy5jdXJ2ZXMgPSBjdXJ2ZXM7XG5HcmFwaGljcy5fVEVNUF9QT0lOVCA9IG5ldyBQb2ludCgpO1xuXG5leHBvcnQgeyBHcmFwaGljcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY3MubWpzLm1hcFxuIiwiY2xhc3MgR3JhcGhpY3NEYXRhIHtcbiAgY29uc3RydWN0b3Ioc2hhcGUsIGZpbGxTdHlsZSA9IG51bGwsIGxpbmVTdHlsZSA9IG51bGwsIG1hdHJpeCA9IG51bGwpIHtcbiAgICB0aGlzLnBvaW50cyA9IFtdO1xuICAgIHRoaXMuaG9sZXMgPSBbXTtcbiAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG4gICAgdGhpcy5saW5lU3R5bGUgPSBsaW5lU3R5bGU7XG4gICAgdGhpcy5maWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gICAgdGhpcy5tYXRyaXggPSBtYXRyaXg7XG4gICAgdGhpcy50eXBlID0gc2hhcGUudHlwZTtcbiAgfVxuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IEdyYXBoaWNzRGF0YSh0aGlzLnNoYXBlLCB0aGlzLmZpbGxTdHlsZSwgdGhpcy5saW5lU3R5bGUsIHRoaXMubWF0cml4KTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuc2hhcGUgPSBudWxsO1xuICAgIHRoaXMuaG9sZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmhvbGVzID0gbnVsbDtcbiAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICB0aGlzLmxpbmVTdHlsZSA9IG51bGw7XG4gICAgdGhpcy5maWxsU3R5bGUgPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCB7IEdyYXBoaWNzRGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY3NEYXRhLm1qcy5tYXBcbiIsImltcG9ydCB7IFBvaW50LCBCYXRjaEdlb21ldHJ5LCBXUkFQX01PREVTLCBCYXNlVGV4dHVyZSwgQmF0Y2hEcmF3Q2FsbCwgQmF0Y2hUZXh0dXJlQXJyYXksIERSQVdfTU9ERVMsIENvbG9yIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBCb3VuZHMgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IEdyYXBoaWNzRGF0YSB9IGZyb20gJy4vR3JhcGhpY3NEYXRhLm1qcyc7XG5pbXBvcnQgeyBEUkFXX0NBTExfUE9PTCwgQkFUQ0hfUE9PTCwgRklMTF9DT01NQU5EUyB9IGZyb20gJy4vdXRpbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IEJhdGNoUGFydCB9IGZyb20gJy4vdXRpbHMvQmF0Y2hQYXJ0Lm1qcyc7XG5pbXBvcnQgeyBidWlsZFBvbHkgfSBmcm9tICcuL3V0aWxzL2J1aWxkUG9seS5tanMnO1xuaW1wb3J0IHsgYnVpbGRMaW5lIH0gZnJvbSAnLi91dGlscy9idWlsZExpbmUubWpzJztcblxuY29uc3QgdG1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbmNvbnN0IF9HcmFwaGljc0dlb21ldHJ5ID0gY2xhc3MgZXh0ZW5kcyBCYXRjaEdlb21ldHJ5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmNsb3NlUG9pbnRFcHMgPSAxZS00O1xuICAgIHRoaXMuYm91bmRzUGFkZGluZyA9IDA7XG4gICAgdGhpcy51dnNGbG9hdDMyID0gbnVsbDtcbiAgICB0aGlzLmluZGljZXNVaW50MTYgPSBudWxsO1xuICAgIHRoaXMuYmF0Y2hhYmxlID0gZmFsc2U7XG4gICAgdGhpcy5wb2ludHMgPSBbXTtcbiAgICB0aGlzLmNvbG9ycyA9IFtdO1xuICAgIHRoaXMudXZzID0gW107XG4gICAgdGhpcy5pbmRpY2VzID0gW107XG4gICAgdGhpcy50ZXh0dXJlSWRzID0gW107XG4gICAgdGhpcy5ncmFwaGljc0RhdGEgPSBbXTtcbiAgICB0aGlzLmRyYXdDYWxscyA9IFtdO1xuICAgIHRoaXMuYmF0Y2hEaXJ0eSA9IC0xO1xuICAgIHRoaXMuYmF0Y2hlcyA9IFtdO1xuICAgIHRoaXMuZGlydHkgPSAwO1xuICAgIHRoaXMuY2FjaGVEaXJ0eSA9IC0xO1xuICAgIHRoaXMuY2xlYXJEaXJ0eSA9IDA7XG4gICAgdGhpcy5zaGFwZUluZGV4ID0gMDtcbiAgICB0aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG4gICAgdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuICB9XG4gIGdldCBib3VuZHMoKSB7XG4gICAgdGhpcy51cGRhdGVCYXRjaGVzKCk7XG4gICAgaWYgKHRoaXMuYm91bmRzRGlydHkgIT09IHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuYm91bmRzRGlydHkgPSB0aGlzLmRpcnR5O1xuICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2JvdW5kcztcbiAgfVxuICBpbnZhbGlkYXRlKCkge1xuICAgIHRoaXMuYm91bmRzRGlydHkgPSAtMTtcbiAgICB0aGlzLmRpcnR5Kys7XG4gICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgdGhpcy5zaGFwZUluZGV4ID0gMDtcbiAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy51dnMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLnRleHR1cmVJZHMubGVuZ3RoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHJhd0NhbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmRyYXdDYWxsc1tpXS50ZXhBcnJheS5jbGVhcigpO1xuICAgICAgRFJBV19DQUxMX1BPT0wucHVzaCh0aGlzLmRyYXdDYWxsc1tpXSk7XG4gICAgfVxuICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGJhdGNoUGFydCA9IHRoaXMuYmF0Y2hlc1tpXTtcbiAgICAgIGJhdGNoUGFydC5yZXNldCgpO1xuICAgICAgQkFUQ0hfUE9PTC5wdXNoKGJhdGNoUGFydCk7XG4gICAgfVxuICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSAwO1xuICB9XG4gIGNsZWFyKCkge1xuICAgIGlmICh0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICAgIHRoaXMuY2xlYXJEaXJ0eSsrO1xuICAgICAgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZHJhd1NoYXBlKHNoYXBlLCBmaWxsU3R5bGUgPSBudWxsLCBsaW5lU3R5bGUgPSBudWxsLCBtYXRyaXggPSBudWxsKSB7XG4gICAgY29uc3QgZGF0YSA9IG5ldyBHcmFwaGljc0RhdGEoc2hhcGUsIGZpbGxTdHlsZSwgbGluZVN0eWxlLCBtYXRyaXgpO1xuICAgIHRoaXMuZ3JhcGhpY3NEYXRhLnB1c2goZGF0YSk7XG4gICAgdGhpcy5kaXJ0eSsrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGRyYXdIb2xlKHNoYXBlLCBtYXRyaXggPSBudWxsKSB7XG4gICAgaWYgKCF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gbmV3IEdyYXBoaWNzRGF0YShzaGFwZSwgbnVsbCwgbnVsbCwgbWF0cml4KTtcbiAgICBjb25zdCBsYXN0U2hhcGUgPSB0aGlzLmdyYXBoaWNzRGF0YVt0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggLSAxXTtcbiAgICBkYXRhLmxpbmVTdHlsZSA9IGxhc3RTaGFwZS5saW5lU3R5bGU7XG4gICAgbGFzdFNoYXBlLmhvbGVzLnB1c2goZGF0YSk7XG4gICAgdGhpcy5kaXJ0eSsrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhW2ldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgdGhpcy5jb2xvcnMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmNvbG9ycyA9IG51bGw7XG4gICAgdGhpcy51dnMubGVuZ3RoID0gMDtcbiAgICB0aGlzLnV2cyA9IG51bGw7XG4gICAgdGhpcy5pbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICB0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgIHRoaXMuZ3JhcGhpY3NEYXRhID0gbnVsbDtcbiAgICB0aGlzLmRyYXdDYWxscy5sZW5ndGggPSAwO1xuICAgIHRoaXMuZHJhd0NhbGxzID0gbnVsbDtcbiAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmJhdGNoZXMgPSBudWxsO1xuICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gIH1cbiAgY29udGFpbnNQb2ludChwb2ludCkge1xuICAgIGNvbnN0IGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCBkYXRhID0gZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgaWYgKCFkYXRhLmZpbGxTdHlsZS52aXNpYmxlKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEuc2hhcGUpIHtcbiAgICAgICAgaWYgKGRhdGEubWF0cml4KSB7XG4gICAgICAgICAgZGF0YS5tYXRyaXguYXBwbHlJbnZlcnNlKHBvaW50LCB0bXBQb2ludCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG1wUG9pbnQuY29weUZyb20ocG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnNoYXBlLmNvbnRhaW5zKHRtcFBvaW50LngsIHRtcFBvaW50LnkpKSB7XG4gICAgICAgICAgbGV0IGhpdEhvbGUgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoZGF0YS5ob2xlcykge1xuICAgICAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGRhdGEuaG9sZXMubGVuZ3RoOyBpMisrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGhvbGUgPSBkYXRhLmhvbGVzW2kyXTtcbiAgICAgICAgICAgICAgaWYgKGhvbGUuc2hhcGUuY29udGFpbnModG1wUG9pbnQueCwgdG1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICBoaXRIb2xlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWhpdEhvbGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdXBkYXRlQmF0Y2hlcygpIHtcbiAgICBpZiAoIXRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCkge1xuICAgICAgdGhpcy5iYXRjaGFibGUgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMudmFsaWRhdGVCYXRjaGluZygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2FjaGVEaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgY29uc3QgdXZzID0gdGhpcy51dnM7XG4gICAgY29uc3QgZ3JhcGhpY3NEYXRhID0gdGhpcy5ncmFwaGljc0RhdGE7XG4gICAgbGV0IGJhdGNoUGFydCA9IG51bGw7XG4gICAgbGV0IGN1cnJlbnRTdHlsZSA9IG51bGw7XG4gICAgaWYgKHRoaXMuYmF0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICBiYXRjaFBhcnQgPSB0aGlzLmJhdGNoZXNbdGhpcy5iYXRjaGVzLmxlbmd0aCAtIDFdO1xuICAgICAgY3VycmVudFN0eWxlID0gYmF0Y2hQYXJ0LnN0eWxlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gdGhpcy5zaGFwZUluZGV4OyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnNoYXBlSW5kZXgrKztcbiAgICAgIGNvbnN0IGRhdGEgPSBncmFwaGljc0RhdGFbaV07XG4gICAgICBjb25zdCBmaWxsU3R5bGUgPSBkYXRhLmZpbGxTdHlsZTtcbiAgICAgIGNvbnN0IGxpbmVTdHlsZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgY29uc3QgY29tbWFuZCA9IEZJTExfQ09NTUFORFNbZGF0YS50eXBlXTtcbiAgICAgIGNvbW1hbmQuYnVpbGQoZGF0YSk7XG4gICAgICBpZiAoZGF0YS5tYXRyaXgpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1Qb2ludHMoZGF0YS5wb2ludHMsIGRhdGEubWF0cml4KTtcbiAgICAgIH1cbiAgICAgIGlmIChmaWxsU3R5bGUudmlzaWJsZSB8fCBsaW5lU3R5bGUudmlzaWJsZSkge1xuICAgICAgICB0aGlzLnByb2Nlc3NIb2xlcyhkYXRhLmhvbGVzKTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMjsgaisrKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gaiA9PT0gMCA/IGZpbGxTdHlsZSA6IGxpbmVTdHlsZTtcbiAgICAgICAgaWYgKCFzdHlsZS52aXNpYmxlKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBuZXh0VGV4dHVyZSA9IHN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIGNvbnN0IGluZGV4MiA9IHRoaXMuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGF0dHJpYkluZGV4ID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcbiAgICAgICAgbmV4dFRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgaWYgKGogPT09IDApIHtcbiAgICAgICAgICB0aGlzLnByb2Nlc3NGaWxsKGRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucHJvY2Vzc0xpbmUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDIgLSBhdHRyaWJJbmRleDtcbiAgICAgICAgaWYgKHNpemUgPT09IDApXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGlmIChiYXRjaFBhcnQgJiYgIXRoaXMuX2NvbXBhcmVTdHlsZXMoY3VycmVudFN0eWxlLCBzdHlsZSkpIHtcbiAgICAgICAgICBiYXRjaFBhcnQuZW5kKGluZGV4MiwgYXR0cmliSW5kZXgpO1xuICAgICAgICAgIGJhdGNoUGFydCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFiYXRjaFBhcnQpIHtcbiAgICAgICAgICBiYXRjaFBhcnQgPSBCQVRDSF9QT09MLnBvcCgpIHx8IG5ldyBCYXRjaFBhcnQoKTtcbiAgICAgICAgICBiYXRjaFBhcnQuYmVnaW4oc3R5bGUsIGluZGV4MiwgYXR0cmliSW5kZXgpO1xuICAgICAgICAgIHRoaXMuYmF0Y2hlcy5wdXNoKGJhdGNoUGFydCk7XG4gICAgICAgICAgY3VycmVudFN0eWxlID0gc3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGRVdnModGhpcy5wb2ludHMsIHV2cywgc3R5bGUudGV4dHVyZSwgYXR0cmliSW5kZXgsIHNpemUsIHN0eWxlLm1hdHJpeCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5pbmRpY2VzLmxlbmd0aDtcbiAgICBjb25zdCBhdHRyaWIgPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuICAgIGlmIChiYXRjaFBhcnQpIHtcbiAgICAgIGJhdGNoUGFydC5lbmQoaW5kZXgsIGF0dHJpYik7XG4gICAgfVxuICAgIGlmICh0aGlzLmJhdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5lZWQzMiA9IGF0dHJpYiA+IDY1NTM1O1xuICAgIGlmICh0aGlzLmluZGljZXNVaW50MTYgJiYgdGhpcy5pbmRpY2VzLmxlbmd0aCA9PT0gdGhpcy5pbmRpY2VzVWludDE2Lmxlbmd0aCAmJiBuZWVkMzIgPT09IHRoaXMuaW5kaWNlc1VpbnQxNi5CWVRFU19QRVJfRUxFTUVOVCA+IDIpIHtcbiAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNi5zZXQodGhpcy5pbmRpY2VzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbmRpY2VzVWludDE2ID0gbmVlZDMyID8gbmV3IFVpbnQzMkFycmF5KHRoaXMuaW5kaWNlcykgOiBuZXcgVWludDE2QXJyYXkodGhpcy5pbmRpY2VzKTtcbiAgICB9XG4gICAgdGhpcy5iYXRjaGFibGUgPSB0aGlzLmlzQmF0Y2hhYmxlKCk7XG4gICAgaWYgKHRoaXMuYmF0Y2hhYmxlKSB7XG4gICAgICB0aGlzLnBhY2tCYXRjaGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYnVpbGREcmF3Q2FsbHMoKTtcbiAgICB9XG4gIH1cbiAgX2NvbXBhcmVTdHlsZXMoc3R5bGVBLCBzdHlsZUIpIHtcbiAgICBpZiAoIXN0eWxlQSB8fCAhc3R5bGVCKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChzdHlsZUEudGV4dHVyZS5iYXNlVGV4dHVyZSAhPT0gc3R5bGVCLnRleHR1cmUuYmFzZVRleHR1cmUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHN0eWxlQS5jb2xvciArIHN0eWxlQS5hbHBoYSAhPT0gc3R5bGVCLmNvbG9yICsgc3R5bGVCLmFscGhhKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghIXN0eWxlQS5uYXRpdmUgIT09ICEhc3R5bGVCLm5hdGl2ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YWxpZGF0ZUJhdGNoaW5nKCkge1xuICAgIGlmICh0aGlzLmRpcnR5ID09PSB0aGlzLmNhY2hlRGlydHkgfHwgIXRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgY29uc3QgZmlsbCA9IGRhdGEuZmlsbFN0eWxlO1xuICAgICAgY29uc3QgbGluZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgaWYgKGZpbGwgJiYgIWZpbGwudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKGxpbmUgJiYgIWxpbmUudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBwYWNrQmF0Y2hlcygpIHtcbiAgICB0aGlzLmJhdGNoRGlydHkrKztcbiAgICB0aGlzLnV2c0Zsb2F0MzIgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudXZzKTtcbiAgICBjb25zdCBiYXRjaGVzID0gdGhpcy5iYXRjaGVzO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gYmF0Y2hlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYmF0Y2guc2l6ZTsgaisrKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gYmF0Y2guc3RhcnQgKyBqO1xuICAgICAgICB0aGlzLmluZGljZXNVaW50MTZbaW5kZXhdID0gdGhpcy5pbmRpY2VzVWludDE2W2luZGV4XSAtIGJhdGNoLmF0dHJpYlN0YXJ0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpc0JhdGNoYWJsZSgpIHtcbiAgICBpZiAodGhpcy5wb2ludHMubGVuZ3RoID4gNjU1MzUgKiAyKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGJhdGNoZXMgPSB0aGlzLmJhdGNoZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoYmF0Y2hlc1tpXS5zdHlsZS5uYXRpdmUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wb2ludHMubGVuZ3RoIDwgX0dyYXBoaWNzR2VvbWV0cnkuQkFUQ0hBQkxFX1NJWkUgKiAyO1xuICB9XG4gIGJ1aWxkRHJhd0NhbGxzKCkge1xuICAgIGxldCBUSUNLID0gKytCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2g7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgIH1cbiAgICB0aGlzLmRyYXdDYWxscy5sZW5ndGggPSAwO1xuICAgIGNvbnN0IGNvbG9ycyA9IHRoaXMuY29sb3JzO1xuICAgIGNvbnN0IHRleHR1cmVJZHMgPSB0aGlzLnRleHR1cmVJZHM7XG4gICAgbGV0IGN1cnJlbnRHcm91cCA9IERSQVdfQ0FMTF9QT09MLnBvcCgpO1xuICAgIGlmICghY3VycmVudEdyb3VwKSB7XG4gICAgICBjdXJyZW50R3JvdXAgPSBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuICAgICAgY3VycmVudEdyb3VwLnRleEFycmF5ID0gbmV3IEJhdGNoVGV4dHVyZUFycmF5KCk7XG4gICAgfVxuICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheS5jb3VudCA9IDA7XG4gICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gMDtcbiAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgY3VycmVudEdyb3VwLnR5cGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICBsZXQgdGV4dHVyZUNvdW50ID0gMDtcbiAgICBsZXQgY3VycmVudFRleHR1cmUgPSBudWxsO1xuICAgIGxldCB0ZXh0dXJlSWQgPSAwO1xuICAgIGxldCBuYXRpdmUgPSBmYWxzZTtcbiAgICBsZXQgZHJhd01vZGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIHRoaXMuZHJhd0NhbGxzLnB1c2goY3VycmVudEdyb3VwKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZGF0YSA9IHRoaXMuYmF0Y2hlc1tpXTtcbiAgICAgIGNvbnN0IG1heFRleHR1cmVzID0gODtcbiAgICAgIGNvbnN0IHN0eWxlID0gZGF0YS5zdHlsZTtcbiAgICAgIGNvbnN0IG5leHRUZXh0dXJlID0gc3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgIGlmIChuYXRpdmUgIT09ICEhc3R5bGUubmF0aXZlKSB7XG4gICAgICAgIG5hdGl2ZSA9ICEhc3R5bGUubmF0aXZlO1xuICAgICAgICBkcmF3TW9kZSA9IG5hdGl2ZSA/IERSQVdfTU9ERVMuTElORVMgOiBEUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgY3VycmVudFRleHR1cmUgPSBudWxsO1xuICAgICAgICB0ZXh0dXJlQ291bnQgPSBtYXhUZXh0dXJlcztcbiAgICAgICAgVElDSysrO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSkge1xuICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuICAgICAgICBpZiAobmV4dFRleHR1cmUuX2JhdGNoRW5hYmxlZCAhPT0gVElDSykge1xuICAgICAgICAgIGlmICh0ZXh0dXJlQ291bnQgPT09IG1heFRleHR1cmVzKSB7XG4gICAgICAgICAgICBUSUNLKys7XG4gICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRHcm91cC5zaXplID4gMCkge1xuICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBEUkFXX0NBTExfUE9PTC5wb3AoKTtcbiAgICAgICAgICAgICAgaWYgKCFjdXJyZW50R3JvdXApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheSA9IG5ldyBCYXRjaFRleHR1cmVBcnJheSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzLnB1c2goY3VycmVudEdyb3VwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IGluZGV4O1xuICAgICAgICAgICAgY3VycmVudEdyb3VwLnNpemUgPSAwO1xuICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleEFycmF5LmNvdW50ID0gMDtcbiAgICAgICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gZHJhd01vZGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHRUZXh0dXJlLnRvdWNoZWQgPSAxO1xuICAgICAgICAgIG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgPSBUSUNLO1xuICAgICAgICAgIG5leHRUZXh0dXJlLl9iYXRjaExvY2F0aW9uID0gdGV4dHVyZUNvdW50O1xuICAgICAgICAgIG5leHRUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgY3VycmVudEdyb3VwLnRleEFycmF5LmVsZW1lbnRzW2N1cnJlbnRHcm91cC50ZXhBcnJheS5jb3VudCsrXSA9IG5leHRUZXh0dXJlO1xuICAgICAgICAgIHRleHR1cmVDb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdXJyZW50R3JvdXAuc2l6ZSArPSBkYXRhLnNpemU7XG4gICAgICBpbmRleCArPSBkYXRhLnNpemU7XG4gICAgICB0ZXh0dXJlSWQgPSBuZXh0VGV4dHVyZS5fYmF0Y2hMb2NhdGlvbjtcbiAgICAgIHRoaXMuYWRkQ29sb3JzKGNvbG9ycywgc3R5bGUuY29sb3IsIHN0eWxlLmFscGhhLCBkYXRhLmF0dHJpYlNpemUsIGRhdGEuYXR0cmliU3RhcnQpO1xuICAgICAgdGhpcy5hZGRUZXh0dXJlSWRzKHRleHR1cmVJZHMsIHRleHR1cmVJZCwgZGF0YS5hdHRyaWJTaXplLCBkYXRhLmF0dHJpYlN0YXJ0KTtcbiAgICB9XG4gICAgQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gVElDSztcbiAgICB0aGlzLnBhY2tBdHRyaWJ1dGVzKCk7XG4gIH1cbiAgcGFja0F0dHJpYnV0ZXMoKSB7XG4gICAgY29uc3QgdmVydHMgPSB0aGlzLnBvaW50cztcbiAgICBjb25zdCB1dnMgPSB0aGlzLnV2cztcbiAgICBjb25zdCBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICBjb25zdCB0ZXh0dXJlSWRzID0gdGhpcy50ZXh0dXJlSWRzO1xuICAgIGNvbnN0IGdsUG9pbnRzID0gbmV3IEFycmF5QnVmZmVyKHZlcnRzLmxlbmd0aCAqIDMgKiA0KTtcbiAgICBjb25zdCBmMzIgPSBuZXcgRmxvYXQzMkFycmF5KGdsUG9pbnRzKTtcbiAgICBjb25zdCB1MzIgPSBuZXcgVWludDMyQXJyYXkoZ2xQb2ludHMpO1xuICAgIGxldCBwID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgZjMyW3ArK10gPSB2ZXJ0c1tpICogMl07XG4gICAgICBmMzJbcCsrXSA9IHZlcnRzW2kgKiAyICsgMV07XG4gICAgICBmMzJbcCsrXSA9IHV2c1tpICogMl07XG4gICAgICBmMzJbcCsrXSA9IHV2c1tpICogMiArIDFdO1xuICAgICAgdTMyW3ArK10gPSBjb2xvcnNbaV07XG4gICAgICBmMzJbcCsrXSA9IHRleHR1cmVJZHNbaV07XG4gICAgfVxuICAgIHRoaXMuX2J1ZmZlci51cGRhdGUoZ2xQb2ludHMpO1xuICAgIHRoaXMuX2luZGV4QnVmZmVyLnVwZGF0ZSh0aGlzLmluZGljZXNVaW50MTYpO1xuICB9XG4gIHByb2Nlc3NGaWxsKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5ob2xlcy5sZW5ndGgpIHtcbiAgICAgIGJ1aWxkUG9seS50cmlhbmd1bGF0ZShkYXRhLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY29tbWFuZCA9IEZJTExfQ09NTUFORFNbZGF0YS50eXBlXTtcbiAgICAgIGNvbW1hbmQudHJpYW5ndWxhdGUoZGF0YSwgdGhpcyk7XG4gICAgfVxuICB9XG4gIHByb2Nlc3NMaW5lKGRhdGEpIHtcbiAgICBidWlsZExpbmUoZGF0YSwgdGhpcyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBidWlsZExpbmUoZGF0YS5ob2xlc1tpXSwgdGhpcyk7XG4gICAgfVxuICB9XG4gIHByb2Nlc3NIb2xlcyhob2xlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9sZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGhvbGUgPSBob2xlc1tpXTtcbiAgICAgIGNvbnN0IGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2hvbGUudHlwZV07XG4gICAgICBjb21tYW5kLmJ1aWxkKGhvbGUpO1xuICAgICAgaWYgKGhvbGUubWF0cml4KSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtUG9pbnRzKGhvbGUucG9pbnRzLCBob2xlLm1hdHJpeCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNhbGN1bGF0ZUJvdW5kcygpIHtcbiAgICBjb25zdCBib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gICAgYm91bmRzLmNsZWFyKCk7XG4gICAgYm91bmRzLmFkZFZlcnRleERhdGEodGhpcy5wb2ludHMsIDAsIHRoaXMucG9pbnRzLmxlbmd0aCk7XG4gICAgYm91bmRzLnBhZCh0aGlzLmJvdW5kc1BhZGRpbmcsIHRoaXMuYm91bmRzUGFkZGluZyk7XG4gIH1cbiAgdHJhbnNmb3JtUG9pbnRzKHBvaW50cywgbWF0cml4KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoIC8gMjsgaSsrKSB7XG4gICAgICBjb25zdCB4ID0gcG9pbnRzW2kgKiAyXTtcbiAgICAgIGNvbnN0IHkgPSBwb2ludHNbaSAqIDIgKyAxXTtcbiAgICAgIHBvaW50c1tpICogMl0gPSBtYXRyaXguYSAqIHggKyBtYXRyaXguYyAqIHkgKyBtYXRyaXgudHg7XG4gICAgICBwb2ludHNbaSAqIDIgKyAxXSA9IG1hdHJpeC5iICogeCArIG1hdHJpeC5kICogeSArIG1hdHJpeC50eTtcbiAgICB9XG4gIH1cbiAgYWRkQ29sb3JzKGNvbG9ycywgY29sb3IsIGFscGhhLCBzaXplLCBvZmZzZXQgPSAwKSB7XG4gICAgY29uc3QgYmdyID0gQ29sb3Iuc2hhcmVkLnNldFZhbHVlKGNvbG9yKS50b0xpdHRsZUVuZGlhbk51bWJlcigpO1xuICAgIGNvbnN0IHJlc3VsdCA9IENvbG9yLnNoYXJlZC5zZXRWYWx1ZShiZ3IpLnRvUHJlbXVsdGlwbGllZChhbHBoYSk7XG4gICAgY29sb3JzLmxlbmd0aCA9IE1hdGgubWF4KGNvbG9ycy5sZW5ndGgsIG9mZnNldCArIHNpemUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICBjb2xvcnNbb2Zmc2V0ICsgaV0gPSByZXN1bHQ7XG4gICAgfVxuICB9XG4gIGFkZFRleHR1cmVJZHModGV4dHVyZUlkcywgaWQsIHNpemUsIG9mZnNldCA9IDApIHtcbiAgICB0ZXh0dXJlSWRzLmxlbmd0aCA9IE1hdGgubWF4KHRleHR1cmVJZHMubGVuZ3RoLCBvZmZzZXQgKyBzaXplKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgdGV4dHVyZUlkc1tvZmZzZXQgKyBpXSA9IGlkO1xuICAgIH1cbiAgfVxuICBhZGRVdnModmVydHMsIHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUsIG1hdHJpeCA9IG51bGwpIHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGNvbnN0IHV2c1N0YXJ0ID0gdXZzLmxlbmd0aDtcbiAgICBjb25zdCBmcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgd2hpbGUgKGluZGV4IDwgc2l6ZSkge1xuICAgICAgbGV0IHggPSB2ZXJ0c1soc3RhcnQgKyBpbmRleCkgKiAyXTtcbiAgICAgIGxldCB5ID0gdmVydHNbKHN0YXJ0ICsgaW5kZXgpICogMiArIDFdO1xuICAgICAgaWYgKG1hdHJpeCkge1xuICAgICAgICBjb25zdCBueCA9IG1hdHJpeC5hICogeCArIG1hdHJpeC5jICogeSArIG1hdHJpeC50eDtcbiAgICAgICAgeSA9IG1hdHJpeC5iICogeCArIG1hdHJpeC5kICogeSArIG1hdHJpeC50eTtcbiAgICAgICAgeCA9IG54O1xuICAgICAgfVxuICAgICAgaW5kZXgrKztcbiAgICAgIHV2cy5wdXNoKHggLyBmcmFtZS53aWR0aCwgeSAvIGZyYW1lLmhlaWdodCk7XG4gICAgfVxuICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICBpZiAoZnJhbWUud2lkdGggPCBiYXNlVGV4dHVyZS53aWR0aCB8fCBmcmFtZS5oZWlnaHQgPCBiYXNlVGV4dHVyZS5oZWlnaHQpIHtcbiAgICAgIHRoaXMuYWRqdXN0VXZzKHV2cywgdGV4dHVyZSwgdXZzU3RhcnQsIHNpemUpO1xuICAgIH1cbiAgfVxuICBhZGp1c3RVdnModXZzLCB0ZXh0dXJlLCBzdGFydCwgc2l6ZSkge1xuICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICBjb25zdCBlcHMgPSAxZS02O1xuICAgIGNvbnN0IGZpbmlzaCA9IHN0YXJ0ICsgc2l6ZSAqIDI7XG4gICAgY29uc3QgZnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuICAgIGNvbnN0IHNjYWxlWCA9IGZyYW1lLndpZHRoIC8gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgY29uc3Qgc2NhbGVZID0gZnJhbWUuaGVpZ2h0IC8gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgIGxldCBvZmZzZXRYID0gZnJhbWUueCAvIGZyYW1lLndpZHRoO1xuICAgIGxldCBvZmZzZXRZID0gZnJhbWUueSAvIGZyYW1lLmhlaWdodDtcbiAgICBsZXQgbWluWCA9IE1hdGguZmxvb3IodXZzW3N0YXJ0XSArIGVwcyk7XG4gICAgbGV0IG1pblkgPSBNYXRoLmZsb29yKHV2c1tzdGFydCArIDFdICsgZXBzKTtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQgKyAyOyBpIDwgZmluaXNoOyBpICs9IDIpIHtcbiAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBNYXRoLmZsb29yKHV2c1tpXSArIGVwcykpO1xuICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIE1hdGguZmxvb3IodXZzW2kgKyAxXSArIGVwcykpO1xuICAgIH1cbiAgICBvZmZzZXRYIC09IG1pblg7XG4gICAgb2Zmc2V0WSAtPSBtaW5ZO1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGZpbmlzaDsgaSArPSAyKSB7XG4gICAgICB1dnNbaV0gPSAodXZzW2ldICsgb2Zmc2V0WCkgKiBzY2FsZVg7XG4gICAgICB1dnNbaSArIDFdID0gKHV2c1tpICsgMV0gKyBvZmZzZXRZKSAqIHNjYWxlWTtcbiAgICB9XG4gIH1cbn07XG5sZXQgR3JhcGhpY3NHZW9tZXRyeSA9IF9HcmFwaGljc0dlb21ldHJ5O1xuR3JhcGhpY3NHZW9tZXRyeS5CQVRDSEFCTEVfU0laRSA9IDEwMDtcblxuZXhwb3J0IHsgR3JhcGhpY3NHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY3NHZW9tZXRyeS5tanMubWFwXG4iLCJ2YXIgTElORV9KT0lOID0gLyogQF9fUFVSRV9fICovICgoTElORV9KT0lOMikgPT4ge1xuICBMSU5FX0pPSU4yW1wiTUlURVJcIl0gPSBcIm1pdGVyXCI7XG4gIExJTkVfSk9JTjJbXCJCRVZFTFwiXSA9IFwiYmV2ZWxcIjtcbiAgTElORV9KT0lOMltcIlJPVU5EXCJdID0gXCJyb3VuZFwiO1xuICByZXR1cm4gTElORV9KT0lOMjtcbn0pKExJTkVfSk9JTiB8fCB7fSk7XG52YXIgTElORV9DQVAgPSAvKiBAX19QVVJFX18gKi8gKChMSU5FX0NBUDIpID0+IHtcbiAgTElORV9DQVAyW1wiQlVUVFwiXSA9IFwiYnV0dFwiO1xuICBMSU5FX0NBUDJbXCJST1VORFwiXSA9IFwicm91bmRcIjtcbiAgTElORV9DQVAyW1wiU1FVQVJFXCJdID0gXCJzcXVhcmVcIjtcbiAgcmV0dXJuIExJTkVfQ0FQMjtcbn0pKExJTkVfQ0FQIHx8IHt9KTtcbmNvbnN0IGN1cnZlcyA9IHtcbiAgYWRhcHRpdmU6IHRydWUsXG4gIG1heExlbmd0aDogMTAsXG4gIG1pblNlZ21lbnRzOiA4LFxuICBtYXhTZWdtZW50czogMjA0OCxcbiAgZXBzaWxvbjogMWUtNCxcbiAgX3NlZ21lbnRzQ291bnQobGVuZ3RoLCBkZWZhdWx0U2VnbWVudHMgPSAyMCkge1xuICAgIGlmICghdGhpcy5hZGFwdGl2ZSB8fCAhbGVuZ3RoIHx8IGlzTmFOKGxlbmd0aCkpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0U2VnbWVudHM7XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBNYXRoLmNlaWwobGVuZ3RoIC8gdGhpcy5tYXhMZW5ndGgpO1xuICAgIGlmIChyZXN1bHQgPCB0aGlzLm1pblNlZ21lbnRzKSB7XG4gICAgICByZXN1bHQgPSB0aGlzLm1pblNlZ21lbnRzO1xuICAgIH0gZWxzZSBpZiAocmVzdWx0ID4gdGhpcy5tYXhTZWdtZW50cykge1xuICAgICAgcmVzdWx0ID0gdGhpcy5tYXhTZWdtZW50cztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufTtcbmNvbnN0IEdSQVBISUNTX0NVUlZFUyA9IGN1cnZlcztcblxuZXhwb3J0IHsgR1JBUEhJQ1NfQ1VSVkVTLCBMSU5FX0NBUCwgTElORV9KT0lOLCBjdXJ2ZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEZJTExfQ09NTUFORFMsIEJBVENIX1BPT0wsIERSQVdfQ0FMTF9QT09MIH0gZnJvbSAnLi91dGlscy9pbmRleC5tanMnO1xuZXhwb3J0IHsgR1JBUEhJQ1NfQ1VSVkVTLCBMSU5FX0NBUCwgTElORV9KT0lOLCBjdXJ2ZXMgfSBmcm9tICcuL2NvbnN0Lm1qcyc7XG5leHBvcnQgeyBHcmFwaGljcyB9IGZyb20gJy4vR3JhcGhpY3MubWpzJztcbmV4cG9ydCB7IEdyYXBoaWNzRGF0YSB9IGZyb20gJy4vR3JhcGhpY3NEYXRhLm1qcyc7XG5leHBvcnQgeyBHcmFwaGljc0dlb21ldHJ5IH0gZnJvbSAnLi9HcmFwaGljc0dlb21ldHJ5Lm1qcyc7XG5leHBvcnQgeyBGaWxsU3R5bGUgfSBmcm9tICcuL3N0eWxlcy9GaWxsU3R5bGUubWpzJztcbmV4cG9ydCB7IExpbmVTdHlsZSB9IGZyb20gJy4vc3R5bGVzL0xpbmVTdHlsZS5tanMnO1xuaW1wb3J0IHsgYnVpbGRQb2x5IH0gZnJvbSAnLi91dGlscy9idWlsZFBvbHkubWpzJztcbmltcG9ydCB7IGJ1aWxkQ2lyY2xlIH0gZnJvbSAnLi91dGlscy9idWlsZENpcmNsZS5tanMnO1xuaW1wb3J0IHsgYnVpbGRSZWN0YW5nbGUgfSBmcm9tICcuL3V0aWxzL2J1aWxkUmVjdGFuZ2xlLm1qcyc7XG5pbXBvcnQgeyBidWlsZFJvdW5kZWRSZWN0YW5nbGUgfSBmcm9tICcuL3V0aWxzL2J1aWxkUm91bmRlZFJlY3RhbmdsZS5tanMnO1xuaW1wb3J0IHsgYnVpbGRMaW5lIH0gZnJvbSAnLi91dGlscy9idWlsZExpbmUubWpzJztcbmltcG9ydCB7IEFyY1V0aWxzIH0gZnJvbSAnLi91dGlscy9BcmNVdGlscy5tanMnO1xuaW1wb3J0IHsgQmV6aWVyVXRpbHMgfSBmcm9tICcuL3V0aWxzL0JlemllclV0aWxzLm1qcyc7XG5pbXBvcnQgeyBRdWFkcmF0aWNVdGlscyB9IGZyb20gJy4vdXRpbHMvUXVhZHJhdGljVXRpbHMubWpzJztcbmltcG9ydCB7IEJhdGNoUGFydCB9IGZyb20gJy4vdXRpbHMvQmF0Y2hQYXJ0Lm1qcyc7XG5cbmNvbnN0IGdyYXBoaWNzVXRpbHMgPSB7XG4gIGJ1aWxkUG9seSxcbiAgYnVpbGRDaXJjbGUsXG4gIGJ1aWxkUmVjdGFuZ2xlLFxuICBidWlsZFJvdW5kZWRSZWN0YW5nbGUsXG4gIGJ1aWxkTGluZSxcbiAgQXJjVXRpbHMsXG4gIEJlemllclV0aWxzLFxuICBRdWFkcmF0aWNVdGlscyxcbiAgQmF0Y2hQYXJ0LFxuICBGSUxMX0NPTU1BTkRTLFxuICBCQVRDSF9QT09MLFxuICBEUkFXX0NBTExfUE9PTFxufTtcblxuZXhwb3J0IHsgZ3JhcGhpY3NVdGlscyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jbGFzcyBGaWxsU3R5bGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvbG9yID0gMTY3NzcyMTU7XG4gICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgdGhpcy50ZXh0dXJlID0gVGV4dHVyZS5XSElURTtcbiAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG4gICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG4gIGNsb25lKCkge1xuICAgIGNvbnN0IG9iaiA9IG5ldyBGaWxsU3R5bGUoKTtcbiAgICBvYmouY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgb2JqLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgb2JqLm1hdHJpeCA9IHRoaXMubWF0cml4O1xuICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5jb2xvciA9IDE2Nzc3MjE1O1xuICAgIHRoaXMuYWxwaGEgPSAxO1xuICAgIHRoaXMudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG4gICAgdGhpcy5tYXRyaXggPSBudWxsO1xuICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgRmlsbFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWxsU3R5bGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgTElORV9DQVAsIExJTkVfSk9JTiB9IGZyb20gJy4uL2NvbnN0Lm1qcyc7XG5pbXBvcnQgeyBGaWxsU3R5bGUgfSBmcm9tICcuL0ZpbGxTdHlsZS5tanMnO1xuXG5jbGFzcyBMaW5lU3R5bGUgZXh0ZW5kcyBGaWxsU3R5bGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMud2lkdGggPSAwO1xuICAgIHRoaXMuYWxpZ25tZW50ID0gMC41O1xuICAgIHRoaXMubmF0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5jYXAgPSBMSU5FX0NBUC5CVVRUO1xuICAgIHRoaXMuam9pbiA9IExJTkVfSk9JTi5NSVRFUjtcbiAgICB0aGlzLm1pdGVyTGltaXQgPSAxMDtcbiAgfVxuICBjbG9uZSgpIHtcbiAgICBjb25zdCBvYmogPSBuZXcgTGluZVN0eWxlKCk7XG4gICAgb2JqLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICBvYmouYWxwaGEgPSB0aGlzLmFscGhhO1xuICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgIG9iai5tYXRyaXggPSB0aGlzLm1hdHJpeDtcbiAgICBvYmoudmlzaWJsZSA9IHRoaXMudmlzaWJsZTtcbiAgICBvYmoud2lkdGggPSB0aGlzLndpZHRoO1xuICAgIG9iai5hbGlnbm1lbnQgPSB0aGlzLmFsaWdubWVudDtcbiAgICBvYmoubmF0aXZlID0gdGhpcy5uYXRpdmU7XG4gICAgb2JqLmNhcCA9IHRoaXMuY2FwO1xuICAgIG9iai5qb2luID0gdGhpcy5qb2luO1xuICAgIG9iai5taXRlckxpbWl0ID0gdGhpcy5taXRlckxpbWl0O1xuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgc3VwZXIucmVzZXQoKTtcbiAgICB0aGlzLmNvbG9yID0gMDtcbiAgICB0aGlzLmFsaWdubWVudCA9IDAuNTtcbiAgICB0aGlzLndpZHRoID0gMDtcbiAgICB0aGlzLm5hdGl2ZSA9IGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCB7IExpbmVTdHlsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGluZVN0eWxlLm1qcy5tYXBcbiIsImltcG9ydCB7IFBJXzIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IGN1cnZlcyB9IGZyb20gJy4uL2NvbnN0Lm1qcyc7XG5cbmNsYXNzIEFyY1V0aWxzIHtcbiAgc3RhdGljIGN1cnZlVG8oeDEsIHkxLCB4MiwgeTIsIHJhZGl1cywgcG9pbnRzKSB7XG4gICAgY29uc3QgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgIGNvbnN0IGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBhMSA9IGZyb21ZIC0geTE7XG4gICAgY29uc3QgYjEgPSBmcm9tWCAtIHgxO1xuICAgIGNvbnN0IGEyID0geTIgLSB5MTtcbiAgICBjb25zdCBiMiA9IHgyIC0geDE7XG4gICAgY29uc3QgbW0gPSBNYXRoLmFicyhhMSAqIGIyIC0gYjEgKiBhMik7XG4gICAgaWYgKG1tIDwgMWUtOCB8fCByYWRpdXMgPT09IDApIHtcbiAgICAgIGlmIChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdICE9PSB4MSB8fCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdICE9PSB5MSkge1xuICAgICAgICBwb2ludHMucHVzaCh4MSwgeTEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGRkID0gYTEgKiBhMSArIGIxICogYjE7XG4gICAgY29uc3QgY2MgPSBhMiAqIGEyICsgYjIgKiBiMjtcbiAgICBjb25zdCB0dCA9IGExICogYTIgKyBiMSAqIGIyO1xuICAgIGNvbnN0IGsxID0gcmFkaXVzICogTWF0aC5zcXJ0KGRkKSAvIG1tO1xuICAgIGNvbnN0IGsyID0gcmFkaXVzICogTWF0aC5zcXJ0KGNjKSAvIG1tO1xuICAgIGNvbnN0IGoxID0gazEgKiB0dCAvIGRkO1xuICAgIGNvbnN0IGoyID0gazIgKiB0dCAvIGNjO1xuICAgIGNvbnN0IGN4ID0gazEgKiBiMiArIGsyICogYjE7XG4gICAgY29uc3QgY3kgPSBrMSAqIGEyICsgazIgKiBhMTtcbiAgICBjb25zdCBweCA9IGIxICogKGsyICsgajEpO1xuICAgIGNvbnN0IHB5ID0gYTEgKiAoazIgKyBqMSk7XG4gICAgY29uc3QgcXggPSBiMiAqIChrMSArIGoyKTtcbiAgICBjb25zdCBxeSA9IGEyICogKGsxICsgajIpO1xuICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSBNYXRoLmF0YW4yKHB5IC0gY3ksIHB4IC0gY3gpO1xuICAgIGNvbnN0IGVuZEFuZ2xlID0gTWF0aC5hdGFuMihxeSAtIGN5LCBxeCAtIGN4KTtcbiAgICByZXR1cm4ge1xuICAgICAgY3g6IGN4ICsgeDEsXG4gICAgICBjeTogY3kgKyB5MSxcbiAgICAgIHJhZGl1cyxcbiAgICAgIHN0YXJ0QW5nbGUsXG4gICAgICBlbmRBbmdsZSxcbiAgICAgIGFudGljbG9ja3dpc2U6IGIxICogYTIgPiBiMiAqIGExXG4gICAgfTtcbiAgfVxuICBzdGF0aWMgYXJjKF9zdGFydFgsIF9zdGFydFksIGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgX2FudGljbG9ja3dpc2UsIHBvaW50cykge1xuICAgIGNvbnN0IHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuICAgIGNvbnN0IG4gPSBjdXJ2ZXMuX3NlZ21lbnRzQ291bnQoTWF0aC5hYnMoc3dlZXApICogcmFkaXVzLCBNYXRoLmNlaWwoTWF0aC5hYnMoc3dlZXApIC8gUElfMikgKiA0MCk7XG4gICAgY29uc3QgdGhldGEgPSBzd2VlcCAvIChuICogMik7XG4gICAgY29uc3QgdGhldGEyID0gdGhldGEgKiAyO1xuICAgIGNvbnN0IGNUaGV0YSA9IE1hdGguY29zKHRoZXRhKTtcbiAgICBjb25zdCBzVGhldGEgPSBNYXRoLnNpbih0aGV0YSk7XG4gICAgY29uc3Qgc2VnTWludXMgPSBuIC0gMTtcbiAgICBjb25zdCByZW1haW5kZXIgPSBzZWdNaW51cyAlIDEgLyBzZWdNaW51cztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBzZWdNaW51czsgKytpKSB7XG4gICAgICBjb25zdCByZWFsID0gaSArIHJlbWFpbmRlciAqIGk7XG4gICAgICBjb25zdCBhbmdsZSA9IHRoZXRhICsgc3RhcnRBbmdsZSArIHRoZXRhMiAqIHJlYWw7XG4gICAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgY29uc3QgcyA9IC1NYXRoLnNpbihhbmdsZSk7XG4gICAgICBwb2ludHMucHVzaCgoY1RoZXRhICogYyArIHNUaGV0YSAqIHMpICogcmFkaXVzICsgY3gsIChjVGhldGEgKiAtcyArIHNUaGV0YSAqIGMpICogcmFkaXVzICsgY3kpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBBcmNVdGlscyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXJjVXRpbHMubWpzLm1hcFxuIiwiY2xhc3MgQmF0Y2hQYXJ0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG4gIGJlZ2luKHN0eWxlLCBzdGFydEluZGV4LCBhdHRyaWJTdGFydCkge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0SW5kZXg7XG4gICAgdGhpcy5hdHRyaWJTdGFydCA9IGF0dHJpYlN0YXJ0O1xuICB9XG4gIGVuZChlbmRJbmRleCwgZW5kQXR0cmliKSB7XG4gICAgdGhpcy5hdHRyaWJTaXplID0gZW5kQXR0cmliIC0gdGhpcy5hdHRyaWJTdGFydDtcbiAgICB0aGlzLnNpemUgPSBlbmRJbmRleCAtIHRoaXMuc3RhcnQ7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5zdHlsZSA9IG51bGw7XG4gICAgdGhpcy5zaXplID0gMDtcbiAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICB0aGlzLmF0dHJpYlN0YXJ0ID0gMDtcbiAgICB0aGlzLmF0dHJpYlNpemUgPSAwO1xuICB9XG59XG5cbmV4cG9ydCB7IEJhdGNoUGFydCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hQYXJ0Lm1qcy5tYXBcbiIsImltcG9ydCB7IGN1cnZlcyB9IGZyb20gJy4uL2NvbnN0Lm1qcyc7XG5cbmNsYXNzIEJlemllclV0aWxzIHtcbiAgc3RhdGljIGN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSB7XG4gICAgY29uc3QgbiA9IDEwO1xuICAgIGxldCByZXN1bHQgPSAwO1xuICAgIGxldCB0ID0gMDtcbiAgICBsZXQgdDIgPSAwO1xuICAgIGxldCB0MyA9IDA7XG4gICAgbGV0IG50ID0gMDtcbiAgICBsZXQgbnQyID0gMDtcbiAgICBsZXQgbnQzID0gMDtcbiAgICBsZXQgeCA9IDA7XG4gICAgbGV0IHkgPSAwO1xuICAgIGxldCBkeCA9IDA7XG4gICAgbGV0IGR5ID0gMDtcbiAgICBsZXQgcHJldlggPSBmcm9tWDtcbiAgICBsZXQgcHJldlkgPSBmcm9tWTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBuOyArK2kpIHtcbiAgICAgIHQgPSBpIC8gbjtcbiAgICAgIHQyID0gdCAqIHQ7XG4gICAgICB0MyA9IHQyICogdDtcbiAgICAgIG50ID0gMSAtIHQ7XG4gICAgICBudDIgPSBudCAqIG50O1xuICAgICAgbnQzID0gbnQyICogbnQ7XG4gICAgICB4ID0gbnQzICogZnJvbVggKyAzICogbnQyICogdCAqIGNwWCArIDMgKiBudCAqIHQyICogY3BYMiArIHQzICogdG9YO1xuICAgICAgeSA9IG50MyAqIGZyb21ZICsgMyAqIG50MiAqIHQgKiBjcFkgKyAzICogbnQgKiB0MiAqIGNwWTIgKyB0MyAqIHRvWTtcbiAgICAgIGR4ID0gcHJldlggLSB4O1xuICAgICAgZHkgPSBwcmV2WSAtIHk7XG4gICAgICBwcmV2WCA9IHg7XG4gICAgICBwcmV2WSA9IHk7XG4gICAgICByZXN1bHQgKz0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBzdGF0aWMgY3VydmVUbyhjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1ksIHBvaW50cykge1xuICAgIGNvbnN0IGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICBjb25zdCBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgcG9pbnRzLmxlbmd0aCAtPSAyO1xuICAgIGNvbnN0IG4gPSBjdXJ2ZXMuX3NlZ21lbnRzQ291bnQoQmV6aWVyVXRpbHMuY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpKTtcbiAgICBsZXQgZHQgPSAwO1xuICAgIGxldCBkdDIgPSAwO1xuICAgIGxldCBkdDMgPSAwO1xuICAgIGxldCB0MiA9IDA7XG4gICAgbGV0IHQzID0gMDtcbiAgICBwb2ludHMucHVzaChmcm9tWCwgZnJvbVkpO1xuICAgIGZvciAobGV0IGkgPSAxLCBqID0gMDsgaSA8PSBuOyArK2kpIHtcbiAgICAgIGogPSBpIC8gbjtcbiAgICAgIGR0ID0gMSAtIGo7XG4gICAgICBkdDIgPSBkdCAqIGR0O1xuICAgICAgZHQzID0gZHQyICogZHQ7XG4gICAgICB0MiA9IGogKiBqO1xuICAgICAgdDMgPSB0MiAqIGo7XG4gICAgICBwb2ludHMucHVzaChkdDMgKiBmcm9tWCArIDMgKiBkdDIgKiBqICogY3BYICsgMyAqIGR0ICogdDIgKiBjcFgyICsgdDMgKiB0b1gsIGR0MyAqIGZyb21ZICsgMyAqIGR0MiAqIGogKiBjcFkgKyAzICogZHQgKiB0MiAqIGNwWTIgKyB0MyAqIHRvWSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IEJlemllclV0aWxzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CZXppZXJVdGlscy5tanMubWFwXG4iLCJpbXBvcnQgeyBjdXJ2ZXMgfSBmcm9tICcuLi9jb25zdC5tanMnO1xuXG5jbGFzcyBRdWFkcmF0aWNVdGlscyB7XG4gIHN0YXRpYyBjdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSkge1xuICAgIGNvbnN0IGF4ID0gZnJvbVggLSAyICogY3BYICsgdG9YO1xuICAgIGNvbnN0IGF5ID0gZnJvbVkgLSAyICogY3BZICsgdG9ZO1xuICAgIGNvbnN0IGJ4ID0gMiAqIGNwWCAtIDIgKiBmcm9tWDtcbiAgICBjb25zdCBieSA9IDIgKiBjcFkgLSAyICogZnJvbVk7XG4gICAgY29uc3QgYSA9IDQgKiAoYXggKiBheCArIGF5ICogYXkpO1xuICAgIGNvbnN0IGIgPSA0ICogKGF4ICogYnggKyBheSAqIGJ5KTtcbiAgICBjb25zdCBjID0gYnggKiBieCArIGJ5ICogYnk7XG4gICAgY29uc3QgcyA9IDIgKiBNYXRoLnNxcnQoYSArIGIgKyBjKTtcbiAgICBjb25zdCBhMiA9IE1hdGguc3FydChhKTtcbiAgICBjb25zdCBhMzIgPSAyICogYSAqIGEyO1xuICAgIGNvbnN0IGMyID0gMiAqIE1hdGguc3FydChjKTtcbiAgICBjb25zdCBiYSA9IGIgLyBhMjtcbiAgICByZXR1cm4gKGEzMiAqIHMgKyBhMiAqIGIgKiAocyAtIGMyKSArICg0ICogYyAqIGEgLSBiICogYikgKiBNYXRoLmxvZygoMiAqIGEyICsgYmEgKyBzKSAvIChiYSArIGMyKSkpIC8gKDQgKiBhMzIpO1xuICB9XG4gIHN0YXRpYyBjdXJ2ZVRvKGNwWCwgY3BZLCB0b1gsIHRvWSwgcG9pbnRzKSB7XG4gICAgY29uc3QgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgIGNvbnN0IGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBuID0gY3VydmVzLl9zZWdtZW50c0NvdW50KFF1YWRyYXRpY1V0aWxzLmN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSk7XG4gICAgbGV0IHhhID0gMDtcbiAgICBsZXQgeWEgPSAwO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IG47ICsraSkge1xuICAgICAgY29uc3QgaiA9IGkgLyBuO1xuICAgICAgeGEgPSBmcm9tWCArIChjcFggLSBmcm9tWCkgKiBqO1xuICAgICAgeWEgPSBmcm9tWSArIChjcFkgLSBmcm9tWSkgKiBqO1xuICAgICAgcG9pbnRzLnB1c2goeGEgKyAoY3BYICsgKHRvWCAtIGNwWCkgKiBqIC0geGEpICogaiwgeWEgKyAoY3BZICsgKHRvWSAtIGNwWSkgKiBqIC0geWEpICogaik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IFF1YWRyYXRpY1V0aWxzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1RdWFkcmF0aWNVdGlscy5tanMubWFwXG4iLCJpbXBvcnQgeyBTSEFQRVMgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuY29uc3QgYnVpbGRDaXJjbGUgPSB7XG4gIGJ1aWxkKGdyYXBoaWNzRGF0YSkge1xuICAgIGNvbnN0IHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgbGV0IHg7XG4gICAgbGV0IHk7XG4gICAgbGV0IGR4O1xuICAgIGxldCBkeTtcbiAgICBsZXQgcng7XG4gICAgbGV0IHJ5O1xuICAgIGlmIChncmFwaGljc0RhdGEudHlwZSA9PT0gU0hBUEVTLkNJUkMpIHtcbiAgICAgIGNvbnN0IGNpcmNsZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgIHggPSBjaXJjbGUueDtcbiAgICAgIHkgPSBjaXJjbGUueTtcbiAgICAgIHJ4ID0gcnkgPSBjaXJjbGUucmFkaXVzO1xuICAgICAgZHggPSBkeSA9IDA7XG4gICAgfSBlbHNlIGlmIChncmFwaGljc0RhdGEudHlwZSA9PT0gU0hBUEVTLkVMSVApIHtcbiAgICAgIGNvbnN0IGVsbGlwc2UgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICB4ID0gZWxsaXBzZS54O1xuICAgICAgeSA9IGVsbGlwc2UueTtcbiAgICAgIHJ4ID0gZWxsaXBzZS53aWR0aDtcbiAgICAgIHJ5ID0gZWxsaXBzZS5oZWlnaHQ7XG4gICAgICBkeCA9IGR5ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgcm91bmRlZFJlY3QgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICBjb25zdCBoYWxmV2lkdGggPSByb3VuZGVkUmVjdC53aWR0aCAvIDI7XG4gICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gcm91bmRlZFJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgIHggPSByb3VuZGVkUmVjdC54ICsgaGFsZldpZHRoO1xuICAgICAgeSA9IHJvdW5kZWRSZWN0LnkgKyBoYWxmSGVpZ2h0O1xuICAgICAgcnggPSByeSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHJvdW5kZWRSZWN0LnJhZGl1cywgTWF0aC5taW4oaGFsZldpZHRoLCBoYWxmSGVpZ2h0KSkpO1xuICAgICAgZHggPSBoYWxmV2lkdGggLSByeDtcbiAgICAgIGR5ID0gaGFsZkhlaWdodCAtIHJ5O1xuICAgIH1cbiAgICBpZiAoIShyeCA+PSAwICYmIHJ5ID49IDAgJiYgZHggPj0gMCAmJiBkeSA+PSAwKSkge1xuICAgICAgcG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG4gPSBNYXRoLmNlaWwoMi4zICogTWF0aC5zcXJ0KHJ4ICsgcnkpKTtcbiAgICBjb25zdCBtID0gbiAqIDggKyAoZHggPyA0IDogMCkgKyAoZHkgPyA0IDogMCk7XG4gICAgcG9pbnRzLmxlbmd0aCA9IG07XG4gICAgaWYgKG0gPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG4gPT09IDApIHtcbiAgICAgIHBvaW50cy5sZW5ndGggPSA4O1xuICAgICAgcG9pbnRzWzBdID0gcG9pbnRzWzZdID0geCArIGR4O1xuICAgICAgcG9pbnRzWzFdID0gcG9pbnRzWzNdID0geSArIGR5O1xuICAgICAgcG9pbnRzWzJdID0gcG9pbnRzWzRdID0geCAtIGR4O1xuICAgICAgcG9pbnRzWzVdID0gcG9pbnRzWzddID0geSAtIGR5O1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgajEgPSAwO1xuICAgIGxldCBqMiA9IG4gKiA0ICsgKGR4ID8gMiA6IDApICsgMjtcbiAgICBsZXQgajMgPSBqMjtcbiAgICBsZXQgajQgPSBtO1xuICAgIHtcbiAgICAgIGNvbnN0IHgwID0gZHggKyByeDtcbiAgICAgIGNvbnN0IHkwID0gZHk7XG4gICAgICBjb25zdCB4MSA9IHggKyB4MDtcbiAgICAgIGNvbnN0IHgyID0geCAtIHgwO1xuICAgICAgY29uc3QgeTEgPSB5ICsgeTA7XG4gICAgICBwb2ludHNbajErK10gPSB4MTtcbiAgICAgIHBvaW50c1tqMSsrXSA9IHkxO1xuICAgICAgcG9pbnRzWy0tajJdID0geTE7XG4gICAgICBwb2ludHNbLS1qMl0gPSB4MjtcbiAgICAgIGlmIChkeSkge1xuICAgICAgICBjb25zdCB5MiA9IHkgLSB5MDtcbiAgICAgICAgcG9pbnRzW2ozKytdID0geDI7XG4gICAgICAgIHBvaW50c1tqMysrXSA9IHkyO1xuICAgICAgICBwb2ludHNbLS1qNF0gPSB5MjtcbiAgICAgICAgcG9pbnRzWy0tajRdID0geDE7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbjsgaSsrKSB7XG4gICAgICBjb25zdCBhID0gTWF0aC5QSSAvIDIgKiAoaSAvIG4pO1xuICAgICAgY29uc3QgeDAgPSBkeCArIE1hdGguY29zKGEpICogcng7XG4gICAgICBjb25zdCB5MCA9IGR5ICsgTWF0aC5zaW4oYSkgKiByeTtcbiAgICAgIGNvbnN0IHgxID0geCArIHgwO1xuICAgICAgY29uc3QgeDIgPSB4IC0geDA7XG4gICAgICBjb25zdCB5MSA9IHkgKyB5MDtcbiAgICAgIGNvbnN0IHkyID0geSAtIHkwO1xuICAgICAgcG9pbnRzW2oxKytdID0geDE7XG4gICAgICBwb2ludHNbajErK10gPSB5MTtcbiAgICAgIHBvaW50c1stLWoyXSA9IHkxO1xuICAgICAgcG9pbnRzWy0tajJdID0geDI7XG4gICAgICBwb2ludHNbajMrK10gPSB4MjtcbiAgICAgIHBvaW50c1tqMysrXSA9IHkyO1xuICAgICAgcG9pbnRzWy0tajRdID0geTI7XG4gICAgICBwb2ludHNbLS1qNF0gPSB4MTtcbiAgICB9XG4gICAge1xuICAgICAgY29uc3QgeDAgPSBkeDtcbiAgICAgIGNvbnN0IHkwID0gZHkgKyByeTtcbiAgICAgIGNvbnN0IHgxID0geCArIHgwO1xuICAgICAgY29uc3QgeDIgPSB4IC0geDA7XG4gICAgICBjb25zdCB5MSA9IHkgKyB5MDtcbiAgICAgIGNvbnN0IHkyID0geSAtIHkwO1xuICAgICAgcG9pbnRzW2oxKytdID0geDE7XG4gICAgICBwb2ludHNbajErK10gPSB5MTtcbiAgICAgIHBvaW50c1stLWo0XSA9IHkyO1xuICAgICAgcG9pbnRzWy0tajRdID0geDE7XG4gICAgICBpZiAoZHgpIHtcbiAgICAgICAgcG9pbnRzW2oxKytdID0geDI7XG4gICAgICAgIHBvaW50c1tqMSsrXSA9IHkxO1xuICAgICAgICBwb2ludHNbLS1qNF0gPSB5MjtcbiAgICAgICAgcG9pbnRzWy0tajRdID0geDI7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICB0cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICBjb25zdCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgY29uc3QgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgY29uc3QgY2VudGVyID0gdmVydFBvcztcbiAgICBsZXQgeDtcbiAgICBsZXQgeTtcbiAgICBpZiAoZ3JhcGhpY3NEYXRhLnR5cGUgIT09IFNIQVBFUy5SUkVDKSB7XG4gICAgICBjb25zdCBjaXJjbGUgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICB4ID0gY2lyY2xlLng7XG4gICAgICB5ID0gY2lyY2xlLnk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJvdW5kZWRSZWN0ID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgeCA9IHJvdW5kZWRSZWN0LnggKyByb3VuZGVkUmVjdC53aWR0aCAvIDI7XG4gICAgICB5ID0gcm91bmRlZFJlY3QueSArIHJvdW5kZWRSZWN0LmhlaWdodCAvIDI7XG4gICAgfVxuICAgIGNvbnN0IG1hdHJpeCA9IGdyYXBoaWNzRGF0YS5tYXRyaXg7XG4gICAgdmVydHMucHVzaChncmFwaGljc0RhdGEubWF0cml4ID8gbWF0cml4LmEgKiB4ICsgbWF0cml4LmMgKiB5ICsgbWF0cml4LnR4IDogeCwgZ3JhcGhpY3NEYXRhLm1hdHJpeCA/IG1hdHJpeC5iICogeCArIG1hdHJpeC5kICogeSArIG1hdHJpeC50eSA6IHkpO1xuICAgIHZlcnRQb3MrKztcbiAgICB2ZXJ0cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICBmb3IgKGxldCBpID0gMjsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgdmVydHMucHVzaChwb2ludHNbaV0sIHBvaW50c1tpICsgMV0pO1xuICAgICAgaW5kaWNlcy5wdXNoKHZlcnRQb3MrKywgY2VudGVyLCB2ZXJ0UG9zKTtcbiAgICB9XG4gICAgaW5kaWNlcy5wdXNoKGNlbnRlciArIDEsIGNlbnRlciwgdmVydFBvcyk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IGJ1aWxkQ2lyY2xlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZENpcmNsZS5tanMubWFwXG4iLCJpbXBvcnQgeyBQb2ludCwgU0hBUEVTIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBMSU5FX0NBUCwgTElORV9KT0lOLCBjdXJ2ZXMgfSBmcm9tICcuLi9jb25zdC5tanMnO1xuXG5mdW5jdGlvbiBzcXVhcmUoeCwgeSwgbngsIG55LCBpbm5lcldlaWdodCwgb3V0ZXJXZWlnaHQsIGNsb2Nrd2lzZSwgdmVydHMpIHtcbiAgY29uc3QgaXggPSB4IC0gbnggKiBpbm5lcldlaWdodDtcbiAgY29uc3QgaXkgPSB5IC0gbnkgKiBpbm5lcldlaWdodDtcbiAgY29uc3Qgb3ggPSB4ICsgbnggKiBvdXRlcldlaWdodDtcbiAgY29uc3Qgb3kgPSB5ICsgbnkgKiBvdXRlcldlaWdodDtcbiAgbGV0IGV4eDtcbiAgbGV0IGV5eTtcbiAgaWYgKGNsb2Nrd2lzZSkge1xuICAgIGV4eCA9IG55O1xuICAgIGV5eSA9IC1ueDtcbiAgfSBlbHNlIHtcbiAgICBleHggPSAtbnk7XG4gICAgZXl5ID0gbng7XG4gIH1cbiAgY29uc3QgZWl4ID0gaXggKyBleHg7XG4gIGNvbnN0IGVpeSA9IGl5ICsgZXl5O1xuICBjb25zdCBlb3ggPSBveCArIGV4eDtcbiAgY29uc3QgZW95ID0gb3kgKyBleXk7XG4gIHZlcnRzLnB1c2goZWl4LCBlaXksIGVveCwgZW95KTtcbiAgcmV0dXJuIDI7XG59XG5mdW5jdGlvbiByb3VuZChjeCwgY3ksIHN4LCBzeSwgZXgsIGV5LCB2ZXJ0cywgY2xvY2t3aXNlKSB7XG4gIGNvbnN0IGN4MnAweCA9IHN4IC0gY3g7XG4gIGNvbnN0IGN5MnAweSA9IHN5IC0gY3k7XG4gIGxldCBhbmdsZTAgPSBNYXRoLmF0YW4yKGN4MnAweCwgY3kycDB5KTtcbiAgbGV0IGFuZ2xlMSA9IE1hdGguYXRhbjIoZXggLSBjeCwgZXkgLSBjeSk7XG4gIGlmIChjbG9ja3dpc2UgJiYgYW5nbGUwIDwgYW5nbGUxKSB7XG4gICAgYW5nbGUwICs9IE1hdGguUEkgKiAyO1xuICB9IGVsc2UgaWYgKCFjbG9ja3dpc2UgJiYgYW5nbGUwID4gYW5nbGUxKSB7XG4gICAgYW5nbGUxICs9IE1hdGguUEkgKiAyO1xuICB9XG4gIGxldCBzdGFydEFuZ2xlID0gYW5nbGUwO1xuICBjb25zdCBhbmdsZURpZmYgPSBhbmdsZTEgLSBhbmdsZTA7XG4gIGNvbnN0IGFic0FuZ2xlRGlmZiA9IE1hdGguYWJzKGFuZ2xlRGlmZik7XG4gIGNvbnN0IHJhZGl1cyA9IE1hdGguc3FydChjeDJwMHggKiBjeDJwMHggKyBjeTJwMHkgKiBjeTJwMHkpO1xuICBjb25zdCBzZWdDb3VudCA9ICgxNSAqIGFic0FuZ2xlRGlmZiAqIE1hdGguc3FydChyYWRpdXMpIC8gTWF0aC5QSSA+PiAwKSArIDE7XG4gIGNvbnN0IGFuZ2xlSW5jID0gYW5nbGVEaWZmIC8gc2VnQ291bnQ7XG4gIHN0YXJ0QW5nbGUgKz0gYW5nbGVJbmM7XG4gIGlmIChjbG9ja3dpc2UpIHtcbiAgICB2ZXJ0cy5wdXNoKGN4LCBjeSwgc3gsIHN5KTtcbiAgICBmb3IgKGxldCBpID0gMSwgYW5nbGUgPSBzdGFydEFuZ2xlOyBpIDwgc2VnQ291bnQ7IGkrKywgYW5nbGUgKz0gYW5nbGVJbmMpIHtcbiAgICAgIHZlcnRzLnB1c2goY3gsIGN5LCBjeCArIE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1cywgY3kgKyBNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXMpO1xuICAgIH1cbiAgICB2ZXJ0cy5wdXNoKGN4LCBjeSwgZXgsIGV5KTtcbiAgfSBlbHNlIHtcbiAgICB2ZXJ0cy5wdXNoKHN4LCBzeSwgY3gsIGN5KTtcbiAgICBmb3IgKGxldCBpID0gMSwgYW5nbGUgPSBzdGFydEFuZ2xlOyBpIDwgc2VnQ291bnQ7IGkrKywgYW5nbGUgKz0gYW5nbGVJbmMpIHtcbiAgICAgIHZlcnRzLnB1c2goY3ggKyBNYXRoLnNpbihhbmdsZSkgKiByYWRpdXMsIGN5ICsgTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzLCBjeCwgY3kpO1xuICAgIH1cbiAgICB2ZXJ0cy5wdXNoKGV4LCBleSwgY3gsIGN5KTtcbiAgfVxuICByZXR1cm4gc2VnQ291bnQgKiAyO1xufVxuZnVuY3Rpb24gYnVpbGROb25OYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICBjb25zdCBzaGFwZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgbGV0IHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMgfHwgc2hhcGUucG9pbnRzLnNsaWNlKCk7XG4gIGNvbnN0IGVwcyA9IGdyYXBoaWNzR2VvbWV0cnkuY2xvc2VQb2ludEVwcztcbiAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgc3R5bGUgPSBncmFwaGljc0RhdGEubGluZVN0eWxlO1xuICBjb25zdCBmaXJzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgY29uc3QgbGFzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuICBjb25zdCBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuICBjb25zdCBjbG9zZWRQYXRoID0gTWF0aC5hYnMoZmlyc3RQb2ludC54IC0gbGFzdFBvaW50LngpIDwgZXBzICYmIE1hdGguYWJzKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSA8IGVwcztcbiAgaWYgKGNsb3NlZFNoYXBlKSB7XG4gICAgcG9pbnRzID0gcG9pbnRzLnNsaWNlKCk7XG4gICAgaWYgKGNsb3NlZFBhdGgpIHtcbiAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgIGxhc3RQb2ludC5zZXQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgfVxuICAgIGNvbnN0IG1pZFBvaW50WCA9IChmaXJzdFBvaW50LnggKyBsYXN0UG9pbnQueCkgKiAwLjU7XG4gICAgY29uc3QgbWlkUG9pbnRZID0gKGxhc3RQb2ludC55ICsgZmlyc3RQb2ludC55KSAqIDAuNTtcbiAgICBwb2ludHMudW5zaGlmdChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgcG9pbnRzLnB1c2gobWlkUG9pbnRYLCBtaWRQb2ludFkpO1xuICB9XG4gIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gIGNvbnN0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICBsZXQgaW5kZXhDb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gIGNvbnN0IGluZGV4U3RhcnQgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICBjb25zdCB3aWR0aCA9IHN0eWxlLndpZHRoIC8gMjtcbiAgY29uc3Qgd2lkdGhTcXVhcmVkID0gd2lkdGggKiB3aWR0aDtcbiAgY29uc3QgbWl0ZXJMaW1pdFNxdWFyZWQgPSBzdHlsZS5taXRlckxpbWl0ICogc3R5bGUubWl0ZXJMaW1pdDtcbiAgbGV0IHgwID0gcG9pbnRzWzBdO1xuICBsZXQgeTAgPSBwb2ludHNbMV07XG4gIGxldCB4MSA9IHBvaW50c1syXTtcbiAgbGV0IHkxID0gcG9pbnRzWzNdO1xuICBsZXQgeDIgPSAwO1xuICBsZXQgeTIgPSAwO1xuICBsZXQgcGVycHggPSAtKHkwIC0geTEpO1xuICBsZXQgcGVycHkgPSB4MCAtIHgxO1xuICBsZXQgcGVycDF4ID0gMDtcbiAgbGV0IHBlcnAxeSA9IDA7XG4gIGxldCBkaXN0ID0gTWF0aC5zcXJ0KHBlcnB4ICogcGVycHggKyBwZXJweSAqIHBlcnB5KTtcbiAgcGVycHggLz0gZGlzdDtcbiAgcGVycHkgLz0gZGlzdDtcbiAgcGVycHggKj0gd2lkdGg7XG4gIHBlcnB5ICo9IHdpZHRoO1xuICBjb25zdCByYXRpbyA9IHN0eWxlLmFsaWdubWVudDtcbiAgY29uc3QgaW5uZXJXZWlnaHQgPSAoMSAtIHJhdGlvKSAqIDI7XG4gIGNvbnN0IG91dGVyV2VpZ2h0ID0gcmF0aW8gKiAyO1xuICBpZiAoIWNsb3NlZFNoYXBlKSB7XG4gICAgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuUk9VTkQpIHtcbiAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDAgLSBwZXJweCAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSwgeTAgLSBwZXJweSAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSwgeDAgLSBwZXJweCAqIGlubmVyV2VpZ2h0LCB5MCAtIHBlcnB5ICogaW5uZXJXZWlnaHQsIHgwICsgcGVycHggKiBvdXRlcldlaWdodCwgeTAgKyBwZXJweSAqIG91dGVyV2VpZ2h0LCB2ZXJ0cywgdHJ1ZSkgKyAyO1xuICAgIH0gZWxzZSBpZiAoc3R5bGUuY2FwID09PSBMSU5FX0NBUC5TUVVBUkUpIHtcbiAgICAgIGluZGV4Q291bnQgKz0gc3F1YXJlKHgwLCB5MCwgcGVycHgsIHBlcnB5LCBpbm5lcldlaWdodCwgb3V0ZXJXZWlnaHQsIHRydWUsIHZlcnRzKTtcbiAgICB9XG4gIH1cbiAgdmVydHMucHVzaCh4MCAtIHBlcnB4ICogaW5uZXJXZWlnaHQsIHkwIC0gcGVycHkgKiBpbm5lcldlaWdodCwgeDAgKyBwZXJweCAqIG91dGVyV2VpZ2h0LCB5MCArIHBlcnB5ICogb3V0ZXJXZWlnaHQpO1xuICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aCAtIDE7ICsraSkge1xuICAgIHgwID0gcG9pbnRzWyhpIC0gMSkgKiAyXTtcbiAgICB5MCA9IHBvaW50c1soaSAtIDEpICogMiArIDFdO1xuICAgIHgxID0gcG9pbnRzW2kgKiAyXTtcbiAgICB5MSA9IHBvaW50c1tpICogMiArIDFdO1xuICAgIHgyID0gcG9pbnRzWyhpICsgMSkgKiAyXTtcbiAgICB5MiA9IHBvaW50c1soaSArIDEpICogMiArIDFdO1xuICAgIHBlcnB4ID0gLSh5MCAtIHkxKTtcbiAgICBwZXJweSA9IHgwIC0geDE7XG4gICAgZGlzdCA9IE1hdGguc3FydChwZXJweCAqIHBlcnB4ICsgcGVycHkgKiBwZXJweSk7XG4gICAgcGVycHggLz0gZGlzdDtcbiAgICBwZXJweSAvPSBkaXN0O1xuICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgIHBlcnB5ICo9IHdpZHRoO1xuICAgIHBlcnAxeCA9IC0oeTEgLSB5Mik7XG4gICAgcGVycDF5ID0geDEgLSB4MjtcbiAgICBkaXN0ID0gTWF0aC5zcXJ0KHBlcnAxeCAqIHBlcnAxeCArIHBlcnAxeSAqIHBlcnAxeSk7XG4gICAgcGVycDF4IC89IGRpc3Q7XG4gICAgcGVycDF5IC89IGRpc3Q7XG4gICAgcGVycDF4ICo9IHdpZHRoO1xuICAgIHBlcnAxeSAqPSB3aWR0aDtcbiAgICBjb25zdCBkeDAgPSB4MSAtIHgwO1xuICAgIGNvbnN0IGR5MCA9IHkwIC0geTE7XG4gICAgY29uc3QgZHgxID0geDEgLSB4MjtcbiAgICBjb25zdCBkeTEgPSB5MiAtIHkxO1xuICAgIGNvbnN0IGRvdCA9IGR4MCAqIGR4MSArIGR5MCAqIGR5MTtcbiAgICBjb25zdCBjcm9zcyA9IGR5MCAqIGR4MSAtIGR5MSAqIGR4MDtcbiAgICBjb25zdCBjbG9ja3dpc2UgPSBjcm9zcyA8IDA7XG4gICAgaWYgKE1hdGguYWJzKGNyb3NzKSA8IDFlLTMgKiBNYXRoLmFicyhkb3QpKSB7XG4gICAgICB2ZXJ0cy5wdXNoKHgxIC0gcGVycHggKiBpbm5lcldlaWdodCwgeTEgLSBwZXJweSAqIGlubmVyV2VpZ2h0LCB4MSArIHBlcnB4ICogb3V0ZXJXZWlnaHQsIHkxICsgcGVycHkgKiBvdXRlcldlaWdodCk7XG4gICAgICBpZiAoZG90ID49IDApIHtcbiAgICAgICAgaWYgKHN0eWxlLmpvaW4gPT09IExJTkVfSk9JTi5ST1VORCkge1xuICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEsIHkxLCB4MSAtIHBlcnB4ICogaW5uZXJXZWlnaHQsIHkxIC0gcGVycHkgKiBpbm5lcldlaWdodCwgeDEgLSBwZXJwMXggKiBpbm5lcldlaWdodCwgeTEgLSBwZXJwMXkgKiBpbm5lcldlaWdodCwgdmVydHMsIGZhbHNlKSArIDQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5kZXhDb3VudCArPSAyO1xuICAgICAgICB9XG4gICAgICAgIHZlcnRzLnB1c2goeDEgLSBwZXJwMXggKiBvdXRlcldlaWdodCwgeTEgLSBwZXJwMXkgKiBvdXRlcldlaWdodCwgeDEgKyBwZXJwMXggKiBpbm5lcldlaWdodCwgeTEgKyBwZXJwMXkgKiBpbm5lcldlaWdodCk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgYzEgPSAoLXBlcnB4ICsgeDApICogKC1wZXJweSArIHkxKSAtICgtcGVycHggKyB4MSkgKiAoLXBlcnB5ICsgeTApO1xuICAgIGNvbnN0IGMyID0gKC1wZXJwMXggKyB4MikgKiAoLXBlcnAxeSArIHkxKSAtICgtcGVycDF4ICsgeDEpICogKC1wZXJwMXkgKyB5Mik7XG4gICAgY29uc3QgcHggPSAoZHgwICogYzIgLSBkeDEgKiBjMSkgLyBjcm9zcztcbiAgICBjb25zdCBweSA9IChkeTEgKiBjMSAtIGR5MCAqIGMyKSAvIGNyb3NzO1xuICAgIGNvbnN0IHBkaXN0ID0gKHB4IC0geDEpICogKHB4IC0geDEpICsgKHB5IC0geTEpICogKHB5IC0geTEpO1xuICAgIGNvbnN0IGlteCA9IHgxICsgKHB4IC0geDEpICogaW5uZXJXZWlnaHQ7XG4gICAgY29uc3QgaW15ID0geTEgKyAocHkgLSB5MSkgKiBpbm5lcldlaWdodDtcbiAgICBjb25zdCBvbXggPSB4MSAtIChweCAtIHgxKSAqIG91dGVyV2VpZ2h0O1xuICAgIGNvbnN0IG9teSA9IHkxIC0gKHB5IC0geTEpICogb3V0ZXJXZWlnaHQ7XG4gICAgY29uc3Qgc21hbGxlckluc2lkZVNlZ21lbnRTcSA9IE1hdGgubWluKGR4MCAqIGR4MCArIGR5MCAqIGR5MCwgZHgxICogZHgxICsgZHkxICogZHkxKTtcbiAgICBjb25zdCBpbnNpZGVXZWlnaHQgPSBjbG9ja3dpc2UgPyBpbm5lcldlaWdodCA6IG91dGVyV2VpZ2h0O1xuICAgIGNvbnN0IHNtYWxsZXJJbnNpZGVEaWFnb25hbFNxID0gc21hbGxlckluc2lkZVNlZ21lbnRTcSArIGluc2lkZVdlaWdodCAqIGluc2lkZVdlaWdodCAqIHdpZHRoU3F1YXJlZDtcbiAgICBjb25zdCBpbnNpZGVNaXRlck9rID0gcGRpc3QgPD0gc21hbGxlckluc2lkZURpYWdvbmFsU3E7XG4gICAgbGV0IGpvaW4gPSBzdHlsZS5qb2luO1xuICAgIGlmIChqb2luID09PSBMSU5FX0pPSU4uTUlURVIgJiYgcGRpc3QgLyB3aWR0aFNxdWFyZWQgPiBtaXRlckxpbWl0U3F1YXJlZCkge1xuICAgICAgam9pbiA9IExJTkVfSk9JTi5CRVZFTDtcbiAgICB9XG4gICAgaWYgKGluc2lkZU1pdGVyT2spIHtcbiAgICAgIHN3aXRjaCAoam9pbikge1xuICAgICAgICBjYXNlIExJTkVfSk9JTi5NSVRFUjoge1xuICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXksIG9teCwgb215KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIExJTkVfSk9JTi5CRVZFTDoge1xuICAgICAgICAgIGlmIChjbG9ja3dpc2UpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXksIHgxICsgcGVycHggKiBvdXRlcldlaWdodCwgeTEgKyBwZXJweSAqIG91dGVyV2VpZ2h0LCBpbXgsIGlteSwgeDEgKyBwZXJwMXggKiBvdXRlcldlaWdodCwgeTEgKyBwZXJwMXkgKiBvdXRlcldlaWdodCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSBwZXJweCAqIGlubmVyV2VpZ2h0LCB5MSAtIHBlcnB5ICogaW5uZXJXZWlnaHQsIG9teCwgb215LCB4MSAtIHBlcnAxeCAqIGlubmVyV2VpZ2h0LCB5MSAtIHBlcnAxeSAqIGlubmVyV2VpZ2h0LCBvbXgsIG9teSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGluZGV4Q291bnQgKz0gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIExJTkVfSk9JTi5ST1VORDoge1xuICAgICAgICAgIGlmIChjbG9ja3dpc2UpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXksIHgxICsgcGVycHggKiBvdXRlcldlaWdodCwgeTEgKyBwZXJweSAqIG91dGVyV2VpZ2h0KTtcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEsIHkxLCB4MSArIHBlcnB4ICogb3V0ZXJXZWlnaHQsIHkxICsgcGVycHkgKiBvdXRlcldlaWdodCwgeDEgKyBwZXJwMXggKiBvdXRlcldlaWdodCwgeTEgKyBwZXJwMXkgKiBvdXRlcldlaWdodCwgdmVydHMsIHRydWUpICsgNDtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXksIHgxICsgcGVycDF4ICogb3V0ZXJXZWlnaHQsIHkxICsgcGVycDF5ICogb3V0ZXJXZWlnaHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gcGVycHggKiBpbm5lcldlaWdodCwgeTEgLSBwZXJweSAqIGlubmVyV2VpZ2h0LCBvbXgsIG9teSk7XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxLCB5MSwgeDEgLSBwZXJweCAqIGlubmVyV2VpZ2h0LCB5MSAtIHBlcnB5ICogaW5uZXJXZWlnaHQsIHgxIC0gcGVycDF4ICogaW5uZXJXZWlnaHQsIHkxIC0gcGVycDF5ICogaW5uZXJXZWlnaHQsIHZlcnRzLCBmYWxzZSkgKyA0O1xuICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIHBlcnAxeCAqIGlubmVyV2VpZ2h0LCB5MSAtIHBlcnAxeSAqIGlubmVyV2VpZ2h0LCBvbXgsIG9teSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZlcnRzLnB1c2goeDEgLSBwZXJweCAqIGlubmVyV2VpZ2h0LCB5MSAtIHBlcnB5ICogaW5uZXJXZWlnaHQsIHgxICsgcGVycHggKiBvdXRlcldlaWdodCwgeTEgKyBwZXJweSAqIG91dGVyV2VpZ2h0KTtcbiAgICAgIHN3aXRjaCAoam9pbikge1xuICAgICAgICBjYXNlIExJTkVfSk9JTi5NSVRFUjoge1xuICAgICAgICAgIGlmIChjbG9ja3dpc2UpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXksIG9teCwgb215KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSwgaW14LCBpbXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbmRleENvdW50ICs9IDI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBMSU5FX0pPSU4uUk9VTkQ6IHtcbiAgICAgICAgICBpZiAoY2xvY2t3aXNlKSB7XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxLCB5MSwgeDEgKyBwZXJweCAqIG91dGVyV2VpZ2h0LCB5MSArIHBlcnB5ICogb3V0ZXJXZWlnaHQsIHgxICsgcGVycDF4ICogb3V0ZXJXZWlnaHQsIHkxICsgcGVycDF5ICogb3V0ZXJXZWlnaHQsIHZlcnRzLCB0cnVlKSArIDI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEsIHkxLCB4MSAtIHBlcnB4ICogaW5uZXJXZWlnaHQsIHkxIC0gcGVycHkgKiBpbm5lcldlaWdodCwgeDEgLSBwZXJwMXggKiBpbm5lcldlaWdodCwgeTEgLSBwZXJwMXkgKiBpbm5lcldlaWdodCwgdmVydHMsIGZhbHNlKSArIDI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2ZXJ0cy5wdXNoKHgxIC0gcGVycDF4ICogaW5uZXJXZWlnaHQsIHkxIC0gcGVycDF5ICogaW5uZXJXZWlnaHQsIHgxICsgcGVycDF4ICogb3V0ZXJXZWlnaHQsIHkxICsgcGVycDF5ICogb3V0ZXJXZWlnaHQpO1xuICAgICAgaW5kZXhDb3VudCArPSAyO1xuICAgIH1cbiAgfVxuICB4MCA9IHBvaW50c1sobGVuZ3RoIC0gMikgKiAyXTtcbiAgeTAgPSBwb2ludHNbKGxlbmd0aCAtIDIpICogMiArIDFdO1xuICB4MSA9IHBvaW50c1sobGVuZ3RoIC0gMSkgKiAyXTtcbiAgeTEgPSBwb2ludHNbKGxlbmd0aCAtIDEpICogMiArIDFdO1xuICBwZXJweCA9IC0oeTAgLSB5MSk7XG4gIHBlcnB5ID0geDAgLSB4MTtcbiAgZGlzdCA9IE1hdGguc3FydChwZXJweCAqIHBlcnB4ICsgcGVycHkgKiBwZXJweSk7XG4gIHBlcnB4IC89IGRpc3Q7XG4gIHBlcnB5IC89IGRpc3Q7XG4gIHBlcnB4ICo9IHdpZHRoO1xuICBwZXJweSAqPSB3aWR0aDtcbiAgdmVydHMucHVzaCh4MSAtIHBlcnB4ICogaW5uZXJXZWlnaHQsIHkxIC0gcGVycHkgKiBpbm5lcldlaWdodCwgeDEgKyBwZXJweCAqIG91dGVyV2VpZ2h0LCB5MSArIHBlcnB5ICogb3V0ZXJXZWlnaHQpO1xuICBpZiAoIWNsb3NlZFNoYXBlKSB7XG4gICAgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuUk9VTkQpIHtcbiAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEgLSBwZXJweCAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSwgeTEgLSBwZXJweSAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSwgeDEgLSBwZXJweCAqIGlubmVyV2VpZ2h0LCB5MSAtIHBlcnB5ICogaW5uZXJXZWlnaHQsIHgxICsgcGVycHggKiBvdXRlcldlaWdodCwgeTEgKyBwZXJweSAqIG91dGVyV2VpZ2h0LCB2ZXJ0cywgZmFsc2UpICsgMjtcbiAgICB9IGVsc2UgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuU1FVQVJFKSB7XG4gICAgICBpbmRleENvdW50ICs9IHNxdWFyZSh4MSwgeTEsIHBlcnB4LCBwZXJweSwgaW5uZXJXZWlnaHQsIG91dGVyV2VpZ2h0LCBmYWxzZSwgdmVydHMpO1xuICAgIH1cbiAgfVxuICBjb25zdCBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICBjb25zdCBlcHMyID0gY3VydmVzLmVwc2lsb24gKiBjdXJ2ZXMuZXBzaWxvbjtcbiAgZm9yIChsZXQgaSA9IGluZGV4U3RhcnQ7IGkgPCBpbmRleENvdW50ICsgaW5kZXhTdGFydCAtIDI7ICsraSkge1xuICAgIHgwID0gdmVydHNbaSAqIDJdO1xuICAgIHkwID0gdmVydHNbaSAqIDIgKyAxXTtcbiAgICB4MSA9IHZlcnRzWyhpICsgMSkgKiAyXTtcbiAgICB5MSA9IHZlcnRzWyhpICsgMSkgKiAyICsgMV07XG4gICAgeDIgPSB2ZXJ0c1soaSArIDIpICogMl07XG4gICAgeTIgPSB2ZXJ0c1soaSArIDIpICogMiArIDFdO1xuICAgIGlmIChNYXRoLmFicyh4MCAqICh5MSAtIHkyKSArIHgxICogKHkyIC0geTApICsgeDIgKiAoeTAgLSB5MSkpIDwgZXBzMikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGluZGljZXMucHVzaChpLCBpICsgMSwgaSArIDIpO1xuICB9XG59XG5mdW5jdGlvbiBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gIGxldCBpID0gMDtcbiAgY29uc3Qgc2hhcGUgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gIGNvbnN0IHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMgfHwgc2hhcGUucG9pbnRzO1xuICBjb25zdCBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMClcbiAgICByZXR1cm47XG4gIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gIGNvbnN0IGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gIGNvbnN0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICBjb25zdCBzdGFydEluZGV4ID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgbGV0IGN1cnJlbnRJbmRleCA9IHN0YXJ0SW5kZXg7XG4gIHZlcnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICBmb3IgKGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpICogMl0sIHBvaW50c1tpICogMiArIDFdKTtcbiAgICBpbmRpY2VzLnB1c2goY3VycmVudEluZGV4LCBjdXJyZW50SW5kZXggKyAxKTtcbiAgICBjdXJyZW50SW5kZXgrKztcbiAgfVxuICBpZiAoY2xvc2VkU2hhcGUpIHtcbiAgICBpbmRpY2VzLnB1c2goY3VycmVudEluZGV4LCBzdGFydEluZGV4KTtcbiAgfVxufVxuZnVuY3Rpb24gYnVpbGRMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVTdHlsZS5uYXRpdmUpIHtcbiAgICBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KTtcbiAgfSBlbHNlIHtcbiAgICBidWlsZE5vbk5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KTtcbiAgfVxufVxuXG5leHBvcnQgeyBidWlsZExpbmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkTGluZS5tanMubWFwXG4iLCJpbXBvcnQgeyB1dGlscyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5mdW5jdGlvbiBmaXhPcmllbnRhdGlvbihwb2ludHMsIGhvbGUgPSBmYWxzZSkge1xuICBjb25zdCBtID0gcG9pbnRzLmxlbmd0aDtcbiAgaWYgKG0gPCA2KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBhcmVhID0gMDtcbiAgZm9yIChsZXQgaSA9IDAsIHgxID0gcG9pbnRzW20gLSAyXSwgeTEgPSBwb2ludHNbbSAtIDFdOyBpIDwgbTsgaSArPSAyKSB7XG4gICAgY29uc3QgeDIgPSBwb2ludHNbaV07XG4gICAgY29uc3QgeTIgPSBwb2ludHNbaSArIDFdO1xuICAgIGFyZWEgKz0gKHgyIC0geDEpICogKHkyICsgeTEpO1xuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICBpZiAoIWhvbGUgJiYgYXJlYSA+IDAgfHwgaG9sZSAmJiBhcmVhIDw9IDApIHtcbiAgICBjb25zdCBuID0gbSAvIDI7XG4gICAgZm9yIChsZXQgaSA9IG4gKyBuICUgMjsgaSA8IG07IGkgKz0gMikge1xuICAgICAgY29uc3QgaTEgPSBtIC0gaSAtIDI7XG4gICAgICBjb25zdCBpMiA9IG0gLSBpIC0gMTtcbiAgICAgIGNvbnN0IGkzID0gaTtcbiAgICAgIGNvbnN0IGk0ID0gaSArIDE7XG4gICAgICBbcG9pbnRzW2kxXSwgcG9pbnRzW2kzXV0gPSBbcG9pbnRzW2kzXSwgcG9pbnRzW2kxXV07XG4gICAgICBbcG9pbnRzW2kyXSwgcG9pbnRzW2k0XV0gPSBbcG9pbnRzW2k0XSwgcG9pbnRzW2kyXV07XG4gICAgfVxuICB9XG59XG5jb25zdCBidWlsZFBvbHkgPSB7XG4gIGJ1aWxkKGdyYXBoaWNzRGF0YSkge1xuICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSBncmFwaGljc0RhdGEuc2hhcGUucG9pbnRzLnNsaWNlKCk7XG4gIH0sXG4gIHRyaWFuZ3VsYXRlKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgIGxldCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgIGNvbnN0IGhvbGVzID0gZ3JhcGhpY3NEYXRhLmhvbGVzO1xuICAgIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgY29uc3QgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA+PSA2KSB7XG4gICAgICBmaXhPcmllbnRhdGlvbihwb2ludHMsIGZhbHNlKTtcbiAgICAgIGNvbnN0IGhvbGVBcnJheSA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBob2xlID0gaG9sZXNbaV07XG4gICAgICAgIGZpeE9yaWVudGF0aW9uKGhvbGUucG9pbnRzLCB0cnVlKTtcbiAgICAgICAgaG9sZUFycmF5LnB1c2gocG9pbnRzLmxlbmd0aCAvIDIpO1xuICAgICAgICBwb2ludHMgPSBwb2ludHMuY29uY2F0KGhvbGUucG9pbnRzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRyaWFuZ2xlcyA9IHV0aWxzLmVhcmN1dChwb2ludHMsIGhvbGVBcnJheSwgMik7XG4gICAgICBpZiAoIXRyaWFuZ2xlcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMl0gKyB2ZXJ0UG9zKTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCB7IGJ1aWxkUG9seSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRQb2x5Lm1qcy5tYXBcbiIsImNvbnN0IGJ1aWxkUmVjdGFuZ2xlID0ge1xuICBidWlsZChncmFwaGljc0RhdGEpIHtcbiAgICBjb25zdCByZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICBjb25zdCB4ID0gcmVjdERhdGEueDtcbiAgICBjb25zdCB5ID0gcmVjdERhdGEueTtcbiAgICBjb25zdCB3aWR0aCA9IHJlY3REYXRhLndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IHJlY3REYXRhLmhlaWdodDtcbiAgICBjb25zdCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgIHBvaW50cy5sZW5ndGggPSAwO1xuICAgIGlmICghKHdpZHRoID49IDAgJiYgaGVpZ2h0ID49IDApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBvaW50cy5wdXNoKHgsIHksIHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4LCB5ICsgaGVpZ2h0KTtcbiAgfSxcbiAgdHJpYW5ndWxhdGUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICBjb25zdCB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgIHZlcnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0sIHBvaW50c1syXSwgcG9pbnRzWzNdLCBwb2ludHNbNl0sIHBvaW50c1s3XSwgcG9pbnRzWzRdLCBwb2ludHNbNV0pO1xuICAgIGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcy5wdXNoKHZlcnRQb3MsIHZlcnRQb3MgKyAxLCB2ZXJ0UG9zICsgMiwgdmVydFBvcyArIDEsIHZlcnRQb3MgKyAyLCB2ZXJ0UG9zICsgMyk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IGJ1aWxkUmVjdGFuZ2xlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZFJlY3RhbmdsZS5tanMubWFwXG4iLCJpbXBvcnQgeyBidWlsZENpcmNsZSB9IGZyb20gJy4vYnVpbGRDaXJjbGUubWpzJztcblxuY29uc3QgYnVpbGRSb3VuZGVkUmVjdGFuZ2xlID0ge1xuICBidWlsZChncmFwaGljc0RhdGEpIHtcbiAgICBidWlsZENpcmNsZS5idWlsZChncmFwaGljc0RhdGEpO1xuICB9LFxuICB0cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICBidWlsZENpcmNsZS50cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpO1xuICB9XG59O1xuXG5leHBvcnQgeyBidWlsZFJvdW5kZWRSZWN0YW5nbGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkUm91bmRlZFJlY3RhbmdsZS5tanMubWFwXG4iLCJpbXBvcnQgeyBTSEFQRVMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IGJ1aWxkQ2lyY2xlIH0gZnJvbSAnLi9idWlsZENpcmNsZS5tanMnO1xuZXhwb3J0IHsgYnVpbGRDaXJjbGUgfSBmcm9tICcuL2J1aWxkQ2lyY2xlLm1qcyc7XG5pbXBvcnQgeyBidWlsZFBvbHkgfSBmcm9tICcuL2J1aWxkUG9seS5tanMnO1xuZXhwb3J0IHsgYnVpbGRQb2x5IH0gZnJvbSAnLi9idWlsZFBvbHkubWpzJztcbmltcG9ydCB7IGJ1aWxkUmVjdGFuZ2xlIH0gZnJvbSAnLi9idWlsZFJlY3RhbmdsZS5tanMnO1xuZXhwb3J0IHsgYnVpbGRSZWN0YW5nbGUgfSBmcm9tICcuL2J1aWxkUmVjdGFuZ2xlLm1qcyc7XG5pbXBvcnQgeyBidWlsZFJvdW5kZWRSZWN0YW5nbGUgfSBmcm9tICcuL2J1aWxkUm91bmRlZFJlY3RhbmdsZS5tanMnO1xuZXhwb3J0IHsgYnVpbGRSb3VuZGVkUmVjdGFuZ2xlIH0gZnJvbSAnLi9idWlsZFJvdW5kZWRSZWN0YW5nbGUubWpzJztcbmV4cG9ydCB7IEFyY1V0aWxzIH0gZnJvbSAnLi9BcmNVdGlscy5tanMnO1xuZXhwb3J0IHsgQmF0Y2hQYXJ0IH0gZnJvbSAnLi9CYXRjaFBhcnQubWpzJztcbmV4cG9ydCB7IEJlemllclV0aWxzIH0gZnJvbSAnLi9CZXppZXJVdGlscy5tanMnO1xuZXhwb3J0IHsgYnVpbGRMaW5lIH0gZnJvbSAnLi9idWlsZExpbmUubWpzJztcbmV4cG9ydCB7IFF1YWRyYXRpY1V0aWxzIH0gZnJvbSAnLi9RdWFkcmF0aWNVdGlscy5tanMnO1xuXG5jb25zdCBGSUxMX0NPTU1BTkRTID0ge1xuICBbU0hBUEVTLlBPTFldOiBidWlsZFBvbHksXG4gIFtTSEFQRVMuQ0lSQ106IGJ1aWxkQ2lyY2xlLFxuICBbU0hBUEVTLkVMSVBdOiBidWlsZENpcmNsZSxcbiAgW1NIQVBFUy5SRUNUXTogYnVpbGRSZWN0YW5nbGUsXG4gIFtTSEFQRVMuUlJFQ106IGJ1aWxkUm91bmRlZFJlY3RhbmdsZVxufTtcbmNvbnN0IEJBVENIX1BPT0wgPSBbXTtcbmNvbnN0IERSQVdfQ0FMTF9QT09MID0gW107XG5cbmV4cG9ydCB7IEJBVENIX1BPT0wsIERSQVdfQ0FMTF9QT09MLCBGSUxMX0NPTU1BTkRTIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlQb2ludC5tanMubWFwXG4iLCJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlQb2ludERhdGEubWpzLm1hcFxuIiwiaW1wb3J0IHsgUElfMiB9IGZyb20gJy4vY29uc3QubWpzJztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi9Qb2ludC5tanMnO1xuXG5jbGFzcyBNYXRyaXgge1xuICBjb25zdHJ1Y3RvcihhID0gMSwgYiA9IDAsIGMgPSAwLCBkID0gMSwgdHggPSAwLCB0eSA9IDApIHtcbiAgICB0aGlzLmFycmF5ID0gbnVsbDtcbiAgICB0aGlzLmEgPSBhO1xuICAgIHRoaXMuYiA9IGI7XG4gICAgdGhpcy5jID0gYztcbiAgICB0aGlzLmQgPSBkO1xuICAgIHRoaXMudHggPSB0eDtcbiAgICB0aGlzLnR5ID0gdHk7XG4gIH1cbiAgZnJvbUFycmF5KGFycmF5KSB7XG4gICAgdGhpcy5hID0gYXJyYXlbMF07XG4gICAgdGhpcy5iID0gYXJyYXlbMV07XG4gICAgdGhpcy5jID0gYXJyYXlbM107XG4gICAgdGhpcy5kID0gYXJyYXlbNF07XG4gICAgdGhpcy50eCA9IGFycmF5WzJdO1xuICAgIHRoaXMudHkgPSBhcnJheVs1XTtcbiAgfVxuICBzZXQoYSwgYiwgYywgZCwgdHgsIHR5KSB7XG4gICAgdGhpcy5hID0gYTtcbiAgICB0aGlzLmIgPSBiO1xuICAgIHRoaXMuYyA9IGM7XG4gICAgdGhpcy5kID0gZDtcbiAgICB0aGlzLnR4ID0gdHg7XG4gICAgdGhpcy50eSA9IHR5O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHRvQXJyYXkodHJhbnNwb3NlLCBvdXQpIHtcbiAgICBpZiAoIXRoaXMuYXJyYXkpIHtcbiAgICAgIHRoaXMuYXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KDkpO1xuICAgIH1cbiAgICBjb25zdCBhcnJheSA9IG91dCB8fCB0aGlzLmFycmF5O1xuICAgIGlmICh0cmFuc3Bvc2UpIHtcbiAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgYXJyYXlbMV0gPSB0aGlzLmI7XG4gICAgICBhcnJheVsyXSA9IDA7XG4gICAgICBhcnJheVszXSA9IHRoaXMuYztcbiAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgYXJyYXlbNV0gPSAwO1xuICAgICAgYXJyYXlbNl0gPSB0aGlzLnR4O1xuICAgICAgYXJyYXlbN10gPSB0aGlzLnR5O1xuICAgICAgYXJyYXlbOF0gPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcnJheVswXSA9IHRoaXMuYTtcbiAgICAgIGFycmF5WzFdID0gdGhpcy5jO1xuICAgICAgYXJyYXlbMl0gPSB0aGlzLnR4O1xuICAgICAgYXJyYXlbM10gPSB0aGlzLmI7XG4gICAgICBhcnJheVs0XSA9IHRoaXMuZDtcbiAgICAgIGFycmF5WzVdID0gdGhpcy50eTtcbiAgICAgIGFycmF5WzZdID0gMDtcbiAgICAgIGFycmF5WzddID0gMDtcbiAgICAgIGFycmF5WzhdID0gMTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG4gIGFwcGx5KHBvcywgbmV3UG9zKSB7XG4gICAgbmV3UG9zID0gbmV3UG9zIHx8IG5ldyBQb2ludCgpO1xuICAgIGNvbnN0IHggPSBwb3MueDtcbiAgICBjb25zdCB5ID0gcG9zLnk7XG4gICAgbmV3UG9zLnggPSB0aGlzLmEgKiB4ICsgdGhpcy5jICogeSArIHRoaXMudHg7XG4gICAgbmV3UG9zLnkgPSB0aGlzLmIgKiB4ICsgdGhpcy5kICogeSArIHRoaXMudHk7XG4gICAgcmV0dXJuIG5ld1BvcztcbiAgfVxuICBhcHBseUludmVyc2UocG9zLCBuZXdQb3MpIHtcbiAgICBuZXdQb3MgPSBuZXdQb3MgfHwgbmV3IFBvaW50KCk7XG4gICAgY29uc3QgaWQgPSAxIC8gKHRoaXMuYSAqIHRoaXMuZCArIHRoaXMuYyAqIC10aGlzLmIpO1xuICAgIGNvbnN0IHggPSBwb3MueDtcbiAgICBjb25zdCB5ID0gcG9zLnk7XG4gICAgbmV3UG9zLnggPSB0aGlzLmQgKiBpZCAqIHggKyAtdGhpcy5jICogaWQgKiB5ICsgKHRoaXMudHkgKiB0aGlzLmMgLSB0aGlzLnR4ICogdGhpcy5kKSAqIGlkO1xuICAgIG5ld1Bvcy55ID0gdGhpcy5hICogaWQgKiB5ICsgLXRoaXMuYiAqIGlkICogeCArICgtdGhpcy50eSAqIHRoaXMuYSArIHRoaXMudHggKiB0aGlzLmIpICogaWQ7XG4gICAgcmV0dXJuIG5ld1BvcztcbiAgfVxuICB0cmFuc2xhdGUoeCwgeSkge1xuICAgIHRoaXMudHggKz0geDtcbiAgICB0aGlzLnR5ICs9IHk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc2NhbGUoeCwgeSkge1xuICAgIHRoaXMuYSAqPSB4O1xuICAgIHRoaXMuZCAqPSB5O1xuICAgIHRoaXMuYyAqPSB4O1xuICAgIHRoaXMuYiAqPSB5O1xuICAgIHRoaXMudHggKj0geDtcbiAgICB0aGlzLnR5ICo9IHk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcm90YXRlKGFuZ2xlKSB7XG4gICAgY29uc3QgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICBjb25zdCBhMSA9IHRoaXMuYTtcbiAgICBjb25zdCBjMSA9IHRoaXMuYztcbiAgICBjb25zdCB0eDEgPSB0aGlzLnR4O1xuICAgIHRoaXMuYSA9IGExICogY29zIC0gdGhpcy5iICogc2luO1xuICAgIHRoaXMuYiA9IGExICogc2luICsgdGhpcy5iICogY29zO1xuICAgIHRoaXMuYyA9IGMxICogY29zIC0gdGhpcy5kICogc2luO1xuICAgIHRoaXMuZCA9IGMxICogc2luICsgdGhpcy5kICogY29zO1xuICAgIHRoaXMudHggPSB0eDEgKiBjb3MgLSB0aGlzLnR5ICogc2luO1xuICAgIHRoaXMudHkgPSB0eDEgKiBzaW4gKyB0aGlzLnR5ICogY29zO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGFwcGVuZChtYXRyaXgpIHtcbiAgICBjb25zdCBhMSA9IHRoaXMuYTtcbiAgICBjb25zdCBiMSA9IHRoaXMuYjtcbiAgICBjb25zdCBjMSA9IHRoaXMuYztcbiAgICBjb25zdCBkMSA9IHRoaXMuZDtcbiAgICB0aGlzLmEgPSBtYXRyaXguYSAqIGExICsgbWF0cml4LmIgKiBjMTtcbiAgICB0aGlzLmIgPSBtYXRyaXguYSAqIGIxICsgbWF0cml4LmIgKiBkMTtcbiAgICB0aGlzLmMgPSBtYXRyaXguYyAqIGExICsgbWF0cml4LmQgKiBjMTtcbiAgICB0aGlzLmQgPSBtYXRyaXguYyAqIGIxICsgbWF0cml4LmQgKiBkMTtcbiAgICB0aGlzLnR4ID0gbWF0cml4LnR4ICogYTEgKyBtYXRyaXgudHkgKiBjMSArIHRoaXMudHg7XG4gICAgdGhpcy50eSA9IG1hdHJpeC50eCAqIGIxICsgbWF0cml4LnR5ICogZDEgKyB0aGlzLnR5O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHNldFRyYW5zZm9ybSh4LCB5LCBwaXZvdFgsIHBpdm90WSwgc2NhbGVYLCBzY2FsZVksIHJvdGF0aW9uLCBza2V3WCwgc2tld1kpIHtcbiAgICB0aGlzLmEgPSBNYXRoLmNvcyhyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICB0aGlzLmIgPSBNYXRoLnNpbihyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICB0aGlzLmMgPSAtTWF0aC5zaW4ocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG4gICAgdGhpcy5kID0gTWF0aC5jb3Mocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG4gICAgdGhpcy50eCA9IHggLSAocGl2b3RYICogdGhpcy5hICsgcGl2b3RZICogdGhpcy5jKTtcbiAgICB0aGlzLnR5ID0geSAtIChwaXZvdFggKiB0aGlzLmIgKyBwaXZvdFkgKiB0aGlzLmQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHByZXBlbmQobWF0cml4KSB7XG4gICAgY29uc3QgdHgxID0gdGhpcy50eDtcbiAgICBpZiAobWF0cml4LmEgIT09IDEgfHwgbWF0cml4LmIgIT09IDAgfHwgbWF0cml4LmMgIT09IDAgfHwgbWF0cml4LmQgIT09IDEpIHtcbiAgICAgIGNvbnN0IGExID0gdGhpcy5hO1xuICAgICAgY29uc3QgYzEgPSB0aGlzLmM7XG4gICAgICB0aGlzLmEgPSBhMSAqIG1hdHJpeC5hICsgdGhpcy5iICogbWF0cml4LmM7XG4gICAgICB0aGlzLmIgPSBhMSAqIG1hdHJpeC5iICsgdGhpcy5iICogbWF0cml4LmQ7XG4gICAgICB0aGlzLmMgPSBjMSAqIG1hdHJpeC5hICsgdGhpcy5kICogbWF0cml4LmM7XG4gICAgICB0aGlzLmQgPSBjMSAqIG1hdHJpeC5iICsgdGhpcy5kICogbWF0cml4LmQ7XG4gICAgfVxuICAgIHRoaXMudHggPSB0eDEgKiBtYXRyaXguYSArIHRoaXMudHkgKiBtYXRyaXguYyArIG1hdHJpeC50eDtcbiAgICB0aGlzLnR5ID0gdHgxICogbWF0cml4LmIgKyB0aGlzLnR5ICogbWF0cml4LmQgKyBtYXRyaXgudHk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZGVjb21wb3NlKHRyYW5zZm9ybSkge1xuICAgIGNvbnN0IGEgPSB0aGlzLmE7XG4gICAgY29uc3QgYiA9IHRoaXMuYjtcbiAgICBjb25zdCBjID0gdGhpcy5jO1xuICAgIGNvbnN0IGQgPSB0aGlzLmQ7XG4gICAgY29uc3QgcGl2b3QgPSB0cmFuc2Zvcm0ucGl2b3Q7XG4gICAgY29uc3Qgc2tld1ggPSAtTWF0aC5hdGFuMigtYywgZCk7XG4gICAgY29uc3Qgc2tld1kgPSBNYXRoLmF0YW4yKGIsIGEpO1xuICAgIGNvbnN0IGRlbHRhID0gTWF0aC5hYnMoc2tld1ggKyBza2V3WSk7XG4gICAgaWYgKGRlbHRhIDwgMWUtNSB8fCBNYXRoLmFicyhQSV8yIC0gZGVsdGEpIDwgMWUtNSkge1xuICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gc2tld1k7XG4gICAgICB0cmFuc2Zvcm0uc2tldy54ID0gdHJhbnNmb3JtLnNrZXcueSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IDA7XG4gICAgICB0cmFuc2Zvcm0uc2tldy54ID0gc2tld1g7XG4gICAgICB0cmFuc2Zvcm0uc2tldy55ID0gc2tld1k7XG4gICAgfVxuICAgIHRyYW5zZm9ybS5zY2FsZS54ID0gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpO1xuICAgIHRyYW5zZm9ybS5zY2FsZS55ID0gTWF0aC5zcXJ0KGMgKiBjICsgZCAqIGQpO1xuICAgIHRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdGhpcy50eCArIChwaXZvdC54ICogYSArIHBpdm90LnkgKiBjKTtcbiAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHRoaXMudHkgKyAocGl2b3QueCAqIGIgKyBwaXZvdC55ICogZCk7XG4gICAgcmV0dXJuIHRyYW5zZm9ybTtcbiAgfVxuICBpbnZlcnQoKSB7XG4gICAgY29uc3QgYTEgPSB0aGlzLmE7XG4gICAgY29uc3QgYjEgPSB0aGlzLmI7XG4gICAgY29uc3QgYzEgPSB0aGlzLmM7XG4gICAgY29uc3QgZDEgPSB0aGlzLmQ7XG4gICAgY29uc3QgdHgxID0gdGhpcy50eDtcbiAgICBjb25zdCBuID0gYTEgKiBkMSAtIGIxICogYzE7XG4gICAgdGhpcy5hID0gZDEgLyBuO1xuICAgIHRoaXMuYiA9IC1iMSAvIG47XG4gICAgdGhpcy5jID0gLWMxIC8gbjtcbiAgICB0aGlzLmQgPSBhMSAvIG47XG4gICAgdGhpcy50eCA9IChjMSAqIHRoaXMudHkgLSBkMSAqIHR4MSkgLyBuO1xuICAgIHRoaXMudHkgPSAtKGExICogdGhpcy50eSAtIGIxICogdHgxKSAvIG47XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgaWRlbnRpdHkoKSB7XG4gICAgdGhpcy5hID0gMTtcbiAgICB0aGlzLmIgPSAwO1xuICAgIHRoaXMuYyA9IDA7XG4gICAgdGhpcy5kID0gMTtcbiAgICB0aGlzLnR4ID0gMDtcbiAgICB0aGlzLnR5ID0gMDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBjbG9uZSgpIHtcbiAgICBjb25zdCBtYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgbWF0cml4LmEgPSB0aGlzLmE7XG4gICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgbWF0cml4LmQgPSB0aGlzLmQ7XG4gICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuICAgIHJldHVybiBtYXRyaXg7XG4gIH1cbiAgY29weVRvKG1hdHJpeCkge1xuICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgIG1hdHJpeC5iID0gdGhpcy5iO1xuICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgIG1hdHJpeC50eCA9IHRoaXMudHg7XG4gICAgbWF0cml4LnR5ID0gdGhpcy50eTtcbiAgICByZXR1cm4gbWF0cml4O1xuICB9XG4gIGNvcHlGcm9tKG1hdHJpeCkge1xuICAgIHRoaXMuYSA9IG1hdHJpeC5hO1xuICAgIHRoaXMuYiA9IG1hdHJpeC5iO1xuICAgIHRoaXMuYyA9IG1hdHJpeC5jO1xuICAgIHRoaXMuZCA9IG1hdHJpeC5kO1xuICAgIHRoaXMudHggPSBtYXRyaXgudHg7XG4gICAgdGhpcy50eSA9IG1hdHJpeC50eTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYFtAcGl4aS9tYXRoOk1hdHJpeCBhPSR7dGhpcy5hfSBiPSR7dGhpcy5ifSBjPSR7dGhpcy5jfSBkPSR7dGhpcy5kfSB0eD0ke3RoaXMudHh9IHR5PSR7dGhpcy50eX1dYDtcbiAgfVxuICBzdGF0aWMgZ2V0IElERU5USVRZKCkge1xuICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gIH1cbiAgc3RhdGljIGdldCBURU1QX01BVFJJWCgpIHtcbiAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xuICB9XG59XG5cbmV4cG9ydCB7IE1hdHJpeCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWF0cml4Lm1qcy5tYXBcbiIsImNsYXNzIE9ic2VydmFibGVQb2ludCB7XG4gIGNvbnN0cnVjdG9yKGNiLCBzY29wZSwgeCA9IDAsIHkgPSAwKSB7XG4gICAgdGhpcy5feCA9IHg7XG4gICAgdGhpcy5feSA9IHk7XG4gICAgdGhpcy5jYiA9IGNiO1xuICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgfVxuICBjbG9uZShjYiA9IHRoaXMuY2IsIHNjb3BlID0gdGhpcy5zY29wZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVBvaW50KGNiLCBzY29wZSwgdGhpcy5feCwgdGhpcy5feSk7XG4gIH1cbiAgc2V0KHggPSAwLCB5ID0geCkge1xuICAgIGlmICh0aGlzLl94ICE9PSB4IHx8IHRoaXMuX3kgIT09IHkpIHtcbiAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgdGhpcy5feSA9IHk7XG4gICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGNvcHlGcm9tKHApIHtcbiAgICBpZiAodGhpcy5feCAhPT0gcC54IHx8IHRoaXMuX3kgIT09IHAueSkge1xuICAgICAgdGhpcy5feCA9IHAueDtcbiAgICAgIHRoaXMuX3kgPSBwLnk7XG4gICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGNvcHlUbyhwKSB7XG4gICAgcC5zZXQodGhpcy5feCwgdGhpcy5feSk7XG4gICAgcmV0dXJuIHA7XG4gIH1cbiAgZXF1YWxzKHApIHtcbiAgICByZXR1cm4gcC54ID09PSB0aGlzLl94ICYmIHAueSA9PT0gdGhpcy5feTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYFtAcGl4aS9tYXRoOk9ic2VydmFibGVQb2ludCB4PSR7MH0geT0kezB9IHNjb3BlPSR7dGhpcy5zY29wZX1dYDtcbiAgfVxuICBnZXQgeCgpIHtcbiAgICByZXR1cm4gdGhpcy5feDtcbiAgfVxuICBzZXQgeCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl94ICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5feCA9IHZhbHVlO1xuICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgIH1cbiAgfVxuICBnZXQgeSgpIHtcbiAgICByZXR1cm4gdGhpcy5feTtcbiAgfVxuICBzZXQgeSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl95ICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5feSA9IHZhbHVlO1xuICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBPYnNlcnZhYmxlUG9pbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGVQb2ludC5tanMubWFwXG4iLCJjbGFzcyBQb2ludCB7XG4gIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCkge1xuICAgIHRoaXMueCA9IDA7XG4gICAgdGhpcy55ID0gMDtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gIH1cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7XG4gIH1cbiAgY29weUZyb20ocCkge1xuICAgIHRoaXMuc2V0KHAueCwgcC55KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBjb3B5VG8ocCkge1xuICAgIHAuc2V0KHRoaXMueCwgdGhpcy55KTtcbiAgICByZXR1cm4gcDtcbiAgfVxuICBlcXVhbHMocCkge1xuICAgIHJldHVybiBwLnggPT09IHRoaXMueCAmJiBwLnkgPT09IHRoaXMueTtcbiAgfVxuICBzZXQoeCA9IDAsIHkgPSB4KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgW0BwaXhpL21hdGg6UG9pbnQgeD0ke3RoaXMueH0geT0ke3RoaXMueX1dYDtcbiAgfVxufVxuXG5leHBvcnQgeyBQb2ludCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9pbnQubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi9NYXRyaXgubWpzJztcbmltcG9ydCB7IE9ic2VydmFibGVQb2ludCB9IGZyb20gJy4vT2JzZXJ2YWJsZVBvaW50Lm1qcyc7XG5cbmNvbnN0IF9UcmFuc2Zvcm0gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMud29ybGRUcmFuc2Zvcm0gPSBuZXcgTWF0cml4KCk7XG4gICAgdGhpcy5sb2NhbFRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoKTtcbiAgICB0aGlzLnBvc2l0aW9uID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcbiAgICB0aGlzLnNjYWxlID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAxLCAxKTtcbiAgICB0aGlzLnBpdm90ID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcbiAgICB0aGlzLnNrZXcgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMudXBkYXRlU2tldywgdGhpcywgMCwgMCk7XG4gICAgdGhpcy5fcm90YXRpb24gPSAwO1xuICAgIHRoaXMuX2N4ID0gMTtcbiAgICB0aGlzLl9zeCA9IDA7XG4gICAgdGhpcy5fY3kgPSAwO1xuICAgIHRoaXMuX3N5ID0gMTtcbiAgICB0aGlzLl9sb2NhbElEID0gMDtcbiAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IDA7XG4gICAgdGhpcy5fd29ybGRJRCA9IDA7XG4gICAgdGhpcy5fcGFyZW50SUQgPSAwO1xuICB9XG4gIG9uQ2hhbmdlKCkge1xuICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgfVxuICB1cGRhdGVTa2V3KCkge1xuICAgIHRoaXMuX2N4ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcueSk7XG4gICAgdGhpcy5fc3ggPSBNYXRoLnNpbih0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy55KTtcbiAgICB0aGlzLl9jeSA9IC1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy54KTtcbiAgICB0aGlzLl9zeSA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3LngpO1xuICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYFtAcGl4aS9tYXRoOlRyYW5zZm9ybSBwb3NpdGlvbj0oJHt0aGlzLnBvc2l0aW9uLnh9LCAke3RoaXMucG9zaXRpb24ueX0pIHJvdGF0aW9uPSR7dGhpcy5yb3RhdGlvbn0gc2NhbGU9KCR7dGhpcy5zY2FsZS54fSwgJHt0aGlzLnNjYWxlLnl9KSBza2V3PSgke3RoaXMuc2tldy54fSwgJHt0aGlzLnNrZXcueX0pIF1gO1xuICB9XG4gIHVwZGF0ZUxvY2FsVHJhbnNmb3JtKCkge1xuICAgIGNvbnN0IGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcbiAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpIHtcbiAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi54IC0gKHRoaXMucGl2b3QueCAqIGx0LmEgKyB0aGlzLnBpdm90LnkgKiBsdC5jKTtcbiAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi55IC0gKHRoaXMucGl2b3QueCAqIGx0LmIgKyB0aGlzLnBpdm90LnkgKiBsdC5kKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcbiAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgfVxuICB9XG4gIHVwZGF0ZVRyYW5zZm9ybShwYXJlbnRUcmFuc2Zvcm0pIHtcbiAgICBjb25zdCBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG4gICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKSB7XG4gICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24ueCAtICh0aGlzLnBpdm90LnggKiBsdC5hICsgdGhpcy5waXZvdC55ICogbHQuYyk7XG4gICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24ueSAtICh0aGlzLnBpdm90LnggKiBsdC5iICsgdGhpcy5waXZvdC55ICogbHQuZCk7XG4gICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG4gICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgIH1cbiAgICBpZiAodGhpcy5fcGFyZW50SUQgIT09IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRCkge1xuICAgICAgY29uc3QgcHQgPSBwYXJlbnRUcmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICBjb25zdCB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG4gICAgICB3dC5hID0gbHQuYSAqIHB0LmEgKyBsdC5iICogcHQuYztcbiAgICAgIHd0LmIgPSBsdC5hICogcHQuYiArIGx0LmIgKiBwdC5kO1xuICAgICAgd3QuYyA9IGx0LmMgKiBwdC5hICsgbHQuZCAqIHB0LmM7XG4gICAgICB3dC5kID0gbHQuYyAqIHB0LmIgKyBsdC5kICogcHQuZDtcbiAgICAgIHd0LnR4ID0gbHQudHggKiBwdC5hICsgbHQudHkgKiBwdC5jICsgcHQudHg7XG4gICAgICB3dC50eSA9IGx0LnR4ICogcHQuYiArIGx0LnR5ICogcHQuZCArIHB0LnR5O1xuICAgICAgdGhpcy5fcGFyZW50SUQgPSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICB0aGlzLl93b3JsZElEKys7XG4gICAgfVxuICB9XG4gIHNldEZyb21NYXRyaXgobWF0cml4KSB7XG4gICAgbWF0cml4LmRlY29tcG9zZSh0aGlzKTtcbiAgICB0aGlzLl9sb2NhbElEKys7XG4gIH1cbiAgZ2V0IHJvdGF0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcbiAgfVxuICBzZXQgcm90YXRpb24odmFsdWUpIHtcbiAgICBpZiAodGhpcy5fcm90YXRpb24gIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl9yb3RhdGlvbiA9IHZhbHVlO1xuICAgICAgdGhpcy51cGRhdGVTa2V3KCk7XG4gICAgfVxuICB9XG59O1xubGV0IFRyYW5zZm9ybSA9IF9UcmFuc2Zvcm07XG5UcmFuc2Zvcm0uSURFTlRJVFkgPSBuZXcgX1RyYW5zZm9ybSgpO1xuXG5leHBvcnQgeyBUcmFuc2Zvcm0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zZm9ybS5tanMubWFwXG4iLCJjb25zdCBQSV8yID0gTWF0aC5QSSAqIDI7XG5jb25zdCBSQURfVE9fREVHID0gMTgwIC8gTWF0aC5QSTtcbmNvbnN0IERFR19UT19SQUQgPSBNYXRoLlBJIC8gMTgwO1xudmFyIFNIQVBFUyA9IC8qIEBfX1BVUkVfXyAqLyAoKFNIQVBFUzIpID0+IHtcbiAgU0hBUEVTMltTSEFQRVMyW1wiUE9MWVwiXSA9IDBdID0gXCJQT0xZXCI7XG4gIFNIQVBFUzJbU0hBUEVTMltcIlJFQ1RcIl0gPSAxXSA9IFwiUkVDVFwiO1xuICBTSEFQRVMyW1NIQVBFUzJbXCJDSVJDXCJdID0gMl0gPSBcIkNJUkNcIjtcbiAgU0hBUEVTMltTSEFQRVMyW1wiRUxJUFwiXSA9IDNdID0gXCJFTElQXCI7XG4gIFNIQVBFUzJbU0hBUEVTMltcIlJSRUNcIl0gPSA0XSA9IFwiUlJFQ1wiO1xuICByZXR1cm4gU0hBUEVTMjtcbn0pKFNIQVBFUyB8fCB7fSk7XG5cbmV4cG9ydCB7IERFR19UT19SQUQsIFBJXzIsIFJBRF9UT19ERUcsIFNIQVBFUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3QubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi9NYXRyaXgubWpzJztcblxuY29uc3QgdXggPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMV07XG5jb25zdCB1eSA9IFswLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbmNvbnN0IHZ4ID0gWzAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xuY29uc3QgdnkgPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMV07XG5jb25zdCByb3RhdGlvbkNheWxleSA9IFtdO1xuY29uc3Qgcm90YXRpb25NYXRyaWNlcyA9IFtdO1xuY29uc3Qgc2lnbnVtID0gTWF0aC5zaWduO1xuZnVuY3Rpb24gaW5pdCgpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgY29uc3Qgcm93ID0gW107XG4gICAgcm90YXRpb25DYXlsZXkucHVzaChyb3cpO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTY7IGorKykge1xuICAgICAgY29uc3QgX3V4ID0gc2lnbnVtKHV4W2ldICogdXhbal0gKyB2eFtpXSAqIHV5W2pdKTtcbiAgICAgIGNvbnN0IF91eSA9IHNpZ251bSh1eVtpXSAqIHV4W2pdICsgdnlbaV0gKiB1eVtqXSk7XG4gICAgICBjb25zdCBfdnggPSBzaWdudW0odXhbaV0gKiB2eFtqXSArIHZ4W2ldICogdnlbal0pO1xuICAgICAgY29uc3QgX3Z5ID0gc2lnbnVtKHV5W2ldICogdnhbal0gKyB2eVtpXSAqIHZ5W2pdKTtcbiAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgMTY7IGsrKykge1xuICAgICAgICBpZiAodXhba10gPT09IF91eCAmJiB1eVtrXSA9PT0gX3V5ICYmIHZ4W2tdID09PSBfdnggJiYgdnlba10gPT09IF92eSkge1xuICAgICAgICAgIHJvdy5wdXNoKGspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgIGNvbnN0IG1hdCA9IG5ldyBNYXRyaXgoKTtcbiAgICBtYXQuc2V0KHV4W2ldLCB1eVtpXSwgdnhbaV0sIHZ5W2ldLCAwLCAwKTtcbiAgICByb3RhdGlvbk1hdHJpY2VzLnB1c2gobWF0KTtcbiAgfVxufVxuaW5pdCgpO1xuY29uc3QgZ3JvdXBEOCA9IHtcbiAgRTogMCxcbiAgU0U6IDEsXG4gIFM6IDIsXG4gIFNXOiAzLFxuICBXOiA0LFxuICBOVzogNSxcbiAgTjogNixcbiAgTkU6IDcsXG4gIE1JUlJPUl9WRVJUSUNBTDogOCxcbiAgTUFJTl9ESUFHT05BTDogMTAsXG4gIE1JUlJPUl9IT1JJWk9OVEFMOiAxMixcbiAgUkVWRVJTRV9ESUFHT05BTDogMTQsXG4gIHVYOiAoaW5kKSA9PiB1eFtpbmRdLFxuICB1WTogKGluZCkgPT4gdXlbaW5kXSxcbiAgdlg6IChpbmQpID0+IHZ4W2luZF0sXG4gIHZZOiAoaW5kKSA9PiB2eVtpbmRdLFxuICBpbnY6IChyb3RhdGlvbikgPT4ge1xuICAgIGlmIChyb3RhdGlvbiAmIDgpIHtcbiAgICAgIHJldHVybiByb3RhdGlvbiAmIDE1O1xuICAgIH1cbiAgICByZXR1cm4gLXJvdGF0aW9uICYgNztcbiAgfSxcbiAgYWRkOiAocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpID0+IHJvdGF0aW9uQ2F5bGV5W3JvdGF0aW9uU2Vjb25kXVtyb3RhdGlvbkZpcnN0XSxcbiAgc3ViOiAocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpID0+IHJvdGF0aW9uQ2F5bGV5W3JvdGF0aW9uU2Vjb25kXVtncm91cEQ4Lmludihyb3RhdGlvbkZpcnN0KV0sXG4gIHJvdGF0ZTE4MDogKHJvdGF0aW9uKSA9PiByb3RhdGlvbiBeIDQsXG4gIGlzVmVydGljYWw6IChyb3RhdGlvbikgPT4gKHJvdGF0aW9uICYgMykgPT09IDIsXG4gIGJ5RGlyZWN0aW9uOiAoZHgsIGR5KSA9PiB7XG4gICAgaWYgKE1hdGguYWJzKGR4KSAqIDIgPD0gTWF0aC5hYnMoZHkpKSB7XG4gICAgICBpZiAoZHkgPj0gMCkge1xuICAgICAgICByZXR1cm4gZ3JvdXBEOC5TO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdyb3VwRDguTjtcbiAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGR5KSAqIDIgPD0gTWF0aC5hYnMoZHgpKSB7XG4gICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgIHJldHVybiBncm91cEQ4LkU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ3JvdXBEOC5XO1xuICAgIH0gZWxzZSBpZiAoZHkgPiAwKSB7XG4gICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgIHJldHVybiBncm91cEQ4LlNFO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdyb3VwRDguU1c7XG4gICAgfSBlbHNlIGlmIChkeCA+IDApIHtcbiAgICAgIHJldHVybiBncm91cEQ4Lk5FO1xuICAgIH1cbiAgICByZXR1cm4gZ3JvdXBEOC5OVztcbiAgfSxcbiAgbWF0cml4QXBwZW5kUm90YXRpb25JbnY6IChtYXRyaXgsIHJvdGF0aW9uLCB0eCA9IDAsIHR5ID0gMCkgPT4ge1xuICAgIGNvbnN0IG1hdCA9IHJvdGF0aW9uTWF0cmljZXNbZ3JvdXBEOC5pbnYocm90YXRpb24pXTtcbiAgICBtYXQudHggPSB0eDtcbiAgICBtYXQudHkgPSB0eTtcbiAgICBtYXRyaXguYXBwZW5kKG1hdCk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IGdyb3VwRDggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyb3VwRDgubWpzLm1hcFxuIiwiZXhwb3J0IHsgQ2lyY2xlIH0gZnJvbSAnLi9zaGFwZXMvQ2lyY2xlLm1qcyc7XG5leHBvcnQgeyBFbGxpcHNlIH0gZnJvbSAnLi9zaGFwZXMvRWxsaXBzZS5tanMnO1xuZXhwb3J0IHsgUG9seWdvbiB9IGZyb20gJy4vc2hhcGVzL1BvbHlnb24ubWpzJztcbmV4cG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJy4vc2hhcGVzL1JlY3RhbmdsZS5tanMnO1xuZXhwb3J0IHsgUm91bmRlZFJlY3RhbmdsZSB9IGZyb20gJy4vc2hhcGVzL1JvdW5kZWRSZWN0YW5nbGUubWpzJztcbmV4cG9ydCB7IGdyb3VwRDggfSBmcm9tICcuL2dyb3VwRDgubWpzJztcbmltcG9ydCAnLi9JUG9pbnQubWpzJztcbmltcG9ydCAnLi9JUG9pbnREYXRhLm1qcyc7XG5leHBvcnQgeyBNYXRyaXggfSBmcm9tICcuL01hdHJpeC5tanMnO1xuZXhwb3J0IHsgT2JzZXJ2YWJsZVBvaW50IH0gZnJvbSAnLi9PYnNlcnZhYmxlUG9pbnQubWpzJztcbmV4cG9ydCB7IFBvaW50IH0gZnJvbSAnLi9Qb2ludC5tanMnO1xuZXhwb3J0IHsgVHJhbnNmb3JtIH0gZnJvbSAnLi9UcmFuc2Zvcm0ubWpzJztcbmV4cG9ydCB7IERFR19UT19SQUQsIFBJXzIsIFJBRF9UT19ERUcsIFNIQVBFUyB9IGZyb20gJy4vY29uc3QubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IFNIQVBFUyB9IGZyb20gJy4uL2NvbnN0Lm1qcyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICcuL1JlY3RhbmdsZS5tanMnO1xuXG5jbGFzcyBDaXJjbGUge1xuICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDAsIHJhZGl1cyA9IDApIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgdGhpcy50eXBlID0gU0hBUEVTLkNJUkM7XG4gIH1cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBDaXJjbGUodGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzKTtcbiAgfVxuICBjb250YWlucyh4LCB5KSB7XG4gICAgaWYgKHRoaXMucmFkaXVzIDw9IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcjIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgIGxldCBkeCA9IHRoaXMueCAtIHg7XG4gICAgbGV0IGR5ID0gdGhpcy55IC0geTtcbiAgICBkeCAqPSBkeDtcbiAgICBkeSAqPSBkeTtcbiAgICByZXR1cm4gZHggKyBkeSA8PSByMjtcbiAgfVxuICBnZXRCb3VuZHMoKSB7XG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54IC0gdGhpcy5yYWRpdXMsIHRoaXMueSAtIHRoaXMucmFkaXVzLCB0aGlzLnJhZGl1cyAqIDIsIHRoaXMucmFkaXVzICogMik7XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGBbQHBpeGkvbWF0aDpDaXJjbGUgeD0ke3RoaXMueH0geT0ke3RoaXMueX0gcmFkaXVzPSR7dGhpcy5yYWRpdXN9XWA7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ2lyY2xlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaXJjbGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgU0hBUEVTIH0gZnJvbSAnLi4vY29uc3QubWpzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJy4vUmVjdGFuZ2xlLm1qcyc7XG5cbmNsYXNzIEVsbGlwc2Uge1xuICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDAsIGhhbGZXaWR0aCA9IDAsIGhhbGZIZWlnaHQgPSAwKSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMud2lkdGggPSBoYWxmV2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoYWxmSGVpZ2h0O1xuICAgIHRoaXMudHlwZSA9IFNIQVBFUy5FTElQO1xuICB9XG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgRWxsaXBzZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9XG4gIGNvbnRhaW5zKHgsIHkpIHtcbiAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IG5vcm14ID0gKHggLSB0aGlzLngpIC8gdGhpcy53aWR0aDtcbiAgICBsZXQgbm9ybXkgPSAoeSAtIHRoaXMueSkgLyB0aGlzLmhlaWdodDtcbiAgICBub3JteCAqPSBub3JteDtcbiAgICBub3JteSAqPSBub3JteTtcbiAgICByZXR1cm4gbm9ybXggKyBub3JteSA8PSAxO1xuICB9XG4gIGdldEJvdW5kcygpIHtcbiAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLndpZHRoLCB0aGlzLnkgLSB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgW0BwaXhpL21hdGg6RWxsaXBzZSB4PSR7dGhpcy54fSB5PSR7dGhpcy55fSB3aWR0aD0ke3RoaXMud2lkdGh9IGhlaWdodD0ke3RoaXMuaGVpZ2h0fV1gO1xuICB9XG59XG5cbmV4cG9ydCB7IEVsbGlwc2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVsbGlwc2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgU0hBUEVTIH0gZnJvbSAnLi4vY29uc3QubWpzJztcblxuY2xhc3MgUG9seWdvbiB7XG4gIGNvbnN0cnVjdG9yKC4uLnBvaW50cykge1xuICAgIGxldCBmbGF0ID0gQXJyYXkuaXNBcnJheShwb2ludHNbMF0pID8gcG9pbnRzWzBdIDogcG9pbnRzO1xuICAgIGlmICh0eXBlb2YgZmxhdFswXSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgY29uc3QgcCA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlsID0gZmxhdC5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgIHAucHVzaChmbGF0W2ldLngsIGZsYXRbaV0ueSk7XG4gICAgICB9XG4gICAgICBmbGF0ID0gcDtcbiAgICB9XG4gICAgdGhpcy5wb2ludHMgPSBmbGF0O1xuICAgIHRoaXMudHlwZSA9IFNIQVBFUy5QT0xZO1xuICAgIHRoaXMuY2xvc2VTdHJva2UgPSB0cnVlO1xuICB9XG4gIGNsb25lKCkge1xuICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzLnNsaWNlKCk7XG4gICAgY29uc3QgcG9seWdvbiA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG4gICAgcG9seWdvbi5jbG9zZVN0cm9rZSA9IHRoaXMuY2xvc2VTdHJva2U7XG4gICAgcmV0dXJuIHBvbHlnb247XG4gIH1cbiAgY29udGFpbnMoeCwgeSkge1xuICAgIGxldCBpbnNpZGUgPSBmYWxzZTtcbiAgICBjb25zdCBsZW5ndGggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gbGVuZ3RoIC0gMTsgaSA8IGxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgY29uc3QgeGkgPSB0aGlzLnBvaW50c1tpICogMl07XG4gICAgICBjb25zdCB5aSA9IHRoaXMucG9pbnRzW2kgKiAyICsgMV07XG4gICAgICBjb25zdCB4aiA9IHRoaXMucG9pbnRzW2ogKiAyXTtcbiAgICAgIGNvbnN0IHlqID0gdGhpcy5wb2ludHNbaiAqIDIgKyAxXTtcbiAgICAgIGNvbnN0IGludGVyc2VjdCA9IHlpID4geSAhPT0geWogPiB5ICYmIHggPCAoeGogLSB4aSkgKiAoKHkgLSB5aSkgLyAoeWogLSB5aSkpICsgeGk7XG4gICAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbnNpZGU7XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGBbQHBpeGkvbWF0aDpQb2x5Z29uY2xvc2VTdHJva2U9JHt0aGlzLmNsb3NlU3Ryb2tlfXBvaW50cz0ke3RoaXMucG9pbnRzLnJlZHVjZSgocG9pbnRzRGVzYywgY3VycmVudFBvaW50KSA9PiBgJHtwb2ludHNEZXNjfSwgJHtjdXJyZW50UG9pbnR9YCwgXCJcIil9XWA7XG4gIH1cbn1cblxuZXhwb3J0IHsgUG9seWdvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9seWdvbi5tanMubWFwXG4iLCJpbXBvcnQgeyBTSEFQRVMgfSBmcm9tICcuLi9jb25zdC5tanMnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9Qb2ludC5tanMnO1xuXG5jb25zdCB0ZW1wUG9pbnRzID0gW25ldyBQb2ludCgpLCBuZXcgUG9pbnQoKSwgbmV3IFBvaW50KCksIG5ldyBQb2ludCgpXTtcbmNsYXNzIFJlY3RhbmdsZSB7XG4gIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKSB7XG4gICAgdGhpcy54ID0gTnVtYmVyKHgpO1xuICAgIHRoaXMueSA9IE51bWJlcih5KTtcbiAgICB0aGlzLndpZHRoID0gTnVtYmVyKHdpZHRoKTtcbiAgICB0aGlzLmhlaWdodCA9IE51bWJlcihoZWlnaHQpO1xuICAgIHRoaXMudHlwZSA9IFNIQVBFUy5SRUNUO1xuICB9XG4gIGdldCBsZWZ0KCkge1xuICAgIHJldHVybiB0aGlzLng7XG4gIH1cbiAgZ2V0IHJpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLnggKyB0aGlzLndpZHRoO1xuICB9XG4gIGdldCB0b3AoKSB7XG4gICAgcmV0dXJuIHRoaXMueTtcbiAgfVxuICBnZXQgYm90dG9tKCkge1xuICAgIHJldHVybiB0aGlzLnkgKyB0aGlzLmhlaWdodDtcbiAgfVxuICBzdGF0aWMgZ2V0IEVNUFRZKCkge1xuICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xuICB9XG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH1cbiAgY29weUZyb20ocmVjdGFuZ2xlKSB7XG4gICAgdGhpcy54ID0gcmVjdGFuZ2xlLng7XG4gICAgdGhpcy55ID0gcmVjdGFuZ2xlLnk7XG4gICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IHJlY3RhbmdsZS5oZWlnaHQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgY29weVRvKHJlY3RhbmdsZSkge1xuICAgIHJlY3RhbmdsZS54ID0gdGhpcy54O1xuICAgIHJlY3RhbmdsZS55ID0gdGhpcy55O1xuICAgIHJlY3RhbmdsZS53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgcmVjdGFuZ2xlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgIHJldHVybiByZWN0YW5nbGU7XG4gIH1cbiAgY29udGFpbnMoeCwgeSkge1xuICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8IHRoaXMueCArIHRoaXMud2lkdGgpIHtcbiAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDwgdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpbnRlcnNlY3RzKG90aGVyLCB0cmFuc2Zvcm0pIHtcbiAgICBpZiAoIXRyYW5zZm9ybSkge1xuICAgICAgY29uc3QgeDAyID0gdGhpcy54IDwgb3RoZXIueCA/IG90aGVyLnggOiB0aGlzLng7XG4gICAgICBjb25zdCB4MTIgPSB0aGlzLnJpZ2h0ID4gb3RoZXIucmlnaHQgPyBvdGhlci5yaWdodCA6IHRoaXMucmlnaHQ7XG4gICAgICBpZiAoeDEyIDw9IHgwMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCB5MDIgPSB0aGlzLnkgPCBvdGhlci55ID8gb3RoZXIueSA6IHRoaXMueTtcbiAgICAgIGNvbnN0IHkxMiA9IHRoaXMuYm90dG9tID4gb3RoZXIuYm90dG9tID8gb3RoZXIuYm90dG9tIDogdGhpcy5ib3R0b207XG4gICAgICByZXR1cm4geTEyID4geTAyO1xuICAgIH1cbiAgICBjb25zdCB4MCA9IHRoaXMubGVmdDtcbiAgICBjb25zdCB4MSA9IHRoaXMucmlnaHQ7XG4gICAgY29uc3QgeTAgPSB0aGlzLnRvcDtcbiAgICBjb25zdCB5MSA9IHRoaXMuYm90dG9tO1xuICAgIGlmICh4MSA8PSB4MCB8fCB5MSA8PSB5MCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBsdCA9IHRlbXBQb2ludHNbMF0uc2V0KG90aGVyLmxlZnQsIG90aGVyLnRvcCk7XG4gICAgY29uc3QgbGIgPSB0ZW1wUG9pbnRzWzFdLnNldChvdGhlci5sZWZ0LCBvdGhlci5ib3R0b20pO1xuICAgIGNvbnN0IHJ0ID0gdGVtcFBvaW50c1syXS5zZXQob3RoZXIucmlnaHQsIG90aGVyLnRvcCk7XG4gICAgY29uc3QgcmIgPSB0ZW1wUG9pbnRzWzNdLnNldChvdGhlci5yaWdodCwgb3RoZXIuYm90dG9tKTtcbiAgICBpZiAocnQueCA8PSBsdC54IHx8IGxiLnkgPD0gbHQueSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBzID0gTWF0aC5zaWduKHRyYW5zZm9ybS5hICogdHJhbnNmb3JtLmQgLSB0cmFuc2Zvcm0uYiAqIHRyYW5zZm9ybS5jKTtcbiAgICBpZiAocyA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cmFuc2Zvcm0uYXBwbHkobHQsIGx0KTtcbiAgICB0cmFuc2Zvcm0uYXBwbHkobGIsIGxiKTtcbiAgICB0cmFuc2Zvcm0uYXBwbHkocnQsIHJ0KTtcbiAgICB0cmFuc2Zvcm0uYXBwbHkocmIsIHJiKTtcbiAgICBpZiAoTWF0aC5tYXgobHQueCwgbGIueCwgcnQueCwgcmIueCkgPD0geDAgfHwgTWF0aC5taW4obHQueCwgbGIueCwgcnQueCwgcmIueCkgPj0geDEgfHwgTWF0aC5tYXgobHQueSwgbGIueSwgcnQueSwgcmIueSkgPD0geTAgfHwgTWF0aC5taW4obHQueSwgbGIueSwgcnQueSwgcmIueSkgPj0geTEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgbnggPSBzICogKGxiLnkgLSBsdC55KTtcbiAgICBjb25zdCBueSA9IHMgKiAobHQueCAtIGxiLngpO1xuICAgIGNvbnN0IG4wMCA9IG54ICogeDAgKyBueSAqIHkwO1xuICAgIGNvbnN0IG4xMCA9IG54ICogeDEgKyBueSAqIHkwO1xuICAgIGNvbnN0IG4wMSA9IG54ICogeDAgKyBueSAqIHkxO1xuICAgIGNvbnN0IG4xMSA9IG54ICogeDEgKyBueSAqIHkxO1xuICAgIGlmIChNYXRoLm1heChuMDAsIG4xMCwgbjAxLCBuMTEpIDw9IG54ICogbHQueCArIG55ICogbHQueSB8fCBNYXRoLm1pbihuMDAsIG4xMCwgbjAxLCBuMTEpID49IG54ICogcmIueCArIG55ICogcmIueSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBteCA9IHMgKiAobHQueSAtIHJ0LnkpO1xuICAgIGNvbnN0IG15ID0gcyAqIChydC54IC0gbHQueCk7XG4gICAgY29uc3QgbTAwID0gbXggKiB4MCArIG15ICogeTA7XG4gICAgY29uc3QgbTEwID0gbXggKiB4MSArIG15ICogeTA7XG4gICAgY29uc3QgbTAxID0gbXggKiB4MCArIG15ICogeTE7XG4gICAgY29uc3QgbTExID0gbXggKiB4MSArIG15ICogeTE7XG4gICAgaWYgKE1hdGgubWF4KG0wMCwgbTEwLCBtMDEsIG0xMSkgPD0gbXggKiBsdC54ICsgbXkgKiBsdC55IHx8IE1hdGgubWluKG0wMCwgbTEwLCBtMDEsIG0xMSkgPj0gbXggKiByYi54ICsgbXkgKiByYi55KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHBhZChwYWRkaW5nWCA9IDAsIHBhZGRpbmdZID0gcGFkZGluZ1gpIHtcbiAgICB0aGlzLnggLT0gcGFkZGluZ1g7XG4gICAgdGhpcy55IC09IHBhZGRpbmdZO1xuICAgIHRoaXMud2lkdGggKz0gcGFkZGluZ1ggKiAyO1xuICAgIHRoaXMuaGVpZ2h0ICs9IHBhZGRpbmdZICogMjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBmaXQocmVjdGFuZ2xlKSB7XG4gICAgY29uc3QgeDEgPSBNYXRoLm1heCh0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICBjb25zdCB4MiA9IE1hdGgubWluKHRoaXMueCArIHRoaXMud2lkdGgsIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKTtcbiAgICBjb25zdCB5MSA9IE1hdGgubWF4KHRoaXMueSwgcmVjdGFuZ2xlLnkpO1xuICAgIGNvbnN0IHkyID0gTWF0aC5taW4odGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG4gICAgdGhpcy54ID0geDE7XG4gICAgdGhpcy53aWR0aCA9IE1hdGgubWF4KHgyIC0geDEsIDApO1xuICAgIHRoaXMueSA9IHkxO1xuICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5tYXgoeTIgLSB5MSwgMCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgY2VpbChyZXNvbHV0aW9uID0gMSwgZXBzID0gMWUtMykge1xuICAgIGNvbnN0IHgyID0gTWF0aC5jZWlsKCh0aGlzLnggKyB0aGlzLndpZHRoIC0gZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICBjb25zdCB5MiA9IE1hdGguY2VpbCgodGhpcy55ICsgdGhpcy5oZWlnaHQgLSBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgIHRoaXMueCA9IE1hdGguZmxvb3IoKHRoaXMueCArIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgdGhpcy55ID0gTWF0aC5mbG9vcigodGhpcy55ICsgZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICB0aGlzLndpZHRoID0geDIgLSB0aGlzLng7XG4gICAgdGhpcy5oZWlnaHQgPSB5MiAtIHRoaXMueTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBlbmxhcmdlKHJlY3RhbmdsZSkge1xuICAgIGNvbnN0IHgxID0gTWF0aC5taW4odGhpcy54LCByZWN0YW5nbGUueCk7XG4gICAgY29uc3QgeDIgPSBNYXRoLm1heCh0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgY29uc3QgeTEgPSBNYXRoLm1pbih0aGlzLnksIHJlY3RhbmdsZS55KTtcbiAgICBjb25zdCB5MiA9IE1hdGgubWF4KHRoaXMueSArIHRoaXMuaGVpZ2h0LCByZWN0YW5nbGUueSArIHJlY3RhbmdsZS5oZWlnaHQpO1xuICAgIHRoaXMueCA9IHgxO1xuICAgIHRoaXMud2lkdGggPSB4MiAtIHgxO1xuICAgIHRoaXMueSA9IHkxO1xuICAgIHRoaXMuaGVpZ2h0ID0geTIgLSB5MTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYFtAcGl4aS9tYXRoOlJlY3RhbmdsZSB4PSR7dGhpcy54fSB5PSR7dGhpcy55fSB3aWR0aD0ke3RoaXMud2lkdGh9IGhlaWdodD0ke3RoaXMuaGVpZ2h0fV1gO1xuICB9XG59XG5cbmV4cG9ydCB7IFJlY3RhbmdsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVjdGFuZ2xlLm1qcy5tYXBcbiIsImltcG9ydCB7IFNIQVBFUyB9IGZyb20gJy4uL2NvbnN0Lm1qcyc7XG5cbmNsYXNzIFJvdW5kZWRSZWN0YW5nbGUge1xuICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgcmFkaXVzID0gMjApIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgIHRoaXMudHlwZSA9IFNIQVBFUy5SUkVDO1xuICB9XG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgUm91bmRlZFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMucmFkaXVzKTtcbiAgfVxuICBjb250YWlucyh4LCB5KSB7XG4gICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh4ID49IHRoaXMueCAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGgpIHtcbiAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMucmFkaXVzLCBNYXRoLm1pbih0aGlzLndpZHRoLCB0aGlzLmhlaWdodCkgLyAyKSk7XG4gICAgICAgIGlmICh5ID49IHRoaXMueSArIHJhZGl1cyAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gcmFkaXVzIHx8IHggPj0gdGhpcy54ICsgcmFkaXVzICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCAtIHJhZGl1cykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkeCA9IHggLSAodGhpcy54ICsgcmFkaXVzKTtcbiAgICAgICAgbGV0IGR5ID0geSAtICh0aGlzLnkgKyByYWRpdXMpO1xuICAgICAgICBjb25zdCByYWRpdXMyID0gcmFkaXVzICogcmFkaXVzO1xuICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLndpZHRoIC0gcmFkaXVzKTtcbiAgICAgICAgaWYgKGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1czIpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5oZWlnaHQgLSByYWRpdXMpO1xuICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGR4ID0geCAtICh0aGlzLnggKyByYWRpdXMpO1xuICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYFtAcGl4aS9tYXRoOlJvdW5kZWRSZWN0YW5nbGUgeD0ke3RoaXMueH0geT0ke3RoaXMueX13aWR0aD0ke3RoaXMud2lkdGh9IGhlaWdodD0ke3RoaXMuaGVpZ2h0fSByYWRpdXM9JHt0aGlzLnJhZGl1c31dYDtcbiAgfVxufVxuXG5leHBvcnQgeyBSb3VuZGVkUmVjdGFuZ2xlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Sb3VuZGVkUmVjdGFuZ2xlLm1qcy5tYXBcbiIsImltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNpbXBsZVBsYW5lIH0gZnJvbSAnLi9TaW1wbGVQbGFuZS5tanMnO1xuXG5jb25zdCBERUZBVUxUX0JPUkRFUl9TSVpFID0gMTA7XG5jbGFzcyBOaW5lU2xpY2VQbGFuZSBleHRlbmRzIFNpbXBsZVBsYW5lIHtcbiAgY29uc3RydWN0b3IodGV4dHVyZSwgbGVmdFdpZHRoLCB0b3BIZWlnaHQsIHJpZ2h0V2lkdGgsIGJvdHRvbUhlaWdodCkge1xuICAgIHN1cGVyKFRleHR1cmUuV0hJVEUsIDQsIDQpO1xuICAgIHRoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICB0aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICB0aGlzLl93aWR0aCA9IHRoaXMuX29yaWdXaWR0aDtcbiAgICB0aGlzLl9oZWlnaHQgPSB0aGlzLl9vcmlnSGVpZ2h0O1xuICAgIHRoaXMuX2xlZnRXaWR0aCA9IGxlZnRXaWR0aCA/PyB0ZXh0dXJlLmRlZmF1bHRCb3JkZXJzPy5sZWZ0ID8/IERFRkFVTFRfQk9SREVSX1NJWkU7XG4gICAgdGhpcy5fcmlnaHRXaWR0aCA9IHJpZ2h0V2lkdGggPz8gdGV4dHVyZS5kZWZhdWx0Qm9yZGVycz8ucmlnaHQgPz8gREVGQVVMVF9CT1JERVJfU0laRTtcbiAgICB0aGlzLl90b3BIZWlnaHQgPSB0b3BIZWlnaHQgPz8gdGV4dHVyZS5kZWZhdWx0Qm9yZGVycz8udG9wID8/IERFRkFVTFRfQk9SREVSX1NJWkU7XG4gICAgdGhpcy5fYm90dG9tSGVpZ2h0ID0gYm90dG9tSGVpZ2h0ID8/IHRleHR1cmUuZGVmYXVsdEJvcmRlcnM/LmJvdHRvbSA/PyBERUZBVUxUX0JPUkRFUl9TSVpFO1xuICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gIH1cbiAgdGV4dHVyZVVwZGF0ZWQoKSB7XG4gICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgdGhpcy5fcmVmcmVzaCgpO1xuICB9XG4gIGdldCB2ZXJ0aWNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoXCJhVmVydGV4UG9zaXRpb25cIikuZGF0YTtcbiAgfVxuICBzZXQgdmVydGljZXModmFsdWUpIHtcbiAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcihcImFWZXJ0ZXhQb3NpdGlvblwiKS5kYXRhID0gdmFsdWU7XG4gIH1cbiAgdXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzKCkge1xuICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuX2dldE1pblNjYWxlKCk7XG4gICAgdmVydGljZXNbOV0gPSB2ZXJ0aWNlc1sxMV0gPSB2ZXJ0aWNlc1sxM10gPSB2ZXJ0aWNlc1sxNV0gPSB0aGlzLl90b3BIZWlnaHQgKiBzY2FsZTtcbiAgICB2ZXJ0aWNlc1sxN10gPSB2ZXJ0aWNlc1sxOV0gPSB2ZXJ0aWNlc1syMV0gPSB2ZXJ0aWNlc1syM10gPSB0aGlzLl9oZWlnaHQgLSB0aGlzLl9ib3R0b21IZWlnaHQgKiBzY2FsZTtcbiAgICB2ZXJ0aWNlc1syNV0gPSB2ZXJ0aWNlc1syN10gPSB2ZXJ0aWNlc1syOV0gPSB2ZXJ0aWNlc1szMV0gPSB0aGlzLl9oZWlnaHQ7XG4gIH1cbiAgdXBkYXRlVmVydGljYWxWZXJ0aWNlcygpIHtcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLl9nZXRNaW5TY2FsZSgpO1xuICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbMTBdID0gdmVydGljZXNbMThdID0gdmVydGljZXNbMjZdID0gdGhpcy5fbGVmdFdpZHRoICogc2NhbGU7XG4gICAgdmVydGljZXNbNF0gPSB2ZXJ0aWNlc1sxMl0gPSB2ZXJ0aWNlc1syMF0gPSB2ZXJ0aWNlc1syOF0gPSB0aGlzLl93aWR0aCAtIHRoaXMuX3JpZ2h0V2lkdGggKiBzY2FsZTtcbiAgICB2ZXJ0aWNlc1s2XSA9IHZlcnRpY2VzWzE0XSA9IHZlcnRpY2VzWzIyXSA9IHZlcnRpY2VzWzMwXSA9IHRoaXMuX3dpZHRoO1xuICB9XG4gIF9nZXRNaW5TY2FsZSgpIHtcbiAgICBjb25zdCB3ID0gdGhpcy5fbGVmdFdpZHRoICsgdGhpcy5fcmlnaHRXaWR0aDtcbiAgICBjb25zdCBzY2FsZVcgPSB0aGlzLl93aWR0aCA+IHcgPyAxIDogdGhpcy5fd2lkdGggLyB3O1xuICAgIGNvbnN0IGggPSB0aGlzLl90b3BIZWlnaHQgKyB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgY29uc3Qgc2NhbGVIID0gdGhpcy5faGVpZ2h0ID4gaCA/IDEgOiB0aGlzLl9oZWlnaHQgLyBoO1xuICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4oc2NhbGVXLCBzY2FsZUgpO1xuICAgIHJldHVybiBzY2FsZTtcbiAgfVxuICBnZXQgd2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICB9XG4gIHNldCB3aWR0aCh2YWx1ZSkge1xuICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgdGhpcy5fcmVmcmVzaCgpO1xuICB9XG4gIGdldCBoZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgfVxuICBzZXQgaGVpZ2h0KHZhbHVlKSB7XG4gICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgdGhpcy5fcmVmcmVzaCgpO1xuICB9XG4gIGdldCBsZWZ0V2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xlZnRXaWR0aDtcbiAgfVxuICBzZXQgbGVmdFdpZHRoKHZhbHVlKSB7XG4gICAgdGhpcy5fbGVmdFdpZHRoID0gdmFsdWU7XG4gICAgdGhpcy5fcmVmcmVzaCgpO1xuICB9XG4gIGdldCByaWdodFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLl9yaWdodFdpZHRoO1xuICB9XG4gIHNldCByaWdodFdpZHRoKHZhbHVlKSB7XG4gICAgdGhpcy5fcmlnaHRXaWR0aCA9IHZhbHVlO1xuICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgfVxuICBnZXQgdG9wSGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLl90b3BIZWlnaHQ7XG4gIH1cbiAgc2V0IHRvcEhlaWdodCh2YWx1ZSkge1xuICAgIHRoaXMuX3RvcEhlaWdodCA9IHZhbHVlO1xuICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgfVxuICBnZXQgYm90dG9tSGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gIH1cbiAgc2V0IGJvdHRvbUhlaWdodCh2YWx1ZSkge1xuICAgIHRoaXMuX2JvdHRvbUhlaWdodCA9IHZhbHVlO1xuICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgfVxuICBfcmVmcmVzaCgpIHtcbiAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgIGNvbnN0IHV2cyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXS5kYXRhO1xuICAgIHRoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICB0aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICBjb25zdCBfdXZ3ID0gMSAvIHRoaXMuX29yaWdXaWR0aDtcbiAgICBjb25zdCBfdXZoID0gMSAvIHRoaXMuX29yaWdIZWlnaHQ7XG4gICAgdXZzWzBdID0gdXZzWzhdID0gdXZzWzE2XSA9IHV2c1syNF0gPSAwO1xuICAgIHV2c1sxXSA9IHV2c1szXSA9IHV2c1s1XSA9IHV2c1s3XSA9IDA7XG4gICAgdXZzWzZdID0gdXZzWzE0XSA9IHV2c1syMl0gPSB1dnNbMzBdID0gMTtcbiAgICB1dnNbMjVdID0gdXZzWzI3XSA9IHV2c1syOV0gPSB1dnNbMzFdID0gMTtcbiAgICB1dnNbMl0gPSB1dnNbMTBdID0gdXZzWzE4XSA9IHV2c1syNl0gPSBfdXZ3ICogdGhpcy5fbGVmdFdpZHRoO1xuICAgIHV2c1s0XSA9IHV2c1sxMl0gPSB1dnNbMjBdID0gdXZzWzI4XSA9IDEgLSBfdXZ3ICogdGhpcy5fcmlnaHRXaWR0aDtcbiAgICB1dnNbOV0gPSB1dnNbMTFdID0gdXZzWzEzXSA9IHV2c1sxNV0gPSBfdXZoICogdGhpcy5fdG9wSGVpZ2h0O1xuICAgIHV2c1sxN10gPSB1dnNbMTldID0gdXZzWzIxXSA9IHV2c1syM10gPSAxIC0gX3V2aCAqIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICB0aGlzLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpO1xuICAgIHRoaXMudXBkYXRlVmVydGljYWxWZXJ0aWNlcygpO1xuICAgIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV0udXBkYXRlKCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgTmluZVNsaWNlUGxhbmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5pbmVTbGljZVBsYW5lLm1qcy5tYXBcbiIsImltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IE1lc2gsIE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5cbmNsYXNzIFNpbXBsZU1lc2ggZXh0ZW5kcyBNZXNoIHtcbiAgY29uc3RydWN0b3IodGV4dHVyZSA9IFRleHR1cmUuRU1QVFksIHZlcnRpY2VzLCB1dnMsIGluZGljZXMsIGRyYXdNb2RlKSB7XG4gICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgTWVzaEdlb21ldHJ5KHZlcnRpY2VzLCB1dnMsIGluZGljZXMpO1xuICAgIGdlb21ldHJ5LmdldEJ1ZmZlcihcImFWZXJ0ZXhQb3NpdGlvblwiKS5zdGF0aWMgPSBmYWxzZTtcbiAgICBjb25zdCBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKHRleHR1cmUpO1xuICAgIHN1cGVyKGdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwsIG51bGwsIGRyYXdNb2RlKTtcbiAgICB0aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuICB9XG4gIGdldCB2ZXJ0aWNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoXCJhVmVydGV4UG9zaXRpb25cIikuZGF0YTtcbiAgfVxuICBzZXQgdmVydGljZXModmFsdWUpIHtcbiAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcihcImFWZXJ0ZXhQb3NpdGlvblwiKS5kYXRhID0gdmFsdWU7XG4gIH1cbiAgX3JlbmRlcihyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLmF1dG9VcGRhdGUpIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKFwiYVZlcnRleFBvc2l0aW9uXCIpLnVwZGF0ZSgpO1xuICAgIH1cbiAgICBzdXBlci5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgfVxufVxuXG5leHBvcnQgeyBTaW1wbGVNZXNoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaW1wbGVNZXNoLm1qcy5tYXBcbiIsImltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IE1lc2gsIE1lc2hNYXRlcmlhbCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IHsgUGxhbmVHZW9tZXRyeSB9IGZyb20gJy4vZ2VvbWV0cnkvUGxhbmVHZW9tZXRyeS5tanMnO1xuXG5jbGFzcyBTaW1wbGVQbGFuZSBleHRlbmRzIE1lc2gge1xuICBjb25zdHJ1Y3Rvcih0ZXh0dXJlLCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSkge1xuICAgIGNvbnN0IHBsYW5lR2VvbWV0cnkgPSBuZXcgUGxhbmVHZW9tZXRyeSh0ZXh0dXJlLndpZHRoLCB0ZXh0dXJlLmhlaWdodCwgdmVydGljZXNYLCB2ZXJ0aWNlc1kpO1xuICAgIGNvbnN0IG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwoVGV4dHVyZS5XSElURSk7XG4gICAgc3VwZXIocGxhbmVHZW9tZXRyeSwgbWVzaE1hdGVyaWFsKTtcbiAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgIHRoaXMuYXV0b1Jlc2l6ZSA9IHRydWU7XG4gIH1cbiAgdGV4dHVyZVVwZGF0ZWQoKSB7XG4gICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zaGFkZXIudGV4dHVyZTtcbiAgICBpZiAodGhpcy5hdXRvUmVzaXplICYmIChnZW9tZXRyeS53aWR0aCAhPT0gd2lkdGggfHwgZ2VvbWV0cnkuaGVpZ2h0ICE9PSBoZWlnaHQpKSB7XG4gICAgICBnZW9tZXRyeS53aWR0aCA9IHRoaXMuc2hhZGVyLnRleHR1cmUud2lkdGg7XG4gICAgICBnZW9tZXRyeS5oZWlnaHQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodDtcbiAgICAgIGdlb21ldHJ5LmJ1aWxkKCk7XG4gICAgfVxuICB9XG4gIHNldCB0ZXh0dXJlKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuc2hhZGVyLnRleHR1cmUgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2hhZGVyLnRleHR1cmUgPSB2YWx1ZTtcbiAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUub25jZShcInVwZGF0ZVwiLCB0aGlzLnRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICB9XG4gIH1cbiAgZ2V0IHRleHR1cmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2hhZGVyLnRleHR1cmU7XG4gIH1cbiAgX3JlbmRlcihyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLl90ZXh0dXJlSUQgIT09IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICB0aGlzLnRleHR1cmVVcGRhdGVkKCk7XG4gICAgfVxuICAgIHN1cGVyLl9yZW5kZXIocmVuZGVyZXIpO1xuICB9XG4gIGRlc3Ryb3kob3B0aW9ucykge1xuICAgIHRoaXMuc2hhZGVyLnRleHR1cmUub2ZmKFwidXBkYXRlXCIsIHRoaXMudGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IHsgU2ltcGxlUGxhbmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpbXBsZVBsYW5lLm1qcy5tYXBcbiIsImltcG9ydCB7IFdSQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IE1lc2gsIE1lc2hNYXRlcmlhbCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IHsgUm9wZUdlb21ldHJ5IH0gZnJvbSAnLi9nZW9tZXRyeS9Sb3BlR2VvbWV0cnkubWpzJztcblxuY2xhc3MgU2ltcGxlUm9wZSBleHRlbmRzIE1lc2gge1xuICBjb25zdHJ1Y3Rvcih0ZXh0dXJlLCBwb2ludHMsIHRleHR1cmVTY2FsZSA9IDApIHtcbiAgICBjb25zdCByb3BlR2VvbWV0cnkgPSBuZXcgUm9wZUdlb21ldHJ5KHRleHR1cmUuaGVpZ2h0LCBwb2ludHMsIHRleHR1cmVTY2FsZSk7XG4gICAgY29uc3QgbWVzaE1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbCh0ZXh0dXJlKTtcbiAgICBpZiAodGV4dHVyZVNjYWxlID4gMCkge1xuICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgIH1cbiAgICBzdXBlcihyb3BlR2VvbWV0cnksIG1lc2hNYXRlcmlhbCk7XG4gICAgdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgfVxuICBfcmVuZGVyKHJlbmRlcmVyKSB7XG4gICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgIGlmICh0aGlzLmF1dG9VcGRhdGUgfHwgZ2VvbWV0cnkuX3dpZHRoICE9PSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodCkge1xuICAgICAgZ2VvbWV0cnkuX3dpZHRoID0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQ7XG4gICAgICBnZW9tZXRyeS51cGRhdGUoKTtcbiAgICB9XG4gICAgc3VwZXIuX3JlbmRlcihyZW5kZXJlcik7XG4gIH1cbn1cblxuZXhwb3J0IHsgU2ltcGxlUm9wZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2ltcGxlUm9wZS5tanMubWFwXG4iLCJpbXBvcnQgeyBNZXNoR2VvbWV0cnkgfSBmcm9tICdAcGl4aS9tZXNoJztcblxuY2xhc3MgUGxhbmVHZW9tZXRyeSBleHRlbmRzIE1lc2hHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKHdpZHRoID0gMTAwLCBoZWlnaHQgPSAxMDAsIHNlZ1dpZHRoID0gMTAsIHNlZ0hlaWdodCA9IDEwKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNlZ1dpZHRoID0gc2VnV2lkdGg7XG4gICAgdGhpcy5zZWdIZWlnaHQgPSBzZWdIZWlnaHQ7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuYnVpbGQoKTtcbiAgfVxuICBidWlsZCgpIHtcbiAgICBjb25zdCB0b3RhbCA9IHRoaXMuc2VnV2lkdGggKiB0aGlzLnNlZ0hlaWdodDtcbiAgICBjb25zdCB2ZXJ0cyA9IFtdO1xuICAgIGNvbnN0IHV2cyA9IFtdO1xuICAgIGNvbnN0IGluZGljZXMgPSBbXTtcbiAgICBjb25zdCBzZWdtZW50c1ggPSB0aGlzLnNlZ1dpZHRoIC0gMTtcbiAgICBjb25zdCBzZWdtZW50c1kgPSB0aGlzLnNlZ0hlaWdodCAtIDE7XG4gICAgY29uc3Qgc2l6ZVggPSB0aGlzLndpZHRoIC8gc2VnbWVudHNYO1xuICAgIGNvbnN0IHNpemVZID0gdGhpcy5oZWlnaHQgLyBzZWdtZW50c1k7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICBjb25zdCB4ID0gaSAlIHRoaXMuc2VnV2lkdGg7XG4gICAgICBjb25zdCB5ID0gaSAvIHRoaXMuc2VnV2lkdGggfCAwO1xuICAgICAgdmVydHMucHVzaCh4ICogc2l6ZVgsIHkgKiBzaXplWSk7XG4gICAgICB1dnMucHVzaCh4IC8gc2VnbWVudHNYLCB5IC8gc2VnbWVudHNZKTtcbiAgICB9XG4gICAgY29uc3QgdG90YWxTdWIgPSBzZWdtZW50c1ggKiBzZWdtZW50c1k7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbFN1YjsgaSsrKSB7XG4gICAgICBjb25zdCB4cG9zID0gaSAlIHNlZ21lbnRzWDtcbiAgICAgIGNvbnN0IHlwb3MgPSBpIC8gc2VnbWVudHNYIHwgMDtcbiAgICAgIGNvbnN0IHZhbHVlID0geXBvcyAqIHRoaXMuc2VnV2lkdGggKyB4cG9zO1xuICAgICAgY29uc3QgdmFsdWUyID0geXBvcyAqIHRoaXMuc2VnV2lkdGggKyB4cG9zICsgMTtcbiAgICAgIGNvbnN0IHZhbHVlMyA9ICh5cG9zICsgMSkgKiB0aGlzLnNlZ1dpZHRoICsgeHBvcztcbiAgICAgIGNvbnN0IHZhbHVlNCA9ICh5cG9zICsgMSkgKiB0aGlzLnNlZ1dpZHRoICsgeHBvcyArIDE7XG4gICAgICBpbmRpY2VzLnB1c2godmFsdWUsIHZhbHVlMiwgdmFsdWUzLCB2YWx1ZTIsIHZhbHVlNCwgdmFsdWUzKTtcbiAgICB9XG4gICAgdGhpcy5idWZmZXJzWzBdLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRzKTtcbiAgICB0aGlzLmJ1ZmZlcnNbMV0uZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodXZzKTtcbiAgICB0aGlzLmluZGV4QnVmZmVyLmRhdGEgPSBuZXcgVWludDE2QXJyYXkoaW5kaWNlcyk7XG4gICAgdGhpcy5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgIHRoaXMuYnVmZmVyc1sxXS51cGRhdGUoKTtcbiAgICB0aGlzLmluZGV4QnVmZmVyLnVwZGF0ZSgpO1xuICB9XG59XG5cbmV4cG9ydCB7IFBsYW5lR2VvbWV0cnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBsYW5lR2VvbWV0cnkubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWVzaEdlb21ldHJ5IH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5cbmNsYXNzIFJvcGVHZW9tZXRyeSBleHRlbmRzIE1lc2hHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKHdpZHRoID0gMjAwLCBwb2ludHMsIHRleHR1cmVTY2FsZSA9IDApIHtcbiAgICBzdXBlcihuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KSwgbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCksIG5ldyBVaW50MTZBcnJheSgocG9pbnRzLmxlbmd0aCAtIDEpICogNikpO1xuICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgdGhpcy50ZXh0dXJlU2NhbGUgPSB0ZXh0dXJlU2NhbGU7XG4gICAgdGhpcy5idWlsZCgpO1xuICB9XG4gIGdldCB3aWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gIH1cbiAgYnVpbGQoKSB7XG4gICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgaWYgKCFwb2ludHMpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdmVydGV4QnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoXCJhVmVydGV4UG9zaXRpb25cIik7XG4gICAgY29uc3QgdXZCdWZmZXIgPSB0aGlzLmdldEJ1ZmZlcihcImFUZXh0dXJlQ29vcmRcIik7XG4gICAgY29uc3QgaW5kZXhCdWZmZXIgPSB0aGlzLmdldEluZGV4KCk7XG4gICAgaWYgKHBvaW50cy5sZW5ndGggPCAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh2ZXJ0ZXhCdWZmZXIuZGF0YS5sZW5ndGggLyA0ICE9PSBwb2ludHMubGVuZ3RoKSB7XG4gICAgICB2ZXJ0ZXhCdWZmZXIuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgdXZCdWZmZXIuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgaW5kZXhCdWZmZXIuZGF0YSA9IG5ldyBVaW50MTZBcnJheSgocG9pbnRzLmxlbmd0aCAtIDEpICogNik7XG4gICAgfVxuICAgIGNvbnN0IHV2cyA9IHV2QnVmZmVyLmRhdGE7XG4gICAgY29uc3QgaW5kaWNlcyA9IGluZGV4QnVmZmVyLmRhdGE7XG4gICAgdXZzWzBdID0gMDtcbiAgICB1dnNbMV0gPSAwO1xuICAgIHV2c1syXSA9IDA7XG4gICAgdXZzWzNdID0gMTtcbiAgICBsZXQgYW1vdW50ID0gMDtcbiAgICBsZXQgcHJldiA9IHBvaW50c1swXTtcbiAgICBjb25zdCB0ZXh0dXJlV2lkdGggPSB0aGlzLl93aWR0aCAqIHRoaXMudGV4dHVyZVNjYWxlO1xuICAgIGNvbnN0IHRvdGFsID0gcG9pbnRzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gaSAqIDQ7XG4gICAgICBpZiAodGhpcy50ZXh0dXJlU2NhbGUgPiAwKSB7XG4gICAgICAgIGNvbnN0IGR4ID0gcHJldi54IC0gcG9pbnRzW2ldLng7XG4gICAgICAgIGNvbnN0IGR5ID0gcHJldi55IC0gcG9pbnRzW2ldLnk7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgcHJldiA9IHBvaW50c1tpXTtcbiAgICAgICAgYW1vdW50ICs9IGRpc3RhbmNlIC8gdGV4dHVyZVdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYW1vdW50ID0gaSAvICh0b3RhbCAtIDEpO1xuICAgICAgfVxuICAgICAgdXZzW2luZGV4XSA9IGFtb3VudDtcbiAgICAgIHV2c1tpbmRleCArIDFdID0gMDtcbiAgICAgIHV2c1tpbmRleCArIDJdID0gYW1vdW50O1xuICAgICAgdXZzW2luZGV4ICsgM10gPSAxO1xuICAgIH1cbiAgICBsZXQgaW5kZXhDb3VudCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbCAtIDE7IGkrKykge1xuICAgICAgY29uc3QgaW5kZXggPSBpICogMjtcbiAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4O1xuICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAxO1xuICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAyO1xuICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAyO1xuICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAxO1xuICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAzO1xuICAgIH1cbiAgICB1dkJ1ZmZlci51cGRhdGUoKTtcbiAgICBpbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XG4gIH1cbiAgdXBkYXRlVmVydGljZXMoKSB7XG4gICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgaWYgKHBvaW50cy5sZW5ndGggPCAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBsYXN0UG9pbnQgPSBwb2ludHNbMF07XG4gICAgbGV0IG5leHRQb2ludDtcbiAgICBsZXQgcGVycFggPSAwO1xuICAgIGxldCBwZXJwWSA9IDA7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLmJ1ZmZlcnNbMF0uZGF0YTtcbiAgICBjb25zdCB0b3RhbCA9IHBvaW50cy5sZW5ndGg7XG4gICAgY29uc3QgaGFsZldpZHRoID0gdGhpcy50ZXh0dXJlU2NhbGUgPiAwID8gdGhpcy50ZXh0dXJlU2NhbGUgKiB0aGlzLl93aWR0aCAvIDIgOiB0aGlzLl93aWR0aCAvIDI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgIGNvbnN0IGluZGV4ID0gaSAqIDQ7XG4gICAgICBpZiAoaSA8IHBvaW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgIG5leHRQb2ludCA9IHBvaW50c1tpICsgMV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0UG9pbnQgPSBwb2ludDtcbiAgICAgIH1cbiAgICAgIHBlcnBZID0gLShuZXh0UG9pbnQueCAtIGxhc3RQb2ludC54KTtcbiAgICAgIHBlcnBYID0gbmV4dFBvaW50LnkgLSBsYXN0UG9pbnQueTtcbiAgICAgIGxldCByYXRpbyA9ICgxIC0gaSAvICh0b3RhbCAtIDEpKSAqIDEwO1xuICAgICAgaWYgKHJhdGlvID4gMSkge1xuICAgICAgICByYXRpbyA9IDE7XG4gICAgICB9XG4gICAgICBjb25zdCBwZXJwTGVuZ3RoID0gTWF0aC5zcXJ0KHBlcnBYICogcGVycFggKyBwZXJwWSAqIHBlcnBZKTtcbiAgICAgIGlmIChwZXJwTGVuZ3RoIDwgMWUtNikge1xuICAgICAgICBwZXJwWCA9IDA7XG4gICAgICAgIHBlcnBZID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlcnBYIC89IHBlcnBMZW5ndGg7XG4gICAgICAgIHBlcnBZIC89IHBlcnBMZW5ndGg7XG4gICAgICAgIHBlcnBYICo9IGhhbGZXaWR0aDtcbiAgICAgICAgcGVycFkgKj0gaGFsZldpZHRoO1xuICAgICAgfVxuICAgICAgdmVydGljZXNbaW5kZXhdID0gcG9pbnQueCArIHBlcnBYO1xuICAgICAgdmVydGljZXNbaW5kZXggKyAxXSA9IHBvaW50LnkgKyBwZXJwWTtcbiAgICAgIHZlcnRpY2VzW2luZGV4ICsgMl0gPSBwb2ludC54IC0gcGVycFg7XG4gICAgICB2ZXJ0aWNlc1tpbmRleCArIDNdID0gcG9pbnQueSAtIHBlcnBZO1xuICAgICAgbGFzdFBvaW50ID0gcG9pbnQ7XG4gICAgfVxuICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgfVxuICB1cGRhdGUoKSB7XG4gICAgaWYgKHRoaXMudGV4dHVyZVNjYWxlID4gMCkge1xuICAgICAgdGhpcy5idWlsZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IFJvcGVHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Um9wZUdlb21ldHJ5Lm1qcy5tYXBcbiIsImV4cG9ydCB7IFBsYW5lR2VvbWV0cnkgfSBmcm9tICcuL2dlb21ldHJ5L1BsYW5lR2VvbWV0cnkubWpzJztcbmV4cG9ydCB7IFJvcGVHZW9tZXRyeSB9IGZyb20gJy4vZ2VvbWV0cnkvUm9wZUdlb21ldHJ5Lm1qcyc7XG5leHBvcnQgeyBOaW5lU2xpY2VQbGFuZSB9IGZyb20gJy4vTmluZVNsaWNlUGxhbmUubWpzJztcbmV4cG9ydCB7IFNpbXBsZU1lc2ggfSBmcm9tICcuL1NpbXBsZU1lc2gubWpzJztcbmV4cG9ydCB7IFNpbXBsZVBsYW5lIH0gZnJvbSAnLi9TaW1wbGVQbGFuZS5tanMnO1xuZXhwb3J0IHsgU2ltcGxlUm9wZSB9IGZyb20gJy4vU2ltcGxlUm9wZS5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgUG9pbnQsIFBvbHlnb24sIFN0YXRlLCBzZXR0aW5ncywgRFJBV19NT0RFUyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBNZXNoQmF0Y2hVdnMgfSBmcm9tICcuL01lc2hCYXRjaFV2cy5tanMnO1xuXG5jb25zdCB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbmNvbnN0IHRlbXBQb2x5Z29uID0gbmV3IFBvbHlnb24oKTtcbmNvbnN0IF9NZXNoID0gY2xhc3MgZXh0ZW5kcyBDb250YWluZXIge1xuICBjb25zdHJ1Y3RvcihnZW9tZXRyeSwgc2hhZGVyLCBzdGF0ZSwgZHJhd01vZGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5nZW9tZXRyeSA9IGdlb21ldHJ5O1xuICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZSB8fCBTdGF0ZS5mb3IyZCgpO1xuICAgIHRoaXMuZHJhd01vZGUgPSBkcmF3TW9kZTtcbiAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICB0aGlzLnNpemUgPSAwO1xuICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoMSk7XG4gICAgdGhpcy52ZXJ0ZXhEaXJ0eSA9IC0xO1xuICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5ST1VORF9QSVhFTFM7XG4gICAgdGhpcy5iYXRjaFV2cyA9IG51bGw7XG4gIH1cbiAgZ2V0IGdlb21ldHJ5KCkge1xuICAgIHJldHVybiB0aGlzLl9nZW9tZXRyeTtcbiAgfVxuICBzZXQgZ2VvbWV0cnkodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fZ2VvbWV0cnkgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl9nZW9tZXRyeSkge1xuICAgICAgdGhpcy5fZ2VvbWV0cnkucmVmQ291bnQtLTtcbiAgICAgIGlmICh0aGlzLl9nZW9tZXRyeS5yZWZDb3VudCA9PT0gMCkge1xuICAgICAgICB0aGlzLl9nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2dlb21ldHJ5ID0gdmFsdWU7XG4gICAgaWYgKHRoaXMuX2dlb21ldHJ5KSB7XG4gICAgICB0aGlzLl9nZW9tZXRyeS5yZWZDb3VudCsrO1xuICAgIH1cbiAgICB0aGlzLnZlcnRleERpcnR5ID0gLTE7XG4gIH1cbiAgZ2V0IHV2QnVmZmVyKCkge1xuICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV07XG4gIH1cbiAgZ2V0IHZlcnRpY2VzQnVmZmVyKCkge1xuICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF07XG4gIH1cbiAgc2V0IG1hdGVyaWFsKHZhbHVlKSB7XG4gICAgdGhpcy5zaGFkZXIgPSB2YWx1ZTtcbiAgfVxuICBnZXQgbWF0ZXJpYWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2hhZGVyO1xuICB9XG4gIHNldCBibGVuZE1vZGUodmFsdWUpIHtcbiAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICB9XG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICB9XG4gIHNldCByb3VuZFBpeGVscyh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscyAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgfVxuICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gdmFsdWU7XG4gIH1cbiAgZ2V0IHJvdW5kUGl4ZWxzKCkge1xuICAgIHJldHVybiB0aGlzLl9yb3VuZFBpeGVscztcbiAgfVxuICBnZXQgdGludCgpIHtcbiAgICByZXR1cm4gXCJ0aW50XCIgaW4gdGhpcy5zaGFkZXIgPyB0aGlzLnNoYWRlci50aW50IDogbnVsbDtcbiAgfVxuICBzZXQgdGludCh2YWx1ZSkge1xuICAgIHRoaXMuc2hhZGVyLnRpbnQgPSB2YWx1ZTtcbiAgfVxuICBnZXQgdGludFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLnNoYWRlci50aW50VmFsdWU7XG4gIH1cbiAgZ2V0IHRleHR1cmUoKSB7XG4gICAgcmV0dXJuIFwidGV4dHVyZVwiIGluIHRoaXMuc2hhZGVyID8gdGhpcy5zaGFkZXIudGV4dHVyZSA6IG51bGw7XG4gIH1cbiAgc2V0IHRleHR1cmUodmFsdWUpIHtcbiAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gIH1cbiAgX3JlbmRlcihyZW5kZXJlcikge1xuICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdLmRhdGE7XG4gICAgY29uc3Qgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG4gICAgaWYgKHNoYWRlci5iYXRjaGFibGUgJiYgdGhpcy5kcmF3TW9kZSA9PT0gRFJBV19NT0RFUy5UUklBTkdMRVMgJiYgdmVydGljZXMubGVuZ3RoIDwgX01lc2guQkFUQ0hBQkxFX1NJWkUgKiAyKSB7XG4gICAgICB0aGlzLl9yZW5kZXJUb0JhdGNoKHJlbmRlcmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVuZGVyRGVmYXVsdChyZW5kZXJlcik7XG4gICAgfVxuICB9XG4gIF9yZW5kZXJEZWZhdWx0KHJlbmRlcmVyKSB7XG4gICAgY29uc3Qgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG4gICAgc2hhZGVyLmFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgIGlmIChzaGFkZXIudXBkYXRlKSB7XG4gICAgICBzaGFkZXIudXBkYXRlKCk7XG4gICAgfVxuICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMuZ2VvbWV0cnksIHNoYWRlcik7XG4gICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0aGlzLmRyYXdNb2RlLCB0aGlzLnNpemUsIHRoaXMuc3RhcnQsIHRoaXMuZ2VvbWV0cnkuaW5zdGFuY2VDb3VudCk7XG4gIH1cbiAgX3JlbmRlclRvQmF0Y2gocmVuZGVyZXIpIHtcbiAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgY29uc3Qgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG4gICAgaWYgKHNoYWRlci51dk1hdHJpeCkge1xuICAgICAgc2hhZGVyLnV2TWF0cml4LnVwZGF0ZSgpO1xuICAgICAgdGhpcy5jYWxjdWxhdGVVdnMoKTtcbiAgICB9XG4gICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgIHRoaXMuaW5kaWNlcyA9IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGE7XG4gICAgdGhpcy5fdGludFJHQiA9IHNoYWRlci5fdGludFJHQjtcbiAgICB0aGlzLl90ZXh0dXJlID0gc2hhZGVyLnRleHR1cmU7XG4gICAgY29uc3QgcGx1Z2luTmFtZSA9IHRoaXMubWF0ZXJpYWwucGx1Z2luTmFtZTtcbiAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3BsdWdpbk5hbWVdKTtcbiAgICByZW5kZXJlci5wbHVnaW5zW3BsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgfVxuICBjYWxjdWxhdGVWZXJ0aWNlcygpIHtcbiAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgY29uc3QgdmVydGljZXNCdWZmZXIgPSBnZW9tZXRyeS5idWZmZXJzWzBdO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gdmVydGljZXNCdWZmZXIuZGF0YTtcbiAgICBjb25zdCB2ZXJ0ZXhEaXJ0eUlkID0gdmVydGljZXNCdWZmZXIuX3VwZGF0ZUlEO1xuICAgIGlmICh2ZXJ0ZXhEaXJ0eUlkID09PSB0aGlzLnZlcnRleERpcnR5ICYmIHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgIGlmICh0aGlzLnZlcnRleERhdGEubGVuZ3RoICE9PSB2ZXJ0aWNlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgY29uc3Qgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjb25zdCBhID0gd3QuYTtcbiAgICBjb25zdCBiID0gd3QuYjtcbiAgICBjb25zdCBjID0gd3QuYztcbiAgICBjb25zdCBkID0gd3QuZDtcbiAgICBjb25zdCB0eCA9IHd0LnR4O1xuICAgIGNvbnN0IHR5ID0gd3QudHk7XG4gICAgY29uc3QgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoIC8gMjsgaSsrKSB7XG4gICAgICBjb25zdCB4ID0gdmVydGljZXNbaSAqIDJdO1xuICAgICAgY29uc3QgeSA9IHZlcnRpY2VzW2kgKiAyICsgMV07XG4gICAgICB2ZXJ0ZXhEYXRhW2kgKiAyXSA9IGEgKiB4ICsgYyAqIHkgKyB0eDtcbiAgICAgIHZlcnRleERhdGFbaSAqIDIgKyAxXSA9IGIgKiB4ICsgZCAqIHkgKyB0eTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICBjb25zdCByZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydGV4RGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICB2ZXJ0ZXhEYXRhW2ldID0gTWF0aC5yb3VuZCh2ZXJ0ZXhEYXRhW2ldICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnZlcnRleERpcnR5ID0gdmVydGV4RGlydHlJZDtcbiAgfVxuICBjYWxjdWxhdGVVdnMoKSB7XG4gICAgY29uc3QgZ2VvbVV2cyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXTtcbiAgICBjb25zdCBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcbiAgICBpZiAoIXNoYWRlci51dk1hdHJpeC5pc1NpbXBsZSkge1xuICAgICAgaWYgKCF0aGlzLmJhdGNoVXZzKSB7XG4gICAgICAgIHRoaXMuYmF0Y2hVdnMgPSBuZXcgTWVzaEJhdGNoVXZzKGdlb21VdnMsIHNoYWRlci51dk1hdHJpeCk7XG4gICAgICB9XG4gICAgICB0aGlzLmJhdGNoVXZzLnVwZGF0ZSgpO1xuICAgICAgdGhpcy51dnMgPSB0aGlzLmJhdGNoVXZzLmRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXZzID0gZ2VvbVV2cy5kYXRhO1xuICAgIH1cbiAgfVxuICBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICB0aGlzLl9ib3VuZHMuYWRkVmVydGV4RGF0YSh0aGlzLnZlcnRleERhdGEsIDAsIHRoaXMudmVydGV4RGF0YS5sZW5ndGgpO1xuICB9XG4gIGNvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICBpZiAoIXRoaXMuZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnQueCwgcG9pbnQueSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcihcImFWZXJ0ZXhQb3NpdGlvblwiKS5kYXRhO1xuICAgIGNvbnN0IHBvaW50cyA9IHRlbXBQb2x5Z29uLnBvaW50cztcbiAgICBjb25zdCBpbmRpY2VzID0gdGhpcy5nZW9tZXRyeS5nZXRJbmRleCgpLmRhdGE7XG4gICAgY29uc3QgbGVuID0gaW5kaWNlcy5sZW5ndGg7XG4gICAgY29uc3Qgc3RlcCA9IHRoaXMuZHJhd01vZGUgPT09IDQgPyAzIDogMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSArIDIgPCBsZW47IGkgKz0gc3RlcCkge1xuICAgICAgY29uc3QgaW5kMCA9IGluZGljZXNbaV0gKiAyO1xuICAgICAgY29uc3QgaW5kMSA9IGluZGljZXNbaSArIDFdICogMjtcbiAgICAgIGNvbnN0IGluZDIgPSBpbmRpY2VzW2kgKyAyXSAqIDI7XG4gICAgICBwb2ludHNbMF0gPSB2ZXJ0aWNlc1tpbmQwXTtcbiAgICAgIHBvaW50c1sxXSA9IHZlcnRpY2VzW2luZDAgKyAxXTtcbiAgICAgIHBvaW50c1syXSA9IHZlcnRpY2VzW2luZDFdO1xuICAgICAgcG9pbnRzWzNdID0gdmVydGljZXNbaW5kMSArIDFdO1xuICAgICAgcG9pbnRzWzRdID0gdmVydGljZXNbaW5kMl07XG4gICAgICBwb2ludHNbNV0gPSB2ZXJ0aWNlc1tpbmQyICsgMV07XG4gICAgICBpZiAodGVtcFBvbHlnb24uY29udGFpbnModGVtcFBvaW50LngsIHRlbXBQb2ludC55KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGRlc3Ryb3kob3B0aW9ucykge1xuICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgaWYgKHRoaXMuX2NhY2hlZFRleHR1cmUpIHtcbiAgICAgIHRoaXMuX2NhY2hlZFRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgdGhpcy5fY2FjaGVkVGV4dHVyZSA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuZ2VvbWV0cnkgPSBudWxsO1xuICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICB0aGlzLnV2cyA9IG51bGw7XG4gICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICB0aGlzLnZlcnRleERhdGEgPSBudWxsO1xuICB9XG59O1xubGV0IE1lc2ggPSBfTWVzaDtcbk1lc2guQkFUQ0hBQkxFX1NJWkUgPSAxMDA7XG5cbmV4cG9ydCB7IE1lc2ggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lc2gubWpzLm1hcFxuIiwiY2xhc3MgTWVzaEJhdGNoVXZzIHtcbiAgY29uc3RydWN0b3IodXZCdWZmZXIsIHV2TWF0cml4KSB7XG4gICAgdGhpcy51dkJ1ZmZlciA9IHV2QnVmZmVyO1xuICAgIHRoaXMudXZNYXRyaXggPSB1dk1hdHJpeDtcbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID0gLTE7XG4gICAgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID0gLTE7XG4gICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuICB9XG4gIHVwZGF0ZShmb3JjZVVwZGF0ZSkge1xuICAgIGlmICghZm9yY2VVcGRhdGUgJiYgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPT09IHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEICYmIHRoaXMuX3RleHR1cmVVcGRhdGVJZCA9PT0gdGhpcy51dk1hdHJpeC5fdXBkYXRlSUQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPSB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRDtcbiAgICB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPSB0aGlzLnV2TWF0cml4Ll91cGRhdGVJRDtcbiAgICBjb25zdCBkYXRhID0gdGhpcy51dkJ1ZmZlci5kYXRhO1xuICAgIGlmICghdGhpcy5kYXRhIHx8IHRoaXMuZGF0YS5sZW5ndGggIT09IGRhdGEubGVuZ3RoKSB7XG4gICAgICB0aGlzLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGRhdGEubGVuZ3RoKTtcbiAgICB9XG4gICAgdGhpcy51dk1hdHJpeC5tdWx0aXBseVV2cyhkYXRhLCB0aGlzLmRhdGEpO1xuICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gIH1cbn1cblxuZXhwb3J0IHsgTWVzaEJhdGNoVXZzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZXNoQmF0Y2hVdnMubWpzLm1hcFxuIiwiaW1wb3J0IHsgR2VvbWV0cnksIEJ1ZmZlciwgVFlQRVMgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuY2xhc3MgTWVzaEdlb21ldHJ5IGV4dGVuZHMgR2VvbWV0cnkge1xuICBjb25zdHJ1Y3Rvcih2ZXJ0aWNlcywgdXZzLCBpbmRleCkge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3QgdmVydGljZXNCdWZmZXIgPSBuZXcgQnVmZmVyKHZlcnRpY2VzKTtcbiAgICBjb25zdCB1dnNCdWZmZXIgPSBuZXcgQnVmZmVyKHV2cywgdHJ1ZSk7XG4gICAgY29uc3QgaW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKGluZGV4LCB0cnVlLCB0cnVlKTtcbiAgICB0aGlzLmFkZEF0dHJpYnV0ZShcImFWZXJ0ZXhQb3NpdGlvblwiLCB2ZXJ0aWNlc0J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKS5hZGRBdHRyaWJ1dGUoXCJhVGV4dHVyZUNvb3JkXCIsIHV2c0J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKS5hZGRJbmRleChpbmRleEJ1ZmZlcik7XG4gICAgdGhpcy5fdXBkYXRlSWQgPSAtMTtcbiAgfVxuICBnZXQgdmVydGV4RGlydHlJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5idWZmZXJzWzBdLl91cGRhdGVJRDtcbiAgfVxufVxuXG5leHBvcnQgeyBNZXNoR2VvbWV0cnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lc2hHZW9tZXRyeS5tanMubWFwXG4iLCJpbXBvcnQgeyBTaGFkZXIsIE1hdHJpeCwgUHJvZ3JhbSwgVGV4dHVyZU1hdHJpeCwgQ29sb3IgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL3NoYWRlci9tZXNoLm1qcyc7XG5pbXBvcnQgdmVydGV4IGZyb20gJy4vc2hhZGVyL21lc2gyLm1qcyc7XG5cbmNsYXNzIE1lc2hNYXRlcmlhbCBleHRlbmRzIFNoYWRlciB7XG4gIGNvbnN0cnVjdG9yKHVTYW1wbGVyLCBvcHRpb25zKSB7XG4gICAgY29uc3QgdW5pZm9ybXMgPSB7XG4gICAgICB1U2FtcGxlcixcbiAgICAgIGFscGhhOiAxLFxuICAgICAgdVRleHR1cmVNYXRyaXg6IE1hdHJpeC5JREVOVElUWSxcbiAgICAgIHVDb2xvcjogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pXG4gICAgfTtcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICB0aW50OiAxNjc3NzIxNSxcbiAgICAgIGFscGhhOiAxLFxuICAgICAgcGx1Z2luTmFtZTogXCJiYXRjaFwiXG4gICAgfSwgb3B0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnMudW5pZm9ybXMpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odW5pZm9ybXMsIG9wdGlvbnMudW5pZm9ybXMpO1xuICAgIH1cbiAgICBzdXBlcihvcHRpb25zLnByb2dyYW0gfHwgUHJvZ3JhbS5mcm9tKHZlcnRleCwgZnJhZ21lbnQpLCB1bmlmb3Jtcyk7XG4gICAgdGhpcy5fY29sb3JEaXJ0eSA9IGZhbHNlO1xuICAgIHRoaXMudXZNYXRyaXggPSBuZXcgVGV4dHVyZU1hdHJpeCh1U2FtcGxlcik7XG4gICAgdGhpcy5iYXRjaGFibGUgPSBvcHRpb25zLnByb2dyYW0gPT09IHZvaWQgMDtcbiAgICB0aGlzLnBsdWdpbk5hbWUgPSBvcHRpb25zLnBsdWdpbk5hbWU7XG4gICAgdGhpcy5fdGludENvbG9yID0gbmV3IENvbG9yKG9wdGlvbnMudGludCk7XG4gICAgdGhpcy5fdGludFJHQiA9IHRoaXMuX3RpbnRDb2xvci50b0xpdHRsZUVuZGlhbk51bWJlcigpO1xuICAgIHRoaXMuX2NvbG9yRGlydHkgPSB0cnVlO1xuICAgIHRoaXMuYWxwaGEgPSBvcHRpb25zLmFscGhhO1xuICB9XG4gIGdldCB0ZXh0dXJlKCkge1xuICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyO1xuICB9XG4gIHNldCB0ZXh0dXJlKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMudW5pZm9ybXMudVNhbXBsZXIgIT09IHZhbHVlKSB7XG4gICAgICBpZiAoIXRoaXMudW5pZm9ybXMudVNhbXBsZXIuYmFzZVRleHR1cmUuYWxwaGFNb2RlICE9PSAhdmFsdWUuYmFzZVRleHR1cmUuYWxwaGFNb2RlKSB7XG4gICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdGhpcy51bmlmb3Jtcy51U2FtcGxlciA9IHZhbHVlO1xuICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHNldCBhbHBoYSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fYWxwaGEpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5fYWxwaGEgPSB2YWx1ZTtcbiAgICB0aGlzLl9jb2xvckRpcnR5ID0gdHJ1ZTtcbiAgfVxuICBnZXQgYWxwaGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FscGhhO1xuICB9XG4gIHNldCB0aW50KHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB0aGlzLnRpbnQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5fdGludENvbG9yLnNldFZhbHVlKHZhbHVlKTtcbiAgICB0aGlzLl90aW50UkdCID0gdGhpcy5fdGludENvbG9yLnRvTGl0dGxlRW5kaWFuTnVtYmVyKCk7XG4gICAgdGhpcy5fY29sb3JEaXJ0eSA9IHRydWU7XG4gIH1cbiAgZ2V0IHRpbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RpbnRDb2xvci52YWx1ZTtcbiAgfVxuICBnZXQgdGludFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl90aW50Q29sb3IudG9OdW1iZXIoKTtcbiAgfVxuICB1cGRhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2NvbG9yRGlydHkpIHtcbiAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgY29uc3QgYXBwbHlUb0NoYW5uZWxzID0gYmFzZVRleHR1cmUuYWxwaGFNb2RlO1xuICAgICAgQ29sb3Iuc2hhcmVkLnNldFZhbHVlKHRoaXMuX3RpbnRDb2xvcikucHJlbXVsdGlwbHkodGhpcy5fYWxwaGEsIGFwcGx5VG9DaGFubmVscykudG9BcnJheSh0aGlzLnVuaWZvcm1zLnVDb2xvcik7XG4gICAgfVxuICAgIGlmICh0aGlzLnV2TWF0cml4LnVwZGF0ZSgpKSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVUZXh0dXJlTWF0cml4ID0gdGhpcy51dk1hdHJpeC5tYXBDb29yZDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgTWVzaE1hdGVyaWFsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZXNoTWF0ZXJpYWwubWpzLm1hcFxuIiwiZXhwb3J0IHsgTWVzaCB9IGZyb20gJy4vTWVzaC5tanMnO1xuZXhwb3J0IHsgTWVzaEJhdGNoVXZzIH0gZnJvbSAnLi9NZXNoQmF0Y2hVdnMubWpzJztcbmV4cG9ydCB7IE1lc2hHZW9tZXRyeSB9IGZyb20gJy4vTWVzaEdlb21ldHJ5Lm1qcyc7XG5leHBvcnQgeyBNZXNoTWF0ZXJpYWwgfSBmcm9tICcuL01lc2hNYXRlcmlhbC5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IGZyYWdtZW50IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc2gubWpzLm1hcFxuIiwidmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VGV4dHVyZU1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRleHR1cmVNYXRyaXggKiB2ZWMzKGFUZXh0dXJlQ29vcmQsIDEuMCkpLnh5O1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgdmVydGV4IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc2gyLm1qcy5tYXBcbiIsImltcG9ydCB7IE1hdHJpeCwgc2V0dGluZ3MsIFJlbmRlclRleHR1cmUsIHV0aWxzLCBCYXNlVGV4dHVyZSwgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcblxuY29uc3QgX3RlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlRGF0YSA9IG51bGw7XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcFJlc29sdXRpb24gPSBudWxsO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXBNdWx0aXNhbXBsZSA9IG51bGw7XG5jbGFzcyBDYWNoZURhdGEge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsUmVuZGVyID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0gPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxEZXN0cm95ID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsTWFzayA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbEZpbHRlckFyZWEgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxDb250YWluc1BvaW50ID0gbnVsbDtcbiAgICB0aGlzLnNwcml0ZSA9IG51bGw7XG4gIH1cbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERpc3BsYXlPYmplY3QucHJvdG90eXBlLCB7XG4gIGNhY2hlQXNCaXRtYXBSZXNvbHV0aW9uOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlQXNCaXRtYXBSZXNvbHV0aW9uO1xuICAgIH0sXG4gICAgc2V0KHJlc29sdXRpb24pIHtcbiAgICAgIGlmIChyZXNvbHV0aW9uID09PSB0aGlzLl9jYWNoZUFzQml0bWFwUmVzb2x1dGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9jYWNoZUFzQml0bWFwUmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICBpZiAodGhpcy5jYWNoZUFzQml0bWFwKSB7XG4gICAgICAgIHRoaXMuY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgY2FjaGVBc0JpdG1hcE11bHRpc2FtcGxlOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlQXNCaXRtYXBNdWx0aXNhbXBsZTtcbiAgICB9LFxuICAgIHNldChtdWx0aXNhbXBsZSkge1xuICAgICAgaWYgKG11bHRpc2FtcGxlID09PSB0aGlzLl9jYWNoZUFzQml0bWFwTXVsdGlzYW1wbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fY2FjaGVBc0JpdG1hcE11bHRpc2FtcGxlID0gbXVsdGlzYW1wbGU7XG4gICAgICBpZiAodGhpcy5jYWNoZUFzQml0bWFwKSB7XG4gICAgICAgIHRoaXMuY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgY2FjaGVBc0JpdG1hcDoge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwO1xuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5fY2FjaGVBc0JpdG1hcCA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fY2FjaGVBc0JpdG1hcCA9IHZhbHVlO1xuICAgICAgbGV0IGRhdGE7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZURhdGEpIHtcbiAgICAgICAgICB0aGlzLl9jYWNoZURhdGEgPSBuZXcgQ2FjaGVEYXRhKCk7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcbiAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlciA9IHRoaXMucmVuZGVyO1xuICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gdGhpcy5yZW5kZXJDYW52YXM7XG4gICAgICAgIGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0gPSB0aGlzLnVwZGF0ZVRyYW5zZm9ybTtcbiAgICAgICAgZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuY2FsY3VsYXRlQm91bmRzO1xuICAgICAgICBkYXRhLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzO1xuICAgICAgICBkYXRhLm9yaWdpbmFsRGVzdHJveSA9IHRoaXMuZGVzdHJveTtcbiAgICAgICAgZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQgPSB0aGlzLmNvbnRhaW5zUG9pbnQ7XG4gICAgICAgIGRhdGEub3JpZ2luYWxNYXNrID0gdGhpcy5fbWFzaztcbiAgICAgICAgZGF0YS5vcmlnaW5hbEZpbHRlckFyZWEgPSB0aGlzLmZpbHRlckFyZWE7XG4gICAgICAgIHRoaXMucmVuZGVyID0gdGhpcy5fcmVuZGVyQ2FjaGVkO1xuICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcbiAgICAgICAgdGhpcy5kZXN0cm95ID0gdGhpcy5fY2FjaGVBc0JpdG1hcERlc3Ryb3k7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuICAgICAgICBpZiAoZGF0YS5zcHJpdGUpIHtcbiAgICAgICAgICB0aGlzLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyID0gZGF0YS5vcmlnaW5hbFJlbmRlcjtcbiAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSBkYXRhLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHM7XG4gICAgICAgIHRoaXMuZGVzdHJveSA9IGRhdGEub3JpZ2luYWxEZXN0cm95O1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm07XG4gICAgICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGRhdGEub3JpZ2luYWxDb250YWluc1BvaW50O1xuICAgICAgICB0aGlzLl9tYXNrID0gZGF0YS5vcmlnaW5hbE1hc2s7XG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkID0gZnVuY3Rpb24gX3JlbmRlckNhY2hlZChyZW5kZXJlcikge1xuICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKTtcbiAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS50cmFuc2Zvcm0uX3dvcmxkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXIocmVuZGVyZXIpO1xufTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcikge1xuICBpZiAodGhpcy5fY2FjaGVEYXRhPy5zcHJpdGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgY2FjaGVBbHBoYSA9IHRoaXMuYWxwaGE7XG4gIHRoaXMuYWxwaGEgPSAxO1xuICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICBjb25zdCBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKG51bGwsIHRydWUpLmNsb25lKCk7XG4gIGlmICh0aGlzLmZpbHRlcnM/Lmxlbmd0aCkge1xuICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLmZpbHRlcnNbMF0ucGFkZGluZztcbiAgICBib3VuZHMucGFkKHBhZGRpbmcpO1xuICB9XG4gIGJvdW5kcy5jZWlsKHNldHRpbmdzLlJFU09MVVRJT04pO1xuICBjb25zdCBjYWNoZWRSZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICBjb25zdCBjYWNoZWRTb3VyY2VGcmFtZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuc291cmNlRnJhbWUuY2xvbmUoKTtcbiAgY29uc3QgY2FjaGVkRGVzdGluYXRpb25GcmFtZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuZGVzdGluYXRpb25GcmFtZS5jbG9uZSgpO1xuICBjb25zdCBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtID0gcmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm07XG4gIGNvbnN0IHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7XG4gICAgd2lkdGg6IGJvdW5kcy53aWR0aCxcbiAgICBoZWlnaHQ6IGJvdW5kcy5oZWlnaHQsXG4gICAgcmVzb2x1dGlvbjogdGhpcy5jYWNoZUFzQml0bWFwUmVzb2x1dGlvbiB8fCByZW5kZXJlci5yZXNvbHV0aW9uLFxuICAgIG11bHRpc2FtcGxlOiB0aGlzLmNhY2hlQXNCaXRtYXBNdWx0aXNhbXBsZSA/PyByZW5kZXJlci5tdWx0aXNhbXBsZVxuICB9KTtcbiAgY29uc3QgdGV4dHVyZUNhY2hlSWQgPSBgY2FjaGVBc0JpdG1hcF8ke3V0aWxzLnVpZCgpfWA7XG4gIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgY29uc3QgbSA9IHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHlUbyhfdGVtcE1hdHJpeCkuaW52ZXJ0KCkudHJhbnNsYXRlKC1ib3VuZHMueCwgLWJvdW5kcy55KTtcbiAgdGhpcy5yZW5kZXIgPSB0aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXI7XG4gIHJlbmRlcmVyLnJlbmRlcih0aGlzLCB7IHJlbmRlclRleHR1cmUsIGNsZWFyOiB0cnVlLCB0cmFuc2Zvcm06IG0sIHNraXBVcGRhdGVUcmFuc2Zvcm06IGZhbHNlIH0pO1xuICByZW5kZXJlci5mcmFtZWJ1ZmZlci5ibGl0KCk7XG4gIHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtID0gY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybTtcbiAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGNhY2hlZFJlbmRlclRleHR1cmUsIGNhY2hlZFNvdXJjZUZyYW1lLCBjYWNoZWREZXN0aW5hdGlvbkZyYW1lKTtcbiAgdGhpcy5yZW5kZXIgPSB0aGlzLl9yZW5kZXJDYWNoZWQ7XG4gIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcbiAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IHRoaXMuX2dldENhY2hlZExvY2FsQm91bmRzO1xuICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgdGhpcy5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gIGNvbnN0IGNhY2hlZFNwcml0ZSA9IG5ldyBTcHJpdGUocmVuZGVyVGV4dHVyZSk7XG4gIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gIGNhY2hlZFNwcml0ZS5hbmNob3IueSA9IC0oYm91bmRzLnkgLyBib3VuZHMuaGVpZ2h0KTtcbiAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG4gIHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgdGhpcy5lbmFibGVUZW1wUGFyZW50KCk7XG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB0aGlzLmRpc2FibGVUZW1wUGFyZW50KG51bGwpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gIH1cbiAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWRDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkQ2FudmFzKHJlbmRlcmVyKSB7XG4gIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpO1xuICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3JlbmRlckNhbnZhcyhyZW5kZXJlcik7XG59O1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzID0gZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKSB7XG4gIGlmICh0aGlzLl9jYWNoZURhdGE/LnNwcml0ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKG51bGwsIHRydWUpO1xuICBjb25zdCBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcbiAgdGhpcy5hbHBoYSA9IDE7XG4gIGNvbnN0IGNhY2hlZFJlbmRlclRhcmdldCA9IHJlbmRlcmVyLmNhbnZhc0NvbnRleHQuYWN0aXZlQ29udGV4dDtcbiAgY29uc3QgY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSA9IHJlbmRlcmVyLl9wcm9qVHJhbnNmb3JtO1xuICBib3VuZHMuY2VpbChzZXR0aW5ncy5SRVNPTFVUSU9OKTtcbiAgY29uc3QgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHsgd2lkdGg6IGJvdW5kcy53aWR0aCwgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0IH0pO1xuICBjb25zdCB0ZXh0dXJlQ2FjaGVJZCA9IGBjYWNoZUFzQml0bWFwXyR7dXRpbHMudWlkKCl9YDtcbiAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG4gIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICBUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICBjb25zdCBtID0gX3RlbXBNYXRyaXg7XG4gIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHlUbyhtKTtcbiAgbS5pbnZlcnQoKTtcbiAgbS50eCAtPSBib3VuZHMueDtcbiAgbS50eSAtPSBib3VuZHMueTtcbiAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG4gIHJlbmRlcmVyLnJlbmRlcih0aGlzLCB7IHJlbmRlclRleHR1cmUsIGNsZWFyOiB0cnVlLCB0cmFuc2Zvcm06IG0sIHNraXBVcGRhdGVUcmFuc2Zvcm06IGZhbHNlIH0pO1xuICByZW5kZXJlci5jYW52YXNDb250ZXh0LmFjdGl2ZUNvbnRleHQgPSBjYWNoZWRSZW5kZXJUYXJnZXQ7XG4gIHJlbmRlcmVyLl9wcm9qVHJhbnNmb3JtID0gY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybTtcbiAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG4gIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcbiAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IHRoaXMuX2dldENhY2hlZExvY2FsQm91bmRzO1xuICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgdGhpcy5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gIGNvbnN0IGNhY2hlZFNwcml0ZSA9IG5ldyBTcHJpdGUocmVuZGVyVGV4dHVyZSk7XG4gIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gIGNhY2hlZFNwcml0ZS5hbmNob3IueSA9IC0oYm91bmRzLnkgLyBib3VuZHMuaGVpZ2h0KTtcbiAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG4gIHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgdGhpcy5wYXJlbnQgPSByZW5kZXJlci5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgfVxuICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBjYWNoZWRTcHJpdGUuY29udGFpbnNQb2ludC5iaW5kKGNhY2hlZFNwcml0ZSk7XG59O1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVDYWNoZWRCb3VuZHMoKSB7XG4gIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnRyYW5zZm9ybS5fd29ybGRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9jYWxjdWxhdGVCb3VuZHMoKTtcbiAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG59O1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2dldENhY2hlZExvY2FsQm91bmRzID0gZnVuY3Rpb24gX2dldENhY2hlZExvY2FsQm91bmRzKCkge1xuICByZXR1cm4gdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5nZXRMb2NhbEJvdW5kcyhudWxsKTtcbn07XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKSB7XG4gIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3RleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IG51bGw7XG4gIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSBudWxsO1xufTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwRGVzdHJveSA9IGZ1bmN0aW9uIF9jYWNoZUFzQml0bWFwRGVzdHJveShvcHRpb25zKSB7XG4gIHRoaXMuY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuICB0aGlzLmRlc3Ryb3kob3B0aW9ucyk7XG59O1xuXG5leHBvcnQgeyBDYWNoZURhdGEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IERpc3BsYXlPYmplY3QsIENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5uYW1lID0gbnVsbDtcbkNvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRCeU5hbWUgPSBmdW5jdGlvbiBnZXRDaGlsZEJ5TmFtZShuYW1lLCBkZWVwKSB7XG4gIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBpZiAodGhpcy5jaGlsZHJlbltpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpXTtcbiAgICB9XG4gIH1cbiAgaWYgKGRlZXApIHtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICBpZiAoIWNoaWxkLmdldENoaWxkQnlOYW1lKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0ID0gY2hpbGQuZ2V0Q2hpbGRCeU5hbWUobmFtZSwgdHJ1ZSk7XG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IFBvaW50IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEdsb2JhbFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0R2xvYmFsUG9zaXRpb24ocG9pbnQgPSBuZXcgUG9pbnQoKSwgc2tpcFVwZGF0ZSA9IGZhbHNlKSB7XG4gIGlmICh0aGlzLnBhcmVudCkge1xuICAgIHRoaXMucGFyZW50LnRvR2xvYmFsKHRoaXMucG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgfSBlbHNlIHtcbiAgICBwb2ludC54ID0gdGhpcy5wb3NpdGlvbi54O1xuICAgIHBvaW50LnkgPSB0aGlzLnBvc2l0aW9uLnk7XG4gIH1cbiAgcmV0dXJuIHBvaW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IEdlb21ldHJ5LCBUWVBFUywgQnVmZmVyLCB1dGlscyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jbGFzcyBQYXJ0aWNsZUJ1ZmZlciB7XG4gIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBzaXplKSB7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IFtdO1xuICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgbGV0IHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcbiAgICAgIHByb3BlcnR5ID0ge1xuICAgICAgICBhdHRyaWJ1dGVOYW1lOiBwcm9wZXJ0eS5hdHRyaWJ1dGVOYW1lLFxuICAgICAgICBzaXplOiBwcm9wZXJ0eS5zaXplLFxuICAgICAgICB1cGxvYWRGdW5jdGlvbjogcHJvcGVydHkudXBsb2FkRnVuY3Rpb24sXG4gICAgICAgIHR5cGU6IHByb3BlcnR5LnR5cGUgfHwgVFlQRVMuRkxPQVQsXG4gICAgICAgIG9mZnNldDogcHJvcGVydHkub2Zmc2V0XG4gICAgICB9O1xuICAgICAgaWYgKGR5bmFtaWNQcm9wZXJ0eUZsYWdzW2ldKSB7XG4gICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcbiAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG4gICAgdGhpcy5keW5hbWljQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcbiAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgdGhpcy5pbml0QnVmZmVycygpO1xuICB9XG4gIGluaXRCdWZmZXJzKCkge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICBsZXQgZHluYW1pY09mZnNldCA9IDA7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIodXRpbHMuY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHRoaXMuc2l6ZSksIHRydWUsIHRydWUpO1xuICAgIGdlb21ldHJ5LmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG4gICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBkeW5hbWljT2Zmc2V0O1xuICAgICAgZHluYW1pY09mZnNldCArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgdGhpcy5keW5hbWljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgfVxuICAgIGNvbnN0IGR5bkJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0ICogNCk7XG4gICAgdGhpcy5keW5hbWljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgdGhpcy5keW5hbWljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLmR5bmFtaWNEYXRhLCBmYWxzZSwgZmFsc2UpO1xuICAgIGxldCBzdGF0aWNPZmZzZXQgPSAwO1xuICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbaV07XG4gICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBzdGF0aWNPZmZzZXQ7XG4gICAgICBzdGF0aWNPZmZzZXQgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgIHRoaXMuc3RhdGljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgfVxuICAgIGNvbnN0IHN0YXRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5zdGF0aWNTdHJpZGUgKiA0ICogNCk7XG4gICAgdGhpcy5zdGF0aWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMuc3RhdGljRGF0YSwgdHJ1ZSwgZmFsc2UpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsIHRoaXMuZHluYW1pY0J1ZmZlciwgMCwgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSwgcHJvcGVydHkudHlwZSwgdGhpcy5keW5hbWljU3RyaWRlICogNCwgcHJvcGVydHkub2Zmc2V0ICogNCk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcbiAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZShwcm9wZXJ0eS5hdHRyaWJ1dGVOYW1lLCB0aGlzLnN0YXRpY0J1ZmZlciwgMCwgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSwgcHJvcGVydHkudHlwZSwgdGhpcy5zdGF0aWNTdHJpZGUgKiA0LCBwcm9wZXJ0eS5vZmZzZXQgKiA0KTtcbiAgICB9XG4gIH1cbiAgdXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG4gICAgICBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFID8gdGhpcy5keW5hbWljRGF0YVVpbnQzMiA6IHRoaXMuZHluYW1pY0RhdGEsIHRoaXMuZHluYW1pY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICB9XG4gICAgdGhpcy5keW5hbWljQnVmZmVyLl91cGRhdGVJRCsrO1xuICB9XG4gIHVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSA/IHRoaXMuc3RhdGljRGF0YVVpbnQzMiA6IHRoaXMuc3RhdGljRGF0YSwgdGhpcy5zdGF0aWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgfVxuICAgIHRoaXMuc3RhdGljQnVmZmVyLl91cGRhdGVJRCsrO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IG51bGw7XG4gICAgdGhpcy5keW5hbWljQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcbiAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgdGhpcy5nZW9tZXRyeS5kZXN0cm95KCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgUGFydGljbGVCdWZmZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnRpY2xlQnVmZmVyLm1qcy5tYXBcbiIsImltcG9ydCB7IEJMRU5EX01PREVTLCBDb2xvciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbmNsYXNzIFBhcnRpY2xlQ29udGFpbmVyIGV4dGVuZHMgQ29udGFpbmVyIHtcbiAgY29uc3RydWN0b3IobWF4U2l6ZSA9IDE1MDAsIHByb3BlcnRpZXMsIGJhdGNoU2l6ZSA9IDE2Mzg0LCBhdXRvUmVzaXplID0gZmFsc2UpIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IG1heEJhdGNoU2l6ZSA9IDE2Mzg0O1xuICAgIGlmIChiYXRjaFNpemUgPiBtYXhCYXRjaFNpemUpIHtcbiAgICAgIGJhdGNoU2l6ZSA9IG1heEJhdGNoU2l6ZTtcbiAgICB9XG4gICAgdGhpcy5fcHJvcGVydGllcyA9IFtmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XG4gICAgdGhpcy5fbWF4U2l6ZSA9IG1heFNpemU7XG4gICAgdGhpcy5fYmF0Y2hTaXplID0gYmF0Y2hTaXplO1xuICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcyA9IFtdO1xuICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICB0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICB0aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICB0aGlzLmF1dG9SZXNpemUgPSBhdXRvUmVzaXplO1xuICAgIHRoaXMucm91bmRQaXhlbHMgPSB0cnVlO1xuICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgIHRoaXMuc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKTtcbiAgICB0aGlzLl90aW50Q29sb3IgPSBuZXcgQ29sb3IoMCk7XG4gICAgdGhpcy50aW50UmdiID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgICB0aGlzLnRpbnQgPSAxNjc3NzIxNTtcbiAgfVxuICBzZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpIHtcbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgdGhpcy5fcHJvcGVydGllc1swXSA9IFwidmVydGljZXNcIiBpbiBwcm9wZXJ0aWVzIHx8IFwic2NhbGVcIiBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnZlcnRpY2VzIHx8ICEhcHJvcGVydGllcy5zY2FsZSA6IHRoaXMuX3Byb3BlcnRpZXNbMF07XG4gICAgICB0aGlzLl9wcm9wZXJ0aWVzWzFdID0gXCJwb3NpdGlvblwiIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucG9zaXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzFdO1xuICAgICAgdGhpcy5fcHJvcGVydGllc1syXSA9IFwicm90YXRpb25cIiBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnJvdGF0aW9uIDogdGhpcy5fcHJvcGVydGllc1syXTtcbiAgICAgIHRoaXMuX3Byb3BlcnRpZXNbM10gPSBcInV2c1wiIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMudXZzIDogdGhpcy5fcHJvcGVydGllc1szXTtcbiAgICAgIHRoaXMuX3Byb3BlcnRpZXNbNF0gPSBcInRpbnRcIiBpbiBwcm9wZXJ0aWVzIHx8IFwiYWxwaGFcIiBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnRpbnQgfHwgISFwcm9wZXJ0aWVzLmFscGhhIDogdGhpcy5fcHJvcGVydGllc1s0XTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICB9XG4gIGdldCB0aW50KCkge1xuICAgIHJldHVybiB0aGlzLl90aW50Q29sb3IudmFsdWU7XG4gIH1cbiAgc2V0IHRpbnQodmFsdWUpIHtcbiAgICB0aGlzLl90aW50Q29sb3Iuc2V0VmFsdWUodmFsdWUpO1xuICAgIHRoaXMuX3RpbnRDb2xvci50b1JnYkFycmF5KHRoaXMudGludFJnYik7XG4gIH1cbiAgcmVuZGVyKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMuY2hpbGRyZW4ubGVuZ3RoIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlKSB7XG4gICAgICB0aGlzLmJhc2VUZXh0dXJlID0gdGhpcy5jaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9uY2UoXCJ1cGRhdGVcIiwgKCkgPT4gdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKDApKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZSk7XG4gICAgcmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZS5yZW5kZXIodGhpcyk7XG4gIH1cbiAgb25DaGlsZHJlbkNoYW5nZShzbWFsbGVzdENoaWxkSW5kZXgpIHtcbiAgICBjb25zdCBidWZmZXJJbmRleCA9IE1hdGguZmxvb3Ioc21hbGxlc3RDaGlsZEluZGV4IC8gdGhpcy5fYmF0Y2hTaXplKTtcbiAgICB3aGlsZSAodGhpcy5fYnVmZmVyVXBkYXRlSURzLmxlbmd0aCA8IGJ1ZmZlckluZGV4KSB7XG4gICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMucHVzaCgwKTtcbiAgICB9XG4gICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzW2J1ZmZlckluZGV4XSA9ICsrdGhpcy5fdXBkYXRlSUQ7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICBpZiAodGhpcy5fYnVmZmVycykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3kob3B0aW9ucykge1xuICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgdGhpcy5fcHJvcGVydGllcyA9IG51bGw7XG4gICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG4gICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgeyBQYXJ0aWNsZUNvbnRhaW5lciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVDb250YWluZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgT2JqZWN0UmVuZGVyZXIsIE1hdHJpeCwgVFlQRVMsIFNoYWRlciwgU3RhdGUsIHV0aWxzLCBDb2xvciwgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgUGFydGljbGVCdWZmZXIgfSBmcm9tICcuL1BhcnRpY2xlQnVmZmVyLm1qcyc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9wYXJ0aWNsZXMubWpzJztcbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi9wYXJ0aWNsZXMyLm1qcyc7XG5cbmNsYXNzIFBhcnRpY2xlUmVuZGVyZXIgZXh0ZW5kcyBPYmplY3RSZW5kZXJlciB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgc3VwZXIocmVuZGVyZXIpO1xuICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB0aGlzLnByb3BlcnRpZXMgPSBudWxsO1xuICAgIHRoaXMudGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbiAgICB0aGlzLnByb3BlcnRpZXMgPSBbXG4gICAgICB7XG4gICAgICAgIGF0dHJpYnV0ZU5hbWU6IFwiYVZlcnRleFBvc2l0aW9uXCIsXG4gICAgICAgIHNpemU6IDIsXG4gICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFZlcnRpY2VzLFxuICAgICAgICBvZmZzZXQ6IDBcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGF0dHJpYnV0ZU5hbWU6IFwiYVBvc2l0aW9uQ29vcmRcIixcbiAgICAgICAgc2l6ZTogMixcbiAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkUG9zaXRpb24sXG4gICAgICAgIG9mZnNldDogMFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgYXR0cmlidXRlTmFtZTogXCJhUm90YXRpb25cIixcbiAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkUm90YXRpb24sXG4gICAgICAgIG9mZnNldDogMFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgYXR0cmlidXRlTmFtZTogXCJhVGV4dHVyZUNvb3JkXCIsXG4gICAgICAgIHNpemU6IDIsXG4gICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFV2cyxcbiAgICAgICAgb2Zmc2V0OiAwXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhdHRyaWJ1dGVOYW1lOiBcImFDb2xvclwiLFxuICAgICAgICBzaXplOiAxLFxuICAgICAgICB0eXBlOiBUWVBFUy5VTlNJR05FRF9CWVRFLFxuICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRUaW50LFxuICAgICAgICBvZmZzZXQ6IDBcbiAgICAgIH1cbiAgICBdO1xuICAgIHRoaXMuc2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudCwge30pO1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICB9XG4gIHJlbmRlcihjb250YWluZXIpIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICBjb25zdCBtYXhTaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgIGNvbnN0IGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICBsZXQgdG90YWxDaGlsZHJlbiA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICBpZiAodG90YWxDaGlsZHJlbiA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAodG90YWxDaGlsZHJlbiA+IG1heFNpemUgJiYgIWNvbnRhaW5lci5hdXRvUmVzaXplKSB7XG4gICAgICB0b3RhbENoaWxkcmVuID0gbWF4U2l6ZTtcbiAgICB9XG4gICAgbGV0IGJ1ZmZlcnMgPSBjb250YWluZXIuX2J1ZmZlcnM7XG4gICAgaWYgKCFidWZmZXJzKSB7XG4gICAgICBidWZmZXJzID0gY29udGFpbmVyLl9idWZmZXJzID0gdGhpcy5nZW5lcmF0ZUJ1ZmZlcnMoY29udGFpbmVyKTtcbiAgICB9XG4gICAgY29uc3QgYmFzZVRleHR1cmUgPSBjaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICBjb25zdCBwcmVtdWx0aXBsaWVkID0gYmFzZVRleHR1cmUuYWxwaGFNb2RlID4gMDtcbiAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHV0aWxzLmNvcnJlY3RCbGVuZE1vZGUoY29udGFpbmVyLmJsZW5kTW9kZSwgcHJlbXVsdGlwbGllZCk7XG4gICAgcmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgY29uc3QgbSA9IGNvbnRhaW5lci53b3JsZFRyYW5zZm9ybS5jb3B5VG8odGhpcy50ZW1wTWF0cml4KTtcbiAgICBtLnByZXBlbmQocmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCk7XG4gICAgdGhpcy5zaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSBtLnRvQXJyYXkodHJ1ZSk7XG4gICAgdGhpcy5zaGFkZXIudW5pZm9ybXMudUNvbG9yID0gQ29sb3Iuc2hhcmVkLnNldFZhbHVlKGNvbnRhaW5lci50aW50UmdiKS5wcmVtdWx0aXBseShjb250YWluZXIud29ybGRBbHBoYSwgcHJlbXVsdGlwbGllZCkudG9BcnJheSh0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IpO1xuICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gYmFzZVRleHR1cmU7XG4gICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLnNoYWRlcik7XG4gICAgbGV0IHVwZGF0ZVN0YXRpYyA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsQ2hpbGRyZW47IGkgKz0gYmF0Y2hTaXplLCBqICs9IDEpIHtcbiAgICAgIGxldCBhbW91bnQgPSB0b3RhbENoaWxkcmVuIC0gaTtcbiAgICAgIGlmIChhbW91bnQgPiBiYXRjaFNpemUpIHtcbiAgICAgICAgYW1vdW50ID0gYmF0Y2hTaXplO1xuICAgICAgfVxuICAgICAgaWYgKGogPj0gYnVmZmVycy5sZW5ndGgpIHtcbiAgICAgICAgYnVmZmVycy5wdXNoKHRoaXMuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlcihjb250YWluZXIpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG4gICAgICBidWZmZXIudXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgIGNvbnN0IGJpZCA9IGNvbnRhaW5lci5fYnVmZmVyVXBkYXRlSURzW2pdIHx8IDA7XG4gICAgICB1cGRhdGVTdGF0aWMgPSB1cGRhdGVTdGF0aWMgfHwgYnVmZmVyLl91cGRhdGVJRCA8IGJpZDtcbiAgICAgIGlmICh1cGRhdGVTdGF0aWMpIHtcbiAgICAgICAgYnVmZmVyLl91cGRhdGVJRCA9IGNvbnRhaW5lci5fdXBkYXRlSUQ7XG4gICAgICAgIGJ1ZmZlci51cGxvYWRTdGF0aWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG4gICAgICB9XG4gICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGJ1ZmZlci5nZW9tZXRyeSk7XG4gICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBhbW91bnQgKiA2LCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XG4gICAgfVxuICB9XG4gIGdlbmVyYXRlQnVmZmVycyhjb250YWluZXIpIHtcbiAgICBjb25zdCBidWZmZXJzID0gW107XG4gICAgY29uc3Qgc2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICBjb25zdCBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICBjb25zdCBkeW5hbWljUHJvcGVydHlGbGFncyA9IGNvbnRhaW5lci5fcHJvcGVydGllcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICBidWZmZXJzLnB1c2gobmV3IFBhcnRpY2xlQnVmZmVyKHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gYnVmZmVycztcbiAgfVxuICBfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikge1xuICAgIGNvbnN0IGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgIGNvbnN0IGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuICAgIHJldHVybiBuZXcgUGFydGljbGVCdWZmZXIodGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKTtcbiAgfVxuICB1cGxvYWRWZXJ0aWNlcyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICBsZXQgdzAgPSAwO1xuICAgIGxldCB3MSA9IDA7XG4gICAgbGV0IGgwID0gMDtcbiAgICBsZXQgaDEgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgIGNvbnN0IHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgIGNvbnN0IHRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICBjb25zdCBzeCA9IHNwcml0ZS5zY2FsZS54O1xuICAgICAgY29uc3Qgc3kgPSBzcHJpdGUuc2NhbGUueTtcbiAgICAgIGNvbnN0IHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICBjb25zdCBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgdzEgPSB0cmltLnggLSBzcHJpdGUuYW5jaG9yLnggKiBvcmlnLndpZHRoO1xuICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcbiAgICAgICAgaDEgPSB0cmltLnkgLSBzcHJpdGUuYW5jaG9yLnkgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdzAgPSBvcmlnLndpZHRoICogKDEgLSBzcHJpdGUuYW5jaG9yLngpO1xuICAgICAgICB3MSA9IG9yaWcud2lkdGggKiAtc3ByaXRlLmFuY2hvci54O1xuICAgICAgICBoMCA9IG9yaWcuaGVpZ2h0ICogKDEgLSBzcHJpdGUuYW5jaG9yLnkpO1xuICAgICAgICBoMSA9IG9yaWcuaGVpZ2h0ICogLXNwcml0ZS5hbmNob3IueTtcbiAgICAgIH1cbiAgICAgIGFycmF5W29mZnNldF0gPSB3MSAqIHN4O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBoMSAqIHN5O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHcwICogc3g7XG4gICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IGgxICogc3k7XG4gICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHcwICogc3g7XG4gICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyICsgMV0gPSBoMCAqIHN5O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSB3MSAqIHN4O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gaDAgKiBzeTtcbiAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgIH1cbiAgfVxuICB1cGxvYWRQb3NpdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBzcHJpdGVQb3NpdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5wb3NpdGlvbjtcbiAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG4gICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcbiAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgIH1cbiAgfVxuICB1cGxvYWRSb3RhdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBzcHJpdGVSb3RhdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5yb3RhdGlvbjtcbiAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gc3ByaXRlUm90YXRpb247XG4gICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgfVxuICB9XG4gIHVwbG9hZFV2cyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICBjb25zdCB0ZXh0dXJlVXZzID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLl90ZXh0dXJlLl91dnM7XG4gICAgICBpZiAodGV4dHVyZVV2cykge1xuICAgICAgICBhcnJheVtvZmZzZXRdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSB0ZXh0dXJlVXZzLnkwO1xuICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gdGV4dHVyZVV2cy54MTtcbiAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSB0ZXh0dXJlVXZzLnkxO1xuICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHRleHR1cmVVdnMueDI7XG4gICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDIgKyAxXSA9IHRleHR1cmVVdnMueTI7XG4gICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gdGV4dHVyZVV2cy55MztcbiAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcnJheVtvZmZzZXRdID0gMDtcbiAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSAwO1xuICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gMDtcbiAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSAwO1xuICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IDA7XG4gICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDIgKyAxXSA9IDA7XG4gICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gMDtcbiAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gMDtcbiAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHVwbG9hZFRpbnQoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgY29uc3Qgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgY29uc3QgcmVzdWx0ID0gQ29sb3Iuc2hhcmVkLnNldFZhbHVlKHNwcml0ZS5fdGludFJHQikudG9QcmVtdWx0aXBsaWVkKHNwcml0ZS5hbHBoYSwgc3ByaXRlLnRleHR1cmUuYmFzZVRleHR1cmUuYWxwaGFNb2RlID4gMCk7XG4gICAgICBhcnJheVtvZmZzZXRdID0gcmVzdWx0O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHJlc3VsdDtcbiAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gcmVzdWx0O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSByZXN1bHQ7XG4gICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG4gICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMudGVtcE1hdHJpeCA9IG51bGw7XG4gIH1cbn1cblBhcnRpY2xlUmVuZGVyZXIuZXh0ZW5zaW9uID0ge1xuICBuYW1lOiBcInBhcnRpY2xlXCIsXG4gIHR5cGU6IEV4dGVuc2lvblR5cGUuUmVuZGVyZXJQbHVnaW5cbn07XG5leHRlbnNpb25zLmFkZChQYXJ0aWNsZVJlbmRlcmVyKTtcblxuZXhwb3J0IHsgUGFydGljbGVSZW5kZXJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVSZW5kZXJlci5tanMubWFwXG4iLCJleHBvcnQgeyBQYXJ0aWNsZUNvbnRhaW5lciB9IGZyb20gJy4vUGFydGljbGVDb250YWluZXIubWpzJztcbmV4cG9ydCB7IFBhcnRpY2xlUmVuZGVyZXIgfSBmcm9tICcuL1BhcnRpY2xlUmVuZGVyZXIubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsInZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdkNvbG9yO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XCI7XG5cbmV4cG9ydCB7IGZyYWdtZW50IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpY2xlcy5tanMubWFwXG4iLCJ2YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XFxuXFxuYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uQ29vcmQ7XFxuYXR0cmlidXRlIGZsb2F0IGFSb3RhdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZmxvYXQgeCA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBjb3MoYVJvdGF0aW9uKSAtIChhVmVydGV4UG9zaXRpb24ueSkgKiBzaW4oYVJvdGF0aW9uKTtcXG4gICAgZmxvYXQgeSA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBzaW4oYVJvdGF0aW9uKSArIChhVmVydGV4UG9zaXRpb24ueSkgKiBjb3MoYVJvdGF0aW9uKTtcXG5cXG4gICAgdmVjMiB2ID0gdmVjMih4LCB5KTtcXG4gICAgdiA9IHYgKyBhUG9zaXRpb25Db29yZDtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCh0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzModiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZDb2xvciA9IGFDb2xvciAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IHZlcnRleCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0aWNsZXMyLm1qcy5tYXBcbiIsImltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlLCBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBUZXh0LCBUZXh0U3R5bGUsIFRleHRNZXRyaWNzIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5pbXBvcnQgeyBDb3VudExpbWl0ZXIgfSBmcm9tICcuL0NvdW50TGltaXRlci5tanMnO1xuXG5mdW5jdGlvbiBmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMoaXRlbSwgcXVldWUpIHtcbiAgbGV0IHJlc3VsdCA9IGZhbHNlO1xuICBpZiAoaXRlbT8uX3RleHR1cmVzPy5sZW5ndGgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW0uX3RleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaXRlbS5fdGV4dHVyZXNbaV0gaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gaXRlbS5fdGV4dHVyZXNbaV0uYmFzZVRleHR1cmU7XG4gICAgICAgIGlmICghcXVldWUuaW5jbHVkZXMoYmFzZVRleHR1cmUpKSB7XG4gICAgICAgICAgcXVldWUucHVzaChiYXNlVGV4dHVyZSk7XG4gICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZmluZEJhc2VUZXh0dXJlKGl0ZW0sIHF1ZXVlKSB7XG4gIGlmIChpdGVtLmJhc2VUZXh0dXJlIGluc3RhbmNlb2YgQmFzZVRleHR1cmUpIHtcbiAgICBjb25zdCB0ZXh0dXJlID0gaXRlbS5iYXNlVGV4dHVyZTtcbiAgICBpZiAoIXF1ZXVlLmluY2x1ZGVzKHRleHR1cmUpKSB7XG4gICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBmaW5kVGV4dHVyZShpdGVtLCBxdWV1ZSkge1xuICBpZiAoaXRlbS5fdGV4dHVyZSAmJiBpdGVtLl90ZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgIGNvbnN0IHRleHR1cmUgPSBpdGVtLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgIGlmICghcXVldWUuaW5jbHVkZXModGV4dHVyZSkpIHtcbiAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGRyYXdUZXh0KF9oZWxwZXIsIGl0ZW0pIHtcbiAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgaXRlbS51cGRhdGVUZXh0KHRydWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZVRleHRTdHlsZShfaGVscGVyLCBpdGVtKSB7XG4gIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKSB7XG4gICAgY29uc3QgZm9udCA9IGl0ZW0udG9Gb250U3RyaW5nKCk7XG4gICAgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZmluZFRleHQoaXRlbSwgcXVldWUpIHtcbiAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgaWYgKCFxdWV1ZS5pbmNsdWRlcyhpdGVtLnN0eWxlKSkge1xuICAgICAgcXVldWUucHVzaChpdGVtLnN0eWxlKTtcbiAgICB9XG4gICAgaWYgKCFxdWV1ZS5pbmNsdWRlcyhpdGVtKSkge1xuICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICB9XG4gICAgY29uc3QgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgaWYgKCFxdWV1ZS5pbmNsdWRlcyh0ZXh0dXJlKSkge1xuICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZmluZFRleHRTdHlsZShpdGVtLCBxdWV1ZSkge1xuICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHRTdHlsZSkge1xuICAgIGlmICghcXVldWUuaW5jbHVkZXMoaXRlbSkpIHtcbiAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmNvbnN0IF9CYXNlUHJlcGFyZSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLmxpbWl0ZXIgPSBuZXcgQ291bnRMaW1pdGVyKF9CYXNlUHJlcGFyZS51cGxvYWRzUGVyRnJhbWUpO1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBudWxsO1xuICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICB0aGlzLmFkZEhvb2tzID0gW107XG4gICAgdGhpcy51cGxvYWRIb29rcyA9IFtdO1xuICAgIHRoaXMuY29tcGxldGVzID0gW107XG4gICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgdGhpcy5kZWxheWVkVGljayA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5xdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnByZXBhcmVJdGVtcygpO1xuICAgIH07XG4gICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0KTtcbiAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHRTdHlsZSk7XG4gICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyk7XG4gICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRCYXNlVGV4dHVyZSk7XG4gICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0dXJlKTtcbiAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhkcmF3VGV4dCk7XG4gICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soY2FsY3VsYXRlVGV4dFN0eWxlKTtcbiAgfVxuICB1cGxvYWQoaXRlbSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgdGhpcy5hZGQoaXRlbSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5jb21wbGV0ZXMucHVzaChyZXNvbHZlKTtcbiAgICAgICAgaWYgKCF0aGlzLnRpY2tpbmcpIHtcbiAgICAgICAgICB0aGlzLnRpY2tpbmcgPSB0cnVlO1xuICAgICAgICAgIFRpY2tlci5zeXN0ZW0uYWRkT25jZSh0aGlzLnRpY2ssIHRoaXMsIFVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHRpY2soKSB7XG4gICAgc2V0VGltZW91dCh0aGlzLmRlbGF5ZWRUaWNrLCAwKTtcbiAgfVxuICBwcmVwYXJlSXRlbXMoKSB7XG4gICAgdGhpcy5saW1pdGVyLmJlZ2luRnJhbWUoKTtcbiAgICB3aGlsZSAodGhpcy5xdWV1ZS5sZW5ndGggJiYgdGhpcy5saW1pdGVyLmFsbG93ZWRUb1VwbG9hZCgpKSB7XG4gICAgICBjb25zdCBpdGVtID0gdGhpcy5xdWV1ZVswXTtcbiAgICAgIGxldCB1cGxvYWRlZCA9IGZhbHNlO1xuICAgICAgaWYgKGl0ZW0gJiYgIWl0ZW0uX2Rlc3Ryb3llZCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy51cGxvYWRIb29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGlmICh0aGlzLnVwbG9hZEhvb2tzW2ldKHRoaXMudXBsb2FkSG9va0hlbHBlciwgaXRlbSkpIHtcbiAgICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIHVwbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCF1cGxvYWRlZCkge1xuICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgICAgY29uc3QgY29tcGxldGVzID0gdGhpcy5jb21wbGV0ZXMuc2xpY2UoMCk7XG4gICAgICB0aGlzLmNvbXBsZXRlcy5sZW5ndGggPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNvbXBsZXRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb21wbGV0ZXNbaV0oKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgVGlja2VyLnN5c3RlbS5hZGRPbmNlKHRoaXMudGljaywgdGhpcywgVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgIH1cbiAgfVxuICByZWdpc3RlckZpbmRIb29rKGFkZEhvb2spIHtcbiAgICBpZiAoYWRkSG9vaykge1xuICAgICAgdGhpcy5hZGRIb29rcy5wdXNoKGFkZEhvb2spO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICByZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkSG9vaykge1xuICAgIGlmICh1cGxvYWRIb29rKSB7XG4gICAgICB0aGlzLnVwbG9hZEhvb2tzLnB1c2godXBsb2FkSG9vayk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGFkZChpdGVtKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuYWRkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmFkZEhvb2tzW2ldKGl0ZW0sIHRoaXMucXVldWUpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIENvbnRhaW5lcikge1xuICAgICAgZm9yIChsZXQgaSA9IGl0ZW0uY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdGhpcy5hZGQoaXRlbS5jaGlsZHJlbltpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMudGlja2luZykge1xuICAgICAgVGlja2VyLnN5c3RlbS5yZW1vdmUodGhpcy50aWNrLCB0aGlzKTtcbiAgICB9XG4gICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgdGhpcy5hZGRIb29rcyA9IG51bGw7XG4gICAgdGhpcy51cGxvYWRIb29rcyA9IG51bGw7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5jb21wbGV0ZXMgPSBudWxsO1xuICAgIHRoaXMucXVldWUgPSBudWxsO1xuICAgIHRoaXMubGltaXRlciA9IG51bGw7XG4gICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcbiAgfVxufTtcbmxldCBCYXNlUHJlcGFyZSA9IF9CYXNlUHJlcGFyZTtcbkJhc2VQcmVwYXJlLnVwbG9hZHNQZXJGcmFtZSA9IDQ7XG5cbmV4cG9ydCB7IEJhc2VQcmVwYXJlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlUHJlcGFyZS5tanMubWFwXG4iLCJjbGFzcyBDb3VudExpbWl0ZXIge1xuICBjb25zdHJ1Y3RvcihtYXhJdGVtc1BlckZyYW1lKSB7XG4gICAgdGhpcy5tYXhJdGVtc1BlckZyYW1lID0gbWF4SXRlbXNQZXJGcmFtZTtcbiAgICB0aGlzLml0ZW1zTGVmdCA9IDA7XG4gIH1cbiAgYmVnaW5GcmFtZSgpIHtcbiAgICB0aGlzLml0ZW1zTGVmdCA9IHRoaXMubWF4SXRlbXNQZXJGcmFtZTtcbiAgfVxuICBhbGxvd2VkVG9VcGxvYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXNMZWZ0LS0gPiAwO1xuICB9XG59XG5cbmV4cG9ydCB7IENvdW50TGltaXRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q291bnRMaW1pdGVyLm1qcy5tYXBcbiIsImltcG9ydCB7IEJhc2VUZXh0dXJlLCBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gJ0BwaXhpL2dyYXBoaWNzJztcbmltcG9ydCB7IEJhc2VQcmVwYXJlIH0gZnJvbSAnLi9CYXNlUHJlcGFyZS5tanMnO1xuXG5mdW5jdGlvbiB1cGxvYWRCYXNlVGV4dHVyZXMocmVuZGVyZXIsIGl0ZW0pIHtcbiAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSkge1xuICAgIGlmICghaXRlbS5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pIHtcbiAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZChpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gdXBsb2FkR3JhcGhpY3MocmVuZGVyZXIsIGl0ZW0pIHtcbiAgaWYgKCEoaXRlbSBpbnN0YW5jZW9mIEdyYXBoaWNzKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB7IGdlb21ldHJ5IH0gPSBpdGVtO1xuICBpdGVtLmZpbmlzaFBvbHkoKTtcbiAgZ2VvbWV0cnkudXBkYXRlQmF0Y2hlcygpO1xuICBjb25zdCB7IGJhdGNoZXMgfSA9IGdlb21ldHJ5O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB7IHRleHR1cmUgfSA9IGJhdGNoZXNbaV0uc3R5bGU7XG4gICAgaWYgKHRleHR1cmUpIHtcbiAgICAgIHVwbG9hZEJhc2VUZXh0dXJlcyhyZW5kZXJlciwgdGV4dHVyZS5iYXNlVGV4dHVyZSk7XG4gICAgfVxuICB9XG4gIGlmICghZ2VvbWV0cnkuYmF0Y2hhYmxlKSB7XG4gICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChnZW9tZXRyeSwgaXRlbS5fcmVzb2x2ZURpcmVjdFNoYWRlcihyZW5kZXJlcikpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gZmluZEdyYXBoaWNzKGl0ZW0sIHF1ZXVlKSB7XG4gIGlmIChpdGVtIGluc3RhbmNlb2YgR3JhcGhpY3MpIHtcbiAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmNsYXNzIFByZXBhcmUgZXh0ZW5kcyBCYXNlUHJlcGFyZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgc3VwZXIocmVuZGVyZXIpO1xuICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRHcmFwaGljcyk7XG4gICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkQmFzZVRleHR1cmVzKTtcbiAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRHcmFwaGljcyk7XG4gIH1cbn1cblByZXBhcmUuZXh0ZW5zaW9uID0ge1xuICBuYW1lOiBcInByZXBhcmVcIixcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbVxufTtcbmV4dGVuc2lvbnMuYWRkKFByZXBhcmUpO1xuXG5leHBvcnQgeyBQcmVwYXJlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QcmVwYXJlLm1qcy5tYXBcbiIsImNsYXNzIFRpbWVMaW1pdGVyIHtcbiAgY29uc3RydWN0b3IobWF4TWlsbGlzZWNvbmRzKSB7XG4gICAgdGhpcy5tYXhNaWxsaXNlY29uZHMgPSBtYXhNaWxsaXNlY29uZHM7XG4gICAgdGhpcy5mcmFtZVN0YXJ0ID0gMDtcbiAgfVxuICBiZWdpbkZyYW1lKCkge1xuICAgIHRoaXMuZnJhbWVTdGFydCA9IERhdGUubm93KCk7XG4gIH1cbiAgYWxsb3dlZFRvVXBsb2FkKCkge1xuICAgIHJldHVybiBEYXRlLm5vdygpIC0gdGhpcy5mcmFtZVN0YXJ0IDwgdGhpcy5tYXhNaWxsaXNlY29uZHM7XG4gIH1cbn1cblxuZXhwb3J0IHsgVGltZUxpbWl0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbWVMaW1pdGVyLm1qcy5tYXBcbiIsImltcG9ydCAnLi9zZXR0aW5ncy5tanMnO1xuZXhwb3J0IHsgQmFzZVByZXBhcmUgfSBmcm9tICcuL0Jhc2VQcmVwYXJlLm1qcyc7XG5leHBvcnQgeyBDb3VudExpbWl0ZXIgfSBmcm9tICcuL0NvdW50TGltaXRlci5tanMnO1xuZXhwb3J0IHsgUHJlcGFyZSB9IGZyb20gJy4vUHJlcGFyZS5tanMnO1xuZXhwb3J0IHsgVGltZUxpbWl0ZXIgfSBmcm9tICcuL1RpbWVMaW1pdGVyLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBzZXR0aW5ncywgdXRpbHMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmV4cG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBCYXNlUHJlcGFyZSB9IGZyb20gJy4vQmFzZVByZXBhcmUubWpzJztcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc2V0dGluZ3MsIHtcbiAgVVBMT0FEU19QRVJfRlJBTUU6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gQmFzZVByZXBhcmUudXBsb2Fkc1BlckZyYW1lO1xuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICB1dGlscy5kZXByZWNhdGlvbihcIjcuMS4wXCIsIFwic2V0dGluZ3MuVVBMT0FEU19QRVJfRlJBTUUgaXMgZGVwcmVjYXRlZCwgdXNlIHByZXBhcmUuQmFzZVByZXBhcmUudXBsb2Fkc1BlckZyYW1lXCIpO1xuICAgICAgQmFzZVByZXBhcmUudXBsb2Fkc1BlckZyYW1lID0gdmFsdWU7XG4gICAgfVxuICB9XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldHRpbmdzLm1qcy5tYXBcbiIsImNsYXNzIFJ1bm5lciB7XG4gIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICB0aGlzLml0ZW1zID0gW107XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fYWxpYXNDb3VudCA9IDA7XG4gIH1cbiAgZW1pdChhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1heCBhcmd1bWVudHMgcmVhY2hlZFwiKTtcbiAgICB9XG4gICAgY29uc3QgeyBuYW1lLCBpdGVtcyB9ID0gdGhpcztcbiAgICB0aGlzLl9hbGlhc0NvdW50Kys7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpdGVtc1tpXVtuYW1lXShhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpO1xuICAgIH1cbiAgICBpZiAoaXRlbXMgPT09IHRoaXMuaXRlbXMpIHtcbiAgICAgIHRoaXMuX2FsaWFzQ291bnQtLTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCkge1xuICAgIGlmICh0aGlzLl9hbGlhc0NvdW50ID4gMCAmJiB0aGlzLml0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRoaXMuX2FsaWFzQ291bnQgPSAwO1xuICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UoMCk7XG4gICAgfVxuICB9XG4gIGFkZChpdGVtKSB7XG4gICAgaWYgKGl0ZW1bdGhpcy5fbmFtZV0pIHtcbiAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICB0aGlzLnJlbW92ZShpdGVtKTtcbiAgICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcmVtb3ZlKGl0ZW0pIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBjb250YWlucyhpdGVtKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMuaW5jbHVkZXMoaXRlbSk7XG4gIH1cbiAgcmVtb3ZlQWxsKCkge1xuICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgdGhpcy5pdGVtcy5sZW5ndGggPSAwO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW1vdmVBbGwoKTtcbiAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICB0aGlzLl9uYW1lID0gbnVsbDtcbiAgfVxuICBnZXQgZW1wdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoID09PSAwO1xuICB9XG4gIGdldCBuYW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICB9XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhSdW5uZXIucHJvdG90eXBlLCB7XG4gIGRpc3BhdGNoOiB7IHZhbHVlOiBSdW5uZXIucHJvdG90eXBlLmVtaXQgfSxcbiAgcnVuOiB7IHZhbHVlOiBSdW5uZXIucHJvdG90eXBlLmVtaXQgfVxufSk7XG5cbmV4cG9ydCB7IFJ1bm5lciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UnVubmVyLm1qcy5tYXBcbiIsImV4cG9ydCB7IFJ1bm5lciB9IGZyb20gJy4vUnVubmVyLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlDYW52YXMubWpzLm1hcFxuIiwiXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELm1qcy5tYXBcbiIsImNvbnN0IEJyb3dzZXJBZGFwdGVyID0ge1xuICBjcmVhdGVDYW52YXM6ICh3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHJldHVybiBjYW52YXM7XG4gIH0sXG4gIGdldENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDogKCkgPT4gQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICBnZXRXZWJHTFJlbmRlcmluZ0NvbnRleHQ6ICgpID0+IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcbiAgZ2V0TmF2aWdhdG9yOiAoKSA9PiBuYXZpZ2F0b3IsXG4gIGdldEJhc2VVcmw6ICgpID0+IGRvY3VtZW50LmJhc2VVUkkgPz8gd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gIGdldEZvbnRGYWNlU2V0OiAoKSA9PiBkb2N1bWVudC5mb250cyxcbiAgZmV0Y2g6ICh1cmwsIG9wdGlvbnMpID0+IGZldGNoKHVybCwgb3B0aW9ucyksXG4gIHBhcnNlWE1MOiAoeG1sKSA9PiB7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgIHJldHVybiBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHhtbCwgXCJ0ZXh0L3htbFwiKTtcbiAgfVxufTtcblxuZXhwb3J0IHsgQnJvd3NlckFkYXB0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkYXB0ZXIubWpzLm1hcFxuIiwiZXhwb3J0IHsgQnJvd3NlckFkYXB0ZXIgfSBmcm9tICcuL2FkYXB0ZXIubWpzJztcbmltcG9ydCAnLi9JQ2FudmFzLm1qcyc7XG5pbXBvcnQgJy4vSUNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5tanMnO1xuZXhwb3J0IHsgc2V0dGluZ3MgfSBmcm9tICcuL3NldHRpbmdzLm1qcyc7XG5leHBvcnQgeyBpc01vYmlsZSB9IGZyb20gJy4vdXRpbHMvaXNNb2JpbGUubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IEJyb3dzZXJBZGFwdGVyIH0gZnJvbSAnLi9hZGFwdGVyLm1qcyc7XG5cbmNvbnN0IHNldHRpbmdzID0ge1xuICBBREFQVEVSOiBCcm93c2VyQWRhcHRlcixcbiAgUkVTT0xVVElPTjogMSxcbiAgQ1JFQVRFX0lNQUdFX0JJVE1BUDogZmFsc2UsXG4gIFJPVU5EX1BJWEVMUzogZmFsc2Vcbn07XG5cbmV4cG9ydCB7IHNldHRpbmdzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR0aW5ncy5tanMubWFwXG4iLCJpbXBvcnQgaXNNb2JpbGVKcyBmcm9tICdpc21vYmlsZWpzJztcblxuY29uc3QgaXNNb2JpbGVDYWxsID0gaXNNb2JpbGVKcy5kZWZhdWx0ID8/IGlzTW9iaWxlSnM7XG5jb25zdCBpc01vYmlsZSA9IGlzTW9iaWxlQ2FsbChnbG9iYWxUaGlzLm5hdmlnYXRvcik7XG5cbmV4cG9ydCB7IGlzTW9iaWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc01vYmlsZS5tanMubWFwXG4iLCJpbXBvcnQgeyBUZXh0dXJlLCBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcblxuY2xhc3MgQW5pbWF0ZWRTcHJpdGUgZXh0ZW5kcyBTcHJpdGUge1xuICBjb25zdHJ1Y3Rvcih0ZXh0dXJlcywgYXV0b1VwZGF0ZSA9IHRydWUpIHtcbiAgICBzdXBlcih0ZXh0dXJlc1swXSBpbnN0YW5jZW9mIFRleHR1cmUgPyB0ZXh0dXJlc1swXSA6IHRleHR1cmVzWzBdLnRleHR1cmUpO1xuICAgIHRoaXMuX3RleHR1cmVzID0gbnVsbDtcbiAgICB0aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuICAgIHRoaXMuX2F1dG9VcGRhdGUgPSBhdXRvVXBkYXRlO1xuICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICB0aGlzLmFuaW1hdGlvblNwZWVkID0gMTtcbiAgICB0aGlzLmxvb3AgPSB0cnVlO1xuICAgIHRoaXMudXBkYXRlQW5jaG9yID0gZmFsc2U7XG4gICAgdGhpcy5vbkNvbXBsZXRlID0gbnVsbDtcbiAgICB0aGlzLm9uRnJhbWVDaGFuZ2UgPSBudWxsO1xuICAgIHRoaXMub25Mb29wID0gbnVsbDtcbiAgICB0aGlzLl9jdXJyZW50VGltZSA9IDA7XG4gICAgdGhpcy5fcGxheWluZyA9IGZhbHNlO1xuICAgIHRoaXMuX3ByZXZpb3VzRnJhbWUgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZXMgPSB0ZXh0dXJlcztcbiAgfVxuICBzdG9wKCkge1xuICAgIGlmICghdGhpcy5fcGxheWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9wbGF5aW5nID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBwbGF5KCkge1xuICAgIGlmICh0aGlzLl9wbGF5aW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3BsYXlpbmcgPSB0cnVlO1xuICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IHRydWU7XG4gICAgfVxuICB9XG4gIGdvdG9BbmRTdG9wKGZyYW1lTnVtYmVyKSB7XG4gICAgdGhpcy5zdG9wKCk7XG4gICAgdGhpcy5jdXJyZW50RnJhbWUgPSBmcmFtZU51bWJlcjtcbiAgfVxuICBnb3RvQW5kUGxheShmcmFtZU51bWJlcikge1xuICAgIHRoaXMuY3VycmVudEZyYW1lID0gZnJhbWVOdW1iZXI7XG4gICAgdGhpcy5wbGF5KCk7XG4gIH1cbiAgdXBkYXRlKGRlbHRhVGltZSkge1xuICAgIGlmICghdGhpcy5fcGxheWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbGFwc2VkID0gdGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZTtcbiAgICBjb25zdCBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgaWYgKHRoaXMuX2R1cmF0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgbGV0IGxhZyA9IHRoaXMuX2N1cnJlbnRUaW1lICUgMSAqIHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICBsYWcgKz0gZWxhcHNlZCAvIDYwICogMWUzO1xuICAgICAgd2hpbGUgKGxhZyA8IDApIHtcbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUtLTtcbiAgICAgICAgbGFnICs9IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICB9XG4gICAgICBjb25zdCBzaWduID0gTWF0aC5zaWduKHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWUpO1xuICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBNYXRoLmZsb29yKHRoaXMuX2N1cnJlbnRUaW1lKTtcbiAgICAgIHdoaWxlIChsYWcgPj0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSkge1xuICAgICAgICBsYWcgLT0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSAqIHNpZ247XG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IHNpZ247XG4gICAgICB9XG4gICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBsYWcgLyB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBlbGFwc2VkO1xuICAgIH1cbiAgICBpZiAodGhpcy5fY3VycmVudFRpbWUgPCAwICYmICF0aGlzLmxvb3ApIHtcbiAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG4gICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5fY3VycmVudFRpbWUgPj0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoICYmICF0aGlzLmxvb3ApIHtcbiAgICAgIHRoaXMuZ290b0FuZFN0b3AodGhpcy5fdGV4dHVyZXMubGVuZ3RoIC0gMSk7XG4gICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpIHtcbiAgICAgIGlmICh0aGlzLmxvb3AgJiYgdGhpcy5vbkxvb3ApIHtcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPiAwICYmIHRoaXMuY3VycmVudEZyYW1lIDwgcHJldmlvdXNGcmFtZSB8fCB0aGlzLmFuaW1hdGlvblNwZWVkIDwgMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA+IHByZXZpb3VzRnJhbWUpIHtcbiAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlVGV4dHVyZSgpIHtcbiAgICBjb25zdCBjdXJyZW50RnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICBpZiAodGhpcy5fcHJldmlvdXNGcmFtZSA9PT0gY3VycmVudEZyYW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3ByZXZpb3VzRnJhbWUgPSBjdXJyZW50RnJhbWU7XG4gICAgdGhpcy5fdGV4dHVyZSA9IHRoaXMuX3RleHR1cmVzW2N1cnJlbnRGcmFtZV07XG4gICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAxNjc3NzIxNTtcbiAgICB0aGlzLnV2cyA9IHRoaXMuX3RleHR1cmUuX3V2cy51dnNGbG9hdDMyO1xuICAgIGlmICh0aGlzLnVwZGF0ZUFuY2hvcikge1xuICAgICAgdGhpcy5fYW5jaG9yLmNvcHlGcm9tKHRoaXMuX3RleHR1cmUuZGVmYXVsdEFuY2hvcik7XG4gICAgfVxuICAgIGlmICh0aGlzLm9uRnJhbWVDaGFuZ2UpIHtcbiAgICAgIHRoaXMub25GcmFtZUNoYW5nZSh0aGlzLmN1cnJlbnRGcmFtZSk7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3kob3B0aW9ucykge1xuICAgIHRoaXMuc3RvcCgpO1xuICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgdGhpcy5vbkNvbXBsZXRlID0gbnVsbDtcbiAgICB0aGlzLm9uRnJhbWVDaGFuZ2UgPSBudWxsO1xuICAgIHRoaXMub25Mb29wID0gbnVsbDtcbiAgfVxuICBzdGF0aWMgZnJvbUZyYW1lcyhmcmFtZXMpIHtcbiAgICBjb25zdCB0ZXh0dXJlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnJhbWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB0ZXh0dXJlcy5wdXNoKFRleHR1cmUuZnJvbShmcmFtZXNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gIH1cbiAgc3RhdGljIGZyb21JbWFnZXMoaW1hZ2VzKSB7XG4gICAgY29uc3QgdGV4dHVyZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7ICsraSkge1xuICAgICAgdGV4dHVyZXMucHVzaChUZXh0dXJlLmZyb20oaW1hZ2VzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICB9XG4gIGdldCB0b3RhbEZyYW1lcygpIHtcbiAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICB9XG4gIGdldCB0ZXh0dXJlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXM7XG4gIH1cbiAgc2V0IHRleHR1cmVzKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlWzBdIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgdGhpcy5fdGV4dHVyZXMgPSB2YWx1ZTtcbiAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3RleHR1cmVzID0gW107XG4gICAgICB0aGlzLl9kdXJhdGlvbnMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZXMucHVzaCh2YWx1ZVtpXS50ZXh0dXJlKTtcbiAgICAgICAgdGhpcy5fZHVyYXRpb25zLnB1c2godmFsdWVbaV0udGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3ByZXZpb3VzRnJhbWUgPSBudWxsO1xuICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG4gICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gIH1cbiAgZ2V0IGN1cnJlbnRGcmFtZSgpIHtcbiAgICBsZXQgY3VycmVudEZyYW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSkgJSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgaWYgKGN1cnJlbnRGcmFtZSA8IDApIHtcbiAgICAgIGN1cnJlbnRGcmFtZSArPSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50RnJhbWU7XG4gIH1cbiAgc2V0IGN1cnJlbnRGcmFtZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPiB0aGlzLnRvdGFsRnJhbWVzIC0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBbQW5pbWF0ZWRTcHJpdGVdOiBJbnZhbGlkIGZyYW1lIGluZGV4IHZhbHVlICR7dmFsdWV9LCBleHBlY3RlZCB0byBiZSBiZXR3ZWVuIDAgYW5kIHRvdGFsRnJhbWVzICR7dGhpcy50b3RhbEZyYW1lc30uYCk7XG4gICAgfVxuICAgIGNvbnN0IHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICB0aGlzLl9jdXJyZW50VGltZSA9IHZhbHVlO1xuICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgfVxuICB9XG4gIGdldCBwbGF5aW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9wbGF5aW5nO1xuICB9XG4gIGdldCBhdXRvVXBkYXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9hdXRvVXBkYXRlO1xuICB9XG4gIHNldCBhdXRvVXBkYXRlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9PSB0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdmFsdWU7XG4gICAgICBpZiAoIXRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciAmJiB0aGlzLl9wbGF5aW5nKSB7XG4gICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IEFuaW1hdGVkU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbmltYXRlZFNwcml0ZS5tanMubWFwXG4iLCJleHBvcnQgeyBBbmltYXRlZFNwcml0ZSB9IGZyb20gJy4vQW5pbWF0ZWRTcHJpdGUubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IFBvaW50LCBUcmFuc2Zvcm0sIFRleHR1cmVNYXRyaXgsIFJlY3RhbmdsZSwgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcblxuY29uc3QgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5jbGFzcyBUaWxpbmdTcHJpdGUgZXh0ZW5kcyBTcHJpdGUge1xuICBjb25zdHJ1Y3Rvcih0ZXh0dXJlLCB3aWR0aCA9IDEwMCwgaGVpZ2h0ID0gMTAwKSB7XG4gICAgc3VwZXIodGV4dHVyZSk7XG4gICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMudXZNYXRyaXggPSB0aGlzLnRleHR1cmUudXZNYXRyaXggfHwgbmV3IFRleHR1cmVNYXRyaXgodGV4dHVyZSk7XG4gICAgdGhpcy5wbHVnaW5OYW1lID0gXCJ0aWxpbmdTcHJpdGVcIjtcbiAgICB0aGlzLnV2UmVzcGVjdEFuY2hvciA9IGZhbHNlO1xuICB9XG4gIGdldCBjbGFtcE1hcmdpbigpIHtcbiAgICByZXR1cm4gdGhpcy51dk1hdHJpeC5jbGFtcE1hcmdpbjtcbiAgfVxuICBzZXQgY2xhbXBNYXJnaW4odmFsdWUpIHtcbiAgICB0aGlzLnV2TWF0cml4LmNsYW1wTWFyZ2luID0gdmFsdWU7XG4gICAgdGhpcy51dk1hdHJpeC51cGRhdGUodHJ1ZSk7XG4gIH1cbiAgZ2V0IHRpbGVTY2FsZSgpIHtcbiAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlO1xuICB9XG4gIHNldCB0aWxlU2NhbGUodmFsdWUpIHtcbiAgICB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGUuY29weUZyb20odmFsdWUpO1xuICB9XG4gIGdldCB0aWxlUG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgfVxuICBzZXQgdGlsZVBvc2l0aW9uKHZhbHVlKSB7XG4gICAgdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHZhbHVlKTtcbiAgfVxuICBfb25UZXh0dXJlVXBkYXRlKCkge1xuICAgIGlmICh0aGlzLnV2TWF0cml4KSB7XG4gICAgICB0aGlzLnV2TWF0cml4LnRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgIH1cbiAgICB0aGlzLl9jYWNoZWRUaW50ID0gMTY3NzcyMTU7XG4gIH1cbiAgX3JlbmRlcihyZW5kZXJlcikge1xuICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgIGlmICghdGV4dHVyZSB8fCAhdGV4dHVyZS52YWxpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnRpbGVUcmFuc2Zvcm0udXBkYXRlTG9jYWxUcmFuc2Zvcm0oKTtcbiAgICB0aGlzLnV2TWF0cml4LnVwZGF0ZSgpO1xuICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgfVxuICBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgIGNvbnN0IG1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgY29uc3QgbWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgY29uc3QgbWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgIGNvbnN0IG1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG4gICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcbiAgfVxuICBnZXRMb2NhbEJvdW5kcyhyZWN0KSB7XG4gICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9ib3VuZHMubWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcbiAgICAgIGlmICghcmVjdCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdCkge1xuICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICB9XG4gIGNvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuX3dpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuX2hlaWdodDtcbiAgICBjb25zdCB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLl94O1xuICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpIHtcbiAgICAgIGNvbnN0IHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLl95O1xuICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuICAgIHRoaXMudGlsZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgdGhpcy51dk1hdHJpeCA9IG51bGw7XG4gIH1cbiAgc3RhdGljIGZyb20oc291cmNlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgdGV4dHVyZSA9IHNvdXJjZSBpbnN0YW5jZW9mIFRleHR1cmUgPyBzb3VyY2UgOiBUZXh0dXJlLmZyb20oc291cmNlLCBvcHRpb25zKTtcbiAgICByZXR1cm4gbmV3IFRpbGluZ1Nwcml0ZSh0ZXh0dXJlLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG4gIH1cbiAgZ2V0IHdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgfVxuICBzZXQgd2lkdGgodmFsdWUpIHtcbiAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICB9XG4gIGdldCBoZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgfVxuICBzZXQgaGVpZ2h0KHZhbHVlKSB7XG4gICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgVGlsaW5nU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxpbmdTcHJpdGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4LCBPYmplY3RSZW5kZXJlciwgUXVhZFV2LCBTdGF0ZSwgU2hhZGVyLCBXUkFQX01PREVTLCBDb2xvciwgdXRpbHMsIEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCBnbDJGcmFnbWVudFNyYyBmcm9tICcuL3Nwcml0ZS10aWxpbmcubWpzJztcbmltcG9ydCBnbDJWZXJ0ZXhTcmMgZnJvbSAnLi9zcHJpdGUtdGlsaW5nMi5tanMnO1xuaW1wb3J0IGdsMUZyYWdtZW50U3JjIGZyb20gJy4vc3ByaXRlLXRpbGluZy1mYWxsYmFjay5tanMnO1xuaW1wb3J0IGdsMVZlcnRleFNyYyBmcm9tICcuL3Nwcml0ZS10aWxpbmctZmFsbGJhY2syLm1qcyc7XG5pbXBvcnQgZnJhZ21lbnRTaW1wbGVTcmMgZnJvbSAnLi9zcHJpdGUtdGlsaW5nLXNpbXBsZS5tanMnO1xuXG5jb25zdCB0ZW1wTWF0ID0gbmV3IE1hdHJpeCgpO1xuY2xhc3MgVGlsaW5nU3ByaXRlUmVuZGVyZXIgZXh0ZW5kcyBPYmplY3RSZW5kZXJlciB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgc3VwZXIocmVuZGVyZXIpO1xuICAgIHJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5hZGQodGhpcyk7XG4gICAgdGhpcy5xdWFkID0gbmV3IFF1YWRVdigpO1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICB9XG4gIGNvbnRleHRDaGFuZ2UoKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIGNvbnN0IHVuaWZvcm1zID0geyBnbG9iYWxzOiByZW5kZXJlci5nbG9iYWxVbmlmb3JtcyB9O1xuICAgIHRoaXMuc2ltcGxlU2hhZGVyID0gU2hhZGVyLmZyb20oZ2wxVmVydGV4U3JjLCBmcmFnbWVudFNpbXBsZVNyYywgdW5pZm9ybXMpO1xuICAgIHRoaXMuc2hhZGVyID0gcmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb24gPiAxID8gU2hhZGVyLmZyb20oZ2wyVmVydGV4U3JjLCBnbDJGcmFnbWVudFNyYywgdW5pZm9ybXMpIDogU2hhZGVyLmZyb20oZ2wxVmVydGV4U3JjLCBnbDFGcmFnbWVudFNyYywgdW5pZm9ybXMpO1xuICB9XG4gIHJlbmRlcih0cykge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICBjb25zdCBxdWFkID0gdGhpcy5xdWFkO1xuICAgIGxldCB2ZXJ0aWNlcyA9IHF1YWQudmVydGljZXM7XG4gICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9IHRzLl93aWR0aCAqIC10cy5hbmNob3IueDtcbiAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gdHMuX2hlaWdodCAqIC10cy5hbmNob3IueTtcbiAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gdHMuX3dpZHRoICogKDEgLSB0cy5hbmNob3IueCk7XG4gICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IHRzLl9oZWlnaHQgKiAoMSAtIHRzLmFuY2hvci55KTtcbiAgICBjb25zdCBhbmNob3JYID0gdHMudXZSZXNwZWN0QW5jaG9yID8gdHMuYW5jaG9yLnggOiAwO1xuICAgIGNvbnN0IGFuY2hvclkgPSB0cy51dlJlc3BlY3RBbmNob3IgPyB0cy5hbmNob3IueSA6IDA7XG4gICAgdmVydGljZXMgPSBxdWFkLnV2cztcbiAgICB2ZXJ0aWNlc1swXSA9IHZlcnRpY2VzWzZdID0gLWFuY2hvclg7XG4gICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IC1hbmNob3JZO1xuICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSAxIC0gYW5jaG9yWDtcbiAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gMSAtIGFuY2hvclk7XG4gICAgcXVhZC5pbnZhbGlkYXRlKCk7XG4gICAgY29uc3QgdGV4ID0gdHMuX3RleHR1cmU7XG4gICAgY29uc3QgYmFzZVRleCA9IHRleC5iYXNlVGV4dHVyZTtcbiAgICBjb25zdCBwcmVtdWx0aXBsaWVkID0gYmFzZVRleC5hbHBoYU1vZGUgPiAwO1xuICAgIGNvbnN0IGx0ID0gdHMudGlsZVRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICBjb25zdCB1diA9IHRzLnV2TWF0cml4O1xuICAgIGxldCBpc1NpbXBsZSA9IGJhc2VUZXguaXNQb3dlck9mVHdvICYmIHRleC5mcmFtZS53aWR0aCA9PT0gYmFzZVRleC53aWR0aCAmJiB0ZXguZnJhbWUuaGVpZ2h0ID09PSBiYXNlVGV4LmhlaWdodDtcbiAgICBpZiAoaXNTaW1wbGUpIHtcbiAgICAgIGlmICghYmFzZVRleC5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pIHtcbiAgICAgICAgaWYgKGJhc2VUZXgud3JhcE1vZGUgPT09IFdSQVBfTU9ERVMuQ0xBTVApIHtcbiAgICAgICAgICBiYXNlVGV4LndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlzU2ltcGxlID0gYmFzZVRleC53cmFwTW9kZSAhPT0gV1JBUF9NT0RFUy5DTEFNUDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2hhZGVyID0gaXNTaW1wbGUgPyB0aGlzLnNpbXBsZVNoYWRlciA6IHRoaXMuc2hhZGVyO1xuICAgIGNvbnN0IHcgPSB0ZXgud2lkdGg7XG4gICAgY29uc3QgaCA9IHRleC5oZWlnaHQ7XG4gICAgY29uc3QgVyA9IHRzLl93aWR0aDtcbiAgICBjb25zdCBIID0gdHMuX2hlaWdodDtcbiAgICB0ZW1wTWF0LnNldChsdC5hICogdyAvIFcsIGx0LmIgKiB3IC8gSCwgbHQuYyAqIGggLyBXLCBsdC5kICogaCAvIEgsIGx0LnR4IC8gVywgbHQudHkgLyBIKTtcbiAgICB0ZW1wTWF0LmludmVydCgpO1xuICAgIGlmIChpc1NpbXBsZSkge1xuICAgICAgdGVtcE1hdC5wcmVwZW5kKHV2Lm1hcENvb3JkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hhZGVyLnVuaWZvcm1zLnVNYXBDb29yZCA9IHV2Lm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wRnJhbWUgPSB1di51Q2xhbXBGcmFtZTtcbiAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB1di51Q2xhbXBPZmZzZXQ7XG4gICAgfVxuICAgIHNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtID0gdGVtcE1hdC50b0FycmF5KHRydWUpO1xuICAgIHNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBDb2xvci5zaGFyZWQuc2V0VmFsdWUodHMudGludCkucHJlbXVsdGlwbHkodHMud29ybGRBbHBoYSwgcHJlbXVsdGlwbGllZCkudG9BcnJheShzaGFkZXIudW5pZm9ybXMudUNvbG9yKTtcbiAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0cy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICBzaGFkZXIudW5pZm9ybXMudVNhbXBsZXIgPSB0ZXg7XG4gICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoc2hhZGVyKTtcbiAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHF1YWQpO1xuICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdXRpbHMuY29ycmVjdEJsZW5kTW9kZSh0cy5ibGVuZE1vZGUsIHByZW11bHRpcGxpZWQpO1xuICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHRoaXMucmVuZGVyZXIuZ2wuVFJJQU5HTEVTLCA2LCAwKTtcbiAgfVxufVxuVGlsaW5nU3ByaXRlUmVuZGVyZXIuZXh0ZW5zaW9uID0ge1xuICBuYW1lOiBcInRpbGluZ1Nwcml0ZVwiLFxuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyUGx1Z2luXG59O1xuZXh0ZW5zaW9ucy5hZGQoVGlsaW5nU3ByaXRlUmVuZGVyZXIpO1xuXG5leHBvcnQgeyBUaWxpbmdTcHJpdGVSZW5kZXJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsaW5nU3ByaXRlUmVuZGVyZXIubWpzLm1hcFxuIiwiZXhwb3J0IHsgVGlsaW5nU3ByaXRlIH0gZnJvbSAnLi9UaWxpbmdTcHJpdGUubWpzJztcbmV4cG9ydCB7IFRpbGluZ1Nwcml0ZVJlbmRlcmVyIH0gZnJvbSAnLi9UaWxpbmdTcHJpdGVSZW5kZXJlci5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwidmFyIGdsMUZyYWdtZW50U3JjID0gXCIjdmVyc2lvbiAxMDBcXG4jaWZkZWYgR0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZFxcbiAgICAjZXh0ZW5zaW9uIEdMX0VYVF9zaGFkZXJfdGV4dHVyZV9sb2QgOiBlbmFibGVcXG4jZW5kaWZcXG4jZGVmaW5lIFNIQURFUl9OQU1FIFRpbGluZy1TcHJpdGUtMTAwXFxuXFxucHJlY2lzaW9uIGxvd3AgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG51bmlmb3JtIG1hdDMgdU1hcENvb3JkO1xcbnVuaWZvcm0gdmVjNCB1Q2xhbXBGcmFtZTtcXG51bmlmb3JtIHZlYzIgdUNsYW1wT2Zmc2V0O1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjMiBjb29yZCA9IHZUZXh0dXJlQ29vcmQgKyBjZWlsKHVDbGFtcE9mZnNldCAtIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBjb29yZCA9ICh1TWFwQ29vcmQgKiB2ZWMzKGNvb3JkLCAxLjApKS54eTtcXG4gICAgdmVjMiB1bmNsYW1wZWQgPSBjb29yZDtcXG4gICAgY29vcmQgPSBjbGFtcChjb29yZCwgdUNsYW1wRnJhbWUueHksIHVDbGFtcEZyYW1lLnp3KTtcXG5cXG4gICAgI2lmZGVmIEdMX0VYVF9zaGFkZXJfdGV4dHVyZV9sb2RcXG4gICAgICAgIHZlYzQgdGV4U2FtcGxlID0gdW5jbGFtcGVkID09IGNvb3JkXFxuICAgICAgICAgICAgPyB0ZXh0dXJlMkQodVNhbXBsZXIsIGNvb3JkKSBcXG4gICAgICAgICAgICA6IHRleHR1cmUyRExvZEVYVCh1U2FtcGxlciwgY29vcmQsIDApO1xcbiAgICAjZWxzZVxcbiAgICAgICAgdmVjNCB0ZXhTYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNvb3JkKTtcXG4gICAgI2VuZGlmXFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleFNhbXBsZSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IGdsMUZyYWdtZW50U3JjIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS10aWxpbmctZmFsbGJhY2subWpzLm1hcFxuIiwidmFyIGdsMVZlcnRleFNyYyA9IFwiI3ZlcnNpb24gMTAwXFxuI2RlZmluZSBTSEFERVJfTkFNRSBUaWxpbmctU3ByaXRlLTEwMFxcblxcbnByZWNpc2lvbiBsb3dwIGZsb2F0O1xcblxcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcblwiO1xuXG5leHBvcnQgeyBnbDFWZXJ0ZXhTcmMgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLXRpbGluZy1mYWxsYmFjazIubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50U2ltcGxlU3JjID0gXCIjdmVyc2lvbiAxMDBcXG4jZGVmaW5lIFNIQURFUl9OQU1FIFRpbGluZy1TcHJpdGUtU2ltcGxlLTEwMFxcblxcbnByZWNpc2lvbiBsb3dwIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IHRleFNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleFNhbXBsZSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IGZyYWdtZW50U2ltcGxlU3JjIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS10aWxpbmctc2ltcGxlLm1qcy5tYXBcbiIsInZhciBnbDJGcmFnbWVudFNyYyA9IFwiI3ZlcnNpb24gMzAwIGVzXFxuI2RlZmluZSBTSEFERVJfTkFNRSBUaWxpbmctU3ByaXRlLTEwMFxcblxcbnByZWNpc2lvbiBsb3dwIGZsb2F0O1xcblxcbmluIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG5vdXQgdmVjNCBmcmFnbWVudENvbG9yO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxudW5pZm9ybSBtYXQzIHVNYXBDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNsYW1wRnJhbWU7XFxudW5pZm9ybSB2ZWMyIHVDbGFtcE9mZnNldDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzIgY29vcmQgPSB2VGV4dHVyZUNvb3JkICsgY2VpbCh1Q2xhbXBPZmZzZXQgLSB2VGV4dHVyZUNvb3JkKTtcXG4gICAgY29vcmQgPSAodU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XFxuICAgIHZlYzIgdW5jbGFtcGVkID0gY29vcmQ7XFxuICAgIGNvb3JkID0gY2xhbXAoY29vcmQsIHVDbGFtcEZyYW1lLnh5LCB1Q2xhbXBGcmFtZS56dyk7XFxuXFxuICAgIHZlYzQgdGV4U2FtcGxlID0gdGV4dHVyZSh1U2FtcGxlciwgY29vcmQsIHVuY2xhbXBlZCA9PSBjb29yZCA/IDAuMGYgOiAtMzIuMGYpOy8vIGxvZC1iaWFzIHZlcnkgbmVnYXRpdmUgdG8gZm9yY2UgbG9kIDBcXG5cXG4gICAgZnJhZ21lbnRDb2xvciA9IHRleFNhbXBsZSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IGdsMkZyYWdtZW50U3JjIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS10aWxpbmcubWpzLm1hcFxuIiwidmFyIGdsMlZlcnRleFNyYyA9IFwiI3ZlcnNpb24gMzAwIGVzXFxuI2RlZmluZSBTSEFERVJfTkFNRSBUaWxpbmctU3ByaXRlLTMwMFxcblxcbnByZWNpc2lvbiBsb3dwIGZsb2F0O1xcblxcbmluIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmluIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm07XFxuXFxub3V0IHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcblwiO1xuXG5leHBvcnQgeyBnbDJWZXJ0ZXhTcmMgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLXRpbGluZzIubWpzLm1hcFxuIiwiaW1wb3J0IHsgUG9pbnQsIE9ic2VydmFibGVQb2ludCwgQ29sb3IsIEJMRU5EX01PREVTLCBUZXh0dXJlLCBzZXR0aW5ncywgdXRpbHMsIFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ29udGFpbmVyLCBCb3VuZHMgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuY29uc3QgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5jb25zdCBpbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KFswLCAxLCAyLCAwLCAyLCAzXSk7XG5jbGFzcyBTcHJpdGUgZXh0ZW5kcyBDb250YWluZXIge1xuICBjb25zdHJ1Y3Rvcih0ZXh0dXJlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMuX29uQW5jaG9yVXBkYXRlLCB0aGlzLCB0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnggOiAwLCB0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnkgOiAwKTtcbiAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcbiAgICB0aGlzLl93aWR0aCA9IDA7XG4gICAgdGhpcy5faGVpZ2h0ID0gMDtcbiAgICB0aGlzLl90aW50Q29sb3IgPSBuZXcgQ29sb3IoMTY3NzcyMTUpO1xuICAgIHRoaXMuX3RpbnRSR0IgPSBudWxsO1xuICAgIHRoaXMudGludCA9IDE2Nzc3MjE1O1xuICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAxNjc3NzIxNTtcbiAgICB0aGlzLnV2cyA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZSB8fCBUZXh0dXJlLkVNUFRZO1xuICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG51bGw7XG4gICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgdGhpcy5pbmRpY2VzID0gaW5kaWNlcztcbiAgICB0aGlzLnBsdWdpbk5hbWUgPSBcImJhdGNoXCI7XG4gICAgdGhpcy5pc1Nwcml0ZSA9IHRydWU7XG4gICAgdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5ST1VORF9QSVhFTFM7XG4gIH1cbiAgX29uVGV4dHVyZVVwZGF0ZSgpIHtcbiAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgdGhpcy5fY2FjaGVkVGludCA9IDE2Nzc3MjE1O1xuICAgIGlmICh0aGlzLl93aWR0aCkge1xuICAgICAgdGhpcy5zY2FsZS54ID0gdXRpbHMuc2lnbih0aGlzLnNjYWxlLngpICogdGhpcy5fd2lkdGggLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgfVxuICAgIGlmICh0aGlzLl9oZWlnaHQpIHtcbiAgICAgIHRoaXMuc2NhbGUueSA9IHV0aWxzLnNpZ24odGhpcy5zY2FsZS55KSAqIHRoaXMuX2hlaWdodCAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgfVxuICB9XG4gIF9vbkFuY2hvclVwZGF0ZSgpIHtcbiAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IC0xO1xuICB9XG4gIGNhbGN1bGF0ZVZlcnRpY2VzKCkge1xuICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgIGlmICh0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQgJiYgdGhpcy5fdGV4dHVyZUlEID09PSB0ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5fdGV4dHVyZUlEICE9PSB0ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgdGhpcy51dnMgPSB0aGlzLl90ZXh0dXJlLl91dnMudXZzRmxvYXQzMjtcbiAgICB9XG4gICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICB0aGlzLl90ZXh0dXJlSUQgPSB0ZXh0dXJlLl91cGRhdGVJRDtcbiAgICBjb25zdCB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIGNvbnN0IGEgPSB3dC5hO1xuICAgIGNvbnN0IGIgPSB3dC5iO1xuICAgIGNvbnN0IGMgPSB3dC5jO1xuICAgIGNvbnN0IGQgPSB3dC5kO1xuICAgIGNvbnN0IHR4ID0gd3QudHg7XG4gICAgY29uc3QgdHkgPSB3dC50eTtcbiAgICBjb25zdCB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgIGNvbnN0IHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgY29uc3Qgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICBjb25zdCBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG4gICAgbGV0IHcwID0gMDtcbiAgICBsZXQgdzEgPSAwO1xuICAgIGxldCBoMCA9IDA7XG4gICAgbGV0IGgxID0gMDtcbiAgICBpZiAodHJpbSkge1xuICAgICAgdzEgPSB0cmltLnggLSBhbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgdzAgPSB3MSArIHRyaW0ud2lkdGg7XG4gICAgICBoMSA9IHRyaW0ueSAtIGFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgdzAgPSB3MSArIG9yaWcud2lkdGg7XG4gICAgICBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcbiAgICB9XG4gICAgdmVydGV4RGF0YVswXSA9IGEgKiB3MSArIGMgKiBoMSArIHR4O1xuICAgIHZlcnRleERhdGFbMV0gPSBkICogaDEgKyBiICogdzEgKyB0eTtcbiAgICB2ZXJ0ZXhEYXRhWzJdID0gYSAqIHcwICsgYyAqIGgxICsgdHg7XG4gICAgdmVydGV4RGF0YVszXSA9IGQgKiBoMSArIGIgKiB3MCArIHR5O1xuICAgIHZlcnRleERhdGFbNF0gPSBhICogdzAgKyBjICogaDAgKyB0eDtcbiAgICB2ZXJ0ZXhEYXRhWzVdID0gZCAqIGgwICsgYiAqIHcwICsgdHk7XG4gICAgdmVydGV4RGF0YVs2XSA9IGEgKiB3MSArIGMgKiBoMCArIHR4O1xuICAgIHZlcnRleERhdGFbN10gPSBkICogaDAgKyBiICogdzEgKyB0eTtcbiAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpIHtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZlcnRleERhdGFbaV0gPSBNYXRoLnJvdW5kKHZlcnRleERhdGFbaV0gKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcygpIHtcbiAgICBpZiAoIXRoaXMudmVydGV4VHJpbW1lZERhdGEpIHtcbiAgICAgIHRoaXMudmVydGV4VHJpbW1lZERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID09PSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgY29uc3QgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4VHJpbW1lZERhdGE7XG4gICAgY29uc3Qgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICBjb25zdCBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG4gICAgY29uc3Qgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjb25zdCBhID0gd3QuYTtcbiAgICBjb25zdCBiID0gd3QuYjtcbiAgICBjb25zdCBjID0gd3QuYztcbiAgICBjb25zdCBkID0gd3QuZDtcbiAgICBjb25zdCB0eCA9IHd0LnR4O1xuICAgIGNvbnN0IHR5ID0gd3QudHk7XG4gICAgY29uc3QgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICBjb25zdCB3MCA9IHcxICsgb3JpZy53aWR0aDtcbiAgICBjb25zdCBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICBjb25zdCBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG4gICAgdmVydGV4RGF0YVswXSA9IGEgKiB3MSArIGMgKiBoMSArIHR4O1xuICAgIHZlcnRleERhdGFbMV0gPSBkICogaDEgKyBiICogdzEgKyB0eTtcbiAgICB2ZXJ0ZXhEYXRhWzJdID0gYSAqIHcwICsgYyAqIGgxICsgdHg7XG4gICAgdmVydGV4RGF0YVszXSA9IGQgKiBoMSArIGIgKiB3MCArIHR5O1xuICAgIHZlcnRleERhdGFbNF0gPSBhICogdzAgKyBjICogaDAgKyB0eDtcbiAgICB2ZXJ0ZXhEYXRhWzVdID0gZCAqIGgwICsgYiAqIHcwICsgdHk7XG4gICAgdmVydGV4RGF0YVs2XSA9IGEgKiB3MSArIGMgKiBoMCArIHR4O1xuICAgIHZlcnRleERhdGFbN10gPSBkICogaDAgKyBiICogdzEgKyB0eTtcbiAgfVxuICBfcmVuZGVyKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgfVxuICBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgIGNvbnN0IHRyaW0gPSB0aGlzLl90ZXh0dXJlLnRyaW07XG4gICAgY29uc3Qgb3JpZyA9IHRoaXMuX3RleHR1cmUub3JpZztcbiAgICBpZiAoIXRyaW0gfHwgdHJpbS53aWR0aCA9PT0gb3JpZy53aWR0aCAmJiB0cmltLmhlaWdodCA9PT0gb3JpZy5oZWlnaHQpIHtcbiAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzKCk7XG4gICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleFRyaW1tZWREYXRhKTtcbiAgICB9XG4gIH1cbiAgZ2V0TG9jYWxCb3VuZHMocmVjdCkge1xuICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kcykge1xuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2xvY2FsQm91bmRzLm1pblggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWluWSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWF4WCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgIHRoaXMuX2xvY2FsQm91bmRzLm1heFkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fbG9jYWxCb3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgfVxuICBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICBjb25zdCB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgbGV0IHkxID0gMDtcbiAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKSB7XG4gICAgICB5MSA9IC1oZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuICAgIHRoaXMuX3RleHR1cmUub2ZmKFwidXBkYXRlXCIsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgdGhpcy5fYW5jaG9yID0gbnVsbDtcbiAgICBjb25zdCBkZXN0cm95VGV4dHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIiA/IG9wdGlvbnMgOiBvcHRpb25zPy50ZXh0dXJlO1xuICAgIGlmIChkZXN0cm95VGV4dHVyZSkge1xuICAgICAgY29uc3QgZGVzdHJveUJhc2VUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09IFwiYm9vbGVhblwiID8gb3B0aW9ucyA6IG9wdGlvbnM/LmJhc2VUZXh0dXJlO1xuICAgICAgdGhpcy5fdGV4dHVyZS5kZXN0cm95KCEhZGVzdHJveUJhc2VUZXh0dXJlKTtcbiAgICB9XG4gICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gIH1cbiAgc3RhdGljIGZyb20oc291cmNlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgdGV4dHVyZSA9IHNvdXJjZSBpbnN0YW5jZW9mIFRleHR1cmUgPyBzb3VyY2UgOiBUZXh0dXJlLmZyb20oc291cmNlLCBvcHRpb25zKTtcbiAgICByZXR1cm4gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgfVxuICBzZXQgcm91bmRQaXhlbHModmFsdWUpIHtcbiAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgIH1cbiAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICB9XG4gIGdldCByb3VuZFBpeGVscygpIHtcbiAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gIH1cbiAgZ2V0IHdpZHRoKCkge1xuICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICB9XG4gIHNldCB3aWR0aCh2YWx1ZSkge1xuICAgIGNvbnN0IHMgPSB1dGlscy5zaWduKHRoaXMuc2NhbGUueCkgfHwgMTtcbiAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgfVxuICBnZXQgaGVpZ2h0KCkge1xuICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgfVxuICBzZXQgaGVpZ2h0KHZhbHVlKSB7XG4gICAgY29uc3QgcyA9IHV0aWxzLnNpZ24odGhpcy5zY2FsZS55KSB8fCAxO1xuICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gIH1cbiAgZ2V0IGFuY2hvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICB9XG4gIHNldCBhbmNob3IodmFsdWUpIHtcbiAgICB0aGlzLl9hbmNob3IuY29weUZyb20odmFsdWUpO1xuICB9XG4gIGdldCB0aW50KCkge1xuICAgIHJldHVybiB0aGlzLl90aW50Q29sb3IudmFsdWU7XG4gIH1cbiAgc2V0IHRpbnQodmFsdWUpIHtcbiAgICB0aGlzLl90aW50Q29sb3Iuc2V0VmFsdWUodmFsdWUpO1xuICAgIHRoaXMuX3RpbnRSR0IgPSB0aGlzLl90aW50Q29sb3IudG9MaXR0bGVFbmRpYW5OdW1iZXIoKTtcbiAgfVxuICBnZXQgdGludFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl90aW50Q29sb3IudG9OdW1iZXIoKTtcbiAgfVxuICBnZXQgdGV4dHVyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgfVxuICBzZXQgdGV4dHVyZSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl90ZXh0dXJlID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5fdGV4dHVyZSkge1xuICAgICAgdGhpcy5fdGV4dHVyZS5vZmYoXCJ1cGRhdGVcIiwgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICB9XG4gICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlIHx8IFRleHR1cmUuRU1QVFk7XG4gICAgdGhpcy5fY2FjaGVkVGludCA9IDE2Nzc3MjE1O1xuICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZS5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlLm9uY2UoXCJ1cGRhdGVcIiwgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGUubWpzLm1hcFxuIiwiZXhwb3J0IHsgU3ByaXRlIH0gZnJvbSAnLi9TcHJpdGUubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlLCB1dGlscywgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmNvbnN0IF9TcHJpdGVzaGVldCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IodGV4dHVyZSwgZGF0YSwgcmVzb2x1dGlvbkZpbGVuYW1lID0gbnVsbCkge1xuICAgIHRoaXMubGlua2VkU2hlZXRzID0gW107XG4gICAgdGhpcy5fdGV4dHVyZSA9IHRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlID8gdGV4dHVyZSA6IG51bGw7XG4gICAgdGhpcy5iYXNlVGV4dHVyZSA9IHRleHR1cmUgaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSA/IHRleHR1cmUgOiB0aGlzLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgIHRoaXMudGV4dHVyZXMgPSB7fTtcbiAgICB0aGlzLmFuaW1hdGlvbnMgPSB7fTtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIGNvbnN0IHJlc291cmNlID0gdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZTtcbiAgICB0aGlzLnJlc29sdXRpb24gPSB0aGlzLl91cGRhdGVSZXNvbHV0aW9uKHJlc29sdXRpb25GaWxlbmFtZSB8fCAocmVzb3VyY2UgPyByZXNvdXJjZS51cmwgOiBudWxsKSk7XG4gICAgdGhpcy5fZnJhbWVzID0gdGhpcy5kYXRhLmZyYW1lcztcbiAgICB0aGlzLl9mcmFtZUtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9mcmFtZXMpO1xuICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgfVxuICBfdXBkYXRlUmVzb2x1dGlvbihyZXNvbHV0aW9uRmlsZW5hbWUgPSBudWxsKSB7XG4gICAgY29uc3QgeyBzY2FsZSB9ID0gdGhpcy5kYXRhLm1ldGE7XG4gICAgbGV0IHJlc29sdXRpb24gPSB1dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwocmVzb2x1dGlvbkZpbGVuYW1lLCBudWxsKTtcbiAgICBpZiAocmVzb2x1dGlvbiA9PT0gbnVsbCkge1xuICAgICAgcmVzb2x1dGlvbiA9IHBhcnNlRmxvYXQoc2NhbGUgPz8gXCIxXCIpO1xuICAgIH1cbiAgICBpZiAocmVzb2x1dGlvbiAhPT0gMSkge1xuICAgICAgdGhpcy5iYXNlVGV4dHVyZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgfVxuICBwYXJzZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuX2NhbGxiYWNrID0gcmVzb2x2ZTtcbiAgICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuICAgICAgaWYgKHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGggPD0gX1Nwcml0ZXNoZWV0LkJBVENIX1NJWkUpIHtcbiAgICAgICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcygwKTtcbiAgICAgICAgdGhpcy5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgdGhpcy5fcGFyc2VDb21wbGV0ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbmV4dEJhdGNoKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgX3Byb2Nlc3NGcmFtZXMoaW5pdGlhbEZyYW1lSW5kZXgpIHtcbiAgICBsZXQgZnJhbWVJbmRleCA9IGluaXRpYWxGcmFtZUluZGV4O1xuICAgIGNvbnN0IG1heEZyYW1lcyA9IF9TcHJpdGVzaGVldC5CQVRDSF9TSVpFO1xuICAgIHdoaWxlIChmcmFtZUluZGV4IC0gaW5pdGlhbEZyYW1lSW5kZXggPCBtYXhGcmFtZXMgJiYgZnJhbWVJbmRleCA8IHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGkgPSB0aGlzLl9mcmFtZUtleXNbZnJhbWVJbmRleF07XG4gICAgICBjb25zdCBkYXRhID0gdGhpcy5fZnJhbWVzW2ldO1xuICAgICAgY29uc3QgcmVjdCA9IGRhdGEuZnJhbWU7XG4gICAgICBpZiAocmVjdCkge1xuICAgICAgICBsZXQgZnJhbWUgPSBudWxsO1xuICAgICAgICBsZXQgdHJpbSA9IG51bGw7XG4gICAgICAgIGNvbnN0IHNvdXJjZVNpemUgPSBkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc291cmNlU2l6ZSA/IGRhdGEuc291cmNlU2l6ZSA6IGRhdGEuZnJhbWU7XG4gICAgICAgIGNvbnN0IG9yaWcgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIE1hdGguZmxvb3Ioc291cmNlU2l6ZS53KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihzb3VyY2VTaXplLmgpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgaWYgKGRhdGEucm90YXRlZCkge1xuICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZShNYXRoLmZsb29yKHJlY3QueCkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC55KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZShNYXRoLmZsb29yKHJlY3QueCkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC55KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc3ByaXRlU291cmNlU2l6ZSkge1xuICAgICAgICAgIHRyaW0gPSBuZXcgUmVjdGFuZ2xlKE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLngpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS55KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dHVyZXNbaV0gPSBuZXcgVGV4dHVyZSh0aGlzLmJhc2VUZXh0dXJlLCBmcmFtZSwgb3JpZywgdHJpbSwgZGF0YS5yb3RhdGVkID8gMiA6IDAsIGRhdGEuYW5jaG9yLCBkYXRhLmJvcmRlcnMpO1xuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGhpcy50ZXh0dXJlc1tpXSwgaSk7XG4gICAgICB9XG4gICAgICBmcmFtZUluZGV4Kys7XG4gICAgfVxuICB9XG4gIF9wcm9jZXNzQW5pbWF0aW9ucygpIHtcbiAgICBjb25zdCBhbmltYXRpb25zID0gdGhpcy5kYXRhLmFuaW1hdGlvbnMgfHwge307XG4gICAgZm9yIChjb25zdCBhbmltTmFtZSBpbiBhbmltYXRpb25zKSB7XG4gICAgICB0aGlzLmFuaW1hdGlvbnNbYW5pbU5hbWVdID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFuaW1hdGlvbnNbYW5pbU5hbWVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGZyYW1lTmFtZSA9IGFuaW1hdGlvbnNbYW5pbU5hbWVdW2ldO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnNbYW5pbU5hbWVdLnB1c2godGhpcy50ZXh0dXJlc1tmcmFtZU5hbWVdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3BhcnNlQ29tcGxldGUoKSB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSB0aGlzLl9jYWxsYmFjaztcbiAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLnRleHR1cmVzKTtcbiAgfVxuICBfbmV4dEJhdGNoKCkge1xuICAgIHRoaXMuX3Byb2Nlc3NGcmFtZXModGhpcy5fYmF0Y2hJbmRleCAqIF9TcHJpdGVzaGVldC5CQVRDSF9TSVpFKTtcbiAgICB0aGlzLl9iYXRjaEluZGV4Kys7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fYmF0Y2hJbmRleCAqIF9TcHJpdGVzaGVldC5CQVRDSF9TSVpFIDwgdGhpcy5fZnJhbWVLZXlzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9uZXh0QmF0Y2goKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NBbmltYXRpb25zKCk7XG4gICAgICAgIHRoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9LCAwKTtcbiAgfVxuICBkZXN0cm95KGRlc3Ryb3lCYXNlID0gZmFsc2UpIHtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy50ZXh0dXJlcykge1xuICAgICAgdGhpcy50ZXh0dXJlc1tpXS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuX2ZyYW1lcyA9IG51bGw7XG4gICAgdGhpcy5fZnJhbWVLZXlzID0gbnVsbDtcbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZXMgPSBudWxsO1xuICAgIGlmIChkZXN0cm95QmFzZSkge1xuICAgICAgdGhpcy5fdGV4dHVyZT8uZGVzdHJveSgpO1xuICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgIHRoaXMubGlua2VkU2hlZXRzID0gW107XG4gIH1cbn07XG5sZXQgU3ByaXRlc2hlZXQgPSBfU3ByaXRlc2hlZXQ7XG5TcHJpdGVzaGVldC5CQVRDSF9TSVpFID0gMWUzO1xuXG5leHBvcnQgeyBTcHJpdGVzaGVldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ByaXRlc2hlZXQubWpzLm1hcFxuIiwiZXhwb3J0IHsgU3ByaXRlc2hlZXQgfSBmcm9tICcuL1Nwcml0ZXNoZWV0Lm1qcyc7XG5leHBvcnQgeyBzcHJpdGVzaGVldEFzc2V0IH0gZnJvbSAnLi9zcHJpdGVzaGVldEFzc2V0Lm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBMb2FkZXJQYXJzZXJQcmlvcml0eSwgY29weVNlYXJjaFBhcmFtcyB9IGZyb20gJ0BwaXhpL2Fzc2V0cyc7XG5pbXBvcnQgeyB1dGlscywgRXh0ZW5zaW9uVHlwZSwgc2V0dGluZ3MsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNwcml0ZXNoZWV0IH0gZnJvbSAnLi9TcHJpdGVzaGVldC5tanMnO1xuXG5jb25zdCB2YWxpZEltYWdlcyA9IFtcImpwZ1wiLCBcInBuZ1wiLCBcImpwZWdcIiwgXCJhdmlmXCIsIFwid2VicFwiXTtcbmZ1bmN0aW9uIGdldENhY2hlYWJsZUFzc2V0cyhrZXlzLCBhc3NldCwgaWdub3JlTXVsdGlQYWNrKSB7XG4gIGNvbnN0IG91dCA9IHt9O1xuICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgIG91dFtrZXldID0gYXNzZXQ7XG4gIH0pO1xuICBPYmplY3Qua2V5cyhhc3NldC50ZXh0dXJlcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgb3V0W2tleV0gPSBhc3NldC50ZXh0dXJlc1trZXldO1xuICB9KTtcbiAgaWYgKCFpZ25vcmVNdWx0aVBhY2spIHtcbiAgICBjb25zdCBiYXNlUGF0aCA9IHV0aWxzLnBhdGguZGlybmFtZShrZXlzWzBdKTtcbiAgICBhc3NldC5saW5rZWRTaGVldHMuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xuICAgICAgY29uc3Qgb3V0MiA9IGdldENhY2hlYWJsZUFzc2V0cyhbYCR7YmFzZVBhdGh9LyR7YXNzZXQuZGF0YS5tZXRhLnJlbGF0ZWRfbXVsdGlfcGFja3NbaV19YF0sIGl0ZW0sIHRydWUpO1xuICAgICAgT2JqZWN0LmFzc2lnbihvdXQsIG91dDIpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5jb25zdCBzcHJpdGVzaGVldEFzc2V0ID0ge1xuICBleHRlbnNpb246IEV4dGVuc2lvblR5cGUuQXNzZXQsXG4gIGNhY2hlOiB7XG4gICAgdGVzdDogKGFzc2V0KSA9PiBhc3NldCBpbnN0YW5jZW9mIFNwcml0ZXNoZWV0LFxuICAgIGdldENhY2hlYWJsZUFzc2V0czogKGtleXMsIGFzc2V0KSA9PiBnZXRDYWNoZWFibGVBc3NldHMoa2V5cywgYXNzZXQsIGZhbHNlKVxuICB9LFxuICByZXNvbHZlcjoge1xuICAgIHRlc3Q6ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgdGVtcFVSTCA9IHZhbHVlLnNwbGl0KFwiP1wiKVswXTtcbiAgICAgIGNvbnN0IHNwbGl0ID0gdGVtcFVSTC5zcGxpdChcIi5cIik7XG4gICAgICBjb25zdCBleHRlbnNpb24gPSBzcGxpdC5wb3AoKTtcbiAgICAgIGNvbnN0IGZvcm1hdCA9IHNwbGl0LnBvcCgpO1xuICAgICAgcmV0dXJuIGV4dGVuc2lvbiA9PT0gXCJqc29uXCIgJiYgdmFsaWRJbWFnZXMuaW5jbHVkZXMoZm9ybWF0KTtcbiAgICB9LFxuICAgIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHNwbGl0ID0gdmFsdWUuc3BsaXQoXCIuXCIpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzb2x1dGlvbjogcGFyc2VGbG9hdChzZXR0aW5ncy5SRVRJTkFfUFJFRklYLmV4ZWModmFsdWUpPy5bMV0gPz8gXCIxXCIpLFxuICAgICAgICBmb3JtYXQ6IHNwbGl0W3NwbGl0Lmxlbmd0aCAtIDJdLFxuICAgICAgICBzcmM6IHZhbHVlXG4gICAgICB9O1xuICAgIH1cbiAgfSxcbiAgbG9hZGVyOiB7XG4gICAgbmFtZTogXCJzcHJpdGVzaGVldExvYWRlclwiLFxuICAgIGV4dGVuc2lvbjoge1xuICAgICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5Mb2FkUGFyc2VyLFxuICAgICAgcHJpb3JpdHk6IExvYWRlclBhcnNlclByaW9yaXR5Lk5vcm1hbFxuICAgIH0sXG4gICAgYXN5bmMgdGVzdFBhcnNlKGFzc2V0LCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdXRpbHMucGF0aC5leHRuYW1lKG9wdGlvbnMuc3JjKS50b0xvd2VyQ2FzZSgpID09PSBcIi5qc29uXCIgJiYgISFhc3NldC5mcmFtZXM7XG4gICAgfSxcbiAgICBhc3luYyBwYXJzZShhc3NldCwgb3B0aW9ucywgbG9hZGVyKSB7XG4gICAgICBsZXQgYmFzZVBhdGggPSB1dGlscy5wYXRoLmRpcm5hbWUob3B0aW9ucy5zcmMpO1xuICAgICAgaWYgKGJhc2VQYXRoICYmIGJhc2VQYXRoLmxhc3RJbmRleE9mKFwiL1wiKSAhPT0gYmFzZVBhdGgubGVuZ3RoIC0gMSkge1xuICAgICAgICBiYXNlUGF0aCArPSBcIi9cIjtcbiAgICAgIH1cbiAgICAgIGxldCBpbWFnZVBhdGggPSBiYXNlUGF0aCArIGFzc2V0Lm1ldGEuaW1hZ2U7XG4gICAgICBpbWFnZVBhdGggPSBjb3B5U2VhcmNoUGFyYW1zKGltYWdlUGF0aCwgb3B0aW9ucy5zcmMpO1xuICAgICAgY29uc3QgYXNzZXRzID0gYXdhaXQgbG9hZGVyLmxvYWQoW2ltYWdlUGF0aF0pO1xuICAgICAgY29uc3QgdGV4dHVyZSA9IGFzc2V0c1tpbWFnZVBhdGhdO1xuICAgICAgY29uc3Qgc3ByaXRlc2hlZXQgPSBuZXcgU3ByaXRlc2hlZXQodGV4dHVyZS5iYXNlVGV4dHVyZSwgYXNzZXQsIG9wdGlvbnMuc3JjKTtcbiAgICAgIGF3YWl0IHNwcml0ZXNoZWV0LnBhcnNlKCk7XG4gICAgICBjb25zdCBtdWx0aVBhY2tzID0gYXNzZXQ/Lm1ldGE/LnJlbGF0ZWRfbXVsdGlfcGFja3M7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtdWx0aVBhY2tzKSkge1xuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgbXVsdGlQYWNrcykge1xuICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBpdGVtVXJsID0gYmFzZVBhdGggKyBpdGVtO1xuICAgICAgICAgIGlmIChvcHRpb25zLmRhdGE/Lmlnbm9yZU11bHRpUGFjaykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGl0ZW1VcmwgPSBjb3B5U2VhcmNoUGFyYW1zKGl0ZW1VcmwsIG9wdGlvbnMuc3JjKTtcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKGxvYWRlci5sb2FkKHtcbiAgICAgICAgICAgIHNyYzogaXRlbVVybCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgaWdub3JlTXVsdGlQYWNrOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgc3ByaXRlc2hlZXQubGlua2VkU2hlZXRzID0gcmVzO1xuICAgICAgICByZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgIGl0ZW0ubGlua2VkU2hlZXRzID0gW3Nwcml0ZXNoZWV0XS5jb25jYXQoc3ByaXRlc2hlZXQubGlua2VkU2hlZXRzLmZpbHRlcigoc3ApID0+IHNwICE9PSBpdGVtKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNwcml0ZXNoZWV0O1xuICAgIH0sXG4gICAgdW5sb2FkKHNwcml0ZXNoZWV0KSB7XG4gICAgICBzcHJpdGVzaGVldC5kZXN0cm95KHRydWUpO1xuICAgIH1cbiAgfVxufTtcbmV4dGVuc2lvbnMuYWRkKHNwcml0ZXNoZWV0QXNzZXQpO1xuXG5leHBvcnQgeyBzcHJpdGVzaGVldEFzc2V0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGVzaGVldEFzc2V0Lm1qcy5tYXBcbiIsImltcG9ydCB7IHV0aWxzLCBBTFBIQV9NT0RFUywgTUlQTUFQX01PREVTLCBSZWN0YW5nbGUsIFRleHR1cmUsIHNldHRpbmdzLCBCYXNlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgVGV4dFN0eWxlLCBUZXh0TWV0cmljcyB9IGZyb20gJ0BwaXhpL3RleHQnO1xuaW1wb3J0IHsgQml0bWFwRm9udERhdGEgfSBmcm9tICcuL0JpdG1hcEZvbnREYXRhLm1qcyc7XG5pbXBvcnQgeyBhdXRvRGV0ZWN0Rm9ybWF0IH0gZnJvbSAnLi9mb3JtYXRzL2luZGV4Lm1qcyc7XG5pbXBvcnQgJy4vdXRpbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IHJlc29sdmVDaGFyYWN0ZXJzIH0gZnJvbSAnLi91dGlscy9yZXNvbHZlQ2hhcmFjdGVycy5tanMnO1xuaW1wb3J0IHsgZHJhd0dseXBoIH0gZnJvbSAnLi91dGlscy9kcmF3R2x5cGgubWpzJztcbmltcG9ydCB7IGV4dHJhY3RDaGFyQ29kZSB9IGZyb20gJy4vdXRpbHMvZXh0cmFjdENoYXJDb2RlLm1qcyc7XG5cbmNvbnN0IF9CaXRtYXBGb250ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihkYXRhLCB0ZXh0dXJlcywgb3duc1RleHR1cmVzKSB7XG4gICAgY29uc3QgW2luZm9dID0gZGF0YS5pbmZvO1xuICAgIGNvbnN0IFtjb21tb25dID0gZGF0YS5jb21tb247XG4gICAgY29uc3QgW3BhZ2VdID0gZGF0YS5wYWdlO1xuICAgIGNvbnN0IFtkaXN0YW5jZUZpZWxkXSA9IGRhdGEuZGlzdGFuY2VGaWVsZDtcbiAgICBjb25zdCByZXMgPSB1dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwocGFnZS5maWxlKTtcbiAgICBjb25zdCBwYWdlVGV4dHVyZXMgPSB7fTtcbiAgICB0aGlzLl9vd25zVGV4dHVyZXMgPSBvd25zVGV4dHVyZXM7XG4gICAgdGhpcy5mb250ID0gaW5mby5mYWNlO1xuICAgIHRoaXMuc2l6ZSA9IGluZm8uc2l6ZTtcbiAgICB0aGlzLmxpbmVIZWlnaHQgPSBjb21tb24ubGluZUhlaWdodCAvIHJlcztcbiAgICB0aGlzLmNoYXJzID0ge307XG4gICAgdGhpcy5wYWdlVGV4dHVyZXMgPSBwYWdlVGV4dHVyZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLnBhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHsgaWQsIGZpbGUgfSA9IGRhdGEucGFnZVtpXTtcbiAgICAgIHBhZ2VUZXh0dXJlc1tpZF0gPSB0ZXh0dXJlcyBpbnN0YW5jZW9mIEFycmF5ID8gdGV4dHVyZXNbaV0gOiB0ZXh0dXJlc1tmaWxlXTtcbiAgICAgIGlmIChkaXN0YW5jZUZpZWxkPy5maWVsZFR5cGUgJiYgZGlzdGFuY2VGaWVsZC5maWVsZFR5cGUgIT09IFwibm9uZVwiKSB7XG4gICAgICAgIHBhZ2VUZXh0dXJlc1tpZF0uYmFzZVRleHR1cmUuYWxwaGFNb2RlID0gQUxQSEFfTU9ERVMuTk9fUFJFTVVMVElQTElFRF9BTFBIQTtcbiAgICAgICAgcGFnZVRleHR1cmVzW2lkXS5iYXNlVGV4dHVyZS5taXBtYXAgPSBNSVBNQVBfTU9ERVMuT0ZGO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEuY2hhci5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgeyBpZCwgcGFnZTogcGFnZTIgfSA9IGRhdGEuY2hhcltpXTtcbiAgICAgIGxldCB7IHgsIHksIHdpZHRoLCBoZWlnaHQsIHhvZmZzZXQsIHlvZmZzZXQsIHhhZHZhbmNlIH0gPSBkYXRhLmNoYXJbaV07XG4gICAgICB4IC89IHJlcztcbiAgICAgIHkgLz0gcmVzO1xuICAgICAgd2lkdGggLz0gcmVzO1xuICAgICAgaGVpZ2h0IC89IHJlcztcbiAgICAgIHhvZmZzZXQgLz0gcmVzO1xuICAgICAgeW9mZnNldCAvPSByZXM7XG4gICAgICB4YWR2YW5jZSAvPSByZXM7XG4gICAgICBjb25zdCByZWN0ID0gbmV3IFJlY3RhbmdsZSh4ICsgcGFnZVRleHR1cmVzW3BhZ2UyXS5mcmFtZS54IC8gcmVzLCB5ICsgcGFnZVRleHR1cmVzW3BhZ2UyXS5mcmFtZS55IC8gcmVzLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIHRoaXMuY2hhcnNbaWRdID0ge1xuICAgICAgICB4T2Zmc2V0OiB4b2Zmc2V0LFxuICAgICAgICB5T2Zmc2V0OiB5b2Zmc2V0LFxuICAgICAgICB4QWR2YW5jZTogeGFkdmFuY2UsXG4gICAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgICB0ZXh0dXJlOiBuZXcgVGV4dHVyZShwYWdlVGV4dHVyZXNbcGFnZTJdLmJhc2VUZXh0dXJlLCByZWN0KSxcbiAgICAgICAgcGFnZTogcGFnZTJcbiAgICAgIH07XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5rZXJuaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgeyBmaXJzdCwgc2Vjb25kLCBhbW91bnQgfSA9IGRhdGEua2VybmluZ1tpXTtcbiAgICAgIGZpcnN0IC89IHJlcztcbiAgICAgIHNlY29uZCAvPSByZXM7XG4gICAgICBhbW91bnQgLz0gcmVzO1xuICAgICAgaWYgKHRoaXMuY2hhcnNbc2Vjb25kXSkge1xuICAgICAgICB0aGlzLmNoYXJzW3NlY29uZF0ua2VybmluZ1tmaXJzdF0gPSBhbW91bnQ7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZGlzdGFuY2VGaWVsZFJhbmdlID0gZGlzdGFuY2VGaWVsZD8uZGlzdGFuY2VSYW5nZTtcbiAgICB0aGlzLmRpc3RhbmNlRmllbGRUeXBlID0gZGlzdGFuY2VGaWVsZD8uZmllbGRUeXBlPy50b0xvd2VyQ2FzZSgpID8/IFwibm9uZVwiO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLmNoYXJzKSB7XG4gICAgICB0aGlzLmNoYXJzW2lkXS50ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuY2hhcnNbaWRdLnRleHR1cmUgPSBudWxsO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMucGFnZVRleHR1cmVzKSB7XG4gICAgICBpZiAodGhpcy5fb3duc1RleHR1cmVzKSB7XG4gICAgICAgIHRoaXMucGFnZVRleHR1cmVzW2lkXS5kZXN0cm95KHRydWUpO1xuICAgICAgfVxuICAgICAgdGhpcy5wYWdlVGV4dHVyZXNbaWRdID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5jaGFycyA9IG51bGw7XG4gICAgdGhpcy5wYWdlVGV4dHVyZXMgPSBudWxsO1xuICB9XG4gIHN0YXRpYyBpbnN0YWxsKGRhdGEsIHRleHR1cmVzLCBvd25zVGV4dHVyZXMpIHtcbiAgICBsZXQgZm9udERhdGE7XG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBCaXRtYXBGb250RGF0YSkge1xuICAgICAgZm9udERhdGEgPSBkYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmb3JtYXQgPSBhdXRvRGV0ZWN0Rm9ybWF0KGRhdGEpO1xuICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIGRhdGEgZm9ybWF0IGZvciBmb250LlwiKTtcbiAgICAgIH1cbiAgICAgIGZvbnREYXRhID0gZm9ybWF0LnBhcnNlKGRhdGEpO1xuICAgIH1cbiAgICBpZiAodGV4dHVyZXMgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICB0ZXh0dXJlcyA9IFt0ZXh0dXJlc107XG4gICAgfVxuICAgIGNvbnN0IGZvbnQgPSBuZXcgX0JpdG1hcEZvbnQoZm9udERhdGEsIHRleHR1cmVzLCBvd25zVGV4dHVyZXMpO1xuICAgIF9CaXRtYXBGb250LmF2YWlsYWJsZVtmb250LmZvbnRdID0gZm9udDtcbiAgICByZXR1cm4gZm9udDtcbiAgfVxuICBzdGF0aWMgdW5pbnN0YWxsKG5hbWUpIHtcbiAgICBjb25zdCBmb250ID0gX0JpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdO1xuICAgIGlmICghZm9udCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBmb250IGZvdW5kIG5hbWVkICcke25hbWV9J2ApO1xuICAgIH1cbiAgICBmb250LmRlc3Ryb3koKTtcbiAgICBkZWxldGUgX0JpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdO1xuICB9XG4gIHN0YXRpYyBmcm9tKG5hbWUsIHRleHRTdHlsZSwgb3B0aW9ucykge1xuICAgIGlmICghbmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW0JpdG1hcEZvbnRdIFByb3BlcnR5IGBuYW1lYCBpcyByZXF1aXJlZC5cIik7XG4gICAgfVxuICAgIGNvbnN0IHtcbiAgICAgIGNoYXJzLFxuICAgICAgcGFkZGluZyxcbiAgICAgIHJlc29sdXRpb24sXG4gICAgICB0ZXh0dXJlV2lkdGgsXG4gICAgICB0ZXh0dXJlSGVpZ2h0LFxuICAgICAgLi4uYmFzZU9wdGlvbnNcbiAgICB9ID0gT2JqZWN0LmFzc2lnbih7fSwgX0JpdG1hcEZvbnQuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIGNvbnN0IGNoYXJzTGlzdCA9IHJlc29sdmVDaGFyYWN0ZXJzKGNoYXJzKTtcbiAgICBjb25zdCBzdHlsZSA9IHRleHRTdHlsZSBpbnN0YW5jZW9mIFRleHRTdHlsZSA/IHRleHRTdHlsZSA6IG5ldyBUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICBjb25zdCBsaW5lV2lkdGggPSB0ZXh0dXJlV2lkdGg7XG4gICAgY29uc3QgZm9udERhdGEgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICBmb250RGF0YS5pbmZvWzBdID0ge1xuICAgICAgZmFjZTogc3R5bGUuZm9udEZhbWlseSxcbiAgICAgIHNpemU6IHN0eWxlLmZvbnRTaXplXG4gICAgfTtcbiAgICBmb250RGF0YS5jb21tb25bMF0gPSB7XG4gICAgICBsaW5lSGVpZ2h0OiBzdHlsZS5mb250U2l6ZVxuICAgIH07XG4gICAgbGV0IHBvc2l0aW9uWCA9IDA7XG4gICAgbGV0IHBvc2l0aW9uWSA9IDA7XG4gICAgbGV0IGNhbnZhcztcbiAgICBsZXQgY29udGV4dDtcbiAgICBsZXQgYmFzZVRleHR1cmU7XG4gICAgbGV0IG1heENoYXJIZWlnaHQgPSAwO1xuICAgIGNvbnN0IGJhc2VUZXh0dXJlcyA9IFtdO1xuICAgIGNvbnN0IHRleHR1cmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFyc0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgIGNhbnZhcyA9IHNldHRpbmdzLkFEQVBURVIuY3JlYXRlQ2FudmFzKCk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHRleHR1cmVXaWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHRleHR1cmVIZWlnaHQ7XG4gICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShjYW52YXMsIHsgcmVzb2x1dGlvbiwgLi4uYmFzZU9wdGlvbnMgfSk7XG4gICAgICAgIGJhc2VUZXh0dXJlcy5wdXNoKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGV4dHVyZXMucHVzaChuZXcgVGV4dHVyZShiYXNlVGV4dHVyZSkpO1xuICAgICAgICBmb250RGF0YS5wYWdlLnB1c2goe1xuICAgICAgICAgIGlkOiB0ZXh0dXJlcy5sZW5ndGggLSAxLFxuICAgICAgICAgIGZpbGU6IFwiXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBjaGFyYWN0ZXIgPSBjaGFyc0xpc3RbaV07XG4gICAgICBjb25zdCBtZXRyaWNzID0gVGV4dE1ldHJpY3MubWVhc3VyZVRleHQoY2hhcmFjdGVyLCBzdHlsZSwgZmFsc2UsIGNhbnZhcyk7XG4gICAgICBjb25zdCB3aWR0aCA9IG1ldHJpY3Mud2lkdGg7XG4gICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLmNlaWwobWV0cmljcy5oZWlnaHQpO1xuICAgICAgY29uc3QgdGV4dHVyZUdseXBoV2lkdGggPSBNYXRoLmNlaWwoKHN0eWxlLmZvbnRTdHlsZSA9PT0gXCJpdGFsaWNcIiA/IDIgOiAxKSAqIHdpZHRoKTtcbiAgICAgIGlmIChwb3NpdGlvblkgPj0gdGV4dHVyZUhlaWdodCAtIGhlaWdodCAqIHJlc29sdXRpb24pIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uWSA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW0JpdG1hcEZvbnRdIHRleHR1cmVIZWlnaHQgJHt0ZXh0dXJlSGVpZ2h0fXB4IGlzIHRvbyBzbWFsbCAoZm9udEZhbWlseTogJyR7c3R5bGUuZm9udEZhbWlseX0nLCBmb250U2l6ZTogJHtzdHlsZS5mb250U2l6ZX1weCwgY2hhcjogJyR7Y2hhcmFjdGVyfScpYCk7XG4gICAgICAgIH1cbiAgICAgICAgLS1pO1xuICAgICAgICBjYW52YXMgPSBudWxsO1xuICAgICAgICBjb250ZXh0ID0gbnVsbDtcbiAgICAgICAgYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICBwb3NpdGlvblkgPSAwO1xuICAgICAgICBwb3NpdGlvblggPSAwO1xuICAgICAgICBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBtYXhDaGFySGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0ICsgbWV0cmljcy5mb250UHJvcGVydGllcy5kZXNjZW50LCBtYXhDaGFySGVpZ2h0KTtcbiAgICAgIGlmICh0ZXh0dXJlR2x5cGhXaWR0aCAqIHJlc29sdXRpb24gKyBwb3NpdGlvblggPj0gbGluZVdpZHRoKSB7XG4gICAgICAgIGlmIChwb3NpdGlvblggPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtCaXRtYXBGb250XSB0ZXh0dXJlV2lkdGggJHt0ZXh0dXJlV2lkdGh9cHggaXMgdG9vIHNtYWxsIChmb250RmFtaWx5OiAnJHtzdHlsZS5mb250RmFtaWx5fScsIGZvbnRTaXplOiAke3N0eWxlLmZvbnRTaXplfXB4LCBjaGFyOiAnJHtjaGFyYWN0ZXJ9JylgKTtcbiAgICAgICAgfVxuICAgICAgICAtLWk7XG4gICAgICAgIHBvc2l0aW9uWSArPSBtYXhDaGFySGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICAgICAgcG9zaXRpb25ZID0gTWF0aC5jZWlsKHBvc2l0aW9uWSk7XG4gICAgICAgIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgIG1heENoYXJIZWlnaHQgPSAwO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGRyYXdHbHlwaChjYW52YXMsIGNvbnRleHQsIG1ldHJpY3MsIHBvc2l0aW9uWCwgcG9zaXRpb25ZLCByZXNvbHV0aW9uLCBzdHlsZSk7XG4gICAgICBjb25zdCBpZCA9IGV4dHJhY3RDaGFyQ29kZShtZXRyaWNzLnRleHQpO1xuICAgICAgZm9udERhdGEuY2hhci5wdXNoKHtcbiAgICAgICAgaWQsXG4gICAgICAgIHBhZ2U6IHRleHR1cmVzLmxlbmd0aCAtIDEsXG4gICAgICAgIHg6IHBvc2l0aW9uWCAvIHJlc29sdXRpb24sXG4gICAgICAgIHk6IHBvc2l0aW9uWSAvIHJlc29sdXRpb24sXG4gICAgICAgIHdpZHRoOiB0ZXh0dXJlR2x5cGhXaWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICB4b2Zmc2V0OiAwLFxuICAgICAgICB5b2Zmc2V0OiAwLFxuICAgICAgICB4YWR2YW5jZTogd2lkdGggLSAoc3R5bGUuZHJvcFNoYWRvdyA/IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSA6IDApIC0gKHN0eWxlLnN0cm9rZSA/IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyA6IDApXG4gICAgICB9KTtcbiAgICAgIHBvc2l0aW9uWCArPSAodGV4dHVyZUdseXBoV2lkdGggKyAyICogcGFkZGluZykgKiByZXNvbHV0aW9uO1xuICAgICAgcG9zaXRpb25YID0gTWF0aC5jZWlsKHBvc2l0aW9uWCk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBjaGFyc0xpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IGZpcnN0ID0gY2hhcnNMaXN0W2ldO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsZW47IGorKykge1xuICAgICAgICBjb25zdCBzZWNvbmQgPSBjaGFyc0xpc3Rbal07XG4gICAgICAgIGNvbnN0IGMxID0gY29udGV4dC5tZWFzdXJlVGV4dChmaXJzdCkud2lkdGg7XG4gICAgICAgIGNvbnN0IGMyID0gY29udGV4dC5tZWFzdXJlVGV4dChzZWNvbmQpLndpZHRoO1xuICAgICAgICBjb25zdCB0b3RhbCA9IGNvbnRleHQubWVhc3VyZVRleHQoZmlyc3QgKyBzZWNvbmQpLndpZHRoO1xuICAgICAgICBjb25zdCBhbW91bnQgPSB0b3RhbCAtIChjMSArIGMyKTtcbiAgICAgICAgaWYgKGFtb3VudCkge1xuICAgICAgICAgIGZvbnREYXRhLmtlcm5pbmcucHVzaCh7XG4gICAgICAgICAgICBmaXJzdDogZXh0cmFjdENoYXJDb2RlKGZpcnN0KSxcbiAgICAgICAgICAgIHNlY29uZDogZXh0cmFjdENoYXJDb2RlKHNlY29uZCksXG4gICAgICAgICAgICBhbW91bnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBmb250ID0gbmV3IF9CaXRtYXBGb250KGZvbnREYXRhLCB0ZXh0dXJlcywgdHJ1ZSk7XG4gICAgaWYgKF9CaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXSAhPT0gdm9pZCAwKSB7XG4gICAgICBfQml0bWFwRm9udC51bmluc3RhbGwobmFtZSk7XG4gICAgfVxuICAgIF9CaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXSA9IGZvbnQ7XG4gICAgcmV0dXJuIGZvbnQ7XG4gIH1cbn07XG5sZXQgQml0bWFwRm9udCA9IF9CaXRtYXBGb250O1xuQml0bWFwRm9udC5BTFBIQSA9IFtbXCJhXCIsIFwielwiXSwgW1wiQVwiLCBcIlpcIl0sIFwiIFwiXTtcbkJpdG1hcEZvbnQuTlVNRVJJQyA9IFtbXCIwXCIsIFwiOVwiXV07XG5CaXRtYXBGb250LkFMUEhBTlVNRVJJQyA9IFtbXCJhXCIsIFwielwiXSwgW1wiQVwiLCBcIlpcIl0sIFtcIjBcIiwgXCI5XCJdLCBcIiBcIl07XG5CaXRtYXBGb250LkFTQ0lJID0gW1tcIiBcIiwgXCJ+XCJdXTtcbkJpdG1hcEZvbnQuZGVmYXVsdE9wdGlvbnMgPSB7XG4gIHJlc29sdXRpb246IDEsXG4gIHRleHR1cmVXaWR0aDogNTEyLFxuICB0ZXh0dXJlSGVpZ2h0OiA1MTIsXG4gIHBhZGRpbmc6IDQsXG4gIGNoYXJzOiBfQml0bWFwRm9udC5BTFBIQU5VTUVSSUNcbn07XG5CaXRtYXBGb250LmF2YWlsYWJsZSA9IHt9O1xuXG5leHBvcnQgeyBCaXRtYXBGb250IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CaXRtYXBGb250Lm1qcy5tYXBcbiIsImNsYXNzIEJpdG1hcEZvbnREYXRhIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbmZvID0gW107XG4gICAgdGhpcy5jb21tb24gPSBbXTtcbiAgICB0aGlzLnBhZ2UgPSBbXTtcbiAgICB0aGlzLmNoYXIgPSBbXTtcbiAgICB0aGlzLmtlcm5pbmcgPSBbXTtcbiAgICB0aGlzLmRpc3RhbmNlRmllbGQgPSBbXTtcbiAgfVxufVxuXG5leHBvcnQgeyBCaXRtYXBGb250RGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qml0bWFwRm9udERhdGEubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ29sb3IsIE9ic2VydmFibGVQb2ludCwgc2V0dGluZ3MsIFBvaW50LCBUZXh0dXJlLCB1dGlscywgQkxFTkRfTU9ERVMsIFByb2dyYW0gfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgTWVzaEdlb21ldHJ5LCBNZXNoTWF0ZXJpYWwsIE1lc2ggfSBmcm9tICdAcGl4aS9tZXNoJztcbmltcG9ydCB7IEJpdG1hcEZvbnQgfSBmcm9tICcuL0JpdG1hcEZvbnQubWpzJztcbmltcG9ydCBtc2RmRnJhZyBmcm9tICcuL3NoYWRlci9tc2RmLm1qcyc7XG5pbXBvcnQgbXNkZlZlcnQgZnJvbSAnLi9zaGFkZXIvbXNkZjIubWpzJztcbmltcG9ydCAnLi91dGlscy9pbmRleC5tanMnO1xuaW1wb3J0IHsgc3BsaXRUZXh0VG9DaGFyYWN0ZXJzIH0gZnJvbSAnLi91dGlscy9zcGxpdFRleHRUb0NoYXJhY3RlcnMubWpzJztcbmltcG9ydCB7IGV4dHJhY3RDaGFyQ29kZSB9IGZyb20gJy4vdXRpbHMvZXh0cmFjdENoYXJDb2RlLm1qcyc7XG5cbmNvbnN0IHBhZ2VNZXNoRGF0YURlZmF1bHRQYWdlTWVzaERhdGEgPSBbXTtcbmNvbnN0IHBhZ2VNZXNoRGF0YU1TREZQYWdlTWVzaERhdGEgPSBbXTtcbmNvbnN0IGNoYXJSZW5kZXJEYXRhUG9vbCA9IFtdO1xuY29uc3QgX0JpdG1hcFRleHQgPSBjbGFzcyBleHRlbmRzIENvbnRhaW5lciB7XG4gIGNvbnN0cnVjdG9yKHRleHQsIHN0eWxlID0ge30pIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IHsgYWxpZ24sIHRpbnQsIG1heFdpZHRoLCBsZXR0ZXJTcGFjaW5nLCBmb250TmFtZSwgZm9udFNpemUgfSA9IE9iamVjdC5hc3NpZ24oe30sIF9CaXRtYXBUZXh0LnN0eWxlRGVmYXVsdHMsIHN0eWxlKTtcbiAgICBpZiAoIUJpdG1hcEZvbnQuYXZhaWxhYmxlW2ZvbnROYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIEJpdG1hcEZvbnQgXCIke2ZvbnROYW1lfVwiYCk7XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEgPSBbXTtcbiAgICB0aGlzLl90ZXh0V2lkdGggPSAwO1xuICAgIHRoaXMuX3RleHRIZWlnaHQgPSAwO1xuICAgIHRoaXMuX2FsaWduID0gYWxpZ247XG4gICAgdGhpcy5fdGludENvbG9yID0gbmV3IENvbG9yKHRpbnQpO1xuICAgIHRoaXMuX2ZvbnQgPSB2b2lkIDA7XG4gICAgdGhpcy5fZm9udE5hbWUgPSBmb250TmFtZTtcbiAgICB0aGlzLl9mb250U2l6ZSA9IGZvbnRTaXplO1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgdGhpcy5fbWF4V2lkdGggPSBtYXhXaWR0aDtcbiAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gMDtcbiAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gbGV0dGVyU3BhY2luZztcbiAgICB0aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KCgpID0+IHtcbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH0sIHRoaXMsIDAsIDApO1xuICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIHRoaXMuX3Jlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgIHRoaXMuX2F1dG9SZXNvbHV0aW9uID0gdHJ1ZTtcbiAgICB0aGlzLl90ZXh0dXJlQ2FjaGUgPSB7fTtcbiAgfVxuICB1cGRhdGVUZXh0KCkge1xuICAgIGNvbnN0IGRhdGEgPSBCaXRtYXBGb250LmF2YWlsYWJsZVt0aGlzLl9mb250TmFtZV07XG4gICAgY29uc3QgZm9udFNpemUgPSB0aGlzLmZvbnRTaXplO1xuICAgIGNvbnN0IHNjYWxlID0gZm9udFNpemUgLyBkYXRhLnNpemU7XG4gICAgY29uc3QgcG9zID0gbmV3IFBvaW50KCk7XG4gICAgY29uc3QgY2hhcnMgPSBbXTtcbiAgICBjb25zdCBsaW5lV2lkdGhzID0gW107XG4gICAgY29uc3QgbGluZVNwYWNlcyA9IFtdO1xuICAgIGNvbnN0IHRleHQgPSB0aGlzLl90ZXh0LnJlcGxhY2UoLyg/OlxcclxcbnxcXHIpL2csIFwiXFxuXCIpIHx8IFwiIFwiO1xuICAgIGNvbnN0IGNoYXJzSW5wdXQgPSBzcGxpdFRleHRUb0NoYXJhY3RlcnModGV4dCk7XG4gICAgY29uc3QgbWF4V2lkdGggPSB0aGlzLl9tYXhXaWR0aCAqIGRhdGEuc2l6ZSAvIGZvbnRTaXplO1xuICAgIGNvbnN0IHBhZ2VNZXNoRGF0YVBvb2wgPSBkYXRhLmRpc3RhbmNlRmllbGRUeXBlID09PSBcIm5vbmVcIiA/IHBhZ2VNZXNoRGF0YURlZmF1bHRQYWdlTWVzaERhdGEgOiBwYWdlTWVzaERhdGFNU0RGUGFnZU1lc2hEYXRhO1xuICAgIGxldCBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgIGxldCBsYXN0TGluZVdpZHRoID0gMDtcbiAgICBsZXQgbWF4TGluZVdpZHRoID0gMDtcbiAgICBsZXQgbGluZSA9IDA7XG4gICAgbGV0IGxhc3RCcmVha1BvcyA9IC0xO1xuICAgIGxldCBsYXN0QnJlYWtXaWR0aCA9IDA7XG4gICAgbGV0IHNwYWNlc1JlbW92ZWQgPSAwO1xuICAgIGxldCBtYXhMaW5lSGVpZ2h0ID0gMDtcbiAgICBsZXQgc3BhY2VDb3VudCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFyc0lucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGFyID0gY2hhcnNJbnB1dFtpXTtcbiAgICAgIGNvbnN0IGNoYXJDb2RlID0gZXh0cmFjdENoYXJDb2RlKGNoYXIpO1xuICAgICAgaWYgKC8oPzpcXHMpLy50ZXN0KGNoYXIpKSB7XG4gICAgICAgIGxhc3RCcmVha1BvcyA9IGk7XG4gICAgICAgIGxhc3RCcmVha1dpZHRoID0gbGFzdExpbmVXaWR0aDtcbiAgICAgICAgc3BhY2VDb3VudCsrO1xuICAgICAgfVxuICAgICAgaWYgKGNoYXIgPT09IFwiXFxyXCIgfHwgY2hhciA9PT0gXCJcXG5cIikge1xuICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgIGxpbmVTcGFjZXMucHVzaCgtMSk7XG4gICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgICsrbGluZTtcbiAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgc3BhY2VDb3VudCA9IDA7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgY2hhckRhdGEgPSBkYXRhLmNoYXJzW2NoYXJDb2RlXTtcbiAgICAgIGlmICghY2hhckRhdGEpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAocHJldkNoYXJDb2RlICYmIGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXSkge1xuICAgICAgICBwb3MueCArPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV07XG4gICAgICB9XG4gICAgICBjb25zdCBjaGFyUmVuZGVyRGF0YSA9IGNoYXJSZW5kZXJEYXRhUG9vbC5wb3AoKSB8fCB7XG4gICAgICAgIHRleHR1cmU6IFRleHR1cmUuRU1QVFksXG4gICAgICAgIGxpbmU6IDAsXG4gICAgICAgIGNoYXJDb2RlOiAwLFxuICAgICAgICBwcmV2U3BhY2VzOiAwLFxuICAgICAgICBwb3NpdGlvbjogbmV3IFBvaW50KClcbiAgICAgIH07XG4gICAgICBjaGFyUmVuZGVyRGF0YS50ZXh0dXJlID0gY2hhckRhdGEudGV4dHVyZTtcbiAgICAgIGNoYXJSZW5kZXJEYXRhLmxpbmUgPSBsaW5lO1xuICAgICAgY2hhclJlbmRlckRhdGEuY2hhckNvZGUgPSBjaGFyQ29kZTtcbiAgICAgIGNoYXJSZW5kZXJEYXRhLnBvc2l0aW9uLnggPSBNYXRoLnJvdW5kKHBvcy54ICsgY2hhckRhdGEueE9mZnNldCArIHRoaXMuX2xldHRlclNwYWNpbmcgLyAyKTtcbiAgICAgIGNoYXJSZW5kZXJEYXRhLnBvc2l0aW9uLnkgPSBNYXRoLnJvdW5kKHBvcy55ICsgY2hhckRhdGEueU9mZnNldCk7XG4gICAgICBjaGFyUmVuZGVyRGF0YS5wcmV2U3BhY2VzID0gc3BhY2VDb3VudDtcbiAgICAgIGNoYXJzLnB1c2goY2hhclJlbmRlckRhdGEpO1xuICAgICAgbGFzdExpbmVXaWR0aCA9IGNoYXJSZW5kZXJEYXRhLnBvc2l0aW9uLnggKyBNYXRoLm1heChjaGFyRGF0YS54QWR2YW5jZSAtIGNoYXJEYXRhLnhPZmZzZXQsIGNoYXJEYXRhLnRleHR1cmUub3JpZy53aWR0aCk7XG4gICAgICBwb3MueCArPSBjaGFyRGF0YS54QWR2YW5jZSArIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICBtYXhMaW5lSGVpZ2h0ID0gTWF0aC5tYXgobWF4TGluZUhlaWdodCwgY2hhckRhdGEueU9mZnNldCArIGNoYXJEYXRhLnRleHR1cmUuaGVpZ2h0KTtcbiAgICAgIHByZXZDaGFyQ29kZSA9IGNoYXJDb2RlO1xuICAgICAgaWYgKGxhc3RCcmVha1BvcyAhPT0gLTEgJiYgbWF4V2lkdGggPiAwICYmIHBvcy54ID4gbWF4V2lkdGgpIHtcbiAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuICAgICAgICB1dGlscy5yZW1vdmVJdGVtcyhjaGFycywgMSArIGxhc3RCcmVha1BvcyAtIHNwYWNlc1JlbW92ZWQsIDEgKyBpIC0gbGFzdEJyZWFrUG9zKTtcbiAgICAgICAgaSA9IGxhc3RCcmVha1BvcztcbiAgICAgICAgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0QnJlYWtXaWR0aCk7XG4gICAgICAgIGxpbmVTcGFjZXMucHVzaChjaGFycy5sZW5ndGggPiAwID8gY2hhcnNbY2hhcnMubGVuZ3RoIC0gMV0ucHJldlNwYWNlcyA6IDApO1xuICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgbGluZSsrO1xuICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgc3BhY2VDb3VudCA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGxhc3RDaGFyID0gY2hhcnNJbnB1dFtjaGFyc0lucHV0Lmxlbmd0aCAtIDFdO1xuICAgIGlmIChsYXN0Q2hhciAhPT0gXCJcXHJcIiAmJiBsYXN0Q2hhciAhPT0gXCJcXG5cIikge1xuICAgICAgaWYgKC8oPzpcXHMpLy50ZXN0KGxhc3RDaGFyKSkge1xuICAgICAgICBsYXN0TGluZVdpZHRoID0gbGFzdEJyZWFrV2lkdGg7XG4gICAgICB9XG4gICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgbGluZVNwYWNlcy5wdXNoKC0xKTtcbiAgICB9XG4gICAgY29uc3QgbGluZUFsaWduT2Zmc2V0cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGxpbmU7IGkrKykge1xuICAgICAgbGV0IGFsaWduT2Zmc2V0ID0gMDtcbiAgICAgIGlmICh0aGlzLl9hbGlnbiA9PT0gXCJyaWdodFwiKSB7XG4gICAgICAgIGFsaWduT2Zmc2V0ID0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYWxpZ24gPT09IFwiY2VudGVyXCIpIHtcbiAgICAgICAgYWxpZ25PZmZzZXQgPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXSkgLyAyO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9hbGlnbiA9PT0gXCJqdXN0aWZ5XCIpIHtcbiAgICAgICAgYWxpZ25PZmZzZXQgPSBsaW5lU3BhY2VzW2ldIDwgMCA/IDAgOiAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXSkgLyBsaW5lU3BhY2VzW2ldO1xuICAgICAgfVxuICAgICAgbGluZUFsaWduT2Zmc2V0cy5wdXNoKGFsaWduT2Zmc2V0KTtcbiAgICB9XG4gICAgY29uc3QgbGVuQ2hhcnMgPSBjaGFycy5sZW5ndGg7XG4gICAgY29uc3QgcGFnZXNNZXNoRGF0YSA9IHt9O1xuICAgIGNvbnN0IG5ld1BhZ2VzTWVzaERhdGEgPSBbXTtcbiAgICBjb25zdCBhY3RpdmVQYWdlc01lc2hEYXRhID0gdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YTtcbiAgICBwYWdlTWVzaERhdGFQb29sLnB1c2goLi4uYWN0aXZlUGFnZXNNZXNoRGF0YSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5DaGFyczsgaSsrKSB7XG4gICAgICBjb25zdCB0ZXh0dXJlID0gY2hhcnNbaV0udGV4dHVyZTtcbiAgICAgIGNvbnN0IGJhc2VUZXh0dXJlVWlkID0gdGV4dHVyZS5iYXNlVGV4dHVyZS51aWQ7XG4gICAgICBpZiAoIXBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdKSB7XG4gICAgICAgIGxldCBwYWdlTWVzaERhdGEgPSBwYWdlTWVzaERhdGFQb29sLnBvcCgpO1xuICAgICAgICBpZiAoIXBhZ2VNZXNoRGF0YSkge1xuICAgICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IE1lc2hHZW9tZXRyeSgpO1xuICAgICAgICAgIGxldCBtYXRlcmlhbDtcbiAgICAgICAgICBsZXQgbWVzaEJsZW5kTW9kZTtcbiAgICAgICAgICBpZiAoZGF0YS5kaXN0YW5jZUZpZWxkVHlwZSA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgIG1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbChUZXh0dXJlLkVNUFRZKTtcbiAgICAgICAgICAgIG1lc2hCbGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbChUZXh0dXJlLkVNUFRZLCB7IHByb2dyYW06IFByb2dyYW0uZnJvbShtc2RmVmVydCwgbXNkZkZyYWcpLCB1bmlmb3JtczogeyB1RldpZHRoOiAwIH0gfSk7XG4gICAgICAgICAgICBtZXNoQmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMX05QTTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgbWVzaCA9IG5ldyBNZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG4gICAgICAgICAgbWVzaC5ibGVuZE1vZGUgPSBtZXNoQmxlbmRNb2RlO1xuICAgICAgICAgIHBhZ2VNZXNoRGF0YSA9IHtcbiAgICAgICAgICAgIGluZGV4OiAwLFxuICAgICAgICAgICAgaW5kZXhDb3VudDogMCxcbiAgICAgICAgICAgIHZlcnRleENvdW50OiAwLFxuICAgICAgICAgICAgdXZzQ291bnQ6IDAsXG4gICAgICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgICAgIG1lc2gsXG4gICAgICAgICAgICB2ZXJ0aWNlczogbnVsbCxcbiAgICAgICAgICAgIHV2czogbnVsbCxcbiAgICAgICAgICAgIGluZGljZXM6IG51bGxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRleCA9IDA7XG4gICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRleENvdW50ID0gMDtcbiAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRleENvdW50ID0gMDtcbiAgICAgICAgcGFnZU1lc2hEYXRhLnV2c0NvdW50ID0gMDtcbiAgICAgICAgcGFnZU1lc2hEYXRhLnRvdGFsID0gMDtcbiAgICAgICAgY29uc3QgeyBfdGV4dHVyZUNhY2hlIH0gPSB0aGlzO1xuICAgICAgICBfdGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlVWlkXSA9IF90ZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVVaWRdIHx8IG5ldyBUZXh0dXJlKHRleHR1cmUuYmFzZVRleHR1cmUpO1xuICAgICAgICBwYWdlTWVzaERhdGEubWVzaC50ZXh0dXJlID0gX3RleHR1cmVDYWNoZVtiYXNlVGV4dHVyZVVpZF07XG4gICAgICAgIHBhZ2VNZXNoRGF0YS5tZXNoLnRpbnQgPSB0aGlzLl90aW50Q29sb3IudmFsdWU7XG4gICAgICAgIG5ld1BhZ2VzTWVzaERhdGEucHVzaChwYWdlTWVzaERhdGEpO1xuICAgICAgICBwYWdlc01lc2hEYXRhW2Jhc2VUZXh0dXJlVWlkXSA9IHBhZ2VNZXNoRGF0YTtcbiAgICAgIH1cbiAgICAgIHBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdLnRvdGFsKys7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlUGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFuZXdQYWdlc01lc2hEYXRhLmluY2x1ZGVzKGFjdGl2ZVBhZ2VzTWVzaERhdGFbaV0pKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoYWN0aXZlUGFnZXNNZXNoRGF0YVtpXS5tZXNoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobmV3UGFnZXNNZXNoRGF0YVtpXS5tZXNoLnBhcmVudCAhPT0gdGhpcykge1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ld1BhZ2VzTWVzaERhdGFbaV0ubWVzaCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEgPSBuZXdQYWdlc01lc2hEYXRhO1xuICAgIGZvciAoY29uc3QgaSBpbiBwYWdlc01lc2hEYXRhKSB7XG4gICAgICBjb25zdCBwYWdlTWVzaERhdGEgPSBwYWdlc01lc2hEYXRhW2ldO1xuICAgICAgY29uc3QgdG90YWwgPSBwYWdlTWVzaERhdGEudG90YWw7XG4gICAgICBpZiAoIShwYWdlTWVzaERhdGEuaW5kaWNlcz8ubGVuZ3RoID4gNiAqIHRvdGFsKSB8fCBwYWdlTWVzaERhdGEudmVydGljZXMubGVuZ3RoIDwgTWVzaC5CQVRDSEFCTEVfU0laRSAqIDIpIHtcbiAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSg0ICogMiAqIHRvdGFsKTtcbiAgICAgICAgcGFnZU1lc2hEYXRhLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoNCAqIDIgKiB0b3RhbCk7XG4gICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KDYgKiB0b3RhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0b3RhbDIgPSBwYWdlTWVzaERhdGEudG90YWw7XG4gICAgICAgIGNvbnN0IHZlcnRpY2VzID0gcGFnZU1lc2hEYXRhLnZlcnRpY2VzO1xuICAgICAgICBmb3IgKGxldCBpMiA9IHRvdGFsMiAqIDQgKiAyOyBpMiA8IHZlcnRpY2VzLmxlbmd0aDsgaTIrKykge1xuICAgICAgICAgIHZlcnRpY2VzW2kyXSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBhZ2VNZXNoRGF0YS5tZXNoLnNpemUgPSA2ICogdG90YWw7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuQ2hhcnM7IGkrKykge1xuICAgICAgY29uc3QgY2hhciA9IGNoYXJzW2ldO1xuICAgICAgbGV0IG9mZnNldCA9IGNoYXIucG9zaXRpb24ueCArIGxpbmVBbGlnbk9mZnNldHNbY2hhci5saW5lXSAqICh0aGlzLl9hbGlnbiA9PT0gXCJqdXN0aWZ5XCIgPyBjaGFyLnByZXZTcGFjZXMgOiAxKTtcbiAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscykge1xuICAgICAgICBvZmZzZXQgPSBNYXRoLnJvdW5kKG9mZnNldCk7XG4gICAgICB9XG4gICAgICBjb25zdCB4UG9zID0gb2Zmc2V0ICogc2NhbGU7XG4gICAgICBjb25zdCB5UG9zID0gY2hhci5wb3NpdGlvbi55ICogc2NhbGU7XG4gICAgICBjb25zdCB0ZXh0dXJlID0gY2hhci50ZXh0dXJlO1xuICAgICAgY29uc3QgcGFnZU1lc2ggPSBwYWdlc01lc2hEYXRhW3RleHR1cmUuYmFzZVRleHR1cmUudWlkXTtcbiAgICAgIGNvbnN0IHRleHR1cmVGcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICBjb25zdCB0ZXh0dXJlVXZzID0gdGV4dHVyZS5fdXZzO1xuICAgICAgY29uc3QgaW5kZXggPSBwYWdlTWVzaC5pbmRleCsrO1xuICAgICAgcGFnZU1lc2guaW5kaWNlc1tpbmRleCAqIDYgKyAwXSA9IDAgKyBpbmRleCAqIDQ7XG4gICAgICBwYWdlTWVzaC5pbmRpY2VzW2luZGV4ICogNiArIDFdID0gMSArIGluZGV4ICogNDtcbiAgICAgIHBhZ2VNZXNoLmluZGljZXNbaW5kZXggKiA2ICsgMl0gPSAyICsgaW5kZXggKiA0O1xuICAgICAgcGFnZU1lc2guaW5kaWNlc1tpbmRleCAqIDYgKyAzXSA9IDAgKyBpbmRleCAqIDQ7XG4gICAgICBwYWdlTWVzaC5pbmRpY2VzW2luZGV4ICogNiArIDRdID0gMiArIGluZGV4ICogNDtcbiAgICAgIHBhZ2VNZXNoLmluZGljZXNbaW5kZXggKiA2ICsgNV0gPSAzICsgaW5kZXggKiA0O1xuICAgICAgcGFnZU1lc2gudmVydGljZXNbaW5kZXggKiA4ICsgMF0gPSB4UG9zO1xuICAgICAgcGFnZU1lc2gudmVydGljZXNbaW5kZXggKiA4ICsgMV0gPSB5UG9zO1xuICAgICAgcGFnZU1lc2gudmVydGljZXNbaW5kZXggKiA4ICsgMl0gPSB4UG9zICsgdGV4dHVyZUZyYW1lLndpZHRoICogc2NhbGU7XG4gICAgICBwYWdlTWVzaC52ZXJ0aWNlc1tpbmRleCAqIDggKyAzXSA9IHlQb3M7XG4gICAgICBwYWdlTWVzaC52ZXJ0aWNlc1tpbmRleCAqIDggKyA0XSA9IHhQb3MgKyB0ZXh0dXJlRnJhbWUud2lkdGggKiBzY2FsZTtcbiAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzW2luZGV4ICogOCArIDVdID0geVBvcyArIHRleHR1cmVGcmFtZS5oZWlnaHQgKiBzY2FsZTtcbiAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzW2luZGV4ICogOCArIDZdID0geFBvcztcbiAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzW2luZGV4ICogOCArIDddID0geVBvcyArIHRleHR1cmVGcmFtZS5oZWlnaHQgKiBzY2FsZTtcbiAgICAgIHBhZ2VNZXNoLnV2c1tpbmRleCAqIDggKyAwXSA9IHRleHR1cmVVdnMueDA7XG4gICAgICBwYWdlTWVzaC51dnNbaW5kZXggKiA4ICsgMV0gPSB0ZXh0dXJlVXZzLnkwO1xuICAgICAgcGFnZU1lc2gudXZzW2luZGV4ICogOCArIDJdID0gdGV4dHVyZVV2cy54MTtcbiAgICAgIHBhZ2VNZXNoLnV2c1tpbmRleCAqIDggKyAzXSA9IHRleHR1cmVVdnMueTE7XG4gICAgICBwYWdlTWVzaC51dnNbaW5kZXggKiA4ICsgNF0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgcGFnZU1lc2gudXZzW2luZGV4ICogOCArIDVdID0gdGV4dHVyZVV2cy55MjtcbiAgICAgIHBhZ2VNZXNoLnV2c1tpbmRleCAqIDggKyA2XSA9IHRleHR1cmVVdnMueDM7XG4gICAgICBwYWdlTWVzaC51dnNbaW5kZXggKiA4ICsgN10gPSB0ZXh0dXJlVXZzLnkzO1xuICAgIH1cbiAgICB0aGlzLl90ZXh0V2lkdGggPSBtYXhMaW5lV2lkdGggKiBzY2FsZTtcbiAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gKHBvcy55ICsgZGF0YS5saW5lSGVpZ2h0KSAqIHNjYWxlO1xuICAgIGZvciAoY29uc3QgaSBpbiBwYWdlc01lc2hEYXRhKSB7XG4gICAgICBjb25zdCBwYWdlTWVzaERhdGEgPSBwYWdlc01lc2hEYXRhW2ldO1xuICAgICAgaWYgKHRoaXMuYW5jaG9yLnggIT09IDAgfHwgdGhpcy5hbmNob3IueSAhPT0gMCkge1xuICAgICAgICBsZXQgdmVydGV4Q291bnQgPSAwO1xuICAgICAgICBjb25zdCBhbmNob3JPZmZzZXRYID0gdGhpcy5fdGV4dFdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgY29uc3QgYW5jaG9yT2Zmc2V0WSA9IHRoaXMuX3RleHRIZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuICAgICAgICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgcGFnZU1lc2hEYXRhLnRvdGFsOyBpMisrKSB7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX21heExpbmVIZWlnaHQgPSBtYXhMaW5lSGVpZ2h0ICogc2NhbGU7XG4gICAgICBjb25zdCB2ZXJ0ZXhCdWZmZXIgPSBwYWdlTWVzaERhdGEubWVzaC5nZW9tZXRyeS5nZXRCdWZmZXIoXCJhVmVydGV4UG9zaXRpb25cIik7XG4gICAgICBjb25zdCB0ZXh0dXJlQnVmZmVyID0gcGFnZU1lc2hEYXRhLm1lc2guZ2VvbWV0cnkuZ2V0QnVmZmVyKFwiYVRleHR1cmVDb29yZFwiKTtcbiAgICAgIGNvbnN0IGluZGV4QnVmZmVyID0gcGFnZU1lc2hEYXRhLm1lc2guZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcbiAgICAgIHZlcnRleEJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLnZlcnRpY2VzO1xuICAgICAgdGV4dHVyZUJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLnV2cztcbiAgICAgIGluZGV4QnVmZmVyLmRhdGEgPSBwYWdlTWVzaERhdGEuaW5kaWNlcztcbiAgICAgIHZlcnRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgIHRleHR1cmVCdWZmZXIudXBkYXRlKCk7XG4gICAgICBpbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgY2hhclJlbmRlckRhdGFQb29sLnB1c2goY2hhcnNbaV0pO1xuICAgIH1cbiAgICB0aGlzLl9mb250ID0gZGF0YTtcbiAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gIH1cbiAgdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICB0aGlzLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSgpO1xuICB9XG4gIF9yZW5kZXIocmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5fYXV0b1Jlc29sdXRpb24gJiYgdGhpcy5fcmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbikge1xuICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgeyBkaXN0YW5jZUZpZWxkUmFuZ2UsIGRpc3RhbmNlRmllbGRUeXBlLCBzaXplIH0gPSBCaXRtYXBGb250LmF2YWlsYWJsZVt0aGlzLl9mb250TmFtZV07XG4gICAgaWYgKGRpc3RhbmNlRmllbGRUeXBlICE9PSBcIm5vbmVcIikge1xuICAgICAgY29uc3QgeyBhLCBiLCBjLCBkIH0gPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgICAgY29uc3QgZHggPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYik7XG4gICAgICBjb25zdCBkeSA9IE1hdGguc3FydChjICogYyArIGQgKiBkKTtcbiAgICAgIGNvbnN0IHdvcmxkU2NhbGUgPSAoTWF0aC5hYnMoZHgpICsgTWF0aC5hYnMoZHkpKSAvIDI7XG4gICAgICBjb25zdCBmb250U2NhbGUgPSB0aGlzLmZvbnRTaXplIC8gc2l6ZTtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSByZW5kZXJlci5fdmlldy5yZXNvbHV0aW9uO1xuICAgICAgZm9yIChjb25zdCBtZXNoIG9mIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEpIHtcbiAgICAgICAgbWVzaC5tZXNoLnNoYWRlci51bmlmb3Jtcy51RldpZHRoID0gd29ybGRTY2FsZSAqIGRpc3RhbmNlRmllbGRSYW5nZSAqIGZvbnRTY2FsZSAqIHJlc29sdXRpb247XG4gICAgICB9XG4gICAgfVxuICAgIHN1cGVyLl9yZW5kZXIocmVuZGVyZXIpO1xuICB9XG4gIGdldExvY2FsQm91bmRzKCkge1xuICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICByZXR1cm4gc3VwZXIuZ2V0TG9jYWxCb3VuZHMoKTtcbiAgfVxuICB2YWxpZGF0ZSgpIHtcbiAgICBjb25zdCBmb250ID0gQml0bWFwRm9udC5hdmFpbGFibGVbdGhpcy5fZm9udE5hbWVdO1xuICAgIGlmICghZm9udCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIEJpdG1hcEZvbnQgXCIke3RoaXMuX2ZvbnROYW1lfVwiYCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9mb250ICE9PSBmb250KSB7XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMudXBkYXRlVGV4dCgpO1xuICAgIH1cbiAgfVxuICBnZXQgdGludCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGludENvbG9yLnZhbHVlO1xuICB9XG4gIHNldCB0aW50KHZhbHVlKSB7XG4gICAgaWYgKHRoaXMudGludCA9PT0gdmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5fdGludENvbG9yLnNldFZhbHVlKHZhbHVlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGFbaV0ubWVzaC50aW50ID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIGdldCBhbGlnbigpIHtcbiAgICByZXR1cm4gdGhpcy5fYWxpZ247XG4gIH1cbiAgc2V0IGFsaWduKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2FsaWduICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5fYWxpZ24gPSB2YWx1ZTtcbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBnZXQgZm9udE5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnROYW1lO1xuICB9XG4gIHNldCBmb250TmFtZSh2YWx1ZSkge1xuICAgIGlmICghQml0bWFwRm9udC5hdmFpbGFibGVbdmFsdWVdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgQml0bWFwRm9udCBcIiR7dmFsdWV9XCJgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2ZvbnROYW1lICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5fZm9udE5hbWUgPSB2YWx1ZTtcbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBnZXQgZm9udFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRTaXplID8/IEJpdG1hcEZvbnQuYXZhaWxhYmxlW3RoaXMuX2ZvbnROYW1lXS5zaXplO1xuICB9XG4gIHNldCBmb250U2l6ZSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9mb250U2l6ZSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX2ZvbnRTaXplID0gdmFsdWU7XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgZ2V0IGFuY2hvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICB9XG4gIHNldCBhbmNob3IodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICB0aGlzLl9hbmNob3Iuc2V0KHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYW5jaG9yLmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgZ2V0IHRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gIH1cbiAgc2V0IHRleHQodGV4dCkge1xuICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB2b2lkIDAgPyBcIlwiIDogdGV4dCk7XG4gICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gIH1cbiAgZ2V0IG1heFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLl9tYXhXaWR0aDtcbiAgfVxuICBzZXQgbWF4V2lkdGgodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fbWF4V2lkdGggPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX21heFdpZHRoID0gdmFsdWU7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gIH1cbiAgZ2V0IG1heExpbmVIZWlnaHQoKSB7XG4gICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgIHJldHVybiB0aGlzLl9tYXhMaW5lSGVpZ2h0O1xuICB9XG4gIGdldCB0ZXh0V2lkdGgoKSB7XG4gICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgIHJldHVybiB0aGlzLl90ZXh0V2lkdGg7XG4gIH1cbiAgZ2V0IGxldHRlclNwYWNpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gIH1cbiAgc2V0IGxldHRlclNwYWNpbmcodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSB2YWx1ZTtcbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBnZXQgcm91bmRQaXhlbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JvdW5kUGl4ZWxzO1xuICB9XG4gIHNldCByb3VuZFBpeGVscyh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fcm91bmRQaXhlbHMpIHtcbiAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gdmFsdWU7XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgZ2V0IHRleHRIZWlnaHQoKSB7XG4gICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgIHJldHVybiB0aGlzLl90ZXh0SGVpZ2h0O1xuICB9XG4gIGdldCByZXNvbHV0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXNvbHV0aW9uO1xuICB9XG4gIHNldCByZXNvbHV0aW9uKHZhbHVlKSB7XG4gICAgdGhpcy5fYXV0b1Jlc29sdXRpb24gPSBmYWxzZTtcbiAgICBpZiAodGhpcy5fcmVzb2x1dGlvbiA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fcmVzb2x1dGlvbiA9IHZhbHVlO1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICB9XG4gIGRlc3Ryb3kob3B0aW9ucykge1xuICAgIGNvbnN0IHsgX3RleHR1cmVDYWNoZSB9ID0gdGhpcztcbiAgICBjb25zdCBkYXRhID0gQml0bWFwRm9udC5hdmFpbGFibGVbdGhpcy5fZm9udE5hbWVdO1xuICAgIGNvbnN0IHBhZ2VNZXNoRGF0YVBvb2wgPSBkYXRhLmRpc3RhbmNlRmllbGRUeXBlID09PSBcIm5vbmVcIiA/IHBhZ2VNZXNoRGF0YURlZmF1bHRQYWdlTWVzaERhdGEgOiBwYWdlTWVzaERhdGFNU0RGUGFnZU1lc2hEYXRhO1xuICAgIHBhZ2VNZXNoRGF0YVBvb2wucHVzaCguLi50aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhKTtcbiAgICBmb3IgKGNvbnN0IHBhZ2VNZXNoRGF0YSBvZiB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhKSB7XG4gICAgICB0aGlzLnJlbW92ZUNoaWxkKHBhZ2VNZXNoRGF0YS5tZXNoKTtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YSA9IFtdO1xuICAgIHBhZ2VNZXNoRGF0YVBvb2wuZmlsdGVyKChwYWdlKSA9PiBfdGV4dHVyZUNhY2hlW3BhZ2UubWVzaC50ZXh0dXJlLmJhc2VUZXh0dXJlLnVpZF0pLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgIHBhZ2UubWVzaC50ZXh0dXJlID0gVGV4dHVyZS5FTVBUWTtcbiAgICB9KTtcbiAgICBmb3IgKGNvbnN0IGlkIGluIF90ZXh0dXJlQ2FjaGUpIHtcbiAgICAgIGNvbnN0IHRleHR1cmUgPSBfdGV4dHVyZUNhY2hlW2lkXTtcbiAgICAgIHRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgZGVsZXRlIF90ZXh0dXJlQ2FjaGVbaWRdO1xuICAgIH1cbiAgICB0aGlzLl9mb250ID0gbnVsbDtcbiAgICB0aGlzLl90aW50Q29sb3IgPSBudWxsO1xuICAgIHRoaXMuX3RleHR1cmVDYWNoZSA9IG51bGw7XG4gICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcbiAgfVxufTtcbmxldCBCaXRtYXBUZXh0ID0gX0JpdG1hcFRleHQ7XG5CaXRtYXBUZXh0LnN0eWxlRGVmYXVsdHMgPSB7XG4gIGFsaWduOiBcImxlZnRcIixcbiAgdGludDogMTY3NzcyMTUsXG4gIG1heFdpZHRoOiAwLFxuICBsZXR0ZXJTcGFjaW5nOiAwXG59O1xuXG5leHBvcnQgeyBCaXRtYXBUZXh0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CaXRtYXBUZXh0Lm1qcy5tYXBcbiIsIlxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qml0bWFwVGV4dFN0eWxlLm1qcy5tYXBcbiIsImltcG9ydCB7IEJpdG1hcEZvbnREYXRhIH0gZnJvbSAnLi4vQml0bWFwRm9udERhdGEubWpzJztcblxuY2xhc3MgVGV4dEZvcm1hdCB7XG4gIHN0YXRpYyB0ZXN0KGRhdGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgJiYgZGF0YS5zdGFydHNXaXRoKFwiaW5mbyBmYWNlPVwiKTtcbiAgfVxuICBzdGF0aWMgcGFyc2UodHh0KSB7XG4gICAgY29uc3QgaXRlbXMgPSB0eHQubWF0Y2goL15bYS16XStcXHMrLiskL2dtKTtcbiAgICBjb25zdCByYXdEYXRhID0ge1xuICAgICAgaW5mbzogW10sXG4gICAgICBjb21tb246IFtdLFxuICAgICAgcGFnZTogW10sXG4gICAgICBjaGFyOiBbXSxcbiAgICAgIGNoYXJzOiBbXSxcbiAgICAgIGtlcm5pbmc6IFtdLFxuICAgICAga2VybmluZ3M6IFtdLFxuICAgICAgZGlzdGFuY2VGaWVsZDogW11cbiAgICB9O1xuICAgIGZvciAoY29uc3QgaSBpbiBpdGVtcykge1xuICAgICAgY29uc3QgbmFtZSA9IGl0ZW1zW2ldLm1hdGNoKC9eW2Etel0rL2dtKVswXTtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZUxpc3QgPSBpdGVtc1tpXS5tYXRjaCgvW2EtekEtWl0rPShbXlxcc1wiJ10rfFwiKFteXCJdKilcIikvZ20pO1xuICAgICAgY29uc3QgaXRlbURhdGEgPSB7fTtcbiAgICAgIGZvciAoY29uc3QgaTIgaW4gYXR0cmlidXRlTGlzdCkge1xuICAgICAgICBjb25zdCBzcGxpdCA9IGF0dHJpYnV0ZUxpc3RbaTJdLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgY29uc3Qga2V5ID0gc3BsaXRbMF07XG4gICAgICAgIGNvbnN0IHN0clZhbHVlID0gc3BsaXRbMV0ucmVwbGFjZSgvXCIvZ20sIFwiXCIpO1xuICAgICAgICBjb25zdCBmbG9hdFZhbHVlID0gcGFyc2VGbG9hdChzdHJWYWx1ZSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaXNOYU4oZmxvYXRWYWx1ZSkgPyBzdHJWYWx1ZSA6IGZsb2F0VmFsdWU7XG4gICAgICAgIGl0ZW1EYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJhd0RhdGFbbmFtZV0ucHVzaChpdGVtRGF0YSk7XG4gICAgfVxuICAgIGNvbnN0IGZvbnQgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICByYXdEYXRhLmluZm8uZm9yRWFjaCgoaW5mbykgPT4gZm9udC5pbmZvLnB1c2goe1xuICAgICAgZmFjZTogaW5mby5mYWNlLFxuICAgICAgc2l6ZTogcGFyc2VJbnQoaW5mby5zaXplLCAxMClcbiAgICB9KSk7XG4gICAgcmF3RGF0YS5jb21tb24uZm9yRWFjaCgoY29tbW9uKSA9PiBmb250LmNvbW1vbi5wdXNoKHtcbiAgICAgIGxpbmVIZWlnaHQ6IHBhcnNlSW50KGNvbW1vbi5saW5lSGVpZ2h0LCAxMClcbiAgICB9KSk7XG4gICAgcmF3RGF0YS5wYWdlLmZvckVhY2goKHBhZ2UpID0+IGZvbnQucGFnZS5wdXNoKHtcbiAgICAgIGlkOiBwYXJzZUludChwYWdlLmlkLCAxMCksXG4gICAgICBmaWxlOiBwYWdlLmZpbGVcbiAgICB9KSk7XG4gICAgcmF3RGF0YS5jaGFyLmZvckVhY2goKGNoYXIpID0+IGZvbnQuY2hhci5wdXNoKHtcbiAgICAgIGlkOiBwYXJzZUludChjaGFyLmlkLCAxMCksXG4gICAgICBwYWdlOiBwYXJzZUludChjaGFyLnBhZ2UsIDEwKSxcbiAgICAgIHg6IHBhcnNlSW50KGNoYXIueCwgMTApLFxuICAgICAgeTogcGFyc2VJbnQoY2hhci55LCAxMCksXG4gICAgICB3aWR0aDogcGFyc2VJbnQoY2hhci53aWR0aCwgMTApLFxuICAgICAgaGVpZ2h0OiBwYXJzZUludChjaGFyLmhlaWdodCwgMTApLFxuICAgICAgeG9mZnNldDogcGFyc2VJbnQoY2hhci54b2Zmc2V0LCAxMCksXG4gICAgICB5b2Zmc2V0OiBwYXJzZUludChjaGFyLnlvZmZzZXQsIDEwKSxcbiAgICAgIHhhZHZhbmNlOiBwYXJzZUludChjaGFyLnhhZHZhbmNlLCAxMClcbiAgICB9KSk7XG4gICAgcmF3RGF0YS5rZXJuaW5nLmZvckVhY2goKGtlcm5pbmcpID0+IGZvbnQua2VybmluZy5wdXNoKHtcbiAgICAgIGZpcnN0OiBwYXJzZUludChrZXJuaW5nLmZpcnN0LCAxMCksXG4gICAgICBzZWNvbmQ6IHBhcnNlSW50KGtlcm5pbmcuc2Vjb25kLCAxMCksXG4gICAgICBhbW91bnQ6IHBhcnNlSW50KGtlcm5pbmcuYW1vdW50LCAxMClcbiAgICB9KSk7XG4gICAgcmF3RGF0YS5kaXN0YW5jZUZpZWxkLmZvckVhY2goKGRmKSA9PiBmb250LmRpc3RhbmNlRmllbGQucHVzaCh7XG4gICAgICBkaXN0YW5jZVJhbmdlOiBwYXJzZUludChkZi5kaXN0YW5jZVJhbmdlLCAxMCksXG4gICAgICBmaWVsZFR5cGU6IGRmLmZpZWxkVHlwZVxuICAgIH0pKTtcbiAgICByZXR1cm4gZm9udDtcbiAgfVxufVxuXG5leHBvcnQgeyBUZXh0Rm9ybWF0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0Rm9ybWF0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEJpdG1hcEZvbnREYXRhIH0gZnJvbSAnLi4vQml0bWFwRm9udERhdGEubWpzJztcblxuY2xhc3MgWE1MRm9ybWF0IHtcbiAgc3RhdGljIHRlc3QoZGF0YSkge1xuICAgIGNvbnN0IHhtbCA9IGRhdGE7XG4gICAgcmV0dXJuIFwiZ2V0RWxlbWVudHNCeVRhZ05hbWVcIiBpbiB4bWwgJiYgeG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFnZVwiKS5sZW5ndGggJiYgeG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5mb1wiKVswXS5nZXRBdHRyaWJ1dGUoXCJmYWNlXCIpICE9PSBudWxsO1xuICB9XG4gIHN0YXRpYyBwYXJzZSh4bWwpIHtcbiAgICBjb25zdCBkYXRhID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG4gICAgY29uc3QgaW5mbyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImluZm9cIik7XG4gICAgY29uc3QgY29tbW9uID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiY29tbW9uXCIpO1xuICAgIGNvbnN0IHBhZ2UgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYWdlXCIpO1xuICAgIGNvbnN0IGNoYXIgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJjaGFyXCIpO1xuICAgIGNvbnN0IGtlcm5pbmcgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJrZXJuaW5nXCIpO1xuICAgIGNvbnN0IGRpc3RhbmNlRmllbGQgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaXN0YW5jZUZpZWxkXCIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5mby5sZW5ndGg7IGkrKykge1xuICAgICAgZGF0YS5pbmZvLnB1c2goe1xuICAgICAgICBmYWNlOiBpbmZvW2ldLmdldEF0dHJpYnV0ZShcImZhY2VcIiksXG4gICAgICAgIHNpemU6IHBhcnNlSW50KGluZm9baV0uZ2V0QXR0cmlidXRlKFwic2l6ZVwiKSwgMTApXG4gICAgICB9KTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21tb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRhdGEuY29tbW9uLnB1c2goe1xuICAgICAgICBsaW5lSGVpZ2h0OiBwYXJzZUludChjb21tb25baV0uZ2V0QXR0cmlidXRlKFwibGluZUhlaWdodFwiKSwgMTApXG4gICAgICB9KTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkYXRhLnBhZ2UucHVzaCh7XG4gICAgICAgIGlkOiBwYXJzZUludChwYWdlW2ldLmdldEF0dHJpYnV0ZShcImlkXCIpLCAxMCkgfHwgMCxcbiAgICAgICAgZmlsZTogcGFnZVtpXS5nZXRBdHRyaWJ1dGUoXCJmaWxlXCIpXG4gICAgICB9KTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBsZXR0ZXIgPSBjaGFyW2ldO1xuICAgICAgZGF0YS5jaGFyLnB1c2goe1xuICAgICAgICBpZDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZShcImlkXCIpLCAxMCksXG4gICAgICAgIHBhZ2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoXCJwYWdlXCIpLCAxMCkgfHwgMCxcbiAgICAgICAgeDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZShcInhcIiksIDEwKSxcbiAgICAgICAgeTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZShcInlcIiksIDEwKSxcbiAgICAgICAgd2lkdGg6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSwgMTApLFxuICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiksIDEwKSxcbiAgICAgICAgeG9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZShcInhvZmZzZXRcIiksIDEwKSxcbiAgICAgICAgeW9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZShcInlvZmZzZXRcIiksIDEwKSxcbiAgICAgICAgeGFkdmFuY2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoXCJ4YWR2YW5jZVwiKSwgMTApXG4gICAgICB9KTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXJuaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkYXRhLmtlcm5pbmcucHVzaCh7XG4gICAgICAgIGZpcnN0OiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZShcImZpcnN0XCIpLCAxMCksXG4gICAgICAgIHNlY29uZDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoXCJzZWNvbmRcIiksIDEwKSxcbiAgICAgICAgYW1vdW50OiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZShcImFtb3VudFwiKSwgMTApXG4gICAgICB9KTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXN0YW5jZUZpZWxkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkYXRhLmRpc3RhbmNlRmllbGQucHVzaCh7XG4gICAgICAgIGZpZWxkVHlwZTogZGlzdGFuY2VGaWVsZFtpXS5nZXRBdHRyaWJ1dGUoXCJmaWVsZFR5cGVcIiksXG4gICAgICAgIGRpc3RhbmNlUmFuZ2U6IHBhcnNlSW50KGRpc3RhbmNlRmllbGRbaV0uZ2V0QXR0cmlidXRlKFwiZGlzdGFuY2VSYW5nZVwiKSwgMTApXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn1cblxuZXhwb3J0IHsgWE1MRm9ybWF0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1YTUxGb3JtYXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFhNTEZvcm1hdCB9IGZyb20gJy4vWE1MRm9ybWF0Lm1qcyc7XG5cbmNsYXNzIFhNTFN0cmluZ0Zvcm1hdCB7XG4gIHN0YXRpYyB0ZXN0KGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgJiYgZGF0YS5pbmNsdWRlcyhcIjxmb250PlwiKSkge1xuICAgICAgcmV0dXJuIFhNTEZvcm1hdC50ZXN0KHNldHRpbmdzLkFEQVBURVIucGFyc2VYTUwoZGF0YSkpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3RhdGljIHBhcnNlKHhtbFR4dCkge1xuICAgIHJldHVybiBYTUxGb3JtYXQucGFyc2Uoc2V0dGluZ3MuQURBUFRFUi5wYXJzZVhNTCh4bWxUeHQpKTtcbiAgfVxufVxuXG5leHBvcnQgeyBYTUxTdHJpbmdGb3JtYXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVhNTFN0cmluZ0Zvcm1hdC5tanMubWFwXG4iLCJpbXBvcnQgeyBUZXh0Rm9ybWF0IH0gZnJvbSAnLi9UZXh0Rm9ybWF0Lm1qcyc7XG5leHBvcnQgeyBUZXh0Rm9ybWF0IH0gZnJvbSAnLi9UZXh0Rm9ybWF0Lm1qcyc7XG5pbXBvcnQgeyBYTUxGb3JtYXQgfSBmcm9tICcuL1hNTEZvcm1hdC5tanMnO1xuZXhwb3J0IHsgWE1MRm9ybWF0IH0gZnJvbSAnLi9YTUxGb3JtYXQubWpzJztcbmltcG9ydCB7IFhNTFN0cmluZ0Zvcm1hdCB9IGZyb20gJy4vWE1MU3RyaW5nRm9ybWF0Lm1qcyc7XG5leHBvcnQgeyBYTUxTdHJpbmdGb3JtYXQgfSBmcm9tICcuL1hNTFN0cmluZ0Zvcm1hdC5tanMnO1xuXG5jb25zdCBmb3JtYXRzID0gW1xuICBUZXh0Rm9ybWF0LFxuICBYTUxGb3JtYXQsXG4gIFhNTFN0cmluZ0Zvcm1hdFxuXTtcbmZ1bmN0aW9uIGF1dG9EZXRlY3RGb3JtYXQoZGF0YSkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGZvcm1hdHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZm9ybWF0c1tpXS50ZXN0KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0c1tpXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCB7IGF1dG9EZXRlY3RGb3JtYXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImV4cG9ydCB7IEJpdG1hcEZvbnQgfSBmcm9tICcuL0JpdG1hcEZvbnQubWpzJztcbmV4cG9ydCB7IEJpdG1hcEZvbnREYXRhIH0gZnJvbSAnLi9CaXRtYXBGb250RGF0YS5tanMnO1xuZXhwb3J0IHsgQml0bWFwVGV4dCB9IGZyb20gJy4vQml0bWFwVGV4dC5tanMnO1xuaW1wb3J0ICcuL0JpdG1hcFRleHRTdHlsZS5tanMnO1xuZXhwb3J0IHsgYXV0b0RldGVjdEZvcm1hdCB9IGZyb20gJy4vZm9ybWF0cy9pbmRleC5tanMnO1xuZXhwb3J0IHsgbG9hZEJpdG1hcEZvbnQgfSBmcm9tICcuL2xvYWRCaXRtYXBGb250Lm1qcyc7XG5leHBvcnQgeyBUZXh0Rm9ybWF0IH0gZnJvbSAnLi9mb3JtYXRzL1RleHRGb3JtYXQubWpzJztcbmV4cG9ydCB7IFhNTEZvcm1hdCB9IGZyb20gJy4vZm9ybWF0cy9YTUxGb3JtYXQubWpzJztcbmV4cG9ydCB7IFhNTFN0cmluZ0Zvcm1hdCB9IGZyb20gJy4vZm9ybWF0cy9YTUxTdHJpbmdGb3JtYXQubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IExvYWRlclBhcnNlclByaW9yaXR5LCBjb3B5U2VhcmNoUGFyYW1zIH0gZnJvbSAnQHBpeGkvYXNzZXRzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUsIHV0aWxzLCBzZXR0aW5ncywgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQml0bWFwRm9udCB9IGZyb20gJy4vQml0bWFwRm9udC5tanMnO1xuaW1wb3J0ICcuL2Zvcm1hdHMvaW5kZXgubWpzJztcbmltcG9ydCB7IFRleHRGb3JtYXQgfSBmcm9tICcuL2Zvcm1hdHMvVGV4dEZvcm1hdC5tanMnO1xuaW1wb3J0IHsgWE1MU3RyaW5nRm9ybWF0IH0gZnJvbSAnLi9mb3JtYXRzL1hNTFN0cmluZ0Zvcm1hdC5tanMnO1xuXG5jb25zdCB2YWxpZEV4dGVuc2lvbnMgPSBbXCIueG1sXCIsIFwiLmZudFwiXTtcbmNvbnN0IGxvYWRCaXRtYXBGb250ID0ge1xuICBleHRlbnNpb246IHtcbiAgICB0eXBlOiBFeHRlbnNpb25UeXBlLkxvYWRQYXJzZXIsXG4gICAgcHJpb3JpdHk6IExvYWRlclBhcnNlclByaW9yaXR5Lk5vcm1hbFxuICB9LFxuICBuYW1lOiBcImxvYWRCaXRtYXBGb250XCIsXG4gIHRlc3QodXJsKSB7XG4gICAgcmV0dXJuIHZhbGlkRXh0ZW5zaW9ucy5pbmNsdWRlcyh1dGlscy5wYXRoLmV4dG5hbWUodXJsKS50b0xvd2VyQ2FzZSgpKTtcbiAgfSxcbiAgYXN5bmMgdGVzdFBhcnNlKGRhdGEpIHtcbiAgICByZXR1cm4gVGV4dEZvcm1hdC50ZXN0KGRhdGEpIHx8IFhNTFN0cmluZ0Zvcm1hdC50ZXN0KGRhdGEpO1xuICB9LFxuICBhc3luYyBwYXJzZShhc3NldCwgZGF0YSwgbG9hZGVyKSB7XG4gICAgY29uc3QgZm9udERhdGEgPSBUZXh0Rm9ybWF0LnRlc3QoYXNzZXQpID8gVGV4dEZvcm1hdC5wYXJzZShhc3NldCkgOiBYTUxTdHJpbmdGb3JtYXQucGFyc2UoYXNzZXQpO1xuICAgIGNvbnN0IHsgc3JjIH0gPSBkYXRhO1xuICAgIGNvbnN0IHsgcGFnZTogcGFnZXMgfSA9IGZvbnREYXRhO1xuICAgIGNvbnN0IHRleHR1cmVVcmxzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlcy5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgcGFnZUZpbGUgPSBwYWdlc1tpXS5maWxlO1xuICAgICAgbGV0IGltYWdlUGF0aCA9IHV0aWxzLnBhdGguam9pbih1dGlscy5wYXRoLmRpcm5hbWUoc3JjKSwgcGFnZUZpbGUpO1xuICAgICAgaW1hZ2VQYXRoID0gY29weVNlYXJjaFBhcmFtcyhpbWFnZVBhdGgsIHNyYyk7XG4gICAgICB0ZXh0dXJlVXJscy5wdXNoKGltYWdlUGF0aCk7XG4gICAgfVxuICAgIGNvbnN0IGxvYWRlZFRleHR1cmVzID0gYXdhaXQgbG9hZGVyLmxvYWQodGV4dHVyZVVybHMpO1xuICAgIGNvbnN0IHRleHR1cmVzID0gdGV4dHVyZVVybHMubWFwKCh1cmwpID0+IGxvYWRlZFRleHR1cmVzW3VybF0pO1xuICAgIHJldHVybiBCaXRtYXBGb250Lmluc3RhbGwoZm9udERhdGEsIHRleHR1cmVzLCB0cnVlKTtcbiAgfSxcbiAgYXN5bmMgbG9hZCh1cmwsIF9vcHRpb25zKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZXR0aW5ncy5BREFQVEVSLmZldGNoKHVybCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgfSxcbiAgdW5sb2FkKGJpdG1hcEZvbnQpIHtcbiAgICBiaXRtYXBGb250LmRlc3Ryb3koKTtcbiAgfVxufTtcbmV4dGVuc2lvbnMuYWRkKGxvYWRCaXRtYXBGb250KTtcblxuZXhwb3J0IHsgbG9hZEJpdG1hcEZvbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRCaXRtYXBGb250Lm1qcy5tYXBcbiIsInZhciBtc2RmRnJhZyA9IFwiLy8gUGl4aSB0ZXh0dXJlIGluZm9cXHJcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXHJcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXHJcXG5cXHJcXG4vLyBUaW50XFxyXFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXHJcXG5cXHJcXG4vLyBvbiAyRCBhcHBsaWNhdGlvbnMgZndpZHRoIGlzIHNjcmVlblNjYWxlIC8gZ2x5cGhBdGxhc1NjYWxlICogZGlzdGFuY2VGaWVsZFJhbmdlXFxyXFxudW5pZm9ybSBmbG9hdCB1RldpZHRoO1xcclxcblxcclxcbnZvaWQgbWFpbih2b2lkKSB7XFxyXFxuXFxyXFxuICAvLyBUbyBzdGFjayBNU0RGIGFuZCBTREYgd2UgbmVlZCBhIG5vbi1wcmUtbXVsdGlwbGllZC1hbHBoYSB0ZXh0dXJlLlxcclxcbiAgdmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxyXFxuXFxyXFxuICAvLyBNU0RGXFxyXFxuICBmbG9hdCBtZWRpYW4gPSB0ZXhDb2xvci5yICsgdGV4Q29sb3IuZyArIHRleENvbG9yLmIgLVxcclxcbiAgICAgICAgICAgICAgICAgIG1pbih0ZXhDb2xvci5yLCBtaW4odGV4Q29sb3IuZywgdGV4Q29sb3IuYikpIC1cXHJcXG4gICAgICAgICAgICAgICAgICBtYXgodGV4Q29sb3IuciwgbWF4KHRleENvbG9yLmcsIHRleENvbG9yLmIpKTtcXHJcXG4gIC8vIFNERlxcclxcbiAgbWVkaWFuID0gbWluKG1lZGlhbiwgdGV4Q29sb3IuYSk7XFxyXFxuXFxyXFxuICBmbG9hdCBzY3JlZW5QeERpc3RhbmNlID0gdUZXaWR0aCAqIChtZWRpYW4gLSAwLjUpO1xcclxcbiAgZmxvYXQgYWxwaGEgPSBjbGFtcChzY3JlZW5QeERpc3RhbmNlICsgMC41LCAwLjAsIDEuMCk7XFxyXFxuICBpZiAobWVkaWFuIDwgMC4wMSkge1xcclxcbiAgICBhbHBoYSA9IDAuMDtcXHJcXG4gIH0gZWxzZSBpZiAobWVkaWFuID4gMC45OSkge1xcclxcbiAgICBhbHBoYSA9IDEuMDtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC8vIEdhbW1hIGNvcnJlY3Rpb24gZm9yIGNvdmVyYWdlLWxpa2UgYWxwaGFcXHJcXG4gIGZsb2F0IGx1bWEgPSBkb3QodUNvbG9yLnJnYiwgdmVjMygwLjI5OSwgMC41ODcsIDAuMTE0KSk7XFxyXFxuICBmbG9hdCBnYW1tYSA9IG1peCgxLjAsIDEuMCAvIDIuMiwgbHVtYSk7XFxyXFxuICBmbG9hdCBjb3ZlcmFnZSA9IHBvdyh1Q29sb3IuYSAqIGFscGhhLCBnYW1tYSk7ICBcXHJcXG5cXHJcXG4gIC8vIE5QTSBUZXh0dXJlcywgTlBNIG91dHB1dHNcXHJcXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQodUNvbG9yLnJnYiwgY292ZXJhZ2UpO1xcclxcbn1cXHJcXG5cIjtcblxuZXhwb3J0IHsgbXNkZkZyYWcgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXNkZi5tanMubWFwXG4iLCJ2YXIgbXNkZlZlcnQgPSBcIi8vIE1lc2ggbWF0ZXJpYWwgZGVmYXVsdCBmcmFnbWVudFxcclxcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXHJcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcclxcblxcclxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcclxcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXHJcXG51bmlmb3JtIG1hdDMgdVRleHR1cmVNYXRyaXg7XFxyXFxuXFxyXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxyXFxuXFxyXFxudm9pZCBtYWluKHZvaWQpXFxyXFxue1xcclxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcclxcblxcclxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUZXh0dXJlTWF0cml4ICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXHJcXG59XFxyXFxuXCI7XG5cbmV4cG9ydCB7IG1zZGZWZXJ0IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1zZGYyLm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBnZW5lcmF0ZUZpbGxTdHlsZSB9IGZyb20gJy4vZ2VuZXJhdGVGaWxsU3R5bGUubWpzJztcblxuZnVuY3Rpb24gZHJhd0dseXBoKGNhbnZhcywgY29udGV4dCwgbWV0cmljcywgeCwgeSwgcmVzb2x1dGlvbiwgc3R5bGUpIHtcbiAgY29uc3QgY2hhciA9IG1ldHJpY3MudGV4dDtcbiAgY29uc3QgZm9udFByb3BlcnRpZXMgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzO1xuICBjb250ZXh0LnRyYW5zbGF0ZSh4LCB5KTtcbiAgY29udGV4dC5zY2FsZShyZXNvbHV0aW9uLCByZXNvbHV0aW9uKTtcbiAgY29uc3QgdHggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICBjb25zdCB0eSA9IC0oc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMik7XG4gIGNvbnRleHQuZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcbiAgY29udGV4dC5maWxsU3R5bGUgPSBnZW5lcmF0ZUZpbGxTdHlsZShjYW52YXMsIGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBbY2hhcl0sIG1ldHJpY3MpO1xuICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICBpZiAoc3R5bGUuZHJvcFNoYWRvdykge1xuICAgIGNvbnN0IGRyb3BTaGFkb3dDb2xvciA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICBjb25zdCBkcm9wU2hhZG93Qmx1ciA9IHN0eWxlLmRyb3BTaGFkb3dCbHVyICogcmVzb2x1dGlvbjtcbiAgICBjb25zdCBkcm9wU2hhZG93RGlzdGFuY2UgPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgKiByZXNvbHV0aW9uO1xuICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBDb2xvci5zaGFyZWQuc2V0VmFsdWUoZHJvcFNoYWRvd0NvbG9yKS5zZXRBbHBoYShzdHlsZS5kcm9wU2hhZG93QWxwaGEpLnRvUmdiYVN0cmluZygpO1xuICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gTWF0aC5zaW4oc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIGRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgfSBlbHNlIHtcbiAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gXCJibGFja1wiO1xuICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDA7XG4gICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAwO1xuICB9XG4gIGlmIChzdHlsZS5zdHJva2UgJiYgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgY29udGV4dC5zdHJva2VUZXh0KGNoYXIsIHR4LCB0eSArIG1ldHJpY3MubGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQpO1xuICB9XG4gIGlmIChzdHlsZS5maWxsKSB7XG4gICAgY29udGV4dC5maWxsVGV4dChjaGFyLCB0eCwgdHkgKyBtZXRyaWNzLmxpbmVIZWlnaHQgLSBmb250UHJvcGVydGllcy5kZXNjZW50KTtcbiAgfVxuICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgY29udGV4dC5maWxsU3R5bGUgPSBcInJnYmEoMCwgMCwgMCwgMClcIjtcbn1cblxuZXhwb3J0IHsgZHJhd0dseXBoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kcmF3R2x5cGgubWpzLm1hcFxuIiwiZnVuY3Rpb24gZXh0cmFjdENoYXJDb2RlKHN0cikge1xuICByZXR1cm4gc3RyLmNvZGVQb2ludEF0ID8gc3RyLmNvZGVQb2ludEF0KDApIDogc3RyLmNoYXJDb2RlQXQoMCk7XG59XG5cbmV4cG9ydCB7IGV4dHJhY3RDaGFyQ29kZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0cmFjdENoYXJDb2RlLm1qcy5tYXBcbiIsImltcG9ydCB7IFRFWFRfR1JBRElFTlQgfSBmcm9tICdAcGl4aS90ZXh0JztcblxuZnVuY3Rpb24gZ2VuZXJhdGVGaWxsU3R5bGUoY2FudmFzLCBjb250ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgbGluZXMsIG1ldHJpY3MpIHtcbiAgY29uc3QgZmlsbFN0eWxlID0gc3R5bGUuZmlsbDtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGZpbGxTdHlsZSkpIHtcbiAgICByZXR1cm4gZmlsbFN0eWxlO1xuICB9IGVsc2UgaWYgKGZpbGxTdHlsZS5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gZmlsbFN0eWxlWzBdO1xuICB9XG4gIGxldCBncmFkaWVudDtcbiAgY29uc3QgZHJvcFNoYWRvd0NvcnJlY3Rpb24gPSBzdHlsZS5kcm9wU2hhZG93ID8gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlIDogMDtcbiAgY29uc3QgcGFkZGluZyA9IHN0eWxlLnBhZGRpbmcgfHwgMDtcbiAgY29uc3Qgd2lkdGggPSBjYW52YXMud2lkdGggLyByZXNvbHV0aW9uIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSBwYWRkaW5nICogMjtcbiAgY29uc3QgaGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIHJlc29sdXRpb24gLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIHBhZGRpbmcgKiAyO1xuICBjb25zdCBmaWxsID0gZmlsbFN0eWxlLnNsaWNlKCk7XG4gIGNvbnN0IGZpbGxHcmFkaWVudFN0b3BzID0gc3R5bGUuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtcbiAgaWYgKCFmaWxsR3JhZGllbnRTdG9wcy5sZW5ndGgpIHtcbiAgICBjb25zdCBsZW5ndGhQbHVzMSA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpIHtcbiAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICB9XG4gIH1cbiAgZmlsbC51bnNoaWZ0KGZpbGxTdHlsZVswXSk7XG4gIGZpbGxHcmFkaWVudFN0b3BzLnVuc2hpZnQoMCk7XG4gIGZpbGwucHVzaChmaWxsU3R5bGVbZmlsbFN0eWxlLmxlbmd0aCAtIDFdKTtcbiAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcbiAgaWYgKHN0eWxlLmZpbGxHcmFkaWVudFR5cGUgPT09IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKSB7XG4gICAgZ3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgcGFkZGluZywgd2lkdGggLyAyLCBoZWlnaHQgKyBwYWRkaW5nKTtcbiAgICBsZXQgbGFzdEl0ZXJhdGlvblN0b3AgPSAwO1xuICAgIGNvbnN0IHRleHRIZWlnaHQgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgIGNvbnN0IGdyYWRTdG9wTGluZUhlaWdodCA9IHRleHRIZWlnaHQgLyBoZWlnaHQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdGhpc0xpbmVUb3AgPSBtZXRyaWNzLmxpbmVIZWlnaHQgKiBpO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBsaW5lU3RvcCA9IDA7XG4gICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICBsaW5lU3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2pdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpbmVTdG9wID0gaiAvIGZpbGwubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdsb2JhbFN0b3AgPSB0aGlzTGluZVRvcCAvIGhlaWdodCArIGxpbmVTdG9wICogZ3JhZFN0b3BMaW5lSGVpZ2h0O1xuICAgICAgICBsZXQgY2xhbXBlZFN0b3AgPSBNYXRoLm1heChsYXN0SXRlcmF0aW9uU3RvcCwgZ2xvYmFsU3RvcCk7XG4gICAgICAgIGNsYW1wZWRTdG9wID0gTWF0aC5taW4oY2xhbXBlZFN0b3AsIDEpO1xuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoY2xhbXBlZFN0b3AsIGZpbGxbal0pO1xuICAgICAgICBsYXN0SXRlcmF0aW9uU3RvcCA9IGNsYW1wZWRTdG9wO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBncmFkaWVudCA9IGNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQocGFkZGluZywgaGVpZ2h0IC8gMiwgd2lkdGggKyBwYWRkaW5nLCBoZWlnaHQgLyAyKTtcbiAgICBjb25zdCB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgbGV0IGN1cnJlbnRJdGVyYXRpb24gPSAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsbC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHN0b3A7XG4gICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2ldID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgfVxuICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3AsIGZpbGxbaV0pO1xuICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZ3JhZGllbnQ7XG59XG5cbmV4cG9ydCB7IGdlbmVyYXRlRmlsbFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZUZpbGxTdHlsZS5tanMubWFwXG4iLCJleHBvcnQgeyBkcmF3R2x5cGggfSBmcm9tICcuL2RyYXdHbHlwaC5tanMnO1xuZXhwb3J0IHsgZXh0cmFjdENoYXJDb2RlIH0gZnJvbSAnLi9leHRyYWN0Q2hhckNvZGUubWpzJztcbmV4cG9ydCB7IGdlbmVyYXRlRmlsbFN0eWxlIH0gZnJvbSAnLi9nZW5lcmF0ZUZpbGxTdHlsZS5tanMnO1xuZXhwb3J0IHsgcmVzb2x2ZUNoYXJhY3RlcnMgfSBmcm9tICcuL3Jlc29sdmVDaGFyYWN0ZXJzLm1qcyc7XG5leHBvcnQgeyBzcGxpdFRleHRUb0NoYXJhY3RlcnMgfSBmcm9tICcuL3NwbGl0VGV4dFRvQ2hhcmFjdGVycy5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgc3BsaXRUZXh0VG9DaGFyYWN0ZXJzIH0gZnJvbSAnLi9zcGxpdFRleHRUb0NoYXJhY3RlcnMubWpzJztcblxuZnVuY3Rpb24gcmVzb2x2ZUNoYXJhY3RlcnMoY2hhcnMpIHtcbiAgaWYgKHR5cGVvZiBjaGFycyA9PT0gXCJzdHJpbmdcIikge1xuICAgIGNoYXJzID0gW2NoYXJzXTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSBjaGFycy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBjb25zdCBpdGVtID0gY2hhcnNbaV07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgIGlmIChpdGVtLmxlbmd0aCAhPT0gMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtCaXRtYXBGb250XTogSW52YWxpZCBjaGFyYWN0ZXIgcmFuZ2UgbGVuZ3RoLCBleHBlY3RpbmcgMiBnb3QgJHtpdGVtLmxlbmd0aH0uYCk7XG4gICAgICB9XG4gICAgICBjb25zdCBzdGFydENvZGUgPSBpdGVtWzBdLmNoYXJDb2RlQXQoMCk7XG4gICAgICBjb25zdCBlbmRDb2RlID0gaXRlbVsxXS5jaGFyQ29kZUF0KDApO1xuICAgICAgaWYgKGVuZENvZGUgPCBzdGFydENvZGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW0JpdG1hcEZvbnRdOiBJbnZhbGlkIGNoYXJhY3RlciByYW5nZS5cIik7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpMiA9IHN0YXJ0Q29kZSwgajIgPSBlbmRDb2RlOyBpMiA8PSBqMjsgaTIrKykge1xuICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGkyKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wdXNoKC4uLnNwbGl0VGV4dFRvQ2hhcmFjdGVycyhpdGVtKSk7XG4gICAgfVxuICB9XG4gIGlmIChyZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiW0JpdG1hcEZvbnRdOiBFbXB0eSBzZXQgd2hlbiByZXNvbHZpbmcgY2hhcmFjdGVycy5cIik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHsgcmVzb2x2ZUNoYXJhY3RlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmVDaGFyYWN0ZXJzLm1qcy5tYXBcbiIsImZ1bmN0aW9uIHNwbGl0VGV4dFRvQ2hhcmFjdGVycyh0ZXh0KSB7XG4gIHJldHVybiBBcnJheS5mcm9tID8gQXJyYXkuZnJvbSh0ZXh0KSA6IHRleHQuc3BsaXQoXCJcIik7XG59XG5cbmV4cG9ydCB7IHNwbGl0VGV4dFRvQ2hhcmFjdGVycyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3BsaXRUZXh0VG9DaGFyYWN0ZXJzLm1qcy5tYXBcbiIsImltcG9ydCB7IFRleHR1cmUsIHNldHRpbmdzLCBSZWN0YW5nbGUsIHV0aWxzIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgVGV4dFN0eWxlIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5pbXBvcnQgeyBIVE1MVGV4dFN0eWxlIH0gZnJvbSAnLi9IVE1MVGV4dFN0eWxlLm1qcyc7XG5cbmNvbnN0IF9IVE1MVGV4dCA9IGNsYXNzIGV4dGVuZHMgU3ByaXRlIHtcbiAgY29uc3RydWN0b3IodGV4dCA9IFwiXCIsIHN0eWxlID0ge30pIHtcbiAgICBzdXBlcihUZXh0dXJlLkVNUFRZKTtcbiAgICB0aGlzLl90ZXh0ID0gbnVsbDtcbiAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgdGhpcy5fYXV0b1Jlc29sdXRpb24gPSB0cnVlO1xuICAgIHRoaXMuX2xvYWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB0aGlzLm93bnNTdHlsZSA9IGZhbHNlO1xuICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgY29uc3QgdGV4dHVyZSA9IFRleHR1cmUuZnJvbShpbWFnZSwge1xuICAgICAgc2NhbGVNb2RlOiBzZXR0aW5ncy5TQ0FMRV9NT0RFLFxuICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgIGF1dG9Mb2FkOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRleHR1cmUub3JpZyA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB0ZXh0dXJlLnRyaW0gPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICBjb25zdCBuc3N2ZyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbiAgICBjb25zdCBuc3hodG1sID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI7XG4gICAgY29uc3Qgc3ZnUm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuc3N2ZywgXCJzdmdcIik7XG4gICAgY29uc3QgZm9yZWlnbk9iamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuc3N2ZywgXCJmb3JlaWduT2JqZWN0XCIpO1xuICAgIGNvbnN0IGRvbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnN4aHRtbCwgXCJkaXZcIik7XG4gICAgY29uc3Qgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zeGh0bWwsIFwic3R5bGVcIik7XG4gICAgZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBcIjEwMDAwXCIpO1xuICAgIGZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIFwiMTAwMDBcIik7XG4gICAgZm9yZWlnbk9iamVjdC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgc3ZnUm9vdC5hcHBlbmRDaGlsZChmb3JlaWduT2JqZWN0KTtcbiAgICB0aGlzLm1heFdpZHRoID0gX0hUTUxUZXh0LmRlZmF1bHRNYXhXaWR0aDtcbiAgICB0aGlzLm1heEhlaWdodCA9IF9IVE1MVGV4dC5kZWZhdWx0TWF4SGVpZ2h0O1xuICAgIHRoaXMuX2RvbUVsZW1lbnQgPSBkb21FbGVtZW50O1xuICAgIHRoaXMuX3N0eWxlRWxlbWVudCA9IHN0eWxlRWxlbWVudDtcbiAgICB0aGlzLl9zdmdSb290ID0gc3ZnUm9vdDtcbiAgICB0aGlzLl9mb3JlaWduT2JqZWN0ID0gZm9yZWlnbk9iamVjdDtcbiAgICB0aGlzLl9mb3JlaWduT2JqZWN0LmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG4gICAgdGhpcy5fZm9yZWlnbk9iamVjdC5hcHBlbmRDaGlsZChkb21FbGVtZW50KTtcbiAgICB0aGlzLl9pbWFnZSA9IGltYWdlO1xuICAgIHRoaXMuX2xvYWRJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuX2F1dG9SZXNvbHV0aW9uID0gX0hUTUxUZXh0LmRlZmF1bHRBdXRvUmVzb2x1dGlvbjtcbiAgICB0aGlzLl9yZXNvbHV0aW9uID0gX0hUTUxUZXh0LmRlZmF1bHRSZXNvbHV0aW9uID8/IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gIH1cbiAgbWVhc3VyZVRleHQob3ZlcnJpZGVzKSB7XG4gICAgY29uc3QgeyB0ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiB9ID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICB0ZXh0OiB0aGlzLl90ZXh0LFxuICAgICAgc3R5bGU6IHRoaXMuX3N0eWxlLFxuICAgICAgcmVzb2x1dGlvbjogdGhpcy5fcmVzb2x1dGlvblxuICAgIH0sIG92ZXJyaWRlcyk7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLl9kb21FbGVtZW50LCB7XG4gICAgICBpbm5lckhUTUw6IHRleHQsXG4gICAgICBzdHlsZTogc3R5bGUudG9DU1MocmVzb2x1dGlvbilcbiAgICB9KTtcbiAgICB0aGlzLl9zdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBzdHlsZS50b0dsb2JhbENTUygpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fc3ZnUm9vdCk7XG4gICAgY29uc3QgY29udGVudEJvdW5kcyA9IHRoaXMuX2RvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdGhpcy5fc3ZnUm9vdC5yZW1vdmUoKTtcbiAgICBjb25zdCBjb250ZW50V2lkdGggPSBNYXRoLm1pbih0aGlzLm1heFdpZHRoLCBNYXRoLmNlaWwoY29udGVudEJvdW5kcy53aWR0aCkpO1xuICAgIGNvbnN0IGNvbnRlbnRIZWlnaHQgPSBNYXRoLm1pbih0aGlzLm1heEhlaWdodCwgTWF0aC5jZWlsKGNvbnRlbnRCb3VuZHMuaGVpZ2h0KSk7XG4gICAgdGhpcy5fc3ZnUm9vdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBjb250ZW50V2lkdGgudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5fc3ZnUm9vdC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgY29udGVudEhlaWdodC50b1N0cmluZygpKTtcbiAgICBpZiAodGV4dCAhPT0gdGhpcy5fdGV4dCkge1xuICAgICAgdGhpcy5fZG9tRWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLl90ZXh0O1xuICAgIH1cbiAgICBpZiAoc3R5bGUgIT09IHRoaXMuX3N0eWxlKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2RvbUVsZW1lbnQsIHsgc3R5bGU6IHRoaXMuX3N0eWxlPy50b0NTUyhyZXNvbHV0aW9uKSB9KTtcbiAgICAgIHRoaXMuX3N0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX3N0eWxlPy50b0dsb2JhbENTUygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IGNvbnRlbnRXaWR0aCArIHN0eWxlLnBhZGRpbmcgKiAyLFxuICAgICAgaGVpZ2h0OiBjb250ZW50SGVpZ2h0ICsgc3R5bGUucGFkZGluZyAqIDJcbiAgICB9O1xuICB9XG4gIGFzeW5jIHVwZGF0ZVRleHQocmVzcGVjdERpcnR5ID0gdHJ1ZSkge1xuICAgIGNvbnN0IHsgc3R5bGUsIF9pbWFnZTogaW1hZ2UsIF9sb2FkSW1hZ2U6IGxvYWRJbWFnZSB9ID0gdGhpcztcbiAgICBpZiAodGhpcy5sb2NhbFN0eWxlSUQgIT09IHN0eWxlLnN0eWxlSUQpIHtcbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSBzdHlsZS5zdHlsZUlEO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuZGlydHkgJiYgcmVzcGVjdERpcnR5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5tZWFzdXJlVGV4dCgpO1xuICAgIGltYWdlLndpZHRoID0gbG9hZEltYWdlLndpZHRoID0gTWF0aC5jZWlsKE1hdGgubWF4KDEsIHdpZHRoKSk7XG4gICAgaW1hZ2UuaGVpZ2h0ID0gbG9hZEltYWdlLmhlaWdodCA9IE1hdGguY2VpbChNYXRoLm1heCgxLCBoZWlnaHQpKTtcbiAgICBpZiAoIXRoaXMuX2xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX2xvYWRpbmcgPSB0cnVlO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgbG9hZEltYWdlLm9ubG9hZCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCBzdHlsZS5vbkJlZm9yZURyYXcoKTtcbiAgICAgICAgICB0aGlzLl9sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgaW1hZ2Uuc3JjID0gbG9hZEltYWdlLnNyYztcbiAgICAgICAgICBsb2FkSW1hZ2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICBsb2FkSW1hZ2Uuc3JjID0gXCJcIjtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN2Z1VSTCA9IG5ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcodGhpcy5fc3ZnUm9vdCk7XG4gICAgICAgIGxvYWRJbWFnZS5zcmMgPSBgZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmOCwke2VuY29kZVVSSUNvbXBvbmVudChzdmdVUkwpfWA7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZ2V0IHNvdXJjZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faW1hZ2U7XG4gIH1cbiAgdXBkYXRlVGV4dHVyZSgpIHtcbiAgICBjb25zdCB7IHN0eWxlLCB0ZXh0dXJlLCBfaW1hZ2U6IGltYWdlLCByZXNvbHV0aW9uIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgcGFkZGluZyB9ID0gc3R5bGU7XG4gICAgY29uc3QgeyBiYXNlVGV4dHVyZSB9ID0gdGV4dHVyZTtcbiAgICB0ZXh0dXJlLnRyaW0ud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCA9IGltYWdlLndpZHRoIC8gcmVzb2x1dGlvbjtcbiAgICB0ZXh0dXJlLnRyaW0uaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0IC8gcmVzb2x1dGlvbjtcbiAgICB0ZXh0dXJlLnRyaW0ueCA9IC1wYWRkaW5nO1xuICAgIHRleHR1cmUudHJpbS55ID0gLXBhZGRpbmc7XG4gICAgdGV4dHVyZS5vcmlnLndpZHRoID0gdGV4dHVyZS5fZnJhbWUud2lkdGggLSBwYWRkaW5nICogMjtcbiAgICB0ZXh0dXJlLm9yaWcuaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0IC0gcGFkZGluZyAqIDI7XG4gICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG4gICAgYmFzZVRleHR1cmUuc2V0UmVhbFNpemUoaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICB9XG4gIF9yZW5kZXIocmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5fYXV0b1Jlc29sdXRpb24gJiYgdGhpcy5fcmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbikge1xuICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgIHN1cGVyLl9yZW5kZXIocmVuZGVyZXIpO1xuICB9XG4gIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5fYXV0b1Jlc29sdXRpb24gJiYgdGhpcy5fcmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbikge1xuICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgIHN1cGVyLl9yZW5kZXJDYW52YXMocmVuZGVyZXIpO1xuICB9XG4gIGdldExvY2FsQm91bmRzKHJlY3QpIHtcbiAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgcmV0dXJuIHN1cGVyLmdldExvY2FsQm91bmRzKHJlY3QpO1xuICB9XG4gIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICB9XG4gIF9vblN0eWxlQ2hhbmdlKCkge1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICB9XG4gIGRlc3Ryb3kob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIG9wdGlvbnMgPSB7IGNoaWxkcmVuOiBvcHRpb25zIH07XG4gICAgfVxuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBfSFRNTFRleHQuZGVmYXVsdERlc3Ryb3lPcHRpb25zLCBvcHRpb25zKTtcbiAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuICAgIGNvbnN0IGZvcmNlQ2xlYXIgPSBudWxsO1xuICAgIGlmICh0aGlzLm93bnNTdHlsZSkge1xuICAgICAgdGhpcy5fc3R5bGU/LmNsZWFuRm9udHMoKTtcbiAgICB9XG4gICAgdGhpcy5fc3R5bGUgPSBmb3JjZUNsZWFyO1xuICAgIHRoaXMuX3N2Z1Jvb3Q/LnJlbW92ZSgpO1xuICAgIHRoaXMuX3N2Z1Jvb3QgPSBmb3JjZUNsZWFyO1xuICAgIHRoaXMuX2RvbUVsZW1lbnQ/LnJlbW92ZSgpO1xuICAgIHRoaXMuX2RvbUVsZW1lbnQgPSBmb3JjZUNsZWFyO1xuICAgIHRoaXMuX2ZvcmVpZ25PYmplY3Q/LnJlbW92ZSgpO1xuICAgIHRoaXMuX2ZvcmVpZ25PYmplY3QgPSBmb3JjZUNsZWFyO1xuICAgIHRoaXMuX3N0eWxlRWxlbWVudD8ucmVtb3ZlKCk7XG4gICAgdGhpcy5fc3R5bGVFbGVtZW50ID0gZm9yY2VDbGVhcjtcbiAgICB0aGlzLl9sb2FkSW1hZ2Uuc3JjID0gXCJcIjtcbiAgICB0aGlzLl9sb2FkSW1hZ2Uub25sb2FkID0gbnVsbDtcbiAgICB0aGlzLl9sb2FkSW1hZ2UgPSBmb3JjZUNsZWFyO1xuICAgIHRoaXMuX2ltYWdlLnNyYyA9IFwiXCI7XG4gICAgdGhpcy5faW1hZ2UgPSBmb3JjZUNsZWFyO1xuICB9XG4gIGdldCB3aWR0aCgpIHtcbiAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueCkgKiB0aGlzLl9pbWFnZS53aWR0aCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgfVxuICBzZXQgd2lkdGgodmFsdWUpIHtcbiAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgY29uc3QgcyA9IHV0aWxzLnNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX2ltYWdlLndpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gIH1cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl9pbWFnZS5oZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG4gIH1cbiAgc2V0IGhlaWdodCh2YWx1ZSkge1xuICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICBjb25zdCBzID0gdXRpbHMuc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG4gICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5faW1hZ2UuaGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICB9XG4gIGdldCBzdHlsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gIH1cbiAgc2V0IHN0eWxlKHN0eWxlKSB7XG4gICAgaWYgKHRoaXMuX3N0eWxlID09PSBzdHlsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuICAgIGlmIChzdHlsZSBpbnN0YW5jZW9mIEhUTUxUZXh0U3R5bGUpIHtcbiAgICAgIHRoaXMub3duc1N0eWxlID0gZmFsc2U7XG4gICAgICB0aGlzLl9zdHlsZSA9IHN0eWxlO1xuICAgIH0gZWxzZSBpZiAoc3R5bGUgaW5zdGFuY2VvZiBUZXh0U3R5bGUpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIltIVE1MVGV4dF0gQ2xvbmluZyBUZXh0U3R5bGUsIGlmIHRoaXMgaXMgbm90IHdoYXQgeW91IHdhbnQsIHVzZSBIVE1MVGV4dFN0eWxlXCIpO1xuICAgICAgdGhpcy5vd25zU3R5bGUgPSB0cnVlO1xuICAgICAgdGhpcy5fc3R5bGUgPSBIVE1MVGV4dFN0eWxlLmZyb20oc3R5bGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm93bnNTdHlsZSA9IHRydWU7XG4gICAgICB0aGlzLl9zdHlsZSA9IG5ldyBIVE1MVGV4dFN0eWxlKHN0eWxlKTtcbiAgICB9XG4gICAgdGhpcy5sb2NhbFN0eWxlSUQgPSAtMTtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfVxuICBnZXQgdGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgfVxuICBzZXQgdGV4dCh0ZXh0KSB7XG4gICAgdGV4dCA9IFN0cmluZyh0ZXh0ID09PSBcIlwiIHx8IHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdm9pZCAwID8gXCIgXCIgOiB0ZXh0KTtcbiAgICB0ZXh0ID0gdGhpcy5zYW5pdGlzZVRleHQodGV4dCk7XG4gICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gIH1cbiAgZ2V0IHJlc29sdXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jlc29sdXRpb247XG4gIH1cbiAgc2V0IHJlc29sdXRpb24odmFsdWUpIHtcbiAgICB0aGlzLl9hdXRvUmVzb2x1dGlvbiA9IGZhbHNlO1xuICAgIGlmICh0aGlzLl9yZXNvbHV0aW9uID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9yZXNvbHV0aW9uID0gdmFsdWU7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gIH1cbiAgc2FuaXRpc2VUZXh0KHRleHQpIHtcbiAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC88YnI+L2dpLCBcIjxici8+XCIpLnJlcGxhY2UoLzxocj4vZ2ksIFwiPGhyLz5cIikucmVwbGFjZSgvJm5ic3A7L2dpLCBcIiYjMTYwO1wiKTtcbiAgfVxufTtcbmxldCBIVE1MVGV4dCA9IF9IVE1MVGV4dDtcbkhUTUxUZXh0LmRlZmF1bHREZXN0cm95T3B0aW9ucyA9IHtcbiAgdGV4dHVyZTogdHJ1ZSxcbiAgY2hpbGRyZW46IGZhbHNlLFxuICBiYXNlVGV4dHVyZTogdHJ1ZVxufTtcbkhUTUxUZXh0LmRlZmF1bHRNYXhXaWR0aCA9IDIwMjQ7XG5IVE1MVGV4dC5kZWZhdWx0TWF4SGVpZ2h0ID0gMjAyNDtcbkhUTUxUZXh0LmRlZmF1bHRBdXRvUmVzb2x1dGlvbiA9IHRydWU7XG5cbmV4cG9ydCB7IEhUTUxUZXh0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IVE1MVGV4dC5tanMubWFwXG4iLCJpbXBvcnQgeyBzZXR0aW5ncywgdXRpbHMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFRleHRTdHlsZSB9IGZyb20gJ0BwaXhpL3RleHQnO1xuXG5jb25zdCBfSFRNTFRleHRTdHlsZSA9IGNsYXNzIGV4dGVuZHMgVGV4dFN0eWxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLl9mb250cyA9IFtdO1xuICAgIHRoaXMuX292ZXJyaWRlcyA9IFtdO1xuICAgIHRoaXMuX3N0eWxlc2hlZXQgPSBcIlwiO1xuICAgIHRoaXMuZm9udHNEaXJ0eSA9IGZhbHNlO1xuICB9XG4gIHN0YXRpYyBmcm9tKG9yaWdpbmFsU3R5bGUpIHtcbiAgICByZXR1cm4gbmV3IF9IVE1MVGV4dFN0eWxlKE9iamVjdC5rZXlzKF9IVE1MVGV4dFN0eWxlLmRlZmF1bHRPcHRpb25zKS5yZWR1Y2UoKG9iaiwgcHJvcCkgPT4gKHsgLi4ub2JqLCBbcHJvcF06IG9yaWdpbmFsU3R5bGVbcHJvcF0gfSksIHt9KSk7XG4gIH1cbiAgY2xlYW5Gb250cygpIHtcbiAgICBpZiAodGhpcy5fZm9udHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5fZm9udHMuZm9yRWFjaCgoZm9udCkgPT4ge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGZvbnQuc3JjKTtcbiAgICAgICAgZm9udC5yZWZzLS07XG4gICAgICAgIGlmIChmb250LnJlZnMgPT09IDApIHtcbiAgICAgICAgICBpZiAoZm9udC5mb250RmFjZSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMuZGVsZXRlKGZvbnQuZm9udEZhY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgX0hUTUxUZXh0U3R5bGUuYXZhaWxhYmxlRm9udHNbZm9udC5vcmlnaW5hbFVybF07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5mb250RmFtaWx5ID0gXCJBcmlhbFwiO1xuICAgICAgdGhpcy5fZm9udHMubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgdGhpcy5mb250c0RpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgbG9hZEZvbnQodXJsLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7IGF2YWlsYWJsZUZvbnRzIH0gPSBfSFRNTFRleHRTdHlsZTtcbiAgICBpZiAoYXZhaWxhYmxlRm9udHNbdXJsXSkge1xuICAgICAgY29uc3QgZm9udCA9IGF2YWlsYWJsZUZvbnRzW3VybF07XG4gICAgICB0aGlzLl9mb250cy5wdXNoKGZvbnQpO1xuICAgICAgZm9udC5yZWZzKys7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgIHRoaXMuZm9udHNEaXJ0eSA9IHRydWU7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJldHVybiBzZXR0aW5ncy5BREFQVEVSLmZldGNoKHVybCkudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmJsb2IoKSkudGhlbihhc3luYyAoYmxvYikgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3Qgc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICByZWFkZXIub25sb2FkID0gKCkgPT4gcmVzb2x2ZShbc3JjLCByZWFkZXIucmVzdWx0XSk7XG4gICAgICByZWFkZXIub25lcnJvciA9IHJlamVjdDtcbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICAgIH0pKS50aGVuKGFzeW5jIChbc3JjLCBkYXRhU3JjXSkgPT4ge1xuICAgICAgY29uc3QgZm9udCA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBmYW1pbHk6IHV0aWxzLnBhdGguYmFzZW5hbWUodXJsLCB1dGlscy5wYXRoLmV4dG5hbWUodXJsKSksXG4gICAgICAgIHdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgc3R5bGU6IFwibm9ybWFsXCIsXG4gICAgICAgIHNyYyxcbiAgICAgICAgZGF0YVNyYyxcbiAgICAgICAgcmVmczogMSxcbiAgICAgICAgb3JpZ2luYWxVcmw6IHVybCxcbiAgICAgICAgZm9udEZhY2U6IG51bGxcbiAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgYXZhaWxhYmxlRm9udHNbdXJsXSA9IGZvbnQ7XG4gICAgICB0aGlzLl9mb250cy5wdXNoKGZvbnQpO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICBjb25zdCBmb250RmFjZSA9IG5ldyBGb250RmFjZShmb250LmZhbWlseSwgYHVybCgke2ZvbnQuc3JjfSlgLCB7XG4gICAgICAgIHdlaWdodDogZm9udC53ZWlnaHQsXG4gICAgICAgIHN0eWxlOiBmb250LnN0eWxlXG4gICAgICB9KTtcbiAgICAgIGZvbnQuZm9udEZhY2UgPSBmb250RmFjZTtcbiAgICAgIGF3YWl0IGZvbnRGYWNlLmxvYWQoKTtcbiAgICAgIGRvY3VtZW50LmZvbnRzLmFkZChmb250RmFjZSk7XG4gICAgICBhd2FpdCBkb2N1bWVudC5mb250cy5yZWFkeTtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgdGhpcy5mb250c0RpcnR5ID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICBhZGRPdmVycmlkZSguLi52YWx1ZSkge1xuICAgIGNvbnN0IHRvQWRkID0gdmFsdWUuZmlsdGVyKCh2KSA9PiAhdGhpcy5fb3ZlcnJpZGVzLmluY2x1ZGVzKHYpKTtcbiAgICBpZiAodG9BZGQubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5fb3ZlcnJpZGVzLnB1c2goLi4udG9BZGQpO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIHJlbW92ZU92ZXJyaWRlKC4uLnZhbHVlKSB7XG4gICAgY29uc3QgdG9SZW1vdmUgPSB2YWx1ZS5maWx0ZXIoKHYpID0+IHRoaXMuX292ZXJyaWRlcy5pbmNsdWRlcyh2KSk7XG4gICAgaWYgKHRvUmVtb3ZlLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuX292ZXJyaWRlcyA9IHRoaXMuX292ZXJyaWRlcy5maWx0ZXIoKHYpID0+ICF0b1JlbW92ZS5pbmNsdWRlcyh2KSk7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgdG9DU1Moc2NhbGUpIHtcbiAgICByZXR1cm4gW1xuICAgICAgYHRyYW5zZm9ybTogc2NhbGUoJHtzY2FsZX0pYCxcbiAgICAgIGB0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdGAsXG4gICAgICBcImRpc3BsYXk6IGlubGluZS1ibG9ja1wiLFxuICAgICAgYGNvbG9yOiAke3RoaXMubm9ybWFsaXplQ29sb3IodGhpcy5maWxsKX1gLFxuICAgICAgYGZvbnQtc2l6ZTogJHt0aGlzLmZvbnRTaXplfXB4YCxcbiAgICAgIGBmb250LWZhbWlseTogJHt0aGlzLmZvbnRGYW1pbHl9YCxcbiAgICAgIGBmb250LXdlaWdodDogJHt0aGlzLmZvbnRXZWlnaHR9YCxcbiAgICAgIGBmb250LXN0eWxlOiAke3RoaXMuZm9udFN0eWxlfWAsXG4gICAgICBgZm9udC12YXJpYW50OiAke3RoaXMuZm9udFZhcmlhbnR9YCxcbiAgICAgIGBsZXR0ZXItc3BhY2luZzogJHt0aGlzLmxldHRlclNwYWNpbmd9cHhgLFxuICAgICAgYHRleHQtYWxpZ246ICR7dGhpcy5hbGlnbn1gLFxuICAgICAgYHBhZGRpbmc6ICR7dGhpcy5wYWRkaW5nfXB4YCxcbiAgICAgIGB3aGl0ZS1zcGFjZTogJHt0aGlzLndoaXRlU3BhY2V9YCxcbiAgICAgIC4uLnRoaXMubGluZUhlaWdodCA/IFtgbGluZS1oZWlnaHQ6ICR7dGhpcy5saW5lSGVpZ2h0fXB4YF0gOiBbXSxcbiAgICAgIC4uLnRoaXMud29yZFdyYXAgPyBbXG4gICAgICAgIGB3b3JkLXdyYXA6ICR7dGhpcy5icmVha1dvcmRzID8gXCJicmVhay1hbGxcIiA6IFwiYnJlYWstd29yZFwifWAsXG4gICAgICAgIGBtYXgtd2lkdGg6ICR7dGhpcy53b3JkV3JhcFdpZHRofXB4YFxuICAgICAgXSA6IFtdLFxuICAgICAgLi4udGhpcy5zdHJva2VUaGlja25lc3MgPyBbXG4gICAgICAgIGAtd2Via2l0LXRleHQtc3Ryb2tlLXdpZHRoOiAke3RoaXMuc3Ryb2tlVGhpY2tuZXNzfXB4YCxcbiAgICAgICAgYC13ZWJraXQtdGV4dC1zdHJva2UtY29sb3I6ICR7dGhpcy5ub3JtYWxpemVDb2xvcih0aGlzLnN0cm9rZSl9YCxcbiAgICAgICAgYHRleHQtc3Ryb2tlLXdpZHRoOiAke3RoaXMuc3Ryb2tlVGhpY2tuZXNzfXB4YCxcbiAgICAgICAgYHRleHQtc3Ryb2tlLWNvbG9yOiAke3RoaXMubm9ybWFsaXplQ29sb3IodGhpcy5zdHJva2UpfWAsXG4gICAgICAgIFwicGFpbnQtb3JkZXI6IHN0cm9rZVwiXG4gICAgICBdIDogW10sXG4gICAgICAuLi50aGlzLmRyb3BTaGFkb3cgPyBbdGhpcy5kcm9wU2hhZG93VG9DU1MoKV0gOiBbXSxcbiAgICAgIC4uLnRoaXMuX292ZXJyaWRlc1xuICAgIF0uam9pbihcIjtcIik7XG4gIH1cbiAgdG9HbG9iYWxDU1MoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRzLnJlZHVjZSgocmVzdWx0LCBmb250KSA9PiBgJHtyZXN1bHR9XG4gICAgICAgICAgICBAZm9udC1mYWNlIHtcbiAgICAgICAgICAgICAgICBmb250LWZhbWlseTogXCIke2ZvbnQuZmFtaWx5fVwiO1xuICAgICAgICAgICAgICAgIHNyYzogdXJsKCcke2ZvbnQuZGF0YVNyY30nKTtcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogJHtmb250LndlaWdodH07XG4gICAgICAgICAgICAgICAgZm9udC1zdHlsZTogJHtmb250LnN0eWxlfTsgXG4gICAgICAgICAgICB9YCwgdGhpcy5fc3R5bGVzaGVldCk7XG4gIH1cbiAgZ2V0IHN0eWxlc2hlZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0eWxlc2hlZXQ7XG4gIH1cbiAgc2V0IHN0eWxlc2hlZXQodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fc3R5bGVzaGVldCAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX3N0eWxlc2hlZXQgPSB2YWx1ZTtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBub3JtYWxpemVDb2xvcihjb2xvcikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbG9yKSkge1xuICAgICAgY29sb3IgPSB1dGlscy5yZ2IyaGV4KGNvbG9yKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIHV0aWxzLmhleDJzdHJpbmcoY29sb3IpO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG4gIH1cbiAgZHJvcFNoYWRvd1RvQ1NTKCkge1xuICAgIGxldCBjb2xvciA9IHRoaXMubm9ybWFsaXplQ29sb3IodGhpcy5kcm9wU2hhZG93Q29sb3IpO1xuICAgIGNvbnN0IGFscGhhID0gdGhpcy5kcm9wU2hhZG93QWxwaGE7XG4gICAgY29uc3QgeCA9IE1hdGgucm91bmQoTWF0aC5jb3ModGhpcy5kcm9wU2hhZG93QW5nbGUpICogdGhpcy5kcm9wU2hhZG93RGlzdGFuY2UpO1xuICAgIGNvbnN0IHkgPSBNYXRoLnJvdW5kKE1hdGguc2luKHRoaXMuZHJvcFNoYWRvd0FuZ2xlKSAqIHRoaXMuZHJvcFNoYWRvd0Rpc3RhbmNlKTtcbiAgICBpZiAoY29sb3Iuc3RhcnRzV2l0aChcIiNcIikgJiYgYWxwaGEgPCAxKSB7XG4gICAgICBjb2xvciArPSAoYWxwaGEgKiAyNTUgfCAwKS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpO1xuICAgIH1cbiAgICBjb25zdCBwb3NpdGlvbiA9IGAke3h9cHggJHt5fXB4YDtcbiAgICBpZiAodGhpcy5kcm9wU2hhZG93Qmx1ciA+IDApIHtcbiAgICAgIHJldHVybiBgdGV4dC1zaGFkb3c6ICR7cG9zaXRpb259ICR7dGhpcy5kcm9wU2hhZG93Qmx1cn1weCAke2NvbG9yfWA7XG4gICAgfVxuICAgIHJldHVybiBgdGV4dC1zaGFkb3c6ICR7cG9zaXRpb259ICR7Y29sb3J9YDtcbiAgfVxuICByZXNldCgpIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIF9IVE1MVGV4dFN0eWxlLmRlZmF1bHRPcHRpb25zKTtcbiAgfVxuICBvbkJlZm9yZURyYXcoKSB7XG4gICAgY29uc3QgeyBmb250c0RpcnR5OiBwcmV2Rm9udHNEaXJ0eSB9ID0gdGhpcztcbiAgICB0aGlzLmZvbnRzRGlydHkgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5pc1NhZmFyaSAmJiB0aGlzLl9mb250cy5sZW5ndGggPiAwICYmIHByZXZGb250c0RpcnR5KSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuICBnZXQgaXNTYWZhcmkoKSB7XG4gICAgY29uc3QgeyB1c2VyQWdlbnQgfSA9IHNldHRpbmdzLkFEQVBURVIuZ2V0TmF2aWdhdG9yKCk7XG4gICAgcmV0dXJuIC9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QodXNlckFnZW50KTtcbiAgfVxuICBzZXQgZmlsbEdyYWRpZW50U3RvcHMoX3ZhbHVlKSB7XG4gICAgY29uc29sZS53YXJuKFwiW0hUTUxUZXh0U3R5bGVdIGZpbGxHcmFkaWVudFN0b3BzIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSFRNTFRleHRcIik7XG4gIH1cbiAgZ2V0IGZpbGxHcmFkaWVudFN0b3BzKCkge1xuICAgIHJldHVybiBzdXBlci5maWxsR3JhZGllbnRTdG9wcztcbiAgfVxuICBzZXQgZmlsbEdyYWRpZW50VHlwZShfdmFsdWUpIHtcbiAgICBjb25zb2xlLndhcm4oXCJbSFRNTFRleHRTdHlsZV0gZmlsbEdyYWRpZW50VHlwZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IEhUTUxUZXh0XCIpO1xuICB9XG4gIGdldCBmaWxsR3JhZGllbnRUeXBlKCkge1xuICAgIHJldHVybiBzdXBlci5maWxsR3JhZGllbnRUeXBlO1xuICB9XG4gIHNldCBtaXRlckxpbWl0KF92YWx1ZSkge1xuICAgIGNvbnNvbGUud2FybihcIltIVE1MVGV4dFN0eWxlXSBtaXRlckxpbWl0IGlzIG5vdCBzdXBwb3J0ZWQgYnkgSFRNTFRleHRcIik7XG4gIH1cbiAgZ2V0IG1pdGVyTGltaXQoKSB7XG4gICAgcmV0dXJuIHN1cGVyLm1pdGVyTGltaXQ7XG4gIH1cbiAgc2V0IHRyaW0oX3ZhbHVlKSB7XG4gICAgY29uc29sZS53YXJuKFwiW0hUTUxUZXh0U3R5bGVdIHRyaW0gaXMgbm90IHN1cHBvcnRlZCBieSBIVE1MVGV4dFwiKTtcbiAgfVxuICBnZXQgdHJpbSgpIHtcbiAgICByZXR1cm4gc3VwZXIudHJpbTtcbiAgfVxuICBzZXQgdGV4dEJhc2VsaW5lKF92YWx1ZSkge1xuICAgIGNvbnNvbGUud2FybihcIltIVE1MVGV4dFN0eWxlXSB0ZXh0QmFzZWxpbmUgaXMgbm90IHN1cHBvcnRlZCBieSBIVE1MVGV4dFwiKTtcbiAgfVxuICBnZXQgdGV4dEJhc2VsaW5lKCkge1xuICAgIHJldHVybiBzdXBlci50ZXh0QmFzZWxpbmU7XG4gIH1cbiAgc2V0IGxlYWRpbmcoX3ZhbHVlKSB7XG4gICAgY29uc29sZS53YXJuKFwiW0hUTUxUZXh0U3R5bGVdIGxlYWRpbmcgaXMgbm90IHN1cHBvcnRlZCBieSBIVE1MVGV4dFwiKTtcbiAgfVxuICBnZXQgbGVhZGluZygpIHtcbiAgICByZXR1cm4gc3VwZXIubGVhZGluZztcbiAgfVxuICBzZXQgbGluZUpvaW4oX3ZhbHVlKSB7XG4gICAgY29uc29sZS53YXJuKFwiW0hUTUxUZXh0U3R5bGVdIGxpbmVKb2luIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSFRNTFRleHRcIik7XG4gIH1cbiAgZ2V0IGxpbmVKb2luKCkge1xuICAgIHJldHVybiBzdXBlci5saW5lSm9pbjtcbiAgfVxufTtcbmxldCBIVE1MVGV4dFN0eWxlID0gX0hUTUxUZXh0U3R5bGU7XG5IVE1MVGV4dFN0eWxlLmF2YWlsYWJsZUZvbnRzID0ge307XG5IVE1MVGV4dFN0eWxlLmRlZmF1bHRPcHRpb25zID0ge1xuICBhbGlnbjogXCJsZWZ0XCIsXG4gIGJyZWFrV29yZHM6IGZhbHNlLFxuICBkcm9wU2hhZG93OiBmYWxzZSxcbiAgZHJvcFNoYWRvd0FscGhhOiAxLFxuICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyA2LFxuICBkcm9wU2hhZG93Qmx1cjogMCxcbiAgZHJvcFNoYWRvd0NvbG9yOiBcImJsYWNrXCIsXG4gIGRyb3BTaGFkb3dEaXN0YW5jZTogNSxcbiAgZmlsbDogXCJibGFja1wiLFxuICBmb250RmFtaWx5OiBcIkFyaWFsXCIsXG4gIGZvbnRTaXplOiAyNixcbiAgZm9udFN0eWxlOiBcIm5vcm1hbFwiLFxuICBmb250VmFyaWFudDogXCJub3JtYWxcIixcbiAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgbGV0dGVyU3BhY2luZzogMCxcbiAgbGluZUhlaWdodDogMCxcbiAgcGFkZGluZzogMCxcbiAgc3Ryb2tlOiBcImJsYWNrXCIsXG4gIHN0cm9rZVRoaWNrbmVzczogMCxcbiAgd2hpdGVTcGFjZTogXCJub3JtYWxcIixcbiAgd29yZFdyYXA6IGZhbHNlLFxuICB3b3JkV3JhcFdpZHRoOiAxMDBcbn07XG5cbmV4cG9ydCB7IEhUTUxUZXh0U3R5bGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhUTUxUZXh0U3R5bGUubWpzLm1hcFxuIiwiZXhwb3J0IHsgSFRNTFRleHQgfSBmcm9tICcuL0hUTUxUZXh0Lm1qcyc7XG5leHBvcnQgeyBIVE1MVGV4dFN0eWxlIH0gZnJvbSAnLi9IVE1MVGV4dFN0eWxlLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBzZXR0aW5ncywgVGV4dHVyZSwgUmVjdGFuZ2xlLCB1dGlscywgQ29sb3IgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBURVhUX0dSQURJRU5UIH0gZnJvbSAnLi9jb25zdC5tanMnO1xuaW1wb3J0IHsgVGV4dE1ldHJpY3MgfSBmcm9tICcuL1RleHRNZXRyaWNzLm1qcyc7XG5pbXBvcnQgeyBUZXh0U3R5bGUgfSBmcm9tICcuL1RleHRTdHlsZS5tanMnO1xuXG5jb25zdCBkZWZhdWx0RGVzdHJveU9wdGlvbnMgPSB7XG4gIHRleHR1cmU6IHRydWUsXG4gIGNoaWxkcmVuOiBmYWxzZSxcbiAgYmFzZVRleHR1cmU6IHRydWVcbn07XG5jb25zdCBfVGV4dCA9IGNsYXNzIGV4dGVuZHMgU3ByaXRlIHtcbiAgY29uc3RydWN0b3IodGV4dCwgc3R5bGUsIGNhbnZhcykge1xuICAgIGxldCBvd25DYW52YXMgPSBmYWxzZTtcbiAgICBpZiAoIWNhbnZhcykge1xuICAgICAgY2FudmFzID0gc2V0dGluZ3MuQURBUFRFUi5jcmVhdGVDYW52YXMoKTtcbiAgICAgIG93bkNhbnZhcyA9IHRydWU7XG4gICAgfVxuICAgIGNhbnZhcy53aWR0aCA9IDM7XG4gICAgY2FudmFzLmhlaWdodCA9IDM7XG4gICAgY29uc3QgdGV4dHVyZSA9IFRleHR1cmUuZnJvbShjYW52YXMpO1xuICAgIHRleHR1cmUub3JpZyA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB0ZXh0dXJlLnRyaW0gPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgc3VwZXIodGV4dHVyZSk7XG4gICAgdGhpcy5fb3duQ2FudmFzID0gb3duQ2FudmFzO1xuICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgIHRoaXMuY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiwge1xuICAgICAgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5fcmVzb2x1dGlvbiA9IF9UZXh0LmRlZmF1bHRSZXNvbHV0aW9uID8/IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgdGhpcy5fYXV0b1Jlc29sdXRpb24gPSBfVGV4dC5kZWZhdWx0QXV0b1Jlc29sdXRpb247XG4gICAgdGhpcy5fdGV4dCA9IG51bGw7XG4gICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgIHRoaXMuX3N0eWxlTGlzdGVuZXIgPSBudWxsO1xuICAgIHRoaXMuX2ZvbnQgPSBcIlwiO1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgIHRoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gIH1cbiAgc3RhdGljIGdldCBleHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nKCkge1xuICAgIHJldHVybiBUZXh0TWV0cmljcy5leHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nO1xuICB9XG4gIHN0YXRpYyBzZXQgZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZyh2YWx1ZSkge1xuICAgIHV0aWxzLmRlcHJlY2F0aW9uKFwiNy4xLjBcIiwgXCJUZXh0LmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcgaXMgZGVwcmVjYXRlZCwgdXNlIFRleHRNZXRyaWNzLmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmdcIik7XG4gICAgVGV4dE1ldHJpY3MuZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZyA9IHZhbHVlO1xuICB9XG4gIHVwZGF0ZVRleHQocmVzcGVjdERpcnR5KSB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICBpZiAodGhpcy5sb2NhbFN0eWxlSUQgIT09IHN0eWxlLnN0eWxlSUQpIHtcbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSBzdHlsZS5zdHlsZUlEO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuZGlydHkgJiYgcmVzcGVjdERpcnR5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2ZvbnQgPSB0aGlzLl9zdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIGNvbnN0IG1lYXN1cmVkID0gVGV4dE1ldHJpY3MubWVhc3VyZVRleHQodGhpcy5fdGV4dCB8fCBcIiBcIiwgdGhpcy5fc3R5bGUsIHRoaXMuX3N0eWxlLndvcmRXcmFwLCB0aGlzLmNhbnZhcyk7XG4gICAgY29uc3Qgd2lkdGggPSBtZWFzdXJlZC53aWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSBtZWFzdXJlZC5oZWlnaHQ7XG4gICAgY29uc3QgbGluZXMgPSBtZWFzdXJlZC5saW5lcztcbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICBjb25zdCBsaW5lV2lkdGhzID0gbWVhc3VyZWQubGluZVdpZHRocztcbiAgICBjb25zdCBtYXhMaW5lV2lkdGggPSBtZWFzdXJlZC5tYXhMaW5lV2lkdGg7XG4gICAgY29uc3QgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguY2VpbChNYXRoLmNlaWwoTWF0aC5tYXgoMSwgd2lkdGgpICsgc3R5bGUucGFkZGluZyAqIDIpICogdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKE1hdGguY2VpbChNYXRoLm1heCgxLCBoZWlnaHQpICsgc3R5bGUucGFkZGluZyAqIDIpICogdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgY29udGV4dC5zY2FsZSh0aGlzLl9yZXNvbHV0aW9uLCB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICBjb250ZXh0LmZvbnQgPSB0aGlzLl9mb250O1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHlsZS5taXRlckxpbWl0O1xuICAgIGxldCBsaW5lUG9zaXRpb25YO1xuICAgIGxldCBsaW5lUG9zaXRpb25ZO1xuICAgIGNvbnN0IHBhc3Nlc0NvdW50ID0gc3R5bGUuZHJvcFNoYWRvdyA/IDIgOiAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFzc2VzQ291bnQ7ICsraSkge1xuICAgICAgY29uc3QgaXNTaGFkb3dQYXNzID0gc3R5bGUuZHJvcFNoYWRvdyAmJiBpID09PSAwO1xuICAgICAgY29uc3QgZHNPZmZzZXRUZXh0ID0gaXNTaGFkb3dQYXNzID8gTWF0aC5jZWlsKE1hdGgubWF4KDEsIGhlaWdodCkgKyBzdHlsZS5wYWRkaW5nICogMikgOiAwO1xuICAgICAgY29uc3QgZHNPZmZzZXRTaGFkb3cgPSBkc09mZnNldFRleHQgKiB0aGlzLl9yZXNvbHV0aW9uO1xuICAgICAgaWYgKGlzU2hhZG93UGFzcykge1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgICAgY29uc3QgZHJvcFNoYWRvd0NvbG9yID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICBjb25zdCBkcm9wU2hhZG93Qmx1ciA9IHN0eWxlLmRyb3BTaGFkb3dCbHVyICogdGhpcy5fcmVzb2x1dGlvbjtcbiAgICAgICAgY29uc3QgZHJvcFNoYWRvd0Rpc3RhbmNlID0gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlICogdGhpcy5fcmVzb2x1dGlvbjtcbiAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IENvbG9yLnNoYXJlZC5zZXRWYWx1ZShkcm9wU2hhZG93Q29sb3IpLnNldEFscGhhKHN0eWxlLmRyb3BTaGFkb3dBbHBoYSkudG9SZ2JhU3RyaW5nKCk7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSBNYXRoLmNvcyhzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSBNYXRoLnNpbihzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogZHJvcFNoYWRvd0Rpc3RhbmNlICsgZHNPZmZzZXRTaGFkb3c7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuX2dlbmVyYXRlRmlsbFN0eWxlKHN0eWxlLCBsaW5lcywgbWVhc3VyZWQpO1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gXCJibGFja1wiO1xuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgfVxuICAgICAgbGV0IGxpbmVQb3NpdGlvbllTaGlmdCA9IChsaW5lSGVpZ2h0IC0gZm9udFByb3BlcnRpZXMuZm9udFNpemUpIC8gMjtcbiAgICAgIGlmIChsaW5lSGVpZ2h0IC0gZm9udFByb3BlcnRpZXMuZm9udFNpemUgPCAwKSB7XG4gICAgICAgIGxpbmVQb3NpdGlvbllTaGlmdCA9IDA7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgbGluZXMubGVuZ3RoOyBpMisrKSB7XG4gICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICBsaW5lUG9zaXRpb25ZID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMiArIGkyICogbGluZUhlaWdodCArIGZvbnRQcm9wZXJ0aWVzLmFzY2VudCArIGxpbmVQb3NpdGlvbllTaGlmdDtcbiAgICAgICAgaWYgKHN0eWxlLmFsaWduID09PSBcInJpZ2h0XCIpIHtcbiAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaTJdO1xuICAgICAgICB9IGVsc2UgaWYgKHN0eWxlLmFsaWduID09PSBcImNlbnRlclwiKSB7XG4gICAgICAgICAgbGluZVBvc2l0aW9uWCArPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpMl0pIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbaTJdLCBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcgLSBkc09mZnNldFRleHQsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHlsZS5maWxsKSB7XG4gICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhsaW5lc1tpMl0sIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLCBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyAtIGRzT2Zmc2V0VGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gIH1cbiAgZHJhd0xldHRlclNwYWNpbmcodGV4dCwgeCwgeSwgaXNTdHJva2UgPSBmYWxzZSkge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgY29uc3QgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmc7XG4gICAgbGV0IHVzZUV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcgPSBmYWxzZTtcbiAgICBpZiAoVGV4dE1ldHJpY3MuZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZ1N1cHBvcnRlZCkge1xuICAgICAgaWYgKFRleHRNZXRyaWNzLmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LmxldHRlclNwYWNpbmcgPSBgJHtsZXR0ZXJTcGFjaW5nfXB4YDtcbiAgICAgICAgdGhpcy5jb250ZXh0LnRleHRMZXR0ZXJTcGFjaW5nID0gYCR7bGV0dGVyU3BhY2luZ31weGA7XG4gICAgICAgIHVzZUV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LmxldHRlclNwYWNpbmcgPSBcIjBweFwiO1xuICAgICAgICB0aGlzLmNvbnRleHQudGV4dExldHRlclNwYWNpbmcgPSBcIjBweFwiO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobGV0dGVyU3BhY2luZyA9PT0gMCB8fCB1c2VFeHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nKSB7XG4gICAgICBpZiAoaXNTdHJva2UpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQodGV4dCwgeCwgeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGV4dCwgeCwgeSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBjdXJyZW50UG9zaXRpb24gPSB4O1xuICAgIGNvbnN0IHN0cmluZ0FycmF5ID0gVGV4dE1ldHJpY3MuZ3JhcGhlbWVTZWdtZW50ZXIodGV4dCk7XG4gICAgbGV0IHByZXZpb3VzV2lkdGggPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG4gICAgbGV0IGN1cnJlbnRXaWR0aCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmdBcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgY3VycmVudENoYXIgPSBzdHJpbmdBcnJheVtpXTtcbiAgICAgIGlmIChpc1N0cm9rZSkge1xuICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgIH1cbiAgICAgIGxldCB0ZXh0U3RyID0gXCJcIjtcbiAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IHN0cmluZ0FycmF5Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgIHRleHRTdHIgKz0gc3RyaW5nQXJyYXlbal07XG4gICAgICB9XG4gICAgICBjdXJyZW50V2lkdGggPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGV4dFN0cikud2lkdGg7XG4gICAgICBjdXJyZW50UG9zaXRpb24gKz0gcHJldmlvdXNXaWR0aCAtIGN1cnJlbnRXaWR0aCArIGxldHRlclNwYWNpbmc7XG4gICAgICBwcmV2aW91c1dpZHRoID0gY3VycmVudFdpZHRoO1xuICAgIH1cbiAgfVxuICB1cGRhdGVUZXh0dXJlKCkge1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgIGlmICh0aGlzLl9zdHlsZS50cmltKSB7XG4gICAgICBjb25zdCB0cmltbWVkID0gdXRpbHMudHJpbUNhbnZhcyhjYW52YXMpO1xuICAgICAgaWYgKHRyaW1tZWQuZGF0YSkge1xuICAgICAgICBjYW52YXMud2lkdGggPSB0cmltbWVkLndpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdHJpbW1lZC5oZWlnaHQ7XG4gICAgICAgIHRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEodHJpbW1lZC5kYXRhLCAwLCAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICBjb25zdCBwYWRkaW5nID0gc3R5bGUudHJpbSA/IDAgOiBzdHlsZS5wYWRkaW5nO1xuICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICB0ZXh0dXJlLnRyaW0ud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCA9IGNhbnZhcy53aWR0aCAvIHRoaXMuX3Jlc29sdXRpb247XG4gICAgdGV4dHVyZS50cmltLmhlaWdodCA9IHRleHR1cmUuX2ZyYW1lLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uO1xuICAgIHRleHR1cmUudHJpbS54ID0gLXBhZGRpbmc7XG4gICAgdGV4dHVyZS50cmltLnkgPSAtcGFkZGluZztcbiAgICB0ZXh0dXJlLm9yaWcud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCAtIHBhZGRpbmcgKiAyO1xuICAgIHRleHR1cmUub3JpZy5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgLSBwYWRkaW5nICogMjtcbiAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICBiYXNlVGV4dHVyZS5zZXRSZWFsU2l6ZShjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQsIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgIHRleHR1cmUudXBkYXRlVXZzKCk7XG4gICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICB9XG4gIF9yZW5kZXIocmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5fYXV0b1Jlc29sdXRpb24gJiYgdGhpcy5fcmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbikge1xuICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgIHN1cGVyLl9yZW5kZXIocmVuZGVyZXIpO1xuICB9XG4gIHVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgc3VwZXIudXBkYXRlVHJhbnNmb3JtKCk7XG4gIH1cbiAgZ2V0Qm91bmRzKHNraXBVcGRhdGUsIHJlY3QpIHtcbiAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgaWYgKHRoaXMuX3RleHR1cmVJRCA9PT0gLTEpIHtcbiAgICAgIHNraXBVcGRhdGUgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLmdldEJvdW5kcyhza2lwVXBkYXRlLCByZWN0KTtcbiAgfVxuICBnZXRMb2NhbEJvdW5kcyhyZWN0KSB7XG4gICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgIHJldHVybiBzdXBlci5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICB9XG4gIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gIH1cbiAgX2dlbmVyYXRlRmlsbFN0eWxlKHN0eWxlLCBsaW5lcywgbWV0cmljcykge1xuICAgIGNvbnN0IGZpbGxTdHlsZSA9IHN0eWxlLmZpbGw7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZpbGxTdHlsZSkpIHtcbiAgICAgIHJldHVybiBmaWxsU3R5bGU7XG4gICAgfSBlbHNlIGlmIChmaWxsU3R5bGUubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gZmlsbFN0eWxlWzBdO1xuICAgIH1cbiAgICBsZXQgZ3JhZGllbnQ7XG4gICAgY29uc3QgZHJvcFNoYWRvd0NvcnJlY3Rpb24gPSBzdHlsZS5kcm9wU2hhZG93ID8gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlIDogMDtcbiAgICBjb25zdCBwYWRkaW5nID0gc3R5bGUucGFkZGluZyB8fCAwO1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW52YXMud2lkdGggLyB0aGlzLl9yZXNvbHV0aW9uIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSBwYWRkaW5nICogMjtcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSBwYWRkaW5nICogMjtcbiAgICBjb25zdCBmaWxsID0gZmlsbFN0eWxlLnNsaWNlKCk7XG4gICAgY29uc3QgZmlsbEdyYWRpZW50U3RvcHMgPSBzdHlsZS5maWxsR3JhZGllbnRTdG9wcy5zbGljZSgpO1xuICAgIGlmICghZmlsbEdyYWRpZW50U3RvcHMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBsZW5ndGhQbHVzMSA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoUGx1czE7ICsraSkge1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZpbGwudW5zaGlmdChmaWxsU3R5bGVbMF0pO1xuICAgIGZpbGxHcmFkaWVudFN0b3BzLnVuc2hpZnQoMCk7XG4gICAgZmlsbC5wdXNoKGZpbGxTdHlsZVtmaWxsU3R5bGUubGVuZ3RoIC0gMV0pO1xuICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goMSk7XG4gICAgaWYgKHN0eWxlLmZpbGxHcmFkaWVudFR5cGUgPT09IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKSB7XG4gICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCh3aWR0aCAvIDIsIHBhZGRpbmcsIHdpZHRoIC8gMiwgaGVpZ2h0ICsgcGFkZGluZyk7XG4gICAgICBjb25zdCB0ZXh0SGVpZ2h0ID0gbWV0cmljcy5mb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbGFzdExpbmVCb3R0b20gPSBtZXRyaWNzLmxpbmVIZWlnaHQgKiAoaSAtIDEpICsgdGV4dEhlaWdodDtcbiAgICAgICAgY29uc3QgdGhpc0xpbmVUb3AgPSBtZXRyaWNzLmxpbmVIZWlnaHQgKiBpO1xuICAgICAgICBsZXQgdGhpc0xpbmVHcmFkaWVudFN0YXJ0ID0gdGhpc0xpbmVUb3A7XG4gICAgICAgIGlmIChpID4gMCAmJiBsYXN0TGluZUJvdHRvbSA+IHRoaXNMaW5lVG9wKSB7XG4gICAgICAgICAgdGhpc0xpbmVHcmFkaWVudFN0YXJ0ID0gKHRoaXNMaW5lVG9wICsgbGFzdExpbmVCb3R0b20pIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0aGlzTGluZUJvdHRvbSA9IHRoaXNMaW5lVG9wICsgdGV4dEhlaWdodDtcbiAgICAgICAgY29uc3QgbmV4dExpbmVUb3AgPSBtZXRyaWNzLmxpbmVIZWlnaHQgKiAoaSArIDEpO1xuICAgICAgICBsZXQgdGhpc0xpbmVHcmFkaWVudEVuZCA9IHRoaXNMaW5lQm90dG9tO1xuICAgICAgICBpZiAoaSArIDEgPCBsaW5lcy5sZW5ndGggJiYgbmV4dExpbmVUb3AgPCB0aGlzTGluZUJvdHRvbSkge1xuICAgICAgICAgIHRoaXNMaW5lR3JhZGllbnRFbmQgPSAodGhpc0xpbmVCb3R0b20gKyBuZXh0TGluZVRvcCkgLyAyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdyYWRTdG9wTGluZUhlaWdodCA9ICh0aGlzTGluZUdyYWRpZW50RW5kIC0gdGhpc0xpbmVHcmFkaWVudFN0YXJ0KSAvIGhlaWdodDtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgbGV0IGxpbmVTdG9wID0gMDtcbiAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2pdID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICBsaW5lU3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2pdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaW5lU3RvcCA9IGogLyBmaWxsLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGdsb2JhbFN0b3AgPSBNYXRoLm1pbigxLCBNYXRoLm1heCgwLCB0aGlzTGluZUdyYWRpZW50U3RhcnQgLyBoZWlnaHQgKyBsaW5lU3RvcCAqIGdyYWRTdG9wTGluZUhlaWdodCkpO1xuICAgICAgICAgIGdsb2JhbFN0b3AgPSBOdW1iZXIoZ2xvYmFsU3RvcC50b0ZpeGVkKDUpKTtcbiAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoZ2xvYmFsU3RvcCwgZmlsbFtqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZ3JhZGllbnQgPSB0aGlzLmNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQocGFkZGluZywgaGVpZ2h0IC8gMiwgd2lkdGggKyBwYWRkaW5nLCBoZWlnaHQgLyAyKTtcbiAgICAgIGNvbnN0IHRvdGFsSXRlcmF0aW9ucyA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICAgIGxldCBjdXJyZW50SXRlcmF0aW9uID0gMTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsbC5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgc3RvcDtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tpXSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIHN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tpXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtpXSk7XG4gICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdyYWRpZW50O1xuICB9XG4gIGRlc3Ryb3kob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIG9wdGlvbnMgPSB7IGNoaWxkcmVuOiBvcHRpb25zIH07XG4gICAgfVxuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0RGVzdHJveU9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgaWYgKHRoaXMuX293bkNhbnZhcykge1xuICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMud2lkdGggPSAwO1xuICAgIH1cbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gIH1cbiAgZ2V0IHdpZHRoKCkge1xuICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgfVxuICBzZXQgd2lkdGgodmFsdWUpIHtcbiAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgY29uc3QgcyA9IHV0aWxzLnNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICB9XG4gIGdldCBoZWlnaHQoKSB7XG4gICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgfVxuICBzZXQgaGVpZ2h0KHZhbHVlKSB7XG4gICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgIGNvbnN0IHMgPSB1dGlscy5zaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcbiAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICB9XG4gIGdldCBzdHlsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gIH1cbiAgc2V0IHN0eWxlKHN0eWxlKSB7XG4gICAgc3R5bGUgPSBzdHlsZSB8fCB7fTtcbiAgICBpZiAoc3R5bGUgaW5zdGFuY2VvZiBUZXh0U3R5bGUpIHtcbiAgICAgIHRoaXMuX3N0eWxlID0gc3R5bGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N0eWxlID0gbmV3IFRleHRTdHlsZShzdHlsZSk7XG4gICAgfVxuICAgIHRoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gIH1cbiAgZ2V0IHRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gIH1cbiAgc2V0IHRleHQodGV4dCkge1xuICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB2b2lkIDAgPyBcIlwiIDogdGV4dCk7XG4gICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gIH1cbiAgZ2V0IHJlc29sdXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jlc29sdXRpb247XG4gIH1cbiAgc2V0IHJlc29sdXRpb24odmFsdWUpIHtcbiAgICB0aGlzLl9hdXRvUmVzb2x1dGlvbiA9IGZhbHNlO1xuICAgIGlmICh0aGlzLl9yZXNvbHV0aW9uID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9yZXNvbHV0aW9uID0gdmFsdWU7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gIH1cbn07XG5sZXQgVGV4dCA9IF9UZXh0O1xuVGV4dC5kZWZhdWx0QXV0b1Jlc29sdXRpb24gPSB0cnVlO1xuXG5leHBvcnQgeyBUZXh0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0Lm1qcy5tYXBcbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmNvbnN0IGNvbnRleHRTZXR0aW5ncyA9IHtcbiAgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlXG59O1xuY29uc3QgX1RleHRNZXRyaWNzID0gY2xhc3Mge1xuICBzdGF0aWMgZ2V0IGV4cGVyaW1lbnRhbExldHRlclNwYWNpbmdTdXBwb3J0ZWQoKSB7XG4gICAgbGV0IHJlc3VsdCA9IF9UZXh0TWV0cmljcy5fZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZ1N1cHBvcnRlZDtcbiAgICBpZiAocmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IHByb3RvID0gc2V0dGluZ3MuQURBUFRFUi5nZXRDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQoKS5wcm90b3R5cGU7XG4gICAgICByZXN1bHQgPSBfVGV4dE1ldHJpY3MuX2V4cGVyaW1lbnRhbExldHRlclNwYWNpbmdTdXBwb3J0ZWQgPSBcImxldHRlclNwYWNpbmdcIiBpbiBwcm90byB8fCBcInRleHRMZXR0ZXJTcGFjaW5nXCIgaW4gcHJvdG87XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgY29uc3RydWN0b3IodGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0LCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKSB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMubGluZXMgPSBsaW5lcztcbiAgICB0aGlzLmxpbmVXaWR0aHMgPSBsaW5lV2lkdGhzO1xuICAgIHRoaXMubGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgdGhpcy5tYXhMaW5lV2lkdGggPSBtYXhMaW5lV2lkdGg7XG4gICAgdGhpcy5mb250UHJvcGVydGllcyA9IGZvbnRQcm9wZXJ0aWVzO1xuICB9XG4gIHN0YXRpYyBtZWFzdXJlVGV4dCh0ZXh0LCBzdHlsZSwgd29yZFdyYXAsIGNhbnZhcyA9IF9UZXh0TWV0cmljcy5fY2FudmFzKSB7XG4gICAgd29yZFdyYXAgPSB3b3JkV3JhcCA9PT0gdm9pZCAwIHx8IHdvcmRXcmFwID09PSBudWxsID8gc3R5bGUud29yZFdyYXAgOiB3b3JkV3JhcDtcbiAgICBjb25zdCBmb250ID0gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgY29uc3QgZm9udFByb3BlcnRpZXMgPSBfVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgaWYgKGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID09PSAwKSB7XG4gICAgICBmb250UHJvcGVydGllcy5mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuICAgICAgZm9udFByb3BlcnRpZXMuYXNjZW50ID0gc3R5bGUuZm9udFNpemU7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIsIGNvbnRleHRTZXR0aW5ncyk7XG4gICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICBjb25zdCBvdXRwdXRUZXh0ID0gd29yZFdyYXAgPyBfVGV4dE1ldHJpY3Mud29yZFdyYXAodGV4dCwgc3R5bGUsIGNhbnZhcykgOiB0ZXh0O1xuICAgIGNvbnN0IGxpbmVzID0gb3V0cHV0VGV4dC5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG4gICAgY29uc3QgbGluZVdpZHRocyA9IG5ldyBBcnJheShsaW5lcy5sZW5ndGgpO1xuICAgIGxldCBtYXhMaW5lV2lkdGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGxpbmVXaWR0aCA9IF9UZXh0TWV0cmljcy5fbWVhc3VyZVRleHQobGluZXNbaV0sIHN0eWxlLmxldHRlclNwYWNpbmcsIGNvbnRleHQpO1xuICAgICAgbGluZVdpZHRoc1tpXSA9IGxpbmVXaWR0aDtcbiAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICB9XG4gICAgbGV0IHdpZHRoID0gbWF4TGluZVdpZHRoICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICB3aWR0aCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgfVxuICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBzdHlsZS5saW5lSGVpZ2h0IHx8IGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgIGxldCBoZWlnaHQgPSBNYXRoLm1heChsaW5lSGVpZ2h0LCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAqIDIpICsgKGxpbmVzLmxlbmd0aCAtIDEpICogKGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nKTtcbiAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdykge1xuICAgICAgaGVpZ2h0ICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBfVGV4dE1ldHJpY3ModGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZywgbWF4TGluZVdpZHRoLCBmb250UHJvcGVydGllcyk7XG4gIH1cbiAgc3RhdGljIF9tZWFzdXJlVGV4dCh0ZXh0LCBsZXR0ZXJTcGFjaW5nLCBjb250ZXh0KSB7XG4gICAgbGV0IHVzZUV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcgPSBmYWxzZTtcbiAgICBpZiAoX1RleHRNZXRyaWNzLmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmdTdXBwb3J0ZWQpIHtcbiAgICAgIGlmIChfVGV4dE1ldHJpY3MuZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZykge1xuICAgICAgICBjb250ZXh0LmxldHRlclNwYWNpbmcgPSBgJHtsZXR0ZXJTcGFjaW5nfXB4YDtcbiAgICAgICAgY29udGV4dC50ZXh0TGV0dGVyU3BhY2luZyA9IGAke2xldHRlclNwYWNpbmd9cHhgO1xuICAgICAgICB1c2VFeHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRleHQubGV0dGVyU3BhY2luZyA9IFwiMHB4XCI7XG4gICAgICAgIGNvbnRleHQudGV4dExldHRlclNwYWNpbmcgPSBcIjBweFwiO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgd2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xuICAgIGlmICh3aWR0aCA+IDApIHtcbiAgICAgIGlmICh1c2VFeHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgIHdpZHRoIC09IGxldHRlclNwYWNpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aCArPSAoX1RleHRNZXRyaWNzLmdyYXBoZW1lU2VnbWVudGVyKHRleHQpLmxlbmd0aCAtIDEpICogbGV0dGVyU3BhY2luZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHdpZHRoO1xuICB9XG4gIHN0YXRpYyB3b3JkV3JhcCh0ZXh0LCBzdHlsZSwgY2FudmFzID0gX1RleHRNZXRyaWNzLl9jYW52YXMpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiLCBjb250ZXh0U2V0dGluZ3MpO1xuICAgIGxldCB3aWR0aCA9IDA7XG4gICAgbGV0IGxpbmUgPSBcIlwiO1xuICAgIGxldCBsaW5lcyA9IFwiXCI7XG4gICAgY29uc3QgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBjb25zdCB7IGxldHRlclNwYWNpbmcsIHdoaXRlU3BhY2UgfSA9IHN0eWxlO1xuICAgIGNvbnN0IGNvbGxhcHNlU3BhY2VzID0gX1RleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpO1xuICAgIGNvbnN0IGNvbGxhcHNlTmV3bGluZXMgPSBfVGV4dE1ldHJpY3MuY29sbGFwc2VOZXdsaW5lcyh3aGl0ZVNwYWNlKTtcbiAgICBsZXQgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICBjb25zdCB3b3JkV3JhcFdpZHRoID0gc3R5bGUud29yZFdyYXBXaWR0aCArIGxldHRlclNwYWNpbmc7XG4gICAgY29uc3QgdG9rZW5zID0gX1RleHRNZXRyaWNzLnRva2VuaXplKHRleHQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICBpZiAoX1RleHRNZXRyaWNzLmlzTmV3bGluZSh0b2tlbikpIHtcbiAgICAgICAgaWYgKCFjb2xsYXBzZU5ld2xpbmVzKSB7XG4gICAgICAgICAgbGluZXMgKz0gX1RleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICAgICAgICBsaW5lID0gXCJcIjtcbiAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW4gPSBcIiBcIjtcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsYXBzZVNwYWNlcykge1xuICAgICAgICBjb25zdCBjdXJySXNCcmVha2luZ1NwYWNlID0gX1RleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbik7XG4gICAgICAgIGNvbnN0IGxhc3RJc0JyZWFraW5nU3BhY2UgPSBfVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGxpbmVbbGluZS5sZW5ndGggLSAxXSk7XG4gICAgICAgIGlmIChjdXJySXNCcmVha2luZ1NwYWNlICYmIGxhc3RJc0JyZWFraW5nU3BhY2UpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgdG9rZW5XaWR0aCA9IF9UZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUodG9rZW4sIGxldHRlclNwYWNpbmcsIGNhY2hlLCBjb250ZXh0KTtcbiAgICAgIGlmICh0b2tlbldpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICBpZiAobGluZSAhPT0gXCJcIikge1xuICAgICAgICAgIGxpbmVzICs9IF9UZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgIGxpbmUgPSBcIlwiO1xuICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX1RleHRNZXRyaWNzLmNhbkJyZWFrV29yZHModG9rZW4sIHN0eWxlLmJyZWFrV29yZHMpKSB7XG4gICAgICAgICAgY29uc3QgY2hhcmFjdGVycyA9IF9UZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0KHRva2VuKTtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNoYXJhY3RlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGxldCBjaGFyID0gY2hhcmFjdGVyc1tqXTtcbiAgICAgICAgICAgIGxldCBsYXN0Q2hhciA9IGNoYXI7XG4gICAgICAgICAgICBsZXQgayA9IDE7XG4gICAgICAgICAgICB3aGlsZSAoY2hhcmFjdGVyc1tqICsga10pIHtcbiAgICAgICAgICAgICAgY29uc3QgbmV4dENoYXIgPSBjaGFyYWN0ZXJzW2ogKyBrXTtcbiAgICAgICAgICAgICAgaWYgKCFfVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyhsYXN0Q2hhciwgbmV4dENoYXIsIHRva2VuLCBqLCBzdHlsZS5icmVha1dvcmRzKSkge1xuICAgICAgICAgICAgICAgIGNoYXIgKz0gbmV4dENoYXI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGFzdENoYXIgPSBuZXh0Q2hhcjtcbiAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaiArPSBrIC0gMTtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlcldpZHRoID0gX1RleHRNZXRyaWNzLmdldEZyb21DYWNoZShjaGFyLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG4gICAgICAgICAgICBpZiAoY2hhcmFjdGVyV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgbGluZXMgKz0gX1RleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgbGluZSA9IFwiXCI7XG4gICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmUgKz0gY2hhcjtcbiAgICAgICAgICAgIHdpZHRoICs9IGNoYXJhY3RlcldpZHRoO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsaW5lcyArPSBfVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgIGxpbmUgPSBcIlwiO1xuICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpc0xhc3RUb2tlbiA9IGkgPT09IHRva2Vucy5sZW5ndGggLSAxO1xuICAgICAgICAgIGxpbmVzICs9IF9UZXh0TWV0cmljcy5hZGRMaW5lKHRva2VuLCAhaXNMYXN0VG9rZW4pO1xuICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICBsaW5lID0gXCJcIjtcbiAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0b2tlbldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgIGxpbmVzICs9IF9UZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgIGxpbmUgPSBcIlwiO1xuICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwIHx8ICFfVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKHRva2VuKSB8fCBjYW5QcmVwZW5kU3BhY2VzKSB7XG4gICAgICAgICAgbGluZSArPSB0b2tlbjtcbiAgICAgICAgICB3aWR0aCArPSB0b2tlbldpZHRoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxpbmVzICs9IF9UZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUsIGZhbHNlKTtcbiAgICByZXR1cm4gbGluZXM7XG4gIH1cbiAgc3RhdGljIGFkZExpbmUobGluZSwgbmV3TGluZSA9IHRydWUpIHtcbiAgICBsaW5lID0gX1RleHRNZXRyaWNzLnRyaW1SaWdodChsaW5lKTtcbiAgICBsaW5lID0gbmV3TGluZSA/IGAke2xpbmV9XG5gIDogbGluZTtcbiAgICByZXR1cm4gbGluZTtcbiAgfVxuICBzdGF0aWMgZ2V0RnJvbUNhY2hlKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpIHtcbiAgICBsZXQgd2lkdGggPSBjYWNoZVtrZXldO1xuICAgIGlmICh0eXBlb2Ygd2lkdGggIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHdpZHRoID0gX1RleHRNZXRyaWNzLl9tZWFzdXJlVGV4dChrZXksIGxldHRlclNwYWNpbmcsIGNvbnRleHQpICsgbGV0dGVyU3BhY2luZztcbiAgICAgIGNhY2hlW2tleV0gPSB3aWR0aDtcbiAgICB9XG4gICAgcmV0dXJuIHdpZHRoO1xuICB9XG4gIHN0YXRpYyBjb2xsYXBzZVNwYWNlcyh3aGl0ZVNwYWNlKSB7XG4gICAgcmV0dXJuIHdoaXRlU3BhY2UgPT09IFwibm9ybWFsXCIgfHwgd2hpdGVTcGFjZSA9PT0gXCJwcmUtbGluZVwiO1xuICB9XG4gIHN0YXRpYyBjb2xsYXBzZU5ld2xpbmVzKHdoaXRlU3BhY2UpIHtcbiAgICByZXR1cm4gd2hpdGVTcGFjZSA9PT0gXCJub3JtYWxcIjtcbiAgfVxuICBzdGF0aWMgdHJpbVJpZ2h0KHRleHQpIHtcbiAgICBpZiAodHlwZW9mIHRleHQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgY2hhciA9IHRleHRbaV07XG4gICAgICBpZiAoIV9UZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhcikpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB0ZXh0ID0gdGV4dC5zbGljZSgwLCAtMSk7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9XG4gIHN0YXRpYyBpc05ld2xpbmUoY2hhcikge1xuICAgIGlmICh0eXBlb2YgY2hhciAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gX1RleHRNZXRyaWNzLl9uZXdsaW5lcy5pbmNsdWRlcyhjaGFyLmNoYXJDb2RlQXQoMCkpO1xuICB9XG4gIHN0YXRpYyBpc0JyZWFraW5nU3BhY2UoY2hhciwgX25leHRDaGFyKSB7XG4gICAgaWYgKHR5cGVvZiBjaGFyICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBfVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzLmluY2x1ZGVzKGNoYXIuY2hhckNvZGVBdCgwKSk7XG4gIH1cbiAgc3RhdGljIHRva2VuaXplKHRleHQpIHtcbiAgICBjb25zdCB0b2tlbnMgPSBbXTtcbiAgICBsZXQgdG9rZW4gPSBcIlwiO1xuICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGFyID0gdGV4dFtpXTtcbiAgICAgIGNvbnN0IG5leHRDaGFyID0gdGV4dFtpICsgMV07XG4gICAgICBpZiAoX1RleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyLCBuZXh0Q2hhcikgfHwgX1RleHRNZXRyaWNzLmlzTmV3bGluZShjaGFyKSkge1xuICAgICAgICBpZiAodG9rZW4gIT09IFwiXCIpIHtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgdG9rZW4gPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRva2Vucy5wdXNoKGNoYXIpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHRva2VuICs9IGNoYXI7XG4gICAgfVxuICAgIGlmICh0b2tlbiAhPT0gXCJcIikge1xuICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgIH1cbiAgICByZXR1cm4gdG9rZW5zO1xuICB9XG4gIHN0YXRpYyBjYW5CcmVha1dvcmRzKF90b2tlbiwgYnJlYWtXb3Jkcykge1xuICAgIHJldHVybiBicmVha1dvcmRzO1xuICB9XG4gIHN0YXRpYyBjYW5CcmVha0NoYXJzKF9jaGFyLCBfbmV4dENoYXIsIF90b2tlbiwgX2luZGV4LCBfYnJlYWtXb3Jkcykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHN0YXRpYyB3b3JkV3JhcFNwbGl0KHRva2VuKSB7XG4gICAgcmV0dXJuIF9UZXh0TWV0cmljcy5ncmFwaGVtZVNlZ21lbnRlcih0b2tlbik7XG4gIH1cbiAgc3RhdGljIG1lYXN1cmVGb250KGZvbnQpIHtcbiAgICBpZiAoX1RleHRNZXRyaWNzLl9mb250c1tmb250XSkge1xuICAgICAgcmV0dXJuIF9UZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgfVxuICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7XG4gICAgICBhc2NlbnQ6IDAsXG4gICAgICBkZXNjZW50OiAwLFxuICAgICAgZm9udFNpemU6IDBcbiAgICB9O1xuICAgIGNvbnN0IGNhbnZhcyA9IF9UZXh0TWV0cmljcy5fY2FudmFzO1xuICAgIGNvbnN0IGNvbnRleHQgPSBfVGV4dE1ldHJpY3MuX2NvbnRleHQ7XG4gICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICBjb25zdCBtZXRyaWNzU3RyaW5nID0gX1RleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HICsgX1RleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTDtcbiAgICBjb25zdCB3aWR0aCA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KG1ldHJpY3NTdHJpbmcpLndpZHRoKTtcbiAgICBsZXQgYmFzZWxpbmUgPSBNYXRoLmNlaWwoY29udGV4dC5tZWFzdXJlVGV4dChfVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MKS53aWR0aCk7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5jZWlsKF9UZXh0TWV0cmljcy5IRUlHSFRfTVVMVElQTElFUiAqIGJhc2VsaW5lKTtcbiAgICBiYXNlbGluZSA9IGJhc2VsaW5lICogX1RleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgfCAwO1xuICAgIGlmICh3aWR0aCA9PT0gMCB8fCBoZWlnaHQgPT09IDApIHtcbiAgICAgIF9UZXh0TWV0cmljcy5fZm9udHNbZm9udF0gPSBwcm9wZXJ0aWVzO1xuICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfVxuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBcIiNmMDBcIjtcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBcImFscGhhYmV0aWNcIjtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiIzAwMFwiO1xuICAgIGNvbnRleHQuZmlsbFRleHQobWV0cmljc1N0cmluZywgMCwgYmFzZWxpbmUpO1xuICAgIGNvbnN0IGltYWdlZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLmRhdGE7XG4gICAgY29uc3QgcGl4ZWxzID0gaW1hZ2VkYXRhLmxlbmd0aDtcbiAgICBjb25zdCBsaW5lID0gd2lkdGggKiA0O1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgaWR4ID0gMDtcbiAgICBsZXQgc3RvcCA9IGZhbHNlO1xuICAgIGZvciAoaSA9IDA7IGkgPCBiYXNlbGluZTsgKytpKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpbmU7IGogKz0gNCkge1xuICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIGpdICE9PSAyNTUpIHtcbiAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFzdG9wKSB7XG4gICAgICAgIGlkeCArPSBsaW5lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHByb3BlcnRpZXMuYXNjZW50ID0gYmFzZWxpbmUgLSBpO1xuICAgIGlkeCA9IHBpeGVscyAtIGxpbmU7XG4gICAgc3RvcCA9IGZhbHNlO1xuICAgIGZvciAoaSA9IGhlaWdodDsgaSA+IGJhc2VsaW5lOyAtLWkpIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZTsgaiArPSA0KSB7XG4gICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSkge1xuICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXN0b3ApIHtcbiAgICAgICAgaWR4IC09IGxpbmU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcHJvcGVydGllcy5kZXNjZW50ID0gaSAtIGJhc2VsaW5lO1xuICAgIHByb3BlcnRpZXMuZm9udFNpemUgPSBwcm9wZXJ0aWVzLmFzY2VudCArIHByb3BlcnRpZXMuZGVzY2VudDtcbiAgICBfVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdID0gcHJvcGVydGllcztcbiAgICByZXR1cm4gcHJvcGVydGllcztcbiAgfVxuICBzdGF0aWMgY2xlYXJNZXRyaWNzKGZvbnQgPSBcIlwiKSB7XG4gICAgaWYgKGZvbnQpIHtcbiAgICAgIGRlbGV0ZSBfVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgIH0gZWxzZSB7XG4gICAgICBfVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG4gICAgfVxuICB9XG4gIHN0YXRpYyBnZXQgX2NhbnZhcygpIHtcbiAgICBpZiAoIV9UZXh0TWV0cmljcy5fX2NhbnZhcykge1xuICAgICAgbGV0IGNhbnZhcztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKDAsIDApO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gYy5nZXRDb250ZXh0KFwiMmRcIiwgY29udGV4dFNldHRpbmdzKTtcbiAgICAgICAgaWYgKGNvbnRleHQ/Lm1lYXN1cmVUZXh0KSB7XG4gICAgICAgICAgX1RleHRNZXRyaWNzLl9fY2FudmFzID0gYztcbiAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgICBjYW52YXMgPSBzZXR0aW5ncy5BREFQVEVSLmNyZWF0ZUNhbnZhcygpO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgY2FudmFzID0gc2V0dGluZ3MuQURBUFRFUi5jcmVhdGVDYW52YXMoKTtcbiAgICAgIH1cbiAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxMDtcbiAgICAgIF9UZXh0TWV0cmljcy5fX2NhbnZhcyA9IGNhbnZhcztcbiAgICB9XG4gICAgcmV0dXJuIF9UZXh0TWV0cmljcy5fX2NhbnZhcztcbiAgfVxuICBzdGF0aWMgZ2V0IF9jb250ZXh0KCkge1xuICAgIGlmICghX1RleHRNZXRyaWNzLl9fY29udGV4dCkge1xuICAgICAgX1RleHRNZXRyaWNzLl9fY29udGV4dCA9IF9UZXh0TWV0cmljcy5fY2FudmFzLmdldENvbnRleHQoXCIyZFwiLCBjb250ZXh0U2V0dGluZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gX1RleHRNZXRyaWNzLl9fY29udGV4dDtcbiAgfVxufTtcbmxldCBUZXh0TWV0cmljcyA9IF9UZXh0TWV0cmljcztcblRleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HID0gXCJ8XFx4QzlxXFx4QzVcIjtcblRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTCA9IFwiTVwiO1xuVGV4dE1ldHJpY3MuQkFTRUxJTkVfTVVMVElQTElFUiA9IDEuNDtcblRleHRNZXRyaWNzLkhFSUdIVF9NVUxUSVBMSUVSID0gMjtcblRleHRNZXRyaWNzLmdyYXBoZW1lU2VnbWVudGVyID0gKCgpID0+IHtcbiAgaWYgKHR5cGVvZiBJbnRsPy5TZWdtZW50ZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGNvbnN0IHNlZ21lbnRlciA9IG5ldyBJbnRsLlNlZ21lbnRlcigpO1xuICAgIHJldHVybiAocykgPT4gWy4uLnNlZ21lbnRlci5zZWdtZW50KHMpXS5tYXAoKHgpID0+IHguc2VnbWVudCk7XG4gIH1cbiAgcmV0dXJuIChzKSA9PiBbLi4uc107XG59KSgpO1xuVGV4dE1ldHJpY3MuZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZyA9IGZhbHNlO1xuVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG5UZXh0TWV0cmljcy5fbmV3bGluZXMgPSBbXG4gIDEwLFxuICAxM1xuXTtcblRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcyA9IFtcbiAgOSxcbiAgMzIsXG4gIDgxOTIsXG4gIDgxOTMsXG4gIDgxOTQsXG4gIDgxOTUsXG4gIDgxOTYsXG4gIDgxOTcsXG4gIDgxOTgsXG4gIDgyMDAsXG4gIDgyMDEsXG4gIDgyMDIsXG4gIDgyODcsXG4gIDEyMjg4XG5dO1xuXG5leHBvcnQgeyBUZXh0TWV0cmljcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dE1ldHJpY3MubWpzLm1hcFxuIiwiaW1wb3J0IHsgVEVYVF9HUkFESUVOVCB9IGZyb20gJy4vY29uc3QubWpzJztcbmltcG9ydCB7IENvbG9yIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmNvbnN0IGdlbmVyaWNGb250RmFtaWxpZXMgPSBbXG4gIFwic2VyaWZcIixcbiAgXCJzYW5zLXNlcmlmXCIsXG4gIFwibW9ub3NwYWNlXCIsXG4gIFwiY3Vyc2l2ZVwiLFxuICBcImZhbnRhc3lcIixcbiAgXCJzeXN0ZW0tdWlcIlxuXTtcbmNvbnN0IF9UZXh0U3R5bGUgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHN0eWxlKSB7XG4gICAgdGhpcy5zdHlsZUlEID0gMDtcbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIHN0eWxlLCBzdHlsZSk7XG4gIH1cbiAgY2xvbmUoKSB7XG4gICAgY29uc3QgY2xvbmVkUHJvcGVydGllcyA9IHt9O1xuICAgIGRlZXBDb3B5UHJvcGVydGllcyhjbG9uZWRQcm9wZXJ0aWVzLCB0aGlzLCBfVGV4dFN0eWxlLmRlZmF1bHRTdHlsZSk7XG4gICAgcmV0dXJuIG5ldyBfVGV4dFN0eWxlKGNsb25lZFByb3BlcnRpZXMpO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBfVGV4dFN0eWxlLmRlZmF1bHRTdHlsZSwgX1RleHRTdHlsZS5kZWZhdWx0U3R5bGUpO1xuICB9XG4gIGdldCBhbGlnbigpIHtcbiAgICByZXR1cm4gdGhpcy5fYWxpZ247XG4gIH1cbiAgc2V0IGFsaWduKGFsaWduKSB7XG4gICAgaWYgKHRoaXMuX2FsaWduICE9PSBhbGlnbikge1xuICAgICAgdGhpcy5fYWxpZ24gPSBhbGlnbjtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgYnJlYWtXb3JkcygpIHtcbiAgICByZXR1cm4gdGhpcy5fYnJlYWtXb3JkcztcbiAgfVxuICBzZXQgYnJlYWtXb3JkcyhicmVha1dvcmRzKSB7XG4gICAgaWYgKHRoaXMuX2JyZWFrV29yZHMgIT09IGJyZWFrV29yZHMpIHtcbiAgICAgIHRoaXMuX2JyZWFrV29yZHMgPSBicmVha1dvcmRzO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCBkcm9wU2hhZG93KCkge1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93O1xuICB9XG4gIHNldCBkcm9wU2hhZG93KGRyb3BTaGFkb3cpIHtcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvdyAhPT0gZHJvcFNoYWRvdykge1xuICAgICAgdGhpcy5fZHJvcFNoYWRvdyA9IGRyb3BTaGFkb3c7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGRyb3BTaGFkb3dBbHBoYSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FscGhhO1xuICB9XG4gIHNldCBkcm9wU2hhZG93QWxwaGEoZHJvcFNoYWRvd0FscGhhKSB7XG4gICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSAhPT0gZHJvcFNoYWRvd0FscGhhKSB7XG4gICAgICB0aGlzLl9kcm9wU2hhZG93QWxwaGEgPSBkcm9wU2hhZG93QWxwaGE7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGRyb3BTaGFkb3dBbmdsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FuZ2xlO1xuICB9XG4gIHNldCBkcm9wU2hhZG93QW5nbGUoZHJvcFNoYWRvd0FuZ2xlKSB7XG4gICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSAhPT0gZHJvcFNoYWRvd0FuZ2xlKSB7XG4gICAgICB0aGlzLl9kcm9wU2hhZG93QW5nbGUgPSBkcm9wU2hhZG93QW5nbGU7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGRyb3BTaGFkb3dCbHVyKCkge1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Qmx1cjtcbiAgfVxuICBzZXQgZHJvcFNoYWRvd0JsdXIoZHJvcFNoYWRvd0JsdXIpIHtcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0JsdXIgIT09IGRyb3BTaGFkb3dCbHVyKSB7XG4gICAgICB0aGlzLl9kcm9wU2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCBkcm9wU2hhZG93Q29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dDb2xvcjtcbiAgfVxuICBzZXQgZHJvcFNoYWRvd0NvbG9yKGRyb3BTaGFkb3dDb2xvcikge1xuICAgIGNvbnN0IG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZHJvcFNoYWRvd0NvbG9yKTtcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0NvbG9yICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgdGhpcy5fZHJvcFNoYWRvd0NvbG9yID0gb3V0cHV0Q29sb3I7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGRyb3BTaGFkb3dEaXN0YW5jZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICB9XG4gIHNldCBkcm9wU2hhZG93RGlzdGFuY2UoZHJvcFNoYWRvd0Rpc3RhbmNlKSB7XG4gICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSAhPT0gZHJvcFNoYWRvd0Rpc3RhbmNlKSB7XG4gICAgICB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgPSBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGZpbGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGw7XG4gIH1cbiAgc2V0IGZpbGwoZmlsbCkge1xuICAgIGNvbnN0IG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZmlsbCk7XG4gICAgaWYgKHRoaXMuX2ZpbGwgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICB0aGlzLl9maWxsID0gb3V0cHV0Q29sb3I7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGZpbGxHcmFkaWVudFR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGU7XG4gIH1cbiAgc2V0IGZpbGxHcmFkaWVudFR5cGUoZmlsbEdyYWRpZW50VHlwZSkge1xuICAgIGlmICh0aGlzLl9maWxsR3JhZGllbnRUeXBlICE9PSBmaWxsR3JhZGllbnRUeXBlKSB7XG4gICAgICB0aGlzLl9maWxsR3JhZGllbnRUeXBlID0gZmlsbEdyYWRpZW50VHlwZTtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgZmlsbEdyYWRpZW50U3RvcHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzO1xuICB9XG4gIHNldCBmaWxsR3JhZGllbnRTdG9wcyhmaWxsR3JhZGllbnRTdG9wcykge1xuICAgIGlmICghYXJlQXJyYXlzRXF1YWwodGhpcy5fZmlsbEdyYWRpZW50U3RvcHMsIGZpbGxHcmFkaWVudFN0b3BzKSkge1xuICAgICAgdGhpcy5fZmlsbEdyYWRpZW50U3RvcHMgPSBmaWxsR3JhZGllbnRTdG9wcztcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgZm9udEZhbWlseSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZm9udEZhbWlseTtcbiAgfVxuICBzZXQgZm9udEZhbWlseShmb250RmFtaWx5KSB7XG4gICAgaWYgKHRoaXMuZm9udEZhbWlseSAhPT0gZm9udEZhbWlseSkge1xuICAgICAgdGhpcy5fZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGZvbnRTaXplKCkge1xuICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgfVxuICBzZXQgZm9udFNpemUoZm9udFNpemUpIHtcbiAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IGZvbnRTaXplKSB7XG4gICAgICB0aGlzLl9mb250U2l6ZSA9IGZvbnRTaXplO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCBmb250U3R5bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRTdHlsZTtcbiAgfVxuICBzZXQgZm9udFN0eWxlKGZvbnRTdHlsZSkge1xuICAgIGlmICh0aGlzLl9mb250U3R5bGUgIT09IGZvbnRTdHlsZSkge1xuICAgICAgdGhpcy5fZm9udFN0eWxlID0gZm9udFN0eWxlO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCBmb250VmFyaWFudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZm9udFZhcmlhbnQ7XG4gIH1cbiAgc2V0IGZvbnRWYXJpYW50KGZvbnRWYXJpYW50KSB7XG4gICAgaWYgKHRoaXMuX2ZvbnRWYXJpYW50ICE9PSBmb250VmFyaWFudCkge1xuICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSBmb250VmFyaWFudDtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgZm9udFdlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZm9udFdlaWdodDtcbiAgfVxuICBzZXQgZm9udFdlaWdodChmb250V2VpZ2h0KSB7XG4gICAgaWYgKHRoaXMuX2ZvbnRXZWlnaHQgIT09IGZvbnRXZWlnaHQpIHtcbiAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSBmb250V2VpZ2h0O1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCBsZXR0ZXJTcGFjaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICB9XG4gIHNldCBsZXR0ZXJTcGFjaW5nKGxldHRlclNwYWNpbmcpIHtcbiAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZykge1xuICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IGxldHRlclNwYWNpbmc7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGxpbmVIZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG4gIH1cbiAgc2V0IGxpbmVIZWlnaHQobGluZUhlaWdodCkge1xuICAgIGlmICh0aGlzLl9saW5lSGVpZ2h0ICE9PSBsaW5lSGVpZ2h0KSB7XG4gICAgICB0aGlzLl9saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgbGVhZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5fbGVhZGluZztcbiAgfVxuICBzZXQgbGVhZGluZyhsZWFkaW5nKSB7XG4gICAgaWYgKHRoaXMuX2xlYWRpbmcgIT09IGxlYWRpbmcpIHtcbiAgICAgIHRoaXMuX2xlYWRpbmcgPSBsZWFkaW5nO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCBsaW5lSm9pbigpIHtcbiAgICByZXR1cm4gdGhpcy5fbGluZUpvaW47XG4gIH1cbiAgc2V0IGxpbmVKb2luKGxpbmVKb2luKSB7XG4gICAgaWYgKHRoaXMuX2xpbmVKb2luICE9PSBsaW5lSm9pbikge1xuICAgICAgdGhpcy5fbGluZUpvaW4gPSBsaW5lSm9pbjtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgbWl0ZXJMaW1pdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWl0ZXJMaW1pdDtcbiAgfVxuICBzZXQgbWl0ZXJMaW1pdChtaXRlckxpbWl0KSB7XG4gICAgaWYgKHRoaXMuX21pdGVyTGltaXQgIT09IG1pdGVyTGltaXQpIHtcbiAgICAgIHRoaXMuX21pdGVyTGltaXQgPSBtaXRlckxpbWl0O1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCBwYWRkaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9wYWRkaW5nO1xuICB9XG4gIHNldCBwYWRkaW5nKHBhZGRpbmcpIHtcbiAgICBpZiAodGhpcy5fcGFkZGluZyAhPT0gcGFkZGluZykge1xuICAgICAgdGhpcy5fcGFkZGluZyA9IHBhZGRpbmc7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IHN0cm9rZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3Ryb2tlO1xuICB9XG4gIHNldCBzdHJva2Uoc3Ryb2tlKSB7XG4gICAgY29uc3Qgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihzdHJva2UpO1xuICAgIGlmICh0aGlzLl9zdHJva2UgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICB0aGlzLl9zdHJva2UgPSBvdXRwdXRDb2xvcjtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgc3Ryb2tlVGhpY2tuZXNzKCkge1xuICAgIHJldHVybiB0aGlzLl9zdHJva2VUaGlja25lc3M7XG4gIH1cbiAgc2V0IHN0cm9rZVRoaWNrbmVzcyhzdHJva2VUaGlja25lc3MpIHtcbiAgICBpZiAodGhpcy5fc3Ryb2tlVGhpY2tuZXNzICE9PSBzdHJva2VUaGlja25lc3MpIHtcbiAgICAgIHRoaXMuX3N0cm9rZVRoaWNrbmVzcyA9IHN0cm9rZVRoaWNrbmVzcztcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgdGV4dEJhc2VsaW5lKCkge1xuICAgIHJldHVybiB0aGlzLl90ZXh0QmFzZWxpbmU7XG4gIH1cbiAgc2V0IHRleHRCYXNlbGluZSh0ZXh0QmFzZWxpbmUpIHtcbiAgICBpZiAodGhpcy5fdGV4dEJhc2VsaW5lICE9PSB0ZXh0QmFzZWxpbmUpIHtcbiAgICAgIHRoaXMuX3RleHRCYXNlbGluZSA9IHRleHRCYXNlbGluZTtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgdHJpbSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdHJpbTtcbiAgfVxuICBzZXQgdHJpbSh0cmltKSB7XG4gICAgaWYgKHRoaXMuX3RyaW0gIT09IHRyaW0pIHtcbiAgICAgIHRoaXMuX3RyaW0gPSB0cmltO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCB3aGl0ZVNwYWNlKCkge1xuICAgIHJldHVybiB0aGlzLl93aGl0ZVNwYWNlO1xuICB9XG4gIHNldCB3aGl0ZVNwYWNlKHdoaXRlU3BhY2UpIHtcbiAgICBpZiAodGhpcy5fd2hpdGVTcGFjZSAhPT0gd2hpdGVTcGFjZSkge1xuICAgICAgdGhpcy5fd2hpdGVTcGFjZSA9IHdoaXRlU3BhY2U7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IHdvcmRXcmFwKCkge1xuICAgIHJldHVybiB0aGlzLl93b3JkV3JhcDtcbiAgfVxuICBzZXQgd29yZFdyYXAod29yZFdyYXApIHtcbiAgICBpZiAodGhpcy5fd29yZFdyYXAgIT09IHdvcmRXcmFwKSB7XG4gICAgICB0aGlzLl93b3JkV3JhcCA9IHdvcmRXcmFwO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCB3b3JkV3JhcFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLl93b3JkV3JhcFdpZHRoO1xuICB9XG4gIHNldCB3b3JkV3JhcFdpZHRoKHdvcmRXcmFwV2lkdGgpIHtcbiAgICBpZiAodGhpcy5fd29yZFdyYXBXaWR0aCAhPT0gd29yZFdyYXBXaWR0aCkge1xuICAgICAgdGhpcy5fd29yZFdyYXBXaWR0aCA9IHdvcmRXcmFwV2lkdGg7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgdG9Gb250U3RyaW5nKCkge1xuICAgIGNvbnN0IGZvbnRTaXplU3RyaW5nID0gdHlwZW9mIHRoaXMuZm9udFNpemUgPT09IFwibnVtYmVyXCIgPyBgJHt0aGlzLmZvbnRTaXplfXB4YCA6IHRoaXMuZm9udFNpemU7XG4gICAgbGV0IGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5mb250RmFtaWx5KSkge1xuICAgICAgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5LnNwbGl0KFwiLFwiKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgbGV0IGZvbnRGYW1pbHkgPSBmb250RmFtaWxpZXNbaV0udHJpbSgpO1xuICAgICAgaWYgKCEvKFtcXFwiXFwnXSlbXlxcJ1xcXCJdK1xcMS8udGVzdChmb250RmFtaWx5KSAmJiAhZ2VuZXJpY0ZvbnRGYW1pbGllcy5pbmNsdWRlcyhmb250RmFtaWx5KSkge1xuICAgICAgICBmb250RmFtaWx5ID0gYFwiJHtmb250RmFtaWx5fVwiYDtcbiAgICAgIH1cbiAgICAgIGZvbnRGYW1pbGllc1tpXSA9IGZvbnRGYW1pbHk7XG4gICAgfVxuICAgIHJldHVybiBgJHt0aGlzLmZvbnRTdHlsZX0gJHt0aGlzLmZvbnRWYXJpYW50fSAke3RoaXMuZm9udFdlaWdodH0gJHtmb250U2l6ZVN0cmluZ30gJHtmb250RmFtaWxpZXMuam9pbihcIixcIil9YDtcbiAgfVxufTtcbmxldCBUZXh0U3R5bGUgPSBfVGV4dFN0eWxlO1xuVGV4dFN0eWxlLmRlZmF1bHRTdHlsZSA9IHtcbiAgYWxpZ246IFwibGVmdFwiLFxuICBicmVha1dvcmRzOiBmYWxzZSxcbiAgZHJvcFNoYWRvdzogZmFsc2UsXG4gIGRyb3BTaGFkb3dBbHBoYTogMSxcbiAgZHJvcFNoYWRvd0FuZ2xlOiBNYXRoLlBJIC8gNixcbiAgZHJvcFNoYWRvd0JsdXI6IDAsXG4gIGRyb3BTaGFkb3dDb2xvcjogXCJibGFja1wiLFxuICBkcm9wU2hhZG93RGlzdGFuY2U6IDUsXG4gIGZpbGw6IFwiYmxhY2tcIixcbiAgZmlsbEdyYWRpZW50VHlwZTogVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwsXG4gIGZpbGxHcmFkaWVudFN0b3BzOiBbXSxcbiAgZm9udEZhbWlseTogXCJBcmlhbFwiLFxuICBmb250U2l6ZTogMjYsXG4gIGZvbnRTdHlsZTogXCJub3JtYWxcIixcbiAgZm9udFZhcmlhbnQ6IFwibm9ybWFsXCIsXG4gIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gIGxlYWRpbmc6IDAsXG4gIGxldHRlclNwYWNpbmc6IDAsXG4gIGxpbmVIZWlnaHQ6IDAsXG4gIGxpbmVKb2luOiBcIm1pdGVyXCIsXG4gIG1pdGVyTGltaXQ6IDEwLFxuICBwYWRkaW5nOiAwLFxuICBzdHJva2U6IFwiYmxhY2tcIixcbiAgc3Ryb2tlVGhpY2tuZXNzOiAwLFxuICB0ZXh0QmFzZWxpbmU6IFwiYWxwaGFiZXRpY1wiLFxuICB0cmltOiBmYWxzZSxcbiAgd2hpdGVTcGFjZTogXCJwcmVcIixcbiAgd29yZFdyYXA6IGZhbHNlLFxuICB3b3JkV3JhcFdpZHRoOiAxMDBcbn07XG5mdW5jdGlvbiBnZXRDb2xvcihjb2xvcikge1xuICBjb25zdCB0ZW1wID0gQ29sb3Iuc2hhcmVkO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgcmV0dXJuIHRlbXAuc2V0VmFsdWUoY29sb3IpLnRvSGV4KCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbG9yLm1hcCgoYykgPT4gdGVtcC5zZXRWYWx1ZShjKS50b0hleCgpKTtcbiAgfVxufVxuZnVuY3Rpb24gYXJlQXJyYXlzRXF1YWwoYXJyYXkxLCBhcnJheTIpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5MSkgfHwgIUFycmF5LmlzQXJyYXkoYXJyYXkyKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoYXJyYXkxLmxlbmd0aCAhPT0gYXJyYXkyLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5MS5sZW5ndGg7ICsraSkge1xuICAgIGlmIChhcnJheTFbaV0gIT09IGFycmF5MltpXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGRlZXBDb3B5UHJvcGVydGllcyh0YXJnZXQsIHNvdXJjZSwgcHJvcGVydHlPYmopIHtcbiAgZm9yIChjb25zdCBwcm9wIGluIHByb3BlcnR5T2JqKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlW3Byb3BdKSkge1xuICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdLnNsaWNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgVGV4dFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0U3R5bGUubWpzLm1hcFxuIiwidmFyIFRFWFRfR1JBRElFTlQgPSAvKiBAX19QVVJFX18gKi8gKChURVhUX0dSQURJRU5UMikgPT4ge1xuICBURVhUX0dSQURJRU5UMltURVhUX0dSQURJRU5UMltcIkxJTkVBUl9WRVJUSUNBTFwiXSA9IDBdID0gXCJMSU5FQVJfVkVSVElDQUxcIjtcbiAgVEVYVF9HUkFESUVOVDJbVEVYVF9HUkFESUVOVDJbXCJMSU5FQVJfSE9SSVpPTlRBTFwiXSA9IDFdID0gXCJMSU5FQVJfSE9SSVpPTlRBTFwiO1xuICByZXR1cm4gVEVYVF9HUkFESUVOVDI7XG59KShURVhUX0dSQURJRU5UIHx8IHt9KTtcblxuZXhwb3J0IHsgVEVYVF9HUkFESUVOVCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3QubWpzLm1hcFxuIiwiZXhwb3J0IHsgVEVYVF9HUkFESUVOVCB9IGZyb20gJy4vY29uc3QubWpzJztcbmV4cG9ydCB7IFRleHQgfSBmcm9tICcuL1RleHQubWpzJztcbmV4cG9ydCB7IFRleHRNZXRyaWNzIH0gZnJvbSAnLi9UZXh0TWV0cmljcy5tanMnO1xuZXhwb3J0IHsgVGV4dFN0eWxlIH0gZnJvbSAnLi9UZXh0U3R5bGUubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IFVQREFURV9QUklPUklUWSB9IGZyb20gJy4vY29uc3QubWpzJztcbmltcG9ydCB7IFRpY2tlckxpc3RlbmVyIH0gZnJvbSAnLi9UaWNrZXJMaXN0ZW5lci5tanMnO1xuXG5jb25zdCBfVGlja2VyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmF1dG9TdGFydCA9IGZhbHNlO1xuICAgIHRoaXMuZGVsdGFUaW1lID0gMTtcbiAgICB0aGlzLmxhc3RUaW1lID0gLTE7XG4gICAgdGhpcy5zcGVlZCA9IDE7XG4gICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICB0aGlzLl9tYXhFbGFwc2VkTVMgPSAxMDA7XG4gICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcbiAgICB0aGlzLl9wcm90ZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9sYXN0RnJhbWUgPSAtMTtcbiAgICB0aGlzLl9oZWFkID0gbmV3IFRpY2tlckxpc3RlbmVyKG51bGwsIG51bGwsIEluZmluaXR5KTtcbiAgICB0aGlzLmRlbHRhTVMgPSAxIC8gX1RpY2tlci50YXJnZXRGUE1TO1xuICAgIHRoaXMuZWxhcHNlZE1TID0gMSAvIF9UaWNrZXIudGFyZ2V0RlBNUztcbiAgICB0aGlzLl90aWNrID0gKHRpbWUpID0+IHtcbiAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKHRpbWUpO1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkICYmIHRoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiB0aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIF9yZXF1ZXN0SWZOZWVkZWQoKSB7XG4gICAgaWYgKHRoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiB0aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgIHRoaXMubGFzdFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIHRoaXMuX2xhc3RGcmFtZSA9IHRoaXMubGFzdFRpbWU7XG4gICAgICB0aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG4gICAgfVxuICB9XG4gIF9jYW5jZWxJZk5lZWRlZCgpIHtcbiAgICBpZiAodGhpcy5fcmVxdWVzdElkICE9PSBudWxsKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0SWQpO1xuICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgX3N0YXJ0SWZQb3NzaWJsZSgpIHtcbiAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXV0b1N0YXJ0KSB7XG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuICB9XG4gIGFkZChmbiwgY29udGV4dCwgcHJpb3JpdHkgPSBVUERBVEVfUFJJT1JJVFkuTk9STUFMKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHkpKTtcbiAgfVxuICBhZGRPbmNlKGZuLCBjb250ZXh0LCBwcmlvcml0eSA9IFVQREFURV9QUklPUklUWS5OT1JNQUwpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSwgdHJ1ZSkpO1xuICB9XG4gIF9hZGRMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgIGxldCBjdXJyZW50ID0gdGhpcy5faGVhZC5uZXh0O1xuICAgIGxldCBwcmV2aW91cyA9IHRoaXMuX2hlYWQ7XG4gICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyLnByaW9yaXR5ID4gY3VycmVudC5wcmlvcml0eSkge1xuICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzID0gY3VycmVudDtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgICAgIH1cbiAgICAgIGlmICghbGlzdGVuZXIucHJldmlvdXMpIHtcbiAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3N0YXJ0SWZQb3NzaWJsZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJlbW92ZShmbiwgY29udGV4dCkge1xuICAgIGxldCBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgIGlmIChsaXN0ZW5lci5tYXRjaChmbiwgY29udGV4dCkpIHtcbiAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBnZXQgY291bnQoKSB7XG4gICAgaWYgKCF0aGlzLl9oZWFkKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBsZXQgY3VycmVudCA9IHRoaXMuX2hlYWQ7XG4gICAgd2hpbGUgKGN1cnJlbnQgPSBjdXJyZW50Lm5leHQpIHtcbiAgICAgIGNvdW50Kys7XG4gICAgfVxuICAgIHJldHVybiBjb3VudDtcbiAgfVxuICBzdGFydCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgIH1cbiAgfVxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAoIXRoaXMuX3Byb3RlY3RlZCkge1xuICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICBsZXQgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KHRydWUpO1xuICAgICAgfVxuICAgICAgdGhpcy5faGVhZC5kZXN0cm95KCk7XG4gICAgICB0aGlzLl9oZWFkID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgdXBkYXRlKGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkpIHtcbiAgICBsZXQgZWxhcHNlZE1TO1xuICAgIGlmIChjdXJyZW50VGltZSA+IHRoaXMubGFzdFRpbWUpIHtcbiAgICAgIGVsYXBzZWRNUyA9IHRoaXMuZWxhcHNlZE1TID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUaW1lO1xuICAgICAgaWYgKGVsYXBzZWRNUyA+IHRoaXMuX21heEVsYXBzZWRNUykge1xuICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgICB9XG4gICAgICBlbGFwc2VkTVMgKj0gdGhpcy5zcGVlZDtcbiAgICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpIHtcbiAgICAgICAgY29uc3QgZGVsdGEgPSBjdXJyZW50VGltZSAtIHRoaXMuX2xhc3RGcmFtZSB8IDA7XG4gICAgICAgIGlmIChkZWx0YSA8IHRoaXMuX21pbkVsYXBzZWRNUykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSBjdXJyZW50VGltZSAtIGRlbHRhICUgdGhpcy5fbWluRWxhcHNlZE1TO1xuICAgICAgfVxuICAgICAgdGhpcy5kZWx0YU1TID0gZWxhcHNlZE1TO1xuICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmRlbHRhTVMgKiBfVGlja2VyLnRhcmdldEZQTVM7XG4gICAgICBjb25zdCBoZWFkID0gdGhpcy5faGVhZDtcbiAgICAgIGxldCBsaXN0ZW5lciA9IGhlYWQubmV4dDtcbiAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmVtaXQodGhpcy5kZWx0YVRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKCFoZWFkLm5leHQpIHtcbiAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmRlbHRhTVMgPSB0aGlzLmVsYXBzZWRNUyA9IDA7XG4gICAgfVxuICAgIHRoaXMubGFzdFRpbWUgPSBjdXJyZW50VGltZTtcbiAgfVxuICBnZXQgRlBTKCkge1xuICAgIHJldHVybiAxZTMgLyB0aGlzLmVsYXBzZWRNUztcbiAgfVxuICBnZXQgbWluRlBTKCkge1xuICAgIHJldHVybiAxZTMgLyB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gIH1cbiAgc2V0IG1pbkZQUyhmcHMpIHtcbiAgICBjb25zdCBtaW5GUFMgPSBNYXRoLm1pbih0aGlzLm1heEZQUywgZnBzKTtcbiAgICBjb25zdCBtaW5GUE1TID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgbWluRlBTKSAvIDFlMywgX1RpY2tlci50YXJnZXRGUE1TKTtcbiAgICB0aGlzLl9tYXhFbGFwc2VkTVMgPSAxIC8gbWluRlBNUztcbiAgfVxuICBnZXQgbWF4RlBTKCkge1xuICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpIHtcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKDFlMyAvIHRoaXMuX21pbkVsYXBzZWRNUyk7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG4gIHNldCBtYXhGUFMoZnBzKSB7XG4gICAgaWYgKGZwcyA9PT0gMCkge1xuICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWF4RlBTID0gTWF0aC5tYXgodGhpcy5taW5GUFMsIGZwcyk7XG4gICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAxIC8gKG1heEZQUyAvIDFlMyk7XG4gICAgfVxuICB9XG4gIHN0YXRpYyBnZXQgc2hhcmVkKCkge1xuICAgIGlmICghX1RpY2tlci5fc2hhcmVkKSB7XG4gICAgICBjb25zdCBzaGFyZWQgPSBfVGlja2VyLl9zaGFyZWQgPSBuZXcgX1RpY2tlcigpO1xuICAgICAgc2hhcmVkLmF1dG9TdGFydCA9IHRydWU7XG4gICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBfVGlja2VyLl9zaGFyZWQ7XG4gIH1cbiAgc3RhdGljIGdldCBzeXN0ZW0oKSB7XG4gICAgaWYgKCFfVGlja2VyLl9zeXN0ZW0pIHtcbiAgICAgIGNvbnN0IHN5c3RlbSA9IF9UaWNrZXIuX3N5c3RlbSA9IG5ldyBfVGlja2VyKCk7XG4gICAgICBzeXN0ZW0uYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgIHN5c3RlbS5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIF9UaWNrZXIuX3N5c3RlbTtcbiAgfVxufTtcbmxldCBUaWNrZXIgPSBfVGlja2VyO1xuVGlja2VyLnRhcmdldEZQTVMgPSAwLjA2O1xuXG5leHBvcnQgeyBUaWNrZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpY2tlci5tanMubWFwXG4iLCJjbGFzcyBUaWNrZXJMaXN0ZW5lciB7XG4gIGNvbnN0cnVjdG9yKGZuLCBjb250ZXh0ID0gbnVsbCwgcHJpb3JpdHkgPSAwLCBvbmNlID0gZmFsc2UpIHtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgIHRoaXMuZm4gPSBmbjtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICB0aGlzLm9uY2UgPSBvbmNlO1xuICB9XG4gIG1hdGNoKGZuLCBjb250ZXh0ID0gbnVsbCkge1xuICAgIHJldHVybiB0aGlzLmZuID09PSBmbiAmJiB0aGlzLmNvbnRleHQgPT09IGNvbnRleHQ7XG4gIH1cbiAgZW1pdChkZWx0YVRpbWUpIHtcbiAgICBpZiAodGhpcy5mbikge1xuICAgICAgaWYgKHRoaXMuY29udGV4dCkge1xuICAgICAgICB0aGlzLmZuLmNhbGwodGhpcy5jb250ZXh0LCBkZWx0YVRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mbihkZWx0YVRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZWRpcmVjdCA9IHRoaXMubmV4dDtcbiAgICBpZiAodGhpcy5vbmNlKSB7XG4gICAgICB0aGlzLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiByZWRpcmVjdDtcbiAgfVxuICBjb25uZWN0KHByZXZpb3VzKSB7XG4gICAgdGhpcy5wcmV2aW91cyA9IHByZXZpb3VzO1xuICAgIGlmIChwcmV2aW91cy5uZXh0KSB7XG4gICAgICBwcmV2aW91cy5uZXh0LnByZXZpb3VzID0gdGhpcztcbiAgICB9XG4gICAgdGhpcy5uZXh0ID0gcHJldmlvdXMubmV4dDtcbiAgICBwcmV2aW91cy5uZXh0ID0gdGhpcztcbiAgfVxuICBkZXN0cm95KGhhcmQgPSBmYWxzZSkge1xuICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgdGhpcy5mbiA9IG51bGw7XG4gICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICBpZiAodGhpcy5wcmV2aW91cykge1xuICAgICAgdGhpcy5wcmV2aW91cy5uZXh0ID0gdGhpcy5uZXh0O1xuICAgIH1cbiAgICBpZiAodGhpcy5uZXh0KSB7XG4gICAgICB0aGlzLm5leHQucHJldmlvdXMgPSB0aGlzLnByZXZpb3VzO1xuICAgIH1cbiAgICBjb25zdCByZWRpcmVjdCA9IHRoaXMubmV4dDtcbiAgICB0aGlzLm5leHQgPSBoYXJkID8gbnVsbCA6IHJlZGlyZWN0O1xuICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuICAgIHJldHVybiByZWRpcmVjdDtcbiAgfVxufVxuXG5leHBvcnQgeyBUaWNrZXJMaXN0ZW5lciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlja2VyTGlzdGVuZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuaW1wb3J0IHsgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnLi9jb25zdC5tanMnO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnLi9UaWNrZXIubWpzJztcblxuY2xhc3MgVGlja2VyUGx1Z2luIHtcbiAgc3RhdGljIGluaXQob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIGF1dG9TdGFydDogdHJ1ZSxcbiAgICAgIHNoYXJlZFRpY2tlcjogZmFsc2VcbiAgICB9LCBvcHRpb25zKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aWNrZXJcIiwge1xuICAgICAgc2V0KHRpY2tlcikge1xuICAgICAgICBpZiAodGhpcy5fdGlja2VyKSB7XG4gICAgICAgICAgdGhpcy5fdGlja2VyLnJlbW92ZSh0aGlzLnJlbmRlciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGlja2VyID0gdGlja2VyO1xuICAgICAgICBpZiAodGlja2VyKSB7XG4gICAgICAgICAgdGlja2VyLmFkZCh0aGlzLnJlbmRlciwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLkxPVyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aWNrZXI7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zdG9wID0gKCkgPT4ge1xuICAgICAgdGhpcy5fdGlja2VyLnN0b3AoKTtcbiAgICB9O1xuICAgIHRoaXMuc3RhcnQgPSAoKSA9PiB7XG4gICAgICB0aGlzLl90aWNrZXIuc3RhcnQoKTtcbiAgICB9O1xuICAgIHRoaXMuX3RpY2tlciA9IG51bGw7XG4gICAgdGhpcy50aWNrZXIgPSBvcHRpb25zLnNoYXJlZFRpY2tlciA/IFRpY2tlci5zaGFyZWQgOiBuZXcgVGlja2VyKCk7XG4gICAgaWYgKG9wdGlvbnMuYXV0b1N0YXJ0KSB7XG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuICB9XG4gIHN0YXRpYyBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgIGNvbnN0IG9sZFRpY2tlciA9IHRoaXMuX3RpY2tlcjtcbiAgICAgIHRoaXMudGlja2VyID0gbnVsbDtcbiAgICAgIG9sZFRpY2tlci5kZXN0cm95KCk7XG4gICAgfVxuICB9XG59XG5UaWNrZXJQbHVnaW4uZXh0ZW5zaW9uID0gRXh0ZW5zaW9uVHlwZS5BcHBsaWNhdGlvbjtcbmV4dGVuc2lvbnMuYWRkKFRpY2tlclBsdWdpbik7XG5cbmV4cG9ydCB7IFRpY2tlclBsdWdpbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlja2VyUGx1Z2luLm1qcy5tYXBcbiIsInZhciBVUERBVEVfUFJJT1JJVFkgPSAvKiBAX19QVVJFX18gKi8gKChVUERBVEVfUFJJT1JJVFkyKSA9PiB7XG4gIFVQREFURV9QUklPUklUWTJbVVBEQVRFX1BSSU9SSVRZMltcIklOVEVSQUNUSU9OXCJdID0gNTBdID0gXCJJTlRFUkFDVElPTlwiO1xuICBVUERBVEVfUFJJT1JJVFkyW1VQREFURV9QUklPUklUWTJbXCJISUdIXCJdID0gMjVdID0gXCJISUdIXCI7XG4gIFVQREFURV9QUklPUklUWTJbVVBEQVRFX1BSSU9SSVRZMltcIk5PUk1BTFwiXSA9IDBdID0gXCJOT1JNQUxcIjtcbiAgVVBEQVRFX1BSSU9SSVRZMltVUERBVEVfUFJJT1JJVFkyW1wiTE9XXCJdID0gLTI1XSA9IFwiTE9XXCI7XG4gIFVQREFURV9QUklPUklUWTJbVVBEQVRFX1BSSU9SSVRZMltcIlVUSUxJVFlcIl0gPSAtNTBdID0gXCJVVElMSVRZXCI7XG4gIHJldHVybiBVUERBVEVfUFJJT1JJVFkyO1xufSkoVVBEQVRFX1BSSU9SSVRZIHx8IHt9KTtcblxuZXhwb3J0IHsgVVBEQVRFX1BSSU9SSVRZIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdC5tanMubWFwXG4iLCJpbXBvcnQgJy4vc2V0dGluZ3MubWpzJztcbmV4cG9ydCB7IFVQREFURV9QUklPUklUWSB9IGZyb20gJy4vY29uc3QubWpzJztcbmV4cG9ydCB7IFRpY2tlciB9IGZyb20gJy4vVGlja2VyLm1qcyc7XG5leHBvcnQgeyBUaWNrZXJQbHVnaW4gfSBmcm9tICcuL1RpY2tlclBsdWdpbi5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5leHBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnLi9UaWNrZXIubWpzJztcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc2V0dGluZ3MsIHtcbiAgVEFSR0VUX0ZQTVM6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gVGlja2VyLnRhcmdldEZQTVM7XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIGRlcHJlY2F0aW9uKFwiNy4xLjBcIiwgXCJzZXR0aW5ncy5UQVJHRVRfRlBNUyBpcyBkZXByZWNhdGVkLCB1c2UgVGlja2VyLnRhcmdldEZQTVNcIik7XG4gICAgICBUaWNrZXIudGFyZ2V0RlBNUyA9IHZhbHVlO1xuICAgIH1cbiAgfVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR0aW5ncy5tanMubWFwXG4iLCJpbXBvcnQgeyBkZXByZWNhdGlvbiB9IGZyb20gJy4uL2xvZ2dpbmcvZGVwcmVjYXRpb24ubWpzJztcblxuZnVuY3Rpb24gc2tpcEhlbGxvKCkge1xuICBkZXByZWNhdGlvbihcIjcuMC4wXCIsIFwic2tpcEhlbGxvIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2Ugc2V0dGluZ3MuUkVOREVSX09QVElPTlMuaGVsbG9cIik7XG59XG5mdW5jdGlvbiBzYXlIZWxsbygpIHtcbiAgZGVwcmVjYXRpb24oXCI3LjAuMFwiLCBgc2F5SGVsbG8gaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBSZW5kZXJlcidzIFwiaGVsbG9cIiBvcHRpb25gKTtcbn1cblxuZXhwb3J0IHsgc2F5SGVsbG8sIHNraXBIZWxsbyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVsbG8ubWpzLm1hcFxuIiwiaW1wb3J0ICcuLi9zZXR0aW5ncy5tanMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbmxldCBzdXBwb3J0ZWQ7XG5mdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkKCkge1xuICBpZiAodHlwZW9mIHN1cHBvcnRlZCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHN1cHBvcnRlZCA9IGZ1bmN0aW9uIHN1cHBvcnRlZDIoKSB7XG4gICAgICBjb25zdCBjb250ZXh0T3B0aW9ucyA9IHtcbiAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVRcbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIXNldHRpbmdzLkFEQVBURVIuZ2V0V2ViR0xSZW5kZXJpbmdDb250ZXh0KCkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FudmFzID0gc2V0dGluZ3MuQURBUFRFUi5jcmVhdGVDYW52YXMoKTtcbiAgICAgICAgbGV0IGdsID0gY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiLCBjb250ZXh0T3B0aW9ucykgfHwgY2FudmFzLmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIiwgY29udGV4dE9wdGlvbnMpO1xuICAgICAgICBjb25zdCBzdWNjZXNzID0gISFnbD8uZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKT8uc3RlbmNpbDtcbiAgICAgICAgaWYgKGdsKSB7XG4gICAgICAgICAgY29uc3QgbG9zZUNvbnRleHQgPSBnbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9sb3NlX2NvbnRleHRcIik7XG4gICAgICAgICAgaWYgKGxvc2VDb250ZXh0KSB7XG4gICAgICAgICAgICBsb3NlQ29udGV4dC5sb3NlQ29udGV4dCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnbCA9IG51bGw7XG4gICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSgpO1xuICB9XG4gIHJldHVybiBzdXBwb3J0ZWQ7XG59XG5cbmV4cG9ydCB7IGlzV2ViR0xTdXBwb3J0ZWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzV2ViR0xTdXBwb3J0ZWQubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ29sb3IgfSBmcm9tICdAcGl4aS9jb2xvcic7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiB9IGZyb20gJy4uL2xvZ2dpbmcvZGVwcmVjYXRpb24ubWpzJztcblxuZnVuY3Rpb24gaGV4MnJnYihoZXgsIG91dCA9IFtdKSB7XG4gIGRlcHJlY2F0aW9uKFwiNy4yLjBcIiwgXCJ1dGlscy5oZXgycmdiIGlzIGRlcHJlY2F0ZWQsIHVzZSBDb2xvciN0b1JnYkFycmF5IGluc3RlYWRcIik7XG4gIHJldHVybiBDb2xvci5zaGFyZWQuc2V0VmFsdWUoaGV4KS50b1JnYkFycmF5KG91dCk7XG59XG5mdW5jdGlvbiBoZXgyc3RyaW5nKGhleCkge1xuICBkZXByZWNhdGlvbihcIjcuMi4wXCIsIFwidXRpbHMuaGV4MnN0cmluZyBpcyBkZXByZWNhdGVkLCB1c2UgQ29sb3IjdG9IZXggaW5zdGVhZFwiKTtcbiAgcmV0dXJuIENvbG9yLnNoYXJlZC5zZXRWYWx1ZShoZXgpLnRvSGV4KCk7XG59XG5mdW5jdGlvbiBzdHJpbmcyaGV4KHN0cmluZykge1xuICBkZXByZWNhdGlvbihcIjcuMi4wXCIsIFwidXRpbHMuc3RyaW5nMmhleCBpcyBkZXByZWNhdGVkLCB1c2UgQ29sb3IjdG9OdW1iZXIgaW5zdGVhZFwiKTtcbiAgcmV0dXJuIENvbG9yLnNoYXJlZC5zZXRWYWx1ZShzdHJpbmcpLnRvTnVtYmVyKCk7XG59XG5mdW5jdGlvbiByZ2IyaGV4KHJnYikge1xuICBkZXByZWNhdGlvbihcIjcuMi4wXCIsIFwidXRpbHMucmdiMmhleCBpcyBkZXByZWNhdGVkLCB1c2UgQ29sb3IjdG9OdW1iZXIgaW5zdGVhZFwiKTtcbiAgcmV0dXJuIENvbG9yLnNoYXJlZC5zZXRWYWx1ZShyZ2IpLnRvTnVtYmVyKCk7XG59XG5cbmV4cG9ydCB7IGhleDJyZ2IsIGhleDJzdHJpbmcsIHJnYjJoZXgsIHN0cmluZzJoZXggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhleC5tanMubWFwXG4iLCJpbXBvcnQgeyBDb2xvciB9IGZyb20gJ0BwaXhpL2NvbG9yJztcbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uIH0gZnJvbSAnLi4vbG9nZ2luZy9kZXByZWNhdGlvbi5tanMnO1xuXG5mdW5jdGlvbiBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcygpIHtcbiAgY29uc3QgcG0gPSBbXTtcbiAgY29uc3QgbnBtID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzI7IGkrKykge1xuICAgIHBtW2ldID0gaTtcbiAgICBucG1baV0gPSBpO1xuICB9XG4gIHBtW0JMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICBwbVtCTEVORF9NT0RFUy5BRERfTlBNXSA9IEJMRU5EX01PREVTLkFERDtcbiAgcG1bQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBCTEVORF9NT0RFUy5TQ1JFRU47XG4gIG5wbVtCTEVORF9NT0RFUy5OT1JNQUxdID0gQkxFTkRfTU9ERVMuTk9STUFMX05QTTtcbiAgbnBtW0JMRU5EX01PREVTLkFERF0gPSBCTEVORF9NT0RFUy5BRERfTlBNO1xuICBucG1bQkxFTkRfTU9ERVMuU0NSRUVOXSA9IEJMRU5EX01PREVTLlNDUkVFTl9OUE07XG4gIGNvbnN0IGFycmF5ID0gW107XG4gIGFycmF5LnB1c2gobnBtKTtcbiAgYXJyYXkucHVzaChwbSk7XG4gIHJldHVybiBhcnJheTtcbn1cbmNvbnN0IHByZW11bHRpcGx5QmxlbmRNb2RlID0gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMoKTtcbmZ1bmN0aW9uIGNvcnJlY3RCbGVuZE1vZGUoYmxlbmRNb2RlLCBwcmVtdWx0aXBsaWVkKSB7XG4gIHJldHVybiBwcmVtdWx0aXBseUJsZW5kTW9kZVtwcmVtdWx0aXBsaWVkID8gMSA6IDBdW2JsZW5kTW9kZV07XG59XG5mdW5jdGlvbiBwcmVtdWx0aXBseVJnYmEocmdiLCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSA9IHRydWUpIHtcbiAgZGVwcmVjYXRpb24oXCI3LjIuMFwiLCBgdXRpbHMucHJlbXVsdGlwbHlSZ2JhIGhhcyBtb3ZlZCB0byBDb2xvci5wcmVtdWx0aXBseWApO1xuICByZXR1cm4gQ29sb3Iuc2hhcmVkLnNldFZhbHVlKHJnYikucHJlbXVsdGlwbHkoYWxwaGEsIHByZW11bHRpcGx5KS50b0FycmF5KG91dCA/PyBuZXcgRmxvYXQzMkFycmF5KDQpKTtcbn1cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludCh0aW50LCBhbHBoYSkge1xuICBkZXByZWNhdGlvbihcIjcuMi4wXCIsIGB1dGlscy5wcmVtdWx0aXBseVRpbnQgaGFzIG1vdmVkIHRvIENvbG9yLnRvUHJlbXVsdGlwbGllZGApO1xuICByZXR1cm4gQ29sb3Iuc2hhcmVkLnNldFZhbHVlKHRpbnQpLnRvUHJlbXVsdGlwbGllZChhbHBoYSk7XG59XG5mdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRUb1JnYmEodGludCwgYWxwaGEsIG91dCwgcHJlbXVsdGlwbHkgPSB0cnVlKSB7XG4gIGRlcHJlY2F0aW9uKFwiNy4yLjBcIiwgYHV0aWxzLnByZW11bHRpcGx5VGludFRvUmdiYSBoYXMgbW92ZWQgdG8gQ29sb3IucHJlbXVsdGlwbHlgKTtcbiAgcmV0dXJuIENvbG9yLnNoYXJlZC5zZXRWYWx1ZSh0aW50KS5wcmVtdWx0aXBseShhbHBoYSwgcHJlbXVsdGlwbHkpLnRvQXJyYXkob3V0ID8/IG5ldyBGbG9hdDMyQXJyYXkoNCkpO1xufVxuXG5leHBvcnQgeyBjb3JyZWN0QmxlbmRNb2RlLCBwcmVtdWx0aXBseUJsZW5kTW9kZSwgcHJlbXVsdGlwbHlSZ2JhLCBwcmVtdWx0aXBseVRpbnQsIHByZW11bHRpcGx5VGludFRvUmdiYSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJlbXVsdGlwbHkubWpzLm1hcFxuIiwiY29uc3QgREFUQV9VUkkgPSAvXlxccypkYXRhOig/OihbXFx3LV0rKVxcLyhbXFx3Ky4tXSspKT8oPzo7Y2hhcnNldD0oW1xcdy1dKykpPyg/OjsoYmFzZTY0KSk/LCguKikvaTtcblxuZXhwb3J0IHsgREFUQV9VUkkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0Lm1qcy5tYXBcbiIsImZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplLCBvdXRCdWZmZXIgPSBudWxsKSB7XG4gIGNvbnN0IHRvdGFsSW5kaWNlcyA9IHNpemUgKiA2O1xuICBvdXRCdWZmZXIgPSBvdXRCdWZmZXIgfHwgbmV3IFVpbnQxNkFycmF5KHRvdGFsSW5kaWNlcyk7XG4gIGlmIChvdXRCdWZmZXIubGVuZ3RoICE9PSB0b3RhbEluZGljZXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE91dCBidWZmZXIgbGVuZ3RoIGlzIGluY29ycmVjdCwgZ290ICR7b3V0QnVmZmVyLmxlbmd0aH0gYW5kIGV4cGVjdGVkICR7dG90YWxJbmRpY2VzfWApO1xuICB9XG4gIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsSW5kaWNlczsgaSArPSA2LCBqICs9IDQpIHtcbiAgICBvdXRCdWZmZXJbaSArIDBdID0gaiArIDA7XG4gICAgb3V0QnVmZmVyW2kgKyAxXSA9IGogKyAxO1xuICAgIG91dEJ1ZmZlcltpICsgMl0gPSBqICsgMjtcbiAgICBvdXRCdWZmZXJbaSArIDNdID0gaiArIDA7XG4gICAgb3V0QnVmZmVyW2kgKyA0XSA9IGogKyAyO1xuICAgIG91dEJ1ZmZlcltpICsgNV0gPSBqICsgMztcbiAgfVxuICByZXR1cm4gb3V0QnVmZmVyO1xufVxuXG5leHBvcnQgeyBjcmVhdGVJbmRpY2VzRm9yUXVhZHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUluZGljZXNGb3JRdWFkcy5tanMubWFwXG4iLCJmdW5jdGlvbiBnZXRCdWZmZXJUeXBlKGFycmF5KSB7XG4gIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkge1xuICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkge1xuICAgICAgcmV0dXJuIFwiRmxvYXQzMkFycmF5XCI7XG4gICAgfSBlbHNlIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KSB7XG4gICAgICByZXR1cm4gXCJVaW50MzJBcnJheVwiO1xuICAgIH1cbiAgICByZXR1cm4gXCJJbnQzMkFycmF5XCI7XG4gIH0gZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDIpIHtcbiAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MTZBcnJheSkge1xuICAgICAgcmV0dXJuIFwiVWludDE2QXJyYXlcIjtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDEpIHtcbiAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICByZXR1cm4gXCJVaW50OEFycmF5XCI7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgeyBnZXRCdWZmZXJUeXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRCdWZmZXJUeXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IGdldEJ1ZmZlclR5cGUgfSBmcm9tICcuL2dldEJ1ZmZlclR5cGUubWpzJztcblxuY29uc3QgbWFwID0geyBGbG9hdDMyQXJyYXksIFVpbnQzMkFycmF5LCBJbnQzMkFycmF5LCBVaW50OEFycmF5IH07XG5mdW5jdGlvbiBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcykge1xuICBsZXQgb3V0U2l6ZSA9IDA7XG4gIGxldCBzdHJpZGUgPSAwO1xuICBjb25zdCB2aWV3cyA9IHt9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKykge1xuICAgIHN0cmlkZSArPSBzaXplc1tpXTtcbiAgICBvdXRTaXplICs9IGFycmF5c1tpXS5sZW5ndGg7XG4gIH1cbiAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG91dFNpemUgKiA0KTtcbiAgbGV0IG91dCA9IG51bGw7XG4gIGxldCBsaXR0bGVPZmZzZXQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHNpemUgPSBzaXplc1tpXTtcbiAgICBjb25zdCBhcnJheSA9IGFycmF5c1tpXTtcbiAgICBjb25zdCB0eXBlID0gZ2V0QnVmZmVyVHlwZShhcnJheSk7XG4gICAgaWYgKCF2aWV3c1t0eXBlXSkge1xuICAgICAgdmlld3NbdHlwZV0gPSBuZXcgbWFwW3R5cGVdKGJ1ZmZlcik7XG4gICAgfVxuICAgIG91dCA9IHZpZXdzW3R5cGVdO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXJyYXkubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IGluZGV4U3RhcnQgPSAoaiAvIHNpemUgfCAwKSAqIHN0cmlkZSArIGxpdHRsZU9mZnNldDtcbiAgICAgIGNvbnN0IGluZGV4ID0gaiAlIHNpemU7XG4gICAgICBvdXRbaW5kZXhTdGFydCArIGluZGV4XSA9IGFycmF5W2pdO1xuICAgIH1cbiAgICBsaXR0bGVPZmZzZXQgKz0gc2l6ZTtcbiAgfVxuICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xufVxuXG5leHBvcnQgeyBpbnRlcmxlYXZlVHlwZWRBcnJheXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVybGVhdmVUeXBlZEFycmF5cy5tanMubWFwXG4iLCJmdW5jdGlvbiBuZXh0UG93Mih2KSB7XG4gIHYgKz0gdiA9PT0gMCA/IDEgOiAwO1xuICAtLXY7XG4gIHYgfD0gdiA+Pj4gMTtcbiAgdiB8PSB2ID4+PiAyO1xuICB2IHw9IHYgPj4+IDQ7XG4gIHYgfD0gdiA+Pj4gODtcbiAgdiB8PSB2ID4+PiAxNjtcbiAgcmV0dXJuIHYgKyAxO1xufVxuZnVuY3Rpb24gaXNQb3cyKHYpIHtcbiAgcmV0dXJuICEodiAmIHYgLSAxKSAmJiAhIXY7XG59XG5mdW5jdGlvbiBsb2cyKHYpIHtcbiAgbGV0IHIgPSAodiA+IDY1NTM1ID8gMSA6IDApIDw8IDQ7XG4gIHYgPj4+PSByO1xuICBsZXQgc2hpZnQgPSAodiA+IDI1NSA/IDEgOiAwKSA8PCAzO1xuICB2ID4+Pj0gc2hpZnQ7XG4gIHIgfD0gc2hpZnQ7XG4gIHNoaWZ0ID0gKHYgPiAxNSA/IDEgOiAwKSA8PCAyO1xuICB2ID4+Pj0gc2hpZnQ7XG4gIHIgfD0gc2hpZnQ7XG4gIHNoaWZ0ID0gKHYgPiAzID8gMSA6IDApIDw8IDE7XG4gIHYgPj4+PSBzaGlmdDtcbiAgciB8PSBzaGlmdDtcbiAgcmV0dXJuIHIgfCB2ID4+IDE7XG59XG5cbmV4cG9ydCB7IGlzUG93MiwgbG9nMiwgbmV4dFBvdzIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvdzIubWpzLm1hcFxuIiwiZnVuY3Rpb24gcmVtb3ZlSXRlbXMoYXJyLCBzdGFydElkeCwgcmVtb3ZlQ291bnQpIHtcbiAgY29uc3QgbGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgbGV0IGk7XG4gIGlmIChzdGFydElkeCA+PSBsZW5ndGggfHwgcmVtb3ZlQ291bnQgPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmVtb3ZlQ291bnQgPSBzdGFydElkeCArIHJlbW92ZUNvdW50ID4gbGVuZ3RoID8gbGVuZ3RoIC0gc3RhcnRJZHggOiByZW1vdmVDb3VudDtcbiAgY29uc3QgbGVuID0gbGVuZ3RoIC0gcmVtb3ZlQ291bnQ7XG4gIGZvciAoaSA9IHN0YXJ0SWR4OyBpIDwgbGVuOyArK2kpIHtcbiAgICBhcnJbaV0gPSBhcnJbaSArIHJlbW92ZUNvdW50XTtcbiAgfVxuICBhcnIubGVuZ3RoID0gbGVuO1xufVxuXG5leHBvcnQgeyByZW1vdmVJdGVtcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVtb3ZlSXRlbXMubWpzLm1hcFxuIiwiZnVuY3Rpb24gc2lnbihuKSB7XG4gIGlmIChuID09PSAwKVxuICAgIHJldHVybiAwO1xuICByZXR1cm4gbiA8IDAgPyAtMSA6IDE7XG59XG5cbmV4cG9ydCB7IHNpZ24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNpZ24ubWpzLm1hcFxuIiwibGV0IG5leHRVaWQgPSAwO1xuZnVuY3Rpb24gdWlkKCkge1xuICByZXR1cm4gKytuZXh0VWlkO1xufVxuXG5leHBvcnQgeyB1aWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVpZC5tanMubWFwXG4iLCJpbXBvcnQgJy4vc2V0dGluZ3MubWpzJztcbmV4cG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudGVtaXR0ZXIzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZWFyY3V0IH0gZnJvbSAnZWFyY3V0JztcbmV4cG9ydCB7IHVybCB9IGZyb20gJy4vdXJsLm1qcyc7XG5leHBvcnQgeyBwYXRoIH0gZnJvbSAnLi9wYXRoLm1qcyc7XG5leHBvcnQgeyBzYXlIZWxsbywgc2tpcEhlbGxvIH0gZnJvbSAnLi9icm93c2VyL2hlbGxvLm1qcyc7XG5leHBvcnQgeyBpc1dlYkdMU3VwcG9ydGVkIH0gZnJvbSAnLi9icm93c2VyL2lzV2ViR0xTdXBwb3J0ZWQubWpzJztcbmV4cG9ydCB7IGhleDJyZ2IsIGhleDJzdHJpbmcsIHJnYjJoZXgsIHN0cmluZzJoZXggfSBmcm9tICcuL2NvbG9yL2hleC5tanMnO1xuZXhwb3J0IHsgY29ycmVjdEJsZW5kTW9kZSwgcHJlbXVsdGlwbHlCbGVuZE1vZGUsIHByZW11bHRpcGx5UmdiYSwgcHJlbXVsdGlwbHlUaW50LCBwcmVtdWx0aXBseVRpbnRUb1JnYmEgfSBmcm9tICcuL2NvbG9yL3ByZW11bHRpcGx5Lm1qcyc7XG5leHBvcnQgeyBEQVRBX1VSSSB9IGZyb20gJy4vY29uc3QubWpzJztcbmV4cG9ydCB7IGNyZWF0ZUluZGljZXNGb3JRdWFkcyB9IGZyb20gJy4vZGF0YS9jcmVhdGVJbmRpY2VzRm9yUXVhZHMubWpzJztcbmV4cG9ydCB7IGdldEJ1ZmZlclR5cGUgfSBmcm9tICcuL2RhdGEvZ2V0QnVmZmVyVHlwZS5tanMnO1xuZXhwb3J0IHsgaW50ZXJsZWF2ZVR5cGVkQXJyYXlzIH0gZnJvbSAnLi9kYXRhL2ludGVybGVhdmVUeXBlZEFycmF5cy5tanMnO1xuZXhwb3J0IHsgaXNQb3cyLCBsb2cyLCBuZXh0UG93MiB9IGZyb20gJy4vZGF0YS9wb3cyLm1qcyc7XG5leHBvcnQgeyByZW1vdmVJdGVtcyB9IGZyb20gJy4vZGF0YS9yZW1vdmVJdGVtcy5tanMnO1xuZXhwb3J0IHsgc2lnbiB9IGZyb20gJy4vZGF0YS9zaWduLm1qcyc7XG5leHBvcnQgeyB1aWQgfSBmcm9tICcuL2RhdGEvdWlkLm1qcyc7XG5leHBvcnQgeyBkZXByZWNhdGlvbiB9IGZyb20gJy4vbG9nZ2luZy9kZXByZWNhdGlvbi5tanMnO1xuZXhwb3J0IHsgQm91bmRpbmdCb3ggfSBmcm9tICcuL21lZGlhL0JvdW5kaW5nQm94Lm1qcyc7XG5leHBvcnQgeyBCYXNlVGV4dHVyZUNhY2hlLCBQcm9ncmFtQ2FjaGUsIFRleHR1cmVDYWNoZSwgY2xlYXJUZXh0dXJlQ2FjaGUsIGRlc3Ryb3lUZXh0dXJlQ2FjaGUgfSBmcm9tICcuL21lZGlhL2NhY2hlcy5tanMnO1xuZXhwb3J0IHsgQ2FudmFzUmVuZGVyVGFyZ2V0IH0gZnJvbSAnLi9tZWRpYS9DYW52YXNSZW5kZXJUYXJnZXQubWpzJztcbmV4cG9ydCB7IGdldENhbnZhc0JvdW5kaW5nQm94IH0gZnJvbSAnLi9tZWRpYS9nZXRDYW52YXNCb3VuZGluZ0JveC5tanMnO1xuZXhwb3J0IHsgdHJpbUNhbnZhcyB9IGZyb20gJy4vbWVkaWEvdHJpbUNhbnZhcy5tanMnO1xuZXhwb3J0IHsgZGVjb21wb3NlRGF0YVVyaSB9IGZyb20gJy4vbmV0d29yay9kZWNvbXBvc2VEYXRhVXJpLm1qcyc7XG5leHBvcnQgeyBkZXRlcm1pbmVDcm9zc09yaWdpbiB9IGZyb20gJy4vbmV0d29yay9kZXRlcm1pbmVDcm9zc09yaWdpbi5tanMnO1xuZXhwb3J0IHsgZ2V0UmVzb2x1dGlvbk9mVXJsIH0gZnJvbSAnLi9uZXR3b3JrL2dldFJlc29sdXRpb25PZlVybC5tanMnO1xuaW1wb3J0ICcuL3R5cGVzL2luZGV4Lm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJjb25zdCB3YXJuaW5ncyA9IHt9O1xuZnVuY3Rpb24gZGVwcmVjYXRpb24odmVyc2lvbiwgbWVzc2FnZSwgaWdub3JlRGVwdGggPSAzKSB7XG4gIGlmICh3YXJuaW5nc1ttZXNzYWdlXSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgaWYgKHR5cGVvZiBzdGFjayA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNvbnNvbGUud2FybihcIlBpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiBcIiwgYCR7bWVzc2FnZX1cbkRlcHJlY2F0ZWQgc2luY2UgdiR7dmVyc2lvbn1gKTtcbiAgfSBlbHNlIHtcbiAgICBzdGFjayA9IHN0YWNrLnNwbGl0KFwiXFxuXCIpLnNwbGljZShpZ25vcmVEZXB0aCkuam9pbihcIlxcblwiKTtcbiAgICBpZiAoY29uc29sZS5ncm91cENvbGxhcHNlZCkge1xuICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZChcIiVjUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICVjJXNcIiwgXCJjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNlwiLCBcImZvbnQtd2VpZ2h0Om5vcm1hbDtjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNlwiLCBgJHttZXNzYWdlfVxuRGVwcmVjYXRlZCBzaW5jZSB2JHt2ZXJzaW9ufWApO1xuICAgICAgY29uc29sZS53YXJuKHN0YWNrKTtcbiAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKFwiUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6IFwiLCBgJHttZXNzYWdlfVxuRGVwcmVjYXRlZCBzaW5jZSB2JHt2ZXJzaW9ufWApO1xuICAgICAgY29uc29sZS53YXJuKHN0YWNrKTtcbiAgICB9XG4gIH1cbiAgd2FybmluZ3NbbWVzc2FnZV0gPSB0cnVlO1xufVxuXG5leHBvcnQgeyBkZXByZWNhdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVwcmVjYXRpb24ubWpzLm1hcFxuIiwiY29uc3QgX0JvdW5kaW5nQm94ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20pIHtcbiAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgIHRoaXMudG9wID0gdG9wO1xuICAgIHRoaXMucmlnaHQgPSByaWdodDtcbiAgICB0aGlzLmJvdHRvbSA9IGJvdHRvbTtcbiAgfVxuICBnZXQgd2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMucmlnaHQgLSB0aGlzLmxlZnQ7XG4gIH1cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5ib3R0b20gLSB0aGlzLnRvcDtcbiAgfVxuICBpc0VtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLmxlZnQgPT09IHRoaXMucmlnaHQgfHwgdGhpcy50b3AgPT09IHRoaXMuYm90dG9tO1xuICB9XG59O1xubGV0IEJvdW5kaW5nQm94ID0gX0JvdW5kaW5nQm94O1xuQm91bmRpbmdCb3guRU1QVFkgPSBuZXcgX0JvdW5kaW5nQm94KDAsIDAsIDAsIDApO1xuXG5leHBvcnQgeyBCb3VuZGluZ0JveCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qm91bmRpbmdCb3gubWpzLm1hcFxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbmNsYXNzIENhbnZhc1JlbmRlclRhcmdldCB7XG4gIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICB0aGlzLl9jYW52YXMgPSBzZXR0aW5ncy5BREFQVEVSLmNyZWF0ZUNhbnZhcygpO1xuICAgIHRoaXMuX2NvbnRleHQgPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9jaGVja0Rlc3Ryb3llZCgpO1xuICAgIHRoaXMuX2NvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgIHRoaXMuX2NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuX2NhbnZhcy53aWR0aCwgdGhpcy5fY2FudmFzLmhlaWdodCk7XG4gIH1cbiAgcmVzaXplKGRlc2lyZWRXaWR0aCwgZGVzaXJlZEhlaWdodCkge1xuICAgIHRoaXMuX2NoZWNrRGVzdHJveWVkKCk7XG4gICAgdGhpcy5fY2FudmFzLndpZHRoID0gTWF0aC5yb3VuZChkZXNpcmVkV2lkdGggKiB0aGlzLnJlc29sdXRpb24pO1xuICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSBNYXRoLnJvdW5kKGRlc2lyZWRIZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fY29udGV4dCA9IG51bGw7XG4gICAgdGhpcy5fY2FudmFzID0gbnVsbDtcbiAgfVxuICBnZXQgd2lkdGgoKSB7XG4gICAgdGhpcy5fY2hlY2tEZXN0cm95ZWQoKTtcbiAgICByZXR1cm4gdGhpcy5fY2FudmFzLndpZHRoO1xuICB9XG4gIHNldCB3aWR0aCh2YWwpIHtcbiAgICB0aGlzLl9jaGVja0Rlc3Ryb3llZCgpO1xuICAgIHRoaXMuX2NhbnZhcy53aWR0aCA9IE1hdGgucm91bmQodmFsKTtcbiAgfVxuICBnZXQgaGVpZ2h0KCkge1xuICAgIHRoaXMuX2NoZWNrRGVzdHJveWVkKCk7XG4gICAgcmV0dXJuIHRoaXMuX2NhbnZhcy5oZWlnaHQ7XG4gIH1cbiAgc2V0IGhlaWdodCh2YWwpIHtcbiAgICB0aGlzLl9jaGVja0Rlc3Ryb3llZCgpO1xuICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSBNYXRoLnJvdW5kKHZhbCk7XG4gIH1cbiAgZ2V0IGNhbnZhcygpIHtcbiAgICB0aGlzLl9jaGVja0Rlc3Ryb3llZCgpO1xuICAgIHJldHVybiB0aGlzLl9jYW52YXM7XG4gIH1cbiAgZ2V0IGNvbnRleHQoKSB7XG4gICAgdGhpcy5fY2hlY2tEZXN0cm95ZWQoKTtcbiAgICByZXR1cm4gdGhpcy5fY29udGV4dDtcbiAgfVxuICBfY2hlY2tEZXN0cm95ZWQoKSB7XG4gICAgaWYgKHRoaXMuX2NhbnZhcyA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBDYW52YXNSZW5kZXJUYXJnZXQgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWRcIik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IENhbnZhc1JlbmRlclRhcmdldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzUmVuZGVyVGFyZ2V0Lm1qcy5tYXBcbiIsImNvbnN0IFByb2dyYW1DYWNoZSA9IHt9O1xuY29uc3QgVGV4dHVyZUNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG5jb25zdCBCYXNlVGV4dHVyZUNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG5mdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlKCkge1xuICBsZXQga2V5O1xuICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpIHtcbiAgICBUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gIH1cbiAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgIEJhc2VUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNsZWFyVGV4dHVyZUNhY2hlKCkge1xuICBsZXQga2V5O1xuICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpIHtcbiAgICBkZWxldGUgVGV4dHVyZUNhY2hlW2tleV07XG4gIH1cbiAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2tleV07XG4gIH1cbn1cblxuZXhwb3J0IHsgQmFzZVRleHR1cmVDYWNoZSwgUHJvZ3JhbUNhY2hlLCBUZXh0dXJlQ2FjaGUsIGNsZWFyVGV4dHVyZUNhY2hlLCBkZXN0cm95VGV4dHVyZUNhY2hlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWNoZXMubWpzLm1hcFxuIiwiaW1wb3J0IHsgQm91bmRpbmdCb3ggfSBmcm9tICcuL0JvdW5kaW5nQm94Lm1qcyc7XG5cbmZ1bmN0aW9uIGNoZWNrUm93KGRhdGEsIHdpZHRoLCB5KSB7XG4gIGZvciAobGV0IHggPSAwLCBpbmRleCA9IDQgKiB5ICogd2lkdGg7IHggPCB3aWR0aDsgKyt4LCBpbmRleCArPSA0KSB7XG4gICAgaWYgKGRhdGFbaW5kZXggKyAzXSAhPT0gMClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGNoZWNrQ29sdW1uKGRhdGEsIHdpZHRoLCB4LCB0b3AsIGJvdHRvbSkge1xuICBjb25zdCBzdHJpZGUgPSA0ICogd2lkdGg7XG4gIGZvciAobGV0IHkgPSB0b3AsIGluZGV4ID0gdG9wICogc3RyaWRlICsgNCAqIHg7IHkgPD0gYm90dG9tOyArK3ksIGluZGV4ICs9IHN0cmlkZSkge1xuICAgIGlmIChkYXRhW2luZGV4ICsgM10gIT09IDApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBnZXRDYW52YXNCb3VuZGluZ0JveChjYW52YXMpIHtcbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBjYW52YXM7XG4gIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIsIHtcbiAgICB3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWVcbiAgfSk7XG4gIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBnZXQgY2FudmFzIDJEIGNvbnRleHRcIik7XG4gIH1cbiAgY29uc3QgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gIGNvbnN0IGRhdGEgPSBpbWFnZURhdGEuZGF0YTtcbiAgbGV0IGxlZnQgPSAwO1xuICBsZXQgdG9wID0gMDtcbiAgbGV0IHJpZ2h0ID0gd2lkdGggLSAxO1xuICBsZXQgYm90dG9tID0gaGVpZ2h0IC0gMTtcbiAgd2hpbGUgKHRvcCA8IGhlaWdodCAmJiBjaGVja1JvdyhkYXRhLCB3aWR0aCwgdG9wKSlcbiAgICArK3RvcDtcbiAgaWYgKHRvcCA9PT0gaGVpZ2h0KVxuICAgIHJldHVybiBCb3VuZGluZ0JveC5FTVBUWTtcbiAgd2hpbGUgKGNoZWNrUm93KGRhdGEsIHdpZHRoLCBib3R0b20pKVxuICAgIC0tYm90dG9tO1xuICB3aGlsZSAoY2hlY2tDb2x1bW4oZGF0YSwgd2lkdGgsIGxlZnQsIHRvcCwgYm90dG9tKSlcbiAgICArK2xlZnQ7XG4gIHdoaWxlIChjaGVja0NvbHVtbihkYXRhLCB3aWR0aCwgcmlnaHQsIHRvcCwgYm90dG9tKSlcbiAgICAtLXJpZ2h0O1xuICArK3JpZ2h0O1xuICArK2JvdHRvbTtcbiAgcmV0dXJuIG5ldyBCb3VuZGluZ0JveChsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20pO1xufVxuXG5leHBvcnQgeyBnZXRDYW52YXNCb3VuZGluZ0JveCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0Q2FudmFzQm91bmRpbmdCb3gubWpzLm1hcFxuIiwiaW1wb3J0IHsgZ2V0Q2FudmFzQm91bmRpbmdCb3ggfSBmcm9tICcuL2dldENhbnZhc0JvdW5kaW5nQm94Lm1qcyc7XG5cbmZ1bmN0aW9uIHRyaW1DYW52YXMoY2FudmFzKSB7XG4gIGNvbnN0IGJvdW5kaW5nQm94ID0gZ2V0Q2FudmFzQm91bmRpbmdCb3goY2FudmFzKTtcbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBib3VuZGluZ0JveDtcbiAgbGV0IGRhdGEgPSBudWxsO1xuICBpZiAoIWJvdW5kaW5nQm94LmlzRW1wdHkoKSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGdldCBjYW52YXMgMkQgY29udGV4dFwiKTtcbiAgICB9XG4gICAgZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKGJvdW5kaW5nQm94LmxlZnQsIGJvdW5kaW5nQm94LnRvcCwgd2lkdGgsIGhlaWdodCk7XG4gIH1cbiAgcmV0dXJuIHsgd2lkdGgsIGhlaWdodCwgZGF0YSB9O1xufVxuXG5leHBvcnQgeyB0cmltQ2FudmFzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmltQ2FudmFzLm1qcy5tYXBcbiIsImltcG9ydCB7IERBVEFfVVJJIH0gZnJvbSAnLi4vY29uc3QubWpzJztcblxuZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaShkYXRhVXJpKSB7XG4gIGNvbnN0IGRhdGFVcmlNYXRjaCA9IERBVEFfVVJJLmV4ZWMoZGF0YVVyaSk7XG4gIGlmIChkYXRhVXJpTWF0Y2gpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWVkaWFUeXBlOiBkYXRhVXJpTWF0Y2hbMV0gPyBkYXRhVXJpTWF0Y2hbMV0udG9Mb3dlckNhc2UoKSA6IHZvaWQgMCxcbiAgICAgIHN1YlR5cGU6IGRhdGFVcmlNYXRjaFsyXSA/IGRhdGFVcmlNYXRjaFsyXS50b0xvd2VyQ2FzZSgpIDogdm9pZCAwLFxuICAgICAgY2hhcnNldDogZGF0YVVyaU1hdGNoWzNdID8gZGF0YVVyaU1hdGNoWzNdLnRvTG93ZXJDYXNlKCkgOiB2b2lkIDAsXG4gICAgICBlbmNvZGluZzogZGF0YVVyaU1hdGNoWzRdID8gZGF0YVVyaU1hdGNoWzRdLnRvTG93ZXJDYXNlKCkgOiB2b2lkIDAsXG4gICAgICBkYXRhOiBkYXRhVXJpTWF0Y2hbNV1cbiAgICB9O1xuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5cbmV4cG9ydCB7IGRlY29tcG9zZURhdGFVcmkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlY29tcG9zZURhdGFVcmkubWpzLm1hcFxuIiwiaW1wb3J0IHsgdXJsIH0gZnJvbSAnLi4vdXJsLm1qcyc7XG5cbmxldCB0ZW1wQW5jaG9yO1xuZnVuY3Rpb24gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsJDEsIGxvYyA9IGdsb2JhbFRoaXMubG9jYXRpb24pIHtcbiAgaWYgKHVybCQxLnN0YXJ0c1dpdGgoXCJkYXRhOlwiKSkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGxvYyA9IGxvYyB8fCBnbG9iYWxUaGlzLmxvY2F0aW9uO1xuICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gIH1cbiAgdGVtcEFuY2hvci5ocmVmID0gdXJsJDE7XG4gIGNvbnN0IHBhcnNlZFVybCA9IHVybC5wYXJzZSh0ZW1wQW5jaG9yLmhyZWYpO1xuICBjb25zdCBzYW1lUG9ydCA9ICFwYXJzZWRVcmwucG9ydCAmJiBsb2MucG9ydCA9PT0gXCJcIiB8fCBwYXJzZWRVcmwucG9ydCA9PT0gbG9jLnBvcnQ7XG4gIGlmIChwYXJzZWRVcmwuaG9zdG5hbWUgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgcGFyc2VkVXJsLnByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpIHtcbiAgICByZXR1cm4gXCJhbm9ueW1vdXNcIjtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cblxuZXhwb3J0IHsgZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRldGVybWluZUNyb3NzT3JpZ2luLm1qcy5tYXBcbiIsImltcG9ydCAnLi4vc2V0dGluZ3MubWpzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG5mdW5jdGlvbiBnZXRSZXNvbHV0aW9uT2ZVcmwodXJsLCBkZWZhdWx0VmFsdWUgPSAxKSB7XG4gIGNvbnN0IHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVRJTkFfUFJFRklYPy5leGVjKHVybCk7XG4gIGlmIChyZXNvbHV0aW9uKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQocmVzb2x1dGlvblsxXSk7XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbn1cblxuZXhwb3J0IHsgZ2V0UmVzb2x1dGlvbk9mVXJsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRSZXNvbHV0aW9uT2ZVcmwubWpzLm1hcFxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbmZ1bmN0aW9uIGFzc2VydFBhdGgocGF0aDIpIHtcbiAgaWYgKHR5cGVvZiBwYXRoMiAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFBhdGggbXVzdCBiZSBhIHN0cmluZy4gUmVjZWl2ZWQgJHtKU09OLnN0cmluZ2lmeShwYXRoMil9YCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZVVybFBhcmFtcyh1cmwpIHtcbiAgY29uc3QgcmUgPSB1cmwuc3BsaXQoXCI/XCIpWzBdO1xuICByZXR1cm4gcmUuc3BsaXQoXCIjXCIpWzBdO1xufVxuZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCBcIlxcXFwkJlwiKTtcbn1cbmZ1bmN0aW9uIHJlcGxhY2VBbGwoc3RyLCBmaW5kLCByZXBsYWNlKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZShuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4cChmaW5kKSwgXCJnXCIpLCByZXBsYWNlKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHBhdGgyLCBhbGxvd0Fib3ZlUm9vdCkge1xuICBsZXQgcmVzID0gXCJcIjtcbiAgbGV0IGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgbGV0IGxhc3RTbGFzaCA9IC0xO1xuICBsZXQgZG90cyA9IDA7XG4gIGxldCBjb2RlID0gLTE7XG4gIGZvciAobGV0IGkgPSAwOyBpIDw9IHBhdGgyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKGkgPCBwYXRoMi5sZW5ndGgpIHtcbiAgICAgIGNvZGUgPSBwYXRoMi5jaGFyQ29kZUF0KGkpO1xuICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gNDcpIHtcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb2RlID0gNDc7XG4gICAgfVxuICAgIGlmIChjb2RlID09PSA0Nykge1xuICAgICAgaWYgKGxhc3RTbGFzaCA9PT0gaSAtIDEgfHwgZG90cyA9PT0gMSkge1xuICAgICAgfSBlbHNlIGlmIChsYXN0U2xhc2ggIT09IGkgLSAxICYmIGRvdHMgPT09IDIpIHtcbiAgICAgICAgaWYgKHJlcy5sZW5ndGggPCAyIHx8IGxhc3RTZWdtZW50TGVuZ3RoICE9PSAyIHx8IHJlcy5jaGFyQ29kZUF0KHJlcy5sZW5ndGggLSAxKSAhPT0gNDYgfHwgcmVzLmNoYXJDb2RlQXQocmVzLmxlbmd0aCAtIDIpICE9PSA0Nikge1xuICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgY29uc3QgbGFzdFNsYXNoSW5kZXggPSByZXMubGFzdEluZGV4T2YoXCIvXCIpO1xuICAgICAgICAgICAgaWYgKGxhc3RTbGFzaEluZGV4ICE9PSByZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICBpZiAobGFzdFNsYXNoSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gXCJcIjtcbiAgICAgICAgICAgICAgICBsYXN0U2VnbWVudExlbmd0aCA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzID0gcmVzLnNsaWNlKDAsIGxhc3RTbGFzaEluZGV4KTtcbiAgICAgICAgICAgICAgICBsYXN0U2VnbWVudExlbmd0aCA9IHJlcy5sZW5ndGggLSAxIC0gcmVzLmxhc3RJbmRleE9mKFwiL1wiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgICAgICAgICBkb3RzID0gMDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChyZXMubGVuZ3RoID09PSAyIHx8IHJlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJlcyA9IFwiXCI7XG4gICAgICAgICAgICBsYXN0U2VnbWVudExlbmd0aCA9IDA7XG4gICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgICAgICAgZG90cyA9IDA7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXMgKz0gXCIvLi5cIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzID0gXCIuLlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsYXN0U2VnbWVudExlbmd0aCA9IDI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChyZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJlcyArPSBgLyR7cGF0aDIuc2xpY2UobGFzdFNsYXNoICsgMSwgaSl9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMgPSBwYXRoMi5zbGljZShsYXN0U2xhc2ggKyAxLCBpKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0U2VnbWVudExlbmd0aCA9IGkgLSBsYXN0U2xhc2ggLSAxO1xuICAgICAgfVxuICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgIGRvdHMgPSAwO1xuICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gNDYgJiYgZG90cyAhPT0gLTEpIHtcbiAgICAgICsrZG90cztcbiAgICB9IGVsc2Uge1xuICAgICAgZG90cyA9IC0xO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufVxuY29uc3QgcGF0aCA9IHtcbiAgdG9Qb3NpeChwYXRoMikge1xuICAgIHJldHVybiByZXBsYWNlQWxsKHBhdGgyLCBcIlxcXFxcIiwgXCIvXCIpO1xuICB9LFxuICBpc1VybChwYXRoMikge1xuICAgIHJldHVybiAvXmh0dHBzPzovLnRlc3QodGhpcy50b1Bvc2l4KHBhdGgyKSk7XG4gIH0sXG4gIGlzRGF0YVVybChwYXRoMikge1xuICAgIHJldHVybiAvXmRhdGE6KFthLXpdK1xcL1thLXowLTktKy5dKyg7W2EtejAtOS0uISMkJSorLnt9fH5gXSs9W2EtejAtOS0uISMkJSorLnt9KClffH5gXSspKik/KDtiYXNlNjQpPywoW2EtejAtOSEkJicsKCkqKzs9XFwtLl9+OkBcXC8/JVxcczw+XSo/KSQvaS50ZXN0KHBhdGgyKTtcbiAgfSxcbiAgaGFzUHJvdG9jb2wocGF0aDIpIHtcbiAgICByZXR1cm4gL15bXi86XSs6XFwvLy50ZXN0KHRoaXMudG9Qb3NpeChwYXRoMikpO1xuICB9LFxuICBnZXRQcm90b2NvbChwYXRoMikge1xuICAgIGFzc2VydFBhdGgocGF0aDIpO1xuICAgIHBhdGgyID0gdGhpcy50b1Bvc2l4KHBhdGgyKTtcbiAgICBsZXQgcHJvdG9jb2wgPSBcIlwiO1xuICAgIGNvbnN0IGlzRmlsZSA9IC9eZmlsZTpcXC9cXC9cXC8vLmV4ZWMocGF0aDIpO1xuICAgIGNvbnN0IGlzSHR0cCA9IC9eW14vOl0rOlxcL1xcLy8uZXhlYyhwYXRoMik7XG4gICAgY29uc3QgaXNXaW5kb3dzID0gL15bXi86XSs6XFwvLy5leGVjKHBhdGgyKTtcbiAgICBpZiAoaXNGaWxlIHx8IGlzSHR0cCB8fCBpc1dpbmRvd3MpIHtcbiAgICAgIGNvbnN0IGFyciA9IGlzRmlsZT8uWzBdIHx8IGlzSHR0cD8uWzBdIHx8IGlzV2luZG93cz8uWzBdO1xuICAgICAgcHJvdG9jb2wgPSBhcnI7XG4gICAgICBwYXRoMiA9IHBhdGgyLnNsaWNlKGFyci5sZW5ndGgpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvdG9jb2w7XG4gIH0sXG4gIHRvQWJzb2x1dGUodXJsLCBjdXN0b21CYXNlVXJsLCBjdXN0b21Sb290VXJsKSB7XG4gICAgaWYgKHRoaXMuaXNEYXRhVXJsKHVybCkpXG4gICAgICByZXR1cm4gdXJsO1xuICAgIGNvbnN0IGJhc2VVcmwgPSByZW1vdmVVcmxQYXJhbXModGhpcy50b1Bvc2l4KGN1c3RvbUJhc2VVcmwgPz8gc2V0dGluZ3MuQURBUFRFUi5nZXRCYXNlVXJsKCkpKTtcbiAgICBjb25zdCByb290VXJsID0gcmVtb3ZlVXJsUGFyYW1zKHRoaXMudG9Qb3NpeChjdXN0b21Sb290VXJsID8/IHRoaXMucm9vdG5hbWUoYmFzZVVybCkpKTtcbiAgICBhc3NlcnRQYXRoKHVybCk7XG4gICAgdXJsID0gdGhpcy50b1Bvc2l4KHVybCk7XG4gICAgaWYgKHVybC5zdGFydHNXaXRoKFwiL1wiKSkge1xuICAgICAgcmV0dXJuIHBhdGguam9pbihyb290VXJsLCB1cmwuc2xpY2UoMSkpO1xuICAgIH1cbiAgICBjb25zdCBhYnNvbHV0ZVBhdGggPSB0aGlzLmlzQWJzb2x1dGUodXJsKSA/IHVybCA6IHRoaXMuam9pbihiYXNlVXJsLCB1cmwpO1xuICAgIHJldHVybiBhYnNvbHV0ZVBhdGg7XG4gIH0sXG4gIG5vcm1hbGl6ZShwYXRoMikge1xuICAgIHBhdGgyID0gdGhpcy50b1Bvc2l4KHBhdGgyKTtcbiAgICBhc3NlcnRQYXRoKHBhdGgyKTtcbiAgICBpZiAocGF0aDIubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIFwiLlwiO1xuICAgIGxldCBwcm90b2NvbCA9IFwiXCI7XG4gICAgY29uc3QgaXNBYnNvbHV0ZSA9IHBhdGgyLnN0YXJ0c1dpdGgoXCIvXCIpO1xuICAgIGlmICh0aGlzLmhhc1Byb3RvY29sKHBhdGgyKSkge1xuICAgICAgcHJvdG9jb2wgPSB0aGlzLnJvb3RuYW1lKHBhdGgyKTtcbiAgICAgIHBhdGgyID0gcGF0aDIuc2xpY2UocHJvdG9jb2wubGVuZ3RoKTtcbiAgICB9XG4gICAgY29uc3QgdHJhaWxpbmdTZXBhcmF0b3IgPSBwYXRoMi5lbmRzV2l0aChcIi9cIik7XG4gICAgcGF0aDIgPSBub3JtYWxpemVTdHJpbmdQb3NpeChwYXRoMiwgZmFsc2UpO1xuICAgIGlmIChwYXRoMi5sZW5ndGggPiAwICYmIHRyYWlsaW5nU2VwYXJhdG9yKVxuICAgICAgcGF0aDIgKz0gXCIvXCI7XG4gICAgaWYgKGlzQWJzb2x1dGUpXG4gICAgICByZXR1cm4gYC8ke3BhdGgyfWA7XG4gICAgcmV0dXJuIHByb3RvY29sICsgcGF0aDI7XG4gIH0sXG4gIGlzQWJzb2x1dGUocGF0aDIpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgyKTtcbiAgICBwYXRoMiA9IHRoaXMudG9Qb3NpeChwYXRoMik7XG4gICAgaWYgKHRoaXMuaGFzUHJvdG9jb2wocGF0aDIpKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIHBhdGgyLnN0YXJ0c1dpdGgoXCIvXCIpO1xuICB9LFxuICBqb2luKC4uLnNlZ21lbnRzKSB7XG4gICAgaWYgKHNlZ21lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFwiLlwiO1xuICAgIH1cbiAgICBsZXQgam9pbmVkO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGNvbnN0IGFyZyA9IHNlZ21lbnRzW2ldO1xuICAgICAgYXNzZXJ0UGF0aChhcmcpO1xuICAgICAgaWYgKGFyZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChqb2luZWQgPT09IHZvaWQgMClcbiAgICAgICAgICBqb2luZWQgPSBhcmc7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHByZXZBcmcgPSBzZWdtZW50c1tpIC0gMV0gPz8gXCJcIjtcbiAgICAgICAgICBpZiAodGhpcy5leHRuYW1lKHByZXZBcmcpKSB7XG4gICAgICAgICAgICBqb2luZWQgKz0gYC8uLi8ke2FyZ31gO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBqb2luZWQgKz0gYC8ke2FyZ31gO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoam9pbmVkID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBcIi5cIjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubm9ybWFsaXplKGpvaW5lZCk7XG4gIH0sXG4gIGRpcm5hbWUocGF0aDIpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgyKTtcbiAgICBpZiAocGF0aDIubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIFwiLlwiO1xuICAgIHBhdGgyID0gdGhpcy50b1Bvc2l4KHBhdGgyKTtcbiAgICBsZXQgY29kZSA9IHBhdGgyLmNoYXJDb2RlQXQoMCk7XG4gICAgY29uc3QgaGFzUm9vdCA9IGNvZGUgPT09IDQ3O1xuICAgIGxldCBlbmQgPSAtMTtcbiAgICBsZXQgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICBjb25zdCBwcm90byA9IHRoaXMuZ2V0UHJvdG9jb2wocGF0aDIpO1xuICAgIGNvbnN0IG9yaWdwYXRoID0gcGF0aDI7XG4gICAgcGF0aDIgPSBwYXRoMi5zbGljZShwcm90by5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSBwYXRoMi5sZW5ndGggLSAxOyBpID49IDE7IC0taSkge1xuICAgICAgY29kZSA9IHBhdGgyLmNoYXJDb2RlQXQoaSk7XG4gICAgICBpZiAoY29kZSA9PT0gNDcpIHtcbiAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVuZCA9PT0gLTEpXG4gICAgICByZXR1cm4gaGFzUm9vdCA/IFwiL1wiIDogdGhpcy5pc1VybChvcmlncGF0aCkgPyBwcm90byArIHBhdGgyIDogcHJvdG87XG4gICAgaWYgKGhhc1Jvb3QgJiYgZW5kID09PSAxKVxuICAgICAgcmV0dXJuIFwiLy9cIjtcbiAgICByZXR1cm4gcHJvdG8gKyBwYXRoMi5zbGljZSgwLCBlbmQpO1xuICB9LFxuICByb290bmFtZShwYXRoMikge1xuICAgIGFzc2VydFBhdGgocGF0aDIpO1xuICAgIHBhdGgyID0gdGhpcy50b1Bvc2l4KHBhdGgyKTtcbiAgICBsZXQgcm9vdCA9IFwiXCI7XG4gICAgaWYgKHBhdGgyLnN0YXJ0c1dpdGgoXCIvXCIpKVxuICAgICAgcm9vdCA9IFwiL1wiO1xuICAgIGVsc2Uge1xuICAgICAgcm9vdCA9IHRoaXMuZ2V0UHJvdG9jb2wocGF0aDIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc1VybChwYXRoMikpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gcGF0aDIuaW5kZXhPZihcIi9cIiwgcm9vdC5sZW5ndGgpO1xuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICByb290ID0gcGF0aDIuc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHJvb3QgPSBwYXRoMjtcbiAgICAgIGlmICghcm9vdC5lbmRzV2l0aChcIi9cIikpXG4gICAgICAgIHJvb3QgKz0gXCIvXCI7XG4gICAgfVxuICAgIHJldHVybiByb290O1xuICB9LFxuICBiYXNlbmFtZShwYXRoMiwgZXh0KSB7XG4gICAgYXNzZXJ0UGF0aChwYXRoMik7XG4gICAgaWYgKGV4dClcbiAgICAgIGFzc2VydFBhdGgoZXh0KTtcbiAgICBwYXRoMiA9IHJlbW92ZVVybFBhcmFtcyh0aGlzLnRvUG9zaXgocGF0aDIpKTtcbiAgICBsZXQgc3RhcnQgPSAwO1xuICAgIGxldCBlbmQgPSAtMTtcbiAgICBsZXQgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICBsZXQgaTtcbiAgICBpZiAoZXh0ICE9PSB2b2lkIDAgJiYgZXh0Lmxlbmd0aCA+IDAgJiYgZXh0Lmxlbmd0aCA8PSBwYXRoMi5sZW5ndGgpIHtcbiAgICAgIGlmIChleHQubGVuZ3RoID09PSBwYXRoMi5sZW5ndGggJiYgZXh0ID09PSBwYXRoMilcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICBsZXQgZXh0SWR4ID0gZXh0Lmxlbmd0aCAtIDE7XG4gICAgICBsZXQgZmlyc3ROb25TbGFzaEVuZCA9IC0xO1xuICAgICAgZm9yIChpID0gcGF0aDIubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgY29uc3QgY29kZSA9IHBhdGgyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjb2RlID09PSA0Nykge1xuICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChmaXJzdE5vblNsYXNoRW5kID09PSAtMSkge1xuICAgICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICBmaXJzdE5vblNsYXNoRW5kID0gaSArIDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChleHRJZHggPj0gMCkge1xuICAgICAgICAgICAgaWYgKGNvZGUgPT09IGV4dC5jaGFyQ29kZUF0KGV4dElkeCkpIHtcbiAgICAgICAgICAgICAgaWYgKC0tZXh0SWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGVuZCA9IGk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGV4dElkeCA9IC0xO1xuICAgICAgICAgICAgICBlbmQgPSBmaXJzdE5vblNsYXNoRW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ID09PSBlbmQpXG4gICAgICAgIGVuZCA9IGZpcnN0Tm9uU2xhc2hFbmQ7XG4gICAgICBlbHNlIGlmIChlbmQgPT09IC0xKVxuICAgICAgICBlbmQgPSBwYXRoMi5sZW5ndGg7XG4gICAgICByZXR1cm4gcGF0aDIuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIGZvciAoaSA9IHBhdGgyLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBpZiAocGF0aDIuY2hhckNvZGVBdChpKSA9PT0gNDcpIHtcbiAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGVuZCA9PT0gLTEpIHtcbiAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgIGVuZCA9IGkgKyAxO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW5kID09PSAtMSlcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIHJldHVybiBwYXRoMi5zbGljZShzdGFydCwgZW5kKTtcbiAgfSxcbiAgZXh0bmFtZShwYXRoMikge1xuICAgIGFzc2VydFBhdGgocGF0aDIpO1xuICAgIHBhdGgyID0gcmVtb3ZlVXJsUGFyYW1zKHRoaXMudG9Qb3NpeChwYXRoMikpO1xuICAgIGxldCBzdGFydERvdCA9IC0xO1xuICAgIGxldCBzdGFydFBhcnQgPSAwO1xuICAgIGxldCBlbmQgPSAtMTtcbiAgICBsZXQgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICBsZXQgcHJlRG90U3RhdGUgPSAwO1xuICAgIGZvciAobGV0IGkgPSBwYXRoMi5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgY29uc3QgY29kZSA9IHBhdGgyLmNoYXJDb2RlQXQoaSk7XG4gICAgICBpZiAoY29kZSA9PT0gNDcpIHtcbiAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICBzdGFydFBhcnQgPSBpICsgMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICBlbmQgPSBpICsgMTtcbiAgICAgIH1cbiAgICAgIGlmIChjb2RlID09PSA0Nikge1xuICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xKVxuICAgICAgICAgIHN0YXJ0RG90ID0gaTtcbiAgICAgICAgZWxzZSBpZiAocHJlRG90U3RhdGUgIT09IDEpXG4gICAgICAgICAgcHJlRG90U3RhdGUgPSAxO1xuICAgICAgfSBlbHNlIGlmIChzdGFydERvdCAhPT0gLTEpIHtcbiAgICAgICAgcHJlRG90U3RhdGUgPSAtMTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHN0YXJ0RG90ID09PSAtMSB8fCBlbmQgPT09IC0xIHx8IHByZURvdFN0YXRlID09PSAwIHx8IHByZURvdFN0YXRlID09PSAxICYmIHN0YXJ0RG90ID09PSBlbmQgLSAxICYmIHN0YXJ0RG90ID09PSBzdGFydFBhcnQgKyAxKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgcmV0dXJuIHBhdGgyLnNsaWNlKHN0YXJ0RG90LCBlbmQpO1xuICB9LFxuICBwYXJzZShwYXRoMikge1xuICAgIGFzc2VydFBhdGgocGF0aDIpO1xuICAgIGNvbnN0IHJldCA9IHsgcm9vdDogXCJcIiwgZGlyOiBcIlwiLCBiYXNlOiBcIlwiLCBleHQ6IFwiXCIsIG5hbWU6IFwiXCIgfTtcbiAgICBpZiAocGF0aDIubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIHJldDtcbiAgICBwYXRoMiA9IHJlbW92ZVVybFBhcmFtcyh0aGlzLnRvUG9zaXgocGF0aDIpKTtcbiAgICBsZXQgY29kZSA9IHBhdGgyLmNoYXJDb2RlQXQoMCk7XG4gICAgY29uc3QgaXNBYnNvbHV0ZSA9IHRoaXMuaXNBYnNvbHV0ZShwYXRoMik7XG4gICAgbGV0IHN0YXJ0O1xuICAgIGNvbnN0IHByb3RvY29sID0gXCJcIjtcbiAgICByZXQucm9vdCA9IHRoaXMucm9vdG5hbWUocGF0aDIpO1xuICAgIGlmIChpc0Fic29sdXRlIHx8IHRoaXMuaGFzUHJvdG9jb2wocGF0aDIpKSB7XG4gICAgICBzdGFydCA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgbGV0IHN0YXJ0RG90ID0gLTE7XG4gICAgbGV0IHN0YXJ0UGFydCA9IDA7XG4gICAgbGV0IGVuZCA9IC0xO1xuICAgIGxldCBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgIGxldCBpID0gcGF0aDIubGVuZ3RoIC0gMTtcbiAgICBsZXQgcHJlRG90U3RhdGUgPSAwO1xuICAgIGZvciAoOyBpID49IHN0YXJ0OyAtLWkpIHtcbiAgICAgIGNvZGUgPSBwYXRoMi5jaGFyQ29kZUF0KGkpO1xuICAgICAgaWYgKGNvZGUgPT09IDQ3KSB7XG4gICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgc3RhcnRQYXJ0ID0gaSArIDE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICB9XG4gICAgICBpZiAoY29kZSA9PT0gNDYpIHtcbiAgICAgICAgaWYgKHN0YXJ0RG90ID09PSAtMSlcbiAgICAgICAgICBzdGFydERvdCA9IGk7XG4gICAgICAgIGVsc2UgaWYgKHByZURvdFN0YXRlICE9PSAxKVxuICAgICAgICAgIHByZURvdFN0YXRlID0gMTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhcnREb3QgIT09IC0xKSB7XG4gICAgICAgIHByZURvdFN0YXRlID0gLTE7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdGFydERvdCA9PT0gLTEgfHwgZW5kID09PSAtMSB8fCBwcmVEb3RTdGF0ZSA9PT0gMCB8fCBwcmVEb3RTdGF0ZSA9PT0gMSAmJiBzdGFydERvdCA9PT0gZW5kIC0gMSAmJiBzdGFydERvdCA9PT0gc3RhcnRQYXJ0ICsgMSkge1xuICAgICAgaWYgKGVuZCAhPT0gLTEpIHtcbiAgICAgICAgaWYgKHN0YXJ0UGFydCA9PT0gMCAmJiBpc0Fic29sdXRlKVxuICAgICAgICAgIHJldC5iYXNlID0gcmV0Lm5hbWUgPSBwYXRoMi5zbGljZSgxLCBlbmQpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0LmJhc2UgPSByZXQubmFtZSA9IHBhdGgyLnNsaWNlKHN0YXJ0UGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN0YXJ0UGFydCA9PT0gMCAmJiBpc0Fic29sdXRlKSB7XG4gICAgICAgIHJldC5uYW1lID0gcGF0aDIuc2xpY2UoMSwgc3RhcnREb3QpO1xuICAgICAgICByZXQuYmFzZSA9IHBhdGgyLnNsaWNlKDEsIGVuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXQubmFtZSA9IHBhdGgyLnNsaWNlKHN0YXJ0UGFydCwgc3RhcnREb3QpO1xuICAgICAgICByZXQuYmFzZSA9IHBhdGgyLnNsaWNlKHN0YXJ0UGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICAgIHJldC5leHQgPSBwYXRoMi5zbGljZShzdGFydERvdCwgZW5kKTtcbiAgICB9XG4gICAgcmV0LmRpciA9IHRoaXMuZGlybmFtZShwYXRoMik7XG4gICAgaWYgKHByb3RvY29sKVxuICAgICAgcmV0LmRpciA9IHByb3RvY29sICsgcmV0LmRpcjtcbiAgICByZXR1cm4gcmV0O1xuICB9LFxuICBzZXA6IFwiL1wiLFxuICBkZWxpbWl0ZXI6IFwiOlwiXG59O1xuXG5leHBvcnQgeyBwYXRoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXRoLm1qcy5tYXBcbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbnNldHRpbmdzLlJFVElOQV9QUkVGSVggPSAvQChbMC05XFwuXSspeC87XG5zZXR0aW5ncy5GQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVCA9IGZhbHNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0dGluZ3MubWpzLm1hcFxuIiwiXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBwYXJzZSwgZm9ybWF0LCByZXNvbHZlIH0gZnJvbSAndXJsJztcblxuY29uc3QgdXJsID0ge1xuICBwYXJzZTogcGFyc2UsXG4gIGZvcm1hdDogZm9ybWF0LFxuICByZXNvbHZlOiByZXNvbHZlXG59O1xuXG5leHBvcnQgeyB1cmwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVybC5tanMubWFwXG4iLCJ2YXIgcj17Z3JhZDouOSx0dXJuOjM2MCxyYWQ6MzYwLygyKk1hdGguUEkpfSx0PWZ1bmN0aW9uKHIpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiByP3IubGVuZ3RoPjA6XCJudW1iZXJcIj09dHlwZW9mIHJ9LG49ZnVuY3Rpb24ocix0LG4pe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1uJiYobj1NYXRoLnBvdygxMCx0KSksTWF0aC5yb3VuZChuKnIpL24rMH0sZT1mdW5jdGlvbihyLHQsbil7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PW4mJihuPTEpLHI+bj9uOnI+dD9yOnR9LHU9ZnVuY3Rpb24ocil7cmV0dXJuKHI9aXNGaW5pdGUocik/ciUzNjA6MCk+MD9yOnIrMzYwfSxhPWZ1bmN0aW9uKHIpe3JldHVybntyOmUoci5yLDAsMjU1KSxnOmUoci5nLDAsMjU1KSxiOmUoci5iLDAsMjU1KSxhOmUoci5hKX19LG89ZnVuY3Rpb24ocil7cmV0dXJue3I6bihyLnIpLGc6bihyLmcpLGI6bihyLmIpLGE6bihyLmEsMyl9fSxpPS9eIyhbMC05YS1mXXszLDh9KSQvaSxzPWZ1bmN0aW9uKHIpe3ZhciB0PXIudG9TdHJpbmcoMTYpO3JldHVybiB0Lmxlbmd0aDwyP1wiMFwiK3Q6dH0saD1mdW5jdGlvbihyKXt2YXIgdD1yLnIsbj1yLmcsZT1yLmIsdT1yLmEsYT1NYXRoLm1heCh0LG4sZSksbz1hLU1hdGgubWluKHQsbixlKSxpPW8/YT09PXQ/KG4tZSkvbzphPT09bj8yKyhlLXQpL286NCsodC1uKS9vOjA7cmV0dXJue2g6NjAqKGk8MD9pKzY6aSksczphP28vYSoxMDA6MCx2OmEvMjU1KjEwMCxhOnV9fSxiPWZ1bmN0aW9uKHIpe3ZhciB0PXIuaCxuPXIucyxlPXIudix1PXIuYTt0PXQvMzYwKjYsbi89MTAwLGUvPTEwMDt2YXIgYT1NYXRoLmZsb29yKHQpLG89ZSooMS1uKSxpPWUqKDEtKHQtYSkqbikscz1lKigxLSgxLXQrYSkqbiksaD1hJTY7cmV0dXJue3I6MjU1KltlLGksbyxvLHMsZV1baF0sZzoyNTUqW3MsZSxlLGksbyxvXVtoXSxiOjI1NSpbbyxvLHMsZSxlLGldW2hdLGE6dX19LGc9ZnVuY3Rpb24ocil7cmV0dXJue2g6dShyLmgpLHM6ZShyLnMsMCwxMDApLGw6ZShyLmwsMCwxMDApLGE6ZShyLmEpfX0sZD1mdW5jdGlvbihyKXtyZXR1cm57aDpuKHIuaCksczpuKHIucyksbDpuKHIubCksYTpuKHIuYSwzKX19LGY9ZnVuY3Rpb24ocil7cmV0dXJuIGIoKG49KHQ9cikucyx7aDp0Lmgsczoobio9KChlPXQubCk8NTA/ZToxMDAtZSkvMTAwKT4wPzIqbi8oZStuKSoxMDA6MCx2OmUrbixhOnQuYX0pKTt2YXIgdCxuLGV9LGM9ZnVuY3Rpb24ocil7cmV0dXJue2g6KHQ9aChyKSkuaCxzOih1PSgyMDAtKG49dC5zKSkqKGU9dC52KS8xMDApPjAmJnU8MjAwP24qZS8xMDAvKHU8PTEwMD91OjIwMC11KSoxMDA6MCxsOnUvMixhOnQuYX07dmFyIHQsbixlLHV9LGw9L15oc2xhP1xcKFxccyooWystXT9cXGQqXFwuP1xcZCspKGRlZ3xyYWR8Z3JhZHx0dXJuKT9cXHMqLFxccyooWystXT9cXGQqXFwuP1xcZCspJVxccyosXFxzKihbKy1dP1xcZCpcXC4/XFxkKyklXFxzKig/OixcXHMqKFsrLV0/XFxkKlxcLj9cXGQrKSglKT9cXHMqKT9cXCkkL2kscD0vXmhzbGE/XFwoXFxzKihbKy1dP1xcZCpcXC4/XFxkKykoZGVnfHJhZHxncmFkfHR1cm4pP1xccysoWystXT9cXGQqXFwuP1xcZCspJVxccysoWystXT9cXGQqXFwuP1xcZCspJVxccyooPzpcXC9cXHMqKFsrLV0/XFxkKlxcLj9cXGQrKSglKT9cXHMqKT9cXCkkL2ksdj0vXnJnYmE/XFwoXFxzKihbKy1dP1xcZCpcXC4/XFxkKykoJSk/XFxzKixcXHMqKFsrLV0/XFxkKlxcLj9cXGQrKSglKT9cXHMqLFxccyooWystXT9cXGQqXFwuP1xcZCspKCUpP1xccyooPzosXFxzKihbKy1dP1xcZCpcXC4/XFxkKykoJSk/XFxzKik/XFwpJC9pLG09L15yZ2JhP1xcKFxccyooWystXT9cXGQqXFwuP1xcZCspKCUpP1xccysoWystXT9cXGQqXFwuP1xcZCspKCUpP1xccysoWystXT9cXGQqXFwuP1xcZCspKCUpP1xccyooPzpcXC9cXHMqKFsrLV0/XFxkKlxcLj9cXGQrKSglKT9cXHMqKT9cXCkkL2kseT17c3RyaW5nOltbZnVuY3Rpb24ocil7dmFyIHQ9aS5leGVjKHIpO3JldHVybiB0PyhyPXRbMV0pLmxlbmd0aDw9ND97cjpwYXJzZUludChyWzBdK3JbMF0sMTYpLGc6cGFyc2VJbnQoclsxXStyWzFdLDE2KSxiOnBhcnNlSW50KHJbMl0rclsyXSwxNiksYTo0PT09ci5sZW5ndGg/bihwYXJzZUludChyWzNdK3JbM10sMTYpLzI1NSwyKToxfTo2PT09ci5sZW5ndGh8fDg9PT1yLmxlbmd0aD97cjpwYXJzZUludChyLnN1YnN0cigwLDIpLDE2KSxnOnBhcnNlSW50KHIuc3Vic3RyKDIsMiksMTYpLGI6cGFyc2VJbnQoci5zdWJzdHIoNCwyKSwxNiksYTo4PT09ci5sZW5ndGg/bihwYXJzZUludChyLnN1YnN0cig2LDIpLDE2KS8yNTUsMik6MX06bnVsbDpudWxsfSxcImhleFwiXSxbZnVuY3Rpb24ocil7dmFyIHQ9di5leGVjKHIpfHxtLmV4ZWMocik7cmV0dXJuIHQ/dFsyXSE9PXRbNF18fHRbNF0hPT10WzZdP251bGw6YSh7cjpOdW1iZXIodFsxXSkvKHRbMl0/MTAwLzI1NToxKSxnOk51bWJlcih0WzNdKS8odFs0XT8xMDAvMjU1OjEpLGI6TnVtYmVyKHRbNV0pLyh0WzZdPzEwMC8yNTU6MSksYTp2b2lkIDA9PT10WzddPzE6TnVtYmVyKHRbN10pLyh0WzhdPzEwMDoxKX0pOm51bGx9LFwicmdiXCJdLFtmdW5jdGlvbih0KXt2YXIgbj1sLmV4ZWModCl8fHAuZXhlYyh0KTtpZighbilyZXR1cm4gbnVsbDt2YXIgZSx1LGE9Zyh7aDooZT1uWzFdLHU9blsyXSx2b2lkIDA9PT11JiYodT1cImRlZ1wiKSxOdW1iZXIoZSkqKHJbdV18fDEpKSxzOk51bWJlcihuWzNdKSxsOk51bWJlcihuWzRdKSxhOnZvaWQgMD09PW5bNV0/MTpOdW1iZXIobls1XSkvKG5bNl0/MTAwOjEpfSk7cmV0dXJuIGYoYSl9LFwiaHNsXCJdXSxvYmplY3Q6W1tmdW5jdGlvbihyKXt2YXIgbj1yLnIsZT1yLmcsdT1yLmIsbz1yLmEsaT12b2lkIDA9PT1vPzE6bztyZXR1cm4gdChuKSYmdChlKSYmdCh1KT9hKHtyOk51bWJlcihuKSxnOk51bWJlcihlKSxiOk51bWJlcih1KSxhOk51bWJlcihpKX0pOm51bGx9LFwicmdiXCJdLFtmdW5jdGlvbihyKXt2YXIgbj1yLmgsZT1yLnMsdT1yLmwsYT1yLmEsbz12b2lkIDA9PT1hPzE6YTtpZighdChuKXx8IXQoZSl8fCF0KHUpKXJldHVybiBudWxsO3ZhciBpPWcoe2g6TnVtYmVyKG4pLHM6TnVtYmVyKGUpLGw6TnVtYmVyKHUpLGE6TnVtYmVyKG8pfSk7cmV0dXJuIGYoaSl9LFwiaHNsXCJdLFtmdW5jdGlvbihyKXt2YXIgbj1yLmgsYT1yLnMsbz1yLnYsaT1yLmEscz12b2lkIDA9PT1pPzE6aTtpZighdChuKXx8IXQoYSl8fCF0KG8pKXJldHVybiBudWxsO3ZhciBoPWZ1bmN0aW9uKHIpe3JldHVybntoOnUoci5oKSxzOmUoci5zLDAsMTAwKSx2OmUoci52LDAsMTAwKSxhOmUoci5hKX19KHtoOk51bWJlcihuKSxzOk51bWJlcihhKSx2Ok51bWJlcihvKSxhOk51bWJlcihzKX0pO3JldHVybiBiKGgpfSxcImhzdlwiXV19LE49ZnVuY3Rpb24ocix0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGU9dFtuXVswXShyKTtpZihlKXJldHVybltlLHRbbl1bMV1dfXJldHVybltudWxsLHZvaWQgMF19LHg9ZnVuY3Rpb24ocil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHI/TihyLnRyaW0oKSx5LnN0cmluZyk6XCJvYmplY3RcIj09dHlwZW9mIHImJm51bGwhPT1yP04ocix5Lm9iamVjdCk6W251bGwsdm9pZCAwXX0sST1mdW5jdGlvbihyKXtyZXR1cm4geChyKVsxXX0sTT1mdW5jdGlvbihyLHQpe3ZhciBuPWMocik7cmV0dXJue2g6bi5oLHM6ZShuLnMrMTAwKnQsMCwxMDApLGw6bi5sLGE6bi5hfX0sSD1mdW5jdGlvbihyKXtyZXR1cm4oMjk5KnIucis1ODcqci5nKzExNCpyLmIpLzFlMy8yNTV9LCQ9ZnVuY3Rpb24ocix0KXt2YXIgbj1jKHIpO3JldHVybntoOm4uaCxzOm4ucyxsOmUobi5sKzEwMCp0LDAsMTAwKSxhOm4uYX19LGo9ZnVuY3Rpb24oKXtmdW5jdGlvbiByKHIpe3RoaXMucGFyc2VkPXgocilbMF0sdGhpcy5yZ2JhPXRoaXMucGFyc2VkfHx7cjowLGc6MCxiOjAsYToxfX1yZXR1cm4gci5wcm90b3R5cGUuaXNWYWxpZD1mdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5wYXJzZWR9LHIucHJvdG90eXBlLmJyaWdodG5lc3M9ZnVuY3Rpb24oKXtyZXR1cm4gbihIKHRoaXMucmdiYSksMil9LHIucHJvdG90eXBlLmlzRGFyaz1mdW5jdGlvbigpe3JldHVybiBIKHRoaXMucmdiYSk8LjV9LHIucHJvdG90eXBlLmlzTGlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gSCh0aGlzLnJnYmEpPj0uNX0sci5wcm90b3R5cGUudG9IZXg9ZnVuY3Rpb24oKXtyZXR1cm4gcj1vKHRoaXMucmdiYSksdD1yLnIsZT1yLmcsdT1yLmIsaT0oYT1yLmEpPDE/cyhuKDI1NSphKSk6XCJcIixcIiNcIitzKHQpK3MoZSkrcyh1KStpO3ZhciByLHQsZSx1LGEsaX0sci5wcm90b3R5cGUudG9SZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzLnJnYmEpfSxyLnByb3RvdHlwZS50b1JnYlN0cmluZz1mdW5jdGlvbigpe3JldHVybiByPW8odGhpcy5yZ2JhKSx0PXIucixuPXIuZyxlPXIuYiwodT1yLmEpPDE/XCJyZ2JhKFwiK3QrXCIsIFwiK24rXCIsIFwiK2UrXCIsIFwiK3UrXCIpXCI6XCJyZ2IoXCIrdCtcIiwgXCIrbitcIiwgXCIrZStcIilcIjt2YXIgcix0LG4sZSx1fSxyLnByb3RvdHlwZS50b0hzbD1mdW5jdGlvbigpe3JldHVybiBkKGModGhpcy5yZ2JhKSl9LHIucHJvdG90eXBlLnRvSHNsU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHI9ZChjKHRoaXMucmdiYSkpLHQ9ci5oLG49ci5zLGU9ci5sLCh1PXIuYSk8MT9cImhzbGEoXCIrdCtcIiwgXCIrbitcIiUsIFwiK2UrXCIlLCBcIit1K1wiKVwiOlwiaHNsKFwiK3QrXCIsIFwiK24rXCIlLCBcIitlK1wiJSlcIjt2YXIgcix0LG4sZSx1fSxyLnByb3RvdHlwZS50b0hzdj1mdW5jdGlvbigpe3JldHVybiByPWgodGhpcy5yZ2JhKSx7aDpuKHIuaCksczpuKHIucyksdjpuKHIudiksYTpuKHIuYSwzKX07dmFyIHJ9LHIucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3JldHVybiB3KHtyOjI1NS0ocj10aGlzLnJnYmEpLnIsZzoyNTUtci5nLGI6MjU1LXIuYixhOnIuYX0pO3ZhciByfSxyLnByb3RvdHlwZS5zYXR1cmF0ZT1mdW5jdGlvbihyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9LjEpLHcoTSh0aGlzLnJnYmEscikpfSxyLnByb3RvdHlwZS5kZXNhdHVyYXRlPWZ1bmN0aW9uKHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj0uMSksdyhNKHRoaXMucmdiYSwtcikpfSxyLnByb3RvdHlwZS5ncmF5c2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdyhNKHRoaXMucmdiYSwtMSkpfSxyLnByb3RvdHlwZS5saWdodGVuPWZ1bmN0aW9uKHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj0uMSksdygkKHRoaXMucmdiYSxyKSl9LHIucHJvdG90eXBlLmRhcmtlbj1mdW5jdGlvbihyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9LjEpLHcoJCh0aGlzLnJnYmEsLXIpKX0sci5wcm90b3R5cGUucm90YXRlPWZ1bmN0aW9uKHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj0xNSksdGhpcy5odWUodGhpcy5odWUoKStyKX0sci5wcm90b3R5cGUuYWxwaGE9ZnVuY3Rpb24ocil7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHI/dyh7cjoodD10aGlzLnJnYmEpLnIsZzp0LmcsYjp0LmIsYTpyfSk6bih0aGlzLnJnYmEuYSwzKTt2YXIgdH0sci5wcm90b3R5cGUuaHVlPWZ1bmN0aW9uKHIpe3ZhciB0PWModGhpcy5yZ2JhKTtyZXR1cm5cIm51bWJlclwiPT10eXBlb2Ygcj93KHtoOnIsczp0LnMsbDp0LmwsYTp0LmF9KTpuKHQuaCl9LHIucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24ocil7cmV0dXJuIHRoaXMudG9IZXgoKT09PXcocikudG9IZXgoKX0scn0oKSx3PWZ1bmN0aW9uKHIpe3JldHVybiByIGluc3RhbmNlb2Ygaj9yOm5ldyBqKHIpfSxTPVtdLGs9ZnVuY3Rpb24ocil7ci5mb3JFYWNoKGZ1bmN0aW9uKHIpe1MuaW5kZXhPZihyKTwwJiYocihqLHkpLFMucHVzaChyKSl9KX0sRT1mdW5jdGlvbigpe3JldHVybiBuZXcgaih7cjoyNTUqTWF0aC5yYW5kb20oKSxnOjI1NSpNYXRoLnJhbmRvbSgpLGI6MjU1Kk1hdGgucmFuZG9tKCl9KX07ZXhwb3J0e2ogYXMgQ29sb3JkLHcgYXMgY29sb3JkLGsgYXMgZXh0ZW5kLEkgYXMgZ2V0Rm9ybWF0LEUgYXMgcmFuZG9tfTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGUsZil7dmFyIGE9e3doaXRlOlwiI2ZmZmZmZlwiLGJpc3F1ZTpcIiNmZmU0YzRcIixibHVlOlwiIzAwMDBmZlwiLGNhZGV0Ymx1ZTpcIiM1ZjllYTBcIixjaGFydHJldXNlOlwiIzdmZmYwMFwiLGNob2NvbGF0ZTpcIiNkMjY5MWVcIixjb3JhbDpcIiNmZjdmNTBcIixhbnRpcXVld2hpdGU6XCIjZmFlYmQ3XCIsYXF1YTpcIiMwMGZmZmZcIixhenVyZTpcIiNmMGZmZmZcIix3aGl0ZXNtb2tlOlwiI2Y1ZjVmNVwiLHBhcGF5YXdoaXA6XCIjZmZlZmQ1XCIscGx1bTpcIiNkZGEwZGRcIixibGFuY2hlZGFsbW9uZDpcIiNmZmViY2RcIixibGFjazpcIiMwMDAwMDBcIixnb2xkOlwiI2ZmZDcwMFwiLGdvbGRlbnJvZDpcIiNkYWE1MjBcIixnYWluc2Jvcm86XCIjZGNkY2RjXCIsY29ybnNpbGs6XCIjZmZmOGRjXCIsY29ybmZsb3dlcmJsdWU6XCIjNjQ5NWVkXCIsYnVybHl3b29kOlwiI2RlYjg4N1wiLGFxdWFtYXJpbmU6XCIjN2ZmZmQ0XCIsYmVpZ2U6XCIjZjVmNWRjXCIsY3JpbXNvbjpcIiNkYzE0M2NcIixjeWFuOlwiIzAwZmZmZlwiLGRhcmtibHVlOlwiIzAwMDA4YlwiLGRhcmtjeWFuOlwiIzAwOGI4YlwiLGRhcmtnb2xkZW5yb2Q6XCIjYjg4NjBiXCIsZGFya2toYWtpOlwiI2JkYjc2YlwiLGRhcmtncmF5OlwiI2E5YTlhOVwiLGRhcmtncmVlbjpcIiMwMDY0MDBcIixkYXJrZ3JleTpcIiNhOWE5YTlcIixwZWFjaHB1ZmY6XCIjZmZkYWI5XCIsZGFya21hZ2VudGE6XCIjOGIwMDhiXCIsZGFya3JlZDpcIiM4YjAwMDBcIixkYXJrb3JjaGlkOlwiIzk5MzJjY1wiLGRhcmtvcmFuZ2U6XCIjZmY4YzAwXCIsZGFya3NsYXRlYmx1ZTpcIiM0ODNkOGJcIixncmF5OlwiIzgwODA4MFwiLGRhcmtzbGF0ZWdyYXk6XCIjMmY0ZjRmXCIsZGFya3NsYXRlZ3JleTpcIiMyZjRmNGZcIixkZWVwcGluazpcIiNmZjE0OTNcIixkZWVwc2t5Ymx1ZTpcIiMwMGJmZmZcIix3aGVhdDpcIiNmNWRlYjNcIixmaXJlYnJpY2s6XCIjYjIyMjIyXCIsZmxvcmFsd2hpdGU6XCIjZmZmYWYwXCIsZ2hvc3R3aGl0ZTpcIiNmOGY4ZmZcIixkYXJrdmlvbGV0OlwiIzk0MDBkM1wiLG1hZ2VudGE6XCIjZmYwMGZmXCIsZ3JlZW46XCIjMDA4MDAwXCIsZG9kZ2VyYmx1ZTpcIiMxZTkwZmZcIixncmV5OlwiIzgwODA4MFwiLGhvbmV5ZGV3OlwiI2YwZmZmMFwiLGhvdHBpbms6XCIjZmY2OWI0XCIsYmx1ZXZpb2xldDpcIiM4YTJiZTJcIixmb3Jlc3RncmVlbjpcIiMyMjhiMjJcIixsYXduZ3JlZW46XCIjN2NmYzAwXCIsaW5kaWFucmVkOlwiI2NkNWM1Y1wiLGluZGlnbzpcIiM0YjAwODJcIixmdWNoc2lhOlwiI2ZmMDBmZlwiLGJyb3duOlwiI2E1MmEyYVwiLG1hcm9vbjpcIiM4MDAwMDBcIixtZWRpdW1ibHVlOlwiIzAwMDBjZFwiLGxpZ2h0Y29yYWw6XCIjZjA4MDgwXCIsZGFya3R1cnF1b2lzZTpcIiMwMGNlZDFcIixsaWdodGN5YW46XCIjZTBmZmZmXCIsaXZvcnk6XCIjZmZmZmYwXCIsbGlnaHR5ZWxsb3c6XCIjZmZmZmUwXCIsbGlnaHRzYWxtb246XCIjZmZhMDdhXCIsbGlnaHRzZWFncmVlbjpcIiMyMGIyYWFcIixsaW5lbjpcIiNmYWYwZTZcIixtZWRpdW1hcXVhbWFyaW5lOlwiIzY2Y2RhYVwiLGxlbW9uY2hpZmZvbjpcIiNmZmZhY2RcIixsaW1lOlwiIzAwZmYwMFwiLGtoYWtpOlwiI2YwZTY4Y1wiLG1lZGl1bXNlYWdyZWVuOlwiIzNjYjM3MVwiLGxpbWVncmVlbjpcIiMzMmNkMzJcIixtZWRpdW1zcHJpbmdncmVlbjpcIiMwMGZhOWFcIixsaWdodHNreWJsdWU6XCIjODdjZWZhXCIsbGlnaHRibHVlOlwiI2FkZDhlNlwiLG1pZG5pZ2h0Ymx1ZTpcIiMxOTE5NzBcIixsaWdodHBpbms6XCIjZmZiNmMxXCIsbWlzdHlyb3NlOlwiI2ZmZTRlMVwiLG1vY2Nhc2luOlwiI2ZmZTRiNVwiLG1pbnRjcmVhbTpcIiNmNWZmZmFcIixsaWdodHNsYXRlZ3JheTpcIiM3Nzg4OTlcIixsaWdodHNsYXRlZ3JleTpcIiM3Nzg4OTlcIixuYXZham93aGl0ZTpcIiNmZmRlYWRcIixuYXZ5OlwiIzAwMDA4MFwiLG1lZGl1bXZpb2xldHJlZDpcIiNjNzE1ODVcIixwb3dkZXJibHVlOlwiI2IwZTBlNlwiLHBhbGVnb2xkZW5yb2Q6XCIjZWVlOGFhXCIsb2xkbGFjZTpcIiNmZGY1ZTZcIixwYWxldHVycXVvaXNlOlwiI2FmZWVlZVwiLG1lZGl1bXR1cnF1b2lzZTpcIiM0OGQxY2NcIixtZWRpdW1vcmNoaWQ6XCIjYmE1NWQzXCIscmViZWNjYXB1cnBsZTpcIiM2NjMzOTlcIixsaWdodHN0ZWVsYmx1ZTpcIiNiMGM0ZGVcIixtZWRpdW1zbGF0ZWJsdWU6XCIjN2I2OGVlXCIsdGhpc3RsZTpcIiNkOGJmZDhcIix0YW46XCIjZDJiNDhjXCIsb3JjaGlkOlwiI2RhNzBkNlwiLG1lZGl1bXB1cnBsZTpcIiM5MzcwZGJcIixwdXJwbGU6XCIjODAwMDgwXCIscGluazpcIiNmZmMwY2JcIixza3libHVlOlwiIzg3Y2VlYlwiLHNwcmluZ2dyZWVuOlwiIzAwZmY3ZlwiLHBhbGVncmVlbjpcIiM5OGZiOThcIixyZWQ6XCIjZmYwMDAwXCIseWVsbG93OlwiI2ZmZmYwMFwiLHNsYXRlYmx1ZTpcIiM2YTVhY2RcIixsYXZlbmRlcmJsdXNoOlwiI2ZmZjBmNVwiLHBlcnU6XCIjY2Q4NTNmXCIscGFsZXZpb2xldHJlZDpcIiNkYjcwOTNcIix2aW9sZXQ6XCIjZWU4MmVlXCIsdGVhbDpcIiMwMDgwODBcIixzbGF0ZWdyYXk6XCIjNzA4MDkwXCIsc2xhdGVncmV5OlwiIzcwODA5MFwiLGFsaWNlYmx1ZTpcIiNmMGY4ZmZcIixkYXJrc2VhZ3JlZW46XCIjOGZiYzhmXCIsZGFya29saXZlZ3JlZW46XCIjNTU2YjJmXCIsZ3JlZW55ZWxsb3c6XCIjYWRmZjJmXCIsc2VhZ3JlZW46XCIjMmU4YjU3XCIsc2Vhc2hlbGw6XCIjZmZmNWVlXCIsdG9tYXRvOlwiI2ZmNjM0N1wiLHNpbHZlcjpcIiNjMGMwYzBcIixzaWVubmE6XCIjYTA1MjJkXCIsbGF2ZW5kZXI6XCIjZTZlNmZhXCIsbGlnaHRncmVlbjpcIiM5MGVlOTBcIixvcmFuZ2U6XCIjZmZhNTAwXCIsb3JhbmdlcmVkOlwiI2ZmNDUwMFwiLHN0ZWVsYmx1ZTpcIiM0NjgyYjRcIixyb3lhbGJsdWU6XCIjNDE2OWUxXCIsdHVycXVvaXNlOlwiIzQwZTBkMFwiLHllbGxvd2dyZWVuOlwiIzlhY2QzMlwiLHNhbG1vbjpcIiNmYTgwNzJcIixzYWRkbGVicm93bjpcIiM4YjQ1MTNcIixzYW5keWJyb3duOlwiI2Y0YTQ2MFwiLHJvc3licm93bjpcIiNiYzhmOGZcIixkYXJrc2FsbW9uOlwiI2U5OTY3YVwiLGxpZ2h0Z29sZGVucm9keWVsbG93OlwiI2ZhZmFkMlwiLHNub3c6XCIjZmZmYWZhXCIsbGlnaHRncmV5OlwiI2QzZDNkM1wiLGxpZ2h0Z3JheTpcIiNkM2QzZDNcIixkaW1ncmF5OlwiIzY5Njk2OVwiLGRpbWdyZXk6XCIjNjk2OTY5XCIsb2xpdmVkcmFiOlwiIzZiOGUyM1wiLG9saXZlOlwiIzgwODAwMFwifSxyPXt9O2Zvcih2YXIgZCBpbiBhKXJbYVtkXV09ZDt2YXIgbD17fTtlLnByb3RvdHlwZS50b05hbWU9ZnVuY3Rpb24oZil7aWYoISh0aGlzLnJnYmEuYXx8dGhpcy5yZ2JhLnJ8fHRoaXMucmdiYS5nfHx0aGlzLnJnYmEuYikpcmV0dXJuXCJ0cmFuc3BhcmVudFwiO3ZhciBkLGksbj1yW3RoaXMudG9IZXgoKV07aWYobilyZXR1cm4gbjtpZihudWxsPT1mP3ZvaWQgMDpmLmNsb3Nlc3Qpe3ZhciBvPXRoaXMudG9SZ2IoKSx0PTEvMCxiPVwiYmxhY2tcIjtpZighbC5sZW5ndGgpZm9yKHZhciBjIGluIGEpbFtjXT1uZXcgZShhW2NdKS50b1JnYigpO2Zvcih2YXIgZyBpbiBhKXt2YXIgdT0oZD1vLGk9bFtnXSxNYXRoLnBvdyhkLnItaS5yLDIpK01hdGgucG93KGQuZy1pLmcsMikrTWF0aC5wb3coZC5iLWkuYiwyKSk7dTx0JiYodD11LGI9Zyl9cmV0dXJuIGJ9fTtmLnN0cmluZy5wdXNoKFtmdW5jdGlvbihmKXt2YXIgcj1mLnRvTG93ZXJDYXNlKCksZD1cInRyYW5zcGFyZW50XCI9PT1yP1wiIzAwMDBcIjphW3JdO3JldHVybiBkP25ldyBlKGQpLnRvUmdiKCk6bnVsbH0sXCJuYW1lXCJdKX1cbiIsImltcG9ydCB7IHV0aWxzIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBBbHBoYUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1hbHBoYSc7XG5pbXBvcnQgeyBCbHVyRmlsdGVyLCBCbHVyRmlsdGVyUGFzcyB9IGZyb20gJ0BwaXhpL2ZpbHRlci1ibHVyJztcbmltcG9ydCB7IENvbG9yTWF0cml4RmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeCc7XG5pbXBvcnQgeyBEaXNwbGFjZW1lbnRGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50JztcbmltcG9ydCB7IEZYQUFGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItZnhhYSc7XG5pbXBvcnQgeyBOb2lzZUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1ub2lzZSc7XG5cbmNvbnN0IGZpbHRlcnMgPSB7XG4gIEFscGhhRmlsdGVyLFxuICBCbHVyRmlsdGVyLFxuICBCbHVyRmlsdGVyUGFzcyxcbiAgQ29sb3JNYXRyaXhGaWx0ZXIsXG4gIERpc3BsYWNlbWVudEZpbHRlcixcbiAgRlhBQUZpbHRlcixcbiAgTm9pc2VGaWx0ZXJcbn07XG5PYmplY3QuZW50cmllcyhmaWx0ZXJzKS5mb3JFYWNoKChba2V5LCBGaWx0ZXJDbGFzc10pID0+IHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZpbHRlcnMsIGtleSwge1xuICAgIGdldCgpIHtcbiAgICAgIHV0aWxzLmRlcHJlY2F0aW9uKFwiNy4xLjBcIiwgYGZpbHRlcnMuJHtrZXl9IGhhcyBtb3ZlZCB0byAke2tleX1gKTtcbiAgICAgIHJldHVybiBGaWx0ZXJDbGFzcztcbiAgICB9XG4gIH0pO1xufSk7XG5cbmV4cG9ydCB7IGZpbHRlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlcnMubWpzLm1hcFxuIiwiaW1wb3J0ICdAcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24nO1xuZXhwb3J0IHsgZmlsdGVycyB9IGZyb20gJy4vZmlsdGVycy5tanMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvYWNjZXNzaWJpbGl0eSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9hcHAnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvYXNzZXRzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2NvbXByZXNzZWQtdGV4dHVyZXMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvY29yZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2V2ZW50cyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9leHRyYWN0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2ZpbHRlci1hbHBoYSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9maWx0ZXItYmx1cic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9maWx0ZXItY29sb3ItbWF0cml4JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZmlsdGVyLWZ4YWEnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZmlsdGVyLW5vaXNlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2dyYXBoaWNzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21lc2gnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWVzaC1leHRyYXMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvcGFydGljbGUtY29udGFpbmVyJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3ByZXBhcmUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS1hbmltYXRlZCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZXNoZWV0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RleHQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGV4dC1iaXRtYXAnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGV4dC1odG1sJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubm1kID0gKG1vZHVsZSkgPT4ge1xuXHRtb2R1bGUucGF0aHMgPSBbXTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCJpbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XHJcbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJ2xvZGFzaCc7XHJcblxyXG5pbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xyXG5cclxuLy8gbWFrZXMgdGhlIGNvZGUgbW9yZSByZWFkYWJsZSB3aGVuIGRlYWxpbmcgd2l0aCBzbmFrZSdzIG1vdmVtZW50IGxvZ2ljXHJcbmVudW0gRGlyZWN0aW9uIHtcclxuICAgIFVwLFxyXG4gICAgRG93bixcclxuICAgIExlZnQsXHJcbiAgICBSaWdodCxcclxufVxyXG5cclxuLy8gaGVscGVyIGZ1bmN0aW9uIHRvIGdldCB0aGUgb3Bwb3NpdGUgb2YgdGhlIHBhc3NlZCBpbiBkaXJlY3Rpb25cclxuZnVuY3Rpb24gb3Bwb3NpdGVEaXJlY3Rpb24oZGlyOiBEaXJlY3Rpb24pIHtcclxuICAgIHN3aXRjaCAoZGlyKSB7XHJcbiAgICAgICAgY2FzZSBEaXJlY3Rpb24uVXA6XHJcbiAgICAgICAgICAgIHJldHVybiBEaXJlY3Rpb24uRG93bjtcclxuICAgICAgICBjYXNlIERpcmVjdGlvbi5Eb3duOlxyXG4gICAgICAgICAgICByZXR1cm4gRGlyZWN0aW9uLlVwO1xyXG4gICAgICAgIGNhc2UgRGlyZWN0aW9uLkxlZnQ6XHJcbiAgICAgICAgICAgIHJldHVybiBEaXJlY3Rpb24uUmlnaHQ7XHJcbiAgICAgICAgY2FzZSBEaXJlY3Rpb24uUmlnaHQ6XHJcbiAgICAgICAgICAgIHJldHVybiBEaXJlY3Rpb24uTGVmdDtcclxuICAgIH1cclxufVxyXG5cclxuLy8gY29udmVuaWVudCB2ZWN0b3IgZm9yIDJEIGludGVnZXIgY29vcmRpbmF0ZXNcclxuY2xhc3MgQ29vcmQge1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBoYW5kbGVzIGV2ZXJ5dGhpbmcgdGhhdCBoYXBwZW5zIGluIHRoZSBnYW1lXHJcbmNsYXNzIEdhbWUge1xyXG4gICAgYXBwOiBQSVhJLkFwcGxpY2F0aW9uPEhUTUxDYW52YXNFbGVtZW50PjtcclxuICAgIHNuYWtlR3JhcGhpYzogUElYSS5Db250YWluZXI7XHJcbiAgICBhcHBsZUdyYXBoaWM6IFBJWEkuQ29udGFpbmVyO1xyXG5cclxuICAgIGNlbGxQaXhlbFNpemU6IG51bWJlcjtcclxuICAgIHZpZXdXaWR0aDogbnVtYmVyO1xyXG4gICAgdmlld0hlaWdodDogbnVtYmVyO1xyXG5cclxuICAgIGdhbWVPdmVyOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHBhdXNlZDogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBncmlkOiBHcmlkO1xyXG4gICAgc25ha2U6IFNuYWtlO1xyXG4gICAgYXBwbGU6IENvb3JkO1xyXG5cclxuICAgIGVsYXBzZWRUaW1lOiBudW1iZXIgPSAwO1xyXG4gICAgZGVsdGFUaWNrOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGdyaWRTaXplWDogbnVtYmVyLCBncmlkU2l6ZVk6IG51bWJlcikge1xyXG4gICAgICAgIC8vIGNvbnN0cmFpbiBncmlkIGRpbWVuc2lvbnMgdG8gYmUgYXQgbGVhc3QgNCBmb3IgZmFpciBnYW1lcGxheSBhbmQgYXQgbW9zdCAxMDI0IHRvIGtlZXAgd2VsbCB3aXRoaW4gcmVhc29uYWJsZSBtZW1vcnkgcmVxdWlyZW1lbnRzXHJcbiAgICAgICAgZ3JpZFNpemVYID0gTWF0aC5taW4oTWF0aC5tYXgoZ3JpZFNpemVYLCA0KSwgMTAyNCk7XHJcbiAgICAgICAgZ3JpZFNpemVZID0gTWF0aC5taW4oTWF0aC5tYXgoZ3JpZFNpemVZLCA0KSwgMTAyNCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ3JpZCA9IG5ldyBHcmlkKGdyaWRTaXplWCwgZ3JpZFNpemVZKTtcclxuXHJcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoYXQgdGhlIGdhbWUgYm9hcmQgZml0cyBvbiB0aGUgc2NyZWVuXHJcblxyXG4gICAgICAgIHRoaXMuY2VsbFBpeGVsU2l6ZSA9IE1hdGgubWluKDY0LCB3aW5kb3cuaW5uZXJXaWR0aCAvIGdyaWRTaXplWCwgd2luZG93LmlubmVySGVpZ2h0IC8gZ3JpZFNpemVZKTtcclxuICAgICAgICB0aGlzLnZpZXdXaWR0aCA9IGdyaWRTaXplWCAqIHRoaXMuY2VsbFBpeGVsU2l6ZTtcclxuICAgICAgICB0aGlzLnZpZXdIZWlnaHQgPSBncmlkU2l6ZVkgKiB0aGlzLmNlbGxQaXhlbFNpemU7XHJcblxyXG4gICAgICAgIHRoaXMuYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb248SFRNTENhbnZhc0VsZW1lbnQ+KHsgd2lkdGg6IHRoaXMudmlld1dpZHRoLCBoZWlnaHQ6IHRoaXMudmlld0hlaWdodCB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zbmFrZSA9IG5ldyBTbmFrZShNYXRoLmZsb29yKGdyaWRTaXplWCAvIDIpLCBNYXRoLmZsb29yKGdyaWRTaXplWSAvIDIpKTtcclxuXHJcbiAgICAgICAgbGV0IGNlbGwgPSB0aGlzLnNuYWtlLnRhaWw7XHJcblxyXG4gICAgICAgIHdoaWxlIChjZWxsICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5ncmlkLnN0YXRlW2NlbGwuY29vcmQueF1bY2VsbC5jb29yZC55XSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNlbGwgPSBjZWxsLm5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUtleUxpc3RlbmVyKCkge1xyXG4gICAgICAgIGxldCBsaXN0ZW5lciA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBrZXkgPSBlLmtleTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiIFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHBhdXNlcyBhbmQgdW5wYXVzZXMgdGhlIGdhbWVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdXNlZCA9ICF0aGlzLnBhdXNlZDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkdhbWVQYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIndcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNuYWtlLnNldERpcihEaXJlY3Rpb24uVXApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNuYWtlLnNldERpcihEaXJlY3Rpb24uRG93bik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc25ha2Uuc2V0RGlyKERpcmVjdGlvbi5MZWZ0KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJkXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbmFrZS5zZXREaXIoRGlyZWN0aW9uLlJpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIEdhbWVJbml0KCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZU92ZXIgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgbGV0IGdhbWUgPSB0aGlzO1xyXG4gICAgICAgIGxldCBhcHAgPSB0aGlzLmFwcDtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGdyaWRHcmFwaGljID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XHJcbiAgICAgICAgYXBwLnN0YWdlLmFkZENoaWxkKGdyaWRHcmFwaGljKTtcclxuXHJcbiAgICAgICAgLy8gZHJhdyB0aGUgZ3JpZFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHRoaXMuZ3JpZC5zaXplWDsgKytpKSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkTGluZSA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgbGluZVdpZHRoID0gdGhpcy5jZWxsUGl4ZWxTaXplICogMC4xO1xyXG5cclxuICAgICAgICAgICAgZ3JpZExpbmUubGluZVN0eWxlKHsgY29sb3I6IDB4NTU1NTU1LCB3aWR0aDogbGluZVdpZHRoIH0pO1xyXG4gICAgICAgICAgICBncmlkTGluZS5tb3ZlVG8oaSAqICgodGhpcy52aWV3V2lkdGggLSBsaW5lV2lkdGgpIC8gKHRoaXMuZ3JpZC5zaXplWCkpICsgKGxpbmVXaWR0aCAqIDAuNSksIHRoaXMudmlld1dpZHRoKTtcclxuICAgICAgICAgICAgZ3JpZExpbmUubGluZVRvKGkgKiAoKHRoaXMudmlld1dpZHRoIC0gbGluZVdpZHRoKSAvICh0aGlzLmdyaWQuc2l6ZVgpKSArIChsaW5lV2lkdGggKiAwLjUpLCAwKTtcclxuXHJcbiAgICAgICAgICAgIGdyaWRHcmFwaGljLmFkZENoaWxkKGdyaWRMaW5lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHRoaXMuZ3JpZC5zaXplWDsgKytpKSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkTGluZSA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgbGluZVdpZHRoID0gdGhpcy5jZWxsUGl4ZWxTaXplICogMC4xO1xyXG5cclxuICAgICAgICAgICAgZ3JpZExpbmUubGluZVN0eWxlKHsgY29sb3I6IDB4NTU1NTU1LCB3aWR0aDogbGluZVdpZHRoIH0pO1xyXG4gICAgICAgICAgICBncmlkTGluZS5tb3ZlVG8odGhpcy52aWV3SGVpZ2h0LCBpICogKCh0aGlzLnZpZXdIZWlnaHQgLSBsaW5lV2lkdGgpIC8gKHRoaXMuZ3JpZC5zaXplWSkpICsgKGxpbmVXaWR0aCAqIDAuNSkpO1xyXG4gICAgICAgICAgICBncmlkTGluZS5saW5lVG8oMCwgaSAqICgodGhpcy52aWV3SGVpZ2h0IC0gbGluZVdpZHRoKSAvICh0aGlzLmdyaWQuc2l6ZVkpKSArIChsaW5lV2lkdGggKiAwLjUpKTtcclxuXHJcbiAgICAgICAgICAgIGdyaWRHcmFwaGljLmFkZENoaWxkKGdyaWRMaW5lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBzbmFrZUdyYXBoaWMgPSBuZXcgUElYSS5Db250YWluZXIoKTtcclxuICAgICAgICB0aGlzLnNuYWtlR3JhcGhpYyA9IHNuYWtlR3JhcGhpYztcclxuXHJcbiAgICAgICAgYXBwLnN0YWdlLmFkZENoaWxkKHNuYWtlR3JhcGhpYyk7XHJcblxyXG4gICAgICAgIGxldCBzbmFrZUhlYWQgPSBuZXcgUElYSS5HcmFwaGljcygpO1xyXG4gICAgICAgIHNuYWtlSGVhZC5iZWdpbkZpbGwoMHgwMGZmQ0MpO1xyXG4gICAgICAgIHNuYWtlSGVhZC5saW5lU3R5bGUoeyBjb2xvcjogMHgwMENDMDAsIHdpZHRoOiB0aGlzLmNlbGxQaXhlbFNpemUgKiAwLjEsIGFsaWdubWVudDogMCB9KTtcclxuICAgICAgICBzbmFrZUhlYWQuZHJhd1JlY3QodGhpcy5zbmFrZS5oZWFkLmNvb3JkLnggKiB0aGlzLmNlbGxQaXhlbFNpemUsIHRoaXMuc25ha2UuaGVhZC5jb29yZC55ICogdGhpcy5jZWxsUGl4ZWxTaXplLCB0aGlzLmNlbGxQaXhlbFNpemUsIHRoaXMuY2VsbFBpeGVsU2l6ZSk7XHJcblxyXG4gICAgICAgIGxldCBzbmFrZVRhaWwgPSBuZXcgUElYSS5HcmFwaGljcygpO1xyXG4gICAgICAgIHNuYWtlVGFpbC5iZWdpbkZpbGwoMHgwMGZmQ0MpO1xyXG4gICAgICAgIHNuYWtlVGFpbC5saW5lU3R5bGUoeyBjb2xvcjogMHgwMENDMDAsIHdpZHRoOiB0aGlzLmNlbGxQaXhlbFNpemUgKiAwLjEsIGFsaWdubWVudDogMCB9KTtcclxuICAgICAgICBzbmFrZVRhaWwuZHJhd1JlY3QodGhpcy5zbmFrZS50YWlsLmNvb3JkLnggKiB0aGlzLmNlbGxQaXhlbFNpemUsIHRoaXMuc25ha2UudGFpbC5jb29yZC55ICogdGhpcy5jZWxsUGl4ZWxTaXplLCB0aGlzLmNlbGxQaXhlbFNpemUsIHRoaXMuY2VsbFBpeGVsU2l6ZSk7XHJcblxyXG4gICAgICAgIHNuYWtlR3JhcGhpYy5hZGRDaGlsZChzbmFrZUhlYWQpO1xyXG4gICAgICAgIHNuYWtlR3JhcGhpYy5hZGRDaGlsZChzbmFrZVRhaWwpO1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgaW5pdGlhbCBhcHBsZVxyXG5cclxuICAgICAgICB0aGlzLmdlbmVyYXRlQXBwbGUoKTtcclxuXHJcbiAgICAgICAgbGV0IGFwcGxlR3JhcGhpYyA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xyXG4gICAgICAgIHRoaXMuYXBwbGVHcmFwaGljID0gYXBwbGVHcmFwaGljO1xyXG5cclxuICAgICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoYXBwbGVHcmFwaGljKTtcclxuXHJcbiAgICAgICAgbGV0IGFwcGxlID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcclxuICAgICAgICBhcHBsZS5iZWdpbkZpbGwoMHhmZjAwMDApO1xyXG4gICAgICAgIGFwcGxlLmxpbmVTdHlsZSh7IGNvbG9yOiAweDU1MDAwMCwgd2lkdGg6IHRoaXMuY2VsbFBpeGVsU2l6ZSAqIDAuMSwgYWxpZ25tZW50OiAwIH0pO1xyXG4gICAgICAgIGFwcGxlLmRyYXdSZWN0KHRoaXMuYXBwbGUueCAqIHRoaXMuY2VsbFBpeGVsU2l6ZSwgdGhpcy5hcHBsZS55ICogdGhpcy5jZWxsUGl4ZWxTaXplLCB0aGlzLmNlbGxQaXhlbFNpemUsIHRoaXMuY2VsbFBpeGVsU2l6ZSk7XHJcblxyXG4gICAgICAgIGFwcGxlR3JhcGhpYy5hZGRDaGlsZChhcHBsZSk7XHJcblxyXG4gICAgICAgIGxldCBzbmFrZSA9IHRoaXMuc25ha2U7XHJcbiAgICAgICAgbGV0IHBhdXNlZCA9IHRoaXMucGF1c2VkO1xyXG5cclxuICAgICAgICAvLyB3YWl0IGZvciBwbGF5ZXIgdG8gY2hvb3NlIGRpcmVjdGlvbiBmb3Igc25ha2VcclxuICAgICAgICBsZXQgY2hvb3NlRGlyID0gKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25LZXlIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uS2V5SGFuZGxlcihlOiBLZXlib2FyZEV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGtleSA9IGUua2V5O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkaXIgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwid1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyID0gRGlyZWN0aW9uLlVwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXIgPSBEaXJlY3Rpb24uRG93bjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyID0gRGlyZWN0aW9uLkxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpciA9IERpcmVjdGlvbi5SaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpciAhPSBudWxsICYmIGRpciAhPSBvcHBvc2l0ZURpcmVjdGlvbihzbmFrZS5sYXN0RGlyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25LZXlIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc25ha2Uuc2V0RGlyKGRpcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCBjaG9vc2VEaXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVLZXlMaXN0ZW5lcigpO1xyXG5cclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCh0aGlzLkdhbWVMb29wLmJpbmQodGhpcykpKTtcclxuICAgIH1cclxuXHJcbiAgICBHYW1lTG9vcCh0aW1lU3RhbXA6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuZGVsdGFUaWNrICs9IHRpbWVTdGFtcCAtIHRoaXMuZWxhcHNlZFRpbWU7XHJcbiAgICAgICAgdGhpcy5lbGFwc2VkVGltZSA9IHRpbWVTdGFtcDtcclxuXHJcbiAgICAgICAgbGV0IHRwcyA9IDE1O1xyXG4gICAgICAgIGxldCBmcmFtZVRpbWUgPSAxMDAwIC8gdHBzO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5kZWx0YVRpY2sgPiBmcmFtZVRpbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWx0YVRpY2sgPSB0aGlzLmRlbHRhVGljayAlIGZyYW1lVGltZTtcclxuXHJcblxyXG4gICAgICAgICAgICBsZXQgc25ha2UgPSB0aGlzLnNuYWtlO1xyXG4gICAgICAgICAgICBsZXQgZ3JpZCA9IHRoaXMuZ3JpZDtcclxuXHJcbiAgICAgICAgICAgIHNuYWtlLnN0ZXAoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNldCB0aGUgdGFpbCBjZWxsIHRvIGJlIGVtcHR5IGluIHRoZSBncmlkIHN0YXRlXHJcbiAgICAgICAgICAgIHRoaXMuZ3JpZC5zdGF0ZVt0aGlzLnNuYWtlLnRhaWwuY29vcmQueF1bdGhpcy5zbmFrZS50YWlsLmNvb3JkLnldID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgZ2FtZW92ZXIgdG8gdHJ1ZSBpZiBzbmFrZSBoYXMgY29sbGlkZWQgd2l0aCBpdHNlbGYgb3IgaGFzIGdvbmUgb3V0IHRoZSBib3VuZHMgb2YgdGhlIGdyaWRcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgc25ha2UuaGVhZC5jb29yZC54IDwgMFxyXG4gICAgICAgICAgICAgICAgfHwgc25ha2UuaGVhZC5jb29yZC54ID49IGdyaWQuc2l6ZVhcclxuICAgICAgICAgICAgICAgIHx8IHNuYWtlLmhlYWQuY29vcmQueSA8IDBcclxuICAgICAgICAgICAgICAgIHx8IHNuYWtlLmhlYWQuY29vcmQueSA+PSBncmlkLnNpemVZXHJcbiAgICAgICAgICAgICAgICB8fCBncmlkLnN0YXRlW3NuYWtlLmhlYWQuY29vcmQueF1bc25ha2UuaGVhZC5jb29yZC55XVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmIHNuYWtlIGhhcyBlYXRlbiBhbiBhcHBsZVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzbmFrZS5oZWFkLmNvb3JkLnggPT0gdGhpcy5hcHBsZS54ICYmIHNuYWtlLmhlYWQuY29vcmQueSA9PSB0aGlzLmFwcGxlLnkpIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBuZXcgb2NjdXBpZWQgY2VsbCBpbiB0aGUgZ3JpZCBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5ncmlkLnN0YXRlW3RoaXMuc25ha2UuaGVhZC5jb29yZC54XVt0aGlzLnNuYWtlLmhlYWQuY29vcmQueV0gPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgdGFpbCBjZWxsIHRvIGJlIG9jY3VwaWVkIHNpbmNlIHRoZSBzbmFrZSBoYXMgZWF0ZW4gYW5kIHNob3VsZCBub3QgbG9zZSBpdHMgdGFpbFxyXG4gICAgICAgICAgICAgICAgdGhpcy5ncmlkLnN0YXRlW3RoaXMuc25ha2UudGFpbC5jb29yZC54XVt0aGlzLnNuYWtlLnRhaWwuY29vcmQueV0gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgb2xkIGFwcGxlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGxlR3JhcGhpYy5yZW1vdmVDaGlsZEF0KDApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgYXBwbGVcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVBcHBsZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGRyYXcgbmV3IGFwcGxlXHJcbiAgICAgICAgICAgICAgICBsZXQgYXBwbGUgPSBuZXcgUElYSS5HcmFwaGljcygpO1xyXG4gICAgICAgICAgICAgICAgYXBwbGUuYmVnaW5GaWxsKDB4ZmYwMDAwKTtcclxuICAgICAgICAgICAgICAgIGFwcGxlLmxpbmVTdHlsZSh7IGNvbG9yOiAweDU1MDAwMCwgd2lkdGg6IHRoaXMuY2VsbFBpeGVsU2l6ZSAqIDAuMSwgYWxpZ25tZW50OiAwIH0pO1xyXG4gICAgICAgICAgICAgICAgYXBwbGUuZHJhd1JlY3QodGhpcy5hcHBsZS54ICogdGhpcy5jZWxsUGl4ZWxTaXplLCB0aGlzLmFwcGxlLnkgKiB0aGlzLmNlbGxQaXhlbFNpemUsIHRoaXMuY2VsbFBpeGVsU2l6ZSwgdGhpcy5jZWxsUGl4ZWxTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGxlR3JhcGhpYy5hZGRDaGlsZChhcHBsZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZHJhdyBuZXcgc25ha2UgaGVhZFxyXG4gICAgICAgICAgICAgICAgbGV0IHNuYWtlQ2VsbCA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XHJcbiAgICAgICAgICAgICAgICBzbmFrZUNlbGwuYmVnaW5GaWxsKDB4MDBmZkNDKTtcclxuICAgICAgICAgICAgICAgIHNuYWtlQ2VsbC5saW5lU3R5bGUoeyBjb2xvcjogMHgwMENDMDAsIHdpZHRoOiB0aGlzLmNlbGxQaXhlbFNpemUgKiAwLjEsIGFsaWdubWVudDogMCB9KTtcclxuICAgICAgICAgICAgICAgIHNuYWtlQ2VsbC5kcmF3UmVjdCh0aGlzLnNuYWtlLmhlYWQuY29vcmQueCAqIHRoaXMuY2VsbFBpeGVsU2l6ZSwgdGhpcy5zbmFrZS5oZWFkLmNvb3JkLnkgKiB0aGlzLmNlbGxQaXhlbFNpemUsIHRoaXMuY2VsbFBpeGVsU2l6ZSwgdGhpcy5jZWxsUGl4ZWxTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNuYWtlR3JhcGhpYy5hZGRDaGlsZChzbmFrZUNlbGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIG5ldyBvY2N1cGllZCBjZWxsIGluIHRoZSBncmlkIHN0YXRlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdyaWQuc3RhdGVbdGhpcy5zbmFrZS5oZWFkLmNvb3JkLnhdW3RoaXMuc25ha2UuaGVhZC5jb29yZC55XSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIHRoZSB0YWlsIG9mIHRoZSBzbmFrZVxyXG4gICAgICAgICAgICAgICAgbGV0IHRlbXBUYWlsID0gc25ha2UudGFpbC5uZXh0O1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHNuYWtlLnRhaWxcclxuICAgICAgICAgICAgICAgIHNuYWtlLnRhaWwgPSB0ZW1wVGFpbDtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNuYWtlR3JhcGhpYy5yZW1vdmVDaGlsZEF0KDApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgaGVhZCBvZiBzbmFrZVxyXG4gICAgICAgICAgICAgICAgbGV0IHNuYWtlQ2VsbCA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XHJcbiAgICAgICAgICAgICAgICBzbmFrZUNlbGwuYmVnaW5GaWxsKDB4MDBmZkNDKTtcclxuICAgICAgICAgICAgICAgIHNuYWtlQ2VsbC5saW5lU3R5bGUoeyBjb2xvcjogMHgwMENDMDAsIHdpZHRoOiB0aGlzLmNlbGxQaXhlbFNpemUgKiAwLjEsIGFsaWdubWVudDogMCB9KTtcclxuICAgICAgICAgICAgICAgIHNuYWtlQ2VsbC5kcmF3UmVjdCh0aGlzLnNuYWtlLmhlYWQuY29vcmQueCAqIHRoaXMuY2VsbFBpeGVsU2l6ZSwgdGhpcy5zbmFrZS5oZWFkLmNvb3JkLnkgKiB0aGlzLmNlbGxQaXhlbFNpemUsIHRoaXMuY2VsbFBpeGVsU2l6ZSwgdGhpcy5jZWxsUGl4ZWxTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNuYWtlR3JhcGhpYy5hZGRDaGlsZChzbmFrZUNlbGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBvbmx5IGNhbGwgaWYgdGhlIGdhbWUgaXMgbm90IHBhdXNlZFxyXG4gICAgICAgIGlmICghdGhpcy5wYXVzZWQgJiYgIXRoaXMuZ2FtZU92ZXIpIHtcclxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLkdhbWVMb29wLmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBHYW1lUGF1c2UoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBhdXNlZCAmJiAhdGhpcy5nYW1lT3Zlcikge1xyXG4gICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuR2FtZUxvb3AuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlQXBwbGUoKSB7XHJcbiAgICAgICAgbGV0IGNvb3JkID0gbmV3IENvb3JkKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuZ3JpZC5zaXplWCksIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuZ3JpZC5zaXplWSkpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5ncmlkLnN0YXRlW2Nvb3JkLnhdW2Nvb3JkLnldKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVBcHBsZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbGUgPSBjb29yZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGdyaWQgdG8gc3RvcmUgdGhlIHN0YXRlIG9mIHRoZSBib2FyZCAod2hpY2ggY2VsbHMgYXJlIGVtcHR5IG9yIGNvbnRhaW4gc25ha2UpXHJcbmNsYXNzIEdyaWQge1xyXG4gICAgc2l6ZVg6IG51bWJlcjtcclxuICAgIHNpemVZOiBudW1iZXI7XHJcblxyXG4gICAgc3RhdGU6IEFycmF5PEFycmF5PEJvb2xlYW4+PjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzaXplWDogbnVtYmVyLCBzaXplWTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5zaXplWCA9IHNpemVYO1xyXG4gICAgICAgIHRoaXMuc2l6ZVkgPSBzaXplWTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG5ldyBBcnJheShzaXplWCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlW2ldID0gbmV3IEFycmF5KHNpemVZKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZVtpXS5maWxsKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGFuIGluZGl2aWR1YWwgY2VsbCB3aXRoaW4gdGhlIHNuYWtlJ3MgbGlua2VkIGxpc3RcclxuLy8gdGhlIGxpc3QgdHJhdmVscyBmcm9tIHNuYWtlJ3MgdGFpbCB0byBzbmFrZSdzIGhlYWQgKG9wcG9zaXRlIHRvIHdoYXQgb25lIG1pZ2h0IGV4cGVjdClcclxuY2xhc3MgU25ha2VOb2RlIHtcclxuICAgIGNvb3JkOiBDb29yZDtcclxuICAgIG5leHQ6IFNuYWtlTm9kZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb29yZDogQ29vcmQsIG5leHQ6IFNuYWtlTm9kZSkge1xyXG4gICAgICAgIHRoaXMuY29vcmQgPSBjb29yZDtcclxuICAgICAgICB0aGlzLm5leHQgPSBuZXh0O1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBzdG9yZXMgcmVsZXZhbnQgaW5mb3JtYXRpb24gYWJvdXQgc25ha2UgbGlrZSB3aGVyZSBpdHMgaGVhZCBhbmQgdGFpbCBpcyBhbmQgd2hlcmUgaXQncyBjdXJyZW50bHkgdHJhdmVsbGluZ1xyXG5jbGFzcyBTbmFrZSB7XHJcbiAgICBoZWFkOiBTbmFrZU5vZGU7XHJcbiAgICB0YWlsOiBTbmFrZU5vZGU7XHJcblxyXG4gICAgZGlyOiBEaXJlY3Rpb24gPSBudWxsO1xyXG4gICAgbGFzdERpcjogRGlyZWN0aW9uID0gRGlyZWN0aW9uLlJpZ2h0O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNwYXduWDogbnVtYmVyLCBzcGF3blk6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuaGVhZCA9IG5ldyBTbmFrZU5vZGUobmV3IENvb3JkKHNwYXduWCwgc3Bhd25ZKSwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy50YWlsID0gbmV3IFNuYWtlTm9kZShuZXcgQ29vcmQoc3Bhd25YIC0gMSwgc3Bhd25ZKSwgdGhpcy5oZWFkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBzZXQgdGhlIGRpcmVjdGlvbiBzbmFrZSB3aWxsIHRyYXZlbCBuZXh0IHRpY2sgYnV0IG5vdCBhbGxvd2luZyBpdCB0byB0cmF2ZWwgYmFjayBvbiBpdHNlbGZcclxuICAgIHNldERpcihkaXI6IERpcmVjdGlvbikge1xyXG4gICAgICAgIGlmIChkaXIgPT0gb3Bwb3NpdGVEaXJlY3Rpb24odGhpcy5sYXN0RGlyKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRpciA9IGRpcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGVsbCB0aGUgc25ha2UgdG8gbW92ZSBvbmUgY2VsbFxyXG4gICAgc3RlcCgpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuZGlyKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRGlyZWN0aW9uLlVwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RGlyID0gRGlyZWN0aW9uLlVwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oZWFkLm5leHQgPSBuZXcgU25ha2VOb2RlKG5ldyBDb29yZCh0aGlzLmhlYWQuY29vcmQueCwgdGhpcy5oZWFkLmNvb3JkLnkgLSAxKSwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhlYWQgPSB0aGlzLmhlYWQubmV4dDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIERpcmVjdGlvbi5Eb3duOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RGlyID0gRGlyZWN0aW9uLkRvd247XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhlYWQubmV4dCA9IG5ldyBTbmFrZU5vZGUobmV3IENvb3JkKHRoaXMuaGVhZC5jb29yZC54LCB0aGlzLmhlYWQuY29vcmQueSArIDEpLCBudWxsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGVhZCA9IHRoaXMuaGVhZC5uZXh0O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRGlyZWN0aW9uLkxlZnQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3REaXIgPSBEaXJlY3Rpb24uTGVmdDtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGVhZC5uZXh0ID0gbmV3IFNuYWtlTm9kZShuZXcgQ29vcmQodGhpcy5oZWFkLmNvb3JkLnggLSAxLCB0aGlzLmhlYWQuY29vcmQueSksIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oZWFkID0gdGhpcy5oZWFkLm5leHQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBEaXJlY3Rpb24uUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3REaXIgPSBEaXJlY3Rpb24uUmlnaHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhlYWQubmV4dCA9IG5ldyBTbmFrZU5vZGUobmV3IENvb3JkKHRoaXMuaGVhZC5jb29yZC54ICsgMSwgdGhpcy5oZWFkLmNvb3JkLnkpLCBudWxsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGVhZCA9IHRoaXMuaGVhZC5uZXh0O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgZ2FtZSA9IG5ldyBHYW1lKDMyLCAzMik7XHJcbmdhbWUuR2FtZUluaXQoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=